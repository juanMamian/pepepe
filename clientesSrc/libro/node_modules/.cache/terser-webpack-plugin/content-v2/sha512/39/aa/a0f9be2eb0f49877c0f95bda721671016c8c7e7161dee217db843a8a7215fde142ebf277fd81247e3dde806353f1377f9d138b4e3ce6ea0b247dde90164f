{"map":{"version":3,"sources":["js/app.a56c87c7.js"],"names":["modules","webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","0","034f","__webpack_exports__","0705","0d62","1","10","11","12","13","14","1d2e","2","2191","28b8","3","3593","3a36","3d30","4","4a8c","4fc3","5","5301","559e","56d7","_templateObject","_templateObject2","_templateObject3","_templateObject4","CuadroTextovue_type_script_lang_js_templateObject","CuadroTextovue_type_script_lang_js_templateObject2","CuadroTextovue_type_script_lang_js_templateObject3","CuadroTextovue_type_script_lang_js_templateObject4","_templateObject5","Paginavue_type_script_lang_js_templateObject","Paginavue_type_script_lang_js_templateObject2","Paginavue_type_script_lang_js_templateObject3","Paginavue_type_script_lang_js_templateObject4","Librovue_type_script_lang_js_templateObject","Librovue_type_script_lang_js_templateObject2","Librovue_type_script_lang_js_templateObject3","Librovue_type_script_lang_js_templateObject4","Librovue_type_script_lang_js_templateObject5","_templateObject6","MisLibrosvue_type_script_lang_js_templateObject","MisLibrosvue_type_script_lang_js_templateObject2","IconoPersonaAutonomovue_type_script_lang_js_templateObject","IconoPersonaAutonomovue_type_script_lang_js_templateObject2","TodosLibrosvue_type_script_lang_js_templateObject","Schema_templateObject","vue_runtime_esm","Appvue_type_template_id_456165ba_render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","on","libroSeleccionado","seleccionarLibro","_e","idLibroSeleccionado","ref","idLibro","staticRenderFns","Librovue_type_template_id_244c17b1_scoped_true_render","staticClass","click","$event","idPaginaSeleccionada","directives","rawName","editandoTitulo","expression","_s","libro","titulo","class","letrasRojas","nuevoTituloIlegal","type","domProps","keypress","indexOf","_k","keyCode","guardarNuevoTitulo","input","target","composing","nuevoTitulo","src","alt","title","stopPropagation","toggleEditandoTitulo","_l","pagina","index","paginaDerecha","estaPagina","seleccionada","segundoPlano","meElimine","removePaginaFromCache","tengoNuevoCuadroTexto","updateCacheConNuevoCuadroTexto","tengoNuevoCuadroImagen","updateCacheConNuevoCuadroImagen","elimineCuadroTexto","removeCuadroTextoFromCache","elimineCuadroImagen","removeCuadroImagenFromCache","nativeOn","deshabilitado","creandoPagina","crearNuevaPaginaLibro","Librovue_type_template_id_244c17b1_scoped_true_staticRenderFns","taggedTemplateLiteral","src_default","Paginavue_type_template_id_aa2cb084_scoped_true_render","uploadingInfo","cursorTexto","creandoTexto","cursorImagen","creandoImagen","style","estiloColumna","estiloSize","estiloApariencia","mousedown","button","accionCrearElemento","mousemove","resizeFantasmaElemento","mouseup","endDibujandoElemento","idElementoSeleccionado","eliminarse","$refs","inputColorPagina","staticStyle","display","change","guardarNuevoColor","colorSeleccionado","creacionTexto","desactivarHerramientas","creacionImagen","estiloLayoutFantasmaTexto","estiloLayoutFantasmaImagen","cuadroImagen","refInFor","primerPlano","esteCuadroImagen","idPagina","sizePagina","size","seleccionado","paginaSeleccionada","zBase","zElementos","$emit","resolverSeleccion","cuadroTexto","esteCuadroTexto","Paginavue_type_template_id_aa2cb084_scoped_true_staticRenderFns","dist","CuadroImagenvue_type_template_id_2e27fb58_scoped_true_render","conAudio","audio","updatingInfo","enPaginaSeleccionada","estiloLayout","playAudio","urlImagen","versionImagen","posicionZeta","iniciarDrag","drag","finDrag","enDuda","sizeResizeHandle","iniciarResize","resize","finResize","uploadArchivoCuadroImagen","urlAudio","CuadroImagenvue_type_template_id_2e27fb58_scoped_true_staticRenderFns","axios","axios_default","debounce","debounce_default","CuadroImagenvue_type_script_lang_js_","props","String","Boolean","archivoCuadroImagenPagina","Number","resizing","dragging","posicion","x","y","computed","top","left","width","height","zIndex","serverUrl","sizeDragHandle","methods","play","e","cuadroPos","$el","getBoundingClientRect","nuevox","clientX","nuevoy","clientY","nuevoxP","Math","floor","nuevoyP","$set","$apollo","mutate","mutation","variables","idCuadroImagen","nuevoSize","console","log","elemPagina","closest","posPagina","posMouse","nuevaPos","offsetWidth","offsetHeight","nuevaPosP","round","nuevoPosicion","_this","datos","FormData","inputArchivoImagen","append","files","method","url","headers","Content-Type","Authorization","$store","state","token","then","_ref","res","concat","catch","error","guardarPosicionZeta","nuevoPosicionZ","_this2","confirm","_ref2","eliminarCuadroImagenLibro","watch","mounted","sinArchivo","components_CuadroImagenvue_type_script_lang_js_","componentNormalizer","component","CuadroImagen","CuadroTextovue_type_template_id_00916214_render","estiloFormato","estiloFontSize","estiloVisibilidadTexto","iniciarEdicionTexto","texto","estiloFontSizeInput","nuevoTexto","estiloInputDummy","guardarNuevoTexto","estiloDummy","CuadroTextovue_type_template_id_00916214_staticRenderFns","CuadroTextovue_type_script_lang_js_","fontSizeDummy","fontSizeInputDummy","fontSizeTexto","fontSizeInput","editandoTexto","textAlign","formato","alineacion","color","colorLetra","fontFamily","tipoLetra","fontSize","visibility","$nextTick","findFontSize","idCuadroTexto","hTexto","hDummy","textoDummy","wDummy","scrollWidth","wTexto","findFontSizeInput","_this3","hInput","inputNuevoTexto","dummyInput","scrollHeight","wInput","_this4","alert","_this5","focus","_this6","eliminarCuadroTextoLibro","_this7","_this8","nuevo","_this9","components_CuadroTextovue_type_script_lang_js_","CuadroTexto_component","CuadroTexto","HerramientasEdicionvue_type_template_id_2c9e7702_scoped_true_render","hSeleccionada","herramientaSeleccionada","HerramientasEdicionvue_type_template_id_2c9e7702_scoped_true_staticRenderFns","HerramientasEdicionvue_type_script_lang_js_","reset","components_HerramientasEdicionvue_type_script_lang_js_","HerramientasEdicion_component","HerramientasEdicion","Paginavue_type_script_lang_js_","components","preparada","default","visible","ancho","alto","dibujandoTexto","dibujandoImagen","posFantasmaTexto","sizeFantasmaTexto","posFantasmaImagen","sizeFantasmaImagen","gridColumn","justifySelf","backgroundColor","eliminarPaginaDeLibro","posClick","sizeFantasma","_sizeFantasma","herramientasEdicion","crearTextoFromFantasma","crearCuadroImagenFromFantasma","datosPosicion","datosSize","fragmentoCuadroImagen","crearCuadroImagenPaginaLibro","JSON","stringify","fragmentoCuadroTexto","errorPolicy","_ref3","crearCuadroTextoPaginaLibro","message","graphQLErrors","idElemento","nuevoColor","components_Paginavue_type_script_lang_js_","Pagina_component","Pagina","charProhibidosTitulo","fragmentoPagina","QUERY_LIBRO","Librovue_type_script_lang_js_","apollo","query","skip","fetchPolicy","paginas","paginasOrdenadas","aPags","sort","a","b","parseInt","numPag","test","enviandoNuevoTitulo","dis","store","provider","defaultClient","cache","readQuery","nuevoCache","parse","writeQuery","indexP","findIndex","nuevoCuadroImagen","laPagina","find","cuadrosImagen","some","nuevoCuadroTexto","cuadrosTexto","indexC","components_Librovue_type_script_lang_js_","Libro_component","Libro","MisLibrosvue_type_template_id_24147a09_scoped_true_render","crearNuevoLibro","portada","MisLibrosvue_type_template_id_24147a09_scoped_true_staticRenderFns","QUERY_MIS_LIBROS","MisLibrosvue_type_script_lang_js_","misLibros","usuario","components_MisLibrosvue_type_script_lang_js_","MisLibros_component","MisLibros","TodosLibrosvue_type_template_id_1567976c_scoped_true_render","editor","idPersona","TodosLibrosvue_type_template_id_1567976c_scoped_true_staticRenderFns","IconoPersonaAutonomovue_type_template_id_1d1d781e_scoped_true_render","yo","soyYo","load","fotografiaEnabled","_t","nombreSeleccionado","estaPersona","nombres","copiarId","username","placeholder","nuevoPermiso","addPermisos","opcionCx","evento","textoVisible","IconoPersonaAutonomovue_type_template_id_1d1d781e_scoped_true_staticRenderFns","QUERY_PERSONA","IconoPersonaAutonomovue_type_script_lang_js_","idUsuario","update","publicUsuario","permisos","menuContextual","opcionesMenuCx","Array","str","innerText","trim","el","document","createElement","body","appendChild","select","execCommand","removeChild","fotografiaCargada","beforeRouteUpdate","components_IconoPersonaAutonomovue_type_script_lang_js_","IconoPersonaAutonomo_component","IconoPersonaAutonomo","QUERY_TODOS_LIBROS","TodosLibrosvue_type_script_lang_js_","todosLibros","usuarioSuperadministrador","includes","components_TodosLibrosvue_type_script_lang_js_","TodosLibros_component","TodosLibros","Appvue_type_script_lang_js_","elLibro","scrollIntoView","behavior","uri","location","search","substring","params","URLSearchParams","commit","localStorage","setItem","clear","src_Appvue_type_script_lang_js_","App_component","App","objectSpread2","bundle_esm","lib_bundle_esm","apollo_link_http_lib_bundle_esm","vue_apollo_esm","typeDefs","resolvers","apollo_link_lib_bundle_esm","apollo_link_ws_lib_bundle_esm","apollo_utilities_lib_bundle_esm","apollo_link_context_lib_bundle_esm","use","getToken","getItem","wsServerUrl","substr","httpLink","wsLink","options","reconnect","connectionParams","authLink","_","authorization","errorLink","networkError","apollo_link","finalLink","_ref4","definition","kind","operation","apolloClient","link","connectToDevTools","apolloProvider","vuex_esm","parseJwt","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","charCodeAt","toString","join","Store","mutations","setToken","setUserInfo","deslogearse","config","productionTip","mixin","render","h","$mount","6","699c","7","7eb6","8","85ec","885c","9","9262","b13e","b8ad","bf1b","dd1f","df69","e3b7","ef95","fef7"],"mappings":"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"},"code":"(function(i){function o(o){for(var t,s,r=o[0],u=o[1],d=o[2],l=0,A=[];l<r.length;l++)s=r[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&A.push(n[s][0]),n[s]=0;for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(i[t]=u[t]);c&&c(o);while(A.length)A.shift()();return a.push.apply(a,d||[]),e()}function e(){for(var i,o=0;o<a.length;o++){for(var e=a[o],t=!0,r=1;r<e.length;r++){var u=e[r];0!==n[u]&&(t=!1)}t&&(a.splice(o--,1),i=s(s.s=e[0]))}return i}var t={},n={app:0},a=[];function s(o){if(t[o])return t[o].exports;var e=t[o]={i:o,l:!1,exports:{}};return i[o].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=i,s.c=t,s.d=function(i,o,e){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:e})},s.r=function(i){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(i,\"__esModule\",{value:!0})},s.t=function(i,o){if(1&o&&(i=s(i)),8&o)return i;if(4&o&&\"object\"===typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:i}),2&o&&\"string\"!=typeof i)for(var t in i)s.d(e,t,function(o){return i[o]}.bind(null,t));return e},s.n=function(i){var o=i&&i.__esModule?function(){return i[\"default\"]}:function(){return i};return s.d(o,\"a\",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p=\"/tallerCuentos/\";var r=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[],u=r.push.bind(r);r.push=o,r=r.slice();for(var d=0;d<r.length;d++)o(r[d]);var c=u;a.push([0,\"chunk-vendors\"]),e()})({0:function(i,o,e){i.exports=e(\"56d7\")},\"034f\":function(i,o,e){\"use strict\";e(\"85ec\")},\"0705\":function(i,o,e){\"use strict\";e(\"3593\")},\"0d62\":function(i,o,e){\"use strict\";e(\"fef7\")},1:function(i,o){},10:function(i,o){},11:function(i,o){},12:function(i,o){},13:function(i,o){},14:function(i,o){},\"1d2e\":function(i,o){i.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAC8i1q6i1zyu1n2vVq3kUr/tki6i1vyvFm5i1xmXWZ9c2W3il2xiF7kpVqQgmuziV7uuFmpg2GrhmChgmHuuFntuVquhl/TmlrTqmCrhmCvh1+yiF7OqWDHlVqmg2Kog2KigWONd2aDdG3uvVrzvFq7jF349uzkpVvyu1rxuVrVm1vlp1rrsFrorFrJpX/08OP37tnzw2zCmW7w6NrstFr169ns4tHnsG3Ut5fIoHPAkWD07+Pv4cfk1L/VupvNrInYpm3xwGzutFov9SsWAAAAJXRSTlMAH9/fHwcHt7d+Bg38ubca5LeUij7v3863tK+mpI+PbVtFLSMf1QcYpQAAAOxJREFUWMPt10eywjAMgOG8R0+l914EhE4SEnq7/51gCyEOGnvF6D/ANyNbG0kURVE/lhwLCcf1WrUEu3oe4+U1FcJKIbyuBmAtmKFAOQewdQ9LRq6FAY0SLOwhMxsF/v3DeSgY3IoGd65gEC4ne/NsFdBxt29GDQwIe+vqed5tHZDjFCIVAwMCTEajqTlgFIkSSCCBBBJIIIEEvoLmzJ8z5gHn/rjAwfhDvG/o0zhB0zcvF/j+L3c8mGaOjF8bpSp4D6W2KhhUsioeZIu59BdgsY849zpZrazreiYZXKahIA/weEiyRFEU9Ts9APjdERj5ZBqjAAAAAElFTkSuQmCC\"},2:function(i,o){},2191:function(i,o){i.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAMAAADGfvrlAAAAtFBMVEUAAAAAAAACAgIAAAAAAAAAAAAGBgYAAAAAAAAAAAAFBQUAAAABAQEGBgYCAgIAAAAAAAAEBAQFBQUAAAAAAAABAQEDAwMCAgIAAAAAAAAAAAAFBQUAAAAGBgYAAAAAAAAAAAAAAAADAwMBAQEAAAABAQEBAQEBAQEBAQEDAwMBAQEAAAACAgIBAQECAgIAAAAAAAABAQEAAAAAAAABAQEBAQEBAQEDAwMAAAAAAAAAAAAAAAAAI6fdAAAAO3RSTlMABQvg9KseO8T3ho92RZ0X129r+9M/KzjxyZkU3Q/ov7ykMiHOtV5SJRqplEx/ZK6gconruWhZQwmCwUKZof4AAAMbSURBVEjHpZeJlqIwEEUDuNGiIiACoqIi4761S9vv//9rwgxYgqB4fMfjEnOTkKpUVViuxN7E7HbNWasvsLfUq7aXniENLGsgGUOn3WkVJfurum8hIctf/umx15prxxKAkjvcHZR2W/naeWo4lDzcT17NevrVgcFUaVTE28NXOsp2AMDeP519teWof+1GIEnorm0A0z/5+6tIgKHkrK6y5/j3OmfyWROw6mOWq9nhGxhlduhMAfvMnuqPB3idDHZIo+bL3AHDS7q1y1mnkmocbzbdVFPrwOnU3JMyUO+nOgYq4J5YSmvgaCYssQSa6X2c+PB9qGbaanXe936eto7t5MHosjs2Df3BtPMRoNw9sAGjEw/cinXSDXNW09u3hp94K2y4jdtCmtC1eNN3hhpJAlRVhxT/NhareDNKGImx9fj3aFSzBjlXMKrRbA7kIPLKBQbxKvbwg0aky78XKbBxjbpVXUz7/zemhCWLVIfDcnXAKA4qX5DP0Rq+OwTbX7n6JXgsYRE+qck/BXYb8amcW0cHg9CXN7q+IQ93yk/UXNERkbHnq97Bnd35z1PdeYqBrcBaBsoCe19NuBPWtaAkm09Knz2quk4eMA2lBgt0eZUMN6pF3Uh1XJPn34LG1hiYSVgqVTOXWU/GJIk3OFDnWTDfh/hdyIJ7PkZsAbufAZvLTWjGpcm7HZQMWPyFx46oiRnwCZ7IRA98iGrJrTzCwhQ1VsuG22GzWIMWwlIWXIbNjm/DNDM985sw/8+j3S4M026TnQvDZGfysMIweRj5dmGYfJtOVWGYThWd58IwnWeKJEVhiiRRDPt5A6YYRtGzMEzRk+J2UZjiNmWMwjBlDMpVYgrWIniTgilX0XddIyOoMk/JF/srXJ194Y445blc2II3JLPkY35mPws44RhCOOyccbX6vIurB+whPz9WBoGuX+dCQmJ1gVolqzKgmoR+GNPyvTwJ0vm+JhFzq6He2tWRlOydU9VQfh1mBnvlXlqjlarDPq8ASdX3as/Pq97P6+3PK/3Xd4x27/Pbzef3qs9vdK/vkmJuvfMXl9icGVrQDtsAAAAASUVORK5CYII=\"},\"28b8\":function(i,o){i.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAAyMjIxMTE0NDQqKipBQUEwMDAjIyMxMTExMTEyMjI4ODgxMTFMTEw1NTUrKysjIyMwMDAxMTExMTE1NTUxMTEzMzMwMDAxMTExMTE4ODgwMDAxMTEvLy8gICB/f38yMjIxMTExMTEvLy8xMTExMTEuLi4wMDAyMjIyMjIxMTEvLy8xMTEyMjIxMTEwMDAzMzMuLi42NjYyMjIxMTExMTExMTEwMDAvLy8wMDAwMDAwMDAtLS0tLS0zMzMvLy80NDQ2NjY4ODgzMzN6YhNIAAAAQ3RSTlMA/fT6PVlzBiXd+8TnFCIJA3j7+BjxZS8N2ZFdz78OBO/kyrWmn5trUjspHOu8r5RJQzXV0sWQghKrqIpuWFZPpnmWvT1N0wAAAodJREFUWMPtl9mWmkAQQGlibDWGRRYhIMEFwX0Zt9FxMhP//5+C09UJKnhsOicv4T41p+BC2VWFCAUFBQX/D4peSWLx+ix1XU1gBwNOYVlDpyRouuPy4Sn1UdrDB6+UsZCC/HYttCuP6HSn3+2bo5TI3K2hGJJujLFVHvBFE+18/tpJiQ1CVVUDdI6/qWo5emSbFy6kU33NOkOMo58+C4/h9RAI0UQSUikxCY/+idJQ/4LQSlQGWo/4hYt6omxFh1uobFCyEXoWr1ByLxuhxCt0RHg2ui2cQtyHLugYxDjZ8QmHT8QjmhNiNiI+YblBhK6kwmqGeYRWFzLeKHMfcpd4hCUoQuOHIK3IUjM5hPgAm/skCXiGoBTl/MJRByRBLIkMkA/zC+dj2OPz3KrYkHOYVwhZxqzOM0Hew9HUyiukz4SCj1IxNXJYH+QVUoPmXPq3OYXyM+TY0cnoppNxrecTDugk7OPLtjGiXEJFrcEeO7/vAFU0w3mEuy6ihfedoLdA6Ep5hCWacfvnN8BGtP1yCJUDAiH6wwnYy2xCmP3ZVIfswlfxjhCVmYU4QPeELZ1VuGyf7lEvsQmh7bJpbBU2oQdtl0lnxCYcjOFC8cslPqIvBTbhC7Qt6kpfk+g9BIGDwiKUe3Q7t8rtnWAEsQh1l2ZMM6M0bbrPSxbhckz/s+qpzw7XMwh9qI7yTSjU8ghhdKFV87bHYYbZJCQPm81m+CF8j1dSltFpoxg/TAtVUYzxTt7cs2q9Xic/0DherV6UjOEV9VutZxOnvq3jUHDEZKo3rj/NFpnTwfOsrKLyPAwn7a8bCpkCD3hzLTTmAhfLrlhL4m8sgQ/pWE4QLmShoKCg4J/zC0L99j/wenPiAAAAAElFTkSuQmCC\"},3:function(i,o){},3593:function(i,o,e){},\"3a36\":function(i,o,e){\"use strict\";e(\"3d30\")},\"3d30\":function(i,o,e){},4:function(i,o){},\"4a8c\":function(i,o){i.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMA+/m7FsEEiBPmECX07x+ck5iQY1wMBt46InFINCkb6tXQyLaNf6x7QVdRTy0IysOjdbIknQAAAAI9SURBVGje7dbplqowDAfwUpACgqCCoHIRRdxny/s/3PWunmGxtIEPc6a/F/ifJoSEKIqiKMr39DJelWRQi3H4HsOKDMi4THMXIB6TwaRs62pw9/5CBrGYzAsX/nBDMgBzefFj+C8foFrOerb14EGbLvqOuB13vxvx4F76LZMRHjyo2ho9RmTrYAsNWG8J0YntPGjipj1FjFcjj0KzwuyjEdbV30C7OT7COLFXCk/kE+z/NSlHG3gOOSTZXN9owOFdMY1YBzF08CpdLSsp31zoQpuZco9IP3QbOnLXMhFGeLApdLZzhN8QJfschBxF11DyobsgxruJhvgg7EBETXQQdSbCliMNePCb5McIhMgNyVIXajt/SPB92WWy66l7Xyh/7+L74p0Qq7ZrxUYR4cH3hX/K4+fF5h+n+L74hAc/L/RKsCYFd0gsgpbyNjwz0RlO6cFTmxM6I2KUNyQGOmOm8dp+RNeK8TJgkyAzLEaBp1gg37GnwDVHZgQacMUZrlb3nvMFuIxarbwYeZzWM4JqBi1TvT4kDibDr9ZKY07DfjmamHfUMmZRw963EUNi1GvFoqb9UljyGdN6htO0X+hKPqPej73TuPftW48ZgdN8jx1k257VazVzPu/9N/grJJIYVDP2Vss9lktvkrNd/XattnuMEWlz+1PG1Gm7k72E9JNCA6v1HtMjRIgZ2o8Mo/0eWxGUfynatL21Ez8lfaRovkHaLUxkiPmrL/SewYFPuddqaGeWEUVRFEVRvqqfnnZk9rlieAEAAAAASUVORK5CYII=\"},\"4fc3\":function(i,o){i.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC\"},5:function(i,o){},5301:function(i,o,e){},\"559e\":function(i,o){i.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAMAAAD26OlUAAAAtFBMVEUAAAAAAAAAAAAAAAAaGhoCAgIDAwMBAQEQEBAAAAABAQEBAQECAgIAAAABAQEBAQECAgIEBAQBAQEAAAAFBQUDAwMDAwMAAAAAAAACAgIDAwMFBQUGBgYAAAABAQEBAQEDAwMDAwMICAgJCQkMDAwBAQEBAQEBAQECAgIBAQECAgICAgICAgIGBgYGBgYNDQ0EBAQCAgIEBAQBAQEBAQEDAwMCAgIDAwMEBAQFBQUQEBAAAAAlv8O7AAAAO3RSTlMAvz/5B4MexQP7YBe0n+vmf03b2F0SC+DPqVlRLfbKo3lENiEP89PAu66Ja2dJOjIncUfthpmTjT4pJj+7kzoAAAIXSURBVDjLnZTnlrIwEIbHDaEI0lFAQFGkWrBty/3f16cU0Q3sd86+vybwnMnUwJ/FWGxZshbzOyVqOLN1RdHtDGviILa/2D5S7ESSEltBvn3Z92JePhPid9ezpgwztTz3PRZmuUdzZkCSgoUnsUVCAvMHxqsbRW2xDlWVjcq/pJqTZA49mickfy4AJtJ+IEGJ4O50JOkKBrRKybG1T7r9RhNtGd9s/VRbUwdtae7NGTfWFjnTyhijCUNzIzJrSGaCKiuS5JDu+JKQBxnKUgQA2mZBOSxFdtKRzGKjAcAHcul7J2xN1mm46APA4gyWjo/U5KiuGmtwFhxkh6e5mhw1VeMd+QAawjRXk2L56BzSYCuMKa7WsstxLGxhKcz7udFTt+bCErC/+y8HOx93HmnuxeNLjOKC5toYn7NmwDVors3akzO+qZZ5AFfv4/hM9sDi9HV9jALpAKZOc7DWOQsgR82mfSmkIikOTJTfU2+nR/PJnQyprbhNz66ax/Op2ZybnDVQOp2lqJ7wyiV/VbjJUpsC7RCN250pqn0rLR56VLQ7A6ERhzCoMDYefwthtB/i9iOh6E4qST/7uc+UqM+lx4Trf3s4gl8DV88ypiqzxvJZhR9yOcId1y/Y8fbJBUrlZUaMq+mJ9xdX9MyrQWaXr/6HCwc+kmMuTblYRn6AVzAkcadmgaEoRpCpOxF+FR+J399iRPXoHwT7P6mwTTR1AAAAAElFTkSuQmCC\"},\"56d7\":function(i,o,e){\"use strict\";e.r(o);e(\"e260\"),e(\"e6cf\"),e(\"cca6\"),e(\"a79d\"),e(\"caad\"),e(\"2532\");var t,n,a,s,r,u,d,c,l,A,m,g,h,f,p,v,x,b,y,C,T,I,P,z,L,S=e(\"2b0e\"),E=function(){var i=this,o=i.$createElement,e=i._self._c||o;return e(\"div\",{attrs:{id:\"app\"}},[e(\"center\",[e(\"h2\",[i._v(\"Taller de creacin de cuentos\")])]),i.usuarioSuperadministrador?e(\"todos-libros\",{on:{libroSeleccionado:i.seleccionarLibro}}):i._e(),e(\"mis-libros\",{on:{libroSeleccionado:i.seleccionarLibro}}),null!=i.idLibroSeleccionado?e(\"libro\",{ref:\"elLibro\",attrs:{idLibro:i.idLibroSeleccionado}}):i._e()],1)},w=[],D=(e(\"841c\"),e(\"ac1f\"),e(\"2b3d\"),e(\"d3b7\"),e(\"3ca3\"),e(\"ddb0\"),function(){var i=this,o=i.$createElement,t=i._self._c||o;return t(\"div\",{staticClass:\"libro\",on:{click:function(o){i.idPaginaSeleccionada=null}}},[t(\"div\",{attrs:{id:\"zonaTitulo\"}},[t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!i.editandoTitulo,expression:\"!editandoTitulo\"}],attrs:{id:\"titulo\"}},[i._v(\" \"+i._s(i.libro.titulo)+\" \")]),t(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.nuevoTitulo,expression:\"nuevoTitulo\"},{name:\"show\",rawName:\"v-show\",value:i.editandoTitulo,expression:\"editandoTitulo\"}],class:{letrasRojas:i.nuevoTituloIlegal},attrs:{type:\"text\",id:\"inputNuevoTitulo\"},domProps:{value:i.nuevoTitulo},on:{keypress:function(o){return!o.type.indexOf(\"key\")&&i._k(o.keyCode,\"enter\",13,o.key,\"Enter\")?null:i.guardarNuevoTitulo(o)},input:function(o){o.target.composing||(i.nuevoTitulo=o.target.value)}}}),t(\"div\",{attrs:{id:\"controlesTitulo\"}},[t(\"img\",{staticClass:\"bEditarTitulo\",attrs:{src:e(\"559e\"),alt:\"Editar\",id:\"bEditarrTitulo\",title:\"Editar titulo del libro\"},on:{click:function(o){return o.stopPropagation(),i.toggleEditandoTitulo(o)}}}),t(\"img\",{directives:[{name:\"show\",rawName:\"v-show\",value:1==i.editandoTitulo&&0==i.nuevoTituloIlegal,expression:\"editandoTitulo == true && nuevoTituloIlegal == false\"}],staticClass:\"bEditarTitulo\",attrs:{src:e(\"4fc3\"),alt:\"Guardar\",title:\"guardar\",id:\"bGuardarNuevoTitulo\"},on:{click:function(o){return o.stopPropagation(),i.guardarNuevoTitulo(o)}}})])]),t(\"div\",{attrs:{id:\"contenedorPaginas\"}},i._l(i.paginasOrdenadas,(function(o,e){return t(\"pagina\",{key:o.id,attrs:{paginaDerecha:e%2>0||0==e,estaPagina:o,idLibro:i.idLibro,seleccionada:i.idPaginaSeleccionada==o.id,segundoPlano:null!=i.idPaginaSeleccionada&&i.idPaginaSeleccionada!=o.id},on:{meElimine:function(e){return i.removePaginaFromCache(o.id)},tengoNuevoCuadroTexto:function(e){return i.updateCacheConNuevoCuadroTexto(e,o.id)},tengoNuevoCuadroImagen:function(e){return i.updateCacheConNuevoCuadroImagen(e,o.id)},elimineCuadroTexto:function(e){return i.removeCuadroTextoFromCache(e,o.id)},elimineCuadroImagen:function(e){return i.removeCuadroImagenFromCache(e,o.id)}},nativeOn:{click:function(e){e.stopPropagation(),i.idPaginaSeleccionada=o.id}}})})),1),t(\"div\",{class:{deshabilitado:i.creandoPagina},attrs:{id:\"bCrearNuevaPagina\"},on:{click:function(o){return o.stopPropagation(),i.crearNuevaPaginaLibro(o)}}},[i._v(\" Crear nueva pgina \")])])}),M=[],$=e(\"8785\"),O=(e(\"c740\"),e(\"a434\"),e(\"99af\"),e(\"7db0\"),e(\"aa5a\")),j=e.n(O),F=function(){var i=this,o=i.$createElement,t=i._self._c||o;return t(\"div\",{staticClass:\"pagina\",class:{seleccionada:i.seleccionada,deshabilitado:i.uploadingInfo,segundoPlano:i.segundoPlano,cursorTexto:i.creandoTexto,cursorImagen:i.creandoImagen},style:[i.estiloColumna,i.estiloSize,i.estiloApariencia],on:{mousedown:function(o){return!o.type.indexOf(\"key\")&&i._k(o.keyCode,\"left\",37,o.key,[\"Left\",\"ArrowLeft\"])||\"button\"in o&&0!==o.button?null:(o.stopPropagation(),i.accionCrearElemento(o))},mousemove:i.resizeFantasmaElemento,mouseup:i.endDibujandoElemento,click:function(o){i.idElementoSeleccionado=null}}},[t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionada,expression:\"seleccionada\"}],staticClass:\"zonaControlesPagina\"},[t(\"img\",{staticClass:\"bControlesPagina bEliminarPagina\",attrs:{src:e(\"2191\"),title:\"Eliminar esta pgina\"},on:{click:i.eliminarse}}),t(\"img\",{staticClass:\"bControlesPagina bSelectColorPagina\",attrs:{src:e(\"df69\"),alt:\"Color\",title:\"Seleccionar color de la pgina\"},on:{click:function(o){return o.stopPropagation(),i.$refs.inputColorPagina.click()}}})]),t(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.colorSeleccionado,expression:\"colorSeleccionado\"}],ref:\"inputColorPagina\",staticStyle:{display:\"none\"},attrs:{type:\"color\"},domProps:{value:i.colorSeleccionado},on:{change:i.guardarNuevoColor,input:function(o){o.target.composing||(i.colorSeleccionado=o.target.value)}}}),t(\"herramientas-edicion\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionada,expression:\"seleccionada\"}],ref:\"herramientasEdicion\",on:{creacionTexto:function(o){i.desactivarHerramientas(),i.creandoTexto=!0},creacionImagen:function(o){i.desactivarHerramientas(),i.creandoImagen=!0},mousedown:function(i){i.stopPropagation()},mouseup:function(i){i.stopPropagation()}}}),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.dibujandoTexto,expression:\"dibujandoTexto\"}],staticClass:\"fantasmaElemento\",style:[i.estiloLayoutFantasmaTexto],attrs:{id:\"fantasmaTexto\"}}),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.dibujandoImagen,expression:\"dibujandoImagen\"}],staticClass:\"fantasmaElemento\",style:[i.estiloLayoutFantasmaImagen],attrs:{id:\"fantasmaImagen\"}}),i._l(i.estaPagina.cuadrosImagen,(function(o){return t(\"cuadro-imagen\",{key:o.id,ref:\"cuadroImagen\"+o.id,refInFor:!0,staticClass:\"elementoPagina\",class:{primerPlano:i.idElementoSeleccionado==o.id},attrs:{esteCuadroImagen:o,idLibro:i.idLibro,idPagina:i.estaPagina.id,sizePagina:i.size,seleccionado:i.idElementoSeleccionado==o.id&&i.seleccionada,paginaSeleccionada:i.seleccionada,zBase:i.zElementos},on:{meElimine:function(e){return i.$emit(\"elimineCuadroImagen\",o.id)}},nativeOn:{click:function(e){return i.resolverSeleccion(e,o.id)}}})})),i._l(i.estaPagina.cuadrosTexto,(function(o){return t(\"cuadro-texto\",{key:o.id,staticClass:\"elementoPagina\",class:{primerPlano:i.idElementoSeleccionado==o.id},attrs:{esteCuadroTexto:o,idLibro:i.idLibro,idPagina:i.estaPagina.id,sizePagina:i.size,seleccionado:i.idElementoSeleccionado==o.id&&i.seleccionada,paginaSeleccionada:i.seleccionada,zBase:i.zElementos},on:{meElimine:function(e){return i.$emit(\"elimineCuadroTexto\",o.id)}},nativeOn:{click:function(e){return i.resolverSeleccion(e,o.id)}}})}))],2)},N=[],k=e(\"898b\"),B=function(){var i=this,o=i.$createElement,t=i._self._c||o;return t(\"div\",{staticClass:\"cuadroImagen\",class:{conAudio:i.esteCuadroImagen.audio,deshabilitado:i.updatingInfo,enPaginaSeleccionada:i.paginaSeleccionada},style:[i.estiloLayout],on:{click:i.playAudio}},[t(\"img\",{staticClass:\"imagenContenido\",attrs:{src:i.urlImagen+\"?v=\"+i.versionImagen,alt:\"ilustracion\"}}),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionado,expression:\"seleccionado\"}],attrs:{id:\"zHandlers\"}},[t(\"div\",{staticClass:\"zHandler\",attrs:{id:\"bSendBack\",title:\"Mover hacia atrs\"},on:{click:function(o){i.posicionZeta=i.posicionZeta>0?i.posicionZeta-1:0}}}),t(\"div\",{staticClass:\"zHandler\",attrs:{id:\"bBringFront\",title:\"Mover hacia adelante\"},on:{click:function(o){i.posicionZeta++}}})]),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionado,expression:\"seleccionado\"}],style:i.sizeDragHandle,attrs:{id:\"dragHandle\"},on:{mousedown:function(o){return!o.type.indexOf(\"key\")&&i._k(o.keyCode,\"left\",37,o.key,[\"Left\",\"ArrowLeft\"])||\"button\"in o&&0!==o.button?null:(o.stopPropagation(),i.iniciarDrag(o))},mousemove:i.drag,mouseup:i.finDrag}},[t(\"div\",{class:{enDuda:i.posicionZeta!=i.esteCuadroImagen.posicionZeta},attrs:{id:\"bolitaDragHandle\",title:\"arrastrar\"}},[i._v(i._s(i.posicionZeta))])]),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionado,expression:\"seleccionado\"}],style:[i.sizeResizeHandle],attrs:{id:\"resizeHandle\"},on:{mousedown:function(o){return!o.type.indexOf(\"key\")&&i._k(o.keyCode,\"left\",37,o.key,[\"Left\",\"ArrowLeft\"])||\"button\"in o&&0!==o.button?null:i.iniciarResize(o)},mousemove:i.resize,mouseup:i.finResize}},[t(\"div\",{attrs:{id:\"bolitaResizeHandle\"}})]),t(\"img\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionado,expression:\"seleccionado\"}],attrs:{src:e(\"2191\"),alt:\"Eliminar\",title:\"Eliminar cuadro de imagen\",id:\"bEliminarCuadroImagen\"},on:{click:i.eliminarse}}),t(\"input\",{ref:\"inputArchivoImagen\",staticStyle:{display:\"none\"},attrs:{type:\"file\",id:\"inputArchivoImagen\"},on:{change:i.uploadArchivoCuadroImagen}}),i.esteCuadroImagen.audio?t(\"audio\",{ref:\"audio\",attrs:{type:\"audio/ogg\"}},[t(\"source\",{attrs:{src:i.urlAudio,type:\"audio/ogg\"}})]):i._e()])},U=[],Q=(e(\"a9e3\"),e(\"bc3a\")),Z=e.n(Q),H=e(\"b012\"),R=e.n(H),q={name:\"cuadroImagen\",props:{esteCuadroImagen:Object,idLibro:String,idPagina:String,sizePagina:Object,seleccionado:Boolean,archivoCuadroImagenPagina:Object,paginaSeleccionada:Boolean,zBase:Number},data:function(){return{posicionZeta:0,resizing:!1,dragging:!1,posicion:{x:null,y:null},size:{x:null,y:null},updatingInfo:!1,versionImagen:0}},computed:{estiloLayout:function(){return{top:this.posicion.y+\"%\",left:this.posicion.x+\"%\",width:this.size.x+\"%\",height:this.size.y+\"%\",zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta}},urlImagen:function(){return this.serverUrl+\"/apiCuentos/imagenCuento/\"+this.idLibro+\"/\"+this.idPagina+\"/\"+this.esteCuadroImagen.id},sizeResizeHandle:function(){return{width:this.resizing?\"200px\":\"10px\",height:this.resizing?\"200px\":\"10px\"}},sizeDragHandle:function(){return{width:this.dragging?\"200px\":\"10px\",height:this.dragging?\"200px\":\"10px\"}},urlAudio:function(){return this.serverUrl+\"/apiCuentos/audioImagen/\"+this.idLibro+\"/\"+this.idPagina+\"/\"+this.esteCuadroImagen.id}},methods:{playAudio:function(){this.esteCuadroImagen.audio&&this.$refs.audio.play()},iniciarResize:function(){this.resizing=!0},resize:function(i){if(this.resizing){var o={x:this.$el.getBoundingClientRect().left,y:this.$el.getBoundingClientRect().top},e=i.clientX-o.x-5,t=i.clientY-o.y-5,n=Math.floor(100*e/this.sizePagina.x),a=Math.floor(100*t/this.sizePagina.y);this.posicion.x+n>100&&(n=Math.floor(100-this.posicion.x)),this.posicion.y+a>100&&(a=Math.floor(100-this.posicion.y)),this.$set(this.size,\"x\",n),this.$set(this.size,\"y\",a)}},finResize:function(){this.resizing=!1,this.$apollo.mutate({mutation:Object(k[\"gql\"])(t||(t=Object($[\"a\"])([\"\\n          mutation(\\n            $idLibro: ID!\\n            $idPagina: ID!\\n            $idCuadroImagen: ID!\\n            $nuevoSize: CoordsInput!\\n          ) {\\n            updateSizeCuadroImagen(\\n              idLibro: $idLibro\\n              idPagina: $idPagina\\n              idCuadroImagen: $idCuadroImagen\\n              nuevoSize: $nuevoSize\\n            ) {\\n              id\\n              size {\\n                x\\n                y\\n              }\\n            }\\n          }\\n        \"]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoSize:this.size}})},iniciarDrag:function(){this.dragging=!0},drag:function(i){if(this.dragging){console.log(\"Dragging\");var o=this.$el.closest(\".pagina\"),e=o.getBoundingClientRect(),t={x:i.clientX-e.left,y:i.clientY-e.top},n={x:t.x-this.$el.offsetWidth/2,y:t.y+20};n.x+this.$el.offsetWidth>o.offsetWidth&&(n.x=o.offsetWidth-this.$el.offsetWidth),n.x<0&&(n.x=0),n.y+this.$el.offsetHeight>o.offsetHeight&&(n.y=o.offsetHeight-this.$el.offsetHeight),n.y<0&&(n.y=0);var a={x:Math.round(100*n.x/o.offsetWidth),y:Math.round(100*n.y/o.offsetHeight)};this.posicion=a}},finDrag:function(){this.dragging=!1,this.$apollo.mutate({mutation:Object(k[\"gql\"])(n||(n=Object($[\"a\"])([\"\\n          mutation(\\n            $idLibro: ID!\\n            $idPagina: ID!\\n            $idCuadroImagen: ID!\\n            $nuevoPosicion: CoordsInput!\\n          ) {\\n            updatePosicionCuadroImagen(\\n              idLibro: $idLibro\\n              idPagina: $idPagina\\n              idCuadroImagen: $idCuadroImagen\\n              nuevoPosicion: $nuevoPosicion\\n            ) {\\n              id\\n              posicion {\\n                x\\n                y\\n              }\\n            }\\n          }\\n        \"]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoPosicion:this.posicion}})},uploadArchivoCuadroImagen:function(){var i=this,o=new FormData;this.$refs.inputArchivoImagen.value?(o.append(\"idLibro\",this.idLibro),o.append(\"idPagina\",this.idPagina),o.append(\"idCuadroImagen\",this.esteCuadroImagen.id),o.append(\"imagen\",this.$refs.inputArchivoImagen.files[0]),Z()({method:\"post\",url:this.serverUrl+\"/apiCuentos/subirArchivoCuadroImagen\",data:o,headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \"+this.$store.state.token}}).then((function(o){var e=o.res;console.log(\"Resultado de upload archivo: \".concat(e)),i.versionImagen++})).catch((function(i){console.log(\"Error uploading archivo de cuadroImagen. E: \".concat(i))}))):console.log(\"No haba archivo seleccionado\")},guardarPosicionZeta:R()((function(){this.posicionZeta!=this.esteCuadroImagen.posicionZeta&&(console.log(\"Guardando posicin zeta\"),this.$apollo.mutate({mutation:Object(k[\"gql\"])(a||(a=Object($[\"a\"])([\"\\n          mutation($idLibro:ID!, $idPagina:ID!, $idCuadroImagen:ID!, $nuevoPosicionZ:Int!){\\n            setPosicionZCuadroImagen(idLibro:$idLibro, idPagina:$idPagina, idCuadroImagen:$idCuadroImagen, nuevoPosicionZ:$nuevoPosicionZ){\\n              id\\n              posicionZeta\\n            }\\n          }\\n        \"]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoPosicionZ:this.posicionZeta}}))}),3e3),eliminarse:function(){var i=this;confirm(\"Eliminando cuadro de imagen. Esta operacin no se puede deshacer. Continuar?\")&&(this.updatingInfo=!0,console.log(\"Eliminando un cuadro de imagen\"),this.$apollo.mutate({mutation:Object(k[\"gql\"])(s||(s=Object($[\"a\"])([\"\\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroImagen: ID!) {\\n              eliminarCuadroImagenLibro(\\n                idLibro: $idLibro\\n                idPagina: $idPagina\\n                idCuadroImagen: $idCuadroImagen\\n              )\\n            }\\n          \"]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id}}).then((function(o){var e=o.data.eliminarCuadroImagenLibro;console.log(\"Resultado: \".concat(e)),e&&i.$emit(\"meElimine\")})).catch((function(o){console.log(\"Error. E: \".concat(o)),i.updatingInfo=!1})))}},watch:{posicionZeta:function(){console.log(\"Cambio de posicion zeta\"),this.guardarPosicionZeta()}},mounted:function(){console.log(\"Montado\"),this.$set(this.posicion,\"x\",this.esteCuadroImagen.posicion.x),this.$set(this.posicion,\"y\",this.esteCuadroImagen.posicion.y),this.$set(this.size,\"x\",this.esteCuadroImagen.size.x),this.$set(this.size,\"y\",this.esteCuadroImagen.size.y),this.posicionZeta=this.esteCuadroImagen.posicionZeta,this.esteCuadroImagen.sinArchivo&&(console.log(\"Abriendo el input de archivo\"),this.$refs.inputArchivoImagen.click())}},V=q,J=(e(\"bf1b\"),e(\"2877\")),W=Object(J[\"a\"])(V,B,U,!1,null,\"2e27fb58\",null),G=W.exports,Y=function(){var i=this,o=i.$createElement,t=i._self._c||o;return t(\"div\",{staticClass:\"cuadroTexto\",class:{conAudio:i.esteCuadroTexto.audio,deshabilitado:i.updatingInfo,enPaginaSeleccionada:i.paginaSeleccionada},style:[i.estiloLayout],on:{click:i.playAudio}},[t(\"div\",{ref:\"texto\",staticClass:\"texto\",style:[i.estiloFormato,i.estiloFontSize,i.estiloVisibilidadTexto],on:{click:i.iniciarEdicionTexto}},[i._v(i._s(i.esteCuadroTexto.texto))]),t(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.nuevoTexto,expression:\"nuevoTexto\"},{name:\"show\",rawName:\"v-show\",value:i.editandoTexto,expression:\"editandoTexto\"}],ref:\"inputNuevoTexto\",style:[i.estiloFormato,i.estiloFontSizeInput],attrs:{id:\"inputNuevoTexto\"},domProps:{value:i.nuevoTexto},on:{input:function(o){o.target.composing||(i.nuevoTexto=o.target.value)}}}),t(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.nuevoTexto,expression:\"nuevoTexto\"}],ref:\"dummyInput\",style:[i.estiloFormato,i.estiloInputDummy],attrs:{id:\"dummyInputTexto\"},domProps:{value:i.nuevoTexto},on:{input:function(o){o.target.composing||(i.nuevoTexto=o.target.value)}}}),t(\"img\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.editandoTexto,expression:\"editandoTexto\"}],attrs:{src:e(\"4fc3\"),alt:\"guardar\",title:\"Guardar cambios\",id:\"bGuardarTexto\"},on:{click:function(o){return o.stopPropagation(),i.guardarNuevoTexto(o)}}}),t(\"img\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionado,expression:\"seleccionado\"}],attrs:{src:e(\"2191\"),alt:\"Eliminar\",title:\"Eliminar cuadro de texto\",id:\"bEliminarCuadroTexto\"},on:{click:i.eliminarse}}),t(\"div\",{ref:\"textoDummy\",staticClass:\"textoDummy\",style:[i.estiloFormato,i.estiloDummy]},[i._v(\" \"+i._s(i.esteCuadroTexto.texto)+\" \")]),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionado,expression:\"seleccionado\"}],attrs:{id:\"zHandlers\"}},[t(\"div\",{staticClass:\"zHandler\",attrs:{id:\"bSendBack\",title:\"Mover hacia atrs\"},on:{click:function(o){i.posicionZeta=i.posicionZeta>0?i.posicionZeta-1:0}}}),t(\"div\",{staticClass:\"zHandler\",attrs:{id:\"bBringFront\",title:\"Mover hacia adelante\"},on:{click:function(o){i.posicionZeta++}}})]),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionado,expression:\"seleccionado\"}],style:i.sizeDragHandle,attrs:{id:\"dragHandle\"},on:{mousedown:function(o){return!o.type.indexOf(\"key\")&&i._k(o.keyCode,\"left\",37,o.key,[\"Left\",\"ArrowLeft\"])||\"button\"in o&&0!==o.button?null:(o.stopPropagation(),i.iniciarDrag(o))},mousemove:i.drag,mouseup:i.finDrag}},[t(\"div\",{class:{enDuda:i.posicionZeta!=i.esteCuadroTexto.posicionZeta},attrs:{id:\"bolitaDragHandle\",title:\"Arrastrar\"}},[i._v(i._s(i.posicionZeta))])]),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.seleccionado,expression:\"seleccionado\"}],style:[i.sizeResizeHandle],attrs:{id:\"resizeHandle\"},on:{mousedown:function(o){return!o.type.indexOf(\"key\")&&i._k(o.keyCode,\"left\",37,o.key,[\"Left\",\"ArrowLeft\"])||\"button\"in o&&0!==o.button?null:(o.stopPropagation(),i.iniciarResize(o))},mousemove:i.resize,mouseup:i.finResize}},[t(\"div\",{attrs:{id:\"bolitaResizeHandle\"}})]),i.esteCuadroTexto.audio?t(\"audio\",{ref:\"audio\",attrs:{type:\"audio/ogg\"}},[t(\"source\",{attrs:{src:i.urlAudio,type:\"audio/ogg\"}})]):i._e()])},K=[],X={name:\"CuadroTexto\",props:{idLibro:String,idPagina:String,esteCuadroTexto:Object,sizePagina:Object,seleccionado:Boolean,paginaSeleccionada:Boolean,zBase:Number},data:function(){return{fontSizeDummy:10,fontSizeInputDummy:10,fontSizeTexto:10,fontSizeInput:10,resizing:!1,dragging:!1,posicionZeta:0,posicion:{x:null,y:null},size:{x:null,y:null},updatingInfo:!1,nuevoTexto:null,editandoTexto:!1}},computed:{estiloLayout:function(){return{top:this.posicion.y+\"%\",left:this.posicion.x+\"%\",width:this.size.x+\"%\",height:this.size.y+\"%\",zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta}},estiloFormato:function(){return{textAlign:this.esteCuadroTexto.formato.alineacion,color:this.esteCuadroTexto.formato.colorLetra,fontFamily:this.esteCuadroTexto.formato.tipoLetra+\", 'Nunito', sans-serif\"}},estiloFontSize:function(){return{fontSize:this.fontSizeTexto+\"px\"}},estiloVisibilidadTexto:function(){return{visibility:this.editandoTexto?\"hidden\":\"visible\"}},estiloFontSizeInput:function(){return{fontSize:this.fontSizeInput+\"px\"}},estiloDummy:function(){return{fontSize:this.fontSizeDummy+\"px\"}},estiloInputDummy:function(){return{fontSize:this.fontSizeInputDummy+\"px\"}},sizeResizeHandle:function(){return{width:this.resizing?\"200px\":\"10px\",height:this.resizing?\"200px\":\"10px\"}},sizeDragHandle:function(){return{width:this.dragging?\"200px\":\"10px\",height:this.dragging?\"200px\":\"10px\"}},urlAudio:function(){return this.serverUrl+\"/apiCuentos/audioTexto/\"+this.idLibro+\"/\"+this.idPagina+\"/\"+this.esteCuadroTexto.id}},methods:{playAudio:function(){this.esteCuadroTexto.audio&&(console.log(\"Reproduciendo\"),this.$refs.audio.play())},iniciarResize:function(){this.resizing=!0},resize:function(i){if(this.resizing){var o={x:this.$el.getBoundingClientRect().left,y:this.$el.getBoundingClientRect().top},e=i.clientX-o.x-5,t=i.clientY-o.y-5;if(e<15||t<15)return void console.log(\"Offlimits\");var n=Math.round(100*e/this.sizePagina.x),a=Math.round(100*t/this.sizePagina.y);this.posicion.x+n>100&&(n=Math.floor(100-this.posicion.x)),this.posicion.y+a>100&&(a=Math.floor(100-this.posicion.y)),this.$set(this.size,\"x\",n),this.$set(this.size,\"y\",a)}},finResize:function(){var i=this;this.resizing=!1,this.fontSizeDummy=10,this.$nextTick((function(){i.findFontSize(),i.$apollo.mutate({mutation:Object(k[\"gql\"])(r||(r=Object($[\"a\"])([\"\\n            mutation(\\n              $idLibro: ID!\\n              $idPagina: ID!\\n              $idCuadroTexto: ID!\\n              $nuevoSize: CoordsInput!\\n            ) {\\n              updateSizeCuadroTexto(\\n                idLibro: $idLibro\\n                idPagina: $idPagina\\n                idCuadroTexto: $idCuadroTexto\\n                nuevoSize: $nuevoSize\\n              ) {\\n                id\\n                size {\\n                  x\\n                  y\\n                }\\n              }\\n            }\\n          \"]))),variables:{idLibro:i.idLibro,idPagina:i.idPagina,idCuadroTexto:i.esteCuadroTexto.id,nuevoSize:i.size}})}))},findFontSize:function(){var i=this;if(this.esteCuadroTexto&&this.esteCuadroTexto.texto&&!(this.esteCuadroTexto.texto.length<1)){var o=this.$refs.texto.offsetHeight,e=this.$refs.textoDummy.offsetHeight,t=this.$refs.textoDummy.scrollWidth,n=this.$refs.texto.offsetWidth;e>=o||t>=n?(this.fontSizeDummy=this.fontSizeDummy-2,this.$nextTick((function(){var o=i.$refs.texto.offsetHeight,e=i.$refs.textoDummy.offsetHeight,t=i.$refs.textoDummy.scrollWidth,n=i.$refs.texto.offsetWidth;if(e<o&&t<n||i.fontSizeDummy<5)return i.fontSizeTexto=i.fontSizeDummy,void(i.fontSizeInput=i.fontSizeDummy);i.findFontSize()}))):e<o&&t<n&&(this.fontSizeDummy=this.fontSizeDummy+2,this.$nextTick((function(){var o=i.$refs.texto.offsetHeight,e=i.$refs.textoDummy.offsetHeight,t=i.$refs.textoDummy.scrollWidth,n=i.$refs.texto.offsetWidth;if(e>=o||t>=n||i.fontSizeDummy>100)return i.fontSizeDummy=i.fontSizeDummy-2,console.log(\"Qued en \".concat(i.fontSizeDummy)),i.fontSizeTexto=i.fontSizeDummy,void(i.fontSizeInput=i.fontSizeDummy);i.findFontSize()})))}},findFontSizeInput:function(){var i=this;if(this.nuevoTexto&&!(this.nuevoTexto.length<1)){var o=this.$refs.inputNuevoTexto.offsetHeight,e=this.$refs.dummyInput.scrollHeight,t=this.$refs.dummyInput.scrollWidth,n=this.$refs.inputNuevoTexto.offsetWidth;e>=o||t>=n?(this.fontSizeInputDummy=this.fontSizeInputDummy-2,this.$nextTick((function(){var o=i.$refs.inputNuevoTexto.offsetHeight,e=i.$refs.dummyInput.scrollHeight,t=i.$refs.dummyInput.scrollWidth,n=i.$refs.inputNuevoTexto.offsetWidth;e<o&&t<n||i.fontSizeInputDummy<5?i.fontSizeInput=i.fontSizeInputDummy:i.findFontSizeInput()}))):e<o&&t<n&&(this.fontSizeInputDummy=this.fontSizeInputDummy+2,this.$nextTick((function(){var o=i.$refs.inputNuevoTexto.offsetHeight,e=i.$refs.dummyInput.scrollHeight,t=i.$refs.dummyInput.scrollWidth,n=i.$refs.inputNuevoTexto.offsetWidth;if(e>=o||t>=n||i.fontSizeInputDummy>100)return i.fontSizeInputDummy=i.fontSizeInputDummy-2,void(i.fontSizeInput=i.fontSizeInputDummy);i.findFontSizeInput()})))}},guardarNuevoTexto:function(){var i=this;if(this.nuevoTexto.length>3e3)alert(\"Texto demasiado largo\");else{if(this.nuevoTexto==this.esteCuadroTexto.texto)return console.log(\"Texto no modificado\"),void(this.editandoTexto=!1);this.updatingInfo=!0,this.$apollo.mutate({mutation:Object(k[\"gql\"])(u||(u=Object($[\"a\"])([\"\\n            mutation(\\n              $idLibro: ID!\\n              $idPagina: ID!\\n              $idCuadroTexto: ID!\\n              $nuevoTexto: String!\\n            ) {\\n              updateTextoCuadroTextoCuento(\\n                idLibro: $idLibro\\n                idPagina: $idPagina\\n                idCuadroTexto: $idCuadroTexto\\n                nuevoTexto: $nuevoTexto\\n              ) {\\n                id\\n                texto\\n              }\\n            }\\n          \"]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoTexto:this.nuevoTexto}}).then((function(){i.editandoTexto=!1,i.updatingInfo=!1})).catch((function(o){console.log(\"Error. E: \".concat(o)),i.updatingInfo=!1}))}},iniciarEdicionTexto:function(){var i=this;this.seleccionado&&(this.fontSizeInput=this.fontSizeTexto,this.fontSizeInputDummy=this.fontSizeTexto,this.nuevoTexto=this.esteCuadroTexto.texto,this.editandoTexto=!0,this.$nextTick((function(){i.$refs.inputNuevoTexto.focus()})))},iniciarDrag:function(){this.dragging=!0},drag:function(i){if(this.dragging){console.log(\"Dragging\");var o=this.$el.closest(\".pagina\"),e=o.getBoundingClientRect(),t={x:i.clientX-e.left,y:i.clientY-e.top},n={x:t.x-this.$el.offsetWidth/2,y:t.y+20};n.x+this.$el.offsetWidth>o.offsetWidth&&(n.x=o.offsetWidth-this.$el.offsetWidth),n.x<0&&(n.x=0),n.y+this.$el.offsetHeight>o.offsetHeight&&(n.y=o.offsetHeight-this.$el.offsetHeight),n.y<0&&(n.y=0);var a={x:Math.round(100*n.x/o.offsetWidth),y:Math.round(100*n.y/o.offsetHeight)};this.posicion=a}},finDrag:function(){this.dragging=!1,this.$apollo.mutate({mutation:Object(k[\"gql\"])(d||(d=Object($[\"a\"])([\"\\n          mutation(\\n            $idLibro: ID!\\n            $idPagina: ID!\\n            $idCuadroTexto: ID!\\n            $nuevoPosicion: CoordsInput!\\n          ) {\\n            updatePosicionCuadroTexto(\\n              idLibro: $idLibro\\n              idPagina: $idPagina\\n              idCuadroTexto: $idCuadroTexto\\n              nuevoPosicion: $nuevoPosicion\\n            ) {\\n              id\\n              posicion {\\n                x\\n                y\\n              }\\n            }\\n          }\\n        \"]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoPosicion:this.posicion}})},eliminarse:function(){var i=this;confirm(\"Eliminando cuadro de texto. Esta operacin no se puede deshacer. Continuar?\")&&(this.updatingInfo=!0,console.log(\"Eliminando un cuadro de texto\"),this.$apollo.mutate({mutation:Object(k[\"gql\"])(c||(c=Object($[\"a\"])([\"\\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroTexto: ID!) {\\n              eliminarCuadroTextoLibro(\\n                idLibro: $idLibro\\n                idPagina: $idPagina\\n                idCuadroTexto: $idCuadroTexto\\n              )\\n            }\\n          \"]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id}}).then((function(o){var e=o.data.eliminarCuadroTextoLibro;console.log(\"Resultado: \".concat(e)),e&&i.$emit(\"meElimine\")})).catch((function(o){console.log(\"Error. E: \".concat(o)),i.updatingInfo=!1})))},guardarPosicionZeta:R()((function(){console.log(\"Guardando posicin zeta\"),this.posicionZeta!=this.esteCuadroTexto.posicionZeta&&this.$apollo.mutate({mutation:Object(k[\"gql\"])(l||(l=Object($[\"a\"])([\"\\n          mutation($idLibro:ID!, $idPagina:ID!, $idCuadroTexto:ID!, $nuevoPosicionZ:Int!){\\n            setPosicionZCuadroTexto(idLibro:$idLibro, idPagina:$idPagina, idCuadroTexto:$idCuadroTexto, nuevoPosicionZ:$nuevoPosicionZ){\\n              id\\n              posicionZeta\\n            }\\n          }\\n        \"]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoPosicionZ:this.posicionZeta}})}),3e3)},watch:{nuevoTexto:function(){var i=this;this.$nextTick((function(){i.findFontSizeInput()}))},esteCuadroTexto:function(){var i=this;this.$nextTick((function(){i.findFontSize()}))},seleccionado:function(i){0==i&&(this.editandoTexto=!1)},posicionZeta:function(){console.log(\"Cambio de posicion zeta\"),this.guardarPosicionZeta()}},mounted:function(){var i=this;this.$set(this.posicion,\"x\",this.esteCuadroTexto.posicion.x),this.$set(this.posicion,\"y\",this.esteCuadroTexto.posicion.y),this.$set(this.size,\"x\",this.esteCuadroTexto.size.x),this.$set(this.size,\"y\",this.esteCuadroTexto.size.y),this.posicionZeta=this.esteCuadroTexto.posicionZeta,this.$nextTick((function(){i.findFontSize()}))}},_=X,ii=(e(\"0d62\"),Object(J[\"a\"])(_,Y,K,!1,null,null,null)),oi=ii.exports,ei=function(){var i=this,o=i.$createElement,t=i._self._c||o;return t(\"div\",{attrs:{id:\"herramientasEdicion\"}},[t(\"img\",{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:\"puntero\"==i.herramientaSeleccionada},attrs:{src:e(\"4a8c\")},on:{click:function(o){o.stopPropagation(),i.$emit(\"puntero\"),i.herramientaSeleccionada=\"puntero\"},mousedown:function(i){i.stopPropagation()}}}),t(\"img\",{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:\"texto\"==i.herramientaSeleccionada},attrs:{src:e(\"28b8\")},on:{click:function(o){o.stopPropagation(),i.$emit(\"creacionTexto\"),i.herramientaSeleccionada=\"texto\"},mousedown:function(i){i.stopPropagation()}}}),t(\"img\",{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:\"imagen\"==i.herramientaSeleccionada},attrs:{src:e(\"885c\")},on:{click:function(o){o.stopPropagation(),i.$emit(\"creacionImagen\"),i.herramientaSeleccionada=\"imagen\"},mousedown:function(i){i.stopPropagation()}}})])},ti=[],ni={name:\"HerramientasEdicion\",data:function(){return{herramientaSeleccionada:\"puntero\"}},methods:{reset:function(){this.herramientaSeleccionada=\"puntero\"}}},ai=ni,si=(e(\"0705\"),Object(J[\"a\"])(ai,ei,ti,!1,null,\"2c9e7702\",null)),ri=si.exports,ui={components:{CuadroImagen:G,CuadroTexto:oi,HerramientasEdicion:ri},name:\"Pagina\",props:{estaPagina:Object,paginaDerecha:Boolean,preparada:{type:Boolean,default:!1},visible:{type:Boolean},idLibro:String,seleccionada:Boolean,segundoPlano:{type:Boolean,default:!1}},data:function(){return{ancho:450,alto:600,uploadingInfo:!1,colorSeleccionado:\"#ffffff\",creandoTexto:!1,creandoImagen:!1,dibujandoTexto:!1,dibujandoImagen:!1,zElementos:100,posFantasmaTexto:{x:0,y:0},sizeFantasmaTexto:{x:30,y:30},posFantasmaImagen:{x:0,y:0},sizeFantasmaImagen:{x:30,y:30},idElementoSeleccionado:null}},computed:{estiloColumna:function(){return this.paginaDerecha?{gridColumn:\"1/2\",justifySelf:\"right\"}:null},estiloSize:function(){return{width:this.ancho+\"px\",height:this.alto+\"px\"}},size:function(){return{x:this.ancho,y:this.alto}},estiloApariencia:function(){return{backgroundColor:this.colorSeleccionado}},estiloLayoutFantasmaTexto:function(){return{top:this.posFantasmaTexto.y+\"px\",left:this.posFantasmaTexto.x+\"px\",width:this.sizeFantasmaTexto.x+\"px\",height:this.sizeFantasmaTexto.y+\"px\"}},estiloLayoutFantasmaImagen:function(){return{top:this.posFantasmaImagen.y+\"px\",left:this.posFantasmaImagen.x+\"px\",width:this.sizeFantasmaImagen.x+\"px\",height:this.sizeFantasmaImagen.y+\"px\"}}},methods:{eliminarse:function(){var i=this;confirm(\"Eliminando pgina. Esta operacin no se puede deshacer. Continuar?\")&&(this.uploadingInfo=!0,console.log(\"Eliminando una pgina\"),this.$apollo.mutate({mutation:Object(k[\"gql\"])(A||(A=Object($[\"a\"])([\"\\n            mutation($idLibro: ID!, $idPagina: ID!) {\\n              eliminarPaginaDeLibro(idLibro: $idLibro, idPagina: $idPagina)\\n            }\\n          \"]))),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id}}).then((function(o){var e=o.data.eliminarPaginaDeLibro;console.log(\"Resultado: \".concat(e)),e&&i.$emit(\"meElimine\")})).catch((function(o){console.log(\"Error. E: \".concat(o)),i.uploadingInfo=!1})))},desactivarHerramientas:function(){this.creandoTexto=!1,this.creandoImagen=!1},accionCrearElemento:function(i){var o=this.$el.getBoundingClientRect(),e={x:i.clientX-o.left,y:i.clientY-o.top};this.creandoTexto?(this.dibujandoTexto=!0,this.$set(this.posFantasmaTexto,\"x\",Math.floor(e.x)),this.$set(this.posFantasmaTexto,\"y\",Math.floor(e.y)),this.$set(this.sizeFantasmaTexto,\"x\",30),this.$set(this.sizeFantasmaTexto,\"y\",30)):this.creandoImagen&&(this.dibujandoImagen=!0,this.$set(this.posFantasmaImagen,\"x\",Math.floor(e.x)),this.$set(this.posFantasmaImagen,\"y\",Math.floor(e.y)),this.$set(this.sizeFantasmaImagen,\"x\",30),this.$set(this.sizeFantasmaImagen,\"y\",30))},resizeFantasmaElemento:function(i){var o=this.$el.getBoundingClientRect(),e={x:i.clientX-o.left,y:i.clientY-o.top};if(this.dibujandoTexto){var t={x:e.x-this.posFantasmaTexto.x,y:e.y-this.posFantasmaTexto.y};t.x<30&&(t.x=30),t.y<30&&(t.y=30),this.$set(this.sizeFantasmaTexto,\"x\",Math.floor(t.x)),this.$set(this.sizeFantasmaTexto,\"y\",Math.floor(t.y))}if(this.dibujandoImagen){var n={x:e.x-this.posFantasmaImagen.x,y:e.y-this.posFantasmaImagen.y};n.x<30&&(n.x=30),n.y<30&&(n.y=30),this.$set(this.sizeFantasmaImagen,\"x\",Math.floor(n.x)),this.$set(this.sizeFantasmaImagen,\"y\",Math.floor(n.y))}},endDibujandoElemento:function(){this.dibujandoTexto?(console.log(\"Creando cuadroTexto\"),this.dibujandoTexto=!1,this.$refs.herramientasEdicion.reset(),this.crearTextoFromFantasma()):this.dibujandoImagen&&(console.log(\"Creando cuadro de imgen\"),this.dibujandoImagen=!1,this.$refs.herramientasEdicion.reset(),this.crearCuadroImagenFromFantasma()),this.desactivarHerramientas()},crearCuadroImagenFromFantasma:function(){var i=this,o={x:Math.round(100*this.posFantasmaImagen.x/this.$el.offsetWidth),y:Math.round(100*this.posFantasmaImagen.y/this.$el.offsetHeight)},e={x:Math.round(100*this.sizeFantasmaImagen.x/this.$el.offsetWidth),y:Math.round(100*this.sizeFantasmaImagen.y/this.$el.offsetHeight)};this.$apollo.mutate({mutation:Object(k[\"gql\"])(m||(m=Object($[\"a\"])([\"\\n            mutation(\\n              $idLibro: ID!\\n              $idPagina: ID!\\n              $datosPosicion: CoordsInput!\\n              $datosSize: CoordsInput!\\n            ) {\\n              crearCuadroImagenPaginaLibro(\\n                idLibro: $idLibro\\n                idPagina: $idPagina\\n                datosPosicion: $datosPosicion\\n                datosSize: $datosSize\\n              ) {\\n                ...fragCuadroImagen\\n              }\\n            }\\n            \",\"\\n          \"])),gi),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,datosPosicion:o,datosSize:e}}).then((function(o){var e=o.data.crearCuadroImagenPaginaLibro;i.$emit(\"tengoNuevoCuadroImagen\",e)})).catch((function(i){console.log(\"Error en mutacin de crear cuadro imgen. E: \".concat(i))}))},crearTextoFromFantasma:function(){var i=this;console.log(\"Enviando con \".concat(JSON.stringify(this.idLibro),\", \").concat(JSON.stringify(this.estaPagina.id),\", \").concat(JSON.stringify(this.posFantasmaTexto),\", \").concat(JSON.stringify(this.sizeFantasmaTexto)));var o={x:Math.round(100*this.posFantasmaTexto.x/this.$el.offsetWidth),y:Math.round(100*this.posFantasmaTexto.y/this.$el.offsetHeight)},e={x:Math.round(100*this.sizeFantasmaTexto.x/this.$el.offsetWidth),y:Math.round(100*this.sizeFantasmaTexto.y/this.$el.offsetHeight)};this.$apollo.mutate({mutation:Object(k[\"gql\"])(g||(g=Object($[\"a\"])([\"\\n            mutation(\\n              $idLibro: ID!\\n              $idPagina: ID!\\n              $datosPosicion: CoordsInput!\\n              $datosSize: CoordsInput!\\n            ) {\\n              crearCuadroTextoPaginaLibro(\\n                idLibro: $idLibro\\n                idPagina: $idPagina\\n                datosPosicion: $datosPosicion\\n                datosSize: $datosSize\\n              ) {\\n                ...fragCuadroTexto\\n              }\\n            }\\n            \",\"\\n          \"])),mi),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,datosPosicion:o,datosSize:e},errorPolicy:\"all\"}).then((function(o){var e=o.data.crearCuadroTextoPaginaLibro;i.$emit(\"tengoNuevoCuadroTexto\",e)})).catch((function(i){console.log(\"Error. E: \".concat(i.message)),console.log(\"Hubo \".concat(i.graphQLErrors,\" errores graphql\"))}))},resolverSeleccion:function(i,o){this.seleccionada&&(i.stopPropagation(),this.idElementoSeleccionado=o)},guardarNuevoColor:function(){var i=this;console.log(\"Guardando nuevo color de pgina.\"),this.$apollo.mutate({mutation:Object(k[\"gql\"])(h||(h=Object($[\"a\"])([\"\\n          mutation($idLibro:ID!, $idPagina:ID!, $nuevoColor:String!){\\n            setNuevoColorPaginaLibro(idLibro:$idLibro, idPagina: $idPagina, nuevoColor:$nuevoColor){\\n              id\\n              color\\n            }\\n          }\\n        \"]))),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,nuevoColor:this.$refs.inputColorPagina.value}}).then((function(){console.log(\"Nuevo color guardado\")})).catch((function(o){console.log(\"Error guardando el nuevo color de pgina. E: \".concat(o)),i.colorSeleccionado=i.estaPagina.color}))}},mounted:function(){this.colorSeleccionado=this.estaPagina.color}},di=ui,ci=(e(\"3a36\"),Object(J[\"a\"])(di,F,N,!1,null,\"aa2cb084\",null)),li=ci.exports,Ai=/[^ a-zA-Z-0-9_():.,-?!]/,mi=j()(f||(f=Object($[\"a\"])([\"\\n  fragment fragCuadroTexto on CuadroTextoCuento {\\n    id\\n    texto\\n    posicionZeta\\n    posicion {\\n      x\\n      y\\n    }\\n    size {\\n      x\\n      y\\n    }\\n    audio {\\n      tipoReproduccion\\n    }\\n    formato {\\n      fontSize\\n      colorLetra\\n      tipoLetra\\n      alineacion\\n    }\\n  }\\n\"]))),gi=j()(p||(p=Object($[\"a\"])([\"\\n  fragment fragCuadroImagen on CuadroImagenCuento {\\n    id\\n    sinArchivo\\n    tipoActivacionSecundario\\n    posicionZeta\\n    posicion {\\n      x\\n      y\\n    }\\n    size {\\n      x\\n      y\\n    }\\n    audio {\\n      tipoReproduccion\\n    }\\n  }\\n\"]))),hi=j()(v||(v=Object($[\"a\"])([\"\\n  fragment fragPagina on PaginaCuento {\\n    id    \\n    numPag\\n    color\\n    cuadrosTexto {\\n      ...fragCuadroTexto\\n    }\\n    cuadrosImagen {\\n      ...fragCuadroImagen\\n    }\\n  }\\n  \",\"\\n  \",\"\\n\"])),mi,gi),fi=j()(x||(x=Object($[\"a\"])([\"\\n  query($idLibro: ID!) {\\n    libro(idLibro: $idLibro) {\\n      id\\n      idsEditores\\n      titulo\\n      paginas {\\n        ...fragPagina\\n      }\\n    }\\n  }\\n  \",\"\\n\"])),hi),pi={components:{Pagina:li},name:\"Libro\",apollo:{libro:{query:fi,variables:function(){return{idLibro:this.idLibro}},skip:function(){return null==this.idLibro},fetchPolicy:\"cache-and-network\"}},props:{idLibro:{type:String,default:null}},data:function(){return{libro:{paginas:null},idPaginaSeleccionada:null,creandoPagina:!1,nuevoTitulo:null,editandoTitulo:!1}},computed:{paginasOrdenadas:function(){if(this.libro.paginas){var i=this.libro.paginas;return i.sort((function(i,o){return parseInt(i.numPag)-parseInt(o.numPag)}))}return[]},nuevoTituloIlegal:function(){return!this.nuevoTitulo||this.nuevoTitulo.length<1||!!Ai.test(this.nuevoTitulo)}},methods:{toggleEditandoTitulo:function(){this.editandoTitulo=!this.editandoTitulo,this.nuevoTitulo=this.libro.titulo},guardarNuevoTitulo:function(){var i=this;this.nuevoTituloIlegal?console.log(\"No enviado\"):this.nuevoTitulo!=this.libro.titulo?(console.log(\"guardando nuevo ttulo\"),this.enviandoNuevoTitulo=!0,this.$apollo.mutate({mutation:j()(b||(b=Object($[\"a\"])([\"\\n            mutation($idLibro: ID!, $nuevoTitulo: String!) {\\n              editarTituloLibro(idLibro: $idLibro, nuevoTitulo: $nuevoTitulo) {\\n                id\\n                titulo\\n              }\\n            }\\n          \"]))),variables:{idLibro:this.idLibro,nuevoTitulo:this.nuevoTitulo}}).then((function(){i.enviandoNuevoTitulo=!1,i.editandoTitulo=!1})).catch((function(o){i.enviandoNuevoTitulo=!1,console.log(\"Error. E :\".concat(o))}))):this.editandoTitulo=!1},crearNuevaPaginaLibro:function(){var i=this;this.creandoPagina=!0;var o=this;this.$apollo.mutate({mutation:j()(y||(y=Object($[\"a\"])([\"\\n            mutation($idLibro: ID!) {\\n              crearNuevaPaginaLibro(idLibro: $idLibro) {\\n                ...fragPagina\\n              }\\n            }\\n            \",\"\\n          \"])),hi),variables:{idLibro:this.idLibro}}).then((function(e){var t=e.data.crearNuevaPaginaLibro,n=i.$apollo.provider.defaultClient,a=n.readQuery({query:fi,variables:{idLibro:o.idLibro}}),s=JSON.parse(JSON.stringify(a));s.libro.paginas.push(t),n.writeQuery({query:fi,variables:{idLibro:o.idLibro},data:s}),i.creandoPagina=!1})).catch((function(o){console.log(\"Error: \".concat(o)),i.creandoPagina=!1}))},removePaginaFromCache:function(i){this.idPaginaSeleccionada=null;var o=this.$apollo.provider.defaultClient,e=o.readQuery({query:fi,variables:{idLibro:this.idLibro}}),t=JSON.parse(JSON.stringify(e)),n=t.libro.paginas.findIndex((function(o){return o.id==i}));n>-1?(t.libro.paginas.splice(n,1),o.writeQuery({query:fi,variables:{idLibro:this.idLibro},data:t})):console.log(\"La pagina no estaba en el cach\")},updateCacheConNuevoCuadroImagen:function(i,o){console.log(\"Se actualizara el cache con info: \".concat(i,\" en la pagina \").concat(o));var e=this.$apollo.provider.defaultClient,t=e.readQuery({query:fi,variables:{idLibro:this.idLibro}}),n=JSON.parse(JSON.stringify(t)),a=n.libro.paginas.find((function(i){return i.id==o}));a?a.cuadrosImagen.some((function(o){return o==i.id}))?console.log(\"Ese cuadro texto ya estaba incluido\"):(a.cuadrosImagen.push(i),e.writeQuery({query:fi,variables:{idLibro:this.idLibro},data:n})):console.log(\"Pagina no exista\")},updateCacheConNuevoCuadroTexto:function(i,o){console.log(\"Se actualizara el cache con info: \".concat(i,\" en la pagina \").concat(o));var e=this.$apollo.provider.defaultClient,t=e.readQuery({query:fi,variables:{idLibro:this.idLibro}}),n=JSON.parse(JSON.stringify(t)),a=n.libro.paginas.find((function(i){return i.id==o}));a?a.cuadrosTexto.some((function(o){return o==i.id}))?console.log(\"Ese cuadro texto ya estaba incluido\"):(a.cuadrosTexto.push(i),e.writeQuery({query:fi,variables:{idLibro:this.idLibro},data:n})):console.log(\"Pagina no exista\")},removeCuadroTextoFromCache:function(i,o){var e=this.$apollo.provider.defaultClient,t=e.readQuery({query:fi,variables:{idLibro:this.idLibro}}),n=JSON.parse(JSON.stringify(t)),a=n.libro.paginas.find((function(i){return i.id==o}));if(a){var s=a.cuadrosTexto.findIndex((function(o){return o.id==i}));s>-1?(a.cuadrosTexto.splice(s,1),e.writeQuery({query:fi,variables:{idLibro:this.idLibro},data:n})):console.log(\"El cuadro texto no exista en el cach\")}else console.log(\"No exista la pagina en el cach\")},removeCuadroImagenFromCache:function(i,o){var e=this.$apollo.provider.defaultClient,t=e.readQuery({query:fi,variables:{idLibro:this.idLibro}}),n=JSON.parse(JSON.stringify(t)),a=n.libro.paginas.find((function(i){return i.id==o}));if(a){var s=a.cuadrosImagen.findIndex((function(o){return o.id==i}));s>-1?(a.cuadrosImagen.splice(s,1),e.writeQuery({query:fi,variables:{idLibro:this.idLibro},data:n})):console.log(\"El cuadro texto no exista en el cach\")}else console.log(\"No exista la pagina en el cach\")}}},vi=pi,xi=(e(\"b8ad\"),Object(J[\"a\"])(vi,D,M,!1,null,\"244c17b1\",null)),bi=xi.exports,yi=function(){var i=this,o=i.$createElement,t=i._self._c||o;return t(\"div\",{attrs:{id:\"misLibros\"}},[t(\"h3\",[i._v(\"Mis libros\")]),t(\"div\",{attrs:{id:\"controlesMisLibros\"}},[t(\"img\",{staticClass:\"bControlMisLibros\",attrs:{src:e(\"1d2e\"),title:\"Crear nuevo libro\"},on:{click:i.crearNuevoLibro}})]),t(\"div\",{attrs:{id:\"listaMisLibros\"}},i._l(i.misLibros,(function(o){return t(\"div\",{key:o.id,staticClass:\"portadaLibro\",on:{click:function(e){return i.seleccionarLibro(o.id)}}},[i._v(\" \"+i._s(o.titulo)+\" \")])})),0)])},Ci=[],Ti=Object(k[\"gql\"])(C||(C=Object($[\"a\"])([\"\\n  query {\\n    misLibros {\\n      id\\n      titulo\\n    }\\n  }\\n\"]))),Ii={name:\"MisLibros\",apollo:{misLibros:{query:Ti,skip:function(){return null==this.usuario.id}}},data:function(){return{}},methods:{crearNuevoLibro:function(){var i=this;confirm(\"Crear un nuevo libro?\")&&this.$apollo.mutate({mutation:Object(k[\"gql\"])(T||(T=Object($[\"a\"])([\"\\n          mutation {\\n            crearNuevoLibro {\\n              id\\n              titulo\\n            }\\n          }\\n        \"])))}).then((function(o){var e=o.data.crearNuevoLibro;console.log(\"Creado \".concat(JSON.stringify(e)));var t=i.$apollo.provider.defaultClient,n=t.readQuery({query:Ti}),a=JSON.parse(JSON.stringify(n));a.misLibros.some((function(i){return i.id==e.id}))?console.log(\"El libro ya estaba incluido en el cach\"):(a.misLibros.push(e),t.writeQuery({query:Ti,data:a}))}))},seleccionarLibro:function(i){this.$emit(\"libroSeleccionado\",i)}}},Pi=Ii,zi=(e(\"dd1f\"),Object(J[\"a\"])(Pi,yi,Ci,!1,null,\"24147a09\",null)),Li=zi.exports,Si=function(){var i=this,o=i.$createElement,e=i._self._c||o;return e(\"div\",{attrs:{id:\"todosLibros\"}},[e(\"h3\",[i._v(\"Todos los libros\")]),e(\"div\",{attrs:{id:\"controlesTodosLibros\"}}),e(\"div\",{attrs:{id:\"listaMisLibros\"}},i._l(i.todosLibros,(function(o){return e(\"div\",{key:o.id,staticClass:\"portadaLibro\",on:{click:function(e){return i.seleccionarLibro(o.id)}}},[i._v(\" \"+i._s(o.titulo)+\" \"),i._l(o.idsEditores,(function(i){return e(\"icono-persona-autonomo\",{key:i,attrs:{idPersona:i}})}))],2)})),0)])},Ei=[],wi=function(){var i=this,o=i.$createElement,e=i._self._c||o;return e(\"div\",{staticClass:\"iconoPersonaAutonomo\",class:{yo:i.soyYo,seleccionado:i.seleccionado}},[e(\"img\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.fotografiaEnabled,expression:\"fotografiaEnabled\"}],staticClass:\"fotografia\",attrs:{src:this.serverUrl+\"/api/usuarios/fotografias/\"+i.idPersona,alt:\"\"},on:{load:function(o){i.fotografiaEnabled=!0}}}),e(\"div\",{attrs:{id:\"contenedorAlertas\"}},[i._t(\"alertas\")],2),e(\"div\",{staticClass:\"nombres\",class:{nombreSeleccionado:i.seleccionado}},[i._v(\" \"+i._s(i.estaPersona.nombres)+\" \")]),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.menuContextual,expression:\"menuContextual\"}],attrs:{id:\"menuCxPersona\"}},[e(\"div\",{staticClass:\"botonMenuCx\",on:{click:function(o){return o.stopPropagation(),i.copiarId(o)}}},[i._v(i._s(i.idPersona))]),i.usuarioSuperadministrador?e(\"div\",{staticClass:\"botonMenuCx\"},[i._v(\" \"+i._s(i.estaPersona.username)+\" \")]):i._e(),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.nuevoPermiso,expression:\"nuevoPermiso\"}],attrs:{type:\"text\",placeholder:\"Nuevo permiso\"},domProps:{value:i.nuevoPermiso},on:{input:function(o){o.target.composing||(i.nuevoPermiso=o.target.value)}}}),e(\"div\",{staticClass:\"botonMenuCx\",on:{click:function(o){return o.stopPropagation(),i.addPermisos(o)}}},[i._v(\"Dar permiso\")]),i._l(i.opcionesMenuCx,(function(o,t){return e(\"div\",{key:t,staticClass:\"botonMenuCx\",on:{click:function(e){return i.$emit(o.evento)}}},[i._v(\" \"+i._s(o.textoVisible)+\" \")])}))],2)])},Di=[],Mi=(e(\"498a\"),j()(I||(I=Object($[\"a\"])([\"\\n  query($idUsuario: ID!) {\\n    publicUsuario(idUsuario: $idUsuario) {\\n      id\\n      nombres\\n      apellidos\\n      username\\n    }\\n  }\\n\"])))),$i={name:\"IconoPersonaAutonomo\",apollo:{estaPersona:{query:Mi,variables:function(){return{idUsuario:this.idPersona}},update:function(i){var o=i.publicUsuario;return o},skip:function(){return!this.idPersona}}},data:function(){return{estaPersona:{permisos:[]},nuevoPermiso:null,mounted:!1,fotografiaEnabled:!1}},props:{idPersona:String,seleccionado:Boolean,menuContextual:Boolean,opcionesMenuCx:{type:Array}},computed:{soyYo:function(){return!!(this.mounted&&this.idPersona&&this.$store.state.usuario)&&this.$store.state.usuario.id==this.idPersona}},methods:{addPermisos:function(){console.log(\"enviando \".concat(this.nuevoPermiso,\" para el usuario con id \").concat(this.idPersona)),this.$apollo.mutate({mutation:j()(P||(P=Object($[\"a\"])([\"\\n            mutation($nuevoPermiso: String!, $idUsuario: ID!) {\\n              addPermisoUsuario(\\n                nuevoPermiso: $nuevoPermiso\\n                idUsuario: $idUsuario\\n              ) {\\n                id\\n                permisos\\n              }\\n            }\\n          \"]))),variables:{nuevoPermiso:this.nuevoPermiso,idUsuario:this.idPersona}}).then((function(){})).catch((function(i){console.log(\"error: \"+i)}))},copiarId:function(i){var o=i.target.innerText.trim(),e=document.createElement(\"textarea\");e.value=o,document.body.appendChild(e),e.select(),document.execCommand(\"copy\"),document.body.removeChild(e)},fotografiaCargada:function(){console.log(\"Fotografa cargada\")}},mounted:function(){this.mounted=!0},beforeRouteUpdate:function(){console.log(\"Before update\")}},Oi=$i,ji=(e(\"699c\"),Object(J[\"a\"])(Oi,wi,Di,!1,null,\"1d1d781e\",null)),Fi=ji.exports,Ni=Object(k[\"gql\"])(z||(z=Object($[\"a\"])([\"\\n  query {\\n    todosLibros {\\n      id\\n      titulo\\n      idsEditores\\n    }\\n  }\\n\"]))),ki={components:{IconoPersonaAutonomo:Fi},name:\"TodosLibros\",apollo:{todosLibros:{query:Ni,skip:function(){return!this.usuarioSuperadministrador}}},data:function(){return{}},methods:{seleccionarLibro:function(i){this.$emit(\"libroSeleccionado\",i)}},computed:{usuarioSuperadministrador:function(){return this.usuario&&this.usuario.permisos?(console.log(\"Usuario tiene permisos: \".concat(this.usuario.permisos)),this.usuario.permisos.includes(\"superadministrador\")):(console.log(\"Datos insuficientes para decidir si usuario es speradministrador\"),!1)}}},Bi=ki,Ui=(e(\"ef95\"),Object(J[\"a\"])(Bi,Si,Ei,!1,null,\"1567976c\",null)),Qi=Ui.exports,Zi={name:\"App\",components:{Libro:bi,MisLibros:Li,TodosLibros:Qi},data:function(){return{idLibroSeleccionado:null}},methods:{seleccionarLibro:function(i){this.idLibroSeleccionado=i,this.$nextTick((function(){this.$refs.elLibro.$el.scrollIntoView({behavior:\"smooth\"})}))}},computed:{usuarioSuperadministrador:function(){return!!(this.usuario&&this.usuario.id&&this.usuario.permisos.includes(\"superadministrador\"))}},mounted:function(){var i=window.location.search.substring(1),o=new URLSearchParams(i);this.idLibro=o.get(\"id\");var e=o.get(\"t\");e&&e.length>10?(this.$store.commit(\"setToken\",e),this.$store.commit(\"setUserInfo\",e),localStorage.setItem(\"token\",e)):(this.$store.commit(\"deslogearse\"),localStorage.clear())}},Hi=Zi,Ri=(e(\"034f\"),Object(J[\"a\"])(Hi,E,w,!1,null,null,null)),qi=Ri.exports,Vi=e(\"5530\"),Ji=(e(\"d81d\"),e(\"09bf\")),Wi=e(\"e312\"),Gi=e(\"b7cf\"),Yi=e(\"522d\"),Ki=j()(L||(L=Object($[\"a\"])([\"\\n    \\n    enum TiposUsuario{\\n        USUARIO,\\n        ADMINISTRADOR,\\n        SUPERADMINSTRADOR\\n    }\\n    \\n    type Usuario{\\n        username:String,\\n        permisos: TiposUsuario\\n     }\\n\\n    type Mutations{ \\n        setUsuario(username: String, permisos: TiposUsuario):Usuario\\n    }\\n\"]))),Xi={},_i=e(\"11c2\"),io=e(\"a000\"),oo=e(\"36f1\"),eo=e(\"f5a8\"),to=e(\"a1b6\");S[\"a\"].use(Yi[\"a\"]);var no=new Wi[\"a\"],ao=function(){return localStorage.getItem(\"token\")},so=\"https://pe-pe-pe.herokuapp.com\",ro=\"wss://\"+so.substr(7)+\"/subscripciones\",uo=Object(Gi[\"a\"])({uri:so+\"/graphql\"}),co=new io[\"a\"]({uri:ro,options:{reconnect:!0,connectionParams:{headers:{Authorization:\"Bearer \".concat(ao())}}}}),lo=Object(eo[\"a\"])((function(i,o){var e=o.headers;return{headers:Object(Vi[\"a\"])(Object(Vi[\"a\"])({},e),{},{authorization:ao()})}})),Ao=Object(to[\"a\"])((function(i){i.graphQLErrors,i.networkError})),mo=Ao.concat(lo).concat(uo),go=Object(_i[\"split\"])((function(i){var o=i.query,e=Object(oo[\"l\"])(o);return\"OperationDefinition\"===e.kind&&\"subscription\"===e.operation}),co,mo),ho=new Ji[\"a\"]({link:go,cache:no,typeDefs:Ki,resolvers:Xi,connectToDevTools:!0}),fo=new Yi[\"a\"]({defaultClient:ho}),po=(e(\"1276\"),e(\"5319\"),e(\"a15b\"),e(\"fb6a\"),e(\"25f0\"),e(\"2f62\"));function vo(i){var o=i.split(\".\")[1],e=o.replace(/-/g,\"+\").replace(/_/g,\"/\"),t=decodeURIComponent(atob(e).split(\"\").map((function(i){return\"%\"+(\"00\"+i.charCodeAt(0).toString(16)).slice(-2)})).join(\"\"));return JSON.parse(t)}S[\"a\"].use(po[\"a\"]);var xo=new po[\"a\"].Store({state:{token:null,usuario:{username:null,nombres:null,id:null,permisos:[]}},mutations:{setToken:function(i,o){i.token=o},setUserInfo:function(i,o){var e=vo(o);i.usuario.username=e.username,i.usuario.id=e.id,i.usuario.permisos=e.permisos},deslogearse:function(i){i.usuario.username=null,i.usuario.id=null,i.token=null}}});S[\"a\"].config.productionTip=!1,S[\"a\"].mixin({data:function(){return{serverUrl:so}},computed:{usuario:function(){return this.$store.state.usuario},usuarioSuperadministrador:function(){return this.$store.state.usuario.permisos.includes(\"superadministrador\")}}}),new S[\"a\"]({render:function(i){return i(qi)},store:xo,apolloProvider:fo}).$mount(\"#app\")},6:function(i,o){},\"699c\":function(i,o,e){\"use strict\";e(\"b13e\")},7:function(i,o){},\"7eb6\":function(i,o,e){},8:function(i,o){},\"85ec\":function(i,o,e){},\"885c\":function(i,o){i.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAjVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADqhzP4AAAALnRSTlMA3x8j4xUmzPyx3gFmiAfUqRhE9zoq6dqbDrl9bu/DoJSCaVtQQPKzpnVfVUo0WjuT0wAAAcBJREFUWMPt2NlygjAAhWEhhoSwr+5LXbr3vP/jdZg6NYoaQ3LRsfx3evENkAUmg76+Ry6grlE0OPWqiAnHIMGiSvY8H8b5nnS/ESwUHe+aMhsgo7+gK9BUOx2r0STcI+g0f6xKt2PlCgCcM7AuB50r6xYo/9bPG/49MM7cLLYH0jBNRJKG1BKY+xxN3M+tgDk7TubcAkh9eQVTczDkEshDYzBOIZfGpmCWQC7JTEFXSNxhSyC2r5DYfobE9igTm/NQDyThbEsVK0UH3E85eFrdWstaYDVF0ytR7TbEuQukK/w0zhT7oQJsv63Xk8GlNMF5gd+i2BzcDnGMzwJTcM8gV7xJz9aj+mD1gtMWm8Gh3ctw+qkLTsY4b/h+WHkjAOxTDwye0G700UyX2QJNy70OKA+wLG5IOeb4afqlAX44uFjh1NK2UN0Nlgz39EpUoO738ThTg/IAq1tP1KA8wOqiWA1unjVA/hSowJ1QM+0V6V4FyyX0ep7fBEkK3erwBjhZQz9nex2ccXQo2V0DwwU6xfLL4HyEji3fL4HFCJ1LihZoWg/+Q1DYAIVr/RDD+jGL7YMgy0dVnvXDtL6+B+4bd8GYEidpbS8AAAAASUVORK5CYII=\"},9:function(i,o){},9262:function(i,o,e){},b13e:function(i,o,e){},b8ad:function(i,o,e){\"use strict\";e(\"7eb6\")},bf1b:function(i,o,e){\"use strict\";e(\"9262\")},dd1f:function(i,o,e){\"use strict\";e(\"5301\")},df69:function(i,o){i.exports=\"data:image/png;base64,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\"},e3b7:function(i,o,e){},ef95:function(i,o,e){\"use strict\";e(\"e3b7\")},fef7:function(i,o,e){}});","extractedComments":[]}