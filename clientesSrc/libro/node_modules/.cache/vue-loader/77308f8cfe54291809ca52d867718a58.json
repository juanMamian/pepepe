{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/Pagina.vue?vue&type=style&index=0&id=39498ab6&scoped=true&lang=css&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/Pagina.vue","mtime":1617381756853},{"path":"/home/juan/webPj/pepepe/libro/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wYWdpbmEgewogIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB6LWluZGV4OiAwOwp9CgouY3VhZHJvVGV4dG8gewogIHotaW5kZXg6IDIwMDsKfQouY3VhZHJvSW1hZ2VuIHsKICB6LWluZGV4OiAxMDA7Cn0KLnNlbGVjY2lvbmFkYXsKICBib3JkZXItY29sb3I6IHB1cnBsZTsKfQoKLnpvbmFDb250cm9sZXNQYWdpbmF7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHBhZGRpbmc6IDEwcHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogLTYwcHg7CiAgbGVmdDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKfQoKLmJDb250cm9sZXNQYWdpbmF7CiAgd2lkdGg6MzBweDsKICBoZWlnaHQ6MzBweDsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgCiAgY3Vyc29yOiBwb2ludGVyOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyMzEsIDI1NSk7Cn0KCgo="},{"version":3,"sources":["Pagina.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Pagina.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"pagina\" :style=\"[estiloColumna, estiloSize, estiloApariencia]\" :class=\"{seleccionada}\">\n    <div class=\"zonaControlesPagina\" v-show=\"seleccionada\">\n      <img src=\"@/assets/iconos/delete.png\" class=\"bControlesPagina bEliminarPagina\" @click=\"eliminarse\"/>\n    </div>\n\n    <cuadro-imagen\n      v-for=\"cuadroImagen of estaPagina.cuadrosImagen\"\n      :key=\"cuadroImagen.id\"\n      :esteCuadroImagen=\"cuadroImagen\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n    />\n\n    <cuadro-texto\n      v-for=\"cuadroTexto of estaPagina.cuadrosTexto\"\n      :key=\"cuadroTexto.id\"\n      :esteCuadroTexto=\"cuadroTexto\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n    />\n  </div>\n</template>\n\n<script>\nimport { gql } from 'apollo-server-core';\nimport CuadroImagen from \"./CuadroImagen.vue\";\nimport CuadroTexto from \"./CuadroTexto.vue\";\n\nexport default {\n  components: { CuadroImagen, CuadroTexto },\n  name: \"Pagina\",\n  props: {\n    estaPagina: Object,\n    paginaDerecha: Boolean,\n    preparada: {\n      type: Boolean,\n      default: false,\n    },\n    visible: {\n      type: Boolean,\n    },\n    idLibro: String,\n    seleccionada:Boolean\n  },\n  data() {\n    return {\n      ancho: 450,\n      alto: 600,\n    };\n  },\n  computed: {\n    estiloColumna() {\n      if (this.paginaDerecha) {\n        return {\n          gridColumn: \"1/2\",\n          justifySelf: \"right\",\n        };\n      }\n      return null;\n    },\n    estiloSize() {\n      return {\n        width: this.ancho + \"px\",\n        height: this.alto + \"px\",\n      };\n    },\n    size() {\n      return {\n        x: this.ancho,\n        y: this.alto,\n      };\n    },\n    estiloApariencia() {\n      return {\n        backgroundColor: this.estaPagina.color,\n      };\n    },\n  },\n  methods:{\n    eliminarse(){\n      if(!confirm(\"Eliminando página. Esta operación no se puede deshacer. ¿Continuar?\")){\n        return;\n      }\n      console.log(`Eliminando una página`);\n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idLibro:ID!, $idPagina:ID!){\n            eliminarPaginaDeLibro(idLibro:$idLibro, idPagina:$idPagina)\n          }\n        `,\n        variables:{\n          idLibro:this.idLibro,\n          idPagina:this.estaPagina.id\n        }\n      }).then(({data:{eliminarPaginaDeLibro}})=>{\n        console.log(`Resultado: ${eliminarPaginaDeLibro}`);\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n.pagina {\n  border: 2px solid black;\n  position: relative;\n  z-index: 0;\n}\n\n.cuadroTexto {\n  z-index: 200;\n}\n.cuadroImagen {\n  z-index: 100;\n}\n.seleccionada{\n  border-color: purple;\n}\n\n.zonaControlesPagina{\n  text-align: center;\n  padding: 10px;\n  position: absolute;\n  top: -60px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.bControlesPagina{\n  width:30px;\n  height:30px;\n  border-radius: 50%;\n  \n  cursor: pointer;\n  display: inline-block;\n  background-color: rgb(255, 231, 255);\n}\n\n\n</style>"]}]}