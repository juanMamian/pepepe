{"remainingRequest":"/home/juan/webPj/pepepe/clientesSrc/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/clientesSrc/libro/src/components/Foro.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/clientesSrc/libro/src/components/Foro.vue","mtime":1621136399452},{"path":"/home/juan/webPj/pepepe/clientesSrc/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/clientesSrc/libro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/clientesSrc/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/clientesSrc/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/clientesSrc/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwovLyBpbXBvcnQgQ3JlYWRvckNvbnZlcnNhY2lvbiBmcm9tICIuL2Zvcm9zL0NyZWFkb3JDb252ZXJzYWNpb24udnVlIjsKaW1wb3J0IHsgZnJhZ21lbnRvQ29udmVyc2FjaW9uIH0gZnJvbSAiLi91dGlsaWRhZGVzL3JlY3Vyc29zR3FsIjsKaW1wb3J0IENvbnZlcnNhY2lvbiBmcm9tICIuL2Zvcm9zL0NvbnZlcnNhY2lvbi52dWUiOwppbXBvcnQgQ3VhZHJvUmVzcG9uZGVyIGZyb20gIi4vZm9yb3MvQ3VhZHJvUmVzcG9uZGVyLnZ1ZSI7Cgpjb25zdCBjaGFyUHJvaGliaWRvc1RpdHVsb051ZXZhQ29udmVyc2FjaW9uID0gL1teIGEtekEtWsOALcW+MC05XygpOi4sLcKhIcK/P10vOwoKY29uc3QgUVVFUllfRk9STyA9IGdxbGAKICBxdWVyeSgkaWRGb3JvOiBJRCEpIHsKICAgIGZvcm8oaWRGb3JvOiAkaWRGb3JvKSB7CiAgICAgIGlkCiAgICAgIGFjY2VzbwogICAgICBtaWVtYnJvcwogICAgfQogIH0KYDsKCmNvbnN0IFFVRVJZX0NPTlZFUlNBQ0lPTkVTX1BBR0lOQSA9IGdxbGAKICBxdWVyeSgkaWRGb3JvOiBJRCEsICRwYWdpbmE6IEludCEpIHsKICAgIGNvbnZlcnNhY2lvbmVzUGFnaW5hRm9ybyhpZEZvcm86ICRpZEZvcm8sIHBhZ2luYTogJHBhZ2luYSkgewogICAgICBwYWdpbmEKICAgICAgbnVtUGFnaW5hcwogICAgICBjb252ZXJzYWNpb25lcyB7CiAgICAgICAgLi4uZnJhZ0NvbnZlcnNhY2lvbgogICAgICB9CiAgICB9CiAgfQogICR7ZnJhZ21lbnRvQ29udmVyc2FjaW9ufQpgOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgQ29udmVyc2FjaW9uLCBDdWFkcm9SZXNwb25kZXIgfSwKICBuYW1lOiAiRm9ybyIsCiAgYXBvbGxvOiB7CiAgICBlc3RlRm9ybzogewogICAgICBxdWVyeTogUVVFUllfRk9STywKICAgICAgdmFyaWFibGVzKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZEZvcm86IHRoaXMuaWRGb3JvLAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGZldGNoUG9saWN5OiAiY2FjaGUtYW5kLW5ldHdvcmsiLAogICAgICB1cGRhdGU6IChkYXRhKSA9PiB7CiAgICAgICAgcmV0dXJuIGRhdGEuZm9ybzsKICAgICAgfSwKICAgICAgc2tpcCgpIHsKICAgICAgICByZXR1cm4gIXRoaXMuaWRGb3JvOwogICAgICB9LAogICAgfSwKICAgIG51bVBhZ2luYXM6IHsKICAgICAgcXVlcnk6IFFVRVJZX0NPTlZFUlNBQ0lPTkVTX1BBR0lOQSwKICAgICAgdmFyaWFibGVzKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZEZvcm86IHRoaXMuaWRGb3JvLAogICAgICAgICAgcGFnaW5hOiB0aGlzLm51bVBhZ2luYVNlbGVjY2lvbmFkYSwKICAgICAgICB9OwogICAgICB9LAogICAgICBmZXRjaFBvbGljeTogIm5vLWNhY2hlIiwKICAgICAgc2tpcCgpIHsKICAgICAgICByZXR1cm4gIXRoaXMuaWRGb3JvOwogICAgICB9LAogICAgICB1cGRhdGUoewogICAgICAgIGNvbnZlcnNhY2lvbmVzUGFnaW5hRm9ybzogeyBjb252ZXJzYWNpb25lcywgcGFnaW5hLCBudW1QYWdpbmFzIH0sCiAgICAgIH0pIHsKICAgICAgICBpZiAodGhpcy5udW1QYWdpbmFTZWxlY2Npb25hZGEgIT0gcGFnaW5hKSB7CiAgICAgICAgICB0aGlzLm51bVBhZ2luYVNlbGVjY2lvbmFkYSA9IHBhZ2luYTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29udmVyc2FjaW9uZXNQb3JQYWdpbmEsIHBhZ2luYSwgY29udmVyc2FjaW9uZXMpOwogICAgICAgIHJldHVybiBudW1QYWdpbmFzOwogICAgICB9LAogICAgfSwKICB9LAogIHByb3BzOiB7CiAgICBpZEZvcm86IFN0cmluZywKICAgIHBhcmVudDogT2JqZWN0LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVzdGVGb3JvOiB7CiAgICAgICAgbWllbWJyb3M6IFtdLAogICAgICAgIGNvbnZlcnNhY2lvbmVzOiBbXSwKICAgICAgfSwKICAgICAgaWRDb252ZXJzYWNpb25TZWxlY2Npb25hZGE6IG51bGwsCiAgICAgIGNyZWFuZG9Db252ZXJzYWNpb246IGZhbHNlLAogICAgICBudW1QYWdpbmFTZWxlY2Npb25hZGE6IDAsCiAgICAgIGNvbnZlcnNhY2lvbmVzUG9yUGFnaW5hOiB7fSwKCiAgICAgIHRpdHVsb051ZXZhQ29udmVyc2FjaW9uOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZENvbnZlcnNhY2lvbihudWV2YUNvbnZlcnNhY2lvbikgewogICAgICB0aGlzLmNyZWFuZG9Db252ZXJzYWNpb24gPSBmYWxzZTsKICAgICAgLy8gdmFyIHRhcmdldFBhZ2luYSA9IHRoaXMubnVtUGFnaW5hczsKICAgICAgLy8gY29uc29sZS5sb2coYFRhcmdldCBww6FnaW5hOiAke3RhcmdldFBhZ2luYX1gKTsKICAgICAgLy8gaWYgKAogICAgICAvLyAgIHRoaXMuY29udmVyc2FjaW9uZXNQb3JQYWdpbmFbdGFyZ2V0UGFnaW5hXS5sZW5ndGggPj0gNiB8fAogICAgICAvLyAgIHRhcmdldFBhZ2luYSA8IDEKICAgICAgLy8gKSB7CiAgICAgIC8vICAgdGFyZ2V0UGFnaW5hKys7CiAgICAgIC8vICAgaWYgKCF0aGlzLmNvbnZlcnNhY2lvbmVzUG9yUGFnaW5hW3RhcmdldFBhZ2luYV0pIHsKICAgICAgLy8gICAgIHRoaXMuJHNldCh0aGlzLmNvbnZlcnNhY2lvbmVzUG9yUGFnaW5hLCB0YXJnZXRQYWdpbmEsIFtdKTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0KICAgICAgLy8gY29uc29sZS5sb2coYFB1c2hpbmcgZW4gdGFyZ2V0UGFnaW5hICR7dGFyZ2V0UGFnaW5hfWApOwogICAgICAvLyB0aGlzLmNvbnZlcnNhY2lvbmVzUG9yUGFnaW5hW3RhcmdldFBhZ2luYV0ucHVzaChudWV2YUNvbnZlcnNhY2lvbik7CiAgICAgIHRoaXMuc2V0VG9kYUNvbnZlcnNhY2lvbkxlaWRhKG51ZXZhQ29udmVyc2FjaW9uLmlkKTsKCiAgICAgIC8vIGlmICh0aGlzLm51bVBhZ2luYVNlbGVjY2lvbmFkYSAhPSB0YXJnZXRQYWdpbmEpIHsKICAgICAgLy8gICB0aGlzLm51bVBhZ2luYVNlbGVjY2lvbmFkYSA9IHRhcmdldFBhZ2luYTsKICAgICAgLy8gfQogICAgICB0aGlzLnRpdHVsb051ZXZhQ29udmVyc2FjaW9uID0gbnVsbDsKICAgICAgdGhpcy5udW1QYWdpbmFTZWxlY2Npb25hZGE9MTsKICAgICAgdGhpcy4kYXBvbGxvLnF1ZXJpZXMubnVtUGFnaW5hcy5yZWZldGNoKCk7CgoKICAgIH0sCiAgICByZWZyZXNoUGFnaW5hKCkgewogICAgICAvL2xldCBzdG9yZSA9IHRoaXMuJGFwb2xsby5wcm92aWRlci5kZWZhdWx0Q2xpZW50OwogICAgICB0aGlzLmlkQ29udmVyc2FjaW9uU2VsZWNjaW9uYWRhID0gbnVsbDsKICAgICAgdGhpcy4kYXBvbGxvLnF1ZXJpZXMubnVtUGFnaW5hcy5yZWZyZXNoKCk7CiAgICB9LCAgICAKICAgIHNldFRvZGFDb252ZXJzYWNpb25MZWlkYShpZENvbnZlcnNhY2lvbikgewogICAgICBpZiAoIXRoaXMudXN1YXJpbyB8fCAhdGhpcy51c3VhcmlvLmlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKGBTZXR0aW5nIHRvZGEgY29udmVyc2FjacOzbiBsZWlkYWApOwoKICAgICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAgIC5tdXRhdGUoewogICAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICAgIG11dGF0aW9uKCRpZFVzdWFyaW86IElEISwgJGlkRm9ybzogSUQhLCAkaWRDb252ZXJzYWNpb246IElEISkgewogICAgICAgICAgICAgICAgc2V0VG9kYXNSZXNwdWVzdGFzQ29udmVyc2FjaW9uTGVpZGFzUG9yVXN1YXJpbygKICAgICAgICAgICAgICAgICAgaWRVc3VhcmlvOiAkaWRVc3VhcmlvCiAgICAgICAgICAgICAgICAgIGlkRm9ybzogJGlkRm9ybwogICAgICAgICAgICAgICAgICBpZENvbnZlcnNhY2lvbjogJGlkQ29udmVyc2FjaW9uCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBgLAogICAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgICBpZFVzdWFyaW86IHRoaXMudXN1YXJpby5pZCwKICAgICAgICAgICAgICBpZEZvcm86IHRoaXMuaWRGb3JvLAogICAgICAgICAgICAgIGlkQ29udmVyc2FjaW9uLAogICAgICAgICAgICB9LAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKAogICAgICAgICAgICAoeyBkYXRhOiB7IHNldFRvZGFzUmVzcHVlc3Rhc0NvbnZlcnNhY2lvbkxlaWRhc1BvclVzdWFyaW8gfSB9KSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAgICAgICBgUmVzdWx0YWRvOiAke3NldFRvZGFzUmVzcHVlc3Rhc0NvbnZlcnNhY2lvbkxlaWRhc1BvclVzdWFyaW99YAogICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0UmVzcHVlc3Rhc0xlaWRhc0NvbnZlcnNhY2lvblVzdWFyaW8iLCB7CiAgICAgICAgICAgICAgICBpZEZvcm86IHRoaXMuaWRGb3JvLAogICAgICAgICAgICAgICAgaWRDb252ZXJzYWNpb24sCiAgICAgICAgICAgICAgICByZXNwdWVzdGFzTGVpZGFzOiBzZXRUb2Rhc1Jlc3B1ZXN0YXNDb252ZXJzYWNpb25MZWlkYXNQb3JVc3VhcmlvLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvci4gRTogJHtlcnJvcn1gKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2V0Q29udmVyc2FjaW9uTGVpZGEoaWRDb252ZXJzYWNpb24sIGNhbnRpZGFkUmVzcHVlc3Rhc0xlaWRhcykgewogICAgICBpZiAoIXRoaXMudXN1YXJpbyB8fCAhdGhpcy51c3VhcmlvLmlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKGBTZXR0aW5nIGNvbnZlcnNhY2nDs24gbGVpZGFgKTsKCiAgICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgICAubXV0YXRlKHsKICAgICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgICBtdXRhdGlvbigKICAgICAgICAgICAgICAgICRpZFVzdWFyaW86IElEIQogICAgICAgICAgICAgICAgJGlkRm9ybzogSUQhCiAgICAgICAgICAgICAgICAkaWRDb252ZXJzYWNpb246IElEIQogICAgICAgICAgICAgICAgJGNhbnRpZGFkUmVzcHVlc3Rhc0xlaWRhczogSW50IQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgc2V0Q2FudGlkYWRSZXNwdWVzdGFzQ29udmVyc2FjaW9uTGVpZGFzUG9yVXN1YXJpbygKICAgICAgICAgICAgICAgICAgaWRVc3VhcmlvOiAkaWRVc3VhcmlvCiAgICAgICAgICAgICAgICAgIGlkRm9ybzogJGlkRm9ybwogICAgICAgICAgICAgICAgICBpZENvbnZlcnNhY2lvbjogJGlkQ29udmVyc2FjaW9uCiAgICAgICAgICAgICAgICAgIGNhbnRpZGFkUmVzcHVlc3Rhc0xlaWRhczogJGNhbnRpZGFkUmVzcHVlc3Rhc0xlaWRhcwogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgYCwKICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgaWRVc3VhcmlvOiB0aGlzLnVzdWFyaW8uaWQsCiAgICAgICAgICAgICAgaWRGb3JvOiB0aGlzLmlkRm9ybywKICAgICAgICAgICAgICBpZENvbnZlcnNhY2lvbiwKICAgICAgICAgICAgICBjYW50aWRhZFJlc3B1ZXN0YXNMZWlkYXM6IHBhcnNlSW50KGNhbnRpZGFkUmVzcHVlc3Rhc0xlaWRhcyksCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oCiAgICAgICAgICAgICh7CiAgICAgICAgICAgICAgZGF0YTogeyBzZXRDYW50aWRhZFJlc3B1ZXN0YXNDb252ZXJzYWNpb25MZWlkYXNQb3JVc3VhcmlvIH0sCiAgICAgICAgICAgIH0pID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgICAgIGBSZXN1bHRhZG86ICR7c2V0Q2FudGlkYWRSZXNwdWVzdGFzQ29udmVyc2FjaW9uTGVpZGFzUG9yVXN1YXJpb31gCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICBpZiAoc2V0Q2FudGlkYWRSZXNwdWVzdGFzQ29udmVyc2FjaW9uTGVpZGFzUG9yVXN1YXJpbykgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRSZXNwdWVzdGFzTGVpZGFzQ29udmVyc2FjaW9uVXN1YXJpbyIsIHsKICAgICAgICAgICAgICAgICAgaWRGb3JvOiB0aGlzLmlkRm9ybywKICAgICAgICAgICAgICAgICAgaWRDb252ZXJzYWNpb24sCiAgICAgICAgICAgICAgICAgIHJlc3B1ZXN0YXNMZWlkYXM6IGNhbnRpZGFkUmVzcHVlc3Rhc0xlaWRhcywKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgKQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IuIEU6ICR7ZXJyb3J9YCk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c3VhcmlvTWllbWJybygpIHsKICAgICAgaWYgKHRoaXMuZXN0ZUZvcm8uYWNjZXNvID09ICJwdWJsaWNvIikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZXN0ZUZvcm8uYWNjZXNvID09ICJwcml2YWRvIikgewogICAgICAgIGlmICh0aGlzLmVzdGVGb3JvLm1pZW1icm9zLmluY2x1ZGVzKHRoaXMuJHN0b3JlLnN0YXRlLnVzdWFyaW8uaWQpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGNvbnZlcnNhY2lvbkFiaWVydGEoKSB7CiAgICAgIHJldHVybiB0aGlzLmlkQ29udmVyc2FjaW9uU2VsZWNjaW9uYWRhOwogICAgfSwKICAgIHRpdHVsb051ZXZhQ29udmVyc2FjaW9uSWxlZ2FsKCkgewogICAgICBpZiAoCiAgICAgICAgIXRoaXMudGl0dWxvTnVldmFDb252ZXJzYWNpb24gfHwKICAgICAgICB0aGlzLnRpdHVsb051ZXZhQ29udmVyc2FjaW9uLmxlbmd0aCA8IDEKICAgICAgKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgaWYgKAogICAgICAgIGNoYXJQcm9oaWJpZG9zVGl0dWxvTnVldmFDb252ZXJzYWNpb24udGVzdCh0aGlzLnRpdHVsb051ZXZhQ29udmVyc2FjaW9uKQogICAgICApIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Foro.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Foro.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"foro\">\n    <div class=\"barraSuperiorForo\">\n      <div id=\"anuncio\" v-show=\"idConversacionSeleccionada === null\">\n        Conversaciones\n      </div>\n      <div\n        id=\"bRegresarConversaciones\"\n        v-show=\"idConversacionSeleccionada != null\"\n        @click=\"\n          idConversacionSeleccionada = null;\n          $apollo.queries.numPaginas.refetch();\n        \"\n      >\n        Volver a conversaciones\n      </div>\n      <div id=\"controlesForo\">\n        <div\n          class=\"controlesForo botonesControles\"\n          id=\"bCrearConversacion\"\n          v-if=\"\n            usuarioLogeado &&\n            (esteForo.acceso == 'publico' || usuarioMiembro == true || usuarioSuperadministrador) &&\n            esteForo.id\n          \"\n          v-show=\"!conversacionAbierta\"\n          @click=\"creandoConversacion = !creandoConversacion\"\n        >\n          {{ creandoConversacion ? \"Cancelar\" : \"Crear conversación\" }}\n        </div>\n      </div>\n    </div>\n    <div class=\"zonaConversaciones\">\n      <!-- <creador-conversacion\n        v-if=\"\n          usuarioLogeado &&\n          (esteForo.acceso == 'publico' || usuarioMiembro == true) &&\n          esteForo.id\n        \"\n        :idForo=\"esteForo.id\"\n        :parent=\"parent\"\n        v-show=\"creandoConversacion\"\n        @hiceConversacion=\"addConversacion($event)\"\n      /> -->\n      <div\n        id=\"zonaCrearConversacion\"\n        v-if=\"\n          usuarioLogeado &&\n          (esteForo.acceso == 'publico' || usuarioMiembro == true || usuarioSuperadministrador) &&\n          esteForo.id\n        \"\n        v-show=\"creandoConversacion\"\n      >\n        <center><h3>Creando conversación</h3></center>\n        <input\n          type=\"text\"\n          v-model=\"tituloNuevaConversacion\"\n          id=\"inputTituloNuevaConversacion\"\n          placeholder=\"Titulo de la nueva conversación\"\n          :class=\"{ letrasRojas: tituloNuevaConversacionIlegal }\"\n        />\n        <cuadro-responder\n          :idForo=\"esteForo.id\"\n          :parent=\"parent\"\n          :tituloNuevaConversacion=\"tituloNuevaConversacion\"\n          :class=\"{ deshabilitado: tituloNuevaConversacionIlegal }\"\n          @hiceConversacion=\"addConversacion($event)\"\n        />\n      </div>\n\n      <div class=\"zonaSelectorPagina\" v-if=\"numPaginas && !conversacionAbierta\">\n        <div\n          class=\"selectorPagina\"\n          v-for=\"index in numPaginas\"\n          :key=\"index\"\n          :class=\"{ selectorSeleccionado: index == numPaginaSeleccionada }\"\n          @click=\"numPaginaSeleccionada = index\"\n        >\n          {{ index }}\n        </div>\n      </div>\n      <div class=\"zonaPaginasConversaciones\" v-if=\"numPaginas\">\n        <div\n          class=\"paginaConversaciones\"\n          :key=\"index\"\n          v-for=\"index in numPaginas\"\n        ></div>\n        <conversacion\n          v-for=\"conversacion of conversacionesPorPagina[numPaginaSeleccionada]\"\n          :key=\"conversacion.id\"\n          :estaConversacion=\"conversacion\"\n          :seleccionado=\"idConversacionSeleccionada == conversacion.id\"\n          :usuarioMiembro=\"usuarioMiembro\"\n          :idForo=\"idForo\"\n          :parent=\"parent\"\n          v-show=\"\n            idConversacionSeleccionada == conversacion.id ||\n            !conversacionAbierta\n          \"\n          @click.native=\"idConversacionSeleccionada = conversacion.id\"\n          @meAbrieron=\"\n            setTodaConversacionLeida(conversacion.id)\n          \"\n          @meElimine=\"refreshPagina\"\n          @respuestaPublicada=\"\n            setTodaConversacionLeida(\n              conversacion.id,\n              conversacion.cantidadRespuestas\n            )\n          \"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n// import CreadorConversacion from \"./foros/CreadorConversacion.vue\";\nimport { fragmentoConversacion } from \"./utilidades/recursosGql\";\nimport Conversacion from \"./foros/Conversacion.vue\";\nimport CuadroResponder from \"./foros/CuadroResponder.vue\";\n\nconst charProhibidosTituloNuevaConversacion = /[^ a-zA-ZÀ-ž0-9_():.,-¡!¿?]/;\n\nconst QUERY_FORO = gql`\n  query($idForo: ID!) {\n    foro(idForo: $idForo) {\n      id\n      acceso\n      miembros\n    }\n  }\n`;\n\nconst QUERY_CONVERSACIONES_PAGINA = gql`\n  query($idForo: ID!, $pagina: Int!) {\n    conversacionesPaginaForo(idForo: $idForo, pagina: $pagina) {\n      pagina\n      numPaginas\n      conversaciones {\n        ...fragConversacion\n      }\n    }\n  }\n  ${fragmentoConversacion}\n`;\n\nexport default {\n  components: { Conversacion, CuadroResponder },\n  name: \"Foro\",\n  apollo: {\n    esteForo: {\n      query: QUERY_FORO,\n      variables() {\n        return {\n          idForo: this.idForo,\n        };\n      },\n      fetchPolicy: \"cache-and-network\",\n      update: (data) => {\n        return data.foro;\n      },\n      skip() {\n        return !this.idForo;\n      },\n    },\n    numPaginas: {\n      query: QUERY_CONVERSACIONES_PAGINA,\n      variables() {\n        return {\n          idForo: this.idForo,\n          pagina: this.numPaginaSeleccionada,\n        };\n      },\n      fetchPolicy: \"no-cache\",\n      skip() {\n        return !this.idForo;\n      },\n      update({\n        conversacionesPaginaForo: { conversaciones, pagina, numPaginas },\n      }) {\n        if (this.numPaginaSeleccionada != pagina) {\n          this.numPaginaSeleccionada = pagina;\n        }\n        this.$set(this.conversacionesPorPagina, pagina, conversaciones);\n        return numPaginas;\n      },\n    },\n  },\n  props: {\n    idForo: String,\n    parent: Object,\n  },\n  data() {\n    return {\n      esteForo: {\n        miembros: [],\n        conversaciones: [],\n      },\n      idConversacionSeleccionada: null,\n      creandoConversacion: false,\n      numPaginaSeleccionada: 0,\n      conversacionesPorPagina: {},\n\n      tituloNuevaConversacion: null,\n    };\n  },\n  methods: {\n    addConversacion(nuevaConversacion) {\n      this.creandoConversacion = false;\n      // var targetPagina = this.numPaginas;\n      // console.log(`Target página: ${targetPagina}`);\n      // if (\n      //   this.conversacionesPorPagina[targetPagina].length >= 6 ||\n      //   targetPagina < 1\n      // ) {\n      //   targetPagina++;\n      //   if (!this.conversacionesPorPagina[targetPagina]) {\n      //     this.$set(this.conversacionesPorPagina, targetPagina, []);\n      //   }\n      // }\n      // console.log(`Pushing en targetPagina ${targetPagina}`);\n      // this.conversacionesPorPagina[targetPagina].push(nuevaConversacion);\n      this.setTodaConversacionLeida(nuevaConversacion.id);\n\n      // if (this.numPaginaSeleccionada != targetPagina) {\n      //   this.numPaginaSeleccionada = targetPagina;\n      // }\n      this.tituloNuevaConversacion = null;\n      this.numPaginaSeleccionada=1;\n      this.$apollo.queries.numPaginas.refetch();\n\n\n    },\n    refreshPagina() {\n      //let store = this.$apollo.provider.defaultClient;\n      this.idConversacionSeleccionada = null;\n      this.$apollo.queries.numPaginas.refresh();\n    },    \n    setTodaConversacionLeida(idConversacion) {\n      if (!this.usuario || !this.usuario.id) {\n        return;\n      } else {\n        console.log(`Setting toda conversación leida`);\n\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation($idUsuario: ID!, $idForo: ID!, $idConversacion: ID!) {\n                setTodasRespuestasConversacionLeidasPorUsuario(\n                  idUsuario: $idUsuario\n                  idForo: $idForo\n                  idConversacion: $idConversacion\n                )\n              }\n            `,\n            variables: {\n              idUsuario: this.usuario.id,\n              idForo: this.idForo,\n              idConversacion,\n            },\n          })\n          .then(\n            ({ data: { setTodasRespuestasConversacionLeidasPorUsuario } }) => {\n              console.log(\n                `Resultado: ${setTodasRespuestasConversacionLeidasPorUsuario}`\n              );\n\n              this.$store.commit(\"setRespuestasLeidasConversacionUsuario\", {\n                idForo: this.idForo,\n                idConversacion,\n                respuestasLeidas: setTodasRespuestasConversacionLeidasPorUsuario,\n              });\n            }\n          )\n          .catch((error) => {\n            console.log(`Error. E: ${error}`);\n          });\n      }\n    },\n    setConversacionLeida(idConversacion, cantidadRespuestasLeidas) {\n      if (!this.usuario || !this.usuario.id) {\n        return;\n      } else {\n        console.log(`Setting conversación leida`);\n\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation(\n                $idUsuario: ID!\n                $idForo: ID!\n                $idConversacion: ID!\n                $cantidadRespuestasLeidas: Int!\n              ) {\n                setCantidadRespuestasConversacionLeidasPorUsuario(\n                  idUsuario: $idUsuario\n                  idForo: $idForo\n                  idConversacion: $idConversacion\n                  cantidadRespuestasLeidas: $cantidadRespuestasLeidas\n                )\n              }\n            `,\n            variables: {\n              idUsuario: this.usuario.id,\n              idForo: this.idForo,\n              idConversacion,\n              cantidadRespuestasLeidas: parseInt(cantidadRespuestasLeidas),\n            },\n          })\n          .then(\n            ({\n              data: { setCantidadRespuestasConversacionLeidasPorUsuario },\n            }) => {\n              console.log(\n                `Resultado: ${setCantidadRespuestasConversacionLeidasPorUsuario}`\n              );\n              if (setCantidadRespuestasConversacionLeidasPorUsuario) {\n                this.$store.commit(\"setRespuestasLeidasConversacionUsuario\", {\n                  idForo: this.idForo,\n                  idConversacion,\n                  respuestasLeidas: cantidadRespuestasLeidas,\n                });\n              }\n            }\n          )\n          .catch((error) => {\n            console.log(`Error. E: ${error}`);\n          });\n      }\n    },\n  },\n  computed: {\n    usuarioMiembro() {\n      if (this.esteForo.acceso == \"publico\") {\n        return true;\n      } else if (this.esteForo.acceso == \"privado\") {\n        if (this.esteForo.miembros.includes(this.$store.state.usuario.id)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    conversacionAbierta() {\n      return this.idConversacionSeleccionada;\n    },\n    tituloNuevaConversacionIlegal() {\n      if (\n        !this.tituloNuevaConversacion ||\n        this.tituloNuevaConversacion.length < 1\n      ) {\n        return true;\n      }\n      if (\n        charProhibidosTituloNuevaConversacion.test(this.tituloNuevaConversacion)\n      ) {\n        return true;\n      }\n      return false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.foro {\n  border: 2px solid white;\n  background-color: rgb(239 158 93);\n  margin: 0px auto;\n}\n#nombreForo {\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 20px;\n}\n\n.barraSuperiorForo {\n  display: grid;\n  grid-template-columns: 1fr 100px 1fr;\n}\n\n#bRegresarConversaciones {\n  padding: 15px 5px;\n  text-align: center;\n  cursor: pointer;\n  border-radius: 7px;\n  grid-column: 2/3;\n  justify-self: center;\n  align-self: center;\n  border: 1px solid black;\n  margin: 10px;\n  background-color: #f5a25f;\n}\n#bRegresarConversaciones:hover {\n  background-color: #f8cba6;\n}\n#controlesForo {\n  margin-left: auto;\n  display: flex;\n  flex-flow: row-reverse;\n  grid-column: 3/4;\n}\n.controlesForo {\n  margin-left: 10px;\n}\n.botonesControles {\n  padding: 3px 5px;\n  cursor: pointer;\n}\n.botonesControles:hover {\n  background-color: #f8cba6;\n}\n.zonaConversaciones {\n  padding-left: 0px;\n}\n\n.zonaSelectorPagina {\n  display: flex;\n  padding: 2px 10px;\n}\n.selectorPagina {\n  border: 1px solid black;\n  padding: 3px 5px;\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: #f7b57f;\n}\n\n.selectorPagina:hover {\n  background-color: #ffd0aa;\n}\n.selectorSeleccionado {\n  background-color: #ffd0aa;\n  pointer-events: none;\n  font-weight: bold;\n}\n#anuncio {\n  padding: 5px 5px;\n}\n#zonaCrearConversacion {\n  border: 2px solid cadetblue;\n  border-radius: 10px;\n  padding: 10px;\n  background-color: rgba(95, 158, 160, 0.329);\n}\n#inputTituloNuevaConversacion {\n  font-size: 20px;\n  padding: 3px 5px;\n  width: min(80%, 500px);\n}\n</style>"]}]}