{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/foros/Respuesta.vue?vue&type=style&index=0&id=02ceacf0&scoped=true&lang=css&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/foros/Respuesta.vue","mtime":1621134760648},{"path":"/home/juan/webPj/pepepe/libro/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnJlc3B1ZXN0YSB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSAyMDUgMTY0KTsKCiAgYm9yZGVyLXJhZGl1czogMTVweDsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtdGVtcGxhdGUtYXJlYXM6CiAgICAiaW5mbyBpbmZvIGluZm8iCiAgICAiYXV0b3IgbWVuc2FqZSBhZGp1bnRvIgogICAgIi4uLiBlbmxhY2VBZGp1bnRvIGVubGFjZUFkanVudG8iCiAgICAiY29udHJvbGVzIGNvbnRyb2xlcyBjb250cm9sZXMiOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMTAwcHggMWZyIDYwcHg7CiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiA1MHB4IDFmciBtaW4tY29udGVudCAxNXB4OwogIHJvdy1nYXA6IDEwcHg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7CiAgcGFkZGluZzogMTBweDsKfQouaW5mb1Jlc3B1ZXN0YSB7CiAgZm9udC1zaXplOiAxMHB4OwogIG1hcmdpbjogNXB4IDVweDsKICBjb2xvcjogZ3JheTsKICBncmlkLWFyZWE6IGluZm87CiAgd2lkdGg6IDEwMCU7Cn0KI3pvbmFDdWVycG9NZW5zYWplIHsKICBncmlkLWFyZWE6IG1lbnNhamU7CiAgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogMTBweDsKICBoZWlnaHQ6IDEwMCU7Cn0KLm1lbnNhamVSZXNwdWVzdGEgewogIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIGZvbnQtc2l6ZTogMjBweDsKfQouY2FyaXRhQXV0b3IgewogIHdpZHRoOiA3MHB4OwogIGhlaWdodDogNzBweDsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgZ3JpZC1hcmVhOiBhdXRvcjsKICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0Owp9Ci5jb250cm9sZXMgewogIGdyaWQtYXJlYTogY29udHJvbGVzOwogIHdpZHRoOiAxMDAlOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1mbG93OiByb3ctcmV2ZXJzZTsKICBmb250LXNpemU6IDEzcHg7Cn0KLmNvbnRyb2xSZXNwdWVzdGEgewogIHBhZGRpbmc6IDNweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmNvbnRyb2xSZXNwdWVzdGE6aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6IHJlZDsKfQojYXJjaGl2byB7CiAgcGFkZGluZzogNXB4Owp9CgojaW1nRG93bmxvYWRBcmNoaXZvIHsKICBncmlkLWFyZWE6IGFkanVudG87CiAgd2lkdGg6IDQ1cHg7CiAgaGVpZ2h0OiA0NXB4OwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGJiMzZiOwp9CgouZW5sYWNlc0FkanVudG9zIHsKICBncmlkLWFyZWE6IGVubGFjZUFkanVudG87CiAganVzdGlmeS1zZWxmOiBsZWZ0Owp9Ci5lbmxhY2VBZGp1bnRvIHsKICBmb250LXN0eWxlOiBpdGFsaWM7CiAgZm9udC1zaXplOiAxNHB4OwogIHdvcmQtd3JhcDogYnJlYWstd29yZDsKICBib3JkZXItcmFkaXVzOiAxNXB4OwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTI5LCA2NiwgMTI5LCAwLjM0OSk7CiAgcGFkZGluZzogM3B4IDVweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgbWF4LXdpZHRoOiA2MDBweDsKICBtYXJnaW46IDNweDsKfQouZW5sYWNlQWRqdW50bzpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMjksIDY2LCAxMjksIDAuNzMzKTsKfQouYm90b25JbnNlcnRhciB7CiAgYm9yZGVyLXJhZGl1czogNTAlOwogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmJvdG9uSW5zZXJ0YXI6aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6IGdyYXk7Cn0K"},{"version":3,"sources":["Respuesta.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Respuesta.vue","sourceRoot":"src/components/foros","sourcesContent":["<template>\n  <div class=\"respuesta\">\n    <div class=\"infoRespuesta\">{{ fechaFormateada }}</div>\n    <img\n      :src=\"\n        this.serverUrl +\n        '/api/usuarios/fotografias/' +\n        estaRespuesta.infoAutor.id\n      \"\n      :alt=\"estaRespuesta.infoAutor.nombre\"\n      class=\"caritaAutor\"\n    />\n    <div id=\"zonaCuerpoMensaje\">\n      <div class=\"mensajeRespuesta\">\n        {{ estaRespuesta.mensaje }}\n      </div>\n      <interpolacion\n        v-for=\"interpolacion of estaRespuesta.interpolaciones\"\n        :key=\"interpolacion.id\"\n        :estaInterpolacion=\"interpolacion\"\n      />\n    </div>\n\n    <div\n      id=\"archivo\"\n      v-if=\"\n        estaRespuesta.archivo && estaRespuesta.archivo.googleDriveDirectLink\n      \"\n    >\n      <a :href=\"estaRespuesta.archivo.googleDriveDirectLink\">\n        <img\n          src=\"@/assets/iconos/downloadFile.png\"\n          alt=\"Descargar archivo\"\n          id=\"imgDownloadArchivo\"\n        />\n      </a>\n    </div>\n\n    <div\n      class=\"enlacesAdjuntos\"\n      v-show=\"\n        estaRespuesta.enlaceAdjunto && estaRespuesta.enlaceAdjunto.length > 0\n      \"\n    >\n      <a\n        target=\"_blank\"\n        :href=\"enlace\"\n        :key=\"index\"\n        v-for=\"(enlace, index) of estaRespuesta.enlaceAdjunto\"\n      >\n        <div class=\"enlaceAdjunto\">\n          {{ enlace }}\n        </div>\n      </a>\n    </div>\n\n    <div class=\"controles\">\n      <img\n        src=\"@/assets/iconos/quote.png\"\n        alt=\"Cita\"\n        title=\"Citar esta respuesta\"\n        class=\"botonInsertar\"\n        @click=\"emitirSolicitudCita\"\n      />\n      <div\n        class=\"controlRespuesta\"\n        id=\"bEliminar\"\n        v-if=\"usuarioSuperadministrador\"\n        @click=\"eliminarse\"\n      >\n        Eliminar\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Interpolacion from \"./Interpolacion.vue\";\nexport default {\n  components: { Interpolacion },\n  name: \"Respuesta\",\n  props: {\n    estaRespuesta: {\n      type: Object,\n    },\n    idConversacion: String,\n  },\n  computed: {\n    fechaFormateada: function () {\n      let laFecha = new Date(this.estaRespuesta.fecha).toString();\n      let indexParentesis = laFecha.indexOf(\"(\");\n      let fechaCorta = laFecha.substr(0, indexParentesis);\n      let indexGMT = fechaCorta.indexOf(\"GMT\");\n      if (indexGMT > -1) {\n        fechaCorta = fechaCorta.substr(0, indexGMT);\n      }\n      return fechaCorta;\n    },\n    usuarioAutor: function () {\n      if (this.usuario.id == this.estaRespuesta.infoAutor.id) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    emitirSolicitudCita(){\n      var quote={\n        mensaje: this.estaRespuesta.mensaje,\n        interpolaciones:this.estaRespuesta.interpolaciones,\n        infoAutor:this.estaRespuesta.infoAutor,\n        fecha:this.estaRespuesta.fecha \n      }\n\n      quote.interpolaciones.forEach(interpolacion=>{\n        delete interpolacion.__typename;\n      })\n      delete quote.infoAutor.__typename;\n\n      this.$emit('meQuierenCitar', quote)\n    },\n    eliminarse() {\n      let dis = this;\n      if (!confirm(\"Eliminando respuesta Â¿Continuar?\")) {\n        return;\n      }\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation($idRespuesta: ID!, $idConversacion: ID!) {\n            eliminarRespuesta(\n              idRespuesta: $idRespuesta\n              idConversacion: $idConversacion\n            )\n          }\n        `,\n        variables: {\n          idRespuesta: this.estaRespuesta.id,\n          idConversacion: this.idConversacion,\n        },\n        update(store, { data: { eliminarRespuesta } }) {\n          if (eliminarRespuesta) {\n            console.log(`Respuesta eliminada`);\n            dis.$emit(\"meElimine\");\n          }\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.respuesta {\n  background-color: rgb(255 205 164);\n\n  border-radius: 15px;\n  display: grid;\n  grid-template-areas:\n    \"info info info\"\n    \"autor mensaje adjunto\"\n    \"... enlaceAdjunto enlaceAdjunto\"\n    \"controles controles controles\";\n  grid-template-columns: 100px 1fr 60px;\n  grid-template-rows: 50px 1fr min-content 15px;\n  row-gap: 10px;\n  align-items: center;\n  justify-items: center;\n  padding: 10px;\n}\n.infoRespuesta {\n  font-size: 10px;\n  margin: 5px 5px;\n  color: gray;\n  grid-area: info;\n  width: 100%;\n}\n#zonaCuerpoMensaje {\n  grid-area: mensaje;\n  width: 100%;\n  padding: 10px;\n  height: 100%;\n}\n.mensajeRespuesta {\n  white-space: pre-wrap;\n  margin-bottom: 15px;\n  font-size: 20px;\n}\n.caritaAutor {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  grid-area: autor;\n  align-self: flex-start;\n}\n.controles {\n  grid-area: controles;\n  width: 100%;\n  display: flex;\n  flex-flow: row-reverse;\n  font-size: 13px;\n}\n.controlRespuesta {\n  padding: 3px;\n  cursor: pointer;\n}\n.controlRespuesta:hover {\n  background-color: red;\n}\n#archivo {\n  padding: 5px;\n}\n\n#imgDownloadArchivo {\n  grid-area: adjunto;\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  background-color: #4bb36b;\n}\n\n.enlacesAdjuntos {\n  grid-area: enlaceAdjunto;\n  justify-self: left;\n}\n.enlaceAdjunto {\n  font-style: italic;\n  font-size: 14px;\n  word-wrap: break-word;\n  border-radius: 15px;\n  background-color: rgba(129, 66, 129, 0.349);\n  padding: 3px 5px;\n  cursor: pointer;\n  max-width: 600px;\n  margin: 3px;\n}\n.enlaceAdjunto:hover {\n  background-color: rgba(129, 66, 129, 0.733);\n}\n.botonInsertar {\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n.botonInsertar:hover {\n  background-color: gray;\n}\n</style>"]}]}