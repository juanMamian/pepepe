{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/CuadroTexto.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/CuadroTexto.vue","mtime":1617578234830},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdxbCB9IGZyb20gImFwb2xsby1zZXJ2ZXItY29yZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3VhZHJvVGV4dG8iLAogIHByb3BzOiB7CiAgICBpZExpYnJvOiBTdHJpbmcsCiAgICBpZFBhZ2luYTogU3RyaW5nLAogICAgZXN0ZUN1YWRyb1RleHRvOiBPYmplY3QsCiAgICBzaXplUGFnaW5hOiBPYmplY3QsCiAgICBzZWxlY2Npb25hZG86IEJvb2xlYW4sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9udFNpemVEdW1teTogMTAsCiAgICAgIGZvbnRTaXplSW5wdXREdW1teTogMTAsCiAgICAgIGZvbnRTaXplVGV4dG86IDEwLAogICAgICBmb250U2l6ZUlucHV0OiAxMCwKCiAgICAgIHJlc2l6aW5nOiBmYWxzZSwKICAgICAgZHJhZ2dpbmc6IGZhbHNlLAoKICAgICAgcG9zaWNpb246IHsKICAgICAgICB4OiBudWxsLAogICAgICAgIHk6IG51bGwsCiAgICAgIH0sCiAgICAgIHNpemU6IHsKICAgICAgICB4OiBudWxsLAogICAgICAgIHk6IG51bGwsCiAgICAgIH0sCiAgICAgIHVwZGF0aW5nSW5mbzogZmFsc2UsCgogICAgICBudWV2b1RleHRvOiBudWxsLAogICAgICBlZGl0YW5kb1RleHRvOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZXN0aWxvTGF5b3V0KCkgewogICAgICByZXR1cm4gewogICAgICAgIHRvcDogdGhpcy5wb3NpY2lvbi55ICsgIiUiLAogICAgICAgIGxlZnQ6IHRoaXMucG9zaWNpb24ueCArICIlIiwKCiAgICAgICAgd2lkdGg6IHRoaXMuc2l6ZS54ICsgIiUiLAogICAgICAgIGhlaWdodDogdGhpcy5zaXplLnkgKyAiJSIsCiAgICAgIH07CiAgICB9LAogICAgZXN0aWxvRm9ybWF0bygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0ZXh0QWxpZ246IHRoaXMuZXN0ZUN1YWRyb1RleHRvLmZvcm1hdG8uYWxpbmVhY2lvbiwKICAgICAgICBjb2xvcjogdGhpcy5lc3RlQ3VhZHJvVGV4dG8uZm9ybWF0by5jb2xvckxldHJhLAogICAgICAgIGZvbnRGYW1pbHk6CiAgICAgICAgICB0aGlzLmVzdGVDdWFkcm9UZXh0by5mb3JtYXRvLnRpcG9MZXRyYSArICIsICdOdW5pdG8nLCBzYW5zLXNlcmlmIiwKICAgICAgfTsKICAgIH0sCiAgICBlc3RpbG9Gb250U2l6ZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZVRleHRvICsgInB4IiwKICAgICAgfTsKICAgIH0sCiAgICBlc3RpbG9WaXNpYmlsaWRhZFRleHRvKCkgewogICAgICByZXR1cm4gewogICAgICAgIHZpc2liaWxpdHk6IHRoaXMuZWRpdGFuZG9UZXh0byA/ICJoaWRkZW4iIDogInZpc2libGUiLAogICAgICB9OwogICAgfSwKICAgIGVzdGlsb0ZvbnRTaXplSW5wdXQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemVJbnB1dCArICJweCIsCiAgICAgIH07CiAgICB9LAogICAgZXN0aWxvRHVtbXkoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemVEdW1teSArICJweCIsCiAgICAgIH07CiAgICB9LAogICAgZXN0aWxvSW5wdXREdW1teSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZUlucHV0RHVtbXkgKyAicHgiLAogICAgICB9OwogICAgfSwKICAgIHNpemVSZXNpemVIYW5kbGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHRoaXMucmVzaXppbmcgPyAyMDAgKyAicHgiIDogMTAgKyAicHgiLAogICAgICAgIGhlaWdodDogdGhpcy5yZXNpemluZyA/IDIwMCArICJweCIgOiAxMCArICJweCIsCiAgICAgIH07CiAgICB9LAogICAgc2l6ZURyYWdIYW5kbGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHRoaXMuZHJhZ2dpbmcgPyAyMDAgKyAicHgiIDogMTAgKyAicHgiLAogICAgICAgIGhlaWdodDogdGhpcy5kcmFnZ2luZyA/IDIwMCArICJweCIgOiAxMCArICJweCIsCiAgICAgIH07CiAgICB9LAogICAgdXJsQXVkaW8oKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgdGhpcy5zZXJ2ZXJVcmwgKwogICAgICAgICIvYXBpQ3VlbnRvcy9hdWRpb1RleHRvLyIgKwogICAgICAgIHRoaXMuaWRMaWJybyArCiAgICAgICAgIi8iICsKICAgICAgICB0aGlzLmlkUGFnaW5hICsKICAgICAgICAiLyIgKwogICAgICAgIHRoaXMuZXN0ZUN1YWRyb1RleHRvLmlkCiAgICAgICk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgcGxheUF1ZGlvKCkgewogICAgICBpZiAoIXRoaXMuZXN0ZUN1YWRyb1RleHRvLmF1ZGlvKSByZXR1cm47CiAgICAgIGNvbnNvbGUubG9nKGBSZXByb2R1Y2llbmRvYCk7CiAgICAgIHRoaXMuJHJlZnMuYXVkaW8ucGxheSgpOwogICAgfSwKCiAgICBpbmljaWFyUmVzaXplKCkgewogICAgICB0aGlzLnJlc2l6aW5nID0gdHJ1ZTsKICAgIH0sCiAgICByZXNpemUoZSkgewogICAgICBpZiAodGhpcy5yZXNpemluZykgewogICAgICAgIHZhciBjdWFkcm9Qb3MgPSB7CiAgICAgICAgICB4OiB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LAogICAgICAgICAgeTogdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLAogICAgICAgIH07CgogICAgICAgIHZhciBudWV2b3ggPSBlLmNsaWVudFggLSBjdWFkcm9Qb3MueCAtIDU7CiAgICAgICAgdmFyIG51ZXZveSA9IGUuY2xpZW50WSAtIGN1YWRyb1Bvcy55IC0gNTsKCiAgICAgICAgaWYgKG51ZXZveCA8IDE1IHx8IG51ZXZveSA8IDE1KSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgT2ZmbGltaXRzYCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBpZiAoCiAgICAgICAgLy8gICBlLmNsaWVudFkgPiBjdWFkcm9Qb3MueSArIHRoaXMuc2l6ZVBhZ2luYS55CiAgICAgICAgLy8gKSB7CiAgICAgICAgLy8gICBudWV2b3ggPSB0aGlzLnNpemVQYWdpbmEueCAtIGN1YWRyb1Bvcy54OwogICAgICAgIC8vIH0KCiAgICAgICAgLy8gaWYgKAogICAgICAgIC8vICAgZS5jbGllbnRZID4gY3VhZHJvUG9zLnkgKyB0aGlzLnNpemVQYWdpbmEueQogICAgICAgIC8vICkgewogICAgICAgIC8vICAgbnVldm95ID0gdGhpcy5zaXplUGFnaW5hLnkgLSBjdWFkcm9Qb3MueTsKICAgICAgICAvLyB9CgogICAgICAgIHZhciBudWV2b3hQID0gTWF0aC5yb3VuZCgobnVldm94ICogMTAwKSAvIHRoaXMuc2l6ZVBhZ2luYS54KTsKICAgICAgICB2YXIgbnVldm95UCA9IE1hdGgucm91bmQoKG51ZXZveSAqIDEwMCkgLyB0aGlzLnNpemVQYWdpbmEueSk7CgogICAgICAgIGlmICh0aGlzLnBvc2ljaW9uLnggKyBudWV2b3hQID4gMTAwKQogICAgICAgICAgbnVldm94UCA9IE1hdGguZmxvb3IoMTAwIC0gdGhpcy5wb3NpY2lvbi54KTsKICAgICAgICBpZiAodGhpcy5wb3NpY2lvbi55ICsgbnVldm95UCA+IDEwMCkKICAgICAgICAgIG51ZXZveVAgPSBNYXRoLmZsb29yKDEwMCAtIHRoaXMucG9zaWNpb24ueSk7CgogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpemUsICJ4IiwgbnVldm94UCk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuc2l6ZSwgInkiLCBudWV2b3lQKTsKICAgICAgfQogICAgfSwKICAgIGZpblJlc2l6ZSgpIHsKICAgICAgdGhpcy5yZXNpemluZyA9IGZhbHNlOwogICAgICB0aGlzLmZvbnRTaXplRHVtbXkgPSAxMDsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZmluZEZvbnRTaXplKCk7CgogICAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24oCiAgICAgICAgICAgICAgJGlkTGlicm86IElEIQogICAgICAgICAgICAgICRpZFBhZ2luYTogSUQhCiAgICAgICAgICAgICAgJGlkQ3VhZHJvVGV4dG86IElEIQogICAgICAgICAgICAgICRudWV2b1NpemU6IENvb3Jkc0lucHV0IQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB1cGRhdGVTaXplQ3VhZHJvVGV4dG8oCiAgICAgICAgICAgICAgICBpZExpYnJvOiAkaWRMaWJybwogICAgICAgICAgICAgICAgaWRQYWdpbmE6ICRpZFBhZ2luYQogICAgICAgICAgICAgICAgaWRDdWFkcm9UZXh0bzogJGlkQ3VhZHJvVGV4dG8KICAgICAgICAgICAgICAgIG51ZXZvU2l6ZTogJG51ZXZvU2l6ZQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIHNpemUgewogICAgICAgICAgICAgICAgICB4CiAgICAgICAgICAgICAgICAgIHkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvLAogICAgICAgICAgICBpZFBhZ2luYTogdGhpcy5pZFBhZ2luYSwKICAgICAgICAgICAgaWRDdWFkcm9UZXh0bzogdGhpcy5lc3RlQ3VhZHJvVGV4dG8uaWQsCiAgICAgICAgICAgIG51ZXZvU2l6ZTogdGhpcy5zaXplLAogICAgICAgICAgfSwKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGZpbmRGb250U2l6ZSgpIHsKICAgICAgaWYgKAogICAgICAgICF0aGlzLmVzdGVDdWFkcm9UZXh0byB8fAogICAgICAgICF0aGlzLmVzdGVDdWFkcm9UZXh0by50ZXh0byB8fAogICAgICAgIHRoaXMuZXN0ZUN1YWRyb1RleHRvLnRleHRvLmxlbmd0aCA8IDEKICAgICAgKQogICAgICAgIHJldHVybjsKICAgICAgY29uc29sZS5sb2coYEFqdXN0YW5kbyBmb250IHNpemUgdGV4dG9gKTsKICAgICAgbGV0IGhUZXh0byA9IHRoaXMuJHJlZnMudGV4dG8ub2Zmc2V0SGVpZ2h0OwogICAgICBsZXQgaER1bW15ID0gdGhpcy4kcmVmcy50ZXh0b0R1bW15Lm9mZnNldEhlaWdodDsKICAgICAgbGV0IHdEdW1teSA9IHRoaXMuJHJlZnMudGV4dG9EdW1teS5zY3JvbGxXaWR0aDsKICAgICAgbGV0IHdUZXh0byA9IHRoaXMuJHJlZnMudGV4dG8ub2Zmc2V0V2lkdGg7CiAgICAgIC8vIGlmICghY29uZmlybSgiY29udGludWFyIikpIHsKICAgICAgLy8gICByZXR1cm47CiAgICAgIC8vIH0KICAgICAgY29uc29sZS5sb2coYER1bW15OiAke3dEdW1teX14JHtoRHVtbXl9LiBUZXh0bzogJHt3VGV4dG99eCR7aFRleHRvfWApOwoKICAgICAgaWYgKGhEdW1teSA+PSBoVGV4dG8gfHwgd0R1bW15ID49IHdUZXh0bykgewogICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICAgYEVsIGR1bW15IGVzIG3DoXMgZ3JhbmRlIHF1ZSBlbCB0ZXh0by4gRGlzbWludXllbmRvIGZvbnQgc2l6ZWAKICAgICAgICApOwogICAgICAgIHRoaXMuZm9udFNpemVEdW1teSA9IHRoaXMuZm9udFNpemVEdW1teSAtIDI7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgbGV0IGhUZXh0byA9IHRoaXMuJHJlZnMudGV4dG8ub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgbGV0IGhEdW1teSA9IHRoaXMuJHJlZnMudGV4dG9EdW1teS5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICBsZXQgd0R1bW15ID0gdGhpcy4kcmVmcy50ZXh0b0R1bW15LnNjcm9sbFdpZHRoOwogICAgICAgICAgbGV0IHdUZXh0byA9IHRoaXMuJHJlZnMudGV4dG8ub2Zmc2V0V2lkdGg7CiAgICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgYEFob3JhOiBEdW1teTogJHt3RHVtbXl9eCR7aER1bW15fS4gdGV4dG86ICR7d1RleHRvfXgke2hUZXh0b31gCiAgICAgICAgICApOwoKICAgICAgICAgIGlmICgoaER1bW15IDwgaFRleHRvICYmIHdEdW1teSA8IHdUZXh0bykgfHwgdGhpcy5mb250U2l6ZUR1bW15IDwgNSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhgRW5jb250cmFkb2ApOwogICAgICAgICAgICB0aGlzLmZvbnRTaXplVGV4dG8gPSB0aGlzLmZvbnRTaXplRHVtbXk7CiAgICAgICAgICAgIHRoaXMuZm9udFNpemVJbnB1dCA9IHRoaXMuZm9udFNpemVEdW1teTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5maW5kRm9udFNpemUoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChoRHVtbXkgPCBoVGV4dG8gJiYgd0R1bW15IDwgd1RleHRvKSB7CiAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICBgRWwgZHVtbXkgZXMgbcOhcyBwZXF1ZcOxbyBxdWUgZWwgdGV4dG8uIENyZWNpZW5kbyBmb250IHNpemVgCiAgICAgICAgKTsKICAgICAgICB0aGlzLmZvbnRTaXplRHVtbXkgPSB0aGlzLmZvbnRTaXplRHVtbXkgKyAyOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIGxldCBoVGV4dG8gPSB0aGlzLiRyZWZzLnRleHRvLm9mZnNldEhlaWdodDsKICAgICAgICAgIGxldCBoRHVtbXkgPSB0aGlzLiRyZWZzLnRleHRvRHVtbXkub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgbGV0IHdEdW1teSA9IHRoaXMuJHJlZnMudGV4dG9EdW1teS5zY3JvbGxXaWR0aDsKICAgICAgICAgIGxldCB3VGV4dG8gPSB0aGlzLiRyZWZzLnRleHRvLm9mZnNldFdpZHRoOwogICAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAgIGBBaG9yYTogRHVtbXk6ICR7d0R1bW15fXgke2hEdW1teX0uIFRleHRvOiAke3dUZXh0b314JHtoVGV4dG99YAogICAgICAgICAgKTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgaER1bW15ID49IGhUZXh0byB8fAogICAgICAgICAgICB3RHVtbXkgPj0gd1RleHRvIHx8CiAgICAgICAgICAgIHRoaXMuZm9udFNpemVEdW1teSA+IDEwMAogICAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbmNvbnRyYWRvYCk7CiAgICAgICAgICAgIHRoaXMuZm9udFNpemVEdW1teSA9IHRoaXMuZm9udFNpemVEdW1teSAtIDI7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBRdWVkw7MgZW4gJHt0aGlzLmZvbnRTaXplRHVtbXl9YCk7CiAgICAgICAgICAgIHRoaXMuZm9udFNpemVUZXh0byA9IHRoaXMuZm9udFNpemVEdW1teTsKICAgICAgICAgICAgdGhpcy5mb250U2l6ZUlucHV0ID0gdGhpcy5mb250U2l6ZUR1bW15OwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5maW5kRm9udFNpemUoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGZpbmRGb250U2l6ZUlucHV0KCkgewogICAgICBpZiAoIXRoaXMubnVldm9UZXh0byB8fCB0aGlzLm51ZXZvVGV4dG8ubGVuZ3RoIDwgMSkgcmV0dXJuOwogICAgICBjb25zb2xlLmxvZyhgQWp1c3RhbmRvIGZvbnQgc2l6ZSBpbnB1dGApOwogICAgICBsZXQgaElucHV0ID0gdGhpcy4kcmVmcy5pbnB1dE51ZXZvVGV4dG8ub2Zmc2V0SGVpZ2h0OwogICAgICBsZXQgaER1bW15ID0gdGhpcy4kcmVmcy5kdW1teUlucHV0LnNjcm9sbEhlaWdodDsKICAgICAgbGV0IHdEdW1teSA9IHRoaXMuJHJlZnMuZHVtbXlJbnB1dC5zY3JvbGxXaWR0aDsKICAgICAgbGV0IHdJbnB1dCA9IHRoaXMuJHJlZnMuaW5wdXROdWV2b1RleHRvLm9mZnNldFdpZHRoOwogICAgICAvLyBpZiAoIWNvbmZpcm0oImNvbnRpbnVhciIpKSB7CiAgICAgIC8vICAgcmV0dXJuOwogICAgICAvLyB9CiAgICAgIGNvbnNvbGUubG9nKGBEdW1teTogJHt3RHVtbXl9eCR7aER1bW15fS4gSW5wdXQ6ICR7d0lucHV0fXgke2hJbnB1dH1gKTsKCiAgICAgIGlmIChoRHVtbXkgPj0gaElucHV0IHx8IHdEdW1teSA+PSB3SW5wdXQpIHsKICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgIGBFbCBkdW1teSBlcyBtw6FzIGdyYW5kZSBxdWUgZWwgaW5wdXQuIERpc21pbnV5ZW5kbyBmb250IHNpemVgCiAgICAgICAgKTsKICAgICAgICB0aGlzLmZvbnRTaXplSW5wdXREdW1teSA9IHRoaXMuZm9udFNpemVJbnB1dER1bW15IC0gMjsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBsZXQgaElucHV0ID0gdGhpcy4kcmVmcy5pbnB1dE51ZXZvVGV4dG8ub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgbGV0IGhEdW1teSA9IHRoaXMuJHJlZnMuZHVtbXlJbnB1dC5zY3JvbGxIZWlnaHQ7CiAgICAgICAgICBsZXQgd0R1bW15ID0gdGhpcy4kcmVmcy5kdW1teUlucHV0LnNjcm9sbFdpZHRoOwogICAgICAgICAgbGV0IHdJbnB1dCA9IHRoaXMuJHJlZnMuaW5wdXROdWV2b1RleHRvLm9mZnNldFdpZHRoOwogICAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAgIGBBaG9yYTogRHVtbXk6ICR7d0R1bW15fXgke2hEdW1teX0uIElucHV0OiAke3dJbnB1dH14JHtoSW5wdXR9YAogICAgICAgICAgKTsKCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIChoRHVtbXkgPCBoSW5wdXQgJiYgd0R1bW15IDwgd0lucHV0KSB8fAogICAgICAgICAgICB0aGlzLmZvbnRTaXplSW5wdXREdW1teSA8IDUKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLmZvbnRTaXplSW5wdXQgPSB0aGlzLmZvbnRTaXplSW5wdXREdW1teTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5maW5kRm9udFNpemVJbnB1dCgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGhEdW1teSA8IGhJbnB1dCAmJiB3RHVtbXkgPCB3SW5wdXQpIHsKICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgIGBFbCBkdW1teSBlcyBtw6FzIHBlcXVlw7FvIHF1ZSBlbCBpbnB1dC4gQ3JlY2llbmRvIGZvbnQgc2l6ZWAKICAgICAgICApOwogICAgICAgIHRoaXMuZm9udFNpemVJbnB1dER1bW15ID0gdGhpcy5mb250U2l6ZUlucHV0RHVtbXkgKyAyOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIGxldCBoSW5wdXQgPSB0aGlzLiRyZWZzLmlucHV0TnVldm9UZXh0by5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICBsZXQgaER1bW15ID0gdGhpcy4kcmVmcy5kdW1teUlucHV0LnNjcm9sbEhlaWdodDsKICAgICAgICAgIGxldCB3RHVtbXkgPSB0aGlzLiRyZWZzLmR1bW15SW5wdXQuc2Nyb2xsV2lkdGg7CiAgICAgICAgICBsZXQgd0lucHV0ID0gdGhpcy4kcmVmcy5pbnB1dE51ZXZvVGV4dG8ub2Zmc2V0V2lkdGg7CiAgICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgYEFob3JhOiBEdW1teTogJHt3RHVtbXl9eCR7aER1bW15fS4gSW5wdXQ6ICR7d0lucHV0fXgke2hJbnB1dH1gCiAgICAgICAgICApOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBoRHVtbXkgPj0gaElucHV0IHx8CiAgICAgICAgICAgIHdEdW1teSA+PSB3SW5wdXQgfHwKICAgICAgICAgICAgdGhpcy5mb250U2l6ZUlucHV0RHVtbXkgPiAxMDAKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLmZvbnRTaXplSW5wdXREdW1teSA9IHRoaXMuZm9udFNpemVJbnB1dER1bW15IC0gMjsKICAgICAgICAgICAgdGhpcy5mb250U2l6ZUlucHV0ID0gdGhpcy5mb250U2l6ZUlucHV0RHVtbXk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZmluZEZvbnRTaXplSW5wdXQoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBndWFyZGFyTnVldm9UZXh0bygpIHsKICAgICAgaWYgKHRoaXMubnVldm9UZXh0by5sZW5ndGggPiAzMDAwKSB7CiAgICAgICAgYWxlcnQoIlRleHRvIGRlbWFzaWFkbyBsYXJnbyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5udWV2b1RleHRvID09IHRoaXMuZXN0ZUN1YWRyb1RleHRvLnRleHRvKSB7CiAgICAgICAgY29uc29sZS5sb2coYFRleHRvIG5vIG1vZGlmaWNhZG9gKTsKICAgICAgICB0aGlzLmVkaXRhbmRvVGV4dG8gPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy51cGRhdGluZ0luZm8gPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uKAogICAgICAgICAgICAgICRpZExpYnJvOiBJRCEKICAgICAgICAgICAgICAkaWRQYWdpbmE6IElEIQogICAgICAgICAgICAgICRpZEN1YWRyb1RleHRvOiBJRCEKICAgICAgICAgICAgICAkbnVldm9UZXh0bzogU3RyaW5nIQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB1cGRhdGVUZXh0b0N1YWRyb1RleHRvQ3VlbnRvKAogICAgICAgICAgICAgICAgaWRMaWJybzogJGlkTGlicm8KICAgICAgICAgICAgICAgIGlkUGFnaW5hOiAkaWRQYWdpbmEKICAgICAgICAgICAgICAgIGlkQ3VhZHJvVGV4dG86ICRpZEN1YWRyb1RleHRvCiAgICAgICAgICAgICAgICBudWV2b1RleHRvOiAkbnVldm9UZXh0bwogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIHRleHRvCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkTGlicm86IHRoaXMuaWRMaWJybywKICAgICAgICAgICAgaWRQYWdpbmE6IHRoaXMuaWRQYWdpbmEsCiAgICAgICAgICAgIGlkQ3VhZHJvVGV4dG86IHRoaXMuZXN0ZUN1YWRyb1RleHRvLmlkLAogICAgICAgICAgICBudWV2b1RleHRvOiB0aGlzLm51ZXZvVGV4dG8sCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lZGl0YW5kb1RleHRvID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnVwZGF0aW5nSW5mbyA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yLiBFOiAke2Vycm9yfWApOwogICAgICAgICAgdGhpcy51cGRhdGluZ0luZm8gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBpbmljaWFyRWRpY2lvblRleHRvKCkgewogICAgICB0aGlzLmZvbnRTaXplSW5wdXQgPSB0aGlzLmZvbnRTaXplVGV4dG87CiAgICAgIHRoaXMuZm9udFNpemVJbnB1dER1bW15ID0gdGhpcy5mb250U2l6ZVRleHRvOwogICAgICB0aGlzLm51ZXZvVGV4dG8gPSB0aGlzLmVzdGVDdWFkcm9UZXh0by50ZXh0bzsKICAgICAgdGhpcy5lZGl0YW5kb1RleHRvID0gdHJ1ZTsKICAgIH0sCgogICAgaW5pY2lhckRyYWcoKSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlOwogICAgfSwKICAgIGRyYWcoZSkgewogICAgICBpZiAodGhpcy5kcmFnZ2luZykgewogICAgICAgIGNvbnNvbGUubG9nKGBEcmFnZ2luZ2ApOwogICAgICAgIGNvbnN0IGVsZW1QYWdpbmEgPSB0aGlzLiRlbC5jbG9zZXN0KCIucGFnaW5hIik7CiAgICAgICAgY29uc3QgcG9zUGFnaW5hID0gZWxlbVBhZ2luYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgcG9zTW91c2UgPSB7CiAgICAgICAgICB4OiBlLmNsaWVudFggLSBwb3NQYWdpbmEubGVmdCwKICAgICAgICAgIHk6IGUuY2xpZW50WSAtIHBvc1BhZ2luYS50b3AsCiAgICAgICAgfTsKICAgICAgICB2YXIgbnVldmFQb3MgPSB7CiAgICAgICAgICB4OiBwb3NNb3VzZS54IC0gdGhpcy4kZWwub2Zmc2V0V2lkdGggLyAyLAogICAgICAgICAgeTogcG9zTW91c2UueSArIDIwLAogICAgICAgIH07CgogICAgICAgIHZhciBudWV2YVBvc1AgPSB7CiAgICAgICAgICB4OiBNYXRoLnJvdW5kKChudWV2YVBvcy54ICogMTAwKSAvIGVsZW1QYWdpbmEub2Zmc2V0V2lkdGgpLAogICAgICAgICAgeTogTWF0aC5yb3VuZCgobnVldmFQb3MueSAqIDEwMCkgLyBlbGVtUGFnaW5hLm9mZnNldEhlaWdodCksCiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5wb3NpY2lvbiA9IG51ZXZhUG9zUDsKICAgICAgfQogICAgfSwKICAgIGZpbkRyYWcoKSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgIG11dGF0aW9uKAogICAgICAgICAgICAkaWRMaWJybzogSUQhCiAgICAgICAgICAgICRpZFBhZ2luYTogSUQhCiAgICAgICAgICAgICRpZEN1YWRyb1RleHRvOiBJRCEKICAgICAgICAgICAgJG51ZXZvUG9zaWNpb246IENvb3Jkc0lucHV0IQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHVwZGF0ZVBvc2ljaW9uQ3VhZHJvVGV4dG8oCiAgICAgICAgICAgICAgaWRMaWJybzogJGlkTGlicm8KICAgICAgICAgICAgICBpZFBhZ2luYTogJGlkUGFnaW5hCiAgICAgICAgICAgICAgaWRDdWFkcm9UZXh0bzogJGlkQ3VhZHJvVGV4dG8KICAgICAgICAgICAgICBudWV2b1Bvc2ljaW9uOiAkbnVldm9Qb3NpY2lvbgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgIHNpemUgewogICAgICAgICAgICAgICAgeAogICAgICAgICAgICAgICAgeQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIGAsCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8sCiAgICAgICAgICBpZFBhZ2luYTogdGhpcy5pZFBhZ2luYSwKICAgICAgICAgIGlkQ3VhZHJvVGV4dG86IHRoaXMuZXN0ZUN1YWRyb1RleHRvLmlkLAogICAgICAgICAgbnVldm9Qb3NpY2lvbjogdGhpcy5wb3NpY2lvbiwKICAgICAgICB9LAogICAgICB9KTsKICAgIH0sCgogICAgZWxpbWluYXJzZSgpIHsKICAgICAgaWYgKAogICAgICAgICFjb25maXJtKAogICAgICAgICAgIkVsaW1pbmFuZG8gY3VhZHJvIGRlIHRleHRvLiBFc3RhIG9wZXJhY2nDs24gbm8gc2UgcHVlZGUgZGVzaGFjZXIuIMK/Q29udGludWFyPyIKICAgICAgICApCiAgICAgICkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnVwZGF0aW5nSW5mbyA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKGBFbGltaW5hbmRvIHVuIGN1YWRybyBkZSB0ZXh0b2ApOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uKCRpZExpYnJvOiBJRCEsICRpZFBhZ2luYTogSUQhLCAkaWRDdWFkcm9UZXh0bzpJRCEpIHsKICAgICAgICAgICAgICBlbGltaW5hckN1YWRyb1RleHRvTGlicm8oaWRMaWJybzogJGlkTGlicm8sIGlkUGFnaW5hOiAkaWRQYWdpbmEsIGlkQ3VhZHJvVGV4dG86JGlkQ3VhZHJvVGV4dG8pCiAgICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvLAogICAgICAgICAgICBpZFBhZ2luYTogdGhpcy5pZFBhZ2luYSwKICAgICAgICAgICAgaWRDdWFkcm9UZXh0bzp0aGlzLmVzdGVDdWFkcm9UZXh0by5pZCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhOiB7IGVsaW1pbmFyQ3VhZHJvVGV4dG9MaWJybyB9IH0pID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXN1bHRhZG86ICR7ZWxpbWluYXJDdWFkcm9UZXh0b0xpYnJvfWApOwogICAgICAgICAgaWYgKGVsaW1pbmFyQ3VhZHJvVGV4dG9MaWJybykgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJtZUVsaW1pbmUiKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvci4gRTogJHtlcnJvcn1gKTsKICAgICAgICAgIHRoaXMudXBkYXRpbmdJbmZvID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIG51ZXZvVGV4dG8oKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmZpbmRGb250U2l6ZUlucHV0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIGVzdGVDdWFkcm9UZXh0bygpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZmluZEZvbnRTaXplKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjY2lvbmFkbyhudWV2bykgewogICAgICBpZiAobnVldm8gPT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmVkaXRhbmRvVGV4dG8gPSBmYWxzZTsKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRzZXQodGhpcy5wb3NpY2lvbiwgIngiLCB0aGlzLmVzdGVDdWFkcm9UZXh0by5wb3NpY2lvbi54KTsKICAgIHRoaXMuJHNldCh0aGlzLnBvc2ljaW9uLCAieSIsIHRoaXMuZXN0ZUN1YWRyb1RleHRvLnBvc2ljaW9uLnkpOwoKICAgIHRoaXMuJHNldCh0aGlzLnNpemUsICJ4IiwgdGhpcy5lc3RlQ3VhZHJvVGV4dG8uc2l6ZS54KTsKICAgIHRoaXMuJHNldCh0aGlzLnNpemUsICJ5IiwgdGhpcy5lc3RlQ3VhZHJvVGV4dG8uc2l6ZS55KTsKCiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMuZmluZEZvbnRTaXplKCk7CiAgICB9KTsKICB9LAp9Owo="},{"version":3,"sources":["CuadroTexto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"CuadroTexto.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    class=\"cuadroTexto\"\n    :style=\"[estiloLayout]\"\n    @click=\"playAudio\"\n    :class=\"{ conAudio: esteCuadroTexto.audio, deshabilitado: updatingInfo }\"\n  >\n    <div\n      class=\"texto\"\n      :style=\"[estiloFormato, estiloFontSize, estiloVisibilidadTexto]\"\n      ref=\"texto\"\n      @click=\"iniciarEdicionTexto\"\n    >\n      {{ esteCuadroTexto.texto }}\n    </div>\n    <textarea\n      ref=\"inputNuevoTexto\"\n      id=\"inputNuevoTexto\"\n      :style=\"[estiloFormato, estiloFontSizeInput]\"\n      v-model=\"nuevoTexto\"\n      v-show=\"editandoTexto\"\n    ></textarea>\n\n    <textarea\n      ref=\"dummyInput\"\n      id=\"dummyInputTexto\"\n      :style=\"[estiloFormato, estiloInputDummy]\"\n      v-model=\"nuevoTexto\"\n    >\n    </textarea>\n\n    <img\n      src=\"@/assets/iconos/guardar.png\"\n      alt=\"guardar\"\n      title=\"Guardar cambios\"\n      id=\"bGuardarTexto\"\n      v-show=\"editandoTexto\"\n      @click.stop=\"guardarNuevoTexto\"\n    />\n\n    <img\n      src=\"@/assets/iconos/delete.png\"\n      alt=\"Eliminar\"\n      title=\"Eliminar cuadro de texto\"\n      id=\"bEliminarCuadroTexto\"\n      v-show=\"seleccionado\"\n      @click=\"eliminarse\"\n    />\n\n    <div\n      class=\"textoDummy\"\n      :style=\"[estiloFormato, estiloDummy]\"\n      ref=\"textoDummy\"\n    >\n      {{ esteCuadroTexto.texto }}\n    </div>\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div id=\"bolitaDragHandle\"></div>\n    </div>\n\n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left.stop=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroTexto.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nexport default {\n  name: \"CuadroTexto\",\n  props: {\n    idLibro: String,\n    idPagina: String,\n    esteCuadroTexto: Object,\n    sizePagina: Object,\n    seleccionado: Boolean,\n  },\n  data() {\n    return {\n      fontSizeDummy: 10,\n      fontSizeInputDummy: 10,\n      fontSizeTexto: 10,\n      fontSizeInput: 10,\n\n      resizing: false,\n      dragging: false,\n\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo: false,\n\n      nuevoTexto: null,\n      editandoTexto: false,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n      };\n    },\n    estiloFormato() {\n      return {\n        textAlign: this.esteCuadroTexto.formato.alineacion,\n        color: this.esteCuadroTexto.formato.colorLetra,\n        fontFamily:\n          this.esteCuadroTexto.formato.tipoLetra + \", 'Nunito', sans-serif\",\n      };\n    },\n    estiloFontSize() {\n      return {\n        fontSize: this.fontSizeTexto + \"px\",\n      };\n    },\n    estiloVisibilidadTexto() {\n      return {\n        visibility: this.editandoTexto ? \"hidden\" : \"visible\",\n      };\n    },\n    estiloFontSizeInput() {\n      return {\n        fontSize: this.fontSizeInput + \"px\",\n      };\n    },\n    estiloDummy() {\n      return {\n        fontSize: this.fontSizeDummy + \"px\",\n      };\n    },\n    estiloInputDummy() {\n      return {\n        fontSize: this.fontSizeInputDummy + \"px\",\n      };\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioTexto/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroTexto.id\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      if (!this.esteCuadroTexto.audio) return;\n      console.log(`Reproduciendo`);\n      this.$refs.audio.play();\n    },\n\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        var nuevox = e.clientX - cuadroPos.x - 5;\n        var nuevoy = e.clientY - cuadroPos.y - 5;\n\n        if (nuevox < 15 || nuevoy < 15) {\n          console.log(`Offlimits`);\n          return;\n        }\n\n        // if (\n        //   e.clientY > cuadroPos.y + this.sizePagina.y\n        // ) {\n        //   nuevox = this.sizePagina.x - cuadroPos.x;\n        // }\n\n        // if (\n        //   e.clientY > cuadroPos.y + this.sizePagina.y\n        // ) {\n        //   nuevoy = this.sizePagina.y - cuadroPos.y;\n        // }\n\n        var nuevoxP = Math.round((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.round((nuevoy * 100) / this.sizePagina.y);\n\n        if (this.posicion.x + nuevoxP > 100)\n          nuevoxP = Math.floor(100 - this.posicion.x);\n        if (this.posicion.y + nuevoyP > 100)\n          nuevoyP = Math.floor(100 - this.posicion.y);\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n      this.fontSizeDummy = 10;\n      this.$nextTick(() => {\n        this.findFontSize();\n\n        this.$apollo.mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoSize: CoordsInput!\n            ) {\n              updateSizeCuadroTexto(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoSize: $nuevoSize\n              ) {\n                id\n                size {\n                  x\n                  y\n                }\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n            nuevoSize: this.size,\n          },\n        });\n      });\n    },\n\n    findFontSize() {\n      if (\n        !this.esteCuadroTexto ||\n        !this.esteCuadroTexto.texto ||\n        this.esteCuadroTexto.texto.length < 1\n      )\n        return;\n      console.log(`Ajustando font size texto`);\n      let hTexto = this.$refs.texto.offsetHeight;\n      let hDummy = this.$refs.textoDummy.offsetHeight;\n      let wDummy = this.$refs.textoDummy.scrollWidth;\n      let wTexto = this.$refs.texto.offsetWidth;\n      // if (!confirm(\"continuar\")) {\n      //   return;\n      // }\n      console.log(`Dummy: ${wDummy}x${hDummy}. Texto: ${wTexto}x${hTexto}`);\n\n      if (hDummy >= hTexto || wDummy >= wTexto) {\n        console.log(\n          `El dummy es más grande que el texto. Disminuyendo font size`\n        );\n        this.fontSizeDummy = this.fontSizeDummy - 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n          console.log(\n            `Ahora: Dummy: ${wDummy}x${hDummy}. texto: ${wTexto}x${hTexto}`\n          );\n\n          if ((hDummy < hTexto && wDummy < wTexto) || this.fontSizeDummy < 5) {\n            console.log(`Encontrado`);\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      } else if (hDummy < hTexto && wDummy < wTexto) {\n        console.log(\n          `El dummy es más pequeño que el texto. Creciendo font size`\n        );\n        this.fontSizeDummy = this.fontSizeDummy + 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n          console.log(\n            `Ahora: Dummy: ${wDummy}x${hDummy}. Texto: ${wTexto}x${hTexto}`\n          );\n          if (\n            hDummy >= hTexto ||\n            wDummy >= wTexto ||\n            this.fontSizeDummy > 100\n          ) {\n            console.log(`Encontrado`);\n            this.fontSizeDummy = this.fontSizeDummy - 2;\n            console.log(`Quedó en ${this.fontSizeDummy}`);\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      }\n    },\n    findFontSizeInput() {\n      if (!this.nuevoTexto || this.nuevoTexto.length < 1) return;\n      console.log(`Ajustando font size input`);\n      let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n      let hDummy = this.$refs.dummyInput.scrollHeight;\n      let wDummy = this.$refs.dummyInput.scrollWidth;\n      let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n      // if (!confirm(\"continuar\")) {\n      //   return;\n      // }\n      console.log(`Dummy: ${wDummy}x${hDummy}. Input: ${wInput}x${hInput}`);\n\n      if (hDummy >= hInput || wDummy >= wInput) {\n        console.log(\n          `El dummy es más grande que el input. Disminuyendo font size`\n        );\n        this.fontSizeInputDummy = this.fontSizeInputDummy - 2;\n        this.$nextTick(() => {\n          let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n          let hDummy = this.$refs.dummyInput.scrollHeight;\n          let wDummy = this.$refs.dummyInput.scrollWidth;\n          let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n          console.log(\n            `Ahora: Dummy: ${wDummy}x${hDummy}. Input: ${wInput}x${hInput}`\n          );\n\n          if (\n            (hDummy < hInput && wDummy < wInput) ||\n            this.fontSizeInputDummy < 5\n          ) {\n            this.fontSizeInput = this.fontSizeInputDummy;\n            return;\n          } else {\n            this.findFontSizeInput();\n          }\n        });\n      } else if (hDummy < hInput && wDummy < wInput) {\n        console.log(\n          `El dummy es más pequeño que el input. Creciendo font size`\n        );\n        this.fontSizeInputDummy = this.fontSizeInputDummy + 2;\n        this.$nextTick(() => {\n          let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n          let hDummy = this.$refs.dummyInput.scrollHeight;\n          let wDummy = this.$refs.dummyInput.scrollWidth;\n          let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n          console.log(\n            `Ahora: Dummy: ${wDummy}x${hDummy}. Input: ${wInput}x${hInput}`\n          );\n          if (\n            hDummy >= hInput ||\n            wDummy >= wInput ||\n            this.fontSizeInputDummy > 100\n          ) {\n            this.fontSizeInputDummy = this.fontSizeInputDummy - 2;\n            this.fontSizeInput = this.fontSizeInputDummy;\n            return;\n          } else {\n            this.findFontSizeInput();\n          }\n        });\n      }\n    },\n\n    guardarNuevoTexto() {\n      if (this.nuevoTexto.length > 3000) {\n        alert(\"Texto demasiado largo\");\n        return;\n      }\n      if (this.nuevoTexto == this.esteCuadroTexto.texto) {\n        console.log(`Texto no modificado`);\n        this.editandoTexto = false;\n        return;\n      }\n      this.updatingInfo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoTexto: String!\n            ) {\n              updateTextoCuadroTextoCuento(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoTexto: $nuevoTexto\n              ) {\n                id\n                texto\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n            nuevoTexto: this.nuevoTexto,\n          },\n        })\n        .then(() => {\n          this.editandoTexto = false;\n          this.updatingInfo = false;\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n    iniciarEdicionTexto() {\n      this.fontSizeInput = this.fontSizeTexto;\n      this.fontSizeInputDummy = this.fontSizeTexto;\n      this.nuevoTexto = this.esteCuadroTexto.texto;\n      this.editandoTexto = true;\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroTexto: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroTexto(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroTexto: $idCuadroTexto\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              size {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroTexto: this.esteCuadroTexto.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de texto. Esta operación no se puede deshacer. ¿Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de texto`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroTexto:ID!) {\n              eliminarCuadroTextoLibro(idLibro: $idLibro, idPagina: $idPagina, idCuadroTexto:$idCuadroTexto)\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto:this.esteCuadroTexto.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroTextoLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroTextoLibro}`);\n          if (eliminarCuadroTextoLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n  },\n  watch: {\n    nuevoTexto() {\n      this.$nextTick(() => {\n        this.findFontSizeInput();\n      });\n    },\n    esteCuadroTexto() {\n      this.$nextTick(() => {\n        this.findFontSize();\n      });\n    },\n    seleccionado(nuevo) {\n      if (nuevo == false) {\n        this.editandoTexto = false;\n      }\n    },\n  },\n  mounted() {\n    this.$set(this.posicion, \"x\", this.esteCuadroTexto.posicion.x);\n    this.$set(this.posicion, \"y\", this.esteCuadroTexto.posicion.y);\n\n    this.$set(this.size, \"x\", this.esteCuadroTexto.size.x);\n    this.$set(this.size, \"y\", this.esteCuadroTexto.size.y);\n\n    this.$nextTick(() => {\n      this.findFontSize();\n    });\n  },\n};\n</script>\n\n<style>\n.texto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  white-space: pre-wrap;\n}\n.cuadroTexto {\n  position: absolute;\n  border: 1px solid green;\n  resize: both;\n}\n.textoDummy {\n  width: 99%;\n  border: 1px solid pink;\n  overflow-x: scroll;\n  position: absolute;\n  left: -100%;\n  pointer-events: none;\n  white-space: pre-wrap;\n  visibility: hidden;\n}\n#dummyInputTexto {\n  width: 99%;\n  height: 99%;\n  overflow-x: scroll;\n  border: 1px solid pink;\n  visibility: hidden;\n  pointer-events: none;\n  position: absolute;\n  left: -100%;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  box-sizing: border-box;\n  word-wrap: normal;\n}\n#inputNuevoTexto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(255, 255, 0, 0.459);\n\n  box-sizing: border-box;\n  resize: none;\n  overflow: hidden;\n  display: block;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  word-wrap: normal;\n}\n#inputNuevoTexto:hover {\n  outline: none;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n.conAudio {\n  cursor: pointer;\n}\n\n#bGuardarTexto {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: 110%;\n  left: 50%;\n  transform: translateX(-50%);\n}\n#bGuardarTexto:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n\n#bEliminarCuadroTexto {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: -40px;\n  right: -35px;\n}\n#bEliminarCuadroTexto:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n</style>"]}]}