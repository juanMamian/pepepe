{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/TodosLibros.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/TodosLibros.vue","mtime":1617665825185},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdxbCB9IGZyb20gImFwb2xsby1zZXJ2ZXItY29yZSI7CmltcG9ydCBJY29ub1BlcnNvbmFBdXRvbm9tbyBmcm9tICcuL0ljb25vUGVyc29uYUF1dG9ub21vLnZ1ZSc7Cgpjb25zdCBRVUVSWV9UT0RPU19MSUJST1MgPSBncWxgCiAgcXVlcnkgewogICAgdG9kb3NMaWJyb3MgewogICAgICBpZAogICAgICB0aXR1bG8KICAgICAgaWRzRWRpdG9yZXMKICAgIH0KICB9CmA7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBJY29ub1BlcnNvbmFBdXRvbm9tbyB9LAogIG5hbWU6ICJUb2Rvc0xpYnJvcyIsCiAgYXBvbGxvOiB7CiAgICB0b2Rvc0xpYnJvczogewogICAgICBxdWVyeTogUVVFUllfVE9ET1NfTElCUk9TLAogICAgICBza2lwKCkgewogICAgICAgIHJldHVybiAhdGhpcy51c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yOwogICAgICB9LAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgfTsKICB9LAogIG1ldGhvZHM6IHsgICAgCiAgICBzZWxlY2Npb25hckxpYnJvKGlkTGlicm8pewogICAgICAgIHRoaXMuJGVtaXQoImxpYnJvU2VsZWNjaW9uYWRvIiwgaWRMaWJybyk7CiAgICB9CiAgfSwKICBjb21wdXRlZDp7CiAgICAgIHVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3IoKXsKICAgICAgICAgIGlmKCF0aGlzLnVzdWFyaW8gfHwgIXRoaXMudXN1YXJpby5wZXJtaXNvcyl7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coYERhdG9zIGluc3VmaWNpZW50ZXMgcGFyYSBkZWNpZGlyIHNpIHVzdWFyaW8gZXMgc8O6cGVyYWRtaW5pc3RyYWRvcmApOwogICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2coYFVzdWFyaW8gdGllbmUgcGVybWlzb3M6ICR7dGhpcy51c3VhcmlvLnBlcm1pc29zfWApOwogICAgICAgICAgcmV0dXJuIHRoaXMudXN1YXJpby5wZXJtaXNvcy5pbmNsdWRlcygic3VwZXJhZG1pbmlzdHJhZG9yIik7CiAgICAgIH0KICB9CiAgCn07Cg=="},{"version":3,"sources":["TodosLibros.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"TodosLibros.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"todosLibros\">\n    <h3>Todos los libros</h3>\n    <div id=\"controlesTodosLibros\">\n      \n    </div>\n\n    <div id=\"listaMisLibros\">\n        <div class=\"portadaLibro\" v-for=\"portada of todosLibros\" :key=\"portada.id\" @click=\"seleccionarLibro(portada.id)\">\n            {{portada.titulo}}\n            <icono-persona-autonomo v-for=\"editor of portada.idsEditores\" :key=\"editor\" :idPersona=\"editor\"/>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport IconoPersonaAutonomo from './IconoPersonaAutonomo.vue';\n\nconst QUERY_TODOS_LIBROS = gql`\n  query {\n    todosLibros {\n      id\n      titulo\n      idsEditores\n    }\n  }\n`;\n\nexport default {\n  components: { IconoPersonaAutonomo },\n  name: \"TodosLibros\",\n  apollo: {\n    todosLibros: {\n      query: QUERY_TODOS_LIBROS,\n      skip() {\n        return !this.usuarioSuperadministrador;\n      },\n    },\n  },\n  data() {\n    return {\n    };\n  },\n  methods: {    \n    seleccionarLibro(idLibro){\n        this.$emit(\"libroSeleccionado\", idLibro);\n    }\n  },\n  computed:{\n      usuarioSuperadministrador(){\n          if(!this.usuario || !this.usuario.permisos){\n              console.log(`Datos insuficientes para decidir si usuario es s√∫peradministrador`);\n              return false\n          }\n          console.log(`Usuario tiene permisos: ${this.usuario.permisos}`);\n          return this.usuario.permisos.includes(\"superadministrador\");\n      }\n  }\n  \n};\n</script>\n\n<style scoped>\n#todosLibros {\n  padding: 10px;\n  border: 2px solid cadetblue;\n  margin: 10px;\n  border-radius: 15px;\n  padding: 15px;\n  font-size: 22px;\n}\n\n.bControlTodosLibros {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 5px 10px;\n}\n.bControlTodosLibros:hover {\n  background-color: rgb(241, 153, 241);\n}\n\n.portadaLibro{\n    padding: 5px 10px;\n    font-size: inherit;\n    cursor:pointer;\n    padding-bottom:80px;\n\n}\n.portadaLibro:hover{\n    background-color: rgba(128, 0, 128, 0.233);\n}\n</style>"]}]}