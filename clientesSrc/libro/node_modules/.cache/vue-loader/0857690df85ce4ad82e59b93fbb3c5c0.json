{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/Pagina.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/Pagina.vue","mtime":1617765600587},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdxbCB9IGZyb20gImFwb2xsby1zZXJ2ZXItY29yZSI7CmltcG9ydCBDdWFkcm9JbWFnZW4gZnJvbSAiLi9DdWFkcm9JbWFnZW4udnVlIjsKaW1wb3J0IEN1YWRyb1RleHRvIGZyb20gIi4vQ3VhZHJvVGV4dG8udnVlIjsKaW1wb3J0IEhlcnJhbWllbnRhc0VkaWNpb24gZnJvbSAiLi9IZXJyYW1pZW50YXNFZGljaW9uLnZ1ZSI7CmltcG9ydCB7IGZyYWdtZW50b0N1YWRyb0ltYWdlbiwgZnJhZ21lbnRvQ3VhZHJvVGV4dG8gfSBmcm9tICIuL0xpYnJvLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IEN1YWRyb0ltYWdlbiwgQ3VhZHJvVGV4dG8sIEhlcnJhbWllbnRhc0VkaWNpb24gfSwKICBuYW1lOiAiUGFnaW5hIiwKICBwcm9wczogewogICAgZXN0YVBhZ2luYTogT2JqZWN0LAogICAgcGFnaW5hRGVyZWNoYTogQm9vbGVhbiwKICAgIHByZXBhcmFkYTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICB2aXNpYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICB9LAogICAgaWRMaWJybzogU3RyaW5nLAogICAgc2VsZWNjaW9uYWRhOiBCb29sZWFuLAogICAgc2VndW5kb1BsYW5vOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbmNobzogNDUwLAogICAgICBhbHRvOiA2MDAsCiAgICAgIHVwbG9hZGluZ0luZm86IGZhbHNlLAogICAgICBjb2xvclNlbGVjY2lvbmFkbzogIiNmZmZmZmYiLAoKICAgICAgY3JlYW5kb1RleHRvOiBmYWxzZSwKICAgICAgY3JlYW5kb0ltYWdlbjogZmFsc2UsCgogICAgICBkaWJ1amFuZG9UZXh0bzogZmFsc2UsCiAgICAgIGRpYnVqYW5kb0ltYWdlbjogZmFsc2UsCgogICAgICB6RWxlbWVudG9zOjEwMCwKCiAgICAgIHBvc0ZhbnRhc21hVGV4dG86IHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAsCiAgICAgIH0sCiAgICAgIHNpemVGYW50YXNtYVRleHRvOiB7CiAgICAgICAgeDogMzAsCiAgICAgICAgeTogMzAsCiAgICAgIH0sCgogICAgICBwb3NGYW50YXNtYUltYWdlbjogewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgfSwKICAgICAgc2l6ZUZhbnRhc21hSW1hZ2VuOiB7CiAgICAgICAgeDogMzAsCiAgICAgICAgeTogMzAsCiAgICAgIH0sCgogICAgICBpZEVsZW1lbnRvU2VsZWNjaW9uYWRvOiBudWxsLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBlc3RpbG9Db2x1bW5hKCkgewogICAgICBpZiAodGhpcy5wYWdpbmFEZXJlY2hhKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGdyaWRDb2x1bW46ICIxLzIiLAogICAgICAgICAganVzdGlmeVNlbGY6ICJyaWdodCIsCiAgICAgICAgfTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBlc3RpbG9TaXplKCkgewogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB0aGlzLmFuY2hvICsgInB4IiwKICAgICAgICBoZWlnaHQ6IHRoaXMuYWx0byArICJweCIsCiAgICAgIH07CiAgICB9LAogICAgc2l6ZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiB0aGlzLmFuY2hvLAogICAgICAgIHk6IHRoaXMuYWx0bywKICAgICAgfTsKICAgIH0sCiAgICBlc3RpbG9BcGFyaWVuY2lhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5jb2xvclNlbGVjY2lvbmFkbywKICAgICAgfTsKICAgIH0sCiAgICBlc3RpbG9MYXlvdXRGYW50YXNtYVRleHRvKCkgewogICAgICByZXR1cm4gewogICAgICAgIHRvcDogdGhpcy5wb3NGYW50YXNtYVRleHRvLnkgKyAicHgiLAogICAgICAgIGxlZnQ6IHRoaXMucG9zRmFudGFzbWFUZXh0by54ICsgInB4IiwKICAgICAgICB3aWR0aDogdGhpcy5zaXplRmFudGFzbWFUZXh0by54ICsgInB4IiwKICAgICAgICBoZWlnaHQ6IHRoaXMuc2l6ZUZhbnRhc21hVGV4dG8ueSArICJweCIsCiAgICAgIH07CiAgICB9LAogICAgZXN0aWxvTGF5b3V0RmFudGFzbWFJbWFnZW4oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdG9wOiB0aGlzLnBvc0ZhbnRhc21hSW1hZ2VuLnkgKyAicHgiLAogICAgICAgIGxlZnQ6IHRoaXMucG9zRmFudGFzbWFJbWFnZW4ueCArICJweCIsCiAgICAgICAgd2lkdGg6IHRoaXMuc2l6ZUZhbnRhc21hSW1hZ2VuLnggKyAicHgiLAogICAgICAgIGhlaWdodDogdGhpcy5zaXplRmFudGFzbWFJbWFnZW4ueSArICJweCIsCiAgICAgIH07CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZWxpbWluYXJzZSgpIHsKICAgICAgaWYgKAogICAgICAgICFjb25maXJtKAogICAgICAgICAgIkVsaW1pbmFuZG8gcMOhZ2luYS4gRXN0YSBvcGVyYWNpw7NuIG5vIHNlIHB1ZWRlIGRlc2hhY2VyLiDCv0NvbnRpbnVhcj8iCiAgICAgICAgKQogICAgICApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy51cGxvYWRpbmdJbmZvID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2coYEVsaW1pbmFuZG8gdW5hIHDDoWdpbmFgKTsKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICBtdXRhdGlvbigkaWRMaWJybzogSUQhLCAkaWRQYWdpbmE6IElEISkgewogICAgICAgICAgICAgIGVsaW1pbmFyUGFnaW5hRGVMaWJybyhpZExpYnJvOiAkaWRMaWJybywgaWRQYWdpbmE6ICRpZFBhZ2luYSkKICAgICAgICAgICAgfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8sCiAgICAgICAgICAgIGlkUGFnaW5hOiB0aGlzLmVzdGFQYWdpbmEuaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YTogeyBlbGltaW5hclBhZ2luYURlTGlicm8gfSB9KSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgUmVzdWx0YWRvOiAke2VsaW1pbmFyUGFnaW5hRGVMaWJyb31gKTsKICAgICAgICAgIGlmIChlbGltaW5hclBhZ2luYURlTGlicm8pIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgibWVFbGltaW5lIik7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IuIEU6ICR7ZXJyb3J9YCk7CiAgICAgICAgICB0aGlzLnVwbG9hZGluZ0luZm8gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZXNhY3RpdmFySGVycmFtaWVudGFzKCkgewogICAgICB0aGlzLmNyZWFuZG9UZXh0byA9IGZhbHNlOwogICAgICB0aGlzLmNyZWFuZG9JbWFnZW4gPSBmYWxzZTsKICAgIH0sCiAgICBhY2Npb25DcmVhckVsZW1lbnRvKGUpIHsKICAgICAgY29uc3QgcG9zUGFnaW5hID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIGNvbnN0IHBvc0NsaWNrID0gewogICAgICAgIHg6IGUuY2xpZW50WCAtIHBvc1BhZ2luYS5sZWZ0LAogICAgICAgIHk6IGUuY2xpZW50WSAtIHBvc1BhZ2luYS50b3AsCiAgICAgIH07CgogICAgICBpZiAodGhpcy5jcmVhbmRvVGV4dG8pIHsKICAgICAgICB0aGlzLmRpYnVqYW5kb1RleHRvID0gdHJ1ZTsKICAgICAgICB0aGlzLiRzZXQodGhpcy5wb3NGYW50YXNtYVRleHRvLCAieCIsIE1hdGguZmxvb3IocG9zQ2xpY2sueCkpOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnBvc0ZhbnRhc21hVGV4dG8sICJ5IiwgTWF0aC5mbG9vcihwb3NDbGljay55KSk7CgogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpemVGYW50YXNtYVRleHRvLCAieCIsIDMwKTsKICAgICAgICB0aGlzLiRzZXQodGhpcy5zaXplRmFudGFzbWFUZXh0bywgInkiLCAzMCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jcmVhbmRvSW1hZ2VuKSB7CiAgICAgICAgdGhpcy5kaWJ1amFuZG9JbWFnZW4gPSB0cnVlOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnBvc0ZhbnRhc21hSW1hZ2VuLCAieCIsIE1hdGguZmxvb3IocG9zQ2xpY2sueCkpOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnBvc0ZhbnRhc21hSW1hZ2VuLCAieSIsIE1hdGguZmxvb3IocG9zQ2xpY2sueSkpOwoKICAgICAgICB0aGlzLiRzZXQodGhpcy5zaXplRmFudGFzbWFJbWFnZW4sICJ4IiwgMzApOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpemVGYW50YXNtYUltYWdlbiwgInkiLCAzMCk7CiAgICAgIH0KICAgIH0sCiAgICByZXNpemVGYW50YXNtYUVsZW1lbnRvKGUpIHsKICAgICAgY29uc3QgcG9zUGFnaW5hID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIGNvbnN0IHBvc0NsaWNrID0gewogICAgICAgIHg6IGUuY2xpZW50WCAtIHBvc1BhZ2luYS5sZWZ0LAogICAgICAgIHk6IGUuY2xpZW50WSAtIHBvc1BhZ2luYS50b3AsCiAgICAgIH07CgogICAgICBpZiAodGhpcy5kaWJ1amFuZG9UZXh0bykgewogICAgICAgIGxldCBzaXplRmFudGFzbWEgPSB7CiAgICAgICAgICB4OiBwb3NDbGljay54IC0gdGhpcy5wb3NGYW50YXNtYVRleHRvLngsCiAgICAgICAgICB5OiBwb3NDbGljay55IC0gdGhpcy5wb3NGYW50YXNtYVRleHRvLnksCiAgICAgICAgfTsKCiAgICAgICAgaWYgKHNpemVGYW50YXNtYS54IDwgMzApIHsKICAgICAgICAgIHNpemVGYW50YXNtYS54ID0gMzA7CiAgICAgICAgfQogICAgICAgIGlmIChzaXplRmFudGFzbWEueSA8IDMwKSB7CiAgICAgICAgICBzaXplRmFudGFzbWEueSA9IDMwOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuc2l6ZUZhbnRhc21hVGV4dG8sICJ4IiwgTWF0aC5mbG9vcihzaXplRmFudGFzbWEueCkpOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpemVGYW50YXNtYVRleHRvLCAieSIsIE1hdGguZmxvb3Ioc2l6ZUZhbnRhc21hLnkpKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZGlidWphbmRvSW1hZ2VuKSB7CiAgICAgICAgbGV0IHNpemVGYW50YXNtYSA9IHsKICAgICAgICAgIHg6IHBvc0NsaWNrLnggLSB0aGlzLnBvc0ZhbnRhc21hSW1hZ2VuLngsCiAgICAgICAgICB5OiBwb3NDbGljay55IC0gdGhpcy5wb3NGYW50YXNtYUltYWdlbi55LAogICAgICAgIH07CgogICAgICAgIGlmIChzaXplRmFudGFzbWEueCA8IDMwKSB7CiAgICAgICAgICBzaXplRmFudGFzbWEueCA9IDMwOwogICAgICAgIH0KICAgICAgICBpZiAoc2l6ZUZhbnRhc21hLnkgPCAzMCkgewogICAgICAgICAgc2l6ZUZhbnRhc21hLnkgPSAzMDsKICAgICAgICB9CgogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpemVGYW50YXNtYUltYWdlbiwgIngiLCBNYXRoLmZsb29yKHNpemVGYW50YXNtYS54KSk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuc2l6ZUZhbnRhc21hSW1hZ2VuLCAieSIsIE1hdGguZmxvb3Ioc2l6ZUZhbnRhc21hLnkpKTsKICAgICAgfQogICAgfSwKICAgIGVuZERpYnVqYW5kb0VsZW1lbnRvKCkgewogICAgICBpZiAodGhpcy5kaWJ1amFuZG9UZXh0bykgewogICAgICAgIGNvbnNvbGUubG9nKGBDcmVhbmRvIGN1YWRyb1RleHRvYCk7CiAgICAgICAgdGhpcy5kaWJ1amFuZG9UZXh0byA9IGZhbHNlOwogICAgICAgIHRoaXMuJHJlZnMuaGVycmFtaWVudGFzRWRpY2lvbi5yZXNldCgpOwogICAgICAgIHRoaXMuY3JlYXJUZXh0b0Zyb21GYW50YXNtYSgpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZGlidWphbmRvSW1hZ2VuKSB7CiAgICAgICAgY29uc29sZS5sb2coYENyZWFuZG8gY3VhZHJvIGRlIGltw6FnZW5gKTsKICAgICAgICB0aGlzLmRpYnVqYW5kb0ltYWdlbiA9IGZhbHNlOwogICAgICAgIHRoaXMuJHJlZnMuaGVycmFtaWVudGFzRWRpY2lvbi5yZXNldCgpOwogICAgICAgIHRoaXMuY3JlYXJDdWFkcm9JbWFnZW5Gcm9tRmFudGFzbWEoKTsKICAgICAgfQogICAgICB0aGlzLmRlc2FjdGl2YXJIZXJyYW1pZW50YXMoKTsKICAgIH0sCiAgICBjcmVhckN1YWRyb0ltYWdlbkZyb21GYW50YXNtYSgpIHsKICAgICAgdmFyIGRhdG9zUG9zaWNpb24gPSB7CiAgICAgICAgeDogTWF0aC5yb3VuZCgodGhpcy5wb3NGYW50YXNtYUltYWdlbi54ICogMTAwKSAvIHRoaXMuJGVsLm9mZnNldFdpZHRoKSwKICAgICAgICB5OiBNYXRoLnJvdW5kKCh0aGlzLnBvc0ZhbnRhc21hSW1hZ2VuLnkgKiAxMDApIC8gdGhpcy4kZWwub2Zmc2V0SGVpZ2h0KSwKICAgICAgfTsKCiAgICAgIHZhciBkYXRvc1NpemUgPSB7CiAgICAgICAgeDogTWF0aC5yb3VuZCgodGhpcy5zaXplRmFudGFzbWFJbWFnZW4ueCAqIDEwMCkgLyB0aGlzLiRlbC5vZmZzZXRXaWR0aCksCiAgICAgICAgeTogTWF0aC5yb3VuZCgKICAgICAgICAgICh0aGlzLnNpemVGYW50YXNtYUltYWdlbi55ICogMTAwKSAvIHRoaXMuJGVsLm9mZnNldEhlaWdodAogICAgICAgICksCiAgICAgIH07CgogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uKAogICAgICAgICAgICAgICRpZExpYnJvOiBJRCEKICAgICAgICAgICAgICAkaWRQYWdpbmE6IElEIQogICAgICAgICAgICAgICRkYXRvc1Bvc2ljaW9uOiBDb29yZHNJbnB1dCEKICAgICAgICAgICAgICAkZGF0b3NTaXplOiBDb29yZHNJbnB1dCEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgY3JlYXJDdWFkcm9JbWFnZW5QYWdpbmFMaWJybygKICAgICAgICAgICAgICAgIGlkTGlicm86ICRpZExpYnJvCiAgICAgICAgICAgICAgICBpZFBhZ2luYTogJGlkUGFnaW5hCiAgICAgICAgICAgICAgICBkYXRvc1Bvc2ljaW9uOiAkZGF0b3NQb3NpY2lvbgogICAgICAgICAgICAgICAgZGF0b3NTaXplOiAkZGF0b3NTaXplCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAuLi5mcmFnQ3VhZHJvSW1hZ2VuCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICR7ZnJhZ21lbnRvQ3VhZHJvSW1hZ2VufQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8sCiAgICAgICAgICAgIGlkUGFnaW5hOiB0aGlzLmVzdGFQYWdpbmEuaWQsCiAgICAgICAgICAgIGRhdG9zUG9zaWNpb24sCiAgICAgICAgICAgIGRhdG9zU2l6ZSwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhOiB7IGNyZWFyQ3VhZHJvSW1hZ2VuUGFnaW5hTGlicm8gfSB9KSA9PiB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJ0ZW5nb051ZXZvQ3VhZHJvSW1hZ2VuIiwgY3JlYXJDdWFkcm9JbWFnZW5QYWdpbmFMaWJybyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgZW4gbXV0YWNpw7NuIGRlIGNyZWFyIGN1YWRybyBpbcOhZ2VuLiBFOiAke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICAgIGNyZWFyVGV4dG9Gcm9tRmFudGFzbWEoKSB7CiAgICAgIGNvbnNvbGUubG9nKAogICAgICAgIGBFbnZpYW5kbyBjb24gJHtKU09OLnN0cmluZ2lmeSh0aGlzLmlkTGlicm8pfSwgJHtKU09OLnN0cmluZ2lmeSgKICAgICAgICAgIHRoaXMuZXN0YVBhZ2luYS5pZAogICAgICAgICl9LCAke0pTT04uc3RyaW5naWZ5KHRoaXMucG9zRmFudGFzbWFUZXh0byl9LCAke0pTT04uc3RyaW5naWZ5KAogICAgICAgICAgdGhpcy5zaXplRmFudGFzbWFUZXh0bwogICAgICAgICl9YAogICAgICApOwoKICAgICAgdmFyIGRhdG9zUG9zaWNpb24gPSB7CiAgICAgICAgeDogTWF0aC5yb3VuZCgodGhpcy5wb3NGYW50YXNtYVRleHRvLnggKiAxMDApIC8gdGhpcy4kZWwub2Zmc2V0V2lkdGgpLAogICAgICAgIHk6IE1hdGgucm91bmQoKHRoaXMucG9zRmFudGFzbWFUZXh0by55ICogMTAwKSAvIHRoaXMuJGVsLm9mZnNldEhlaWdodCksCiAgICAgIH07CgogICAgICB2YXIgZGF0b3NTaXplID0gewogICAgICAgIHg6IE1hdGgucm91bmQoKHRoaXMuc2l6ZUZhbnRhc21hVGV4dG8ueCAqIDEwMCkgLyB0aGlzLiRlbC5vZmZzZXRXaWR0aCksCiAgICAgICAgeTogTWF0aC5yb3VuZCgodGhpcy5zaXplRmFudGFzbWFUZXh0by55ICogMTAwKSAvIHRoaXMuJGVsLm9mZnNldEhlaWdodCksCiAgICAgIH07CgogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uKAogICAgICAgICAgICAgICRpZExpYnJvOiBJRCEKICAgICAgICAgICAgICAkaWRQYWdpbmE6IElEIQogICAgICAgICAgICAgICRkYXRvc1Bvc2ljaW9uOiBDb29yZHNJbnB1dCEKICAgICAgICAgICAgICAkZGF0b3NTaXplOiBDb29yZHNJbnB1dCEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgY3JlYXJDdWFkcm9UZXh0b1BhZ2luYUxpYnJvKAogICAgICAgICAgICAgICAgaWRMaWJybzogJGlkTGlicm8KICAgICAgICAgICAgICAgIGlkUGFnaW5hOiAkaWRQYWdpbmEKICAgICAgICAgICAgICAgIGRhdG9zUG9zaWNpb246ICRkYXRvc1Bvc2ljaW9uCiAgICAgICAgICAgICAgICBkYXRvc1NpemU6ICRkYXRvc1NpemUKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIC4uLmZyYWdDdWFkcm9UZXh0bwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAke2ZyYWdtZW50b0N1YWRyb1RleHRvfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8sCiAgICAgICAgICAgIGlkUGFnaW5hOiB0aGlzLmVzdGFQYWdpbmEuaWQsCiAgICAgICAgICAgIGRhdG9zUG9zaWNpb24sCiAgICAgICAgICAgIGRhdG9zU2l6ZSwKICAgICAgICAgIH0sCiAgICAgICAgICBlcnJvclBvbGljeTogImFsbCIsCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhOiB7IGNyZWFyQ3VhZHJvVGV4dG9QYWdpbmFMaWJybyB9IH0pID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoInRlbmdvTnVldm9DdWFkcm9UZXh0byIsIGNyZWFyQ3VhZHJvVGV4dG9QYWdpbmFMaWJybyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IuIEU6ICR7ZXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGBIdWJvICR7ZXJyb3IuZ3JhcGhRTEVycm9yc30gZXJyb3JlcyBncmFwaHFsYCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgcmVzb2x2ZXJTZWxlY2Npb24oZSwgaWRFbGVtZW50bykgewogICAgICBpZiAodGhpcy5zZWxlY2Npb25hZGEpIHsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIHRoaXMuaWRFbGVtZW50b1NlbGVjY2lvbmFkbyA9IGlkRWxlbWVudG87CiAgICAgIH0KICAgIH0sCiAgICBndWFyZGFyTnVldm9Db2xvcigpewogICAgICBjb25zb2xlLmxvZyhgR3VhcmRhbmRvIG51ZXZvIGNvbG9yIGRlIHDDoWdpbmEuYCk7CiAgICAgIAogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjpncWxgCiAgICAgICAgICBtdXRhdGlvbigkaWRMaWJybzpJRCEsICRpZFBhZ2luYTpJRCEsICRudWV2b0NvbG9yOlN0cmluZyEpewogICAgICAgICAgICBzZXROdWV2b0NvbG9yUGFnaW5hTGlicm8oaWRMaWJybzokaWRMaWJybywgaWRQYWdpbmE6ICRpZFBhZ2luYSwgbnVldm9Db2xvcjokbnVldm9Db2xvcil7CiAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICBjb2xvcgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgYCwKICAgICAgICB2YXJpYWJsZXM6ewogICAgICAgICAgaWRMaWJybzp0aGlzLmlkTGlicm8sCiAgICAgICAgICBpZFBhZ2luYTp0aGlzLmVzdGFQYWdpbmEuaWQsCiAgICAgICAgICBudWV2b0NvbG9yOnRoaXMuJHJlZnMuaW5wdXRDb2xvclBhZ2luYS52YWx1ZQogICAgICAgIH0KICAgICAgfSkudGhlbigoKT0+ewogICAgICAgIGNvbnNvbGUubG9nKGBOdWV2byBjb2xvciBndWFyZGFkb2ApOwogICAgICB9KS5jYXRjaCgoZXJyb3IpPT57CiAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGd1YXJkYW5kbyBlbCBudWV2byBjb2xvciBkZSBww6FnaW5hLiBFOiAke2Vycm9yfWApOyAgICAgICAgCiAgICAgICAgdGhpcy5jb2xvclNlbGVjY2lvbmFkbz10aGlzLmVzdGFQYWdpbmEuY29sb3I7CiAgICAgIH0pCiAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICB0aGlzLmNvbG9yU2VsZWNjaW9uYWRvPXRoaXMuZXN0YVBhZ2luYS5jb2xvcjsKICB9Cn07Cg=="},{"version":3,"sources":["Pagina.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pagina.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    class=\"pagina\"\n    :style=\"[estiloColumna, estiloSize, estiloApariencia]\"\n    :class=\"{\n      seleccionada,\n      deshabilitado: uploadingInfo,\n      segundoPlano,\n      cursorTexto: creandoTexto,\n      cursorImagen: creandoImagen,\n    }\"\n    @mousedown.left.stop=\"accionCrearElemento\"\n    @mousemove=\"resizeFantasmaElemento\"\n    @mouseup=\"endDibujandoElemento\"\n    @click=\"idElementoSeleccionado = null\"\n  >\n    <div class=\"zonaControlesPagina\" v-show=\"seleccionada\">\n      <img\n        src=\"@/assets/iconos/delete.png\"\n        class=\"bControlesPagina bEliminarPagina\"\n        title=\"Eliminar esta página\"\n        @click=\"eliminarse\"\n      />\n      <img\n        src=\"@/assets/iconos/paletaColores.png\"\n        alt=\"Color\"\n        class=\"bControlesPagina bSelectColorPagina\"\n        title=\"Seleccionar color de la página\"\n        @click.stop=\"$refs.inputColorPagina.click()\"\n      />\n    </div>\n\n    <input type=\"color\" v-model=\"colorSeleccionado\" style=\"display:none\" @change=\"guardarNuevoColor\" ref=\"inputColorPagina\">\n\n    <herramientas-edicion\n      v-show=\"seleccionada\"\n      ref=\"herramientasEdicion\"\n      @creacionTexto=\"\n        desactivarHerramientas();\n        creandoTexto = true;\n      \"\n      @creacionImagen=\"\n        desactivarHerramientas();\n        creandoImagen = true;\n      \"\n      @mousedown.stop=\"\"\n      @mouseup.stop=\"\"\n    />\n\n    <div\n      id=\"fantasmaTexto\"\n      class=\"fantasmaElemento\"\n      :style=\"[estiloLayoutFantasmaTexto]\"\n      v-show=\"dibujandoTexto\"\n    ></div>\n    <div\n      id=\"fantasmaImagen\"\n      class=\"fantasmaElemento\"\n      :style=\"[estiloLayoutFantasmaImagen]\"\n      v-show=\"dibujandoImagen\"\n    ></div>\n\n    <cuadro-imagen\n      v-for=\"cuadroImagen of estaPagina.cuadrosImagen\"\n      class=\"elementoPagina\"\n      :ref=\"'cuadroImagen' + cuadroImagen.id\"\n      :class=\"{ primerPlano: idElementoSeleccionado == cuadroImagen.id }\"\n      :key=\"cuadroImagen.id\"\n      :esteCuadroImagen=\"cuadroImagen\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n      :seleccionado=\"idElementoSeleccionado == cuadroImagen.id && seleccionada\"\n      :paginaSeleccionada=\"seleccionada\"\n      :zBase=\"zElementos\"\n      @click.native=\"resolverSeleccion($event, cuadroImagen.id)\"\n      @meElimine=\"$emit('elimineCuadroImagen', cuadroImagen.id)\"\n    />\n\n    <cuadro-texto\n      v-for=\"cuadroTexto of estaPagina.cuadrosTexto\"\n      class=\"elementoPagina\"\n      :class=\"{ primerPlano: idElementoSeleccionado == cuadroTexto.id }\"\n      :key=\"cuadroTexto.id\"\n      :esteCuadroTexto=\"cuadroTexto\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n      :seleccionado=\"idElementoSeleccionado == cuadroTexto.id && seleccionada\"\n      :paginaSeleccionada=\"seleccionada\"\n      :zBase=\"zElementos\"\n      @click.native=\"resolverSeleccion($event, cuadroTexto.id)\"\n      @meElimine=\"$emit('elimineCuadroTexto', cuadroTexto.id)\"\n    />\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport CuadroImagen from \"./CuadroImagen.vue\";\nimport CuadroTexto from \"./CuadroTexto.vue\";\nimport HerramientasEdicion from \"./HerramientasEdicion.vue\";\nimport { fragmentoCuadroImagen, fragmentoCuadroTexto } from \"./Libro.vue\";\nexport default {\n  components: { CuadroImagen, CuadroTexto, HerramientasEdicion },\n  name: \"Pagina\",\n  props: {\n    estaPagina: Object,\n    paginaDerecha: Boolean,\n    preparada: {\n      type: Boolean,\n      default: false,\n    },\n    visible: {\n      type: Boolean,\n    },\n    idLibro: String,\n    seleccionada: Boolean,\n    segundoPlano: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      ancho: 450,\n      alto: 600,\n      uploadingInfo: false,\n      colorSeleccionado: \"#ffffff\",\n\n      creandoTexto: false,\n      creandoImagen: false,\n\n      dibujandoTexto: false,\n      dibujandoImagen: false,\n\n      zElementos:100,\n\n      posFantasmaTexto: {\n        x: 0,\n        y: 0,\n      },\n      sizeFantasmaTexto: {\n        x: 30,\n        y: 30,\n      },\n\n      posFantasmaImagen: {\n        x: 0,\n        y: 0,\n      },\n      sizeFantasmaImagen: {\n        x: 30,\n        y: 30,\n      },\n\n      idElementoSeleccionado: null,\n    };\n  },\n  computed: {\n    estiloColumna() {\n      if (this.paginaDerecha) {\n        return {\n          gridColumn: \"1/2\",\n          justifySelf: \"right\",\n        };\n      }\n      return null;\n    },\n    estiloSize() {\n      return {\n        width: this.ancho + \"px\",\n        height: this.alto + \"px\",\n      };\n    },\n    size() {\n      return {\n        x: this.ancho,\n        y: this.alto,\n      };\n    },\n    estiloApariencia() {\n      return {\n        backgroundColor: this.colorSeleccionado,\n      };\n    },\n    estiloLayoutFantasmaTexto() {\n      return {\n        top: this.posFantasmaTexto.y + \"px\",\n        left: this.posFantasmaTexto.x + \"px\",\n        width: this.sizeFantasmaTexto.x + \"px\",\n        height: this.sizeFantasmaTexto.y + \"px\",\n      };\n    },\n    estiloLayoutFantasmaImagen() {\n      return {\n        top: this.posFantasmaImagen.y + \"px\",\n        left: this.posFantasmaImagen.x + \"px\",\n        width: this.sizeFantasmaImagen.x + \"px\",\n        height: this.sizeFantasmaImagen.y + \"px\",\n      };\n    },\n  },\n  methods: {\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando página. Esta operación no se puede deshacer. ¿Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.uploadingInfo = true;\n      console.log(`Eliminando una página`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!) {\n              eliminarPaginaDeLibro(idLibro: $idLibro, idPagina: $idPagina)\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n          },\n        })\n        .then(({ data: { eliminarPaginaDeLibro } }) => {\n          console.log(`Resultado: ${eliminarPaginaDeLibro}`);\n          if (eliminarPaginaDeLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.uploadingInfo = false;\n        });\n    },\n    desactivarHerramientas() {\n      this.creandoTexto = false;\n      this.creandoImagen = false;\n    },\n    accionCrearElemento(e) {\n      const posPagina = this.$el.getBoundingClientRect();\n      const posClick = {\n        x: e.clientX - posPagina.left,\n        y: e.clientY - posPagina.top,\n      };\n\n      if (this.creandoTexto) {\n        this.dibujandoTexto = true;\n        this.$set(this.posFantasmaTexto, \"x\", Math.floor(posClick.x));\n        this.$set(this.posFantasmaTexto, \"y\", Math.floor(posClick.y));\n\n        this.$set(this.sizeFantasmaTexto, \"x\", 30);\n        this.$set(this.sizeFantasmaTexto, \"y\", 30);\n      } else if (this.creandoImagen) {\n        this.dibujandoImagen = true;\n        this.$set(this.posFantasmaImagen, \"x\", Math.floor(posClick.x));\n        this.$set(this.posFantasmaImagen, \"y\", Math.floor(posClick.y));\n\n        this.$set(this.sizeFantasmaImagen, \"x\", 30);\n        this.$set(this.sizeFantasmaImagen, \"y\", 30);\n      }\n    },\n    resizeFantasmaElemento(e) {\n      const posPagina = this.$el.getBoundingClientRect();\n      const posClick = {\n        x: e.clientX - posPagina.left,\n        y: e.clientY - posPagina.top,\n      };\n\n      if (this.dibujandoTexto) {\n        let sizeFantasma = {\n          x: posClick.x - this.posFantasmaTexto.x,\n          y: posClick.y - this.posFantasmaTexto.y,\n        };\n\n        if (sizeFantasma.x < 30) {\n          sizeFantasma.x = 30;\n        }\n        if (sizeFantasma.y < 30) {\n          sizeFantasma.y = 30;\n        }\n\n        this.$set(this.sizeFantasmaTexto, \"x\", Math.floor(sizeFantasma.x));\n        this.$set(this.sizeFantasmaTexto, \"y\", Math.floor(sizeFantasma.y));\n      }\n\n      if (this.dibujandoImagen) {\n        let sizeFantasma = {\n          x: posClick.x - this.posFantasmaImagen.x,\n          y: posClick.y - this.posFantasmaImagen.y,\n        };\n\n        if (sizeFantasma.x < 30) {\n          sizeFantasma.x = 30;\n        }\n        if (sizeFantasma.y < 30) {\n          sizeFantasma.y = 30;\n        }\n\n        this.$set(this.sizeFantasmaImagen, \"x\", Math.floor(sizeFantasma.x));\n        this.$set(this.sizeFantasmaImagen, \"y\", Math.floor(sizeFantasma.y));\n      }\n    },\n    endDibujandoElemento() {\n      if (this.dibujandoTexto) {\n        console.log(`Creando cuadroTexto`);\n        this.dibujandoTexto = false;\n        this.$refs.herramientasEdicion.reset();\n        this.crearTextoFromFantasma();\n      } else if (this.dibujandoImagen) {\n        console.log(`Creando cuadro de imágen`);\n        this.dibujandoImagen = false;\n        this.$refs.herramientasEdicion.reset();\n        this.crearCuadroImagenFromFantasma();\n      }\n      this.desactivarHerramientas();\n    },\n    crearCuadroImagenFromFantasma() {\n      var datosPosicion = {\n        x: Math.round((this.posFantasmaImagen.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.posFantasmaImagen.y * 100) / this.$el.offsetHeight),\n      };\n\n      var datosSize = {\n        x: Math.round((this.sizeFantasmaImagen.x * 100) / this.$el.offsetWidth),\n        y: Math.round(\n          (this.sizeFantasmaImagen.y * 100) / this.$el.offsetHeight\n        ),\n      };\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroImagenPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroImagen\n              }\n            }\n            ${fragmentoCuadroImagen}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n            datosPosicion,\n            datosSize,\n          },\n        })\n        .then(({ data: { crearCuadroImagenPaginaLibro } }) => {\n          this.$emit(\"tengoNuevoCuadroImagen\", crearCuadroImagenPaginaLibro);\n        })\n        .catch((error) => {\n          console.log(`Error en mutación de crear cuadro imágen. E: ${error}`);\n        });\n    },\n    crearTextoFromFantasma() {\n      console.log(\n        `Enviando con ${JSON.stringify(this.idLibro)}, ${JSON.stringify(\n          this.estaPagina.id\n        )}, ${JSON.stringify(this.posFantasmaTexto)}, ${JSON.stringify(\n          this.sizeFantasmaTexto\n        )}`\n      );\n\n      var datosPosicion = {\n        x: Math.round((this.posFantasmaTexto.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.posFantasmaTexto.y * 100) / this.$el.offsetHeight),\n      };\n\n      var datosSize = {\n        x: Math.round((this.sizeFantasmaTexto.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.sizeFantasmaTexto.y * 100) / this.$el.offsetHeight),\n      };\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroTextoPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroTexto\n              }\n            }\n            ${fragmentoCuadroTexto}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n            datosPosicion,\n            datosSize,\n          },\n          errorPolicy: \"all\",\n        })\n        .then(({ data: { crearCuadroTextoPaginaLibro } }) => {\n          this.$emit(\"tengoNuevoCuadroTexto\", crearCuadroTextoPaginaLibro);\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error.message}`);\n          console.log(`Hubo ${error.graphQLErrors} errores graphql`);\n        });\n    },\n    resolverSeleccion(e, idElemento) {\n      if (this.seleccionada) {\n        e.stopPropagation();\n        this.idElementoSeleccionado = idElemento;\n      }\n    },\n    guardarNuevoColor(){\n      console.log(`Guardando nuevo color de página.`);\n      \n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idLibro:ID!, $idPagina:ID!, $nuevoColor:String!){\n            setNuevoColorPaginaLibro(idLibro:$idLibro, idPagina: $idPagina, nuevoColor:$nuevoColor){\n              id\n              color\n            }\n          }\n        `,\n        variables:{\n          idLibro:this.idLibro,\n          idPagina:this.estaPagina.id,\n          nuevoColor:this.$refs.inputColorPagina.value\n        }\n      }).then(()=>{\n        console.log(`Nuevo color guardado`);\n      }).catch((error)=>{\n        console.log(`Error guardando el nuevo color de página. E: ${error}`);        \n        this.colorSeleccionado=this.estaPagina.color;\n      })\n    }\n  },\n  mounted(){\n    this.colorSeleccionado=this.estaPagina.color;\n  }\n};\n</script>\n\n<style scoped>\n.pagina {\n  border: 2px solid black;\n  position: relative;\n\n  user-select: none;\n}\n.cursorTexto {\n  cursor: url(\"~../assets/iconos/punteroTexto.png\"), default;\n}\n.cursorImagen {\n  cursor: url(\"~../assets/iconos/punteroImagen.png\"), default;\n}\n.segundoPlano {\n  opacity: 0.3;\n}\n\n.primerPlano {\n  z-index: 500;\n}\n.seleccionada {\n  border-color: purple;\n  z-index: 2;\n}\n\n.zonaControlesPagina {\n  text-align: center;\n  padding: 10px;\n  position: absolute;\n  top: -60px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.bControlesPagina {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n\n  cursor: pointer;\n  display: inline-block;\n  background-color: rgba(189, 111, 189, 0.185);\n}\n.bControlesPagina:hover {\n  background-color: rgba(189, 111, 189, 0.555);\n}\n\n#herramientasEdicion {\n  position: absolute;\n  top: 150px;\n  left: -100px;\n}\n.fantasmaElemento {\n  position: absolute;\n  border: 3px dotted purple;\n  border-radius: 5px;\n  background-color: rgba(128, 0, 128, 0.205);\n  box-sizing: border-box;\n}\n</style>"]}]}