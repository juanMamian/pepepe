{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/CuadroImagen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/CuadroImagen.vue","mtime":1617741478928},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvanVhbi93ZWJQai9wZXBlcGUvbGlicm8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0LCBfdGVtcGxhdGVPYmplY3QyLCBfdGVtcGxhdGVPYmplY3QzOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ3FsIH0gZnJvbSAiYXBvbGxvLXNlcnZlci1jb3JlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjdWFkcm9JbWFnZW4iLAogIHByb3BzOiB7CiAgICBlc3RlQ3VhZHJvSW1hZ2VuOiBPYmplY3QsCiAgICBpZExpYnJvOiBTdHJpbmcsCiAgICBpZFBhZ2luYTogU3RyaW5nLAogICAgc2l6ZVBhZ2luYTogT2JqZWN0LAogICAgc2VsZWNjaW9uYWRvOiBCb29sZWFuLAogICAgYXJjaGl2b0N1YWRyb0ltYWdlblBhZ2luYTogT2JqZWN0LAogICAgcGFnaW5hU2VsZWNjaW9uYWRhOiBCb29sZWFuLAogICAgekJhc2U6IE51bWJlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc2ljaW9uWmV0YTogMCwKICAgICAgcmVzaXppbmc6IGZhbHNlLAogICAgICBkcmFnZ2luZzogZmFsc2UsCiAgICAgIHBvc2ljaW9uOiB7CiAgICAgICAgeDogbnVsbCwKICAgICAgICB5OiBudWxsCiAgICAgIH0sCiAgICAgIHNpemU6IHsKICAgICAgICB4OiBudWxsLAogICAgICAgIHk6IG51bGwKICAgICAgfSwKICAgICAgdXBkYXRpbmdJbmZvOiBmYWxzZSwKICAgICAgdmVyc2lvbkltYWdlbjogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBlc3RpbG9MYXlvdXQ6IGZ1bmN0aW9uIGVzdGlsb0xheW91dCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IHRoaXMucG9zaWNpb24ueSArICIlIiwKICAgICAgICBsZWZ0OiB0aGlzLnBvc2ljaW9uLnggKyAiJSIsCiAgICAgICAgd2lkdGg6IHRoaXMuc2l6ZS54ICsgIiUiLAogICAgICAgIGhlaWdodDogdGhpcy5zaXplLnkgKyAiJSIsCiAgICAgICAgekluZGV4OiB0aGlzLnNlbGVjY2lvbmFkbyA/IHRoaXMuekJhc2UgKyB0aGlzLnBvc2ljaW9uWmV0YSArIDEwMCA6IHRoaXMuekJhc2UgKyB0aGlzLnBvc2ljaW9uWmV0YQogICAgICB9OwogICAgfSwKICAgIHVybEltYWdlbjogZnVuY3Rpb24gdXJsSW1hZ2VuKCkgewogICAgICByZXR1cm4gdGhpcy5zZXJ2ZXJVcmwgKyAiL2FwaUN1ZW50b3MvaW1hZ2VuQ3VlbnRvLyIgKyB0aGlzLmlkTGlicm8gKyAiLyIgKyB0aGlzLmlkUGFnaW5hICsgIi8iICsgdGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLmlkOwogICAgfSwKICAgIHNpemVSZXNpemVIYW5kbGU6IGZ1bmN0aW9uIHNpemVSZXNpemVIYW5kbGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHRoaXMucmVzaXppbmcgPyAyMDAgKyAicHgiIDogMTAgKyAicHgiLAogICAgICAgIGhlaWdodDogdGhpcy5yZXNpemluZyA/IDIwMCArICJweCIgOiAxMCArICJweCIKICAgICAgfTsKICAgIH0sCiAgICBzaXplRHJhZ0hhbmRsZTogZnVuY3Rpb24gc2l6ZURyYWdIYW5kbGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHRoaXMuZHJhZ2dpbmcgPyAyMDAgKyAicHgiIDogMTAgKyAicHgiLAogICAgICAgIGhlaWdodDogdGhpcy5kcmFnZ2luZyA/IDIwMCArICJweCIgOiAxMCArICJweCIKICAgICAgfTsKICAgIH0sCiAgICB1cmxBdWRpbzogZnVuY3Rpb24gdXJsQXVkaW8oKSB7CiAgICAgIHJldHVybiB0aGlzLnNlcnZlclVybCArICIvYXBpQ3VlbnRvcy9hdWRpb0ltYWdlbi8iICsgdGhpcy5pZExpYnJvICsgIi8iICsgdGhpcy5pZFBhZ2luYSArICIvIiArIHRoaXMuZXN0ZUN1YWRyb0ltYWdlbi5pZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHBsYXlBdWRpbzogZnVuY3Rpb24gcGxheUF1ZGlvKCkgewogICAgICBpZiAoIXRoaXMuZXN0ZUN1YWRyb0ltYWdlbi5hdWRpbykgcmV0dXJuOwogICAgICB0aGlzLiRyZWZzLmF1ZGlvLnBsYXkoKTsKICAgIH0sCiAgICBpbmljaWFyUmVzaXplOiBmdW5jdGlvbiBpbmljaWFyUmVzaXplKCkgewogICAgICB0aGlzLnJlc2l6aW5nID0gdHJ1ZTsKICAgIH0sCiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZShlKSB7CiAgICAgIGlmICh0aGlzLnJlc2l6aW5nKSB7CiAgICAgICAgdmFyIGN1YWRyb1BvcyA9IHsKICAgICAgICAgIHg6IHRoaXMuJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsCiAgICAgICAgICB5OiB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AKICAgICAgICB9OwogICAgICAgIHZhciBudWV2b3ggPSBlLmNsaWVudFggLSBjdWFkcm9Qb3MueCAtIDU7CiAgICAgICAgdmFyIG51ZXZveSA9IGUuY2xpZW50WSAtIGN1YWRyb1Bvcy55IC0gNTsKICAgICAgICB2YXIgbnVldm94UCA9IE1hdGguZmxvb3IobnVldm94ICogMTAwIC8gdGhpcy5zaXplUGFnaW5hLngpOwogICAgICAgIHZhciBudWV2b3lQID0gTWF0aC5mbG9vcihudWV2b3kgKiAxMDAgLyB0aGlzLnNpemVQYWdpbmEueSk7CiAgICAgICAgaWYgKHRoaXMucG9zaWNpb24ueCArIG51ZXZveFAgPiAxMDApIG51ZXZveFAgPSBNYXRoLmZsb29yKDEwMCAtIHRoaXMucG9zaWNpb24ueCk7CiAgICAgICAgaWYgKHRoaXMucG9zaWNpb24ueSArIG51ZXZveVAgPiAxMDApIG51ZXZveVAgPSBNYXRoLmZsb29yKDEwMCAtIHRoaXMucG9zaWNpb24ueSk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuc2l6ZSwgIngiLCBudWV2b3hQKTsKICAgICAgICB0aGlzLiRzZXQodGhpcy5zaXplLCAieSIsIG51ZXZveVApOwogICAgICB9CiAgICB9LAogICAgZmluUmVzaXplOiBmdW5jdGlvbiBmaW5SZXNpemUoKSB7CiAgICAgIHRoaXMucmVzaXppbmcgPSBmYWxzZTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QgfHwgKF90ZW1wbGF0ZU9iamVjdCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICBtdXRhdGlvbihcbiAgICAgICAgICAgICRpZExpYnJvOiBJRCFcbiAgICAgICAgICAgICRpZFBhZ2luYTogSUQhXG4gICAgICAgICAgICAkaWRDdWFkcm9JbWFnZW46IElEIVxuICAgICAgICAgICAgJG51ZXZvU2l6ZTogQ29vcmRzSW5wdXQhXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB1cGRhdGVTaXplQ3VhZHJvSW1hZ2VuKFxuICAgICAgICAgICAgICBpZExpYnJvOiAkaWRMaWJyb1xuICAgICAgICAgICAgICBpZFBhZ2luYTogJGlkUGFnaW5hXG4gICAgICAgICAgICAgIGlkQ3VhZHJvSW1hZ2VuOiAkaWRDdWFkcm9JbWFnZW5cbiAgICAgICAgICAgICAgbnVldm9TaXplOiAkbnVldm9TaXplXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgc2l6ZSB7XG4gICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgIHlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgIl0pKSksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8sCiAgICAgICAgICBpZFBhZ2luYTogdGhpcy5pZFBhZ2luYSwKICAgICAgICAgIGlkQ3VhZHJvSW1hZ2VuOiB0aGlzLmVzdGVDdWFkcm9JbWFnZW4uaWQsCiAgICAgICAgICBudWV2b1NpemU6IHRoaXMuc2l6ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaW5pY2lhckRyYWc6IGZ1bmN0aW9uIGluaWNpYXJEcmFnKCkgewogICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTsKICAgIH0sCiAgICBkcmFnOiBmdW5jdGlvbiBkcmFnKGUpIHsKICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHsKICAgICAgICBjb25zb2xlLmxvZygiRHJhZ2dpbmciKTsKICAgICAgICB2YXIgZWxlbVBhZ2luYSA9IHRoaXMuJGVsLmNsb3Nlc3QoIi5wYWdpbmEiKTsKICAgICAgICB2YXIgcG9zUGFnaW5hID0gZWxlbVBhZ2luYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgcG9zTW91c2UgPSB7CiAgICAgICAgICB4OiBlLmNsaWVudFggLSBwb3NQYWdpbmEubGVmdCwKICAgICAgICAgIHk6IGUuY2xpZW50WSAtIHBvc1BhZ2luYS50b3AKICAgICAgICB9OwogICAgICAgIHZhciBudWV2YVBvcyA9IHsKICAgICAgICAgIHg6IHBvc01vdXNlLnggLSB0aGlzLiRlbC5vZmZzZXRXaWR0aCAvIDIsCiAgICAgICAgICB5OiBwb3NNb3VzZS55ICsgMjAKICAgICAgICB9OwoKICAgICAgICBpZiAobnVldmFQb3MueCArIHRoaXMuJGVsLm9mZnNldFdpZHRoID4gZWxlbVBhZ2luYS5vZmZzZXRXaWR0aCkgewogICAgICAgICAgbnVldmFQb3MueCA9IGVsZW1QYWdpbmEub2Zmc2V0V2lkdGggLSB0aGlzLiRlbC5vZmZzZXRXaWR0aDsKICAgICAgICB9CgogICAgICAgIGlmIChudWV2YVBvcy54IDwgMCkgewogICAgICAgICAgbnVldmFQb3MueCA9IDA7CiAgICAgICAgfQoKICAgICAgICBpZiAobnVldmFQb3MueSArIHRoaXMuJGVsLm9mZnNldEhlaWdodCA+IGVsZW1QYWdpbmEub2Zmc2V0SGVpZ2h0KSB7CiAgICAgICAgICBudWV2YVBvcy55ID0gZWxlbVBhZ2luYS5vZmZzZXRIZWlnaHQgLSB0aGlzLiRlbC5vZmZzZXRIZWlnaHQ7CiAgICAgICAgfQoKICAgICAgICBpZiAobnVldmFQb3MueSA8IDApIHsKICAgICAgICAgIG51ZXZhUG9zLnkgPSAwOwogICAgICAgIH0KCiAgICAgICAgdmFyIG51ZXZhUG9zUCA9IHsKICAgICAgICAgIHg6IE1hdGgucm91bmQobnVldmFQb3MueCAqIDEwMCAvIGVsZW1QYWdpbmEub2Zmc2V0V2lkdGgpLAogICAgICAgICAgeTogTWF0aC5yb3VuZChudWV2YVBvcy55ICogMTAwIC8gZWxlbVBhZ2luYS5vZmZzZXRIZWlnaHQpCiAgICAgICAgfTsKICAgICAgICB0aGlzLnBvc2ljaW9uID0gbnVldmFQb3NQOwogICAgICB9CiAgICB9LAogICAgZmluRHJhZzogZnVuY3Rpb24gZmluRHJhZygpIHsKICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlOwogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogZ3FsKF90ZW1wbGF0ZU9iamVjdDIgfHwgKF90ZW1wbGF0ZU9iamVjdDIgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgbXV0YXRpb24oXG4gICAgICAgICAgICAkaWRMaWJybzogSUQhXG4gICAgICAgICAgICAkaWRQYWdpbmE6IElEIVxuICAgICAgICAgICAgJGlkQ3VhZHJvSW1hZ2VuOiBJRCFcbiAgICAgICAgICAgICRudWV2b1Bvc2ljaW9uOiBDb29yZHNJbnB1dCFcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHVwZGF0ZVBvc2ljaW9uQ3VhZHJvSW1hZ2VuKFxuICAgICAgICAgICAgICBpZExpYnJvOiAkaWRMaWJyb1xuICAgICAgICAgICAgICBpZFBhZ2luYTogJGlkUGFnaW5hXG4gICAgICAgICAgICAgIGlkQ3VhZHJvSW1hZ2VuOiAkaWRDdWFkcm9JbWFnZW5cbiAgICAgICAgICAgICAgbnVldm9Qb3NpY2lvbjogJG51ZXZvUG9zaWNpb25cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICBwb3NpY2lvbiB7XG4gICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgIHlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgIl0pKSksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8sCiAgICAgICAgICBpZFBhZ2luYTogdGhpcy5pZFBhZ2luYSwKICAgICAgICAgIGlkQ3VhZHJvSW1hZ2VuOiB0aGlzLmVzdGVDdWFkcm9JbWFnZW4uaWQsCiAgICAgICAgICBudWV2b1Bvc2ljaW9uOiB0aGlzLnBvc2ljaW9uCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRBcmNoaXZvQ3VhZHJvSW1hZ2VuOiBmdW5jdGlvbiB1cGxvYWRBcmNoaXZvQ3VhZHJvSW1hZ2VuKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRhdG9zID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBpZiAoIXRoaXMuJHJlZnMuaW5wdXRBcmNoaXZvSW1hZ2VuLnZhbHVlKSB7CiAgICAgICAgY29uc29sZS5sb2coIk5vIGhhYlx4RURhIGFyY2hpdm8gc2VsZWNjaW9uYWRvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBkYXRvcy5hcHBlbmQoImlkTGlicm8iLCB0aGlzLmlkTGlicm8pOwogICAgICBkYXRvcy5hcHBlbmQoImlkUGFnaW5hIiwgdGhpcy5pZFBhZ2luYSk7CiAgICAgIGRhdG9zLmFwcGVuZCgiaWRDdWFkcm9JbWFnZW4iLCB0aGlzLmVzdGVDdWFkcm9JbWFnZW4uaWQpOwogICAgICBkYXRvcy5hcHBlbmQoImltYWdlbiIsIHRoaXMuJHJlZnMuaW5wdXRBcmNoaXZvSW1hZ2VuLmZpbGVzWzBdKTsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHVybDogdGhpcy5zZXJ2ZXJVcmwgKyAiL2FwaUN1ZW50b3Mvc3ViaXJBcmNoaXZvQ3VhZHJvSW1hZ2VuIiwKICAgICAgICBkYXRhOiBkYXRvcywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgcmVzID0gX3JlZi5yZXM7CiAgICAgICAgY29uc29sZS5sb2coIlJlc3VsdGFkbyBkZSB1cGxvYWQgYXJjaGl2bzogIi5jb25jYXQocmVzKSk7CiAgICAgICAgX3RoaXMudmVyc2lvbkltYWdlbisrOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgdXBsb2FkaW5nIGFyY2hpdm8gZGUgY3VhZHJvSW1hZ2VuLiBFOiAiLmNvbmNhdChlcnJvcikpOwogICAgICB9KTsKICAgIH0sCiAgICBlbGltaW5hcnNlOiBmdW5jdGlvbiBlbGltaW5hcnNlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghY29uZmlybSgiRWxpbWluYW5kbyBjdWFkcm8gZGUgaW1hZ2VuLiBFc3RhIG9wZXJhY2nDs24gbm8gc2UgcHVlZGUgZGVzaGFjZXIuIMK/Q29udGludWFyPyIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnVwZGF0aW5nSW5mbyA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCJFbGltaW5hbmRvIHVuIGN1YWRybyBkZSBpbWFnZW4iKTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QzIHx8IChfdGVtcGxhdGVPYmplY3QzID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICAgICAgbXV0YXRpb24oJGlkTGlicm86IElEISwgJGlkUGFnaW5hOiBJRCEsICRpZEN1YWRyb0ltYWdlbjogSUQhKSB7XG4gICAgICAgICAgICAgIGVsaW1pbmFyQ3VhZHJvSW1hZ2VuTGlicm8oXG4gICAgICAgICAgICAgICAgaWRMaWJybzogJGlkTGlicm9cbiAgICAgICAgICAgICAgICBpZFBhZ2luYTogJGlkUGFnaW5hXG4gICAgICAgICAgICAgICAgaWRDdWFkcm9JbWFnZW46ICRpZEN1YWRyb0ltYWdlblxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgIl0pKSksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8sCiAgICAgICAgICBpZFBhZ2luYTogdGhpcy5pZFBhZ2luYSwKICAgICAgICAgIGlkQ3VhZHJvSW1hZ2VuOiB0aGlzLmVzdGVDdWFkcm9JbWFnZW4uaWQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGVsaW1pbmFyQ3VhZHJvSW1hZ2VuTGlicm8gPSBfcmVmMi5kYXRhLmVsaW1pbmFyQ3VhZHJvSW1hZ2VuTGlicm87CiAgICAgICAgY29uc29sZS5sb2coIlJlc3VsdGFkbzogIi5jb25jYXQoZWxpbWluYXJDdWFkcm9JbWFnZW5MaWJybykpOwoKICAgICAgICBpZiAoZWxpbWluYXJDdWFkcm9JbWFnZW5MaWJybykgewogICAgICAgICAgX3RoaXMyLiRlbWl0KCJtZUVsaW1pbmUiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvci4gRTogIi5jb25jYXQoZXJyb3IpKTsKICAgICAgICBfdGhpczIudXBkYXRpbmdJbmZvID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJNb250YWRvIik7CiAgICB0aGlzLiRzZXQodGhpcy5wb3NpY2lvbiwgIngiLCB0aGlzLmVzdGVDdWFkcm9JbWFnZW4ucG9zaWNpb24ueCk7CiAgICB0aGlzLiRzZXQodGhpcy5wb3NpY2lvbiwgInkiLCB0aGlzLmVzdGVDdWFkcm9JbWFnZW4ucG9zaWNpb24ueSk7CiAgICB0aGlzLiRzZXQodGhpcy5zaXplLCAieCIsIHRoaXMuZXN0ZUN1YWRyb0ltYWdlbi5zaXplLngpOwogICAgdGhpcy4kc2V0KHRoaXMuc2l6ZSwgInkiLCB0aGlzLmVzdGVDdWFkcm9JbWFnZW4uc2l6ZS55KTsKCiAgICBpZiAodGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLnNpbkFyY2hpdm8pIHsKICAgICAgY29uc29sZS5sb2coIkFicmllbmRvIGVsIGlucHV0IGRlIGFyY2hpdm8iKTsKICAgICAgdGhpcy4kcmVmcy5pbnB1dEFyY2hpdm9JbWFnZW4uY2xpY2soKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CuadroImagen.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    class=\"cuadroImagen\"\n    :style=\"[estiloLayout]\"\n    @click=\"playAudio\"\n    :class=\"{\n      conAudio: esteCuadroImagen.audio,\n      deshabilitado: updatingInfo,\n      enPaginaSeleccionada: paginaSeleccionada,\n    }\"\n  >\n    <img\n      :src=\"urlImagen + '?v=' + versionImagen\"\n      alt=\"ilustracion\"\n      class=\"imagenContenido\"\n    />\n\n    <div id=\"zHandlers\">\n      <div class=\"zHandler\" id=\"bSendBack\" title=\"Mover hacia atrás\" @click=\"posicionZeta=posicionZeta>0?posicionZeta-1:0\"></div>\n      <div class=\"zHandler\" id=\"bBringFront\" title=\"Mover hacia adelante\" @click=\"posicionZeta++\"></div>\n    </div>\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div id=\"bolitaDragHandle\">{{esteCuadroImagen.posicionZeta}}</div>\n    </div>\n\n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <img\n      src=\"@/assets/iconos/delete.png\"\n      alt=\"Eliminar\"\n      title=\"Eliminar cuadro de imagen\"\n      id=\"bEliminarCuadroImagen\"\n      v-show=\"seleccionado\"\n      @click=\"eliminarse\"\n    />\n\n    <input\n      type=\"file\"\n      id=\"inputArchivoImagen\"\n      style=\"display: none\"\n      ref=\"inputArchivoImagen\"\n      @change=\"uploadArchivoCuadroImagen\"\n    />\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroImagen.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport axios from \"axios\";\nexport default {\n  name: \"cuadroImagen\",\n  props: {\n    esteCuadroImagen: Object,\n    idLibro: String,\n    idPagina: String,\n    sizePagina: Object,\n    seleccionado: Boolean,\n    archivoCuadroImagenPagina: Object,\n    paginaSeleccionada: Boolean,\n    zBase:Number,\n  },\n  data() {\n    return {\n      posicionZeta:0,\n      resizing: false,\n      dragging: false,\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo: false,\n      versionImagen: 0,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n\n        zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta,\n\n      };\n    },\n    urlImagen() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/imagenCuento/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioImagen/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      if (!this.esteCuadroImagen.audio) return;\n      this.$refs.audio.play();\n    },\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        const nuevox = e.clientX - cuadroPos.x - 5;\n        const nuevoy = e.clientY - cuadroPos.y - 5;\n\n        var nuevoxP = Math.floor((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.floor((nuevoy * 100) / this.sizePagina.y);\n\n        if (this.posicion.x + nuevoxP > 100)\n          nuevoxP = Math.floor(100 - this.posicion.x);\n        if (this.posicion.y + nuevoyP > 100)\n          nuevoyP = Math.floor(100 - this.posicion.y);\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoSize: CoordsInput!\n          ) {\n            updateSizeCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoSize: $nuevoSize\n            ) {\n              id\n              size {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoSize: this.size,\n        },\n      });\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        if (nuevaPos.x + this.$el.offsetWidth > elemPagina.offsetWidth) {\n          nuevaPos.x = elemPagina.offsetWidth - this.$el.offsetWidth;\n        }\n        if (nuevaPos.x < 0) {\n          nuevaPos.x = 0;\n        }\n\n        if (nuevaPos.y + this.$el.offsetHeight > elemPagina.offsetHeight) {\n          nuevaPos.y = elemPagina.offsetHeight - this.$el.offsetHeight;\n        }\n        if (nuevaPos.y < 0) {\n          nuevaPos.y = 0;\n        }\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n\n    uploadArchivoCuadroImagen() {\n      var datos = new FormData();\n      if (!this.$refs.inputArchivoImagen.value) {\n        console.log(`No había archivo seleccionado`);\n        return;\n      }\n      datos.append(\"idLibro\", this.idLibro);\n      datos.append(\"idPagina\", this.idPagina);\n      datos.append(\"idCuadroImagen\", this.esteCuadroImagen.id);\n      datos.append(\"imagen\", this.$refs.inputArchivoImagen.files[0]);\n\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/apiCuentos/subirArchivoCuadroImagen\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ res }) => {\n          console.log(`Resultado de upload archivo: ${res}`);\n          this.versionImagen++;\n        })\n        .catch((error) => {\n          console.log(`Error uploading archivo de cuadroImagen. E: ${error}`);\n        });\n    },\n\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de imagen. Esta operación no se puede deshacer. ¿Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de imagen`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroImagen: ID!) {\n              eliminarCuadroImagenLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroImagen: $idCuadroImagen\n              )\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroImagen: this.esteCuadroImagen.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroImagenLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroImagenLibro}`);\n          if (eliminarCuadroImagenLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n  },\n  mounted() {\n    console.log(`Montado`);\n    this.$set(this.posicion, \"x\", this.esteCuadroImagen.posicion.x);\n    this.$set(this.posicion, \"y\", this.esteCuadroImagen.posicion.y);\n\n    this.$set(this.size, \"x\", this.esteCuadroImagen.size.x);\n    this.$set(this.size, \"y\", this.esteCuadroImagen.size.y);\n\n    if (this.esteCuadroImagen.sinArchivo) {\n      console.log(`Abriendo el input de archivo`);\n      this.$refs.inputArchivoImagen.click();\n    }\n  },\n};\n</script>\n\n<style scoped>\n.cuadroImagen {\n  position: absolute;\n  border-width: 1px;\n  border-style: solid;\n}\n.cuadroImagen:not(.enPaginaSeleccionada) {\n  border-color: transparent;\n}\n.enPaginaSeleccionada {\n  border-color: purple;\n}\n.imagenContenido {\n  width: 100%;\n  height: 100%;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n  text-align: center;\n}\n.conAudio {\n  cursor: pointer;\n}\n\n#bEliminarCuadroImagen {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: -40px;\n  right: -35px;\n}\n#bEliminarCuadroImagen:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n\n#zHandlers{\n  position: absolute;\n  top:-33px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: rgba(104, 7, 104, 0.534);\n  border-radius: 13px;\n  padding: 5px 10px;\n  display: grid;\n  grid-template-columns: 16px 30px 16px;\n}\n\n.zHandler{\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;    \n}\n#bSendBack{\n  background-color: rgba(8, 83, 8, 0.377);\n  grid-column: 1/2;\n}\n#bSendBack:hover{\n  background-color: rgba(8, 83, 8, 0.61); \n}\n#bBringFront{\n  background-color: rgb(8, 83, 8);\n  grid-column: 3/4;\n}\n#bBringFront:hover{\n  background-color: rgb(4, 56, 4);\n\n}\n</style>"],"sourceRoot":"src/components"}]}