{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js!/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/App.vue","mtime":1617665825181},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTGlicm8gZnJvbSAiLi9jb21wb25lbnRzL0xpYnJvLnZ1ZSI7CmltcG9ydCBNaXNMaWJyb3MgZnJvbSAiLi9jb21wb25lbnRzL01pc0xpYnJvcy52dWUiOwppbXBvcnQgVG9kb3NMaWJyb3MgZnJvbSAiLi9jb21wb25lbnRzL1RvZG9zTGlicm9zLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBjb21wb25lbnRzOiB7CiAgICBMaWJybzogTGlicm8sCiAgICBNaXNMaWJyb3M6IE1pc0xpYnJvcywKICAgIFRvZG9zTGlicm9zOiBUb2Rvc0xpYnJvcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkTGlicm9TZWxlY2Npb25hZG86IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY2Npb25hckxpYnJvOiBmdW5jdGlvbiBzZWxlY2Npb25hckxpYnJvKGlkTGlicm8pIHsKICAgICAgdGhpcy5pZExpYnJvU2VsZWNjaW9uYWRvID0gaWRMaWJybzsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yOiBmdW5jdGlvbiB1c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yKCkgewogICAgICBpZiAodGhpcy51c3VhcmlvICYmIHRoaXMudXN1YXJpby5pZCAmJiB0aGlzLnVzdWFyaW8ucGVybWlzb3MuaW5jbHVkZXMoInN1cGVyYWRtaW5pc3RyYWRvciIpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsgLy8gaWYgKCF0aGlzLnVzdWFyaW8gfHwgIXRoaXMudXN1YXJpby5wZXJtaXNvcykgewogICAgICAvLyAgIGNvbnNvbGUubG9nKAogICAgICAvLyAgICAgYERhdG9zIGluc3VmaWNpZW50ZXMgcGFyYSBkZWNpZGlyIHNpIHVzdWFyaW8gZXMgc8O6cGVyYWRtaW5pc3RyYWRvcmAKICAgICAgLy8gICApOwogICAgICAvLyAgIHJldHVybiBmYWxzZTsKICAgICAgLy8gfQogICAgICAvLyBjb25zb2xlLmxvZyhgVXN1YXJpbyB0aWVuZSBwZXJtaXNvczogJHt0aGlzLnVzdWFyaW8ucGVybWlzb3N9YCk7CiAgICAgIC8vIHJldHVybiB0aGlzLnVzdWFyaW8ucGVybWlzb3MuaW5jbHVkZXMoInN1cGVyYWRtaW5pc3RyYWRvciIpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciB1cmkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTsKICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHVyaSk7CiAgICB0aGlzLmlkTGlicm8gPSBwYXJhbXMuZ2V0KCJpZCIpOwogICAgdmFyIHRva2VuID0gcGFyYW1zLmdldCgidCIpOwoKICAgIGlmICh0b2tlbiAmJiB0b2tlbi5sZW5ndGggPiAxMCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFRva2VuIiwgdG9rZW4pOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFVzZXJJbmZvIiwgdG9rZW4pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCB0b2tlbik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoImRlc2xvZ2VhcnNlIik7CiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAWA,OAAA,KAAA,MAAA,wBAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA,KADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,WAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,mBAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,OADA,EACA;AACA,WAAA,mBAAA,GAAA,OAAA;AACA;AAHA,GAZA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,yBADA,uCACA;AAEA,UAAA,KAAA,OAAA,IAAA,KAAA,OAAA,CAAA,EAAA,IAAA,KAAA,OAAA,CAAA,QAAA,CAAA,QAAA,CAAA,oBAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,KAAA,CALA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA,GAjBA;AAmCA,EAAA,OAnCA,qBAmCA;AACA,QAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,SAAA,CAAA,CAAA,CAAA;AACA,QAAA,MAAA,GAAA,IAAA,eAAA,CAAA,GAAA,CAAA;AAEA,SAAA,OAAA,GAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,GAAA,CAAA,GAAA,CAAA;;AAEA,QAAA,KAAA,IAAA,KAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA;AAEA,MAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,KAAA;AACA,KALA,MAKA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA;AACA,MAAA,YAAA,CAAA,KAAA;AACA;AACA;AAnDA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <center><h2>Taller de creación de cuentos</h2></center>\n    <todos-libros v-if=\"usuarioSuperadministrador\" @libroSeleccionado=\"seleccionarLibro\" />\n    <mis-libros @libroSeleccionado=\"seleccionarLibro\" />\n\n    <libro :idLibro=\"idLibroSeleccionado\" v-if=\"idLibroSeleccionado != null\" />\n  </div>\n</template>\n\n<script>\nimport Libro from \"./components/Libro.vue\";\nimport MisLibros from \"./components/MisLibros.vue\";\nimport TodosLibros from \"./components/TodosLibros.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Libro,\n    MisLibros,\n    TodosLibros,\n  },\n  data() {\n    return {\n      idLibroSeleccionado: null,\n    };\n  },\n  methods: {\n    seleccionarLibro(idLibro) {\n      this.idLibroSeleccionado = idLibro;\n    },\n  },\n  computed: {\n    usuarioSuperadministrador() {\n\n      if(this.usuario && this.usuario.id && this.usuario.permisos.includes(\"superadministrador\")){\n        return true;\n      }\n      return false;\n\n      // if (!this.usuario || !this.usuario.permisos) {\n      //   console.log(\n      //     `Datos insuficientes para decidir si usuario es súperadministrador`\n      //   );\n      //   return false;\n      // }\n      // console.log(`Usuario tiene permisos: ${this.usuario.permisos}`);\n      // return this.usuario.permisos.includes(\"superadministrador\");\n    },\n  },\n  mounted() {\n    let uri = window.location.search.substring(1);\n    let params = new URLSearchParams(uri);\n\n    this.idLibro = params.get(\"id\");\n    const token = params.get(\"t\");\n\n    if (token && token.length > 10) {\n      this.$store.commit(\"setToken\", token);\n      this.$store.commit(\"setUserInfo\", token);\n\n      localStorage.setItem(\"token\", token);\n    } else {\n      this.$store.commit(\"deslogearse\");\n      localStorage.clear();\n    }\n  },\n};\n</script>\n\n<style>\nbody {\n  background-color: rgb(228 227 227);\n}\n.letrasRojas {\n  color: red;\n}\n.deshabilitado {\n  opacity: 0.5;\n  pointer-events: none;\n}\n</style>\n"],"sourceRoot":"src"}]}