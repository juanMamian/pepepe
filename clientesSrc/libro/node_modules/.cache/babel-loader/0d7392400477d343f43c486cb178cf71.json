{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/foros/Conversacion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/foros/Conversacion.vue","mtime":1621134760340},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvanVhbi93ZWJQai9wZXBlcGUvbGlicm8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0OwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdxbCBmcm9tICJncmFwaHFsLXRhZyI7CmltcG9ydCBDdWFkcm9SZXNwb25kZXIgZnJvbSAiLi9DdWFkcm9SZXNwb25kZXIudnVlIjsKaW1wb3J0IFJlc3B1ZXN0YSBmcm9tICIuL1Jlc3B1ZXN0YS52dWUiOwppbXBvcnQgeyBmcmFnbWVudG9SZXNwdWVzdGEgfSBmcm9tICIuLi91dGlsaWRhZGVzL3JlY3Vyc29zR3FsIjsKdmFyIFFVRVJZX1JFU1BVRVNUQVMgPSBncWwoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIHF1ZXJ5KCRpZENvbnZlcnNhY2lvbjogSUQhLCAkcGFnaW5hOiBJbnQhKSB7XG4gICAgcmVzcHVlc3Rhc1BhZ2luYURlQ29udmVyc2FjaW9uKFxuICAgICAgaWRDb252ZXJzYWNpb246ICRpZENvbnZlcnNhY2lvblxuICAgICAgcGFnaW5hOiAkcGFnaW5hXG4gICAgKSB7XG4gICAgICBwYWdpbmFcbiAgICAgIG51bVBhZ2luYXNcbiAgICAgIHJlc3B1ZXN0YXMge1xuICAgICAgICAuLi5mcmFnUmVzcHVlc3RhXG4gICAgICB9XG4gICAgfVxuICB9XG4gICIsICJcbiJdKSksIGZyYWdtZW50b1Jlc3B1ZXN0YSk7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBSZXNwdWVzdGE6IFJlc3B1ZXN0YSwKICAgIEN1YWRyb1Jlc3BvbmRlcjogQ3VhZHJvUmVzcG9uZGVyCiAgfSwKICBuYW1lOiAiQ29udmVyc2FjaW9uIiwKICBhcG9sbG86IHsKICAgIG51bVBhZ2luYXM6IHsKICAgICAgcXVlcnk6IFFVRVJZX1JFU1BVRVNUQVMsCiAgICAgIHZhcmlhYmxlczogZnVuY3Rpb24gdmFyaWFibGVzKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZENvbnZlcnNhY2lvbjogdGhpcy5lc3RhQ29udmVyc2FjaW9uLmlkLAogICAgICAgICAgcGFnaW5hOiB0aGlzLm51bVBhZ2luYVNlbGVjY2lvbmFkYQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKF9yZWYpIHsKICAgICAgICB2YXIgX3JlZiRyZXNwdWVzdGFzUGFnaW5hID0gX3JlZi5yZXNwdWVzdGFzUGFnaW5hRGVDb252ZXJzYWNpb24sCiAgICAgICAgICAgIHBhZ2luYSA9IF9yZWYkcmVzcHVlc3Rhc1BhZ2luYS5wYWdpbmEsCiAgICAgICAgICAgIG51bVBhZ2luYXMgPSBfcmVmJHJlc3B1ZXN0YXNQYWdpbmEubnVtUGFnaW5hcywKICAgICAgICAgICAgcmVzcHVlc3RhcyA9IF9yZWYkcmVzcHVlc3Rhc1BhZ2luYS5yZXNwdWVzdGFzOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnJlc3B1ZXN0YXNQb3JQYWdpbmEsIHBhZ2luYSwgcmVzcHVlc3Rhcyk7CgogICAgICAgIGlmICh0aGlzLm51bVBhZ2luYVNlbGVjY2lvbmFkYSAhPSBwYWdpbmEpIHsKICAgICAgICAgIHRoaXMubnVtUGFnaW5hU2VsZWNjaW9uYWRhID0gcGFnaW5hOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIG51bVBhZ2luYXM7CiAgICAgIH0sCiAgICAgIHNraXA6IGZ1bmN0aW9uIHNraXAoKSB7CiAgICAgICAgcmV0dXJuICF0aGlzLnNlbGVjY2lvbmFkbzsKICAgICAgfSwKICAgICAgZmV0Y2hQb2xpY3k6ICJuby1jYWNoZSIKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBudW1QYWdpbmFzOiAwLAogICAgICBudW1QYWdpbmFTZWxlY2Npb25hZGE6IDAsCiAgICAgIHJlc3B1ZXN0YXNQb3JQYWdpbmE6IHt9LAogICAgICBsb2FkaW5nOiB0cnVlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGVzdGFDb252ZXJzYWNpb246IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcmVzcHVlc3RhczogW10KICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgaWRGb3JvOiBTdHJpbmcsCiAgICBwYXJlbnQ6IE9iamVjdCwKICAgIHNlbGVjY2lvbmFkbzogQm9vbGVhbiwKICAgIHVzdWFyaW9NaWVtYnJvOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRSZXNwdWVzdGE6IGZ1bmN0aW9uIGFkZFJlc3B1ZXN0YShudWV2YVJlc3B1ZXN0YSkgewogICAgICB2YXIgdGFyZ2V0UGFnaW5hID0gdGhpcy5udW1QYWdpbmFzOwoKICAgICAgaWYgKHRoaXMucmVzcHVlc3Rhc1BvclBhZ2luYVt0YXJnZXRQYWdpbmFdLmxlbmd0aCA+PSA1IHx8IHRhcmdldFBhZ2luYSA8IDEpIHsKICAgICAgICB0YXJnZXRQYWdpbmErKzsKCiAgICAgICAgaWYgKCF0aGlzLnJlc3B1ZXN0YXNQb3JQYWdpbmFbdGFyZ2V0UGFnaW5hXSkgewogICAgICAgICAgdGhpcy4kc2V0KHRoaXMucmVzcHVlc3Rhc1BvclBhZ2luYSwgdGFyZ2V0UGFnaW5hLCBbXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnJlc3B1ZXN0YXNQb3JQYWdpbmFbdGFyZ2V0UGFnaW5hXS5wdXNoKG51ZXZhUmVzcHVlc3RhKTsKICAgICAgdGhpcy4kcmVmcy5jdWFkcm9SZXNwb25kZXIuY2VycmFyc2UoKTsKCiAgICAgIGlmICh0aGlzLm51bVBhZ2luYVNlbGVjY2lvbmFkYSAhPSB0YXJnZXRQYWdpbmEpIHsKICAgICAgICB0aGlzLm51bVBhZ2luYVNlbGVjY2lvbmFkYSA9IHRhcmdldFBhZ2luYTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coIkVtaXRpZW5kbyAncmVzcHVlc3RhIHB1YmxpY2FkYSciKTsKICAgICAgdGhpcy4kZW1pdCgicmVzcHVlc3RhUHVibGljYWRhIik7CiAgICB9LAogICAgdXBkYXRlUmVzcHVlc3RhRWxpbWluYWRhOiBmdW5jdGlvbiB1cGRhdGVSZXNwdWVzdGFFbGltaW5hZGEoaWRSZXNwdWVzdGEsIHBhZ2luYSkgewogICAgICBjb25zb2xlLmxvZygiUmVzcHVlc3RhICIuY29uY2F0KGlkUmVzcHVlc3RhLCAiIGVsaW1pbmFkYSBkZSBsYSBwYWdpbmEgIikuY29uY2F0KHBhZ2luYSkpOwoKICAgICAgaWYgKHRoaXMubnVtUGFnaW5hcyA9PSAxICYmIHRoaXMucmVzcHVlc3Rhc1BvclBhZ2luYVsxXS5sZW5ndGggPCAyKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVyYSBsYSB1bHRpbWEgcmVzcHVlc3RhIik7CiAgICAgICAgdGhpcy4kZW1pdCgibWVFbGltaW5lIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIlJlZnJlc2hpbmcgcmVzcHVlc3RhcyBwYWdpbmEiKTsKICAgICAgICB0aGlzLiRhcG9sbG8ucXVlcmllcy5udW1QYWdpbmFzLnJlZnJlc2goKTsKICAgICAgfQogICAgfSwKICAgIGNpdGFyUmVzcHVlc3RhOiBmdW5jdGlvbiBjaXRhclJlc3B1ZXN0YShxdW90ZSkgewogICAgICB0aGlzLiRyZWZzLmN1YWRyb1Jlc3BvbmRlci5pbnRlcnBvbGFyUXVvdGUocXVvdGUpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhbnRpZGFkUmVzcHVlc3Rhc0xlaWRhc1VzdWFyaW86IGZ1bmN0aW9uIGNhbnRpZGFkUmVzcHVlc3Rhc0xlaWRhc1VzdWFyaW8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy51c3VhcmlvICYmIHRoaXMudXN1YXJpby5mb3JvcykgewogICAgICAgIHZhciBpbmZvRm9ybyA9IHRoaXMudXN1YXJpby5mb3Jvcy5maW5kKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICByZXR1cm4gZi5pZEZvcm8gPT0gX3RoaXMuaWRGb3JvOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoIWluZm9Gb3JvKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIHZhciBpbmZvQ29udmVyc2FjaW9uID0gaW5mb0Zvcm8uY29udmVyc2FjaW9uZXMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMuaWRDb252ZXJzYWNpb24gPT0gX3RoaXMuZXN0YUNvbnZlcnNhY2lvbi5pZDsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFpbmZvQ29udmVyc2FjaW9uKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpbmZvQ29udmVyc2FjaW9uLnJlc3B1ZXN0YXNMZWlkYXM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBmZWNoYUZvcm1hdGVhZGE6IGZ1bmN0aW9uIGZlY2hhRm9ybWF0ZWFkYSgpIHsKICAgICAgaWYgKCF0aGlzLmVzdGFDb252ZXJzYWNpb24uaW5mb1VsdGltYVJlc3B1ZXN0YSB8fCAhdGhpcy5lc3RhQ29udmVyc2FjaW9uLmluZm9VbHRpbWFSZXNwdWVzdGEuZmVjaGEpIHsKICAgICAgICByZXR1cm4gIkZlY2hhIGRlc2Nvbm9jaWRhIjsKICAgICAgfQoKICAgICAgdmFyIGxhRmVjaGEgPSBuZXcgRGF0ZSh0aGlzLmVzdGFDb252ZXJzYWNpb24uaW5mb1VsdGltYVJlc3B1ZXN0YS5mZWNoYSkudG9TdHJpbmcoKTsKICAgICAgdmFyIGluZGV4UGFyZW50ZXNpcyA9IGxhRmVjaGEuaW5kZXhPZigiKCIpOwogICAgICB2YXIgZmVjaGFDb3J0YSA9IGxhRmVjaGEuc3Vic3RyKDAsIGluZGV4UGFyZW50ZXNpcyk7CiAgICAgIHZhciBpbmRleEdNVCA9IGZlY2hhQ29ydGEuaW5kZXhPZigiR01UIik7CgogICAgICBpZiAoaW5kZXhHTVQgPiAtMSkgewogICAgICAgIGZlY2hhQ29ydGEgPSBmZWNoYUNvcnRhLnN1YnN0cigwLCBpbmRleEdNVCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmZWNoYUNvcnRhOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHNlbGVjY2lvbmFkbzogZnVuY3Rpb24gc2VsZWNjaW9uYWRvKG51ZXZvLCB2aWVqbykgewogICAgICBpZiAobnVldm8gJiYgIXZpZWpvKSB7CiAgICAgICAgdGhpcy4kZW1pdCgibWVBYnJpZXJvbiIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Conversacion.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    class=\"conversacion\"\n    :class=\"{\n      seleccionado,\n      deshabilitado: seleccionado && loading,\n      conRespuestasNoLeidas:\n        estaConversacion.cantidadRespuestas > cantidadRespuestasLeidasUsuario,\n    }\"\n  >\n    <div class=\"infoConversacion\">\n      {{ estaConversacion.cantidadRespuestas }} publicacion{{\n        estaConversacion.cantidadRespuestas > 1 ? \"es\" : \"\"\n      }}. Última publicación en {{ fechaFormateada }}\n    </div>\n    <div class=\"tituloConversacion\">\n      <img\n        src=\"@/assets/iconos/conversacion.png\"\n        alt=\"Conversacion\"\n        class=\"imagenConversacion\"\n      />\n      {{ estaConversacion.titulo }}\n      <span class=\"datosConversacion\">\n        <span\n          class=\"dato datoRespuestasNoLeidas\"\n          title=\"Respuestas nuevas en esta conversación\"\n          v-show=\"\n            estaConversacion.cantidadRespuestas >\n            cantidadRespuestasLeidasUsuario\n          \"\n        >\n          {{\n            estaConversacion.cantidadRespuestas -\n            cantidadRespuestasLeidasUsuario\n          }}\n        </span>\n      </span>\n    </div>\n\n    <div\n      class=\"zonaSelectorPaginas\"\n      v-if=\"numPaginas > 0\"\n      v-show=\"seleccionado\"\n    >\n      <div\n        class=\"selectorPagina\"\n        :class=\"{ selectorSeleccionado: index == numPaginaSeleccionada }\"\n        v-for=\"index in numPaginas\"\n        :key=\"index\"\n        @click=\"numPaginaSeleccionada = index\"\n      >\n        {{ index }}\n      </div>\n    </div>\n    <div class=\"zonaRespuestas\" v-show=\"seleccionado\">\n      <div class=\"zonaPaginas\">\n        <div\n          class=\"pagina\"\n          v-for=\"index in numPaginas\"\n          :key=\"'pagina' + index\"\n          v-show=\"numPaginaSeleccionada == index\"\n        >\n          <respuesta\n            v-for=\"respuesta of respuestasPorPagina[index]\"\n            :key=\"respuesta.id\"\n            :idConversacion=\"estaConversacion.id\"\n            :estaRespuesta=\"respuesta\"\n            @meQuierenCitar=\"citarRespuesta\"\n            @meElimine=\"updateRespuestaEliminada(respuesta.id, index)\"\n          />\n        </div>\n      </div>\n      <cuadro-responder\n        ref=\"cuadroResponder\"\n        :parent=\"parent\"\n        v-if=\"\n          usuarioLogeado &&\n          (estaConversacion.acceso == 'publico' || usuarioMiembro == true) &&\n          estaConversacion.id\n        \"        \n        :idConversacion=\"estaConversacion.id\"\n        @hiceRespuesta=\"addRespuesta($event)\"\n      />\n    </div>\n\n    <div class=\"controlesConversacion\">\n      <!-- <div class=\"bEliminarConversacion\">Eliminar</div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport CuadroResponder from \"./CuadroResponder.vue\";\nimport Respuesta from \"./Respuesta.vue\";\nimport { fragmentoRespuesta } from \"../utilidades/recursosGql\";\n\nconst QUERY_RESPUESTAS = gql`\n  query($idConversacion: ID!, $pagina: Int!) {\n    respuestasPaginaDeConversacion(\n      idConversacion: $idConversacion\n      pagina: $pagina\n    ) {\n      pagina\n      numPaginas\n      respuestas {\n        ...fragRespuesta\n      }\n    }\n  }\n  ${fragmentoRespuesta}\n`;\n\nexport default {\n  components: { Respuesta, CuadroResponder },\n  name: \"Conversacion\",\n  apollo: {\n    numPaginas: {\n      query: QUERY_RESPUESTAS,\n      variables() {\n        return {\n          idConversacion: this.estaConversacion.id,\n          pagina: this.numPaginaSeleccionada,\n        };\n      },\n      update({\n        respuestasPaginaDeConversacion: { pagina, numPaginas, respuestas },\n      }) {        \n        this.$set(this.respuestasPorPagina, pagina, respuestas);\n        if (this.numPaginaSeleccionada != pagina) {\n          this.numPaginaSeleccionada = pagina;\n        }\n        this.loading = false;\n        return numPaginas;\n      },\n      skip() {\n        return !this.seleccionado;\n      },\n      fetchPolicy: \"no-cache\",\n    },\n  },\n  data() {\n    return {\n      numPaginas: 0,\n      numPaginaSeleccionada: 0,\n      respuestasPorPagina: {},\n      loading: true,\n    };\n  },\n  props: {\n    estaConversacion: {\n      type: Object,\n      default() {\n        return {\n          respuestas: [],\n        };\n      },\n    },\n    idForo: String,\n    parent: Object,\n    seleccionado: Boolean,\n    usuarioMiembro: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    addRespuesta(nuevaRespuesta) {\n      var targetPagina = this.numPaginas;\n      if (\n        this.respuestasPorPagina[targetPagina].length >= 5 ||\n        targetPagina < 1\n      ) {\n        targetPagina++;\n        if (!this.respuestasPorPagina[targetPagina]) {\n          this.$set(this.respuestasPorPagina, targetPagina, []);\n        }\n      }\n      this.respuestasPorPagina[targetPagina].push(nuevaRespuesta);\n      this.$refs.cuadroResponder.cerrarse();\n      if (this.numPaginaSeleccionada != targetPagina) {\n        this.numPaginaSeleccionada = targetPagina;\n      }\n      console.log(`Emitiendo 'respuesta publicada'`);\n      this.$emit(\"respuestaPublicada\");\n    },\n    updateRespuestaEliminada(idRespuesta, pagina) {\n      console.log(`Respuesta ${idRespuesta} eliminada de la pagina ${pagina}`);\n      if (this.numPaginas == 1 && this.respuestasPorPagina[1].length < 2) {\n        console.log(`Era la ultima respuesta`);\n        this.$emit(\"meElimine\");\n      } else {\n        console.log(`Refreshing respuestas pagina`);\n        this.$apollo.queries.numPaginas.refresh();\n      }\n    },\n    citarRespuesta(quote){\n      this.$refs.cuadroResponder.interpolarQuote(quote);\n    }\n  },\n  computed: {\n    cantidadRespuestasLeidasUsuario() {\n      if (this.usuario && this.usuario.foros) {\n        const infoForo = this.usuario.foros.find(\n          (f) => f.idForo == this.idForo\n        );\n        if (!infoForo) {\n          return 0;\n        }\n        const infoConversacion = infoForo.conversaciones.find(\n          (c) => c.idConversacion == this.estaConversacion.id\n        );\n        if (!infoConversacion) {\n          return 0;\n        }\n        return infoConversacion.respuestasLeidas;\n      } else {\n        return 0;\n      }\n    },\n    fechaFormateada: function () {\n      if (\n        !this.estaConversacion.infoUltimaRespuesta ||\n        !this.estaConversacion.infoUltimaRespuesta.fecha\n      ) {\n        return \"Fecha desconocida\";\n      }\n      let laFecha = new Date(\n        this.estaConversacion.infoUltimaRespuesta.fecha\n      ).toString();\n      let indexParentesis = laFecha.indexOf(\"(\");\n      let fechaCorta = laFecha.substr(0, indexParentesis);\n      let indexGMT = fechaCorta.indexOf(\"GMT\");\n      if (indexGMT > -1) {\n        fechaCorta = fechaCorta.substr(0, indexGMT);\n      }\n      return fechaCorta;\n    },\n  },\n  watch:{\n    seleccionado(nuevo, viejo){\n      if(nuevo && !viejo){\n        this.$emit(\"meAbrieron\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.conversacion {\n  background-color: #fdc190;\n  border: 1px solid white;\n  padding: 0px 0px;\n}\n.conversacion:hover {\n  background-color: #f7b57f;\n}\n.conRespuestasNoLeidas {\n  background-color: #f8cca8;\n}\n.seleccionado {\n  background-color: #f7b57f;\n}\n.infoConversacion {\n  font-size: 10px;\n  font-style: italic;\n  color: gray;\n  text-align: right;\n}\n.respuesta {\n  margin: 5px;\n}\n.conversacion:not(.seleccionado) {\n  cursor: pointer;\n}\n.tituloConversacion {\n  padding: 15px 0px;\n  margin: 5px;\n  font-weight: bold;\n  display: grid;\n  align-items: center;\n  grid-template-columns: 35px 1fr 50px;\n  color: #9c1a1a;\n}\n.imagenConversacion {\n  width: 30px;\n  height: 30px;\n  margin-right: 10px;\n}\n.datosConversacion {\n  padding: 10px 0px;\n}\n.dato {\n  margin: 0px 3px;\n  cursor: pointer;\n  border-radius: 10px;\n  padding: 3px;\n  text-align: center;\n  font-size: 12px;\n}\n\n.datoRespuestasNoLeidas {\n  border: 1px solid chocolate;\n  background-color: rgb(243, 206, 180);\n}\n\n.datoCantidadRespuestas {\n  border: 1px solid rgb(75, 73, 73);\n}\n.zonaRespuestas {\n  padding-left: 0px;\n}\n.controlesConversacion {\n  display: flex;\n  flex-flow: row-reverse;\n}\n.bEliminarConversacion {\n  padding: 3px;\n}\n.bEliminarConversacion:hover {\n  padding: 3px;\n  background-color: red;\n  cursor: pointer;\n}\n.zonaSelectorPaginas {\n  display: flex;\n  padding: 2px 10px;\n}\n.selectorPagina {\n  border: 1px solid black;\n  padding: 3px 5px;\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: #f7b57f;\n}\n\n.selectorPagina:hover {\n  background-color: #ffd0aa;\n}\n.selectorSeleccionado {\n  background-color: #ffd0aa;\n\n  pointer-events: none;\n  font-weight: bold;\n}\n\n@media only screen and (min-width: 768px) {\n  .tituloConversacion {\n    padding: 15px 10px;\n    margin: 5px;\n    font-weight: bold;\n    display: grid;\n    align-items: center;\n    grid-template-columns: 65px 1fr 90px;\n    color: #9c1a1a;\n  }\n  .imagenConversacion {\n    width: 50px;\n    height: 50px;\n    margin-right: 10px;\n  }\n  .dato {\n    margin: 0px 4px;\n    cursor: pointer;\n    border-radius: 10px;\n    padding: 6px;\n    text-align: center;\n    font-size: 14px;\n  }\n}\n</style>"],"sourceRoot":"src/components/foros"}]}