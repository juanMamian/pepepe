{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js!/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/CuadroImagen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/CuadroImagen.vue","mtime":1617736335122},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvanVhbi93ZWJQai9wZXBlcGUvbGlicm8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0LCBfdGVtcGxhdGVPYmplY3QyLCBfdGVtcGxhdGVPYmplY3QzOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ3FsIH0gZnJvbSAiYXBvbGxvLXNlcnZlci1jb3JlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjdWFkcm9JbWFnZW4iLAogIHByb3BzOiB7CiAgICBlc3RlQ3VhZHJvSW1hZ2VuOiBPYmplY3QsCiAgICBpZExpYnJvOiBTdHJpbmcsCiAgICBpZFBhZ2luYTogU3RyaW5nLAogICAgc2l6ZVBhZ2luYTogT2JqZWN0LAogICAgc2VsZWNjaW9uYWRvOiBCb29sZWFuLAogICAgYXJjaGl2b0N1YWRyb0ltYWdlblBhZ2luYTogT2JqZWN0LAogICAgcGFnaW5hU2VsZWNjaW9uYWRhOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzaXppbmc6IGZhbHNlLAogICAgICBkcmFnZ2luZzogZmFsc2UsCiAgICAgIHBvc2ljaW9uOiB7CiAgICAgICAgeDogbnVsbCwKICAgICAgICB5OiBudWxsCiAgICAgIH0sCiAgICAgIHNpemU6IHsKICAgICAgICB4OiBudWxsLAogICAgICAgIHk6IG51bGwKICAgICAgfSwKICAgICAgdXBkYXRpbmdJbmZvOiBmYWxzZSwKICAgICAgdmVyc2lvbkltYWdlbjogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBlc3RpbG9MYXlvdXQ6IGZ1bmN0aW9uIGVzdGlsb0xheW91dCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IHRoaXMucG9zaWNpb24ueSArICIlIiwKICAgICAgICBsZWZ0OiB0aGlzLnBvc2ljaW9uLnggKyAiJSIsCiAgICAgICAgd2lkdGg6IHRoaXMuc2l6ZS54ICsgIiUiLAogICAgICAgIGhlaWdodDogdGhpcy5zaXplLnkgKyAiJSIKICAgICAgfTsKICAgIH0sCiAgICB1cmxJbWFnZW46IGZ1bmN0aW9uIHVybEltYWdlbigpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VydmVyVXJsICsgIi9hcGlDdWVudG9zL2ltYWdlbkN1ZW50by8iICsgdGhpcy5pZExpYnJvICsgIi8iICsgdGhpcy5pZFBhZ2luYSArICIvIiArIHRoaXMuZXN0ZUN1YWRyb0ltYWdlbi5pZDsKICAgIH0sCiAgICBzaXplUmVzaXplSGFuZGxlOiBmdW5jdGlvbiBzaXplUmVzaXplSGFuZGxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB0aGlzLnJlc2l6aW5nID8gMjAwICsgInB4IiA6IDEwICsgInB4IiwKICAgICAgICBoZWlnaHQ6IHRoaXMucmVzaXppbmcgPyAyMDAgKyAicHgiIDogMTAgKyAicHgiCiAgICAgIH07CiAgICB9LAogICAgc2l6ZURyYWdIYW5kbGU6IGZ1bmN0aW9uIHNpemVEcmFnSGFuZGxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB0aGlzLmRyYWdnaW5nID8gMjAwICsgInB4IiA6IDEwICsgInB4IiwKICAgICAgICBoZWlnaHQ6IHRoaXMuZHJhZ2dpbmcgPyAyMDAgKyAicHgiIDogMTAgKyAicHgiCiAgICAgIH07CiAgICB9LAogICAgdXJsQXVkaW86IGZ1bmN0aW9uIHVybEF1ZGlvKCkgewogICAgICByZXR1cm4gdGhpcy5zZXJ2ZXJVcmwgKyAiL2FwaUN1ZW50b3MvYXVkaW9JbWFnZW4vIiArIHRoaXMuaWRMaWJybyArICIvIiArIHRoaXMuaWRQYWdpbmEgKyAiLyIgKyB0aGlzLmVzdGVDdWFkcm9JbWFnZW4uaWQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwbGF5QXVkaW86IGZ1bmN0aW9uIHBsYXlBdWRpbygpIHsKICAgICAgaWYgKCF0aGlzLmVzdGVDdWFkcm9JbWFnZW4uYXVkaW8pIHJldHVybjsKICAgICAgdGhpcy4kcmVmcy5hdWRpby5wbGF5KCk7CiAgICB9LAogICAgaW5pY2lhclJlc2l6ZTogZnVuY3Rpb24gaW5pY2lhclJlc2l6ZSgpIHsKICAgICAgdGhpcy5yZXNpemluZyA9IHRydWU7CiAgICB9LAogICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoZSkgewogICAgICBpZiAodGhpcy5yZXNpemluZykgewogICAgICAgIHZhciBjdWFkcm9Qb3MgPSB7CiAgICAgICAgICB4OiB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LAogICAgICAgICAgeTogdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wCiAgICAgICAgfTsKICAgICAgICB2YXIgbnVldm94ID0gZS5jbGllbnRYIC0gY3VhZHJvUG9zLnggLSA1OwogICAgICAgIHZhciBudWV2b3kgPSBlLmNsaWVudFkgLSBjdWFkcm9Qb3MueSAtIDU7CiAgICAgICAgdmFyIG51ZXZveFAgPSBNYXRoLmZsb29yKG51ZXZveCAqIDEwMCAvIHRoaXMuc2l6ZVBhZ2luYS54KTsKICAgICAgICB2YXIgbnVldm95UCA9IE1hdGguZmxvb3IobnVldm95ICogMTAwIC8gdGhpcy5zaXplUGFnaW5hLnkpOwogICAgICAgIGlmICh0aGlzLnBvc2ljaW9uLnggKyBudWV2b3hQID4gMTAwKSBudWV2b3hQID0gTWF0aC5mbG9vcigxMDAgLSB0aGlzLnBvc2ljaW9uLngpOwogICAgICAgIGlmICh0aGlzLnBvc2ljaW9uLnkgKyBudWV2b3lQID4gMTAwKSBudWV2b3lQID0gTWF0aC5mbG9vcigxMDAgLSB0aGlzLnBvc2ljaW9uLnkpOwogICAgICAgIHRoaXMuJHNldCh0aGlzLnNpemUsICJ4IiwgbnVldm94UCk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuc2l6ZSwgInkiLCBudWV2b3lQKTsKICAgICAgfQogICAgfSwKICAgIGZpblJlc2l6ZTogZnVuY3Rpb24gZmluUmVzaXplKCkgewogICAgICB0aGlzLnJlc2l6aW5nID0gZmFsc2U7CiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBncWwoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgbXV0YXRpb24oXG4gICAgICAgICAgICAkaWRMaWJybzogSUQhXG4gICAgICAgICAgICAkaWRQYWdpbmE6IElEIVxuICAgICAgICAgICAgJGlkQ3VhZHJvSW1hZ2VuOiBJRCFcbiAgICAgICAgICAgICRudWV2b1NpemU6IENvb3Jkc0lucHV0IVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdXBkYXRlU2l6ZUN1YWRyb0ltYWdlbihcbiAgICAgICAgICAgICAgaWRMaWJybzogJGlkTGlicm9cbiAgICAgICAgICAgICAgaWRQYWdpbmE6ICRpZFBhZ2luYVxuICAgICAgICAgICAgICBpZEN1YWRyb0ltYWdlbjogJGlkQ3VhZHJvSW1hZ2VuXG4gICAgICAgICAgICAgIG51ZXZvU2l6ZTogJG51ZXZvU2l6ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgIHNpemUge1xuICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICB5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICJdKSkpLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvLAogICAgICAgICAgaWRQYWdpbmE6IHRoaXMuaWRQYWdpbmEsCiAgICAgICAgICBpZEN1YWRyb0ltYWdlbjogdGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLmlkLAogICAgICAgICAgbnVldm9TaXplOiB0aGlzLnNpemUKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaWNpYXJEcmFnOiBmdW5jdGlvbiBpbmljaWFyRHJhZygpIHsKICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7CiAgICB9LAogICAgZHJhZzogZnVuY3Rpb24gZHJhZyhlKSB7CiAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7CiAgICAgICAgY29uc29sZS5sb2coIkRyYWdnaW5nIik7CiAgICAgICAgdmFyIGVsZW1QYWdpbmEgPSB0aGlzLiRlbC5jbG9zZXN0KCIucGFnaW5hIik7CiAgICAgICAgdmFyIHBvc1BhZ2luYSA9IGVsZW1QYWdpbmEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIHBvc01vdXNlID0gewogICAgICAgICAgeDogZS5jbGllbnRYIC0gcG9zUGFnaW5hLmxlZnQsCiAgICAgICAgICB5OiBlLmNsaWVudFkgLSBwb3NQYWdpbmEudG9wCiAgICAgICAgfTsKICAgICAgICB2YXIgbnVldmFQb3MgPSB7CiAgICAgICAgICB4OiBwb3NNb3VzZS54IC0gdGhpcy4kZWwub2Zmc2V0V2lkdGggLyAyLAogICAgICAgICAgeTogcG9zTW91c2UueSArIDIwCiAgICAgICAgfTsKCiAgICAgICAgaWYgKG51ZXZhUG9zLnggKyB0aGlzLiRlbC5vZmZzZXRXaWR0aCA+IGVsZW1QYWdpbmEub2Zmc2V0V2lkdGgpIHsKICAgICAgICAgIG51ZXZhUG9zLnggPSBlbGVtUGFnaW5hLm9mZnNldFdpZHRoIC0gdGhpcy4kZWwub2Zmc2V0V2lkdGg7CiAgICAgICAgfQoKICAgICAgICBpZiAobnVldmFQb3MueCA8IDApIHsKICAgICAgICAgIG51ZXZhUG9zLnggPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG51ZXZhUG9zLnkgKyB0aGlzLiRlbC5vZmZzZXRIZWlnaHQgPiBlbGVtUGFnaW5hLm9mZnNldEhlaWdodCkgewogICAgICAgICAgbnVldmFQb3MueSA9IGVsZW1QYWdpbmEub2Zmc2V0SGVpZ2h0IC0gdGhpcy4kZWwub2Zmc2V0SGVpZ2h0OwogICAgICAgIH0KCiAgICAgICAgaWYgKG51ZXZhUG9zLnkgPCAwKSB7CiAgICAgICAgICBudWV2YVBvcy55ID0gMDsKICAgICAgICB9CgogICAgICAgIHZhciBudWV2YVBvc1AgPSB7CiAgICAgICAgICB4OiBNYXRoLnJvdW5kKG51ZXZhUG9zLnggKiAxMDAgLyBlbGVtUGFnaW5hLm9mZnNldFdpZHRoKSwKICAgICAgICAgIHk6IE1hdGgucm91bmQobnVldmFQb3MueSAqIDEwMCAvIGVsZW1QYWdpbmEub2Zmc2V0SGVpZ2h0KQogICAgICAgIH07CiAgICAgICAgdGhpcy5wb3NpY2lvbiA9IG51ZXZhUG9zUDsKICAgICAgfQogICAgfSwKICAgIGZpbkRyYWc6IGZ1bmN0aW9uIGZpbkRyYWcoKSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QyIHx8IChfdGVtcGxhdGVPYmplY3QyID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICAgIG11dGF0aW9uKFxuICAgICAgICAgICAgJGlkTGlicm86IElEIVxuICAgICAgICAgICAgJGlkUGFnaW5hOiBJRCFcbiAgICAgICAgICAgICRpZEN1YWRyb0ltYWdlbjogSUQhXG4gICAgICAgICAgICAkbnVldm9Qb3NpY2lvbjogQ29vcmRzSW5wdXQhXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB1cGRhdGVQb3NpY2lvbkN1YWRyb0ltYWdlbihcbiAgICAgICAgICAgICAgaWRMaWJybzogJGlkTGlicm9cbiAgICAgICAgICAgICAgaWRQYWdpbmE6ICRpZFBhZ2luYVxuICAgICAgICAgICAgICBpZEN1YWRyb0ltYWdlbjogJGlkQ3VhZHJvSW1hZ2VuXG4gICAgICAgICAgICAgIG51ZXZvUG9zaWNpb246ICRudWV2b1Bvc2ljaW9uXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgcG9zaWNpb24ge1xuICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICB5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICJdKSkpLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvLAogICAgICAgICAgaWRQYWdpbmE6IHRoaXMuaWRQYWdpbmEsCiAgICAgICAgICBpZEN1YWRyb0ltYWdlbjogdGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLmlkLAogICAgICAgICAgbnVldm9Qb3NpY2lvbjogdGhpcy5wb3NpY2lvbgogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXBsb2FkQXJjaGl2b0N1YWRyb0ltYWdlbjogZnVuY3Rpb24gdXBsb2FkQXJjaGl2b0N1YWRyb0ltYWdlbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBkYXRvcyA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgaWYgKCF0aGlzLiRyZWZzLmlucHV0QXJjaGl2b0ltYWdlbi52YWx1ZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJObyBoYWJceEVEYSBhcmNoaXZvIHNlbGVjY2lvbmFkbyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZGF0b3MuYXBwZW5kKCJpZExpYnJvIiwgdGhpcy5pZExpYnJvKTsKICAgICAgZGF0b3MuYXBwZW5kKCJpZFBhZ2luYSIsIHRoaXMuaWRQYWdpbmEpOwogICAgICBkYXRvcy5hcHBlbmQoImlkQ3VhZHJvSW1hZ2VuIiwgdGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLmlkKTsKICAgICAgZGF0b3MuYXBwZW5kKCJpbWFnZW4iLCB0aGlzLiRyZWZzLmlucHV0QXJjaGl2b0ltYWdlbi5maWxlc1swXSk7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6IHRoaXMuc2VydmVyVXJsICsgIi9hcGlDdWVudG9zL3N1YmlyQXJjaGl2b0N1YWRyb0ltYWdlbiIsCiAgICAgICAgZGF0YTogZGF0b3MsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiwKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIHJlcyA9IF9yZWYucmVzOwogICAgICAgIGNvbnNvbGUubG9nKCJSZXN1bHRhZG8gZGUgdXBsb2FkIGFyY2hpdm86ICIuY29uY2F0KHJlcykpOwogICAgICAgIF90aGlzLnZlcnNpb25JbWFnZW4rKzsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIHVwbG9hZGluZyBhcmNoaXZvIGRlIGN1YWRyb0ltYWdlbi4gRTogIi5jb25jYXQoZXJyb3IpKTsKICAgICAgfSk7CiAgICB9LAogICAgZWxpbWluYXJzZTogZnVuY3Rpb24gZWxpbWluYXJzZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIWNvbmZpcm0oIkVsaW1pbmFuZG8gY3VhZHJvIGRlIGltYWdlbi4gRXN0YSBvcGVyYWNpw7NuIG5vIHNlIHB1ZWRlIGRlc2hhY2VyLiDCv0NvbnRpbnVhcj8iKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy51cGRhdGluZ0luZm8gPSB0cnVlOwogICAgICBjb25zb2xlLmxvZygiRWxpbWluYW5kbyB1biBjdWFkcm8gZGUgaW1hZ2VuIik7CiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBncWwoX3RlbXBsYXRlT2JqZWN0MyB8fCAoX3RlbXBsYXRlT2JqZWN0MyA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgIG11dGF0aW9uKCRpZExpYnJvOiBJRCEsICRpZFBhZ2luYTogSUQhLCAkaWRDdWFkcm9JbWFnZW46IElEISkge1xuICAgICAgICAgICAgICBlbGltaW5hckN1YWRyb0ltYWdlbkxpYnJvKFxuICAgICAgICAgICAgICAgIGlkTGlicm86ICRpZExpYnJvXG4gICAgICAgICAgICAgICAgaWRQYWdpbmE6ICRpZFBhZ2luYVxuICAgICAgICAgICAgICAgIGlkQ3VhZHJvSW1hZ2VuOiAkaWRDdWFkcm9JbWFnZW5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICJdKSkpLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvLAogICAgICAgICAgaWRQYWdpbmE6IHRoaXMuaWRQYWdpbmEsCiAgICAgICAgICBpZEN1YWRyb0ltYWdlbjogdGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLmlkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBlbGltaW5hckN1YWRyb0ltYWdlbkxpYnJvID0gX3JlZjIuZGF0YS5lbGltaW5hckN1YWRyb0ltYWdlbkxpYnJvOwogICAgICAgIGNvbnNvbGUubG9nKCJSZXN1bHRhZG86ICIuY29uY2F0KGVsaW1pbmFyQ3VhZHJvSW1hZ2VuTGlicm8pKTsKCiAgICAgICAgaWYgKGVsaW1pbmFyQ3VhZHJvSW1hZ2VuTGlicm8pIHsKICAgICAgICAgIF90aGlzMi4kZW1pdCgibWVFbGltaW5lIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IuIEU6ICIuY29uY2F0KGVycm9yKSk7CiAgICAgICAgX3RoaXMyLnVwZGF0aW5nSW5mbyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygiTW9udGFkbyIpOwogICAgdGhpcy4kc2V0KHRoaXMucG9zaWNpb24sICJ4IiwgdGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLnBvc2ljaW9uLngpOwogICAgdGhpcy4kc2V0KHRoaXMucG9zaWNpb24sICJ5IiwgdGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLnBvc2ljaW9uLnkpOwogICAgdGhpcy4kc2V0KHRoaXMuc2l6ZSwgIngiLCB0aGlzLmVzdGVDdWFkcm9JbWFnZW4uc2l6ZS54KTsKICAgIHRoaXMuJHNldCh0aGlzLnNpemUsICJ5IiwgdGhpcy5lc3RlQ3VhZHJvSW1hZ2VuLnNpemUueSk7CgogICAgaWYgKHRoaXMuZXN0ZUN1YWRyb0ltYWdlbi5zaW5BcmNoaXZvKSB7CiAgICAgIGNvbnNvbGUubG9nKCJBYnJpZW5kbyBlbCBpbnB1dCBkZSBhcmNoaXZvIik7CiAgICAgIHRoaXMuJHJlZnMuaW5wdXRBcmNoaXZvSW1hZ2VuLmNsaWNrKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CuadroImagen.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    class=\"cuadroImagen\"\n    :style=\"[estiloLayout]\"\n    @click=\"playAudio\"\n    :class=\"{\n      conAudio: esteCuadroImagen.audio,\n      deshabilitado: updatingInfo,\n      enPaginaSeleccionada: paginaSeleccionada,\n    }\"\n  >\n    <img\n      :src=\"urlImagen + '?v=' + versionImagen\"\n      alt=\"ilustracion\"\n      class=\"imagenContenido\"\n    />\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div id=\"bolitaDragHandle\"></div>\n    </div>\n\n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <img\n      src=\"@/assets/iconos/delete.png\"\n      alt=\"Eliminar\"\n      title=\"Eliminar cuadro de imagen\"\n      id=\"bEliminarCuadroImagen\"\n      v-show=\"seleccionado\"\n      @click=\"eliminarse\"\n    />\n\n    <input\n      type=\"file\"\n      id=\"inputArchivoImagen\"\n      style=\"display: none\"\n      ref=\"inputArchivoImagen\"\n      @change=\"uploadArchivoCuadroImagen\"\n    />\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroImagen.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport axios from \"axios\";\nexport default {\n  name: \"cuadroImagen\",\n  props: {\n    esteCuadroImagen: Object,\n    idLibro: String,\n    idPagina: String,\n    sizePagina: Object,\n    seleccionado: Boolean,\n    archivoCuadroImagenPagina: Object,\n    paginaSeleccionada: Boolean,\n  },\n  data() {\n    return {\n      resizing: false,\n      dragging: false,\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo: false,\n      versionImagen: 0,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n      };\n    },\n    urlImagen() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/imagenCuento/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioImagen/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      if (!this.esteCuadroImagen.audio) return;\n      this.$refs.audio.play();\n    },\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        const nuevox = e.clientX - cuadroPos.x - 5;\n        const nuevoy = e.clientY - cuadroPos.y - 5;\n\n        var nuevoxP = Math.floor((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.floor((nuevoy * 100) / this.sizePagina.y);\n\n        if (this.posicion.x + nuevoxP > 100)\n          nuevoxP = Math.floor(100 - this.posicion.x);\n        if (this.posicion.y + nuevoyP > 100)\n          nuevoyP = Math.floor(100 - this.posicion.y);\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoSize: CoordsInput!\n          ) {\n            updateSizeCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoSize: $nuevoSize\n            ) {\n              id\n              size {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoSize: this.size,\n        },\n      });\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        if (nuevaPos.x + this.$el.offsetWidth > elemPagina.offsetWidth) {\n          nuevaPos.x = elemPagina.offsetWidth - this.$el.offsetWidth;\n        }\n        if (nuevaPos.x < 0) {\n          nuevaPos.x = 0;\n        }\n\n        if (nuevaPos.y + this.$el.offsetHeight > elemPagina.offsetHeight) {\n          nuevaPos.y = elemPagina.offsetHeight - this.$el.offsetHeight;\n        }\n        if (nuevaPos.y < 0) {\n          nuevaPos.y = 0;\n        }\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n\n    uploadArchivoCuadroImagen() {\n      var datos = new FormData();\n      if (!this.$refs.inputArchivoImagen.value) {\n        console.log(`No había archivo seleccionado`);\n        return;\n      }\n      datos.append(\"idLibro\", this.idLibro);\n      datos.append(\"idPagina\", this.idPagina);\n      datos.append(\"idCuadroImagen\", this.esteCuadroImagen.id);\n      datos.append(\"imagen\", this.$refs.inputArchivoImagen.files[0]);\n\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/apiCuentos/subirArchivoCuadroImagen\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ res }) => {\n          console.log(`Resultado de upload archivo: ${res}`);\n          this.versionImagen++;\n        })\n        .catch((error) => {\n          console.log(`Error uploading archivo de cuadroImagen. E: ${error}`);\n        });\n    },\n\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de imagen. Esta operación no se puede deshacer. ¿Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de imagen`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroImagen: ID!) {\n              eliminarCuadroImagenLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroImagen: $idCuadroImagen\n              )\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroImagen: this.esteCuadroImagen.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroImagenLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroImagenLibro}`);\n          if (eliminarCuadroImagenLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n  },\n  mounted() {\n    console.log(`Montado`);\n    this.$set(this.posicion, \"x\", this.esteCuadroImagen.posicion.x);\n    this.$set(this.posicion, \"y\", this.esteCuadroImagen.posicion.y);\n\n    this.$set(this.size, \"x\", this.esteCuadroImagen.size.x);\n    this.$set(this.size, \"y\", this.esteCuadroImagen.size.y);\n\n    if (this.esteCuadroImagen.sinArchivo) {\n      console.log(`Abriendo el input de archivo`);\n      this.$refs.inputArchivoImagen.click();\n    }\n  },\n};\n</script>\n\n<style scoped>\n.cuadroImagen {\n  position: absolute;\n  border-width: 1px;\n  border-style: solid;\n}\n.cuadroImagen:not(.enPaginaSeleccionada) {\n  border-color: transparent;\n}\n.enPaginaSeleccionada {\n  border-color: purple;\n}\n.imagenContenido {\n  width: 100%;\n  height: 100%;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n.conAudio {\n  cursor: pointer;\n}\n\n#bEliminarCuadroImagen {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: -40px;\n  right: -35px;\n}\n#bEliminarCuadroImagen:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n</style>"],"sourceRoot":"src/components"}]}