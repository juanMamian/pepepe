{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js!/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/Libro.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/Libro.vue","mtime":1620421152205},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvanVhbi93ZWJQai9wZXBlcGUvbGlicm8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0LCBfdGVtcGxhdGVPYmplY3QyLCBfdGVtcGxhdGVPYmplY3QzLCBfdGVtcGxhdGVPYmplY3Q0LCBfdGVtcGxhdGVPYmplY3Q1LCBfdGVtcGxhdGVPYmplY3Q2OwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgUGFnaW5hIGZyb20gIi4vUGFnaW5hLnZ1ZSI7CmltcG9ydCBGb3JvIGZyb20gJy4vRm9yby52dWUnOwp2YXIgY2hhclByb2hpYmlkb3NUaXR1bG8gPSAvW14gYS16QS1aw4Atxb4wLTlfKCk6Liwtwr8/wqEhXS87CmV4cG9ydCB2YXIgZnJhZ21lbnRvQ3VhZHJvVGV4dG8gPSBncWwoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIGZyYWdtZW50IGZyYWdDdWFkcm9UZXh0byBvbiBDdWFkcm9UZXh0b0N1ZW50byB7XG4gICAgaWRcbiAgICB0ZXh0b1xuICAgIHBvc2ljaW9uWmV0YVxuICAgIHBvc2ljaW9uIHtcbiAgICAgIHhcbiAgICAgIHlcbiAgICB9XG4gICAgc2l6ZSB7XG4gICAgICB4XG4gICAgICB5XG4gICAgfVxuICAgIGF1ZGlvIHtcbiAgICAgIHRpcG9SZXByb2R1Y2Npb25cbiAgICB9XG4gICAgZm9ybWF0byB7XG4gICAgICBmb250U2l6ZVxuICAgICAgY29sb3JMZXRyYVxuICAgICAgdGlwb0xldHJhXG4gICAgICBhbGluZWFjaW9uXG4gICAgfVxuICB9XG4iXSkpKTsKZXhwb3J0IHZhciBmcmFnbWVudG9DdWFkcm9JbWFnZW4gPSBncWwoX3RlbXBsYXRlT2JqZWN0MiB8fCAoX3RlbXBsYXRlT2JqZWN0MiA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgZnJhZ21lbnQgZnJhZ0N1YWRyb0ltYWdlbiBvbiBDdWFkcm9JbWFnZW5DdWVudG8ge1xuICAgIGlkXG4gICAgc2luQXJjaGl2b1xuICAgIHRpcG9BY3RpdmFjaW9uU2VjdW5kYXJpb1xuICAgIHBvc2ljaW9uWmV0YVxuICAgIHBvc2ljaW9uIHtcbiAgICAgIHhcbiAgICAgIHlcbiAgICB9XG4gICAgc2l6ZSB7XG4gICAgICB4XG4gICAgICB5XG4gICAgfVxuICAgIGF1ZGlvIHtcbiAgICAgIHRpcG9SZXByb2R1Y2Npb25cbiAgICB9XG4gIH1cbiJdKSkpOwp2YXIgZnJhZ21lbnRvUGFnaW5hID0gZ3FsKF90ZW1wbGF0ZU9iamVjdDMgfHwgKF90ZW1wbGF0ZU9iamVjdDMgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIGZyYWdtZW50IGZyYWdQYWdpbmEgb24gUGFnaW5hQ3VlbnRvIHtcbiAgICBpZCAgICBcbiAgICBudW1QYWdcbiAgICBjb2xvclxuICAgIGN1YWRyb3NUZXh0byB7XG4gICAgICAuLi5mcmFnQ3VhZHJvVGV4dG9cbiAgICB9XG4gICAgY3VhZHJvc0ltYWdlbiB7XG4gICAgICAuLi5mcmFnQ3VhZHJvSW1hZ2VuXG4gICAgfVxuICB9XG4gICIsICJcbiAgIiwgIlxuIl0pKSwgZnJhZ21lbnRvQ3VhZHJvVGV4dG8sIGZyYWdtZW50b0N1YWRyb0ltYWdlbik7CnZhciBRVUVSWV9MSUJSTyA9IGdxbChfdGVtcGxhdGVPYmplY3Q0IHx8IChfdGVtcGxhdGVPYmplY3Q0ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBxdWVyeSgkaWRMaWJybzogSUQhKSB7XG4gICAgbGlicm8oaWRMaWJybzogJGlkTGlicm8pIHtcbiAgICAgIGlkXG4gICAgICBpZHNFZGl0b3Jlc1xuICAgICAgdGl0dWxvXG4gICAgICBwYWdpbmFzIHtcbiAgICAgICAgLi4uZnJhZ1BhZ2luYVxuICAgICAgfSxcbiAgICAgIGlkRm9yb1xuICAgIH1cbiAgfVxuICAiLCAiXG4iXSkpLCBmcmFnbWVudG9QYWdpbmEpOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUGFnaW5hOiBQYWdpbmEsCiAgICBGb3JvOiBGb3JvCiAgfSwKICBuYW1lOiAiTGlicm8iLAogIGFwb2xsbzogewogICAgbGlicm86IHsKICAgICAgcXVlcnk6IFFVRVJZX0xJQlJPLAogICAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgc2tpcDogZnVuY3Rpb24gc2tpcCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pZExpYnJvID09IG51bGw7CiAgICAgIH0sCiAgICAgIGZldGNoUG9saWN5OiAiY2FjaGUtYW5kLW5ldHdvcmsiCiAgICB9CiAgfSwKICBwcm9wczogewogICAgaWRMaWJybzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaWJybzogewogICAgICAgIHBhZ2luYXM6IG51bGwKICAgICAgfSwKICAgICAgaWRQYWdpbmFTZWxlY2Npb25hZGE6IG51bGwsCiAgICAgIGNyZWFuZG9QYWdpbmE6IGZhbHNlLAogICAgICBudWV2b1RpdHVsbzogbnVsbCwKICAgICAgZWRpdGFuZG9UaXR1bG86IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2luYXNPcmRlbmFkYXM6IGZ1bmN0aW9uIHBhZ2luYXNPcmRlbmFkYXMoKSB7CiAgICAgIGlmICh0aGlzLmxpYnJvLnBhZ2luYXMpIHsKICAgICAgICB2YXIgYVBhZ3MgPSB0aGlzLmxpYnJvLnBhZ2luYXM7CiAgICAgICAgcmV0dXJuIGFQYWdzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBwYXJzZUludChhLm51bVBhZykgLSBwYXJzZUludChiLm51bVBhZyk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICBudWV2b1RpdHVsb0lsZWdhbDogZnVuY3Rpb24gbnVldm9UaXR1bG9JbGVnYWwoKSB7CiAgICAgIGlmICghdGhpcy5udWV2b1RpdHVsbyB8fCB0aGlzLm51ZXZvVGl0dWxvLmxlbmd0aCA8IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKGNoYXJQcm9oaWJpZG9zVGl0dWxvLnRlc3QodGhpcy5udWV2b1RpdHVsbykpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGluZm9Bc1BhcmVudDogZnVuY3Rpb24gaW5mb0FzUGFyZW50KCkgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiB0aGlzLmlkTGlicm8sCiAgICAgICAgdGlwbzogImxpYnJvIiwKICAgICAgICBub21icmU6IHRoaXMubGlicm8udGl0dWxvCiAgICAgIH07CiAgICB9LAogICAgdXN1YXJpb0VkaXRvcjogZnVuY3Rpb24gdXN1YXJpb0VkaXRvcigpIHsKICAgICAgcmV0dXJuIHRoaXMubGlicm8uaWRzRWRpdG9yZXMuaW5jbHVkZXModGhpcy51c3VhcmlvLmlkKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZUVkaXRhbmRvVGl0dWxvOiBmdW5jdGlvbiB0b2dnbGVFZGl0YW5kb1RpdHVsbygpIHsKICAgICAgdGhpcy5lZGl0YW5kb1RpdHVsbyA9ICF0aGlzLmVkaXRhbmRvVGl0dWxvOwogICAgICB0aGlzLm51ZXZvVGl0dWxvID0gdGhpcy5saWJyby50aXR1bG87CiAgICB9LAogICAgZ3VhcmRhck51ZXZvVGl0dWxvOiBmdW5jdGlvbiBndWFyZGFyTnVldm9UaXR1bG8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5udWV2b1RpdHVsb0lsZWdhbCkgewogICAgICAgIGNvbnNvbGUubG9nKCJObyBlbnZpYWRvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5udWV2b1RpdHVsbyA9PSB0aGlzLmxpYnJvLnRpdHVsbykgewogICAgICAgIHRoaXMuZWRpdGFuZG9UaXR1bG8gPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJndWFyZGFuZG8gbnVldm8gdFx4RUR0dWxvIik7CiAgICAgIHRoaXMuZW52aWFuZG9OdWV2b1RpdHVsbyA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBncWwoX3RlbXBsYXRlT2JqZWN0NSB8fCAoX3RlbXBsYXRlT2JqZWN0NSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgIG11dGF0aW9uKCRpZExpYnJvOiBJRCEsICRudWV2b1RpdHVsbzogU3RyaW5nISkge1xuICAgICAgICAgICAgICBlZGl0YXJUaXR1bG9MaWJybyhpZExpYnJvOiAkaWRMaWJybywgbnVldm9UaXR1bG86ICRudWV2b1RpdHVsbykge1xuICAgICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgICAgdGl0dWxvXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAiXSkpKSwKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkTGlicm86IHRoaXMuaWRMaWJybywKICAgICAgICAgIG51ZXZvVGl0dWxvOiB0aGlzLm51ZXZvVGl0dWxvCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5lbnZpYW5kb051ZXZvVGl0dWxvID0gZmFsc2U7CiAgICAgICAgX3RoaXMuZWRpdGFuZG9UaXR1bG8gPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZW52aWFuZG9OdWV2b1RpdHVsbyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvci4gRSA6Ii5jb25jYXQoZXJyb3IpKTsKICAgICAgfSk7CiAgICB9LAogICAgY3JlYXJOdWV2YVBhZ2luYUxpYnJvOiBmdW5jdGlvbiBjcmVhck51ZXZhUGFnaW5hTGlicm8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5jcmVhbmRvUGFnaW5hID0gdHJ1ZTsKICAgICAgdmFyIGRpcyA9IHRoaXM7CiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBncWwoX3RlbXBsYXRlT2JqZWN0NiB8fCAoX3RlbXBsYXRlT2JqZWN0NiA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgIG11dGF0aW9uKCRpZExpYnJvOiBJRCEpIHtcbiAgICAgICAgICAgICAgY3JlYXJOdWV2YVBhZ2luYUxpYnJvKGlkTGlicm86ICRpZExpYnJvKSB7XG4gICAgICAgICAgICAgICAgLi4uZnJhZ1BhZ2luYVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAiLCAiXG4gICAgICAgICAgIl0pKSwgZnJhZ21lbnRvUGFnaW5hKSwKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkTGlicm86IHRoaXMuaWRMaWJybwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBjcmVhck51ZXZhUGFnaW5hTGlicm8gPSBfcmVmLmRhdGEuY3JlYXJOdWV2YVBhZ2luYUxpYnJvOwogICAgICAgIHZhciBzdG9yZSA9IF90aGlzMi4kYXBvbGxvLnByb3ZpZGVyLmRlZmF1bHRDbGllbnQ7CiAgICAgICAgdmFyIGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9MSUJSTywKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZExpYnJvOiBkaXMuaWRMaWJybwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwogICAgICAgIG51ZXZvQ2FjaGUubGlicm8ucGFnaW5hcy5wdXNoKGNyZWFyTnVldmFQYWdpbmFMaWJybyk7CiAgICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgICBxdWVyeTogUVVFUllfTElCUk8sCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRMaWJybzogZGlzLmlkTGlicm8KICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMyLmNyZWFuZG9QYWdpbmEgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yOiAiLmNvbmNhdChlcnJvcikpOwogICAgICAgIF90aGlzMi5jcmVhbmRvUGFnaW5hID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZVBhZ2luYUZyb21DYWNoZTogZnVuY3Rpb24gcmVtb3ZlUGFnaW5hRnJvbUNhY2hlKGlkUGFnaW5hKSB7CiAgICAgIHRoaXMuaWRQYWdpbmFTZWxlY2Npb25hZGEgPSBudWxsOwogICAgICB2YXIgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgdmFyIGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfTElCUk8sCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8KICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgbnVldm9DYWNoZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTsKICAgICAgdmFyIGluZGV4UCA9IG51ZXZvQ2FjaGUubGlicm8ucGFnaW5hcy5maW5kSW5kZXgoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5pZCA9PSBpZFBhZ2luYTsKICAgICAgfSk7CgogICAgICBpZiAoaW5kZXhQID4gLTEpIHsKICAgICAgICBudWV2b0NhY2hlLmxpYnJvLnBhZ2luYXMuc3BsaWNlKGluZGV4UCwgMSk7CiAgICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgICBxdWVyeTogUVVFUllfTElCUk8sCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvCiAgICAgICAgICB9LAogICAgICAgICAgZGF0YTogbnVldm9DYWNoZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJMYSBwYWdpbmEgbm8gZXN0YWJhIGVuIGVsIGNhY2hceEU5Iik7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVDYWNoZUNvbk51ZXZvQ3VhZHJvSW1hZ2VuOiBmdW5jdGlvbiB1cGRhdGVDYWNoZUNvbk51ZXZvQ3VhZHJvSW1hZ2VuKG51ZXZvQ3VhZHJvSW1hZ2VuLCBpZFBhZ2luYSkgewogICAgICBjb25zb2xlLmxvZygiU2UgYWN0dWFsaXphcmEgZWwgY2FjaGUgY29uIGluZm86ICIuY29uY2F0KG51ZXZvQ3VhZHJvSW1hZ2VuLCAiIGVuIGxhIHBhZ2luYSAiKS5jb25jYXQoaWRQYWdpbmEpKTsKICAgICAgdmFyIHN0b3JlID0gdGhpcy4kYXBvbGxvLnByb3ZpZGVyLmRlZmF1bHRDbGllbnQ7CiAgICAgIHZhciBjYWNoZSA9IHN0b3JlLnJlYWRRdWVyeSh7CiAgICAgICAgcXVlcnk6IFFVRVJZX0xJQlJPLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIG51ZXZvQ2FjaGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7CiAgICAgIHZhciBsYVBhZ2luYSA9IG51ZXZvQ2FjaGUubGlicm8ucGFnaW5hcy5maW5kKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAuaWQgPT0gaWRQYWdpbmE7CiAgICAgIH0pOwoKICAgICAgaWYgKCFsYVBhZ2luYSkgewogICAgICAgIGNvbnNvbGUubG9nKCJQYWdpbmEgbm8gZXhpc3RceEVEYSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGxhUGFnaW5hLmN1YWRyb3NJbWFnZW4uc29tZShmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjID09IG51ZXZvQ3VhZHJvSW1hZ2VuLmlkOwogICAgICB9KSkgewogICAgICAgIGNvbnNvbGUubG9nKCJFc2UgY3VhZHJvIHRleHRvIHlhIGVzdGFiYSBpbmNsdWlkbyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbGFQYWdpbmEuY3VhZHJvc0ltYWdlbi5wdXNoKG51ZXZvQ3VhZHJvSW1hZ2VuKTsKICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgcXVlcnk6IFFVRVJZX0xJQlJPLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvCiAgICAgICAgfSwKICAgICAgICBkYXRhOiBudWV2b0NhY2hlCiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZUNhY2hlQ29uTnVldm9DdWFkcm9UZXh0bzogZnVuY3Rpb24gdXBkYXRlQ2FjaGVDb25OdWV2b0N1YWRyb1RleHRvKG51ZXZvQ3VhZHJvVGV4dG8sIGlkUGFnaW5hKSB7CiAgICAgIGNvbnNvbGUubG9nKCJTZSBhY3R1YWxpemFyYSBlbCBjYWNoZSBjb24gaW5mbzogIi5jb25jYXQobnVldm9DdWFkcm9UZXh0bywgIiBlbiBsYSBwYWdpbmEgIikuY29uY2F0KGlkUGFnaW5hKSk7CiAgICAgIHZhciBzdG9yZSA9IHRoaXMuJGFwb2xsby5wcm92aWRlci5kZWZhdWx0Q2xpZW50OwogICAgICB2YXIgY2FjaGUgPSBzdG9yZS5yZWFkUXVlcnkoewogICAgICAgIHF1ZXJ5OiBRVUVSWV9MSUJSTywKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkTGlicm86IHRoaXMuaWRMaWJybwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwogICAgICB2YXIgbGFQYWdpbmEgPSBudWV2b0NhY2hlLmxpYnJvLnBhZ2luYXMuZmluZChmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiBwLmlkID09IGlkUGFnaW5hOwogICAgICB9KTsKCiAgICAgIGlmICghbGFQYWdpbmEpIHsKICAgICAgICBjb25zb2xlLmxvZygiUGFnaW5hIG5vIGV4aXN0XHhFRGEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChsYVBhZ2luYS5jdWFkcm9zVGV4dG8uc29tZShmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjID09IG51ZXZvQ3VhZHJvVGV4dG8uaWQ7CiAgICAgIH0pKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVzZSBjdWFkcm8gdGV4dG8geWEgZXN0YWJhIGluY2x1aWRvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBsYVBhZ2luYS5jdWFkcm9zVGV4dG8ucHVzaChudWV2b0N1YWRyb1RleHRvKTsKICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgcXVlcnk6IFFVRVJZX0xJQlJPLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWRMaWJybzogdGhpcy5pZExpYnJvCiAgICAgICAgfSwKICAgICAgICBkYXRhOiBudWV2b0NhY2hlCiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUN1YWRyb1RleHRvRnJvbUNhY2hlOiBmdW5jdGlvbiByZW1vdmVDdWFkcm9UZXh0b0Zyb21DYWNoZShpZEN1YWRyb1RleHRvLCBpZFBhZ2luYSkgewogICAgICB2YXIgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgdmFyIGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfTElCUk8sCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8KICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgbnVldm9DYWNoZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTsKICAgICAgdmFyIGxhUGFnaW5hID0gbnVldm9DYWNoZS5saWJyby5wYWdpbmFzLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5pZCA9PSBpZFBhZ2luYTsKICAgICAgfSk7CgogICAgICBpZiAoIWxhUGFnaW5hKSB7CiAgICAgICAgY29uc29sZS5sb2coIk5vIGV4aXN0XHhFRGEgbGEgcGFnaW5hIGVuIGVsIGNhY2hceEU5Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgaW5kZXhDID0gbGFQYWdpbmEuY3VhZHJvc1RleHRvLmZpbmRJbmRleChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLmlkID09IGlkQ3VhZHJvVGV4dG87CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4QyA+IC0xKSB7CiAgICAgICAgbGFQYWdpbmEuY3VhZHJvc1RleHRvLnNwbGljZShpbmRleEMsIDEpOwogICAgICAgIHN0b3JlLndyaXRlUXVlcnkoewogICAgICAgICAgcXVlcnk6IFFVRVJZX0xJQlJPLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkTGlicm86IHRoaXMuaWRMaWJybwogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IG51ZXZvQ2FjaGUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiRWwgY3VhZHJvIHRleHRvIG5vIGV4aXN0XHhFRGEgZW4gZWwgY2FjaFx4RTkiKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUN1YWRyb0ltYWdlbkZyb21DYWNoZTogZnVuY3Rpb24gcmVtb3ZlQ3VhZHJvSW1hZ2VuRnJvbUNhY2hlKGlkQ3VhZHJvSW1hZ2VuLCBpZFBhZ2luYSkgewogICAgICB2YXIgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgdmFyIGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfTElCUk8sCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8KICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgbnVldm9DYWNoZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTsKICAgICAgdmFyIGxhUGFnaW5hID0gbnVldm9DYWNoZS5saWJyby5wYWdpbmFzLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5pZCA9PSBpZFBhZ2luYTsKICAgICAgfSk7CgogICAgICBpZiAoIWxhUGFnaW5hKSB7CiAgICAgICAgY29uc29sZS5sb2coIk5vIGV4aXN0XHhFRGEgbGEgcGFnaW5hIGVuIGVsIGNhY2hceEU5Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgaW5kZXhDID0gbGFQYWdpbmEuY3VhZHJvc0ltYWdlbi5maW5kSW5kZXgoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5pZCA9PSBpZEN1YWRyb0ltYWdlbjsKICAgICAgfSk7CgogICAgICBpZiAoaW5kZXhDID4gLTEpIHsKICAgICAgICBsYVBhZ2luYS5jdWFkcm9zSW1hZ2VuLnNwbGljZShpbmRleEMsIDEpOwogICAgICAgIHN0b3JlLndyaXRlUXVlcnkoewogICAgICAgICAgcXVlcnk6IFFVRVJZX0xJQlJPLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkTGlicm86IHRoaXMuaWRMaWJybwogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IG51ZXZvQ2FjaGUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiRWwgY3VhZHJvIHRleHRvIG5vIGV4aXN0XHhFRGEgZW4gZWwgY2FjaFx4RTkiKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Libro.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"libro\" @click=\"idPaginaSeleccionada = null\">\n    <div id=\"zonaTitulo\">\n      <div id=\"titulo\" v-show=\"!editandoTitulo\">\n        {{ libro.titulo }}\n      </div>\n      <input\n        type=\"text\"\n        id=\"inputNuevoTitulo\"\n        :class=\"{ letrasRojas: nuevoTituloIlegal }\"\n        v-model=\"nuevoTitulo\"\n        v-show=\"editandoTitulo\"\n        @keypress.enter=\"guardarNuevoTitulo\"\n      />\n      <div id=\"controlesTitulo\">\n        <img\n          src=\"@/assets/iconos/editar.png\"\n          alt=\"Editar\"\n          id=\"bEditarrTitulo\"\n          class=\"bEditarTitulo\"\n          title=\"Editar titulo del libro\"\n          @click.stop=\"toggleEditandoTitulo\"\n        />\n        <img\n          src=\"@/assets/iconos/guardar.png\"\n          alt=\"Guardar\"\n          title=\"guardar\"\n          class=\"bEditarTitulo\"\n          id=\"bGuardarNuevoTitulo\"\n          v-show=\"editandoTitulo == true && nuevoTituloIlegal == false\"\n          @click.stop=\"guardarNuevoTitulo\"\n        />\n      </div>\n    </div>\n\n    <img src=\"@/assets/iconos/loading.png\" alt=\"Cargando\" class=\"simboloLoading\" style=\"width:50px; margin: 30px auto; display: block\" v-show=\"$apollo.queries.libro.loading\">\n\n    <div id=\"contenedorPaginas\">\n      <pagina\n        v-for=\"(pagina, index) of paginasOrdenadas\"\n        :key=\"pagina.id\"\n        :paginaDerecha=\"index % 2 > 0 || index == 0\"\n        :estaPagina=\"pagina\"\n        :idLibro=\"idLibro\"\n        :seleccionada=\"idPaginaSeleccionada == pagina.id\"\n        :segundoPlano=\"\n          idPaginaSeleccionada != null && idPaginaSeleccionada != pagina.id\n        \"\n        @click.native.stop=\"usuarioEditor || usuarioSuperadministrador?idPaginaSeleccionada = pagina.id:null\"\n        @meElimine=\"removePaginaFromCache(pagina.id)\"\n        @tengoNuevoCuadroTexto=\"updateCacheConNuevoCuadroTexto($event, pagina.id)\"\n        @tengoNuevoCuadroImagen=\"updateCacheConNuevoCuadroImagen($event, pagina.id)\"\n        @elimineCuadroTexto=\"removeCuadroTextoFromCache($event, pagina.id)\"\n        @elimineCuadroImagen=\"removeCuadroImagenFromCache($event, pagina.id)\"\n      />\n    </div>\n\n    <div\n      id=\"bCrearNuevaPagina\"\n      @click.stop=\"crearNuevaPaginaLibro\"\n      :class=\"{ deshabilitado: creandoPagina }\"\n    >\n      Crear nueva página\n    </div>\n\n    <div id=\"zonaForos\">\n      <div class=\"tituloForo\">Foro de editores</div>\n      <foro v-if=\"libro.idForo\" :parent=\"infoAsParent\" :idForo=\"libro.idForo\"/>\n\n    </div>\n\n\n\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Pagina from \"./Pagina.vue\";\nimport Foro from './Foro.vue';\nconst charProhibidosTitulo = /[^ a-zA-ZÀ-ž0-9_():.,-¿?¡!]/;\n\nexport const fragmentoCuadroTexto = gql`\n  fragment fragCuadroTexto on CuadroTextoCuento {\n    id\n    texto\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n    formato {\n      fontSize\n      colorLetra\n      tipoLetra\n      alineacion\n    }\n  }\n`;\n\nexport const fragmentoCuadroImagen = gql`\n  fragment fragCuadroImagen on CuadroImagenCuento {\n    id\n    sinArchivo\n    tipoActivacionSecundario\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n  }\n`;\n\nconst fragmentoPagina = gql`\n  fragment fragPagina on PaginaCuento {\n    id    \n    numPag\n    color\n    cuadrosTexto {\n      ...fragCuadroTexto\n    }\n    cuadrosImagen {\n      ...fragCuadroImagen\n    }\n  }\n  ${fragmentoCuadroTexto}\n  ${fragmentoCuadroImagen}\n`;\n\nconst QUERY_LIBRO = gql`\n  query($idLibro: ID!) {\n    libro(idLibro: $idLibro) {\n      id\n      idsEditores\n      titulo\n      paginas {\n        ...fragPagina\n      },\n      idForo\n    }\n  }\n  ${fragmentoPagina}\n`;\n\nexport default {\n  components: { Pagina, Foro },\n  name: \"Libro\",\n  apollo: {\n    libro: {\n      query: QUERY_LIBRO,\n      variables() {\n        return {\n          idLibro: this.idLibro,\n        };\n      },      \n      skip() {\n        return this.idLibro == null;\n      },\n      fetchPolicy:\"cache-and-network\"\n    },\n  },\n  props: {\n    idLibro: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      libro: {\n        paginas: null,\n      },\n      idPaginaSeleccionada: null,\n\n      creandoPagina: false,\n\n      nuevoTitulo: null,\n      editandoTitulo: false,\n    };\n  },\n  computed: {\n    paginasOrdenadas() {\n      if (this.libro.paginas) {\n        var aPags = this.libro.paginas;\n        return aPags.sort((a, b) => {\n          return parseInt(a.numPag) - parseInt(b.numPag);\n        });\n      }\n      return [];\n    },\n    nuevoTituloIlegal() {\n      if (!this.nuevoTitulo || this.nuevoTitulo.length < 1) {\n        return true;\n      }\n      if (charProhibidosTitulo.test(this.nuevoTitulo)) {\n        return true;\n      }\n      return false;\n    },\n    infoAsParent() {\n      return {\n        id: this.idLibro,\n        tipo: \"libro\",\n        nombre: this.libro.titulo,\n      };\n    },\n    usuarioEditor(){\n      return this.libro.idsEditores.includes(this.usuario.id);\n    }\n  },\n  methods: {\n    toggleEditandoTitulo() {\n      this.editandoTitulo = !this.editandoTitulo;\n      this.nuevoTitulo = this.libro.titulo;\n    },\n    guardarNuevoTitulo() {\n      if (this.nuevoTituloIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoTitulo == this.libro.titulo) {\n        this.editandoTitulo = false;\n        return;\n      }\n      console.log(`guardando nuevo título`);\n      this.enviandoNuevoTitulo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $nuevoTitulo: String!) {\n              editarTituloLibro(idLibro: $idLibro, nuevoTitulo: $nuevoTitulo) {\n                id\n                titulo\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            nuevoTitulo: this.nuevoTitulo,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoTitulo = false;\n          this.editandoTitulo = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoTitulo = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    crearNuevaPaginaLibro() {\n      this.creandoPagina = true;\n      const dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!) {\n              crearNuevaPaginaLibro(idLibro: $idLibro) {\n                ...fragPagina\n              }\n            }\n            ${fragmentoPagina}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n          },\n        })\n        .then(({ data: { crearNuevaPaginaLibro } }) => {\n          var store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_LIBRO,\n            variables: { idLibro: dis.idLibro },\n          });\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          nuevoCache.libro.paginas.push(crearNuevaPaginaLibro);\n          store.writeQuery({\n            query: QUERY_LIBRO,\n            variables: { idLibro: dis.idLibro },\n            data: nuevoCache,\n          });\n          this.creandoPagina = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.creandoPagina = false;\n        });\n    },\n    removePaginaFromCache(idPagina) {\n      this.idPaginaSeleccionada=null;\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_LIBRO,\n        variables: { idLibro: this.idLibro },\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexP = nuevoCache.libro.paginas.findIndex(\n        (p) => p.id == idPagina\n      );\n      if (indexP > -1) {\n        nuevoCache.libro.paginas.splice(indexP, 1);\n\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables: { idLibro: this.idLibro },\n          data: nuevoCache,\n        });        \n      } else {\n        console.log(`La pagina no estaba en el caché`);\n      }\n    },\n    updateCacheConNuevoCuadroImagen(nuevoCuadroImagen, idPagina){\n      console.log(`Se actualizara el cache con info: ${nuevoCuadroImagen} en la pagina ${idPagina}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro}\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`Pagina no existía`);\n        return\n      }\n      if(laPagina.cuadrosImagen.some(c=>c==nuevoCuadroImagen.id)){\n        console.log(`Ese cuadro texto ya estaba incluido`);\n        return;\n      }\n      \n      laPagina.cuadrosImagen.push((nuevoCuadroImagen));\n\n      store.writeQuery({\n         query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},\n        data:nuevoCache\n      });\n\n    },\n    updateCacheConNuevoCuadroTexto(nuevoCuadroTexto, idPagina){\n      console.log(`Se actualizara el cache con info: ${nuevoCuadroTexto} en la pagina ${idPagina}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro}\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`Pagina no existía`);\n        return\n      }\n      if(laPagina.cuadrosTexto.some(c=>c==nuevoCuadroTexto.id)){\n        console.log(`Ese cuadro texto ya estaba incluido`);\n        return;\n      }\n      laPagina.cuadrosTexto.push(nuevoCuadroTexto);\n\n      store.writeQuery({\n         query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},\n        data:nuevoCache\n      })\n    },\n    removeCuadroTextoFromCache(idCuadroTexto, idPagina){\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query:QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},        \n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`No existía la pagina en el caché`);\n        return \n      }\n\n      const indexC=laPagina.cuadrosTexto.findIndex(c=>c.id==idCuadroTexto);\n      if(indexC>-1){\n        laPagina.cuadrosTexto.splice(indexC, 1);\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables:{idLibro:this.idLibro},\n          data: nuevoCache,\n        });\n      }\n      else{\n        console.log(`El cuadro texto no existía en el caché`);\n      }\n    },\n    removeCuadroImagenFromCache(idCuadroImagen, idPagina){\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query:QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},        \n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`No existía la pagina en el caché`);\n        return \n      }\n\n      const indexC=laPagina.cuadrosImagen.findIndex(c=>c.id==idCuadroImagen);\n      if(indexC>-1){\n        laPagina.cuadrosImagen.splice(indexC, 1);\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables:{idLibro:this.idLibro},\n          data: nuevoCache,\n        });\n      }\n      else{\n        console.log(`El cuadro texto no existía en el caché`);\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n.libro {\n  margin-top: 100px;\n  border: 2px solid black;\n  padding-bottom: 80vh;\n}\n#zonaTitulo {\n  padding: 5px 10px;\n  text-align: center;\n  font-size: 22px;\n  border: 1px solid purple;\n  background-color: rgb(131 94 134);\n  margin: 10px auto;\n}\n#inputNuevoTitulo{\n  font-size: inherit;\n}\n\n.bEditarTitulo {\n  cursor: pointer;\n  border-radius: 50%;\n  width: 35px;\n  height: 35px;\n}\n.bEditarTitulo:hover {\n  background-color: rgba(128, 0, 128, 0.459);\n}\n\n#contenedorPaginas {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  row-gap: 20px;\n}\n#bCrearNuevaPagina {\n  padding: 5px;\n  border: 1px solid rgb(65, 0, 65);\n  background-color: rgba(182, 105, 182, 0.267);\n  cursor: pointer;\n  margin: 10px auto;\n  border-radius: 5px;\n  max-width: 200px;\n}\n\n#bCrearNuevaPagina:hover {\n  background-color: rgb(182, 105, 182);\n}\n\n.tituloForo{\n  font-size: 19px;\n  padding: 5px 10px;\n  background-color: cadetblue;\n}\n</style>"],"sourceRoot":"src/components"}]}