{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js!/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/foros/CreadorInterpolacion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/foros/CreadorInterpolacion.vue","mtime":1621134760460},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEludGVycG9sYWNpb24gZnJvbSAiLi9JbnRlcnBvbGFjaW9uLnZ1ZSI7CnZhciBjaGFyUHJvaGliaWRvc01lbnNhamUgPSAvW15cblxyIGEtekEtWsOALcW+MC05XygpIjo7LiwrwqEhwr8/QD0tXS87CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJbnRlcnBvbGFjaW9uOiBJbnRlcnBvbGFjaW9uCiAgfSwKICBuYW1lOiAiQ3JlYWRvckludGVycG9sYWNpb24iLAogIHByb3BzOiB7CiAgICBlc3RhSW50ZXJwb2xhY2lvbjogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVuc2FqZTogbnVsbCwKICAgICAgZW5sYWNlSWZyYW1lOiBudWxsLAogICAgICBlbmxhY2VJZnJhbWVTZXQ6IG51bGwsCiAgICAgIGVubGFjZUFjZXB0YWRvOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uUGFzdGVFbmxhY2U6IGZ1bmN0aW9uIG9uUGFzdGVFbmxhY2UoKSB7CiAgICAgIHRoaXMuZW5sYWNlQWNlcHRhZG8gPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2coIlBhc3RlIik7IC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAvLyAgIGNvbnNvbGUubG9nKGBTZXRpbmcgY29uIHVybCAke3RoaXMuZW5sYWNlSWZyYW1lfWApOwogICAgICAvLyAgIHRoaXMuc2V0RW5sYWNlSWZyYW1lKCk7CiAgICAgIC8vIH0sIDMwMCk7CiAgICB9LAogICAgc2V0RW5sYWNlSWZyYW1lOiBmdW5jdGlvbiBzZXRFbmxhY2VJZnJhbWUoKSB7CiAgICAgIGlmICghdGhpcy5lbmxhY2VJZnJhbWUgfHwgdGhpcy5lbmxhY2VJZnJhbWUuc3Vic3RyKDAsIDgpICE9ICJodHRwczovLyIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVubGFjZUlmcmFtZS5zdWJzdHIoMTIsIDE3KSA9PSAieW91dHViZS5jb20vd2F0Y2giKSB7CiAgICAgICAgdGhpcy5lbmxhY2VJZnJhbWUgPSB0aGlzLmVubGFjZUlmcmFtZS5zdWJzdHIoMCwgMjQpICsgImVtYmVkLyIgKyB0aGlzLmVubGFjZUlmcmFtZS5zdWJzdHIoMzIpOwogICAgICB9CgogICAgICBpZiAodGhpcy5lbmxhY2VJZnJhbWUuc3Vic3RyKDAsIDI0KSAhPSAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vIikgewogICAgICAgIGNvbnNvbGUubG9nKCJFbmxhY2Ugbm8gdlx4RTFsaWRvIik7CiAgICAgICAgdGhpcy5lbmxhY2VJZnJhbWUuYWxlcnQoIkVubGFjZSBubyB2w6FsaWRvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmVubGFjZUlmcmFtZVNldCA9IHRoaXMuZW5sYWNlSWZyYW1lOwogICAgICB0aGlzLiRlbWl0KCJlbmxhY2VJZnJhbWVTZXQiLCB0aGlzLmVubGFjZUlmcmFtZVNldCk7CiAgICAgIHRoaXMuZW5sYWNlQWNlcHRhZG8gPSB0cnVlOwogICAgfSwKICAgIGNoZWNrSGVpZ2h0OiBmdW5jdGlvbiBjaGVja0hlaWdodCgpIHsKICAgICAgd2hpbGUgKHRoaXMuJHJlZnMuaW5wdXRNZW5zYWplLnNjcm9sbEhlaWdodCA+IHRoaXMuJHJlZnMuaW5wdXRNZW5zYWplLm9mZnNldEhlaWdodCkgewogICAgICAgIHRoaXMuJHJlZnMuaW5wdXRNZW5zYWplLnJvd3MrKzsKICAgICAgfQogICAgfSwKICAgIGFkZFRvTWVuc2FqZTogZnVuY3Rpb24gYWRkVG9NZW5zYWplKG1lbnNhamUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghbWVuc2FqZSkgcmV0dXJuOwogICAgICB0aGlzLm1lbnNhamUgKz0gIlxuXG4iICsgbWVuc2FqZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmNoZWNrSGVpZ2h0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIHRlbXA6IGZ1bmN0aW9uIHRlbXAoKSB7CiAgICAgIGNvbnNvbGUubG9nKCIxIik7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbWVuc2FqZUlsZWdhbDogZnVuY3Rpb24gbWVuc2FqZUlsZWdhbCgpIHsKICAgICAgaWYgKCF0aGlzLm1lbnNhamUgfHwgdGhpcy5tZW5zYWplLmxlbmd0aCA8IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKGNoYXJQcm9oaWJpZG9zTWVuc2FqZS50ZXN0KHRoaXMubWVuc2FqZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CreadorInterpolacion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,OAAA,aAAA,MAAA,qBAAA;AACA,IAAA,qBAAA,GAAA,sCAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,aAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,sBAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AADA,GAHA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,eAAA,EAAA,IAHA;AAKA,MAAA,cAAA,EAAA;AALA,KAAA;AAOA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,UAFA,CAGA;AACA;AACA;AACA;AACA,KARA;AASA,IAAA,eATA,6BASA;AACA,UAAA,CAAA,KAAA,YAAA,IAAA,KAAA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,KAAA,UAAA,EAAA;AACA;AACA;;AACA,UAAA,KAAA,YAAA,CAAA,MAAA,CAAA,EAAA,EAAA,EAAA,KAAA,mBAAA,EAAA;AACA,aAAA,YAAA,GACA,KAAA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,EAAA,IACA,QADA,GAEA,KAAA,YAAA,CAAA,MAAA,CAAA,EAAA,CAHA;AAIA;;AAEA,UAAA,KAAA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,EAAA,KAAA,0BAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA;AACA,aAAA,YAAA,CAAA,KAAA,CAAA,kBAAA;AACA;AACA;;AAEA,WAAA,eAAA,GAAA,KAAA,YAAA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,KAAA,eAAA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KA7BA;AA8BA,IAAA,WA9BA,yBA8BA;AACA,aACA,KAAA,KAAA,CAAA,YAAA,CAAA,YAAA,GACA,KAAA,KAAA,CAAA,YAAA,CAAA,YAFA,EAGA;AACA,aAAA,KAAA,CAAA,YAAA,CAAA,IAAA;AACA;AACA,KArCA;AAsCA,IAAA,YAtCA,wBAsCA,OAtCA,EAsCA;AAAA;;AACA,UAAA,CAAA,OAAA,EAAA;AACA,WAAA,OAAA,IAAA,SAAA,OAAA;AAEA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OAFA;AAGA,KA7CA;AA8CA,IAAA,IA9CA,kBA8CA;AACA,MAAA,OAAA,CAAA,GAAA;AACA;AAhDA,GAfA;AAiEA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,CAAA,KAAA,OAAA,IAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,UAAA,qBAAA,CAAA,IAAA,CAAA,KAAA,OAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,KAAA;AACA;AATA;AAjEA,CAAA","sourcesContent":["<template>\n  <div class=\"creadorInterpolacion\">\n    <div\n      class=\"bEliminarInterpolacion bolitaX\"\n      @click=\"$emit('eliminarse', mensaje)\"\n    >\n      <div class=\"rayaX1\"></div>\n      <div class=\"rayaX2\"></div>\n    </div>\n    <div id=\"bloqueIframe\" v-if=\"estaInterpolacion.tipo == 'video'\">\n      <iframe\n        id=\"elIframe\"\n        :src=\"estaInterpolacion.enlaceIframe\"\n        frameborder=\"0\"\n        v-if=\"estaInterpolacion.tipo == 'video'\"\n        v-show=\"estaInterpolacion.enlaceIframe\"\n      ></iframe>\n      <div id=\"zonaInputEnlace\">\n        <input\n          type=\"text\"\n          id=\"inputEnlace\"\n          v-model=\"enlaceIframe\"\n          @input=\"enlaceAceptado = false\"\n          @keypress.enter=\"setEnlaceIframe\"\n          @paste=\"onPasteEnlace\"\n          placeholder=\"Introduce el enlace\"\n        />\n        <img\n          src=\"@/assets/iconos/success.png\"\n          width=\"17px\"\n          style=\"cursor: pointer\"\n          :style=\"[{ backgroundColor: enlaceAceptado ? 'green' : '' }]\"\n          alt=\"Ok\"\n          title=\"Aceptar\"\n          class=\"bAceptar\"\n          @click=\"setEnlaceIframe\"\n        />\n      </div>\n    </div>\n\n    <div id=\"bloqueQuote\" v-if=\"estaInterpolacion.tipo == 'quote'\">\n      <div id=\"infoQuote\">\n        {{ estaInterpolacion.quote.infoAutor.nombres }} escribio:\n      </div>\n      <div id=\"quote\">\n        {{ estaInterpolacion.quote.mensaje }}\n        <interpolacion\n          v-for=\"interpolacion of estaInterpolacion.quote.interpolaciones\"\n          :key=\"interpolacion.id\"\n          :estaInterpolacion=\"interpolacion\"\n        />\n      </div>\n    </div>\n\n    <div id=\"zonaMensaje\">\n      <textarea\n        name=\"inputMensaje\"\n        id=\"inputMensaje\"\n        ref=\"inputMensaje\"\n        :class=\"{ letrasRojas: mensajeIlegal }\"\n        v-model=\"mensaje\"\n        @input=\"checkHeight\"\n      ></textarea>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Interpolacion from \"./Interpolacion.vue\";\nvar charProhibidosMensaje = /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;\n\nexport default {\n  components: { Interpolacion },\n  name: \"CreadorInterpolacion\",\n  props: {\n    estaInterpolacion: Object,\n  },\n  data() {\n    return {\n      mensaje: null,\n      enlaceIframe: null,\n      enlaceIframeSet: null,\n\n      enlaceAceptado: false,\n    };\n  },\n  methods: {\n    onPasteEnlace() {\n      this.enlaceAceptado = false;\n      console.log(`Paste`);\n      // setTimeout(() => {\n      //   console.log(`Seting con url ${this.enlaceIframe}`);\n      //   this.setEnlaceIframe();\n      // }, 300);\n    },\n    setEnlaceIframe() {\n      if (!this.enlaceIframe || this.enlaceIframe.substr(0, 8) != \"https://\") {\n        return;\n      }\n      if (this.enlaceIframe.substr(12, 17) == \"youtube.com/watch\") {\n        this.enlaceIframe =\n          this.enlaceIframe.substr(0, 24) +\n          \"embed/\" +\n          this.enlaceIframe.substr(32);\n      }\n\n      if (this.enlaceIframe.substr(0, 24) != \"https://www.youtube.com/\") {\n        console.log(`Enlace no válido`);\n        this.enlaceIframe.alert(\"Enlace no válido\");\n        return;\n      }\n\n      this.enlaceIframeSet = this.enlaceIframe;\n      this.$emit(\"enlaceIframeSet\", this.enlaceIframeSet);\n      this.enlaceAceptado = true;\n    },\n    checkHeight() {\n      while (\n        this.$refs.inputMensaje.scrollHeight >\n        this.$refs.inputMensaje.offsetHeight\n      ) {\n        this.$refs.inputMensaje.rows++;\n      }\n    },\n    addToMensaje(mensaje) {\n      if (!mensaje) return;\n      this.mensaje += \"\\n\\n\" + mensaje;\n\n      this.$nextTick(() => {\n        this.checkHeight();\n      });\n    },\n    temp() {\n      console.log(`1`);\n    },\n  },\n  computed: {\n    mensajeIlegal() {\n      if (!this.mensaje || this.mensaje.length < 1) {\n        return true;\n      }\n      if (charProhibidosMensaje.test(this.mensaje)) {\n        return true;\n      }\n      return false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.creadorInterpolacion {\n  position: relative;\n}\n#infoQuote {\n  font-size: 11px;\n  font-style: italic;\n  color: gray;\n  width: 90%;\n  margin: 5px auto;\n}\n\n#quote {\n  border: 1px solid gray;\n  background-color: rgb(197, 144, 107);\n  width: 90%;\n  margin: 5px auto;\n}\n\n#bloqueIframe {\n  border: 2px solid rgb(219, 87, 87);\n  width: min(600px, 95%);\n  margin: 0px auto;\n  border-radius: 10px;\n}\n#elIframe {\n  display: block;\n  width: 560px;\n  height: 315px;\n  margin: 2px auto;\n}\n#zonaInputEnlace {\n  display: block;\n  margin: 2px auto;\n  width: 280px;\n}\n.bAceptar {\n  border-radius: 50%;\n}\n.bAceptar:hover {\n  background-color: green;\n}\n#inputEnlace {\n  font-size: 19px;\n  border-radius: 5px;\n  width: 250px;\n  margin-right: 5px;\n}\n#zonaMensaje {\n  margin-top: 15px;\n}\n#inputMensaje {\n  width: 100%;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  font-size: 20px;\n  resize: none;\n}\n\n.bolitaX {\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  background-color: chocolate;\n  cursor: pointer;\n  position: relative;\n}\n\n.bEliminarInterpolacion {\n  position: absolute;\n  top: 1%;\n  right: 1%;\n}\n\n.rayaX1 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background-color: black;\n\n  transform: translate(-50%, -50%) rotate(45deg);\n  height: 2px;\n  width: 80%;\n}\n.rayaX2 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background-color: black;\n  transform: translate(-50%, -50%) rotate(-45deg);\n  height: 2px;\n  width: 80%;\n}\n</style>"],"sourceRoot":"src/components/foros"}]}