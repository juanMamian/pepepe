{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js!/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/TodosLibros.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/TodosLibros.vue","mtime":1617665825185},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvanVhbi93ZWJQai9wZXBlcGUvbGlicm8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0OwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBncWwgfSBmcm9tICJhcG9sbG8tc2VydmVyLWNvcmUiOwppbXBvcnQgSWNvbm9QZXJzb25hQXV0b25vbW8gZnJvbSAnLi9JY29ub1BlcnNvbmFBdXRvbm9tby52dWUnOwp2YXIgUVVFUllfVE9ET1NfTElCUk9TID0gZ3FsKF90ZW1wbGF0ZU9iamVjdCB8fCAoX3RlbXBsYXRlT2JqZWN0ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBxdWVyeSB7XG4gICAgdG9kb3NMaWJyb3Mge1xuICAgICAgaWRcbiAgICAgIHRpdHVsb1xuICAgICAgaWRzRWRpdG9yZXNcbiAgICB9XG4gIH1cbiJdKSkpOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSWNvbm9QZXJzb25hQXV0b25vbW86IEljb25vUGVyc29uYUF1dG9ub21vCiAgfSwKICBuYW1lOiAiVG9kb3NMaWJyb3MiLAogIGFwb2xsbzogewogICAgdG9kb3NMaWJyb3M6IHsKICAgICAgcXVlcnk6IFFVRVJZX1RPRE9TX0xJQlJPUywKICAgICAgc2tpcDogZnVuY3Rpb24gc2tpcCgpIHsKICAgICAgICByZXR1cm4gIXRoaXMudXN1YXJpb1N1cGVyYWRtaW5pc3RyYWRvcjsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjY2lvbmFyTGlicm86IGZ1bmN0aW9uIHNlbGVjY2lvbmFyTGlicm8oaWRMaWJybykgewogICAgICB0aGlzLiRlbWl0KCJsaWJyb1NlbGVjY2lvbmFkbyIsIGlkTGlicm8pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3I6IGZ1bmN0aW9uIHVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3IoKSB7CiAgICAgIGlmICghdGhpcy51c3VhcmlvIHx8ICF0aGlzLnVzdWFyaW8ucGVybWlzb3MpIHsKICAgICAgICBjb25zb2xlLmxvZygiRGF0b3MgaW5zdWZpY2llbnRlcyBwYXJhIGRlY2lkaXIgc2kgdXN1YXJpbyBlcyBzXHhGQXBlcmFkbWluaXN0cmFkb3IiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJVc3VhcmlvIHRpZW5lIHBlcm1pc29zOiAiLmNvbmNhdCh0aGlzLnVzdWFyaW8ucGVybWlzb3MpKTsKICAgICAgcmV0dXJuIHRoaXMudXN1YXJpby5wZXJtaXNvcy5pbmNsdWRlcygic3VwZXJhZG1pbmlzdHJhZG9yIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["TodosLibros.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAiBA,SAAA,GAAA,QAAA,oBAAA;AACA,OAAA,oBAAA,MAAA,4BAAA;AAEA,IAAA,kBAAA,GAAA,GAAA,4JAAA;AAUA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,oBAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,aAFA;AAGA,EAAA,MAAA,EAAA;AACA,IAAA,WAAA,EAAA;AACA,MAAA,KAAA,EAAA,kBADA;AAEA,MAAA,IAFA,kBAEA;AACA,eAAA,CAAA,KAAA,yBAAA;AACA;AAJA;AADA,GAHA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA,EAAA;AAEA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,OADA,EACA;AACA,WAAA,KAAA,CAAA,mBAAA,EAAA,OAAA;AACA;AAHA,GAfA;AAoBA,EAAA,QAAA,EAAA;AACA,IAAA,yBADA,uCACA;AACA,UAAA,CAAA,KAAA,OAAA,IAAA,CAAA,KAAA,OAAA,CAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA;AACA,eAAA,KAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,mCAAA,KAAA,OAAA,CAAA,QAAA;AACA,aAAA,KAAA,OAAA,CAAA,QAAA,CAAA,QAAA,CAAA,oBAAA,CAAA;AACA;AARA;AApBA,CAAA","sourcesContent":["<template>\n  <div id=\"todosLibros\">\n    <h3>Todos los libros</h3>\n    <div id=\"controlesTodosLibros\">\n      \n    </div>\n\n    <div id=\"listaMisLibros\">\n        <div class=\"portadaLibro\" v-for=\"portada of todosLibros\" :key=\"portada.id\" @click=\"seleccionarLibro(portada.id)\">\n            {{portada.titulo}}\n            <icono-persona-autonomo v-for=\"editor of portada.idsEditores\" :key=\"editor\" :idPersona=\"editor\"/>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport IconoPersonaAutonomo from './IconoPersonaAutonomo.vue';\n\nconst QUERY_TODOS_LIBROS = gql`\n  query {\n    todosLibros {\n      id\n      titulo\n      idsEditores\n    }\n  }\n`;\n\nexport default {\n  components: { IconoPersonaAutonomo },\n  name: \"TodosLibros\",\n  apollo: {\n    todosLibros: {\n      query: QUERY_TODOS_LIBROS,\n      skip() {\n        return !this.usuarioSuperadministrador;\n      },\n    },\n  },\n  data() {\n    return {\n    };\n  },\n  methods: {    \n    seleccionarLibro(idLibro){\n        this.$emit(\"libroSeleccionado\", idLibro);\n    }\n  },\n  computed:{\n      usuarioSuperadministrador(){\n          if(!this.usuario || !this.usuario.permisos){\n              console.log(`Datos insuficientes para decidir si usuario es s√∫peradministrador`);\n              return false\n          }\n          console.log(`Usuario tiene permisos: ${this.usuario.permisos}`);\n          return this.usuario.permisos.includes(\"superadministrador\");\n      }\n  }\n  \n};\n</script>\n\n<style scoped>\n#todosLibros {\n  padding: 10px;\n  border: 2px solid cadetblue;\n  margin: 10px;\n  border-radius: 15px;\n  padding: 15px;\n  font-size: 22px;\n}\n\n.bControlTodosLibros {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 5px 10px;\n}\n.bControlTodosLibros:hover {\n  background-color: rgb(241, 153, 241);\n}\n\n.portadaLibro{\n    padding: 5px 10px;\n    font-size: inherit;\n    cursor:pointer;\n    padding-bottom:80px;\n\n}\n.portadaLibro:hover{\n    background-color: rgba(128, 0, 128, 0.233);\n}\n</style>"],"sourceRoot":"src/components"}]}