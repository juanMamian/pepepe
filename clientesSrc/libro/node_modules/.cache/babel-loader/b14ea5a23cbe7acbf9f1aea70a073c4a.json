{"remainingRequest":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/libro/src/components/Pagina.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/libro/src/components/Pagina.vue","mtime":1617381756853},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/libro/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvanVhbi93ZWJQai9wZXBlcGUvbGlicm8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0OwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ3FsIH0gZnJvbSAnYXBvbGxvLXNlcnZlci1jb3JlJzsKaW1wb3J0IEN1YWRyb0ltYWdlbiBmcm9tICIuL0N1YWRyb0ltYWdlbi52dWUiOwppbXBvcnQgQ3VhZHJvVGV4dG8gZnJvbSAiLi9DdWFkcm9UZXh0by52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ3VhZHJvSW1hZ2VuOiBDdWFkcm9JbWFnZW4sCiAgICBDdWFkcm9UZXh0bzogQ3VhZHJvVGV4dG8KICB9LAogIG5hbWU6ICJQYWdpbmEiLAogIHByb3BzOiB7CiAgICBlc3RhUGFnaW5hOiBPYmplY3QsCiAgICBwYWdpbmFEZXJlY2hhOiBCb29sZWFuLAogICAgcHJlcGFyYWRhOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdmlzaWJsZTogewogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAogICAgaWRMaWJybzogU3RyaW5nLAogICAgc2VsZWNjaW9uYWRhOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYW5jaG86IDQ1MCwKICAgICAgYWx0bzogNjAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVzdGlsb0NvbHVtbmE6IGZ1bmN0aW9uIGVzdGlsb0NvbHVtbmEoKSB7CiAgICAgIGlmICh0aGlzLnBhZ2luYURlcmVjaGEpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZ3JpZENvbHVtbjogIjEvMiIsCiAgICAgICAgICBqdXN0aWZ5U2VsZjogInJpZ2h0IgogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIGVzdGlsb1NpemU6IGZ1bmN0aW9uIGVzdGlsb1NpemUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHRoaXMuYW5jaG8gKyAicHgiLAogICAgICAgIGhlaWdodDogdGhpcy5hbHRvICsgInB4IgogICAgICB9OwogICAgfSwKICAgIHNpemU6IGZ1bmN0aW9uIHNpemUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogdGhpcy5hbmNobywKICAgICAgICB5OiB0aGlzLmFsdG8KICAgICAgfTsKICAgIH0sCiAgICBlc3RpbG9BcGFyaWVuY2lhOiBmdW5jdGlvbiBlc3RpbG9BcGFyaWVuY2lhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5lc3RhUGFnaW5hLmNvbG9yCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBlbGltaW5hcnNlOiBmdW5jdGlvbiBlbGltaW5hcnNlKCkgewogICAgICBpZiAoIWNvbmZpcm0oIkVsaW1pbmFuZG8gcMOhZ2luYS4gRXN0YSBvcGVyYWNpw7NuIG5vIHNlIHB1ZWRlIGRlc2hhY2VyLiDCv0NvbnRpbnVhcj8iKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coIkVsaW1pbmFuZG8gdW5hIHBceEUxZ2luYSIpOwogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogZ3FsKF90ZW1wbGF0ZU9iamVjdCB8fCAoX3RlbXBsYXRlT2JqZWN0ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICAgIG11dGF0aW9uKCRpZExpYnJvOklEISwgJGlkUGFnaW5hOklEISl7XG4gICAgICAgICAgICBlbGltaW5hclBhZ2luYURlTGlicm8oaWRMaWJybzokaWRMaWJybywgaWRQYWdpbmE6JGlkUGFnaW5hKVxuICAgICAgICAgIH1cbiAgICAgICAgIl0pKSksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZExpYnJvOiB0aGlzLmlkTGlicm8sCiAgICAgICAgICBpZFBhZ2luYTogdGhpcy5lc3RhUGFnaW5hLmlkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGVsaW1pbmFyUGFnaW5hRGVMaWJybyA9IF9yZWYuZGF0YS5lbGltaW5hclBhZ2luYURlTGlicm87CiAgICAgICAgY29uc29sZS5sb2coIlJlc3VsdGFkbzogIi5jb25jYXQoZWxpbWluYXJQYWdpbmFEZUxpYnJvKSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Pagina.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAAA,GAAA,QAAA,oBAAA;AACA,OAAA,YAAA,MAAA,oBAAA;AACA,OAAA,WAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,YAAA,EAAA,YAAA;AAAA,IAAA,WAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,QAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA,MADA;AAEA,IAAA,aAAA,EAAA,OAFA;AAGA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAHA;AAOA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAPA;AAUA,IAAA,OAAA,EAAA,MAVA;AAWA,IAAA,YAAA,EAAA;AAXA,GAHA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,GADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAIA,GArBA;AAsBA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,KAAA,aAAA,EAAA;AACA,eAAA;AACA,UAAA,UAAA,EAAA,KADA;AAEA,UAAA,WAAA,EAAA;AAFA,SAAA;AAIA;;AACA,aAAA,IAAA;AACA,KATA;AAUA,IAAA,UAVA,wBAUA;AACA,aAAA;AACA,QAAA,KAAA,EAAA,KAAA,KAAA,GAAA,IADA;AAEA,QAAA,MAAA,EAAA,KAAA,IAAA,GAAA;AAFA,OAAA;AAIA,KAfA;AAgBA,IAAA,IAhBA,kBAgBA;AACA,aAAA;AACA,QAAA,CAAA,EAAA,KAAA,KADA;AAEA,QAAA,CAAA,EAAA,KAAA;AAFA,OAAA;AAIA,KArBA;AAsBA,IAAA,gBAtBA,8BAsBA;AACA,aAAA;AACA,QAAA,eAAA,EAAA,KAAA,UAAA,CAAA;AADA,OAAA;AAGA;AA1BA,GAtBA;AAkDA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,CAAA,OAAA,CAAA,qEAAA,CAAA,EAAA;AACA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA;AACA,QAAA,QAAA,EAAA,GAAA,uNADA;AAMA,QAAA,SAAA,EAAA;AACA,UAAA,OAAA,EAAA,KAAA,OADA;AAEA,UAAA,QAAA,EAAA,KAAA,UAAA,CAAA;AAFA;AANA,OAAA,EAUA,IAVA,CAUA,gBAAA;AAAA,YAAA,qBAAA,QAAA,IAAA,CAAA,qBAAA;AACA,QAAA,OAAA,CAAA,GAAA,sBAAA,qBAAA;AACA,OAZA;AAaA;AAnBA;AAlDA,CAAA","sourcesContent":["<template>\n  <div class=\"pagina\" :style=\"[estiloColumna, estiloSize, estiloApariencia]\" :class=\"{seleccionada}\">\n    <div class=\"zonaControlesPagina\" v-show=\"seleccionada\">\n      <img src=\"@/assets/iconos/delete.png\" class=\"bControlesPagina bEliminarPagina\" @click=\"eliminarse\"/>\n    </div>\n\n    <cuadro-imagen\n      v-for=\"cuadroImagen of estaPagina.cuadrosImagen\"\n      :key=\"cuadroImagen.id\"\n      :esteCuadroImagen=\"cuadroImagen\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n    />\n\n    <cuadro-texto\n      v-for=\"cuadroTexto of estaPagina.cuadrosTexto\"\n      :key=\"cuadroTexto.id\"\n      :esteCuadroTexto=\"cuadroTexto\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n    />\n  </div>\n</template>\n\n<script>\nimport { gql } from 'apollo-server-core';\nimport CuadroImagen from \"./CuadroImagen.vue\";\nimport CuadroTexto from \"./CuadroTexto.vue\";\n\nexport default {\n  components: { CuadroImagen, CuadroTexto },\n  name: \"Pagina\",\n  props: {\n    estaPagina: Object,\n    paginaDerecha: Boolean,\n    preparada: {\n      type: Boolean,\n      default: false,\n    },\n    visible: {\n      type: Boolean,\n    },\n    idLibro: String,\n    seleccionada:Boolean\n  },\n  data() {\n    return {\n      ancho: 450,\n      alto: 600,\n    };\n  },\n  computed: {\n    estiloColumna() {\n      if (this.paginaDerecha) {\n        return {\n          gridColumn: \"1/2\",\n          justifySelf: \"right\",\n        };\n      }\n      return null;\n    },\n    estiloSize() {\n      return {\n        width: this.ancho + \"px\",\n        height: this.alto + \"px\",\n      };\n    },\n    size() {\n      return {\n        x: this.ancho,\n        y: this.alto,\n      };\n    },\n    estiloApariencia() {\n      return {\n        backgroundColor: this.estaPagina.color,\n      };\n    },\n  },\n  methods:{\n    eliminarse(){\n      if(!confirm(\"Eliminando página. Esta operación no se puede deshacer. ¿Continuar?\")){\n        return;\n      }\n      console.log(`Eliminando una página`);\n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idLibro:ID!, $idPagina:ID!){\n            eliminarPaginaDeLibro(idLibro:$idLibro, idPagina:$idPagina)\n          }\n        `,\n        variables:{\n          idLibro:this.idLibro,\n          idPagina:this.estaPagina.id\n        }\n      }).then(({data:{eliminarPaginaDeLibro}})=>{\n        console.log(`Resultado: ${eliminarPaginaDeLibro}`);\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n.pagina {\n  border: 2px solid black;\n  position: relative;\n  z-index: 0;\n}\n\n.cuadroTexto {\n  z-index: 200;\n}\n.cuadroImagen {\n  z-index: 100;\n}\n.seleccionada{\n  border-color: purple;\n}\n\n.zonaControlesPagina{\n  text-align: center;\n  padding: 10px;\n  position: absolute;\n  top: -60px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.bControlesPagina{\n  width:30px;\n  height:30px;\n  border-radius: 50%;\n  \n  cursor: pointer;\n  display: inline-block;\n  background-color: rgb(255, 231, 255);\n}\n\n\n</style>"],"sourceRoot":"src/components"}]}