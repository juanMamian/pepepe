{"remainingRequest":"/home/juan/webPj/pepepe/librosolo/node_modules/babel-loader/lib/index.js!/home/juan/webPj/pepepe/librosolo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/juan/webPj/pepepe/librosolo/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/juan/webPj/pepepe/librosolo/src/components/CuadroTexto.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/juan/webPj/pepepe/librosolo/src/components/CuadroTexto.vue","mtime":1620356337796},{"path":"/home/juan/webPj/pepepe/librosolo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/librosolo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/juan/webPj/pepepe/librosolo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/juan/webPj/pepepe/librosolo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDdWFkcm9UZXh0byIsCiAgcHJvcHM6IHsKICAgIGVzdGVDdWFkcm9UZXh0bzogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9udFNpemVEdW1teTogMTAsCiAgICAgIGZvbnRTaXplVGV4dG86IDEwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVzdGlsb0R1bW15OiBmdW5jdGlvbiBlc3RpbG9EdW1teSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZUR1bW15ICsgInB4IgogICAgICB9OwogICAgfSwKICAgIGVzdGlsb0ZvbnRTaXplOiBmdW5jdGlvbiBlc3RpbG9Gb250U2l6ZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZVRleHRvICsgInB4IgogICAgICB9OwogICAgfSwKICAgIGVzdGlsb0Zvcm1hdG86IGZ1bmN0aW9uIGVzdGlsb0Zvcm1hdG8oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGV4dEFsaWduOiB0aGlzLmVzdGVDdWFkcm9UZXh0by5mb3JtYXRvLmFsaW5lYWNpb24sCiAgICAgICAgY29sb3I6IHRoaXMuZXN0ZUN1YWRyb1RleHRvLmZvcm1hdG8uY29sb3JMZXRyYSwKICAgICAgICBmb250RmFtaWx5OiB0aGlzLmVzdGVDdWFkcm9UZXh0by5mb3JtYXRvLnRpcG9MZXRyYSArICIsICdOdW5pdG8nLCBzYW5zLXNlcmlmIgogICAgICB9OwogICAgfSwKICAgIGVzdGlsb0xheW91dDogZnVuY3Rpb24gZXN0aWxvTGF5b3V0KCkgewogICAgICByZXR1cm4gewogICAgICAgIHRvcDogdGhpcy5lc3RlQ3VhZHJvVGV4dG8ucG9zaWNpb24ueSArICIlIiwKICAgICAgICBsZWZ0OiB0aGlzLmVzdGVDdWFkcm9UZXh0by5wb3NpY2lvbi54ICsgIiUiLAogICAgICAgIHdpZHRoOiB0aGlzLmVzdGVDdWFkcm9UZXh0by5zaXplLnggKyAiJSIsCiAgICAgICAgaGVpZ2h0OiB0aGlzLmVzdGVDdWFkcm9UZXh0by5zaXplLnkgKyAiJSIsCiAgICAgICAgekluZGV4OiB0aGlzLmVzdGVDdWFkcm9UZXh0by5wb3NpY2lvblpldGEKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZpbmRGb250U2l6ZTogZnVuY3Rpb24gZmluZEZvbnRTaXplKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmVzdGVDdWFkcm9UZXh0byB8fCAhdGhpcy5lc3RlQ3VhZHJvVGV4dG8udGV4dG8gfHwgdGhpcy5lc3RlQ3VhZHJvVGV4dG8udGV4dG8ubGVuZ3RoIDwgMSkgcmV0dXJuOwogICAgICB2YXIgaFRleHRvID0gdGhpcy4kcmVmcy50ZXh0by5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBoRHVtbXkgPSB0aGlzLiRyZWZzLnRleHRvRHVtbXkub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgd0R1bW15ID0gdGhpcy4kcmVmcy50ZXh0b0R1bW15LnNjcm9sbFdpZHRoOwogICAgICB2YXIgd1RleHRvID0gdGhpcy4kcmVmcy50ZXh0by5vZmZzZXRXaWR0aDsgLy8gaWYgKCFjb25maXJtKCJjb250aW51YXIiKSkgewogICAgICAvLyAgIHJldHVybjsKICAgICAgLy8gfQoKICAgICAgaWYgKGhEdW1teSA+PSBoVGV4dG8gfHwgd0R1bW15ID49IHdUZXh0bykgewogICAgICAgIGNvbnNvbGUubG9nKCJSZWR1Y2llbmRvIGZvbnQgc2l6ZSIpOwogICAgICAgIHRoaXMuZm9udFNpemVEdW1teSA9IHRoaXMuZm9udFNpemVEdW1teSAtIDI7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGhUZXh0byA9IF90aGlzLiRyZWZzLnRleHRvLm9mZnNldEhlaWdodDsKICAgICAgICAgIHZhciBoRHVtbXkgPSBfdGhpcy4kcmVmcy50ZXh0b0R1bW15Lm9mZnNldEhlaWdodDsKICAgICAgICAgIHZhciB3RHVtbXkgPSBfdGhpcy4kcmVmcy50ZXh0b0R1bW15LnNjcm9sbFdpZHRoOwogICAgICAgICAgdmFyIHdUZXh0byA9IF90aGlzLiRyZWZzLnRleHRvLm9mZnNldFdpZHRoOwoKICAgICAgICAgIGlmIChoRHVtbXkgPCBoVGV4dG8gJiYgd0R1bW15IDwgd1RleHRvIHx8IF90aGlzLmZvbnRTaXplRHVtbXkgPCA1KSB7CiAgICAgICAgICAgIF90aGlzLmZvbnRTaXplVGV4dG8gPSBfdGhpcy5mb250U2l6ZUR1bW15OwogICAgICAgICAgICBfdGhpcy5mb250U2l6ZUlucHV0ID0gX3RoaXMuZm9udFNpemVEdW1teTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuZmluZEZvbnRTaXplKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoaER1bW15IDwgaFRleHRvICYmIHdEdW1teSA8IHdUZXh0bykgewogICAgICAgIGNvbnNvbGUubG9nKCJBdW1lbnRhbmRvIGZvbnQgc2l6ZSIpOwogICAgICAgIHRoaXMuZm9udFNpemVEdW1teSA9IHRoaXMuZm9udFNpemVEdW1teSArIDI7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGhUZXh0byA9IF90aGlzLiRyZWZzLnRleHRvLm9mZnNldEhlaWdodDsKICAgICAgICAgIHZhciBoRHVtbXkgPSBfdGhpcy4kcmVmcy50ZXh0b0R1bW15Lm9mZnNldEhlaWdodDsKICAgICAgICAgIHZhciB3RHVtbXkgPSBfdGhpcy4kcmVmcy50ZXh0b0R1bW15LnNjcm9sbFdpZHRoOwogICAgICAgICAgdmFyIHdUZXh0byA9IF90aGlzLiRyZWZzLnRleHRvLm9mZnNldFdpZHRoOwoKICAgICAgICAgIGlmIChoRHVtbXkgPj0gaFRleHRvIHx8IHdEdW1teSA+PSB3VGV4dG8gfHwgX3RoaXMuZm9udFNpemVEdW1teSA+IDEwMCkgewogICAgICAgICAgICBfdGhpcy5mb250U2l6ZUR1bW15ID0gX3RoaXMuZm9udFNpemVEdW1teSAtIDI7CiAgICAgICAgICAgIF90aGlzLmZvbnRTaXplVGV4dG8gPSBfdGhpcy5mb250U2l6ZUR1bW15OwogICAgICAgICAgICBfdGhpcy5mb250U2l6ZUlucHV0ID0gX3RoaXMuZm9udFNpemVEdW1teTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuZmluZEZvbnRTaXplKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMi5maW5kRm9udFNpemUoKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["CuadroTexto.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"cuadroTexto\" :style=\"[estiloFormato, estiloLayout]\">\n    <div class=\"texto\" ref=\"texto\" :style=\"[estiloFontSize]\">\n      {{ esteCuadroTexto.texto }}\n    </div>\n    <div\n      class=\"textoDummy\"\n      :style=\"[estiloFormato, estiloDummy]\"\n      ref=\"textoDummy\"\n    >\n      {{ esteCuadroTexto.texto }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CuadroTexto\",\n  props: {\n    esteCuadroTexto: Object,\n  },\n  data() {\n    return {\n      fontSizeDummy: 10,\n      fontSizeTexto: 10,\n    };\n  },\n  computed: {\n    estiloDummy() {\n      return {\n        fontSize: this.fontSizeDummy + \"px\",\n      };\n    },\n    estiloFontSize() {\n      return {\n        fontSize: this.fontSizeTexto + \"px\",\n      };\n    },\n    estiloFormato() {\n      return {\n        textAlign: this.esteCuadroTexto.formato.alineacion,\n        color: this.esteCuadroTexto.formato.colorLetra,\n        fontFamily:\n          this.esteCuadroTexto.formato.tipoLetra + \", 'Nunito', sans-serif\",\n      };\n    },\n    estiloLayout() {\n      return {\n        top: this.esteCuadroTexto.posicion.y + \"%\",\n        left: this.esteCuadroTexto.posicion.x + \"%\",\n\n        width: this.esteCuadroTexto.size.x + \"%\",\n        height: this.esteCuadroTexto.size.y + \"%\",\n\n        zIndex: this.esteCuadroTexto.posicionZeta,\n      };\n    },\n  },\n  methods: {\n    findFontSize() {\n      if (\n        !this.esteCuadroTexto ||\n        !this.esteCuadroTexto.texto ||\n        this.esteCuadroTexto.texto.length < 1\n      )\n        return;\n      let hTexto = this.$refs.texto.offsetHeight;\n      let hDummy = this.$refs.textoDummy.offsetHeight;\n      let wDummy = this.$refs.textoDummy.scrollWidth;\n      let wTexto = this.$refs.texto.offsetWidth;\n      // if (!confirm(\"continuar\")) {\n      //   return;\n      // }\n\n      if (hDummy >= hTexto || wDummy >= wTexto) {\n        console.log(`Reduciendo font size`);\n        this.fontSizeDummy = this.fontSizeDummy - 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n\n          if ((hDummy < hTexto && wDummy < wTexto) || this.fontSizeDummy < 5) {\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      } else if (hDummy < hTexto && wDummy < wTexto) {\n        console.log(`Aumentando font size`);\n\n        this.fontSizeDummy = this.fontSizeDummy + 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n\n          if (\n            hDummy >= hTexto ||\n            wDummy >= wTexto ||\n            this.fontSizeDummy > 100\n          ) {\n            this.fontSizeDummy = this.fontSizeDummy - 2;\n\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      }\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.findFontSize();\n    });\n  },\n};\n</script>\n\n<style>\n.cuadroTexto {\n  position: absolute;\n}\n.texto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  white-space: pre-wrap;\n}\n\n.textoDummy {\n  width: 99%;\n  border: 1px solid pink;\n  overflow-x: scroll;\n  position: absolute;\n  left: -100%;\n  pointer-events: none;\n  white-space: pre-wrap;\n  visibility: hidden;\n}\n</style>"],"sourceRoot":"src/components"}]}