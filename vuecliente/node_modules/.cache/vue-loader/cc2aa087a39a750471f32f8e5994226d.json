{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/Espacio.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/Espacio.vue","mtime":1644587546118},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgeyBjaGFyUHJvaGliaWRvc05vbWJyZUNvc2EsIGNoYXJQcm9oaWJpZG9zVGV4dG8gfSBmcm9tICIuL2NvbmZpZ3MiOwppbXBvcnQgTG9hZGluZyBmcm9tICIuL3V0aWxpZGFkZXMvTG9hZGluZy52dWUiOwppbXBvcnQgSWNvbm9QZXJzb25hQXV0b25vbW8gZnJvbSAiLi91c3VhcmlvL0ljb25vUGVyc29uYUF1dG9ub21vLnZ1ZSI7CmltcG9ydCBDYWxlbmRhcmlvIGZyb20gIi4vdXRpbGlkYWRlcy9DYWxlbmRhcmlvLnZ1ZSI7CmltcG9ydCBMaXN0YUV2ZW50b3NFc3BhY2lvIGZyb20gIi4vTGlzdGFFdmVudG9zRXNwYWNpby52dWUiOwppbXBvcnQgeyBmcmFnbWVudG9FdmVudG9QdWJsaWNvIH0gZnJvbSAiLi91dGlsaWRhZGVzL2ZyYWdzQ2FsZW5kYXJpbyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTG9hZGluZywKICAgIEljb25vUGVyc29uYUF1dG9ub21vLAogICAgQ2FsZW5kYXJpbywKICAgIExpc3RhRXZlbnRvc0VzcGFjaW8sCiAgfSwKICBuYW1lOiAiRXNwYWNpbyIsCiAgcHJvcHM6IHsKICAgIGVzdGVFc3BhY2lvOiBPYmplY3QsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWJpZXJ0bzogZmFsc2UsCiAgICAgIG1vc3RyYW5kbzogbnVsbCwKCiAgICAgIG51ZXZvTm9tYnJlOiAiTnVldm8gbm9tYnJlIiwKICAgICAgZWRpdGFuZG9Ob21icmU6IGZhbHNlLAogICAgICBlbnZpYW5kb051ZXZvTm9tYnJlOiBmYWxzZSwKCiAgICAgIG51ZXZvRGVzY3JpcGNpb246ICJOdWV2YSBkZXNjcmlwY2lvbiIsCiAgICAgIGVkaXRhbmRvRGVzY3JpcGNpb246IGZhbHNlLAogICAgICBlbnZpYW5kb051ZXZvRGVzY3JpcGNpb246IGZhbHNlLAoKICAgICAgbW9zdHJhbmRvQ3VhZHJvQ3JlYXJFdmVudG9QdWJsaWNvOiBmYWxzZSwKICAgICAgbm9tYnJlTnVldm9FdmVudG9QdWJsaWNvOiAnRXNwYWNpbyBkZSAnK3RoaXMuZXN0ZUVzcGFjaW8ubm9tYnJlLAogICAgICBkYXRlSW5pY2lvTnVldm9FdmVudG9QdWJsaWNvOiBudWxsLAogICAgICBkYXRlRmluYWxOdWV2b0V2ZW50b1B1YmxpY286IG51bGwsCiAgICAgIGhvcmFyaW9JbmljaW9OdWV2b0V2ZW50b1B1YmxpY286bnVsbCwKICAgICAgaG9yYXJpb0ZpbmFsTnVldm9FdmVudG9QdWJsaWNvOm51bGwsCiAgICAgIGR1cmFjaW9uTnVldm9FdmVudG9QdWJsaWNvOjYwLAogICAgICBjcmVhbmRvRXZlbnRvUHVibGljbzogZmFsc2UsCiAgICAgIGVudmlhbmRvTnVldm9FdmVudG9QdWJsaWNvOmZhbHNlLAoKICAgICAgaW50cm9kdWNpZW5kb0V2ZW50b1B1YmxpY29DYWxlbmRhcmlvOmZhbHNlLAoKICAgICAgZWxpbWluYW5kb3NlOiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBndWFyZGFyTnVldm9Ob21icmUoKSB7CiAgICAgIHRoaXMubnVldm9Ob21icmUgPSB0aGlzLiRyZWZzLmlucHV0TnVldm9Ob21icmUudmFsdWU7CgogICAgICBpZiAodGhpcy5udWV2b05vbWJyZUlsZWdhbCkgewogICAgICAgIGNvbnNvbGUubG9nKGBObyBlbnZpYWRvYCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLm51ZXZvTm9tYnJlID09IHRoaXMuZXN0ZUVzcGFjaW8ubm9tYnJlKSB7CiAgICAgICAgdGhpcy5lZGl0YW5kb05vbWJyZSA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhgZ3VhcmRhbmRvIG51ZXZvIG5vbWJyZWApOwogICAgICB0aGlzLmVudmlhbmRvTnVldm9Ob21icmUgPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWRFc3BhY2lvOiBJRCEsICRudWV2b05vbWJyZTogU3RyaW5nISkgewogICAgICAgICAgICAgIGVkaXRhck5vbWJyZUVzcGFjaW8oCiAgICAgICAgICAgICAgICBpZEVzcGFjaW86ICRpZEVzcGFjaW8KICAgICAgICAgICAgICAgIG51ZXZvTm9tYnJlOiAkbnVldm9Ob21icmUKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICBub21icmUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRFc3BhY2lvOiB0aGlzLmVzdGVFc3BhY2lvLmlkLAogICAgICAgICAgICBudWV2b05vbWJyZTogdGhpcy5udWV2b05vbWJyZSwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvTnVldm9Ob21icmUgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZWRpdGFuZG9Ob21icmUgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9OdWV2b05vbWJyZSA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yLiBFIDoke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICAgIGd1YXJkYXJOdWV2b0Rlc2NyaXBjaW9uKCkgewogICAgICBpZiAodGhpcy5udWV2b0Rlc2NyaXBjaW9uSWxlZ2FsKSB7CiAgICAgICAgY29uc29sZS5sb2coYE5vIGVudmlhZG9gKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMubnVldm9EZXNjcmlwY2lvbiA9PSB0aGlzLmVzdGVFc3BhY2lvLmRlc2NyaXBjaW9uKSB7CiAgICAgICAgdGhpcy5lZGl0YW5kb0Rlc2NyaXBjaW9uID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKGBndWFyZGFuZG8gbnVldm8gZGVzY3JpcGNpb25gKTsKICAgICAgdGhpcy5lbnZpYW5kb051ZXZvRGVzY3JpcGNpb24gPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWRFc3BhY2lvOiBJRCEsICRudWV2b0Rlc2NyaXBjaW9uOiBTdHJpbmchKSB7CiAgICAgICAgICAgICAgZWRpdGFyRGVzY3JpcGNpb25Fc3BhY2lvKAogICAgICAgICAgICAgICAgaWRFc3BhY2lvOiAkaWRFc3BhY2lvCiAgICAgICAgICAgICAgICBudWV2b0Rlc2NyaXBjaW9uOiAkbnVldm9EZXNjcmlwY2lvbgogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkRXNwYWNpbzogdGhpcy5lc3RlRXNwYWNpby5pZCwKICAgICAgICAgICAgbnVldm9EZXNjcmlwY2lvbjogdGhpcy5udWV2b0Rlc2NyaXBjaW9uLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9OdWV2b0Rlc2NyaXBjaW9uID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmVkaXRhbmRvRGVzY3JpcGNpb24gPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9OdWV2b0Rlc2NyaXBjaW9uID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IuIEUgOiR7ZXJyb3J9YCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlRWRpdGFuZG9EZXNjcmlwY2lvbigpIHsKICAgICAgaWYgKCF0aGlzLmFkbWluaXN0cmFkb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kcmVmcy5pbnB1dE51ZXZvRGVzY3JpcGNpb24uc3R5bGUuaGVpZ2h0ID0KICAgICAgICB0aGlzLiRyZWZzLmRlc2NyaXBjaW9uLm9mZnNldEhlaWdodCArICJweCI7CiAgICAgIHRoaXMuZWRpdGFuZG9EZXNjcmlwY2lvbiA9ICF0aGlzLmVkaXRhbmRvRGVzY3JpcGNpb247CiAgICAgIHRoaXMubnVldm9EZXNjcmlwY2lvbiA9IHRoaXMuZXN0ZUVzcGFjaW8uZGVzY3JpcGNpb247CgogICAgICBpZiAodGhpcy5lZGl0YW5kb0Rlc2NyaXBjaW9uKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy4kcmVmcy5pbnB1dE51ZXZvRGVzY3JpcGNpb24uZm9jdXMoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHRvZ2dsZUVkaXRhbmRvTm9tYnJlKGUpIHsKICAgICAgaWYgKHRoaXMuYWRtaW5pc3RyYWRvcikgewogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgICAgIHRoaXMuZWRpdGFuZG9Ob21icmUgPSB0cnVlOwogICAgICAgIHRoaXMubnVldm9Ob21icmUgPSB0aGlzLmVzdGVFc3BhY2lvLm5vbWJyZTsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzLmlucHV0TnVldm9Ob21icmUuZm9jdXMoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGtleWRvd25JbnB1dE51ZXZvTm9tYnJlKGUpIHsKICAgICAgaWYgKGUua2V5ID09PSAiRXNjYXBlIikgewogICAgICAgIHRoaXMuZWRpdGFuZG9Ob21icmU9ZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBpbmljaWFyQ3JlYWNpb25FdmVudG8oKSB7CiAgICAgIHRoaXMuaW50cm9kdWNpZW5kb0V2ZW50b1B1YmxpY29DYWxlbmRhcmlvID0gdHJ1ZTsKICAgIH0sCiAgICBlbGltaW5hcnNlKCkgewogICAgICBpZiAoCiAgICAgICAgIWNvbmZpcm0oCiAgICAgICAgICAiwr9Db25maXJtYXIgbGEgZWxpbWluYWNpw7NuIGRlIGVzdGUgZXNwYWNpbz8gKEVzdGEgYWNjacOzbiBubyBwdWVkZSBkZXNoYWNlcnNlKSIKICAgICAgICApCiAgICAgICkKICAgICAgICByZXR1cm47CgogICAgICBpZiAoIXRoaXMuYWRtaW5pc3RyYWRvciAmJiAhdGhpcy51c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuZWxpbWluYW5kb3NlID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICBtdXRhdGlvbiAoJGlkRXNwYWNpbzogSUQhKSB7CiAgICAgICAgICAgICAgZWxpbWluYXJFc3BhY2lvKGlkRXNwYWNpbzogJGlkRXNwYWNpbykKICAgICAgICAgICAgfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZEVzcGFjaW86IHRoaXMuZXN0ZUVzcGFjaW8uaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kZW1pdCgibWVFbGltaW5lIik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7CiAgICAgICAgfSk7CiAgICB9LCAgICAgICAKICAgIGluaWNpYXJDdWFkcm9DcmVhckV2ZW50b1B1YmxpY28oKSB7CiAgICAgIHRoaXMubm9tYnJlTnVldm9FdmVudG9QdWJsaWNvPSJFc3BhY2lvIGRlICIrdGhpcy5lc3RlRXNwYWNpby5ub21icmU7CiAgICAgIHZhciBkYXRlQWN0dWFsID0gbmV3IERhdGUoKTsKICAgICAgZGF0ZUFjdHVhbC5zZXRIb3Vycyg4KTsKICAgICAgZGF0ZUFjdHVhbC5zZXRNaW51dGVzKDApOwogICAgICBkYXRlQWN0dWFsLnNldFNlY29uZHMoMCk7CiAgICAgIGRhdGVBY3R1YWwuc2V0TWlsbGlzZWNvbmRzKDApOwoKICAgICAgZGF0ZUFjdHVhbCA9IG5ldyBEYXRlKGRhdGVBY3R1YWwuZ2V0VGltZSgpICsgODY0MDAwMDApOwogICAgICAvLyBjb25zdCBvZmZzZXQgPSBkYXRlQWN0dWFsLmdldFRpbWV6b25lT2Zmc2V0KCkgICAgCgogICAgICBjb25zdCBkYXRlQWN0dWFsU3RyaW5nID0gZGF0ZUFjdHVhbC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07CiAgICAgIGNvbnN0IGRhdGVBY3R1YWxQbHVzSG91ciA9IG5ldyBEYXRlKGRhdGVBY3R1YWwuZ2V0VGltZSgpICsgMzYwMDAwMCk7CiAgICAgIGNvbnN0IGRhdGVBY3R1YWxQbHVzSG91clN0cmluZyA9IGRhdGVBY3R1YWxQbHVzSG91ci50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07ICAgICAgCiAgICAgIAoKICAgICAgdGhpcy5kYXRlSW5pY2lvTnVldm9FdmVudG9QdWJsaWNvPWRhdGVBY3R1YWxTdHJpbmc7CiAgICAgIHRoaXMuZGF0ZUZpbmFsTnVldm9FdmVudG9QdWJsaWNvPWRhdGVBY3R1YWxQbHVzSG91clN0cmluZzsKCiAgICAgIHRoaXMuaG9yYXJpb0luaWNpb051ZXZvRXZlbnRvUHVibGljbz0nMDg6MDAnOwogICAgICB0aGlzLmhvcmFyaW9GaW5hbE51ZXZvRXZlbnRvUHVibGljbz0nMDk6MDAnOwogICAgICB0aGlzLm1vc3RyYW5kb0N1YWRyb0NyZWFyRXZlbnRvUHVibGljbyA9IHRydWU7CiAgICB9LAogICAgY3JlYXJFdmVudG9QdWJsaWNvKCkgewogICAgICBpZiAoIXRoaXMuYWRtaW5pc3RyYWRvciAmJiAhdGhpcy51c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9ICAgICAgCiAgICAgIGNvbnNvbGUubG9nKGBEYXRlIHNhdmVkOiAke3RoaXMuZGF0ZUluaWNpb051ZXZvRXZlbnRvUHVibGljb31gKTsKICAgICAgdGhpcy5kdXJhY2lvbk51ZXZvRXZlbnRvUHVibGljbz10aGlzLiRyZWZzLmlucHV0RHVyYWNpb25OdWV2b0V2ZW50b1B1YmxpY28udmFsdWU7CiAgICAgIHZhciBkYXRlSW5pY2lvPW5ldyBEYXRlKHRoaXMuZGF0ZUluaWNpb051ZXZvRXZlbnRvUHVibGljbyk7ICAgICAgCiAgICAgIGNvbnNvbGUubG9nKGBEYXRlIHBhcnNlZDogJHtkYXRlSW5pY2lvfWApOwoKICAgICAgY29uc3QgZGlhTWVzSW5pY2lvPWRhdGVJbmljaW8uZ2V0VVRDRGF0ZSgpOwogICAgICBjb25zb2xlLmxvZyhgQ3JlYW5kbyBldmVudG8gcMO6YmxpY28gZWwgJHtkaWFNZXNJbmljaW99YCk7CiAgICAgIGNvbnN0IGhvcmFzSW5pY2lvPXBhcnNlSW50KHRoaXMuaG9yYXJpb0luaWNpb051ZXZvRXZlbnRvUHVibGljby5zdWJzdHJpbmcoMCwgMikpOwogICAgICBjb25zdCBtaW51dG9zSW5pY2lvPXBhcnNlSW50KHRoaXMuaG9yYXJpb0luaWNpb051ZXZvRXZlbnRvUHVibGljby5zdWJzdHJpbmcoMykpOwoKICAgICAgZGF0ZUluaWNpby5zZXREYXRlKGRpYU1lc0luaWNpbyk7CiAgICAgIGRhdGVJbmljaW8uc2V0SG91cnMoaG9yYXNJbmljaW8pOwogICAgICBkYXRlSW5pY2lvLnNldE1pbnV0ZXMobWludXRvc0luaWNpbyk7CgogICAgICB2YXIgZGF0ZUZpbmFsPW5ldyBEYXRlKGRhdGVJbmljaW8uZ2V0VGltZSgpK3RoaXMuZHVyYWNpb25OdWV2b0V2ZW50b1B1YmxpY28qNjAwMDApOwogICAgICAgICAgICAKICAgICAgY29uc29sZS5sb2coYENyZWFuZG8gZXZlbnRvIHDDumJsaWNvIGVsICR7ZGlhTWVzSW5pY2lvfWApOwoKICAgICAgdGhpcy5lbnZpYW5kb051ZXZvRXZlbnRvUHVibGljbyA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpbmZvTnVldm9FdmVudG86IElucHV0Q3JlYXJFdmVudG9QdWJsaWNvKSB7CiAgICAgICAgICAgICAgY3JlYXJFdmVudG9QdWJsaWNvKGluZm9OdWV2b0V2ZW50bzogJGluZm9OdWV2b0V2ZW50bykgewogICAgICAgICAgICAgICAgLi4uZnJhZ0V2ZW50b1B1YmxpY28KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHtmcmFnbWVudG9FdmVudG9QdWJsaWNvfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpbmZvTnVldm9FdmVudG86IHsKICAgICAgICAgICAgICBub21icmU6IHRoaXMuJHJlZnMuaW5wdXROb21icmVOdWV2b0V2ZW50b1B1YmxpY28udmFsdWUsCiAgICAgICAgICAgICAgaG9yYXJpb0luaWNpbzogZGF0ZUluaWNpbywKICAgICAgICAgICAgICBob3JhcmlvRmluYWw6IGRhdGVGaW5hbCwKICAgICAgICAgICAgICB0aXBvUGFyZW50OiAiZXNwYWNpbyIsCiAgICAgICAgICAgICAgaWRQYXJlbnQ6IHRoaXMuZXN0ZUVzcGFjaW8uaWQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YTogeyBjcmVhckV2ZW50b1B1YmxpY28gfSB9KSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvTnVldm9FdmVudG9QdWJsaWNvID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRyZWZzLmxpc3RhRXZlbnRvc0VzcGFjaW8uYWRkRXZlbnRvQ2FjaGUoY3JlYXJFdmVudG9QdWJsaWNvKTsKICAgICAgICAgIHRoaXMubW9zdHJhbmRvQ3VhZHJvQ3JlYXJFdmVudG9QdWJsaWNvPWZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApOwogICAgICAgICAgdGhpcy5lbnZpYW5kb051ZXZvRXZlbnRvUHVibGljbyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGFkbWluaXN0cmFkb3IoKSB7CiAgICAgIGlmICghdGhpcy51c3VhcmlvTG9nZWFkbykgcmV0dXJuIGZhbHNlOwoKICAgICAgcmV0dXJuIHRoaXMudXN1YXJpby5pZCA9PT0gdGhpcy5lc3RlRXNwYWNpby5pZEFkbWluaXN0cmFkb3I7CiAgICB9LAogICAgbnVldm9Ob21icmVJbGVnYWwoKSB7CiAgICAgIGlmICh0aGlzLm51ZXZvTm9tYnJlLmxlbmd0aCA8IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICBpZiAoY2hhclByb2hpYmlkb3NOb21icmVDb3NhLnRlc3QodGhpcy5udWV2b05vbWJyZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgbnVldm9EZXNjcmlwY2lvbklsZWdhbCgpIHsKICAgICAgaWYgKCF0aGlzLm51ZXZvRGVzY3JpcGNpb24gfHwgdGhpcy5udWV2b0Rlc2NyaXBjaW9uLmxlbmd0aCA8IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICBpZiAoY2hhclByb2hpYmlkb3NUZXh0by50ZXN0KHRoaXMubnVldm9EZXNjcmlwY2lvbikpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIG1vc3RyYW5kbyhtb3N0cmFuZG8pIHsKICAgICAgaWYgKG1vc3RyYW5kbyAhPSAiZGVzY3JpcGNpb24iKSB0aGlzLmVkaXRhbmRvRGVzY3JpcGNpb24gPSBmYWxzZTsKCiAgICAgIGlmIChtb3N0cmFuZG8gPT09ICJkZXNjcmlwY2lvbiIpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAhdGhpcy5lc3RlRXNwYWNpby5kZXNjcmlwY2lvbiB8fAogICAgICAgICAgdGhpcy5lc3RlRXNwYWNpby5kZXNjcmlwY2lvbi5sZW5ndGggPCAxCiAgICAgICAgKSB7CiAgICAgICAgICBpZiAoIXRoaXMuZWRpdGFuZG9EZXNjcmlwY2lvbikgewogICAgICAgICAgICB0aGlzLnRvZ2dsZUVkaXRhbmRvRGVzY3JpcGNpb24oKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gCiAgICB9LAogICAgaW50cm9kdWNpZW5kb0V2ZW50b1B1YmxpY29DYWxlbmRhcmlvKGludHJvZHVjaWVuZG8pIHsKICAgICAgaWYgKGludHJvZHVjaWVuZG8pIHsKICAgICAgICB0aGlzLiRyZWZzLmNhbGVuZGFyaW8uZXZlbnRvU2llbmRvQ3JlYWRvID0gewogICAgICAgICAgaWRQYXJlbnQ6IHRoaXMuZXN0ZUVzcGFjaW8uaWQsCiAgICAgICAgICB0aXBvUGFyZW50OiAiZXNwYWNpbyIsCiAgICAgICAgICB0aXBvRXZlbnRvOiAiZXZlbnRvUHVibGljbyIsCiAgICAgICAgICBpZEFkbWluaXN0cmFkb3I6IHRoaXMudXN1YXJpby5pZCwKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuY2FsZW5kYXJpby5ldmVudG9TaWVuZG9DcmVhZG8gPSBudWxsOwogICAgICB9CiAgICB9LAogICAgCiAgfSwKfTsK"},{"version":3,"sources":["Espacio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmQA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Espacio.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"espacio\" :class=\"{ mostrando, deshabilitado:eliminandose }\">\n    <div class=\"barraSuperior\">\n      <div id=\"zona1\">\n        <!-- <div\n          class=\"trianguloBullet\"\n          @click=\"abierto = !abierto\"\n          :style=\"[\n            {\n              transform: abierto ? 'rotate(90deg)' : '',\n            },\n          ]\"\n        ></div> -->\n\n        <div id=\"zonaNombre\">\n          <input\n            @keypress.enter.prevent=\"guardarNuevoNombre\"\n            ref=\"inputNuevoNombre\"\n            v-model=\"nuevoNombre\"\n            style=\"width: 250px\"\n            @click.stop=\"\"\n            @blur=\"guardarNuevoNombre\"\n            @keydown=\"keydownInputNuevoNombre\"\n            v-show=\"editandoNombre\"\n            type=\"text\"\n            class=\"inputNuevoNombre inputNombreCosa\"\n            :class=\"{ deshabilitado: enviandoNuevoNombre }\"\n          />\n          <loading texto=\"\" v-show=\"enviandoNuevoNombre\" />\n          <div\n            id=\"elNombre\"\n            :class=\"{\n              deshabilitado: enviandoNuevoNombre,\n              administrador,\n            }\"\n            v-show=\"!editandoNombre\"\n            @click=\"toggleEditandoNombre\"\n          >\n            {{ esteEspacio.nombre }}\n          </div>\n        </div>\n      </div>\n      <div id=\"zonaBotones\">\n        <div\n          class=\"boton botonMostrar selector\"\n          @click=\"\n            mostrando = mostrando === 'descripcion' ? null : 'descripcion'\n          \"\n          :class=\"{activo:mostrando==='descripcion'}\"\n        >\n          <img src=\"@/assets/iconos/info.svg\" alt=\"Informacion\" />\n        </div>\n        <div\n          class=\"boton botonMostrar selector\"\n          @click=\"\n            mostrando = mostrando === 'administrador' ? null : 'administrador'\n          \"\n          :class=\"{activo:mostrando==='administrador'}\"\n        >\n          <img src=\"@/assets/iconos/userCog.svg\" alt=\"Administrador\" />\n        </div>\n        <div\n          class=\"boton botonMostrar selector\"\n          @click=\"mostrando = mostrando === 'calendario' ? null : 'calendario'\"\n          :class=\"{activo:mostrando==='calendario'}\"\n        >\n          <img src=\"@/assets/iconos/calendar.svg\" alt=\"Calendario\" />\n        </div>\n        <div\n          class=\"boton botonMostrar selector\"\n          @click=\"\n            mostrando = mostrando === 'listaEventos' ? null : 'listaEventos'\n          \"\n          :class=\"{activo:mostrando==='listaEventos'}\"\n        >\n          <img src=\"@/assets/iconos/clipboardList.svg\" alt=\"Lista de eventos\" />\n        </div>\n\n        <div\n          class=\"boton\"\n          id=\"botonEliminarse\"\n          @click=\"eliminarse\"\n          v-show=\"administrador || usuarioSuperadministrador\"\n        >\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Eliminar\" />\n        </div>\n        \n      </div>\n    </div>\n\n    <!-- Zona descripcion -->\n    <div\n      id=\"zonaDescripcion\"\n      class=\"zonaPrimerNivel\"\n      v-show=\"mostrando === 'descripcion'\"\n    >\n      <div\n        id=\"descripcion\"\n        class=\"contenidoTexto\"\n        ref=\"descripcion\"\n        v-show=\"!editandoDescripcion\"\n        @click=\"toggleEditandoDescripcion\"\n      >\n        {{ esteEspacio.descripcion }}\n      </div>\n\n      <textarea\n        id=\"inputNuevoDescripcion\"\n        ref=\"inputNuevoDescripcion\"\n        class=\"inputTextoNodo\"\n        :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\n        v-model=\"nuevoDescripcion\"\n        v-show=\"editandoDescripcion\"\n      />\n      <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\n        <img\n          src=\"@/assets/iconos/save.svg\"\n          class=\"botonGuardarCampo\"\n          alt=\"Guardar\"\n          title=\"Guardar descripción\"\n          id=\"botonGuardarDescripcion\"\n          @click=\"guardarNuevoDescripcion\"\n        />\n        <img\n          src=\"@/assets/iconos/equis.svg\"\n          class=\"botonGuardarCampo\"\n          alt=\"Cancelar\"\n          title=\"Cancelar edición\"\n          id=\"botonCancelarEdicionDescripcion\"\n          @click=\"editandoDescripcion = false\"\n        />\n      </div>\n      <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\n    </div>\n\n    <!-- Zona administrador -->\n    <div\n      id=\"zonaAdministrador\"\n      class=\"zonaPrimerNivel\"\n      v-show=\"mostrando === 'administrador'\"\n    >\n      <icono-persona-autonomo :idPersona=\"esteEspacio.idAdministrador\" />\n    </div>\n\n    <!-- Zona calendario -->\n    <div\n      id=\"zonaCalendario\"\n      class=\"zonaPrimerNivel\"\n      v-if=\"mostrando === 'calendario'\"\n    >\n      <div id=\"contenedorControlesCalendario\">\n        <div\n          class=\"boton botonControlCalendario\"\n          v-if=\"administrador\"\n          v-show=\"mostrando === 'calendario' && !introduciendoEventoPublicoCalendario\"\n          :title=\"'Programar una sesión de ' + esteEspacio.nombre\"\n          @click=\"iniciarCreacionEvento\"\n        >\n          <img src=\"@/assets/iconos/calendarPlus.svg\" alt=\"Calendario\" />\n        </div>\n        <div\n          class=\"boton botonControlCalendario\"\n          v-show=\"mostrando === 'calendario' && introduciendoEventoPublicoCalendario\"\n          title=\"Cancelar creación de evento\"\n          @click=\"introduciendoEventoPublicoCalendario = false\"\n        >\n          <img src=\"@/assets/iconos/times.svg\" alt=\"Cancelar\" />\n        </div>\n      </div>\n      <calendario\n        :idUsuarioTarget=\"usuario.id\"\n        ref=\"calendario\"\n        :idParent=\"esteEspacio.id\"\n        enfasis=\"eventosPublicos\"\n        tipoParent=\"espacio\"\n        @iniciaCreacionEvento=\"introduciendoEventoPublicoCalendario = false\"\n      />\n    </div>\n\n    <div\n      id=\"zonaListaEventos\"\n      class=\"zonaPrimerNivel\"\n      v-if=\"mostrando === 'listaEventos'\"\n    >\n      <div id=\"controlesListaEventos\" class=\"contenedorControles\">\n        <div\n          class=\"boton\"\n          title=\"Crear nuevo evento de este espacio\"\n          @click=\"iniciarCuadroCrearEventoPublico\"\n          v-show=\"!mostrandoCuadroCrearEventoPublico && (administrador || usuarioSuperadministrador)\"\n        >\n          <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Crear evento\" />\n        </div>\n        <div\n          class=\"boton\"\n          title=\"Cancelar\"\n          @click=\"mostrandoCuadroCrearEventoPublico = false\"\n          v-show=\"mostrandoCuadroCrearEventoPublico\"\n        >\n          <img src=\"@/assets/iconos/times.svg\" alt=\"Cancelar\" />\n        </div>\n        <loading v-show=\"creandoEventoPublico\" texto=\"\" />\n      </div>\n      <div\n        v-show=\"mostrandoCuadroCrearEventoPublico\"\n        id=\"cuadroCrearEventoPublico\"\n        :class=\"{deshabilitado: enviandoNuevoEventoPublico}\"\n      >\n        <div class=\"bloqueCampoNuevoEventoPublico\">\n          <div class=\"nombreCampo\">Nombre</div>\n          <input\n            class=\"inputCampo\"\n            type=\"text\"\n            name=\"\"\n            id=\"inputNombreNuevoEventoPublico\"\n            ref=\"inputNombreNuevoEventoPublico\"\n            v-model=\"nombreNuevoEventoPublico\"\n          />\n        </div>\n\n        <div class=\"bloqueCampoNuevoEventoPublico\">\n          <div class=\"nombreCampo\">Inicio</div>\n          <input\n            type=\"date\"\n            v-model=\"dateInicioNuevoEventoPublico\"\n            class=\"inputCampo\"\n          />\n          <input\n            type=\"time\"\n            v-model=\"horarioInicioNuevoEventoPublico\"\n            class=\"inputCampo\"\n          />\n        </div>\n\n        <div class=\"bloqueCampoNuevoEventoPublico\">\n          <div class=\"nombreCampo\">Duración</div>\n          <input\n            type=\"number\"\n            ref=\"inputDuracionNuevoEventoPublico\"\n            v-model=\"duracionNuevoEventoPublico\"\n            class=\"inputCampo\"\n          />\n          Minutos\n        </div>\n\n        <div class=\"boton\" id=\"botonCrearEventoPublico\" :class=\"{deshabilitado: !duracionNuevoEventoPublico || duracionNuevoEventoPublico<5}\" style=\"margin: 10px auto\" title=\"Crear evento\" v-show=\"!creandoEventoPublico\" @click=\"crearEventoPublico\">\n          <img src=\"@/assets/iconos/calendarPlus.svg\" alt=\"CrearEvento\">\n        </div>\n        <loading texto=\"\" v-show=\"enviandoNuevoEventoPublico\" style=\"margin: 10px auto\" />\n      </div>\n      <lista-eventos-espacio\n        :idEspacio=\"this.esteEspacio.id\"\n        ref=\"listaEventosEspacio\"                \n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport { charProhibidosNombreCosa, charProhibidosTexto } from \"./configs\";\nimport Loading from \"./utilidades/Loading.vue\";\nimport IconoPersonaAutonomo from \"./usuario/IconoPersonaAutonomo.vue\";\nimport Calendario from \"./utilidades/Calendario.vue\";\nimport ListaEventosEspacio from \"./ListaEventosEspacio.vue\";\nimport { fragmentoEventoPublico } from \"./utilidades/fragsCalendario\";\n\nexport default {\n  components: {\n    Loading,\n    IconoPersonaAutonomo,\n    Calendario,\n    ListaEventosEspacio,\n  },\n  name: \"Espacio\",\n  props: {\n    esteEspacio: Object,\n  },\n  data() {\n    return {\n      abierto: false,\n      mostrando: null,\n\n      nuevoNombre: \"Nuevo nombre\",\n      editandoNombre: false,\n      enviandoNuevoNombre: false,\n\n      nuevoDescripcion: \"Nueva descripcion\",\n      editandoDescripcion: false,\n      enviandoNuevoDescripcion: false,\n\n      mostrandoCuadroCrearEventoPublico: false,\n      nombreNuevoEventoPublico: 'Espacio de '+this.esteEspacio.nombre,\n      dateInicioNuevoEventoPublico: null,\n      dateFinalNuevoEventoPublico: null,\n      horarioInicioNuevoEventoPublico:null,\n      horarioFinalNuevoEventoPublico:null,\n      duracionNuevoEventoPublico:60,\n      creandoEventoPublico: false,\n      enviandoNuevoEventoPublico:false,\n\n      introduciendoEventoPublicoCalendario:false,\n\n      eliminandose: false,\n    };\n  },\n  methods: {\n    guardarNuevoNombre() {\n      this.nuevoNombre = this.$refs.inputNuevoNombre.value;\n\n      if (this.nuevoNombreIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoNombre == this.esteEspacio.nombre) {\n        this.editandoNombre = false;\n        return;\n      }\n      console.log(`guardando nuevo nombre`);\n      this.enviandoNuevoNombre = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idEspacio: ID!, $nuevoNombre: String!) {\n              editarNombreEspacio(\n                idEspacio: $idEspacio\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                nombre\n              }\n            }\n          `,\n          variables: {\n            idEspacio: this.esteEspacio.id,\n            nuevoNombre: this.nuevoNombre,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoNombre = false;\n          this.editandoNombre = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoNombre = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    guardarNuevoDescripcion() {\n      if (this.nuevoDescripcionIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoDescripcion == this.esteEspacio.descripcion) {\n        this.editandoDescripcion = false;\n        return;\n      }\n      console.log(`guardando nuevo descripcion`);\n      this.enviandoNuevoDescripcion = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idEspacio: ID!, $nuevoDescripcion: String!) {\n              editarDescripcionEspacio(\n                idEspacio: $idEspacio\n                nuevoDescripcion: $nuevoDescripcion\n              ) {\n                id\n                descripcion\n              }\n            }\n          `,\n          variables: {\n            idEspacio: this.esteEspacio.id,\n            nuevoDescripcion: this.nuevoDescripcion,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoDescripcion = false;\n          this.editandoDescripcion = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoDescripcion = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    toggleEditandoDescripcion() {\n      if (!this.administrador) {\n        return;\n      }\n      this.$refs.inputNuevoDescripcion.style.height =\n        this.$refs.descripcion.offsetHeight + \"px\";\n      this.editandoDescripcion = !this.editandoDescripcion;\n      this.nuevoDescripcion = this.esteEspacio.descripcion;\n\n      if (this.editandoDescripcion) {\n        this.$nextTick(() => {\n          this.$refs.inputNuevoDescripcion.focus();\n        });\n      }\n    },\n    toggleEditandoNombre(e) {\n      if (this.administrador) {\n        e.stopPropagation();\n\n        this.editandoNombre = true;\n        this.nuevoNombre = this.esteEspacio.nombre;\n        this.$nextTick(() => {\n          this.$refs.inputNuevoNombre.focus();\n        });\n      }\n    },\n    keydownInputNuevoNombre(e) {\n      if (e.key === \"Escape\") {\n        this.editandoNombre=false;\n      }\n    },\n    iniciarCreacionEvento() {\n      this.introduciendoEventoPublicoCalendario = true;\n    },\n    eliminarse() {\n      if (\n        !confirm(\n          \"¿Confirmar la eliminación de este espacio? (Esta acción no puede deshacerse)\"\n        )\n      )\n        return;\n\n      if (!this.administrador && !this.usuarioSuperadministrador) {\n        return;\n      }\n      this.eliminandose = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idEspacio: ID!) {\n              eliminarEspacio(idEspacio: $idEspacio)\n            }\n          `,\n          variables: {\n            idEspacio: this.esteEspacio.id,\n          },\n        })\n        .then(() => {\n          this.$emit(\"meElimine\");\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n        });\n    },       \n    iniciarCuadroCrearEventoPublico() {\n      this.nombreNuevoEventoPublico=\"Espacio de \"+this.esteEspacio.nombre;\n      var dateActual = new Date();\n      dateActual.setHours(8);\n      dateActual.setMinutes(0);\n      dateActual.setSeconds(0);\n      dateActual.setMilliseconds(0);\n\n      dateActual = new Date(dateActual.getTime() + 86400000);\n      // const offset = dateActual.getTimezoneOffset()    \n\n      const dateActualString = dateActual.toISOString().split('T')[0];\n      const dateActualPlusHour = new Date(dateActual.getTime() + 3600000);\n      const dateActualPlusHourString = dateActualPlusHour.toISOString().split('T')[0];      \n      \n\n      this.dateInicioNuevoEventoPublico=dateActualString;\n      this.dateFinalNuevoEventoPublico=dateActualPlusHourString;\n\n      this.horarioInicioNuevoEventoPublico='08:00';\n      this.horarioFinalNuevoEventoPublico='09:00';\n      this.mostrandoCuadroCrearEventoPublico = true;\n    },\n    crearEventoPublico() {\n      if (!this.administrador && !this.usuarioSuperadministrador) {\n        return;\n      }      \n      console.log(`Date saved: ${this.dateInicioNuevoEventoPublico}`);\n      this.duracionNuevoEventoPublico=this.$refs.inputDuracionNuevoEventoPublico.value;\n      var dateInicio=new Date(this.dateInicioNuevoEventoPublico);      \n      console.log(`Date parsed: ${dateInicio}`);\n\n      const diaMesInicio=dateInicio.getUTCDate();\n      console.log(`Creando evento público el ${diaMesInicio}`);\n      const horasInicio=parseInt(this.horarioInicioNuevoEventoPublico.substring(0, 2));\n      const minutosInicio=parseInt(this.horarioInicioNuevoEventoPublico.substring(3));\n\n      dateInicio.setDate(diaMesInicio);\n      dateInicio.setHours(horasInicio);\n      dateInicio.setMinutes(minutosInicio);\n\n      var dateFinal=new Date(dateInicio.getTime()+this.duracionNuevoEventoPublico*60000);\n            \n      console.log(`Creando evento público el ${diaMesInicio}`);\n\n      this.enviandoNuevoEventoPublico = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($infoNuevoEvento: InputCrearEventoPublico) {\n              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {\n                ...fragEventoPublico\n              }\n            }\n            ${fragmentoEventoPublico}\n          `,\n          variables: {\n            infoNuevoEvento: {\n              nombre: this.$refs.inputNombreNuevoEventoPublico.value,\n              horarioInicio: dateInicio,\n              horarioFinal: dateFinal,\n              tipoParent: \"espacio\",\n              idParent: this.esteEspacio.id,\n            },\n          },\n        })\n        .then(({ data: { crearEventoPublico } }) => {\n          this.enviandoNuevoEventoPublico = false;\n          this.$refs.listaEventosEspacio.addEventoCache(crearEventoPublico);\n          this.mostrandoCuadroCrearEventoPublico=false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.enviandoNuevoEventoPublico = false;\n        });\n    },\n    \n  },\n  computed: {\n    administrador() {\n      if (!this.usuarioLogeado) return false;\n\n      return this.usuario.id === this.esteEspacio.idAdministrador;\n    },\n    nuevoNombreIlegal() {\n      if (this.nuevoNombre.length < 1) {\n        return true;\n      }\n      if (charProhibidosNombreCosa.test(this.nuevoNombre)) {\n        return true;\n      }\n      return false;\n    },\n    nuevoDescripcionIlegal() {\n      if (!this.nuevoDescripcion || this.nuevoDescripcion.length < 1) {\n        return true;\n      }\n      if (charProhibidosTexto.test(this.nuevoDescripcion)) {\n        return true;\n      }\n      return false;\n    },\n  },\n  watch: {\n    mostrando(mostrando) {\n      if (mostrando != \"descripcion\") this.editandoDescripcion = false;\n\n      if (mostrando === \"descripcion\") {\n        if (\n          !this.esteEspacio.descripcion ||\n          this.esteEspacio.descripcion.length < 1\n        ) {\n          if (!this.editandoDescripcion) {\n            this.toggleEditandoDescripcion();\n          }\n        }\n      } \n    },\n    introduciendoEventoPublicoCalendario(introduciendo) {\n      if (introduciendo) {\n        this.$refs.calendario.eventoSiendoCreado = {\n          idParent: this.esteEspacio.id,\n          tipoParent: \"espacio\",\n          tipoEvento: \"eventoPublico\",\n          idAdministrador: this.usuario.id,\n        };\n      } else {\n        this.$refs.calendario.eventoSiendoCreado = null;\n      }\n    },\n    \n  },\n};\n</script>\n\n<style scoped>\n.espacio {\n  padding: 10px 2%;\n  box-sizing: border-box;\n}\n.espacio.mostrando {\n  background-color: var(--grisHover);\n  border-radius: 15px;\n}\n.barraSuperior {\n  display: flex;\n}\n#zona1 {\n  display: flex;\n  flex-shrink: 1;\n}\n.trianguloBullet {\n  margin-right: 10px;\n}\n#elNombre.administrador {\n  color: var(--paletaSelect);\n}\n#zonaBotones {\n  margin-left: auto;\n  margin-right:min(10px, 1vw);\n  display: flex;\n  align-items: center;\n}\n.botonMostrar {\n  height: 20px;\n  margin: 0px 5px;\n}\n#botonEliminarse {\n}\n.botonControlCalendario {\n  height: 17px;\n}\n.zonaPrimerNivel {\n  margin-top: 15px;\n  min-height: 50px;\n  padding: 10px 2%;\n  border-radius: 10px;\n}\n#zonaAdministrador {\n  display: flex;\n}\n#contenedorControlesCalendario {\n  display: flex;\n  align-items: center;\n  flex-direction: row-reverse;\n  width: 100%;\n}\n#zonaCalendario {\n  padding: 0px 0px;\n  width: 100%;\n}\n.calendario {\n  margin-top: 10px;\n  width:100%;\n}\n#cuadroCrearEventoPublico{\n  background-color: rgba(128, 128, 128, 0.123); \n  padding: 20px 5px;\n\n}\n.bloqueCampoNuevoEventoPublico{\n  display: flex;\n  align-items: center;\n  margin: 10px 0px;\n  flex-wrap: wrap;\n}\n.bloqueCampoNuevoEventoPublico input{\n  margin:0px 5px;\n  font-size:11px;\n  max-width: 120px;\n}\n.listaEventosEspacio{\n  max-height: 70vh;\n  \n}\n</style>"]}]}