{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/ColeccionNodosConocimiento.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/ColeccionNodosConocimiento.vue","mtime":1674568326919},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgSWNvbm9Ob2RvQ29ub2NpbWllbnRvIGZyb20gIi4vSWNvbm9Ob2RvQ29ub2NpbWllbnRvLnZ1ZSI7CmltcG9ydCBMb2FkaW5nIGZyb20gJy4uL3V0aWxpZGFkZXMvTG9hZGluZy52dWUnOwoKY29uc3QgUVVFUllfTk9ET1NfQ09MRUNDSU9OID0gZ3FsYAogIHF1ZXJ5ICgkaWRzTm9kb3M6IFtJRCFdISkgewogICAgbm9kb3NDb25vY2ltaWVudG9CeUlkcyhpZHNOb2RvczogJGlkc05vZG9zKSB7CiAgICAgIGlkCiAgICAgIG5vbWJyZQogICAgICBkZXNjcmlwY2lvbgogICAgfQogIH0KYDsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29sZWNjaW9uTm9kb3NDb25vY2ltaWVudG8iLAogIGNvbXBvbmVudHM6IHsgSWNvbm9Ob2RvQ29ub2NpbWllbnRvLCBMb2FkaW5nIH0sCiAgYXBvbGxvOiB7CiAgICBub2Rvc0Nvbm9jaW1pZW50bzogewogICAgICBxdWVyeTogUVVFUllfTk9ET1NfQ09MRUNDSU9OLAogICAgICB2YXJpYWJsZXMoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkc05vZG9zOiB0aGlzLmVzdGFDb2xlY2Npb24uaWRzTm9kb3MsCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgc2tpcCgpIHsKICAgICAgICByZXR1cm4gIXRoaXMuZXN0YUNvbGVjY2lvbj8uaWRzTm9kb3MubGVuZ3RoID4gMDsKICAgICAgfSwKICAgICAgdXBkYXRlKHsgbm9kb3NDb25vY2ltaWVudG9CeUlkcyB9KSB7CiAgICAgICAgcmV0dXJuIG5vZG9zQ29ub2NpbWllbnRvQnlJZHM7CiAgICAgIH0sCiAgICB9LAogICAgcHJvZ3Jlc29Db2xlY2Npb246IHsKICAgICAgcXVlcnk6IGdxbGAKICAgICAgICBxdWVyeSAoJGlkQ29sZWNjaW9uOiBJRCEsICRpZFVzdWFyaW86IElEISkgewogICAgICAgICAgY29sZWNjaW9uTm9kb3NDb25vY2ltaWVudG8oCiAgICAgICAgICAgIGlkQ29sZWNjaW9uOiAkaWRDb2xlY2Npb24KICAgICAgICAgICAgaWRVc3VhcmlvOiAkaWRVc3VhcmlvCiAgICAgICAgICApIHsKICAgICAgICAgICAgaWQKICAgICAgICAgICAgcHJvZ3Jlc28KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIGAsCiAgICAgIHZhcmlhYmxlcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWRDb2xlY2Npb246IHRoaXMuZXN0YUNvbGVjY2lvbi5pZCwKICAgICAgICAgIGlkVXN1YXJpbzogdGhpcy55by5pZCwKICAgICAgICB9OwogICAgICB9LAogICAgICBza2lwKCkgewogICAgICAgIHJldHVybiAhdGhpcy55bz8uaWQgfHwgIXRoaXMuZXN0YUNvbGVjY2lvbj8uaWQ7CiAgICAgIH0sCiAgICAgIHVwZGF0ZSh7IGNvbGVjY2lvbk5vZG9zQ29ub2NpbWllbnRvIH0pIHsKICAgICAgICByZXR1cm4gY29sZWNjaW9uTm9kb3NDb25vY2ltaWVudG8ucHJvZ3Jlc287CiAgICAgIH0sCiAgICB9LAogIH0sCiAgcHJvcHM6IHsKICAgIGVzdGFDb2xlY2Npb246IE9iamVjdCwKICAgIHlvOiBPYmplY3QsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWROb2RvU2VsZWNjaW9uYWRvOiBudWxsLAogICAgICBub2Rvc0Nvbm9jaW1pZW50bzogW10sCiAgICAgIHByb2dyZXNvQ29sZWNjaW9uOiBudWxsLAogICAgfTsKICB9LAp9Owo="},{"version":3,"sources":["ColeccionNodosConocimiento.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ColeccionNodosConocimiento.vue","sourceRoot":"src/components/atlasConocimiento","sourcesContent":["<template>\n  <div class=\"coleccionNodosConocimiento\">\n    <div id=\"zonaBarraProgreso\" v-show=\"!$apollo.queries.progresoColeccion.loading\">\n      <div id=\"barraProgreso\">\n        <div id=\"barraProgresoVerde\" :style=\"[{width: progresoColeccion+'%'}]\"></div>\n      </div>\n    \n    <div id=\"numeroProgreso\">\n        {{progresoColeccion}}%\n    </div>\n    </div>\n\n    <loading v-show=\"$apollo.queries.progresoColeccion.loading\" />\n\n    <div class=\"listaNodos\">\n      <icono-nodo-conocimiento\n        v-for=\"nodo of nodosConocimiento\"\n        :key=\"nodo.id\"\n        :esteNodo=\"nodo\"\n        :seleccionado=\"idNodoSeleccionado === nodo.id\"\n        @click.self.stop=\"\n          idNodoSeleccionado = idNodoSeleccionado === nodo.id ? null : nodo.id\n        \"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport IconoNodoConocimiento from \"./IconoNodoConocimiento.vue\";\nimport Loading from '../utilidades/Loading.vue';\n\nconst QUERY_NODOS_COLECCION = gql`\n  query ($idsNodos: [ID!]!) {\n    nodosConocimientoByIds(idsNodos: $idsNodos) {\n      id\n      nombre\n      descripcion\n    }\n  }\n`;\n\nexport default {\n  name: \"ColeccionNodosConocimiento\",\n  components: { IconoNodoConocimiento, Loading },\n  apollo: {\n    nodosConocimiento: {\n      query: QUERY_NODOS_COLECCION,\n      variables() {\n        return {\n          idsNodos: this.estaColeccion.idsNodos,\n        };\n      },\n      skip() {\n        return !this.estaColeccion?.idsNodos.length > 0;\n      },\n      update({ nodosConocimientoByIds }) {\n        return nodosConocimientoByIds;\n      },\n    },\n    progresoColeccion: {\n      query: gql`\n        query ($idColeccion: ID!, $idUsuario: ID!) {\n          coleccionNodosConocimiento(\n            idColeccion: $idColeccion\n            idUsuario: $idUsuario\n          ) {\n            id\n            progreso\n          }\n        }\n      `,\n      variables() {\n        return {\n          idColeccion: this.estaColeccion.id,\n          idUsuario: this.yo.id,\n        };\n      },\n      skip() {\n        return !this.yo?.id || !this.estaColeccion?.id;\n      },\n      update({ coleccionNodosConocimiento }) {\n        return coleccionNodosConocimiento.progreso;\n      },\n    },\n  },\n  props: {\n    estaColeccion: Object,\n    yo: Object,\n  },\n  data() {\n    return {\n      idNodoSeleccionado: null,\n      nodosConocimiento: [],\n      progresoColeccion: null,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.listaNodos {\n  display: flex;\n  padding: 20px 20px;\n  padding-bottom: 90px;\n  gap: 60px;\n  flex-wrap: wrap;\n}\n\n#barraProgreso {\n  background-color: gray;\n  height: 12px;\n  width: 100%;\n}\n#barraProgresoVerde {\n  background-color: green;\n  height: 100%;\n}\n\n#numeroProgreso{\n    width: 100%;\n    text-align: center;\n}\n</style>"]}]}