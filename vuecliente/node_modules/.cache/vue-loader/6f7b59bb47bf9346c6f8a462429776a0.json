{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/IconoNodoConocimiento.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/IconoNodoConocimiento.vue","mtime":1676563818640},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nIGZyb20gIi4uL3V0aWxpZGFkZXMvTG9hZGluZy52dWUiOwppbXBvcnQgUGllUHJvZ3Jlc28gZnJvbSAiLi4vdXRpbGlkYWRlcy9QaWVQcm9ncmVzby52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBQaWVQcm9ncmVzbywgTG9hZGluZyB9LAogIG5hbWU6ICJJY29ub05vZG9Db25vY2ltaWVudG8iLAogIGFwb2xsbzoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIHByb3BzOiB7CiAgICBlc3RlTm9kbzogT2JqZWN0LAogICAgc2VsZWNjaW9uYWRvOiBCb29sZWFuLAogICAgZGF0b3NFc3RlTm9kbzogT2JqZWN0LAoKICAgIG1vc3RyYXJQb3JjZW50YWplQ29tcGxldGFkbzogQm9vbGVhbiwKICAgIHBvcmNlbnRhamVDb21wbGV0YWRvOiBOdW1iZXIsCgogICAgb3BjaW9uZXNNZW51Q3g6IEFycmF5LAogICAgbWVudUN4OiBCb29sZWFuLAoKICAgIHNpZW5kb1JlbW92aWRvOiBCb29sZWFuLAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVzdGlsb0NhcnRlbE5vbWJyZSgpIHsKICAgICAgdmFyIGJDb2xvciA9ICJ2YXIoLS1hdGxhc0Nvbm9jaW1pZW50b09mZikiOwogICAgICB2YXIgY29sb3IgPSAiYmxhY2siOwogICAgICBpZiAodGhpcy5hcHJlbmRpZG8gfHwgdGhpcy5lc3R1ZGlhZG8pIHsKICAgICAgICBiQ29sb3IgPSAidmFyKC0tYXRsYXNDb25vY2ltaWVudG9DaGVjaykiOwogICAgICB9IGVsc2UgaWYgKHRoaXMubm9kb1JlcGFzYXIpIHsKICAgICAgICBiQ29sb3IgPSAidmFyKC0tYXRsYXNDb25vY2ltaWVudG9SZXBhc28pIjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmFwcmVuZGlibGUpIHsKICAgICAgICBiQ29sb3IgPSAidmFyKC0tYXRsYXNDb25vY2ltaWVudG9BdmFpbGFibGUpIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb2xvciA9ICIjMzEzMTMxIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJDb2xvciwKICAgICAgICBjb2xvciwKICAgICAgfTsKICAgIH0sCiAgICBlc3R1ZGlhZG8oKSB7CiAgICAgIGlmICghdGhpcy5kYXRvc0VzdGVOb2RvPy5lc3R1ZGlhZG8pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIGVzdHVkaWFkb1JlY2llbnRlbWVudGUoKSB7CiAgICAgIGlmICghdGhpcy5lc3R1ZGlhZG8gfHwgIXRoaXMuZGF0b3NFc3RlTm9kby5wZXJpb2RvUmVwYXNvKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGxldCBkYXRlSG95ID0gbmV3IERhdGUoKTsKCiAgICAgIGxldCBkYXRlSG95TWluID0gZGF0ZUhveTsKICAgICAgZGF0ZUhveU1pbi5zZXRIb3VycygwKTsKICAgICAgZGF0ZUhveU1pbi5zZXRNaW51dGVzKDApOwogICAgICBkYXRlSG95TWluLnNldFNlY29uZHMoMCk7CgogICAgICBsZXQgbWlsbGlzRXN0dWRpYWRvID0gbmV3IERhdGUodGhpcy5kYXRvc0VzdGVOb2RvLmVzdHVkaWFkbykuZ2V0VGltZSgpOwogICAgICBsZXQgbWlsbGlzUmVwYXNvID0gbWlsbGlzRXN0dWRpYWRvICsgdGhpcy5kYXRvc0VzdGVOb2RvLnBlcmlvZG9SZXBhc287CiAgICAgIGxldCBtaWxsaXNIb3kgPSBkYXRlSG95LmdldFRpbWUoKTsKCiAgICAgIGNvbnNvbGUubG9nKAogICAgICAgIGAke3RoaXMuZGF0b3NFc3RlTm9kby5ub21icmVOb2RvfTogTWlsbGlzIGVzdHVkaWFkbzogJHttaWxsaXNFc3R1ZGlhZG99LCBtaWxsaXNSZXBhc286ICR7bWlsbGlzUmVwYXNvfSwgbWlsbGlzSG95ICR7bWlsbGlzSG95fWAKICAgICAgKTsKICAgICAgcmV0dXJuIG1pbGxpc1JlcGFzbyA+IG1pbGxpc0hveTsKICAgIH0sCiAgICByZXBhc2FyKCkgewogICAgICByZXR1cm4gdGhpcy5lc3R1ZGlhZG8gJiYgIXRoaXMuZXN0dWRpYWRvUmVjaWVudGVtZW50ZTsKICAgIH0sCiAgICBhcHJlbmRpZG8oKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdG9zRXN0ZU5vZG8/LmFwcmVuZGlkbzsKICAgIH0sCiAgfSwKICBtZXRob2RzOnsKICAgIGFicmlyUGFnaW5hTm9kbygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goCiAgICAgICAgdGhpcy4kcm91dGUucGF0aCArICIvbm9kb0Nvbm9jaW1pZW50by8iICsgdGhpcy5lc3RlTm9kby5pZAogICAgICApOwogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["IconoNodoConocimiento.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IconoNodoConocimiento.vue","sourceRoot":"src/components/atlasConocimiento","sourcesContent":["<template>\n  <div class=\"iconoNodoConocimiento\" @dblclick.stop=\"abrirPaginaNodo\" :class=\"{ deshabilitado: siendoRemovido }\">\n    <img\n      src=\"@/assets/iconos/success.png\"\n      alt=\"Aprendido\"\n      title=\"Este tema ya ha sido aprendido\"\n      v-if=\"aprendido\"\n      id=\"iconoAprendido\"      \n    />\n    <pie-progreso\n      id=\"piePorcentajeCompletado\"\n      v-if=\"porcentajeCompletado\"\n      :cifrasDecimales=\"0\"\n      :progreso=\"porcentajeCompletado\"\n      :size=\"30\"\n      v-show=\"mostrarPorcentajeCompletado\"\n    />\n    <loading id=\"loadingRemovido\" v-show=\"siendoRemovido\" />\n    <div id=\"iconoNodo\" v-show=\"!mostrarPorcentajeCompletado && !siendoRemovido\">\n      <img\n        v-if=\"esteNodo.tipoNodo === 'concepto'\"\n        src=\"@/assets/iconos/atlas/lightbulbEmpty.svg\"\n      />\n      <img v-else src=\"@/assets/iconos/atlas/fireSolid.svg\" />\n    </div>\n    <div\n      id=\"nombre\"\n      ref=\"nombre\"\n      :style=\"[estiloCartelNombre]\"\n      :class=\"{ seleccionado }\"\n    >\n      {{ esteNodo.nombre }}\n    </div>\n\n    <div class=\"menuContextual\" v-show=\"menuCx\" @click.stop=\"\">\n      <div\n        class=\"botonMenuCx\"\n        v-for=\"opcion of opcionesMenuCx\"\n        :key=\"opcion.accion\"\n        @click=\"$emit(opcion.accion)\"\n      >\n        {{ opcion.texto }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"../utilidades/Loading.vue\";\nimport PieProgreso from \"../utilidades/PieProgreso.vue\";\nexport default {\n  components: { PieProgreso, Loading },\n  name: \"IconoNodoConocimiento\",\n  apollo: {},\n  data() {\n    return {};\n  },\n  props: {\n    esteNodo: Object,\n    seleccionado: Boolean,\n    datosEsteNodo: Object,\n\n    mostrarPorcentajeCompletado: Boolean,\n    porcentajeCompletado: Number,\n\n    opcionesMenuCx: Array,\n    menuCx: Boolean,\n\n    siendoRemovido: Boolean,\n  },\n  computed: {\n    estiloCartelNombre() {\n      var bColor = \"var(--atlasConocimientoOff)\";\n      var color = \"black\";\n      if (this.aprendido || this.estudiado) {\n        bColor = \"var(--atlasConocimientoCheck)\";\n      } else if (this.nodoRepasar) {\n        bColor = \"var(--atlasConocimientoRepaso)\";\n      } else if (this.aprendible) {\n        bColor = \"var(--atlasConocimientoAvailable)\";\n      } else {\n        color = \"#313131\";\n      }\n\n      return {\n        backgroundColor: bColor,\n        color,\n      };\n    },\n    estudiado() {\n      if (!this.datosEsteNodo?.estudiado) {\n        return false;\n      }\n\n      return true;\n    },\n    estudiadoRecientemente() {\n      if (!this.estudiado || !this.datosEsteNodo.periodoRepaso) {\n        return false;\n      }\n      let dateHoy = new Date();\n\n      let dateHoyMin = dateHoy;\n      dateHoyMin.setHours(0);\n      dateHoyMin.setMinutes(0);\n      dateHoyMin.setSeconds(0);\n\n      let millisEstudiado = new Date(this.datosEsteNodo.estudiado).getTime();\n      let millisRepaso = millisEstudiado + this.datosEsteNodo.periodoRepaso;\n      let millisHoy = dateHoy.getTime();\n\n      console.log(\n        `${this.datosEsteNodo.nombreNodo}: Millis estudiado: ${millisEstudiado}, millisRepaso: ${millisRepaso}, millisHoy ${millisHoy}`\n      );\n      return millisRepaso > millisHoy;\n    },\n    repasar() {\n      return this.estudiado && !this.estudiadoRecientemente;\n    },\n    aprendido() {\n      return this.datosEsteNodo?.aprendido;\n    },\n  },\n  methods:{\n    abrirPaginaNodo() {\n      this.$router.push(\n        this.$route.path + \"/nodoConocimiento/\" + this.esteNodo.id\n      );\n    },\n  }\n};\n</script>\n\n<style scoped>\n.iconoNodoConocimiento {\n  width: 30px;\n  min-width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-size: 100% 100%;\n  cursor: pointer;\n  position: relative;\n  pointer-events: all;\n  background-color: rgba(128, 128, 128, 0.349);\n  user-select: none;\n}\n#iconoAprendido{\n  width: 17px;\n  height: 17px;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  background-color: var(--atlasConocimientoCheck);\n}\n#loadingRemovido {\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n}\n#iconoNodo {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  pointer-events: none;\n  width: 55%;\n  height: 55%;\n  z-index: 1;\n  pointer-events: none;\n  border-radius: 50%;\n}\n\n#iconoNodo img {\n  width: 100%;\n  height: 100%;\n}\n\n#piePorcentajeCompletado {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n#nombre {\n  font-size: 11px;\n  position: absolute;\n  top: 105%;\n  min-height: 10px;\n  min-width: 20px;\n  max-width: 280%;\n  text-align: center;\n  /* width: 160%; */\n  padding: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n  border: 1px solid rgb(5, 102, 109);\n  border-radius: 3px;\n}\n#menuContextual {\n  position: absolute;\n  top: 110%;\n  left: 110%;\n  min-width: 140px;\n  padding: 5px;\n  z-index: 10;\n  background-color: rgb(177, 177, 159);\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.botonMenuCx {\n  cursor: pointer;\n  font-size: 14px;\n}\n.seccionMenuCx {\n  font-size: 15px;\n  color: rgb(71, 71, 71);\n}\n.botonMenuCx:hover {\n  background-color: gray;\n}\n</style>"]}]}