{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/visorNodoConocimiento/VisorNodoConocimiento.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/visorNodoConocimiento/VisorNodoConocimiento.vue","mtime":1676563818696},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgU2VjY2lvbk5vZG9Db25vY2ltaWVudG8gZnJvbSAiLi9TZWNjaW9uTm9kb0Nvbm9jaW1pZW50by52dWUiOwppbXBvcnQgTG9hZGluZyBmcm9tICIuLi91dGlsaWRhZGVzL0xvYWRpbmcudnVlIjsKaW1wb3J0IEljb25vUGVyc29uYUF1dG9ub21vIGZyb20gIi4uL3VzdWFyaW8vSWNvbm9QZXJzb25hQXV0b25vbW8udnVlIjsKaW1wb3J0IEZvcm8gZnJvbSAiLi4vRm9yby52dWUiOwppbXBvcnQgeyBjaGFyUHJvaGliaWRvc05vbWJyZUNvc2EgfSBmcm9tICIuLi9jb25maWdzIjsKCmNvbnN0IFFVRVJZX05PRE8gPSBncWxgCiAgcXVlcnkgKCRpZE5vZG86IElEISkgewogICAgbm9kbyhpZE5vZG86ICRpZE5vZG8pIHsKICAgICAgbm9tYnJlCiAgICAgIGlkCiAgICAgIGRlc2NyaXBjaW9uCiAgICAgIGNsYXNlcyB7CiAgICAgICAgaWQKICAgICAgICBub21icmUKICAgICAgICBpZEV4cGVydG8KICAgICAgICBkZXNjcmlwY2lvbgogICAgICAgIGludGVyZXNhZG9zCiAgICAgIH0KICAgICAga2V5d29yZHMKICAgICAgZXhwZXJ0b3MKICAgICAgcG9zaWJsZXNFeHBlcnRvcwogICAgICBjbGFzZXMgewogICAgICAgIGlkCiAgICAgIH0KICAgICAgaWRGb3JvUHVibGljbwogICAgICBpZEZvcm9FeHBlcnRvcwogICAgICBzZWNjaW9uZXMgewogICAgICAgIGlkCiAgICAgICAgbm9tYnJlCiAgICAgICAgbW9kbwogICAgICAgIGVubGFjZQogICAgICAgIGFyY2hpdm9zIHsKICAgICAgICAgIG5vbWJyZQogICAgICAgICAgcHJpbWFyaW8KICAgICAgICB9CiAgICAgICAgdGlwb1ByaW1hcmlvCiAgICAgIH0KICAgICAgdmluY3Vsb3MgewogICAgICAgIGlkUmVmCiAgICAgICAgcm9sCiAgICAgICAgdGlwbwogICAgICB9CiAgICB9CiAgfQpgOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgU2VjY2lvbk5vZG9Db25vY2ltaWVudG8sIExvYWRpbmcsIEljb25vUGVyc29uYUF1dG9ub21vLCBGb3JvIH0sCiAgbmFtZTogIlZpc29yTm9kb0Nvbm9jaW1pZW50byIsCiAgYXBvbGxvOiB7CiAgICBlc3RlTm9kbzogewogICAgICBxdWVyeTogUVVFUllfTk9ETywKICAgICAgdmFyaWFibGVzKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZE5vZG86IHRoaXMuJHJvdXRlLnBhcmFtcy5pZE5vZG8sCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgdXBkYXRlKHsgbm9kbyB9KSB7CiAgICAgICAgZG9jdW1lbnQudGl0bGU9bm9kby5ub21icmU7CiAgICAgICAgcmV0dXJuIG5vZG87CiAgICAgIH0sCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVzdGVOb2RvOiB7CiAgICAgICAgZXhwZXJ0b3M6IFtdLAogICAgICAgIHBvc2libGVzRXhwZXJ0b3M6IFtdLAogICAgICB9LAogICAgICBtb3N0cmFuZG9Db250ZW5pZG86ICJlc3R1ZGlhciIsCiAgICAgIG1vc3RyYW5kb1NlY2Npb246IG51bGwsCiAgICAgIG1vc3RyYW5kb01lbnVTZWNjaW9uZXM6IGZhbHNlLAogICAgICBjcmVhbmRvTnVldmFTZWNjaW9uOiBmYWxzZSwKICAgICAgaWRFeHBlcnRvU2VsZWNjaW9uYWRvOiBudWxsLAogICAgICBlbnZpYW5kb1F1ZXJ5RXhwZXJ0b3M6IGZhbHNlLAoKICAgICAgZWRpdGFuZG9Ob21icmU6IGZhbHNlLAogICAgICBlbnZpYW5kb051ZXZvTm9tYnJlOiBmYWxzZSwKCiAgICAgIG51ZXZvRGVzY3JpcGNpb246IG51bGwsCiAgICAgIGVkaXRhbmRvRGVzY3JpcGNpb246IGZhbHNlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZUFyY2hpdm9TZWNjaW9uQ2FjaGUobm9tYnJlQXJjaGl2bywgaWRTZWNjaW9uKSB7CiAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy4kYXBvbGxvLnByb3ZpZGVyLmRlZmF1bHRDbGllbnQ7CgogICAgICBjb25zdCBjYWNoZSA9IHN0b3JlLnJlYWRRdWVyeSh7CiAgICAgICAgcXVlcnk6IFFVRVJZX05PRE8sCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZE5vZG86IHRoaXMuZXN0ZU5vZG8uaWQsCiAgICAgICAgfSwKICAgICAgfSk7CiAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwoKICAgICAgdmFyIGxhU2VjY2lvbiA9IG51ZXZvQ2FjaGUubm9kby5zZWNjaW9uZXMuZmluZCgocykgPT4gcy5pZCA9PSBpZFNlY2Npb24pOwogICAgICBpZiAoIWxhU2VjY2lvbikgewogICAgICAgIGNvbnNvbGUubG9nKGBTZWNjaW9uIG5vIGVuY29udHJhZGFgKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBpbmRleEEgPSBsYVNlY2Npb24uYXJjaGl2b3MuZmluZEluZGV4KAogICAgICAgIChhKSA9PiBhLm5vbWJyZSA9PT0gbm9tYnJlQXJjaGl2bwogICAgICApOwogICAgICBpZiAoaW5kZXhBID4gLTEpIHsKICAgICAgICBsYVNlY2Npb24uYXJjaGl2b3Muc3BsaWNlKGluZGV4QSwgMSk7CiAgICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgICBxdWVyeTogUVVFUllfTk9ETywKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZE5vZG86IHRoaXMuZXN0ZU5vZG8uaWQsCiAgICAgICAgICB9LAogICAgICAgICAgZGF0YTogbnVldm9DYWNoZSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyhgQXJjaGl2byBubyBlbmNvbnRyYWRvYCk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRBcmNoaXZvU2VjY2lvbkNhY2hlKGluZm9BcmNoaXZvLCBpZFNlY2Npb24pIHsKICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgY29uc3QgY2FjaGUgPSBzdG9yZS5yZWFkUXVlcnkoewogICAgICAgIHF1ZXJ5OiBRVUVSWV9OT0RPLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWROb2RvOiB0aGlzLmVzdGVOb2RvLmlkLAogICAgICAgIH0sCiAgICAgIH0pOwoKICAgICAgdmFyIG51ZXZvQ2FjaGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7CiAgICAgIHZhciBsYVNlY2Npb24gPSBudWV2b0NhY2hlLm5vZG8uc2VjY2lvbmVzLmZpbmQoKHMpID0+IHMuaWQgPT0gaWRTZWNjaW9uKTsKICAgICAgbGFTZWNjaW9uLmFyY2hpdm9zLnB1c2goaW5mb0FyY2hpdm8pOwogICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfTk9ETywKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkTm9kbzogdGhpcy5lc3RlTm9kby5pZCwKICAgICAgICB9LAogICAgICAgIGRhdGE6IG51ZXZvQ2FjaGUsCiAgICAgIH0pOwogICAgfSwKICAgIGVsaW1pbmFyU2VjY2lvbihpZFNlY2Npb24pIHsKICAgICAgaWYgKCF0aGlzLnVzdWFyaW9FeHBlcnRvICYmICF0aGlzLnVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKAogICAgICAgICFjb25maXJtKAogICAgICAgICAgIkVsaW1pbmFuZG8gZXN0YSBzZWNjacOzbiBjb24gdG9kb3Mgc3VzIGNvbnRlbmlkb3MuIMK/Q29udGludWFyPyIKICAgICAgICApCiAgICAgICkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhgRW52aWFuZG8gbXV0YWNpw7NuIGRlIGVsaW1pbmFyIHNlY2Npb24gJHtpZFNlY2Npb259YCk7CiAgICAgIGNvbnN0IGRpcyA9IHRoaXM7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpZE5vZG86IElEISwgJGlkU2VjY2lvbjogSUQhKSB7CiAgICAgICAgICAgICAgZWxpbWluYXJTZWNjaW9uTm9kb0Nvbm9jaW1pZW50bygKICAgICAgICAgICAgICAgIGlkTm9kbzogJGlkTm9kbwogICAgICAgICAgICAgICAgaWRTZWNjaW9uOiAkaWRTZWNjaW9uCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkTm9kbzogdGhpcy5lc3RlTm9kby5pZCwKICAgICAgICAgICAgaWRTZWNjaW9uLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCh7IGRhdGE6IHsgZWxpbWluYXJTZWNjaW9uTm9kb0Nvbm9jaW1pZW50byB9IH0pID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGByZXN1bHRhZG86ICR7ZWxpbWluYXJTZWNjaW9uTm9kb0Nvbm9jaW1pZW50b31gKTsKICAgICAgICAgIGlmIChlbGltaW5hclNlY2Npb25Ob2RvQ29ub2NpbWllbnRvKSB7CiAgICAgICAgICAgIGxldCBzdG9yZSA9IGRpcy4kYXBvbGxvLnByb3ZpZGVyLmRlZmF1bHRDbGllbnQ7CiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICAgICAgICBxdWVyeTogUVVFUllfTk9ETywKICAgICAgICAgICAgICB2YXJpYWJsZXM6IHsgaWROb2RvOiBkaXMuZXN0ZU5vZG8uaWQgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwoKICAgICAgICAgICAgY29uc3QgaW5kZXhTID0gbnVldm9DYWNoZS5ub2RvLnNlY2Npb25lcy5maW5kSW5kZXgoCiAgICAgICAgICAgICAgKHMpID0+IHMuaWQgPT0gaWRTZWNjaW9uCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGlmIChpbmRleFMgPiAtMSkgewogICAgICAgICAgICAgIG51ZXZvQ2FjaGUubm9kby5zZWNjaW9uZXMuc3BsaWNlKGluZGV4UywgMSk7CiAgICAgICAgICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgICAgICAgICBxdWVyeTogUVVFUllfTk9ETywKICAgICAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgICAgICBpZE5vZG86IGRpcy5lc3RlTm9kby5pZCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZWNjaW9uIG5vIGVuY29udHJhZGFgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiBFOiAke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICAgIGNyZWFyTnVldmFTZWNjaW9uKCkgewogICAgICBpZiAoIXRoaXMudXN1YXJpb0V4cGVydG8gJiYgIXRoaXMudXN1YXJpb1N1cGVyYWRtaW5pc3RyYWRvcikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmNyZWFuZG9OdWV2YVNlY2Npb24gPSB0cnVlOwogICAgICBjb25zdCBkaXMgPSB0aGlzOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWROb2RvOiBJRCEpIHsKICAgICAgICAgICAgICBjcmVhck51ZXZhU2VjY2lvbk5vZG9Db25vY2ltaWVudG8oaWROb2RvOiAkaWROb2RvKSB7CiAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgbm9tYnJlCiAgICAgICAgICAgICAgICBtb2RvCiAgICAgICAgICAgICAgICBhcmNoaXZvcyB7CiAgICAgICAgICAgICAgICAgIG5vbWJyZQogICAgICAgICAgICAgICAgICBwcmltYXJpbwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGlwb1ByaW1hcmlvCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkTm9kbzogdGhpcy5lc3RlTm9kby5pZCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhOiB7IGNyZWFyTnVldmFTZWNjaW9uTm9kb0Nvbm9jaW1pZW50byB9IH0pID0+IHsKICAgICAgICAgIGxldCBzdG9yZSA9IGRpcy4kYXBvbGxvLnByb3ZpZGVyLmRlZmF1bHRDbGllbnQ7CiAgICAgICAgICBjb25zdCBjYWNoZSA9IHN0b3JlLnJlYWRRdWVyeSh7CiAgICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9OT0RPLAogICAgICAgICAgICB2YXJpYWJsZXM6IHsgaWROb2RvOiBkaXMuZXN0ZU5vZG8uaWQgfSwKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG51ZXZvQ2FjaGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7CiAgICAgICAgICBudWV2b0NhY2hlLm5vZG8uc2VjY2lvbmVzLnB1c2goY3JlYXJOdWV2YVNlY2Npb25Ob2RvQ29ub2NpbWllbnRvKTsKCiAgICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgICAgcXVlcnk6IFFVRVJZX05PRE8sCiAgICAgICAgICAgIHZhcmlhYmxlczogeyBpZE5vZG86IGRpcy5lc3RlTm9kby5pZCB9LAogICAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlLAogICAgICAgICAgfSk7CgogICAgICAgICAgdGhpcy5jcmVhbmRvTnVldmFTZWNjaW9uID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IuIEU6ICR7ZXJyb3J9YCk7CiAgICAgICAgICB0aGlzLmNyZWFuZG9OdWV2YVNlY2Npb24gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzZXRQcmltYXJpb1NlY2Npb25DYWNoZShub21icmVOdWV2b1ByaW1hcmlvLCBpZFNlY2Npb24pIHsKICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKCiAgICAgIGNvbnN0IGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfTk9ETywKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkTm9kbzogdGhpcy5lc3RlTm9kby5pZCwKICAgICAgICB9LAogICAgICB9KTsKICAgICAgdmFyIG51ZXZvQ2FjaGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7CgogICAgICB2YXIgbGFTZWNjaW9uID0gbnVldm9DYWNoZS5ub2RvLnNlY2Npb25lcy5maW5kKChzKSA9PiBzLmlkID09IGlkU2VjY2lvbik7CiAgICAgIGlmICghbGFTZWNjaW9uKSB7CiAgICAgICAgY29uc29sZS5sb2coYFNlY2Npb24gbm8gZW5jb250cmFkYWApOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGluZGV4QSA9IGxhU2VjY2lvbi5hcmNoaXZvcy5maW5kSW5kZXgoCiAgICAgICAgKGEpID0+IGEubm9tYnJlID09PSBub21icmVOdWV2b1ByaW1hcmlvCiAgICAgICk7CgogICAgICBsYVNlY2Npb24uYXJjaGl2b3MuZm9yRWFjaCgoYSkgPT4gKGEucHJpbWFyaW8gPSBmYWxzZSkpOwogICAgICBsYVNlY2Npb24uYXJjaGl2b3NbaW5kZXhBXS5wcmltYXJpbyA9IHRydWU7CgogICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfTk9ETywKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkTm9kbzogdGhpcy5lc3RlTm9kby5pZCwKICAgICAgICB9LAogICAgICAgIGRhdGE6IG51ZXZvQ2FjaGUsCiAgICAgIH0pOwogICAgfSwKICAgIGludGVudGFyRW50cmFyRXhwZXJ0b3MoaWRDYW5kaWRhdG8pIHsKICAgICAgY29uc29sZS5sb2coCiAgICAgICAgYGVudmlhbmRvIGlkICR7dGhpcy4kc3RvcmUuc3RhdGUudXN1YXJpby5pZH0gcGFyYSBlbnRyYXIgYSBleHBlcnRvcyBkZWwgbm9kbyBjb24gaWQgJHt0aGlzLmVzdGVOb2RvLmlkfWAKICAgICAgKTsKICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5RXhwZXJ0b3MgPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWROb2RvOiBJRCEsICRpZFVzdWFyaW86IElEISkgewogICAgICAgICAgICAgIGFkZEV4cGVydG9Ob2RvKGlkTm9kbzogJGlkTm9kbywgaWRVc3VhcmlvOiAkaWRVc3VhcmlvKSB7CiAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgZXhwZXJ0b3MKICAgICAgICAgICAgICAgIHBvc2libGVzRXhwZXJ0b3MKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWROb2RvOiB0aGlzLmVzdGVOb2RvLmlkLAogICAgICAgICAgICBpZFVzdWFyaW86IGlkQ2FuZGlkYXRvLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUV4cGVydG9zID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvUXVlcnlFeHBlcnRvcyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coImVycm9yOiAiICsgZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIGFiYW5kb25hckxpc3RhRXhwZXJ0b3MoaWRDYW5kaWRhdG8pIHsKICAgICAgY29uc29sZS5sb2coYEFiYW5kb25hbmRvIGxhIHJlc3BvbnNhYmlsaWRhZCBlbiBlc3RlIG5vZG9gKTsKICAgICAgaWYgKAogICAgICAgICF0aGlzLnVzdWFyaW9FeHBlcnRvICYmCiAgICAgICAgIXRoaXMuZXN0ZU5vZG8ucG9zaWJsZXNFeHBlcnRvcy5pbmNsdWRlcyh0aGlzLnVzdWFyaW8uaWQpCiAgICAgICkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmVudmlhbmRvUXVlcnlFeHBlcnRvcyA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpZE5vZG86IElEISwgJGlkVXN1YXJpbzogSUQhKSB7CiAgICAgICAgICAgICAgcmVtb3ZlRXhwZXJ0b05vZG8oaWROb2RvOiAkaWROb2RvLCBpZFVzdWFyaW86ICRpZFVzdWFyaW8pIHsKICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICBleHBlcnRvcwogICAgICAgICAgICAgICAgcG9zaWJsZXNFeHBlcnRvcwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZE5vZG86IHRoaXMuZXN0ZU5vZG8uaWQsCiAgICAgICAgICAgIGlkVXN1YXJpbzogaWRDYW5kaWRhdG8sCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5RXhwZXJ0b3MgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUV4cGVydG9zID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3I6ICIgKyBlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgaW5pY2lhckVkaWNpb25Ob21icmUoKSB7CiAgICAgIGlmICgKICAgICAgICAhdGhpcy51c3VhcmlvRXhwZXJ0byAmJgogICAgICAgICF0aGlzLnVzdWFyaW9BZG1pbmlzdHJhZG9yQXRsYXMgJiYKICAgICAgICAhdGhpcy51c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yCiAgICAgICkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRyZWZzLmlucHV0TnVldm9Ob21icmUudmFsdWUgPSB0aGlzLmVzdGVOb2RvLm5vbWJyZTsKICAgICAgdGhpcy5lZGl0YW5kb05vbWJyZSA9IHRydWU7CiAgICB9LAogICAgZ3VhcmRhck51ZXZvTm9tYnJlKCkgewogICAgICB2YXIgbnVldm9Ob21icmUgPSB0aGlzLiRyZWZzLmlucHV0TnVldm9Ob21icmUudmFsdWUudHJpbSgpOwogICAgICBpZiAobnVldm9Ob21icmUgPT0gdGhpcy5lc3RlTm9kby5ub21icmUpIHsKICAgICAgICB0aGlzLmVkaXRhbmRvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAobnVldm9Ob21icmUubGVuZ3RoIDwgMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoY2hhclByb2hpYmlkb3NOb21icmVDb3NhLnRlc3QobnVldm9Ob21icmUpKSB7CiAgICAgICAgY29uc29sZS5sb2coYENhcmFjdGVyZXMgaWxlZ2FsZXNgKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coYGd1YXJkYW5kbyBudWV2byBub21icmVgKTsKICAgICAgdGhpcy5lbnZpYW5kb051ZXZvTm9tYnJlID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICBtdXRhdGlvbiAoJGlkTm9kbzogSUQhLCAkbnVldm9Ob21icmU6IFN0cmluZyEpIHsKICAgICAgICAgICAgICBlZGl0YXJOb21icmVOb2RvKGlkTm9kbzogJGlkTm9kbywgbnVldm9Ob21icmU6ICRudWV2b05vbWJyZSkgewogICAgICAgICAgICAgICAgbW9kaWZpY2Fkb3MgewogICAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgICBub21icmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWROb2RvOiB0aGlzLmVzdGVOb2RvLmlkLAogICAgICAgICAgICBudWV2b05vbWJyZTogbnVldm9Ob21icmUsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBmaW4gZGUgbGEgbXV0YWNpb24uIERhdGE6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9IGApOwogICAgICAgICAgdGhpcy5lbnZpYW5kb051ZXZvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmVkaXRhbmRvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvTnVldm9Ob21icmUgPSBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvci4gRSA6JHtlcnJvcn1gKTsKICAgICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVFZGl0YW5kb0Rlc2NyaXBjaW9uKCkgewogICAgICBpZiAoCiAgICAgICAgIXRoaXMudXN1YXJpb0V4cGVydG8gJiYKICAgICAgICAhdGhpcy51c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yICYmCiAgICAgICAgIXRoaXMudXN1YXJpb0FkbWluaXN0cmFkb3JBdGxhcwogICAgICApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kcmVmcy5pbnB1dE51ZXZvRGVzY3JpcGNpb24uc3R5bGUuaGVpZ2h0ID0KICAgICAgICB0aGlzLiRyZWZzLmRlc2NyaXBjaW9uLm9mZnNldEhlaWdodCArICJweCI7CiAgICAgIHRoaXMuZWRpdGFuZG9EZXNjcmlwY2lvbiA9ICF0aGlzLmVkaXRhbmRvRGVzY3JpcGNpb247CiAgICAgIHRoaXMubnVldm9EZXNjcmlwY2lvbiA9IHRoaXMuZXN0ZU5vZG8uZGVzY3JpcGNpb247CgogICAgICBpZiAodGhpcy5lZGl0YW5kb0Rlc2NyaXBjaW9uKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy4kcmVmcy5pbnB1dE51ZXZvRGVzY3JpcGNpb24uZm9jdXMoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGd1YXJkYXJOdWV2b0Rlc2NyaXBjaW9uKCkgeyAgICAgIAogICAgICB2YXIgbnVldm9EZXNjcmlwY2lvbj10aGlzLiRyZWZzLmlucHV0TnVldm9EZXNjcmlwY2lvbi52YWx1ZTsKICAgICAgaWYgKG51ZXZvRGVzY3JpcGNpb24gPT0gdGhpcy5lc3RlTm9kby5kZXNjcmlwY2lvbikgewogICAgICAgIHRoaXMuZWRpdGFuZG9EZXNjcmlwY2lvbiA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhgZ3VhcmRhbmRvIG51ZXZvIGRlc2NyaXBjaW9uYCk7CiAgICAgIHRoaXMuZW52aWFuZG9OdWV2b0Rlc2NyaXBjaW9uID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICBtdXRhdGlvbiAoCiAgICAgICAgICAgICAgJGlkTm9kbzogSUQhCiAgICAgICAgICAgICAgJG51ZXZvRGVzY3JpcGNpb246IFN0cmluZyEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgZWRpdGFyRGVzY3JpcGNpb25Ob2RvQ29ub2NpbWllbnRvKAogICAgICAgICAgICAgICAgaWROb2RvOiAkaWROb2RvCiAgICAgICAgICAgICAgICBudWV2b0Rlc2NyaXBjaW9uOiAkbnVldm9EZXNjcmlwY2lvbgogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkTm9kbzogdGhpcy5lc3RlTm9kby5pZCwKICAgICAgICAgICAgbnVldm9EZXNjcmlwY2lvbjogbnVldm9EZXNjcmlwY2lvbiwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvTnVldm9EZXNjcmlwY2lvbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy5lZGl0YW5kb0Rlc2NyaXBjaW9uID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvTnVldm9EZXNjcmlwY2lvbiA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yLiBFIDoke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzZWNjaW9uU2VsZWNjaW9uYWRhKCkgewogICAgICBpZiAoIXRoaXMubW9zdHJhbmRvU2VjY2lvbikgcmV0dXJuIG51bGw7CiAgICAgIHJldHVybiB0aGlzLmVzdGVOb2RvLnNlY2Npb25lcy5maW5kKAogICAgICAgIChzKSA9PiBzLmlkID09PSB0aGlzLm1vc3RyYW5kb1NlY2Npb24KICAgICAgKTsKICAgIH0sCiAgICB1c3VhcmlvRXhwZXJ0bzogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMuZXN0ZU5vZG8uZXhwZXJ0b3MgfHwgIXRoaXMudXN1YXJpb0xvZ2VhZG8pIHJldHVybiBmYWxzZTsKCiAgICAgIGlmICh0aGlzLmVzdGVOb2RvLmV4cGVydG9zLmluY2x1ZGVzKHRoaXMudXN1YXJpby5pZCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgdXN1YXJpb0FkbWluaXN0cmFkb3JBdGxhczogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLnVzdWFyaW8ucGVybWlzb3MpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzdWFyaW8ucGVybWlzb3MuaW5jbHVkZXMoImF0bGFzQWRtaW5zdHJhZG9yIikKICAgICAgICA/IHRydWUKICAgICAgICA6IGZhbHNlOwogICAgfSwKICAgIGluZm9Bc1BhcmVudCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogdGhpcy5lc3RlTm9kby5pZCwKICAgICAgICB0aXBvOiAibm9kb0Nvbm9jaW1pZW50byIsCiAgICAgICAgbm9tYnJlOiB0aGlzLmVzdGVOb2RvLm5vbWJyZSwKICAgICAgfTsKICAgIH0sCiAgfSwKICAKfTsK"},{"version":3,"sources":["VisorNodoConocimiento.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyPA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"VisorNodoConocimiento.vue","sourceRoot":"src/components/visorNodoConocimiento","sourcesContent":["<template>\n  <div class=\"visorNodoConocimiento\">\n    <loading texto=\"\" v-show=\"$apollo.queries.esteNodo.loading\" />\n    <div id=\"zonaTitulo\" v-show=\"!$apollo.queries.esteNodo.loading\">\n      <div id=\"iconoNodo\">\n        <img src=\"@/assets/iconos/lightbulb.svg\" alt=\"Idea\" />\n      </div>\n      <div id=\"zonaNombre\">\n        <div id=\"nombre\" v-show=\"!editandoNombre\" @click=\"iniciarEdicionNombre\">\n          {{ esteNodo.nombre }}\n        </div>\n        <input\n          @keypress.enter.prevent=\"guardarNuevoNombre\"\n          ref=\"inputNuevoNombre\"\n          style=\"width: 250px\"\n          @blur=\"guardarNuevoNombre\"\n          v-show=\"editandoNombre\"\n          type=\"text\"\n          class=\"inputNombreCosa\"\n          id=\"inputNuevoNombre\"\n        />\n      </div>\n    </div>\n\n    <div\n      id=\"zonaSelectoresContenido\"\n      v-show=\"!$apollo.queries.esteNodo.loading\"\n    >\n      <div\n        class=\"boton selectorContenido selector\"\n        :class=\"{ activo: mostrandoContenido === 'estudiar' }\"\n        :title=\"mostrandoContenido != 'estudiar' ? 'Mostrar contenido' : ''\"\n        @click=\"mostrandoContenido = 'estudiar'\"\n      >\n        <img src=\"@/assets/iconos/readme.svg\" alt=\"Readme\" />\n      </div>\n      <div\n        class=\"boton selectorContenido selector\"\n        :class=\"{ activo: mostrandoContenido === 'expertos' }\"\n        :title=\"mostrandoContenido != 'expertos' ? 'Mostrar expertos' : ''\"\n        @click=\"mostrandoContenido = 'expertos'\"\n      >\n        <img src=\"@/assets/iconos/teacher.svg\" alt=\"Teacher\" />\n      </div>\n      <div\n        class=\"boton selectorContenido selector\"\n        :class=\"{ activo: mostrandoContenido === 'foros' }\"\n        :title=\"mostrandoContenido != 'foros' ? 'Mostrar foros' : ''\"\n        @click=\"mostrandoContenido = 'foros'\"\n      >\n        <img src=\"@/assets/iconos/comments.svg\" alt=\"Readme\" />\n      </div>\n    </div>\n\n    <div id=\"zonaContenidos\" v-show=\"!$apollo.queries.esteNodo.loading\">\n      <div id=\"zonaSecciones\" v-show=\"mostrandoContenido === 'estudiar'\">\n        <div id=\"zonaTituloSeccion\" v-show=\"!mostrandoMenuSecciones\">\n          <div\n            id=\"nombreSeccionSeleccionada\"\n            @click=\"mostrandoMenuSecciones = true\"\n          >\n            {{\n              seccionSeleccionada ? seccionSeleccionada.nombre : \"Descripción\"\n            }}\n          </div>\n        </div>\n\n        <div\n          id=\"contenedorSelectoresSeccion\"\n          v-show=\"mostrandoMenuSecciones\"\n          @click=\"mostrandoMenuSecciones = false\"\n        >\n          <div class=\"contenedorControles\">\n            <div\n              class=\"boton\"\n              title=\"Crear nueva sección\"\n              v-if=\"usuarioExperto\"\n              v-show=\"!creandoNuevaSeccion\"\n              @click.stop=\"crearNuevaSeccion\"\n            >\n              <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Plus\" />\n            </div>\n            <loading text=\"\" v-show=\"creandoNuevaSeccion\" />\n          </div>\n          <div class=\"selectorSeccion\" @click=\"mostrandoSeccion = null\">\n            Descripcion\n          </div>\n          <div\n            class=\"selectorSeccion\"\n            @click=\"mostrandoSeccion = seccion.id\"\n            v-for=\"seccion of esteNodo.secciones\"\n            :key=\"seccion.id\"\n          >\n            <div class=\"nombreSeccionSelector\">\n              {{ seccion.nombre }}\n            </div>\n            <div\n              class=\"boton\"\n              title=\"Eliminar\"\n              v-show=\"usuarioExperto || usuarioSuperadministrador\"\n              @click.stop=\"eliminarSeccion(seccion.id)\"\n            >\n              <img src=\"@/assets/iconos/trash.svg\" alt=\"Eliminar\" />\n            </div>\n          </div>\n        </div>\n        <div\n          id=\"zonaDescripcion\"\n          v-show=\"!seccionSeleccionada && !mostrandoMenuSecciones\"\n        >\n          <div\n            id=\"descripcion\"\n            class=\"contenidoTexto\"\n            ref=\"descripcion\"\n            v-show=\"!editandoDescripcion\"\n            @click=\"toggleEditandoDescripcion\"\n          >\n            {{ esteNodo.descripcion }}\n          </div>\n\n          <textarea\n            id=\"inputNuevoDescripcion\"\n            ref=\"inputNuevoDescripcion\"\n            class=\"inputTextoNodo\"\n            v-model=\"nuevoDescripcion\"\n            v-show=\"editandoDescripcion\"\n          />\n          <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\n            <img\n              src=\"@/assets/iconos/save.svg\"\n              class=\"botonGuardarCampo\"\n              alt=\"Guardar\"\n              title=\"Guardar descripción\"\n              id=\"botonGuardarDescripcion\"\n              @click=\"guardarNuevoDescripcion\"\n            />\n            <img\n              src=\"@/assets/iconos/equis.svg\"\n              class=\"botonGuardarCampo\"\n              alt=\"Cancelar\"\n              title=\"Cancelar edición\"\n              id=\"botonCancelarEdicionDescripcion\"\n              @click=\"editandoDescripcion = false\"\n            />\n          </div>\n        </div>\n        <seccion-nodo-conocimiento\n          :key=\"seccionSeleccionada.id\"\n          v-show=\"seccionSeleccionada && !mostrandoMenuSecciones\"\n          v-if=\"esteNodo.id && seccionSeleccionada\"\n          :idNodo=\"esteNodo.id\"\n          :estaSeccion=\"seccionSeleccionada\"\n          :usuarioExperto=\"usuarioExperto\"\n          @subiArchivo=\"addArchivoSeccionCache($event, seccionSeleccionada.id)\"\n          @archivoEliminado=\"\n            deleteArchivoSeccionCache($event, seccionSeleccionada.id)\n          \"\n          @tengoNuevoPrimario=\"\n            setPrimarioSeccionCache($event, seccionSeleccionada.id)\n          \"\n        />\n      </div>\n\n      <div id=\"zonaExpertos\" v-show=\"mostrandoContenido === 'expertos'\">\n        <div class=\"contenedorControles\">\n          <div\n            class=\"boton\"\n            v-show=\"\n              !enviandoQueryExpertos &&\n              !idExpertoSeleccionado &&\n              !usuarioExperto\n            \"\n            :title=\"\n              esteNodo.expertos.length < 1\n                ? 'Asumir'\n                : 'Quiero aportar como experto en este tema'\n            \"\n            @click=\"intentarEntrarExpertos(usuario.id)\"\n          >\n            <img src=\"@/assets/iconos/mas.svg\" alt=\"Mas\" />\n          </div>\n          <div\n            class=\"boton\"\n            v-show=\"\n              !enviandoQueryExpertos &&\n              idExpertoSeleccionado &&\n              ((esteNodo.posiblesExpertos.includes(idExpertoSeleccionado) &&\n                usuarioExperto) ||\n                usuarioSuperadministrador ||\n                usuarioAdministradorAtlas)\n            \"\n            title=\"Aceptar como experto\"\n            @click=\"intentarEntrarExpertos(idExpertoSeleccionado)\"\n          >\n            <img src=\"@/assets/iconos/handshake.svg\" alt=\"Handshake\" />\n          </div>\n          <div\n            class=\"boton\"\n            v-show=\"\n              !enviandoQueryExpertos &&\n              !idExpertoSeleccionado &&\n              (usuarioExperto ||\n                esteNodo.posiblesExpertos.includes(idExpertoSeleccionado))\n            \"\n            title=\"abandonar\"\n            @click=\"abandonarListaExpertos(usuario.id)\"\n          >\n            <img src=\"@/assets/iconos/minus.svg\" alt=\"Menos\" />\n          </div>\n          <loading texto=\"\" v-show=\"enviandoQueryExpertos\" />\n        </div>\n        <div id=\"listaExpertos\" @click.self=\"idExpertoSeleccionado = null\">\n          <icono-persona-autonomo\n            texto=\"\"\n            v-for=\"idExperto of esteNodo.expertos.concat(\n              esteNodo.posiblesExpertos\n            )\"\n            :seleccionado=\"idExpertoSeleccionado === idExperto\"\n            :key=\"idExperto\"\n            factorEscala=\"0.8\"\n            :style=\"{\n              opacity: esteNodo.posiblesExpertos.includes(idExperto) ? 0.5 : 1,\n            }\"\n            :idPersona=\"idExperto\"\n            @click.native=\"idExpertoSeleccionado = idExperto\"\n          />\n        </div>\n      </div>\n\n      <div\n        id=\"zonaForos\"\n        ref=\"zonaForos\"\n        v-show=\"mostrandoContenido == 'foros'\"\n      >\n        <div class=\"nombreForo\" v-if=\"usuarioExperto\">Foro expertos</div>\n        <foro\n          :parent=\"infoAsParent\"\n          v-if=\"usuarioExperto\"\n          :idForo=\"esteNodo.idForoExpertos\"\n        />\n        <br v-if=\"usuarioExperto\" />\n        <div class=\"nombreForo\">Foro público</div>\n        <foro :parent=\"infoAsParent\" :idForo=\"esteNodo.idForoPublico\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport SeccionNodoConocimiento from \"./SeccionNodoConocimiento.vue\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport IconoPersonaAutonomo from \"../usuario/IconoPersonaAutonomo.vue\";\nimport Foro from \"../Foro.vue\";\nimport { charProhibidosNombreCosa } from \"../configs\";\n\nconst QUERY_NODO = gql`\n  query ($idNodo: ID!) {\n    nodo(idNodo: $idNodo) {\n      nombre\n      id\n      descripcion\n      clases {\n        id\n        nombre\n        idExperto\n        descripcion\n        interesados\n      }\n      keywords\n      expertos\n      posiblesExpertos\n      clases {\n        id\n      }\n      idForoPublico\n      idForoExpertos\n      secciones {\n        id\n        nombre\n        modo\n        enlace\n        archivos {\n          nombre\n          primario\n        }\n        tipoPrimario\n      }\n      vinculos {\n        idRef\n        rol\n        tipo\n      }\n    }\n  }\n`;\n\nexport default {\n  components: { SeccionNodoConocimiento, Loading, IconoPersonaAutonomo, Foro },\n  name: \"VisorNodoConocimiento\",\n  apollo: {\n    esteNodo: {\n      query: QUERY_NODO,\n      variables() {\n        return {\n          idNodo: this.$route.params.idNodo,\n        };\n      },\n      update({ nodo }) {\n        document.title=nodo.nombre;\n        return nodo;\n      },\n    },\n  },\n  data() {\n    return {\n      esteNodo: {\n        expertos: [],\n        posiblesExpertos: [],\n      },\n      mostrandoContenido: \"estudiar\",\n      mostrandoSeccion: null,\n      mostrandoMenuSecciones: false,\n      creandoNuevaSeccion: false,\n      idExpertoSeleccionado: null,\n      enviandoQueryExpertos: false,\n\n      editandoNombre: false,\n      enviandoNuevoNombre: false,\n\n      nuevoDescripcion: null,\n      editandoDescripcion: false,\n    };\n  },\n  methods: {\n    deleteArchivoSeccionCache(nombreArchivo, idSeccion) {\n      const store = this.$apollo.provider.defaultClient;\n\n      const cache = store.readQuery({\n        query: QUERY_NODO,\n        variables: {\n          idNodo: this.esteNodo.id,\n        },\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      var laSeccion = nuevoCache.nodo.secciones.find((s) => s.id == idSeccion);\n      if (!laSeccion) {\n        console.log(`Seccion no encontrada`);\n        return;\n      }\n\n      var indexA = laSeccion.archivos.findIndex(\n        (a) => a.nombre === nombreArchivo\n      );\n      if (indexA > -1) {\n        laSeccion.archivos.splice(indexA, 1);\n        store.writeQuery({\n          query: QUERY_NODO,\n          variables: {\n            idNodo: this.esteNodo.id,\n          },\n          data: nuevoCache,\n        });\n      } else {\n        console.log(`Archivo no encontrado`);\n      }\n    },\n    addArchivoSeccionCache(infoArchivo, idSeccion) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_NODO,\n        variables: {\n          idNodo: this.esteNodo.id,\n        },\n      });\n\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n      var laSeccion = nuevoCache.nodo.secciones.find((s) => s.id == idSeccion);\n      laSeccion.archivos.push(infoArchivo);\n      store.writeQuery({\n        query: QUERY_NODO,\n        variables: {\n          idNodo: this.esteNodo.id,\n        },\n        data: nuevoCache,\n      });\n    },\n    eliminarSeccion(idSeccion) {\n      if (!this.usuarioExperto && !this.usuarioSuperadministrador) {\n        return;\n      }\n      if (\n        !confirm(\n          \"Eliminando esta sección con todos sus contenidos. ¿Continuar?\"\n        )\n      ) {\n        return;\n      }\n      console.log(`Enviando mutación de eliminar seccion ${idSeccion}`);\n      const dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!, $idSeccion: ID!) {\n              eliminarSeccionNodoConocimiento(\n                idNodo: $idNodo\n                idSeccion: $idSeccion\n              )\n            }\n          `,\n          variables: {\n            idNodo: this.esteNodo.id,\n            idSeccion,\n          },\n        })\n        .then(({ data: { eliminarSeccionNodoConocimiento } }) => {\n          console.log(`resultado: ${eliminarSeccionNodoConocimiento}`);\n          if (eliminarSeccionNodoConocimiento) {\n            let store = dis.$apollo.provider.defaultClient;\n            const cache = store.readQuery({\n              query: QUERY_NODO,\n              variables: { idNodo: dis.esteNodo.id },\n            });\n            var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n            const indexS = nuevoCache.nodo.secciones.findIndex(\n              (s) => s.id == idSeccion\n            );\n            if (indexS > -1) {\n              nuevoCache.nodo.secciones.splice(indexS, 1);\n              store.writeQuery({\n                query: QUERY_NODO,\n                variables: {\n                  idNodo: dis.esteNodo.id,\n                },\n                data: nuevoCache,\n              });\n            } else {\n              console.log(`Seccion no encontrada`);\n            }\n          }\n        })\n        .catch((error) => {\n          console.log(`Error: E: ${error}`);\n        });\n    },\n    crearNuevaSeccion() {\n      if (!this.usuarioExperto && !this.usuarioSuperadministrador) {\n        return;\n      }\n      this.creandoNuevaSeccion = true;\n      const dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!) {\n              crearNuevaSeccionNodoConocimiento(idNodo: $idNodo) {\n                id\n                nombre\n                modo\n                archivos {\n                  nombre\n                  primario\n                }\n                tipoPrimario\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.esteNodo.id,\n          },\n        })\n        .then(({ data: { crearNuevaSeccionNodoConocimiento } }) => {\n          let store = dis.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_NODO,\n            variables: { idNodo: dis.esteNodo.id },\n          });\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          nuevoCache.nodo.secciones.push(crearNuevaSeccionNodoConocimiento);\n\n          store.writeQuery({\n            query: QUERY_NODO,\n            variables: { idNodo: dis.esteNodo.id },\n            data: nuevoCache,\n          });\n\n          this.creandoNuevaSeccion = false;\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.creandoNuevaSeccion = false;\n        });\n    },\n    setPrimarioSeccionCache(nombreNuevoPrimario, idSeccion) {\n      const store = this.$apollo.provider.defaultClient;\n\n      const cache = store.readQuery({\n        query: QUERY_NODO,\n        variables: {\n          idNodo: this.esteNodo.id,\n        },\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      var laSeccion = nuevoCache.nodo.secciones.find((s) => s.id == idSeccion);\n      if (!laSeccion) {\n        console.log(`Seccion no encontrada`);\n        return;\n      }\n\n      var indexA = laSeccion.archivos.findIndex(\n        (a) => a.nombre === nombreNuevoPrimario\n      );\n\n      laSeccion.archivos.forEach((a) => (a.primario = false));\n      laSeccion.archivos[indexA].primario = true;\n\n      store.writeQuery({\n        query: QUERY_NODO,\n        variables: {\n          idNodo: this.esteNodo.id,\n        },\n        data: nuevoCache,\n      });\n    },\n    intentarEntrarExpertos(idCandidato) {\n      console.log(\n        `enviando id ${this.$store.state.usuario.id} para entrar a expertos del nodo con id ${this.esteNodo.id}`\n      );\n      this.enviandoQueryExpertos = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!, $idUsuario: ID!) {\n              addExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {\n                id\n                expertos\n                posiblesExpertos\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.esteNodo.id,\n            idUsuario: idCandidato,\n          },\n        })\n        .then(() => {\n          this.enviandoQueryExpertos = false;\n        })\n        .catch((error) => {\n          this.enviandoQueryExpertos = false;\n          console.log(\"error: \" + error);\n        });\n    },\n    abandonarListaExpertos(idCandidato) {\n      console.log(`Abandonando la responsabilidad en este nodo`);\n      if (\n        !this.usuarioExperto &&\n        !this.esteNodo.posiblesExpertos.includes(this.usuario.id)\n      ) {\n        return;\n      }\n      this.enviandoQueryExpertos = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!, $idUsuario: ID!) {\n              removeExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {\n                id\n                expertos\n                posiblesExpertos\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.esteNodo.id,\n            idUsuario: idCandidato,\n          },\n        })\n        .then(() => {\n          this.enviandoQueryExpertos = false;\n        })\n        .catch((error) => {\n          this.enviandoQueryExpertos = false;\n          console.log(\"error: \" + error);\n        });\n    },\n    iniciarEdicionNombre() {\n      if (\n        !this.usuarioExperto &&\n        !this.usuarioAdministradorAtlas &&\n        !this.usuarioSuperadministrador\n      ) {\n        return;\n      }\n      this.$refs.inputNuevoNombre.value = this.esteNodo.nombre;\n      this.editandoNombre = true;\n    },\n    guardarNuevoNombre() {\n      var nuevoNombre = this.$refs.inputNuevoNombre.value.trim();\n      if (nuevoNombre == this.esteNodo.nombre) {\n        this.editandoNombre = false;\n        return;\n      }\n\n      if (nuevoNombre.length < 1) {\n        return;\n      }\n      if (charProhibidosNombreCosa.test(nuevoNombre)) {\n        console.log(`Caracteres ilegales`);\n        return;\n      }\n      console.log(`guardando nuevo nombre`);\n      this.enviandoNuevoNombre = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!, $nuevoNombre: String!) {\n              editarNombreNodo(idNodo: $idNodo, nuevoNombre: $nuevoNombre) {\n                modificados {\n                  id\n                  nombre\n                }\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.esteNodo.id,\n            nuevoNombre: nuevoNombre,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n          this.enviandoNuevoNombre = false;\n          this.editandoNombre = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoNombre = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    toggleEditandoDescripcion() {\n      if (\n        !this.usuarioExperto &&\n        !this.usuarioSuperadministrador &&\n        !this.usuarioAdministradorAtlas\n      ) {\n        return;\n      }\n      this.$refs.inputNuevoDescripcion.style.height =\n        this.$refs.descripcion.offsetHeight + \"px\";\n      this.editandoDescripcion = !this.editandoDescripcion;\n      this.nuevoDescripcion = this.esteNodo.descripcion;\n\n      if (this.editandoDescripcion) {\n        this.$nextTick(() => {\n          this.$refs.inputNuevoDescripcion.focus();\n        });\n      }\n    },\n    guardarNuevoDescripcion() {      \n      var nuevoDescripcion=this.$refs.inputNuevoDescripcion.value;\n      if (nuevoDescripcion == this.esteNodo.descripcion) {\n        this.editandoDescripcion = false;\n        return;\n      }\n      console.log(`guardando nuevo descripcion`);\n      this.enviandoNuevoDescripcion = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation (\n              $idNodo: ID!\n              $nuevoDescripcion: String!\n            ) {\n              editarDescripcionNodoConocimiento(\n                idNodo: $idNodo\n                nuevoDescripcion: $nuevoDescripcion\n              ) {\n                id\n                descripcion\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.esteNodo.id,\n            nuevoDescripcion: nuevoDescripcion,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoDescripcion = false;\n          this.editandoDescripcion = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoDescripcion = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n  },\n  computed: {\n    seccionSeleccionada() {\n      if (!this.mostrandoSeccion) return null;\n      return this.esteNodo.secciones.find(\n        (s) => s.id === this.mostrandoSeccion\n      );\n    },\n    usuarioExperto: function () {\n      if (!this.esteNodo.expertos || !this.usuarioLogeado) return false;\n\n      if (this.esteNodo.expertos.includes(this.usuario.id)) {\n        return true;\n      }\n      return false;\n    },\n    usuarioAdministradorAtlas: function () {\n      if (!this.$store.state.usuario.permisos) return false;\n      return this.$store.state.usuario.permisos.includes(\"atlasAdminstrador\")\n        ? true\n        : false;\n    },\n    infoAsParent() {\n      return {\n        id: this.esteNodo.id,\n        tipo: \"nodoConocimiento\",\n        nombre: this.esteNodo.nombre,\n      };\n    },\n  },\n  \n};\n</script>\n\n<style scoped>\n.visorNodoConocimiento {\n  font-family: Salsa, cursive;\n  \n}\n#zonaTitulo {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 25px 0px;\n  gap: 10px;\n  width: min(400px, 90%);\n  margin: 10px auto;\n  text-align: center;\n}\n\n#iconoNodo {\n  width: 20px;\n  height: 20px;\n}\n#iconoNodo img {\n  height: 100%;\n}\n\n#zonaSelectoresContenido {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#zonaSelectoresContenido .boton {\n  height: 35px;\n  width: 35px;\n  margin: 0px 20px;\n  padding: 5px;\n}\n\n#zonaTituloSeccion {\n  padding: 25px 0px;\n}\n#nombreSeccionSeleccionada {\n  text-align: center;\n  border-bottom: 2px solid var(--paletaMain);\n  width: min(300px, 50vw);\n  margin: 0px auto;\n}\n#contenedorSelectoresSeccion {\n  width: min(400px, 90vw);\n  margin: 20px auto;\n  background-color: var(--paletaMain);\n  border-radius: 10px;\n  position: relative;\n}\n.selectorSeccion {\n  padding: 15px 0px;\n  text-align: center;\n  font-size: 18px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n.nombreSeccionSelector {\n  margin: 0px auto;\n  text-align: center;\n  width: 80%;\n  margin-left: 10%;\n}\n.selectorSeccion .boton {\n  margin-left: auto;\n  margin-right: 10px;\n}\n\n#descripcion {\n  background-color: var(--paletaMain);\n  border-radius: 10px;\n  padding: 20px;\n  width: min(300px, 90vw);\n  margin: 0px auto;\n}\n\n#zonaExpertos {\n  width: min(800px, 90vw);\n  margin: 0px auto;\n}\n#listaExpertos {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  max-height: 80vh;\n  overflow-y: scroll;\n}\n</style>\n\n\n"]}]}