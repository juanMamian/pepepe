{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/Espacio.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/Espacio.vue","mtime":1674484905018},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgeyBjaGFyUHJvaGliaWRvc05vbWJyZUNvc2EsIGNoYXJQcm9oaWJpZG9zVGV4dG8gfSBmcm9tICIuL2NvbmZpZ3MiOwppbXBvcnQgTG9hZGluZyBmcm9tICIuL3V0aWxpZGFkZXMvTG9hZGluZy52dWUiOwppbXBvcnQgSWNvbm9QZXJzb25hQXV0b25vbW8gZnJvbSAiLi91c3VhcmlvL0ljb25vUGVyc29uYUF1dG9ub21vLnZ1ZSI7CmltcG9ydCBDYWxlbmRhcmlvIGZyb20gIi4vdXRpbGlkYWRlcy9DYWxlbmRhcmlvLnZ1ZSI7CmltcG9ydCBMaXN0YUV2ZW50b3NFc3BhY2lvIGZyb20gIi4vTGlzdGFFdmVudG9zRXNwYWNpby52dWUiOwppbXBvcnQgeyBmcmFnbWVudG9FdmVudG9QdWJsaWNvIH0gZnJvbSAiLi91dGlsaWRhZGVzL2ZyYWdzQ2FsZW5kYXJpbyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTG9hZGluZywKICAgIEljb25vUGVyc29uYUF1dG9ub21vLAogICAgQ2FsZW5kYXJpbywKICAgIExpc3RhRXZlbnRvc0VzcGFjaW8sCiAgfSwKICBuYW1lOiAiRXNwYWNpbyIsCiAgcHJvcHM6IHsKICAgIGVzdGVFc3BhY2lvOiBPYmplY3QsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWJpZXJ0bzogZmFsc2UsCiAgICAgIG1vc3RyYW5kbzogbnVsbCwKCiAgICAgIG51ZXZvTm9tYnJlOiAiTnVldm8gbm9tYnJlIiwKICAgICAgZWRpdGFuZG9Ob21icmU6IGZhbHNlLAogICAgICBlbnZpYW5kb051ZXZvTm9tYnJlOiBmYWxzZSwKCiAgICAgIG51ZXZvRGVzY3JpcGNpb246ICJOdWV2YSBkZXNjcmlwY2lvbiIsCiAgICAgIGVkaXRhbmRvRGVzY3JpcGNpb246IGZhbHNlLAogICAgICBlbnZpYW5kb051ZXZvRGVzY3JpcGNpb246IGZhbHNlLAoKICAgICAgbW9zdHJhbmRvQ3VhZHJvQ3JlYXJFdmVudG9QdWJsaWNvOiBmYWxzZSwKICAgICAgbm9tYnJlTnVldm9FdmVudG9QdWJsaWNvOiAnRXNwYWNpbyBkZSAnK3RoaXMuZXN0ZUVzcGFjaW8ubm9tYnJlLAogICAgICBkYXRlSW5pY2lvTnVldm9FdmVudG9QdWJsaWNvOiBudWxsLAogICAgICBkYXRlRmluYWxOdWV2b0V2ZW50b1B1YmxpY286IG51bGwsCiAgICAgIGhvcmFyaW9JbmljaW9OdWV2b0V2ZW50b1B1YmxpY286bnVsbCwKICAgICAgaG9yYXJpb0ZpbmFsTnVldm9FdmVudG9QdWJsaWNvOm51bGwsCiAgICAgIGR1cmFjaW9uTnVldm9FdmVudG9QdWJsaWNvOjYwLAogICAgICBjcmVhbmRvRXZlbnRvUHVibGljbzogZmFsc2UsCiAgICAgIGVudmlhbmRvTnVldm9FdmVudG9QdWJsaWNvOmZhbHNlLAoKICAgICAgaW50cm9kdWNpZW5kb0V2ZW50b1B1YmxpY29DYWxlbmRhcmlvOmZhbHNlLAoKICAgICAgc2V0dGluZ0VzdGFkb1BhcmFDaGlxdWlzOmZhbHNlLAoKICAgICAgZWxpbWluYW5kb3NlOiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVFc3RhZG9QYXJhQ2hpcXVpcygpewogICAgICBpZighdGhpcy51c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yICYmICF0aGlzLmFkbWluaXN0cmFkb3IpewogICAgICAgIGNvbnNvbGUubG9nKCJObyBhdXRvcml6YWRvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnNldHRpbmdFc3RhZG9QYXJhQ2hpcXVpcz10cnVlOwogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgbXV0YXRpb24oJGlkRXNwYWNpbzogSUQhLCAkbnVldm9Fc3RhZG86Qm9vbGVhbiEpewogICAgICAgICAgICBzZXRFc3BhY2lvUGFyYUNoaXF1aXMoaWRFc3BhY2lvOiAkaWRFc3BhY2lvLCBudWV2b0VzdGFkbzogJG51ZXZvRXN0YWRvKXsKICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgcGFyYUNoaXF1aXMgCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6ewogICAgICAgICAgICBpZEVzcGFjaW86IHRoaXMuZXN0ZUVzcGFjaW8uaWQsCiAgICAgICAgICAgIG51ZXZvRXN0YWRvOiF0aGlzLmVzdGVFc3BhY2lvLnBhcmFDaGlxdWlzLCAgCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbigoKT0+ewogICAgICAgICAgdGhpcy5zZXR0aW5nRXN0YWRvUGFyYUNoaXF1aXM9ZmFsc2U7ICAgICAgICAgICAgCiAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+ewogICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yOiAnKyBlcnJvcik7CiAgICAgICAgICB0aGlzLnNldHRpbmdFc3RhZG9QYXJhQ2hpcXVpcz1mYWxzZTsKICAgICAgICB9KQogICAgfSwKICAgIGd1YXJkYXJOdWV2b05vbWJyZSgpIHsKICAgICAgdGhpcy5udWV2b05vbWJyZSA9IHRoaXMuJHJlZnMuaW5wdXROdWV2b05vbWJyZS52YWx1ZTsKCiAgICAgIGlmICh0aGlzLm51ZXZvTm9tYnJlSWxlZ2FsKSB7CiAgICAgICAgY29uc29sZS5sb2coYE5vIGVudmlhZG9gKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMubnVldm9Ob21icmUgPT0gdGhpcy5lc3RlRXNwYWNpby5ub21icmUpIHsKICAgICAgICB0aGlzLmVkaXRhbmRvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKGBndWFyZGFuZG8gbnVldm8gbm9tYnJlYCk7CiAgICAgIHRoaXMuZW52aWFuZG9OdWV2b05vbWJyZSA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpZEVzcGFjaW86IElEISwgJG51ZXZvTm9tYnJlOiBTdHJpbmchKSB7CiAgICAgICAgICAgICAgZWRpdGFyTm9tYnJlRXNwYWNpbygKICAgICAgICAgICAgICAgIGlkRXNwYWNpbzogJGlkRXNwYWNpbwogICAgICAgICAgICAgICAgbnVldm9Ob21icmU6ICRudWV2b05vbWJyZQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIG5vbWJyZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZEVzcGFjaW86IHRoaXMuZXN0ZUVzcGFjaW8uaWQsCiAgICAgICAgICAgIG51ZXZvTm9tYnJlOiB0aGlzLm51ZXZvTm9tYnJlLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9OdWV2b05vbWJyZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy5lZGl0YW5kb05vbWJyZSA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb051ZXZvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IuIEUgOiR7ZXJyb3J9YCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZ3VhcmRhck51ZXZvRGVzY3JpcGNpb24oKSB7CiAgICAgIGlmICh0aGlzLm51ZXZvRGVzY3JpcGNpb25JbGVnYWwpIHsKICAgICAgICBjb25zb2xlLmxvZyhgTm8gZW52aWFkb2ApOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5udWV2b0Rlc2NyaXBjaW9uID09IHRoaXMuZXN0ZUVzcGFjaW8uZGVzY3JpcGNpb24pIHsKICAgICAgICB0aGlzLmVkaXRhbmRvRGVzY3JpcGNpb24gPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coYGd1YXJkYW5kbyBudWV2byBkZXNjcmlwY2lvbmApOwogICAgICB0aGlzLmVudmlhbmRvTnVldm9EZXNjcmlwY2lvbiA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpZEVzcGFjaW86IElEISwgJG51ZXZvRGVzY3JpcGNpb246IFN0cmluZyEpIHsKICAgICAgICAgICAgICBlZGl0YXJEZXNjcmlwY2lvbkVzcGFjaW8oCiAgICAgICAgICAgICAgICBpZEVzcGFjaW86ICRpZEVzcGFjaW8KICAgICAgICAgICAgICAgIG51ZXZvRGVzY3JpcGNpb246ICRudWV2b0Rlc2NyaXBjaW9uCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgZGVzY3JpcGNpb24KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRFc3BhY2lvOiB0aGlzLmVzdGVFc3BhY2lvLmlkLAogICAgICAgICAgICBudWV2b0Rlc2NyaXBjaW9uOiB0aGlzLm51ZXZvRGVzY3JpcGNpb24sCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb051ZXZvRGVzY3JpcGNpb24gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZWRpdGFuZG9EZXNjcmlwY2lvbiA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb051ZXZvRGVzY3JpcGNpb24gPSBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvci4gRSA6JHtlcnJvcn1gKTsKICAgICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVFZGl0YW5kb0Rlc2NyaXBjaW9uKCkgewogICAgICBpZiAoIXRoaXMuYWRtaW5pc3RyYWRvcikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRyZWZzLmlucHV0TnVldm9EZXNjcmlwY2lvbi5zdHlsZS5oZWlnaHQgPQogICAgICAgIHRoaXMuJHJlZnMuZGVzY3JpcGNpb24ub2Zmc2V0SGVpZ2h0ICsgInB4IjsKICAgICAgdGhpcy5lZGl0YW5kb0Rlc2NyaXBjaW9uID0gIXRoaXMuZWRpdGFuZG9EZXNjcmlwY2lvbjsKICAgICAgdGhpcy5udWV2b0Rlc2NyaXBjaW9uID0gdGhpcy5lc3RlRXNwYWNpby5kZXNjcmlwY2lvbjsKCiAgICAgIGlmICh0aGlzLmVkaXRhbmRvRGVzY3JpcGNpb24pIHsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzLmlucHV0TnVldm9EZXNjcmlwY2lvbi5mb2N1cygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdG9nZ2xlRWRpdGFuZG9Ob21icmUoZSkgewogICAgICBpZiAodGhpcy5hZG1pbmlzdHJhZG9yKSB7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICAgICAgdGhpcy5lZGl0YW5kb05vbWJyZSA9IHRydWU7CiAgICAgICAgdGhpcy5udWV2b05vbWJyZSA9IHRoaXMuZXN0ZUVzcGFjaW8ubm9tYnJlOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnMuaW5wdXROdWV2b05vbWJyZS5mb2N1cygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAga2V5ZG93bklucHV0TnVldm9Ob21icmUoZSkgewogICAgICBpZiAoZS5rZXkgPT09ICJFc2NhcGUiKSB7CiAgICAgICAgdGhpcy5lZGl0YW5kb05vbWJyZT1mYWxzZTsKICAgICAgfQogICAgfSwKICAgIGluaWNpYXJDcmVhY2lvbkV2ZW50bygpIHsKICAgICAgdGhpcy5pbnRyb2R1Y2llbmRvRXZlbnRvUHVibGljb0NhbGVuZGFyaW8gPSB0cnVlOwogICAgfSwKICAgIGVsaW1pbmFyc2UoKSB7CiAgICAgIGlmICgKICAgICAgICAhY29uZmlybSgKICAgICAgICAgICLCv0NvbmZpcm1hciBsYSBlbGltaW5hY2nDs24gZGUgZXN0ZSBlc3BhY2lvPyAoRXN0YSBhY2Npw7NuIG5vIHB1ZWRlIGRlc2hhY2Vyc2UpIgogICAgICAgICkKICAgICAgKQogICAgICAgIHJldHVybjsKCiAgICAgIGlmICghdGhpcy5hZG1pbmlzdHJhZG9yICYmICF0aGlzLnVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5lbGltaW5hbmRvc2UgPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWRFc3BhY2lvOiBJRCEpIHsKICAgICAgICAgICAgICBlbGltaW5hckVzcGFjaW8oaWRFc3BhY2lvOiAkaWRFc3BhY2lvKQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkRXNwYWNpbzogdGhpcy5lc3RlRXNwYWNpby5pZCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJtZUVsaW1pbmUiKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTsKICAgICAgICB9KTsKICAgIH0sICAgICAgIAogICAgaW5pY2lhckN1YWRyb0NyZWFyRXZlbnRvUHVibGljbygpIHsKICAgICAgdGhpcy5ub21icmVOdWV2b0V2ZW50b1B1YmxpY289IkVzcGFjaW8gZGUgIit0aGlzLmVzdGVFc3BhY2lvLm5vbWJyZTsKICAgICAgdmFyIGRhdGVBY3R1YWwgPSBuZXcgRGF0ZSgpOwogICAgICBkYXRlQWN0dWFsLnNldEhvdXJzKDgpOwogICAgICBkYXRlQWN0dWFsLnNldE1pbnV0ZXMoMCk7CiAgICAgIGRhdGVBY3R1YWwuc2V0U2Vjb25kcygwKTsKICAgICAgZGF0ZUFjdHVhbC5zZXRNaWxsaXNlY29uZHMoMCk7CgogICAgICBkYXRlQWN0dWFsID0gbmV3IERhdGUoZGF0ZUFjdHVhbC5nZXRUaW1lKCkgKyA4NjQwMDAwMCk7CiAgICAgIC8vIGNvbnN0IG9mZnNldCA9IGRhdGVBY3R1YWwuZ2V0VGltZXpvbmVPZmZzZXQoKSAgICAKCiAgICAgIGNvbnN0IGRhdGVBY3R1YWxTdHJpbmcgPSBkYXRlQWN0dWFsLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsKICAgICAgY29uc3QgZGF0ZUFjdHVhbFBsdXNIb3VyID0gbmV3IERhdGUoZGF0ZUFjdHVhbC5nZXRUaW1lKCkgKyAzNjAwMDAwKTsKICAgICAgY29uc3QgZGF0ZUFjdHVhbFBsdXNIb3VyU3RyaW5nID0gZGF0ZUFjdHVhbFBsdXNIb3VyLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsgICAgICAKICAgICAgCgogICAgICB0aGlzLmRhdGVJbmljaW9OdWV2b0V2ZW50b1B1YmxpY289ZGF0ZUFjdHVhbFN0cmluZzsKICAgICAgdGhpcy5kYXRlRmluYWxOdWV2b0V2ZW50b1B1YmxpY289ZGF0ZUFjdHVhbFBsdXNIb3VyU3RyaW5nOwoKICAgICAgdGhpcy5ob3JhcmlvSW5pY2lvTnVldm9FdmVudG9QdWJsaWNvPScwODowMCc7CiAgICAgIHRoaXMuaG9yYXJpb0ZpbmFsTnVldm9FdmVudG9QdWJsaWNvPScwOTowMCc7CiAgICAgIHRoaXMubW9zdHJhbmRvQ3VhZHJvQ3JlYXJFdmVudG9QdWJsaWNvID0gdHJ1ZTsKICAgIH0sCiAgICBjcmVhckV2ZW50b1B1YmxpY28oKSB7CiAgICAgIGlmICghdGhpcy5hZG1pbmlzdHJhZG9yICYmICF0aGlzLnVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gICAgICAKICAgICAgY29uc29sZS5sb2coYERhdGUgc2F2ZWQ6ICR7dGhpcy5kYXRlSW5pY2lvTnVldm9FdmVudG9QdWJsaWNvfWApOwogICAgICB0aGlzLmR1cmFjaW9uTnVldm9FdmVudG9QdWJsaWNvPXRoaXMuJHJlZnMuaW5wdXREdXJhY2lvbk51ZXZvRXZlbnRvUHVibGljby52YWx1ZTsKICAgICAgdmFyIGRhdGVJbmljaW89bmV3IERhdGUodGhpcy5kYXRlSW5pY2lvTnVldm9FdmVudG9QdWJsaWNvKTsgICAgICAKICAgICAgY29uc29sZS5sb2coYERhdGUgcGFyc2VkOiAke2RhdGVJbmljaW99YCk7CgogICAgICBjb25zdCBkaWFNZXNJbmljaW89ZGF0ZUluaWNpby5nZXRVVENEYXRlKCk7CiAgICAgIGNvbnNvbGUubG9nKGBDcmVhbmRvIGV2ZW50byBww7pibGljbyBlbCAke2RpYU1lc0luaWNpb31gKTsKICAgICAgY29uc3QgaG9yYXNJbmljaW89cGFyc2VJbnQodGhpcy5ob3JhcmlvSW5pY2lvTnVldm9FdmVudG9QdWJsaWNvLnN1YnN0cmluZygwLCAyKSk7CiAgICAgIGNvbnN0IG1pbnV0b3NJbmljaW89cGFyc2VJbnQodGhpcy5ob3JhcmlvSW5pY2lvTnVldm9FdmVudG9QdWJsaWNvLnN1YnN0cmluZygzKSk7CgogICAgICBkYXRlSW5pY2lvLnNldERhdGUoZGlhTWVzSW5pY2lvKTsKICAgICAgZGF0ZUluaWNpby5zZXRIb3Vycyhob3Jhc0luaWNpbyk7CiAgICAgIGRhdGVJbmljaW8uc2V0TWludXRlcyhtaW51dG9zSW5pY2lvKTsKCiAgICAgIHZhciBkYXRlRmluYWw9bmV3IERhdGUoZGF0ZUluaWNpby5nZXRUaW1lKCkrdGhpcy5kdXJhY2lvbk51ZXZvRXZlbnRvUHVibGljbyo2MDAwMCk7CiAgICAgICAgICAgIAogICAgICBjb25zb2xlLmxvZyhgQ3JlYW5kbyBldmVudG8gcMO6YmxpY28gZWwgJHtkaWFNZXNJbmljaW99YCk7CgogICAgICB0aGlzLmVudmlhbmRvTnVldm9FdmVudG9QdWJsaWNvID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICBtdXRhdGlvbiAoJGluZm9OdWV2b0V2ZW50bzogSW5wdXRDcmVhckV2ZW50b1B1YmxpY28pIHsKICAgICAgICAgICAgICBjcmVhckV2ZW50b1B1YmxpY28oaW5mb051ZXZvRXZlbnRvOiAkaW5mb051ZXZvRXZlbnRvKSB7CiAgICAgICAgICAgICAgICAuLi5mcmFnRXZlbnRvUHVibGljbwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAke2ZyYWdtZW50b0V2ZW50b1B1YmxpY299CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGluZm9OdWV2b0V2ZW50bzogewogICAgICAgICAgICAgIG5vbWJyZTogdGhpcy4kcmVmcy5pbnB1dE5vbWJyZU51ZXZvRXZlbnRvUHVibGljby52YWx1ZSwKICAgICAgICAgICAgICBob3JhcmlvSW5pY2lvOiBkYXRlSW5pY2lvLAogICAgICAgICAgICAgIGhvcmFyaW9GaW5hbDogZGF0ZUZpbmFsLAogICAgICAgICAgICAgIHRpcG9QYXJlbnQ6ICJlc3BhY2lvIiwKICAgICAgICAgICAgICBpZFBhcmVudDogdGhpcy5lc3RlRXNwYWNpby5pZCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhOiB7IGNyZWFyRXZlbnRvUHVibGljbyB9IH0pID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9OdWV2b0V2ZW50b1B1YmxpY28gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJHJlZnMubGlzdGFFdmVudG9zRXNwYWNpby5hZGRFdmVudG9DYWNoZShjcmVhckV2ZW50b1B1YmxpY28pOwogICAgICAgICAgdGhpcy5tb3N0cmFuZG9DdWFkcm9DcmVhckV2ZW50b1B1YmxpY289ZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7CiAgICAgICAgICB0aGlzLmVudmlhbmRvTnVldm9FdmVudG9QdWJsaWNvID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgCiAgfSwKICBjb21wdXRlZDogewogICAgYWRtaW5pc3RyYWRvcigpIHsKICAgICAgaWYgKCF0aGlzLnVzdWFyaW9Mb2dlYWRvKSByZXR1cm4gZmFsc2U7CgogICAgICByZXR1cm4gdGhpcy51c3VhcmlvLmlkID09PSB0aGlzLmVzdGVFc3BhY2lvLmlkQWRtaW5pc3RyYWRvcjsKICAgIH0sCiAgICBudWV2b05vbWJyZUlsZWdhbCgpIHsKICAgICAgaWYgKHRoaXMubnVldm9Ob21icmUubGVuZ3RoIDwgMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIGlmIChjaGFyUHJvaGliaWRvc05vbWJyZUNvc2EudGVzdCh0aGlzLm51ZXZvTm9tYnJlKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBudWV2b0Rlc2NyaXBjaW9uSWxlZ2FsKCkgewogICAgICBpZiAoIXRoaXMubnVldm9EZXNjcmlwY2lvbiB8fCB0aGlzLm51ZXZvRGVzY3JpcGNpb24ubGVuZ3RoIDwgMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIGlmIChjaGFyUHJvaGliaWRvc1RleHRvLnRlc3QodGhpcy5udWV2b0Rlc2NyaXBjaW9uKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgbW9zdHJhbmRvKG1vc3RyYW5kbykgewogICAgICBpZiAobW9zdHJhbmRvICE9ICJkZXNjcmlwY2lvbiIpIHRoaXMuZWRpdGFuZG9EZXNjcmlwY2lvbiA9IGZhbHNlOwoKICAgICAgaWYgKG1vc3RyYW5kbyA9PT0gImRlc2NyaXBjaW9uIikgewogICAgICAgIGlmICgKICAgICAgICAgICF0aGlzLmVzdGVFc3BhY2lvLmRlc2NyaXBjaW9uIHx8CiAgICAgICAgICB0aGlzLmVzdGVFc3BhY2lvLmRlc2NyaXBjaW9uLmxlbmd0aCA8IDEKICAgICAgICApIHsKICAgICAgICAgIGlmICghdGhpcy5lZGl0YW5kb0Rlc2NyaXBjaW9uKSB7CiAgICAgICAgICAgIHRoaXMudG9nZ2xlRWRpdGFuZG9EZXNjcmlwY2lvbigpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAKICAgIH0sCiAgICBpbnRyb2R1Y2llbmRvRXZlbnRvUHVibGljb0NhbGVuZGFyaW8oaW50cm9kdWNpZW5kbykgewogICAgICBpZiAoaW50cm9kdWNpZW5kbykgewogICAgICAgIHRoaXMuJHJlZnMuY2FsZW5kYXJpby5ldmVudG9TaWVuZG9DcmVhZG8gPSB7CiAgICAgICAgICBpZFBhcmVudDogdGhpcy5lc3RlRXNwYWNpby5pZCwKICAgICAgICAgIHRpcG9QYXJlbnQ6ICJlc3BhY2lvIiwKICAgICAgICAgIHRpcG9FdmVudG86ICJldmVudG9QdWJsaWNvIiwKICAgICAgICAgIGlkQWRtaW5pc3RyYWRvcjogdGhpcy51c3VhcmlvLmlkLAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5jYWxlbmRhcmlvLmV2ZW50b1NpZW5kb0NyZWFkbyA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICAKICB9LAp9Owo="},{"version":3,"sources":["Espacio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsQA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Espacio.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"espacio\" :class=\"{ mostrando, deshabilitado:eliminandose }\">\n    <div class=\"barraSuperior\">\n      <div id=\"zona1\">\n        <!-- <div\n          class=\"trianguloBullet\"\n          @click=\"abierto = !abierto\"\n          :style=\"[\n            {\n              transform: abierto ? 'rotate(90deg)' : '',\n            },\n          ]\"\n        ></div> -->\n\n        <div id=\"zonaNombre\">\n          <input\n            @keypress.enter.prevent=\"guardarNuevoNombre\"\n            ref=\"inputNuevoNombre\"\n            v-model=\"nuevoNombre\"\n            style=\"width: 250px\"\n            @click.stop=\"\"\n            @blur=\"guardarNuevoNombre\"\n            @keydown=\"keydownInputNuevoNombre\"\n            v-show=\"editandoNombre\"\n            type=\"text\"\n            class=\"inputNuevoNombre inputNombreCosa\"\n            :class=\"{ deshabilitado: enviandoNuevoNombre }\"\n          />\n          <loading texto=\"\" v-show=\"enviandoNuevoNombre\" />\n          <div\n            id=\"elNombre\"\n            :class=\"{\n              deshabilitado: enviandoNuevoNombre,\n              administrador,\n            }\"\n            v-show=\"!editandoNombre\"\n            @click=\"toggleEditandoNombre\"\n          >\n            {{ esteEspacio.nombre }}\n          </div>\n        </div>\n      </div>\n      <div id=\"zonaBotones\">\n        <div\n          class=\"boton botonMostrar selector\"\n          @click=\"\n            mostrando = mostrando === 'descripcion' ? null : 'descripcion'\n          \"\n          :class=\"{activo:mostrando==='descripcion'}\"\n        >\n          <img src=\"@/assets/iconos/info.svg\" alt=\"Informacion\" />\n        </div>\n        <div\n          class=\"boton botonMostrar selector\"\n          @click=\"\n            mostrando = mostrando === 'administrador' ? null : 'administrador'\n          \"\n          :class=\"{activo:mostrando==='administrador'}\"\n        >\n          <img src=\"@/assets/iconos/userCog.svg\" alt=\"Administrador\" />\n        </div>\n        <div\n          class=\"boton botonMostrar selector\"\n          @click=\"mostrando = mostrando === 'calendario' ? null : 'calendario'\"\n          :class=\"{activo:mostrando==='calendario'}\"\n        >\n          <img src=\"@/assets/iconos/calendar.svg\" alt=\"Calendario\" />\n        </div>\n        <div\n          class=\"boton botonMostrar selector\"\n          @click=\"\n            mostrando = mostrando === 'listaEventos' ? null : 'listaEventos'\n          \"\n          :class=\"{activo:mostrando==='listaEventos'}\"\n        >\n          <img src=\"@/assets/iconos/clipboardList.svg\" alt=\"Lista de eventos\" />\n        </div>\n\n        <div\n          class=\"boton\"\n          id=\"botonEliminarse\"\n          @click=\"eliminarse\"\n          v-show=\"administrador || usuarioSuperadministrador\"\n        >\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Eliminar\" />\n        </div>\n        \n      </div>\n    </div>\n\n    <!-- Zona descripcion -->\n    <div\n      id=\"zonaDescripcion\"\n      class=\"zonaPrimerNivel\"\n      v-show=\"mostrando === 'descripcion'\"\n    >\n    <div id=\"zonaParaChiquis\" @click=\"toggleEstadoParaChiquis\" :class=\"{deshabilitado: settingEstadoParaChiquis}\">\n      <img src='@/assets/iconos/babySolid.svg' alt='Chiqui' style='height: 15px' /> {{esteEspacio.paraChiquis?'Espacio dirigido a niñxs pequeñxs':'Espacio abierto para todos'}}\n    </div>\n      <div\n        id=\"descripcion\"\n        class=\"contenidoTexto\"\n        ref=\"descripcion\"\n        v-show=\"!editandoDescripcion\"\n        @click=\"toggleEditandoDescripcion\"\n      >\n        {{ esteEspacio.descripcion }}\n      </div>\n\n      <textarea\n        id=\"inputNuevoDescripcion\"\n        ref=\"inputNuevoDescripcion\"\n        class=\"inputTextoNodo\"\n        :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\n        v-model=\"nuevoDescripcion\"\n        v-show=\"editandoDescripcion\"\n      />\n      <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\n        <img\n          src=\"@/assets/iconos/save.svg\"\n          class=\"botonGuardarCampo\"\n          alt=\"Guardar\"\n          title=\"Guardar descripción\"\n          id=\"botonGuardarDescripcion\"\n          @click=\"guardarNuevoDescripcion\"\n        />\n        <img\n          src=\"@/assets/iconos/equis.svg\"\n          class=\"botonGuardarCampo\"\n          alt=\"Cancelar\"\n          title=\"Cancelar edición\"\n          id=\"botonCancelarEdicionDescripcion\"\n          @click=\"editandoDescripcion = false\"\n        />\n      </div>\n      <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\n    </div>\n\n    <!-- Zona administrador -->\n    <div\n      id=\"zonaAdministrador\"\n      class=\"zonaPrimerNivel\"\n      v-show=\"mostrando === 'administrador'\"\n    >\n      <icono-persona-autonomo :idPersona=\"esteEspacio.idAdministrador\" />\n    </div>\n\n    <!-- Zona calendario -->\n    <div\n      id=\"zonaCalendario\"\n      class=\"zonaPrimerNivel\"\n      v-if=\"mostrando === 'calendario'\"\n    >\n      <div id=\"contenedorControlesCalendario\">\n        <div\n          class=\"boton botonControlCalendario\"\n          v-if=\"administrador\"\n          v-show=\"mostrando === 'calendario' && !introduciendoEventoPublicoCalendario\"\n          :title=\"'Programar una sesión de ' + esteEspacio.nombre\"\n          @click=\"iniciarCreacionEvento\"\n        >\n          <img src=\"@/assets/iconos/calendarPlus.svg\" alt=\"Calendario\" />\n        </div>\n        <div\n          class=\"boton botonControlCalendario\"\n          v-show=\"mostrando === 'calendario' && introduciendoEventoPublicoCalendario\"\n          title=\"Cancelar creación de evento\"\n          @click=\"introduciendoEventoPublicoCalendario = false\"\n        >\n          <img src=\"@/assets/iconos/times.svg\" alt=\"Cancelar\" />\n        </div>\n      </div>\n      <calendario\n        :idUsuarioTarget=\"usuario.id\"\n        ref=\"calendario\"\n        :idParent=\"esteEspacio.id\"\n        enfasis=\"eventosPublicos\"\n        tipoParent=\"espacio\"\n        @iniciaCreacionEvento=\"introduciendoEventoPublicoCalendario = false\"\n      />\n    </div>\n\n    <div\n      id=\"zonaListaEventos\"\n      class=\"zonaPrimerNivel\"\n      v-if=\"mostrando === 'listaEventos'\"\n    >\n      <div id=\"controlesListaEventos\" class=\"contenedorControles\">\n        <div\n          class=\"boton\"\n          title=\"Crear nuevo evento de este espacio\"\n          @click=\"iniciarCuadroCrearEventoPublico\"\n          v-show=\"!mostrandoCuadroCrearEventoPublico && (administrador || usuarioSuperadministrador)\"\n        >\n          <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Crear evento\" />\n        </div>\n        <div\n          class=\"boton\"\n          title=\"Cancelar\"\n          @click=\"mostrandoCuadroCrearEventoPublico = false\"\n          v-show=\"mostrandoCuadroCrearEventoPublico\"\n        >\n          <img src=\"@/assets/iconos/times.svg\" alt=\"Cancelar\" />\n        </div>\n        <loading v-show=\"creandoEventoPublico\" texto=\"\" />\n      </div>\n      <div\n        v-show=\"mostrandoCuadroCrearEventoPublico\"\n        id=\"cuadroCrearEventoPublico\"\n        :class=\"{deshabilitado: enviandoNuevoEventoPublico}\"\n      >\n        <div class=\"bloqueCampoNuevoEventoPublico\">\n          <div class=\"nombreCampo\">Nombre</div>\n          <input\n            class=\"inputCampo\"\n            type=\"text\"\n            name=\"\"\n            id=\"inputNombreNuevoEventoPublico\"\n            ref=\"inputNombreNuevoEventoPublico\"\n            v-model=\"nombreNuevoEventoPublico\"\n          />\n        </div>\n\n        <div class=\"bloqueCampoNuevoEventoPublico\">\n          <div class=\"nombreCampo\">Inicio</div>\n          <input\n            type=\"date\"\n            v-model=\"dateInicioNuevoEventoPublico\"\n            class=\"inputCampo\"\n          />\n          <input\n            type=\"time\"\n            v-model=\"horarioInicioNuevoEventoPublico\"\n            class=\"inputCampo\"\n          />\n        </div>\n\n        <div class=\"bloqueCampoNuevoEventoPublico\">\n          <div class=\"nombreCampo\">Duración</div>\n          <input\n            type=\"number\"\n            ref=\"inputDuracionNuevoEventoPublico\"\n            v-model=\"duracionNuevoEventoPublico\"\n            class=\"inputCampo\"\n          />\n          Minutos\n        </div>\n\n        <div class=\"boton\" id=\"botonCrearEventoPublico\" :class=\"{deshabilitado: !duracionNuevoEventoPublico || duracionNuevoEventoPublico<5}\" style=\"margin: 10px auto\" title=\"Crear evento\" v-show=\"!creandoEventoPublico\" @click=\"crearEventoPublico\">\n          <img src=\"@/assets/iconos/calendarPlus.svg\" alt=\"CrearEvento\">\n        </div>\n        <loading texto=\"\" v-show=\"enviandoNuevoEventoPublico\" style=\"margin: 10px auto\" />\n      </div>\n      <lista-eventos-espacio\n        :idEspacio=\"this.esteEspacio.id\"\n        ref=\"listaEventosEspacio\"                \n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport { charProhibidosNombreCosa, charProhibidosTexto } from \"./configs\";\nimport Loading from \"./utilidades/Loading.vue\";\nimport IconoPersonaAutonomo from \"./usuario/IconoPersonaAutonomo.vue\";\nimport Calendario from \"./utilidades/Calendario.vue\";\nimport ListaEventosEspacio from \"./ListaEventosEspacio.vue\";\nimport { fragmentoEventoPublico } from \"./utilidades/fragsCalendario\";\n\nexport default {\n  components: {\n    Loading,\n    IconoPersonaAutonomo,\n    Calendario,\n    ListaEventosEspacio,\n  },\n  name: \"Espacio\",\n  props: {\n    esteEspacio: Object,\n  },\n  data() {\n    return {\n      abierto: false,\n      mostrando: null,\n\n      nuevoNombre: \"Nuevo nombre\",\n      editandoNombre: false,\n      enviandoNuevoNombre: false,\n\n      nuevoDescripcion: \"Nueva descripcion\",\n      editandoDescripcion: false,\n      enviandoNuevoDescripcion: false,\n\n      mostrandoCuadroCrearEventoPublico: false,\n      nombreNuevoEventoPublico: 'Espacio de '+this.esteEspacio.nombre,\n      dateInicioNuevoEventoPublico: null,\n      dateFinalNuevoEventoPublico: null,\n      horarioInicioNuevoEventoPublico:null,\n      horarioFinalNuevoEventoPublico:null,\n      duracionNuevoEventoPublico:60,\n      creandoEventoPublico: false,\n      enviandoNuevoEventoPublico:false,\n\n      introduciendoEventoPublicoCalendario:false,\n\n      settingEstadoParaChiquis:false,\n\n      eliminandose: false,\n    };\n  },\n  methods: {\n    toggleEstadoParaChiquis(){\n      if(!this.usuarioSuperadministrador && !this.administrador){\n        console.log(\"No autorizado\");\n        return;\n      }\n\n      this.settingEstadoParaChiquis=true;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation($idEspacio: ID!, $nuevoEstado:Boolean!){\n            setEspacioParaChiquis(idEspacio: $idEspacio, nuevoEstado: $nuevoEstado){\n               id\n               paraChiquis \n            }\n          }\n          `,\n          variables:{\n            idEspacio: this.esteEspacio.id,\n            nuevoEstado:!this.esteEspacio.paraChiquis,  \n          }\n        }).then(()=>{\n          this.settingEstadoParaChiquis=false;            \n        }).catch((error)=>{\n          console.log('Error: '+ error);\n          this.settingEstadoParaChiquis=false;\n        })\n    },\n    guardarNuevoNombre() {\n      this.nuevoNombre = this.$refs.inputNuevoNombre.value;\n\n      if (this.nuevoNombreIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoNombre == this.esteEspacio.nombre) {\n        this.editandoNombre = false;\n        return;\n      }\n      console.log(`guardando nuevo nombre`);\n      this.enviandoNuevoNombre = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idEspacio: ID!, $nuevoNombre: String!) {\n              editarNombreEspacio(\n                idEspacio: $idEspacio\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                nombre\n              }\n            }\n          `,\n          variables: {\n            idEspacio: this.esteEspacio.id,\n            nuevoNombre: this.nuevoNombre,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoNombre = false;\n          this.editandoNombre = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoNombre = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    guardarNuevoDescripcion() {\n      if (this.nuevoDescripcionIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoDescripcion == this.esteEspacio.descripcion) {\n        this.editandoDescripcion = false;\n        return;\n      }\n      console.log(`guardando nuevo descripcion`);\n      this.enviandoNuevoDescripcion = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idEspacio: ID!, $nuevoDescripcion: String!) {\n              editarDescripcionEspacio(\n                idEspacio: $idEspacio\n                nuevoDescripcion: $nuevoDescripcion\n              ) {\n                id\n                descripcion\n              }\n            }\n          `,\n          variables: {\n            idEspacio: this.esteEspacio.id,\n            nuevoDescripcion: this.nuevoDescripcion,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoDescripcion = false;\n          this.editandoDescripcion = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoDescripcion = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    toggleEditandoDescripcion() {\n      if (!this.administrador) {\n        return;\n      }\n      this.$refs.inputNuevoDescripcion.style.height =\n        this.$refs.descripcion.offsetHeight + \"px\";\n      this.editandoDescripcion = !this.editandoDescripcion;\n      this.nuevoDescripcion = this.esteEspacio.descripcion;\n\n      if (this.editandoDescripcion) {\n        this.$nextTick(() => {\n          this.$refs.inputNuevoDescripcion.focus();\n        });\n      }\n    },\n    toggleEditandoNombre(e) {\n      if (this.administrador) {\n        e.stopPropagation();\n\n        this.editandoNombre = true;\n        this.nuevoNombre = this.esteEspacio.nombre;\n        this.$nextTick(() => {\n          this.$refs.inputNuevoNombre.focus();\n        });\n      }\n    },\n    keydownInputNuevoNombre(e) {\n      if (e.key === \"Escape\") {\n        this.editandoNombre=false;\n      }\n    },\n    iniciarCreacionEvento() {\n      this.introduciendoEventoPublicoCalendario = true;\n    },\n    eliminarse() {\n      if (\n        !confirm(\n          \"¿Confirmar la eliminación de este espacio? (Esta acción no puede deshacerse)\"\n        )\n      )\n        return;\n\n      if (!this.administrador && !this.usuarioSuperadministrador) {\n        return;\n      }\n      this.eliminandose = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idEspacio: ID!) {\n              eliminarEspacio(idEspacio: $idEspacio)\n            }\n          `,\n          variables: {\n            idEspacio: this.esteEspacio.id,\n          },\n        })\n        .then(() => {\n          this.$emit(\"meElimine\");\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n        });\n    },       \n    iniciarCuadroCrearEventoPublico() {\n      this.nombreNuevoEventoPublico=\"Espacio de \"+this.esteEspacio.nombre;\n      var dateActual = new Date();\n      dateActual.setHours(8);\n      dateActual.setMinutes(0);\n      dateActual.setSeconds(0);\n      dateActual.setMilliseconds(0);\n\n      dateActual = new Date(dateActual.getTime() + 86400000);\n      // const offset = dateActual.getTimezoneOffset()    \n\n      const dateActualString = dateActual.toISOString().split('T')[0];\n      const dateActualPlusHour = new Date(dateActual.getTime() + 3600000);\n      const dateActualPlusHourString = dateActualPlusHour.toISOString().split('T')[0];      \n      \n\n      this.dateInicioNuevoEventoPublico=dateActualString;\n      this.dateFinalNuevoEventoPublico=dateActualPlusHourString;\n\n      this.horarioInicioNuevoEventoPublico='08:00';\n      this.horarioFinalNuevoEventoPublico='09:00';\n      this.mostrandoCuadroCrearEventoPublico = true;\n    },\n    crearEventoPublico() {\n      if (!this.administrador && !this.usuarioSuperadministrador) {\n        return;\n      }      \n      console.log(`Date saved: ${this.dateInicioNuevoEventoPublico}`);\n      this.duracionNuevoEventoPublico=this.$refs.inputDuracionNuevoEventoPublico.value;\n      var dateInicio=new Date(this.dateInicioNuevoEventoPublico);      \n      console.log(`Date parsed: ${dateInicio}`);\n\n      const diaMesInicio=dateInicio.getUTCDate();\n      console.log(`Creando evento público el ${diaMesInicio}`);\n      const horasInicio=parseInt(this.horarioInicioNuevoEventoPublico.substring(0, 2));\n      const minutosInicio=parseInt(this.horarioInicioNuevoEventoPublico.substring(3));\n\n      dateInicio.setDate(diaMesInicio);\n      dateInicio.setHours(horasInicio);\n      dateInicio.setMinutes(minutosInicio);\n\n      var dateFinal=new Date(dateInicio.getTime()+this.duracionNuevoEventoPublico*60000);\n            \n      console.log(`Creando evento público el ${diaMesInicio}`);\n\n      this.enviandoNuevoEventoPublico = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($infoNuevoEvento: InputCrearEventoPublico) {\n              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {\n                ...fragEventoPublico\n              }\n            }\n            ${fragmentoEventoPublico}\n          `,\n          variables: {\n            infoNuevoEvento: {\n              nombre: this.$refs.inputNombreNuevoEventoPublico.value,\n              horarioInicio: dateInicio,\n              horarioFinal: dateFinal,\n              tipoParent: \"espacio\",\n              idParent: this.esteEspacio.id,\n            },\n          },\n        })\n        .then(({ data: { crearEventoPublico } }) => {\n          this.enviandoNuevoEventoPublico = false;\n          this.$refs.listaEventosEspacio.addEventoCache(crearEventoPublico);\n          this.mostrandoCuadroCrearEventoPublico=false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.enviandoNuevoEventoPublico = false;\n        });\n    },\n    \n  },\n  computed: {\n    administrador() {\n      if (!this.usuarioLogeado) return false;\n\n      return this.usuario.id === this.esteEspacio.idAdministrador;\n    },\n    nuevoNombreIlegal() {\n      if (this.nuevoNombre.length < 1) {\n        return true;\n      }\n      if (charProhibidosNombreCosa.test(this.nuevoNombre)) {\n        return true;\n      }\n      return false;\n    },\n    nuevoDescripcionIlegal() {\n      if (!this.nuevoDescripcion || this.nuevoDescripcion.length < 1) {\n        return true;\n      }\n      if (charProhibidosTexto.test(this.nuevoDescripcion)) {\n        return true;\n      }\n      return false;\n    },\n  },\n  watch: {\n    mostrando(mostrando) {\n      if (mostrando != \"descripcion\") this.editandoDescripcion = false;\n\n      if (mostrando === \"descripcion\") {\n        if (\n          !this.esteEspacio.descripcion ||\n          this.esteEspacio.descripcion.length < 1\n        ) {\n          if (!this.editandoDescripcion) {\n            this.toggleEditandoDescripcion();\n          }\n        }\n      } \n    },\n    introduciendoEventoPublicoCalendario(introduciendo) {\n      if (introduciendo) {\n        this.$refs.calendario.eventoSiendoCreado = {\n          idParent: this.esteEspacio.id,\n          tipoParent: \"espacio\",\n          tipoEvento: \"eventoPublico\",\n          idAdministrador: this.usuario.id,\n        };\n      } else {\n        this.$refs.calendario.eventoSiendoCreado = null;\n      }\n    },\n    \n  },\n};\n</script>\n\n<style scoped>\n.espacio {\n  padding: 10px 2%;\n  box-sizing: border-box;\n}\n.espacio.mostrando {\n  background-color: var(--grisHover);\n  border-radius: 15px;\n}\n.barraSuperior {\n  display: flex;\n}\n#zona1 {\n  display: flex;\n  flex-shrink: 1;\n}\n.trianguloBullet {\n  margin-right: 10px;\n}\n#elNombre.administrador {\n  color: var(--paletaSelect);\n}\n#zonaBotones {\n  margin-left: auto;\n  margin-right:min(10px, 1vw);\n  display: flex;\n  align-items: center;\n}\n.botonMostrar {\n\n  margin: 0px 5px;\n}\n#botonEliminarse {\n}\n.botonControlCalendario {\n  height: 17px;\n}\n.zonaPrimerNivel {\n  margin-top: 15px;\n  min-height: 50px;\n  padding: 10px 2%;\n  border-radius: 10px;\n}\n#zonaParaChiquis{\n  display: flex;\n  padding: 5px 10px;\n  gap: 10px;\n  align-items: center;\n}\n#zonaAdministrador {\n  display: flex;\n}\n#contenedorControlesCalendario {\n  display: flex;\n  align-items: center;\n  flex-direction: row-reverse;\n  width: 100%;\n}\n#zonaCalendario {\n  padding: 0px 0px;\n  width: 100%;\n}\n.calendario {\n  margin-top: 10px;\n  width:100%;\n}\n#cuadroCrearEventoPublico{\n  background-color: rgba(128, 128, 128, 0.123); \n  padding: 20px 5px;\n\n}\n.bloqueCampoNuevoEventoPublico{\n  display: flex;\n  align-items: center;\n  margin: 10px 0px;\n  flex-wrap: wrap;\n}\n.bloqueCampoNuevoEventoPublico input{\n  margin:0px 5px;\n  font-size:11px;\n  max-width: 120px;\n}\n.listaEventosEspacio{\n  max-height: 70vh;\n  \n}\n</style>"]}]}