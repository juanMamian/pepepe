{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/PanelConjuntosNodos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/PanelConjuntosNodos.vue","mtime":1676563818640},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgQ29sZWNjaW9uTm9kb3NDb25vY2ltaWVudG8gZnJvbSAiLi9Db2xlY2Npb25Ob2Rvc0Nvbm9jaW1pZW50by52dWUiOwppbXBvcnQgU2VsZWN0b3JDb25qdW50byBmcm9tICIuL1NlbGVjdG9yQ29uanVudG8udnVlIjsKaW1wb3J0IHsKICBRVUVSWV9EQVRPU19VU1VBUklPX05PRE9TLAogIGZyYWdtZW50b0NvbGVjY2lvbmVzLAp9IGZyb20gIi4vQXRsYXNDb25vY2ltaWVudG8udnVlIjsKaW1wb3J0IExvYWRpbmcgZnJvbSAiLi4vdXRpbGlkYWRlcy9Mb2FkaW5nLnZ1ZSI7Cgpjb25zdCBjaGFyUHJvaGliaWRvc05vbWJyZUNvbGVjY2lvbiA9IC9bXiBhLXpBLVrDgC3FvjAtOV8oKTouLC1dLzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IENvbGVjY2lvbk5vZG9zQ29ub2NpbWllbnRvLCBTZWxlY3RvckNvbmp1bnRvLCBMb2FkaW5nIH0sCiAgbmFtZTogIlBhbmVsQ29uanVudG9zTm9kb3MiLAogIHByb3BzOiB7CiAgICB5bzogT2JqZWN0LAogICAgbW9kb0F0bGFzOiBTdHJpbmcsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWJpZXJ0bzogZmFsc2UsCiAgICAgIGlkQ29sZWNjaW9uU2VsZWNjaW9uYWRhOiAwLAogICAgICBlZGl0YW5kb05vbWJyZUNvbGVjY2lvbjogZmFsc2UsCgogICAgICBpZE5vZG9TZWxlY2Npb25hZG86IG51bGwsCgogICAgICBpZENvbGVjY2lvbkFiaWVydGE6IG51bGwsCgogICAgICBpZENvbGVjY2lvbk1lbnVDeDogbnVsbCwKCiAgICAgIGVudmlhbmRvUXVlcnlDb2xlY2Npb25lczogZmFsc2UsCiAgICAgIGVudmlhbmRvUXVlcnlOb2Rvc1NlY2Npb246IGZhbHNlLAogICAgICBjcmVhbmRvQ29sZWNjaW9uOiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhYnJpclBhZ2luYU5vZG8oaWROb2RvKSB7CiAgICAgIGlmICghaWROb2RvKSByZXR1cm47CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbm9kb0Nvbm9jaW1pZW50by8iICsgaWROb2RvKTsKICAgIH0sCiAgICBjcmVhck51ZXZhQ29sZWNjaW9uKCkgewogICAgICB0aGlzLmVudmlhbmRvUXVlcnlDb2xlY2Npb25lcyA9IHRydWU7CgogICAgICB0aGlzLmNyZWFuZG9Db2xlY2Npb24gPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uIHsKICAgICAgICAgICAgICBjcmVhckNvbGVjY2lvbk5vZG9zQXRsYXNDb25vY2ltaWVudG9Vc3VhcmlvIHsKICAgICAgICAgICAgICAgIC4uLmZyYWdDb2xlY2Npb25lcwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAke2ZyYWdtZW50b0NvbGVjY2lvbmVzfQogICAgICAgICAgYCwKICAgICAgICB9KQogICAgICAgIC50aGVuKCh7IGRhdGE6IHsgY3JlYXJDb2xlY2Npb25Ob2Rvc0F0bGFzQ29ub2NpbWllbnRvVXN1YXJpbyB9IH0pID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzID0gZmFsc2U7CiAgICAgICAgICBjb25zdCBzdG9yZSA9IHRoaXMuJGFwb2xsby5wcm92aWRlci5kZWZhdWx0Q2xpZW50OwogICAgICAgICAgY29uc3QgY2FjaGUgPSBzdG9yZS5yZWFkUXVlcnkoewogICAgICAgICAgICBxdWVyeTogUVVFUllfREFUT1NfVVNVQVJJT19OT0RPUywKICAgICAgICAgIH0pOwoKICAgICAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwoKICAgICAgICAgIHZhciBjb2xlY2Npb25lcyA9IG51ZXZvQ2FjaGUueW8uYXRsYXMuY29sZWNjaW9uZXM7CiAgICAgICAgICBjb25zdCBpbmRleEMgPSBjb2xlY2Npb25lcy5maW5kSW5kZXgoCiAgICAgICAgICAgIChjb2wpID0+IGNvbC5pZCA9PT0gY3JlYXJDb2xlY2Npb25Ob2Rvc0F0bGFzQ29ub2NpbWllbnRvVXN1YXJpby5pZAogICAgICAgICAgKTsKCiAgICAgICAgICBpZiAoaW5kZXhDID09PSAtMSkgewogICAgICAgICAgICBjb2xlY2Npb25lcy5wdXNoKGNyZWFyQ29sZWNjaW9uTm9kb3NBdGxhc0Nvbm9jaW1pZW50b1VzdWFyaW8pOwogICAgICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgICAgICBxdWVyeTogUVVFUllfREFUT1NfVVNVQVJJT19OT0RPUywKICAgICAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMYSBjb2xlY2Npw7NuIHlhIGVzdGFiYSBpbmNsdWlkYWApOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jcmVhbmRvQ29sZWNjaW9uID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7CiAgICAgICAgICB0aGlzLmNyZWFuZG9Db2xlY2Npb24gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzZWxlY2Npb25hckNvbGVjY2lvbihlLCBpZENvbGVjY2lvbikgewogICAgICBpZiAodGhpcy5pZENvbGVjY2lvblNlbGVjY2lvbmFkYSA9PT0gaWRDb2xlY2Npb24pIHsKICAgICAgICBjb25zdCBub21icmVDb2xlY2Npb24gPSB0aGlzLmNvbmp1bnRvcy5maW5kKAogICAgICAgICAgKGMpID0+IGMuaWQgPT09IGlkQ29sZWNjaW9uCiAgICAgICAgKS5ub21icmU7CiAgICAgICAgY29uc29sZS5sb2coYFNldGluZyB2YWx1ZSBkZWwgaW5wdXQgYSAke25vbWJyZUNvbGVjY2lvbn1gKTsKICAgICAgICB0aGlzLmVkaXRhbmRvTm9tYnJlQ29sZWNjaW9uID0gdHJ1ZTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXROb21icmVDb2xlY2Npb24iICsgaWRDb2xlY2Npb24pLnZhbHVlID0KICAgICAgICAgIG5vbWJyZUNvbGVjY2lvbjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVkaXRhbmRvTm9tYnJlQ29sZWNjaW9uID0gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy5pZENvbGVjY2lvblNlbGVjY2lvbmFkYSA9IGlkQ29sZWNjaW9uOwogICAgICB0aGlzLmlkTm9kb1NlbGVjY2lvbmFkbyA9IG51bGw7CiAgICB9LAogICAgZ3VhcmRhck51ZXZvTm9tYnJlQ29sZWNjaW9uKGUsIGlkQ29sZWNjaW9uKSB7CiAgICAgIHZhciBudWV2b05vbWJyZSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICBjb25zb2xlLmxvZygKICAgICAgICBgc2V0aW5nIG5vbWJyZSBkZSBjb2xlY2Npb24gJHtpZENvbGVjY2lvbn0gY29uIHZhbHVlOiAke251ZXZvTm9tYnJlfWAKICAgICAgKTsKICAgICAgaWYgKGNoYXJQcm9oaWJpZG9zTm9tYnJlQ29sZWNjaW9uLnRlc3QobnVldm9Ob21icmUpKSB7CiAgICAgICAgYWxlcnQoIsKhRWwgbm9tYnJlIGNvbnRlbsOtYSBjYXJhY3RlcmVzIGlsZWdhbGVzISIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzID0gdHJ1ZTsKCiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpZENvbGVjY2lvbjogSUQhLCAkbnVldm9Ob21icmU6IFN0cmluZyEpIHsKICAgICAgICAgICAgICBzZXROb21icmVDb2xlY2Npb25Ob2Rvc0F0bGFzQ29ub2NpbWllbnRvVXN1YXJpbygKICAgICAgICAgICAgICAgIGlkQ29sZWNjaW9uOiAkaWRDb2xlY2Npb24KICAgICAgICAgICAgICAgIG51ZXZvTm9tYnJlOiAkbnVldm9Ob21icmUKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICBhdGxhcyB7CiAgICAgICAgICAgICAgICAgIGNvbGVjY2lvbmVzIHsKICAgICAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgICAgIG5vbWJyZQogICAgICAgICAgICAgICAgICAgIGlkc05vZG9zCiAgICAgICAgICAgICAgICAgICAgbm9kb3MgewogICAgICAgICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgICAgICAgIG5vbWJyZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZENvbGVjY2lvbiwKICAgICAgICAgICAgbnVldm9Ob21icmUsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5Q29sZWNjaW9uZXMgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZWRpdGFuZG9Ob21icmVDb2xlY2Npb24gPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTsKICAgICAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgCiAgfSwKICBjb21wdXRlZDogewogICAgaWRzTm9kb3NPYmpldGl2b3MoKSB7CiAgICAgIGlmICghdGhpcy55byB8fCAhdGhpcy55by5hdGxhcyB8fCAhdGhpcy55by5hdGxhcy5kYXRvc05vZG9zKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnlvLmF0bGFzLmRhdG9zTm9kb3MKICAgICAgICAuZmlsdGVyKChuKSA9PiBuLm9iamV0aXZvID09IHRydWUpCiAgICAgICAgLm1hcCgobikgPT4gbi5pZE5vZG8pOwogICAgfSwKICAgIG5vZG9zT2JqZXRpdm8oKSB7CiAgICAgIGlmICghdGhpcy55bykgcmV0dXJuIFtdOwoKICAgICAgcmV0dXJuIHRoaXMudG9kb3NOb2Rvcy5maWx0ZXIoKG4pID0+CiAgICAgICAgdGhpcy5pZHNOb2Rvc09iamV0aXZvcy5pbmNsdWRlcyhuLmlkKQogICAgICApOwogICAgfSwKICAgIGNvbmp1bnRvcygpIHsKICAgICAgcmV0dXJuIHRoaXMuY29uanVudG9zVXN1YXJpbzsKICAgIH0sCiAgICBjb25qdW50b3NVc3VhcmlvKCkgewogICAgICBpZiAoIXRoaXMueW8gfHwgIXRoaXMueW8uYXRsYXMgfHwgIXRoaXMueW8uYXRsYXMuY29sZWNjaW9uZXMpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KCiAgICAgIHZhciBudWV2b0NvbGVjY2lvbmVzID0gSlNPTi5wYXJzZSgKICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLnlvLmF0bGFzLmNvbGVjY2lvbmVzKQogICAgICApOwoKICAgICAgbnVldm9Db2xlY2Npb25lcy5mb3JFYWNoKChjKSA9PiB7CiAgICAgICAgYy50aXR1bG8gPSBjLm5vbWJyZTsKICAgICAgICBjLm1vZG8gPSAiZXN0dWRpYW50ZSI7CiAgICAgICAgYy5lZGl0YWJsZSA9IHRydWU7CiAgICAgICAgYy5lZGl0YW5kb05vbWJyZSA9IGZhbHNlOwogICAgICB9KTsKCiAgICAgIHJldHVybiBudWV2b0NvbGVjY2lvbmVzOwogICAgfSwKICAgIGNvbGVjY2lvblNlbGVjY2lvbmFkYSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29uanVudG9zLmZpbmQoKGMpID0+IGMuaWQgPT09IHRoaXMuaWRDb2xlY2Npb25TZWxlY2Npb25hZGEpOwogICAgfSwKICAgIGNvbGVjY2lvbkFiaWVydGEoKSB7CiAgICAgIGlmICghdGhpcy5pZENvbGVjY2lvbkFiaWVydGEpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuY29uanVudG9zLmZpbmQoKGMpID0+IGMuaWQgPT09IHRoaXMuaWRDb2xlY2Npb25BYmllcnRhKTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgYWJpZXJ0bygpIHsKICAgICAgdGhpcy5pZE5vZG9TZWxlY2Npb25hZG8gPSBudWxsOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["PanelConjuntosNodos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PanelConjuntosNodos.vue","sourceRoot":"src/components/atlasConocimiento","sourcesContent":["<template>\n  <div\n    id=\"panelConjuntosNodos\"\n    @mouseup.left.stop=\"\"\n    @mousedown.left.stop=\"\"\n    @touchmove.stop=\"\"\n    v-show=\"abierto\"\n  >\n    <div class=\"barraSeccion\">\n      <span @click=\"idColeccionAbierta = null\"> Colecciones</span\n      ><span v-if=\"coleccionAbierta\">{{\n        \" > \" + coleccionAbierta.titulo\n      }}</span>\n\n      <div style=\"margin-left: auto\">\n        <div\n          v-show=\"!creandoColeccion\"\n          @click=\"crearNuevaColeccion\"\n          class=\"boton\"\n        >\n          <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Nuevo\" style=\"\" />\n        </div>\n\n        <loading v-show=\"creandoColeccion\" />\n      </div>\n    </div>\n\n    <div\n      id=\"listaConjuntos\"\n      v-show=\"!coleccionAbierta\"\n      @click=\"idColeccionMenuCx = null\"\n      @click.self=\"idColeccionSeleccionada=null\"\n    >\n      <div class=\"anuncioZonaVacia\" v-if=\"conjuntos.length < 1\">\n        Aún no hay colecciones\n      </div>\n      <selector-conjunto\n        v-for=\"coleccion of conjuntos\"\n        :key=\"coleccion.id\"\n        :seleccionado=\"coleccion.id === idColeccionSeleccionada\"\n        :menuCx=\"idColeccionMenuCx === coleccion.id\"\n        :estaColeccion=\"coleccion\"\n        @contextmenu.native.exact.stop.prevent=\"\n          idColeccionMenuCx = coleccion.id\n        \"\n        @dblclick.native=\"idColeccionAbierta = coleccion.id\"\n        @click.native=\"\n          idColeccionSeleccionada =\n            idColeccionSeleccionada === coleccion.id ? null : coleccion.id\n        \"\n      />\n    </div>\n\n    <coleccion-nodos-conocimiento\n      :yo=\"yo\"\n      v-if=\"coleccionAbierta\"\n      :estaColeccion=\"coleccionAbierta\"\n    />\n    <!-- <div\n      id=\"listaNodosConjunto\"\n      v-if=\"coleccionSeleccionada\"\n      v-show=\"abierto && coleccionSeleccionada\"\n      :key=\"'listaNodos' + idColeccionSeleccionada\"\n      @click.self.stop=\"idNodoSeleccionado = null\"\n    >\n      <icono-nodo-conocimiento\n        :esteNodo=\"nodo\"\n        v-for=\"nodo of coleccionSeleccionada.nodos\"\n        v-show=\"coleccionSeleccionada\"\n        :key=\"nodo.id\"\n        :seleccionado=\"nodo.id === idNodoSeleccionado\"\n        @click.native.stop=\"idNodoSeleccionado = nodo.id\"\n        @dblclick.native.stop=\"$emit('centrarEnNodo', nodo.id)\"\n      /> -->\n    <!-- </div> -->\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport ColeccionNodosConocimiento from \"./ColeccionNodosConocimiento.vue\";\nimport SelectorConjunto from \"./SelectorConjunto.vue\";\nimport {\n  QUERY_DATOS_USUARIO_NODOS,\n  fragmentoColecciones,\n} from \"./AtlasConocimiento.vue\";\nimport Loading from \"../utilidades/Loading.vue\";\n\nconst charProhibidosNombreColeccion = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\n\nexport default {\n  components: { ColeccionNodosConocimiento, SelectorConjunto, Loading },\n  name: \"PanelConjuntosNodos\",\n  props: {\n    yo: Object,\n    modoAtlas: String,\n  },\n  data() {\n    return {\n      abierto: false,\n      idColeccionSeleccionada: 0,\n      editandoNombreColeccion: false,\n\n      idNodoSeleccionado: null,\n\n      idColeccionAbierta: null,\n\n      idColeccionMenuCx: null,\n\n      enviandoQueryColecciones: false,\n      enviandoQueryNodosSeccion: false,\n      creandoColeccion: false,\n    };\n  },\n  methods: {\n    abrirPaginaNodo(idNodo) {\n      if (!idNodo) return;\n      this.$router.push(\"/nodoConocimiento/\" + idNodo);\n    },\n    crearNuevaColeccion() {\n      this.enviandoQueryColecciones = true;\n\n      this.creandoColeccion = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation {\n              crearColeccionNodosAtlasConocimientoUsuario {\n                ...fragColecciones\n              }\n            }\n            ${fragmentoColecciones}\n          `,\n        })\n        .then(({ data: { crearColeccionNodosAtlasConocimientoUsuario } }) => {\n          this.enviandoQueryColecciones = false;\n          const store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_DATOS_USUARIO_NODOS,\n          });\n\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n          var colecciones = nuevoCache.yo.atlas.colecciones;\n          const indexC = colecciones.findIndex(\n            (col) => col.id === crearColeccionNodosAtlasConocimientoUsuario.id\n          );\n\n          if (indexC === -1) {\n            colecciones.push(crearColeccionNodosAtlasConocimientoUsuario);\n            store.writeQuery({\n              query: QUERY_DATOS_USUARIO_NODOS,\n              data: nuevoCache,\n            });\n          } else {\n            console.log(`La colección ya estaba incluida`);\n          }\n          this.creandoColeccion = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.creandoColeccion = false;\n        });\n    },\n    seleccionarColeccion(e, idColeccion) {\n      if (this.idColeccionSeleccionada === idColeccion) {\n        const nombreColeccion = this.conjuntos.find(\n          (c) => c.id === idColeccion\n        ).nombre;\n        console.log(`Seting value del input a ${nombreColeccion}`);\n        this.editandoNombreColeccion = true;\n        document.getElementById(\"inputNombreColeccion\" + idColeccion).value =\n          nombreColeccion;\n      } else {\n        this.editandoNombreColeccion = false;\n      }\n      this.idColeccionSeleccionada = idColeccion;\n      this.idNodoSeleccionado = null;\n    },\n    guardarNuevoNombreColeccion(e, idColeccion) {\n      var nuevoNombre = e.target.value;\n      console.log(\n        `seting nombre de coleccion ${idColeccion} con value: ${nuevoNombre}`\n      );\n      if (charProhibidosNombreColeccion.test(nuevoNombre)) {\n        alert(\"¡El nombre contenía caracteres ilegales!\");\n        return true;\n      }\n      this.enviandoQueryColecciones = true;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idColeccion: ID!, $nuevoNombre: String!) {\n              setNombreColeccionNodosAtlasConocimientoUsuario(\n                idColeccion: $idColeccion\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                atlas {\n                  colecciones {\n                    id\n                    nombre\n                    idsNodos\n                    nodos {\n                      id\n                      nombre\n                    }\n                  }\n                }\n              }\n            }\n          `,\n          variables: {\n            idColeccion,\n            nuevoNombre,\n          },\n        })\n        .then(() => {\n          this.enviandoQueryColecciones = false;\n          this.editandoNombreColeccion = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.enviandoQueryColecciones = false;\n        });\n    },\n    \n  },\n  computed: {\n    idsNodosObjetivos() {\n      if (!this.yo || !this.yo.atlas || !this.yo.atlas.datosNodos) {\n        return [];\n      }\n      return this.yo.atlas.datosNodos\n        .filter((n) => n.objetivo == true)\n        .map((n) => n.idNodo);\n    },\n    nodosObjetivo() {\n      if (!this.yo) return [];\n\n      return this.todosNodos.filter((n) =>\n        this.idsNodosObjetivos.includes(n.id)\n      );\n    },\n    conjuntos() {\n      return this.conjuntosUsuario;\n    },\n    conjuntosUsuario() {\n      if (!this.yo || !this.yo.atlas || !this.yo.atlas.colecciones) {\n        return [];\n      }\n\n      var nuevoColecciones = JSON.parse(\n        JSON.stringify(this.yo.atlas.colecciones)\n      );\n\n      nuevoColecciones.forEach((c) => {\n        c.titulo = c.nombre;\n        c.modo = \"estudiante\";\n        c.editable = true;\n        c.editandoNombre = false;\n      });\n\n      return nuevoColecciones;\n    },\n    coleccionSeleccionada() {\n      return this.conjuntos.find((c) => c.id === this.idColeccionSeleccionada);\n    },\n    coleccionAbierta() {\n      if (!this.idColeccionAbierta) {\n        return null;\n      }\n\n      return this.conjuntos.find((c) => c.id === this.idColeccionAbierta);\n    },\n  },\n  watch: {\n    abierto() {\n      this.idNodoSeleccionado = null;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#panelConjuntosNodos {\n  position: absolute;\n  top: 50px;\n  box-shadow: 2px 2px 2px 2px rgb(190, 190, 190);\n  min-width: 100px;\n  min-height: 100px;\n  max-height: 80%;\n  background-color: whitesmoke;\n  width: min(90%, 650px);\n  right: 0px;\n}\n#grabber {\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  position: absolute;\n  top: 0%;\n  right: 100%;\n}\n#barraConjuntos {\n  display: flex;\n  width: 100%;\n  overflow-x: scroll;\n}\n\n#listaConjuntos {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  padding: 10px 10px;\n}\n.botonEliminarColeccion {\n  cursor: pointer;\n  border-radius: 50%;\n  margin-left: 10px;\n  width: 20px;\n  height: 20px;\n}\n.botonEliminarColeccion:hover {\n  background-color: rgb(219, 63, 63);\n}\n#controlesConjuntos {\n  margin-left: auto;\n}\n.botonControlesConjuntos {\n  font-size: 14px;\n  color: gray;\n  cursor: pointer;\n}\n.botonControlesConjuntos:hover {\n  background-color: rgba(128, 128, 128, 0.527);\n}\n\n#botonRastrearNodo {\n  width: 20px;\n  min-width: 20px;\n  height: 20px;\n  cursor: pointer;\n  border-radius: 50%;\n}\n#botonRastrearNodo:hover {\n  background-color: rgba(95, 158, 160, 0.658);\n}\n\n.botonEliminarNodoColeccion {\n  width: 20px;\n  min-width: 20px;\n  height: 20px;\n  cursor: pointer;\n  align-self: center;\n  border-radius: 50%;\n  margin-left: 10px;\n}\n.botonEliminarNodoColeccion:hover {\n  background-color: rgb(236, 68, 68);\n}\n\n#listaNodosConjunto {\n  display: flex;\n  flex-wrap: wrap;\n  overflow-y: scroll;\n  max-height: 55vh;\n  padding-top: 10px;\n}\n.iconoNodoConocimiento {\n  margin: 0px 40px;\n  margin-bottom: 90px;\n}\n#listaClasesNodo {\n  width: 100%;\n}\n.infoClase {\n  display: flex;\n  min-height: 40px;\n  padding: 2px 5px;\n}\n.infoClase:hover {\n  background-color: rgba(95, 158, 160, 0.452);\n}\n.iconoAbrirNodo {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  margin-right: 10px;\n}\n.infoInteresados {\n  margin-left: auto;\n  position: relative;\n}\n.cantidadInteresados {\n  position: absolute;\n  top: 25%;\n  left: 65%;\n  transform: translate(-50%, -50%);\n  font-size: 10px;\n}\n.iconoInteresados {\n  width: 27px;\n  height: 27px;\n  cursor: pointer;\n  padding: 2px;\n  border-radius: 50%;\n  border: 1px solid chocolate;\n  background-color: rgba(210, 105, 30, 0.438);\n}\n</style>"]}]}