{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasSolidaridad/homeNodo/tablaAdministracion/TablaAdministracion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasSolidaridad/homeNodo/tablaAdministracion/TablaAdministracion.vue","mtime":1643654906499},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgewogIGZyYWdtZW50b0V2ZW50b05vZG9Tb2xpZGFyaWRhZCwKICBmcmFnbWVudG9Nb3ZpbWllbnRvRGluZXJvTm9kb1NvbGlkYXJpZGFkLAp9IGZyb20gIi4uLy4uL2ZyYWdzIjsKaW1wb3J0IEl0ZW1UYWJsYU1vdmltaWVudG9EaW5lcm8gZnJvbSAiLi4vdGFibGFBZG1pbmlzdHJhY2lvbi9JdGVtVGFibGFNb3ZpbWllbnRvRGluZXJvLnZ1ZSI7CmltcG9ydCBMb2FkaW5nIGZyb20gIi4uLy4uLy4uL3V0aWxpZGFkZXMvTG9hZGluZy52dWUiOwppbXBvcnQgSXRlbVRhYmxhRXZlbnRvIGZyb20gIi4uL3RhYmxhQWRtaW5pc3RyYWNpb24vSXRlbVRhYmxhRXZlbnRvLnZ1ZSI7CmltcG9ydCB7UVVFUllfRVNURV9OT0RPfSBmcm9tICIuLi9Ib21lTm9kby52dWUiCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IEl0ZW1UYWJsYU1vdmltaWVudG9EaW5lcm8sIExvYWRpbmcsIEl0ZW1UYWJsYUV2ZW50byB9LAogIG5hbWU6ICJUYWJsYUFkbWluaXN0cmFjaW9uIiwKCiAgcHJvcHM6IHsKICAgIG1vdmltaWVudG9zOiBBcnJheSwKICAgIGV2ZW50b3M6IEFycmF5LAogICAgaWROb2RvOiBTdHJpbmcsCiAgICB1c3VhcmlvUmVzcG9uc2FibGVBbXBsaW9Ob2RvOiBCb29sZWFuLAogICAgc3ViTm9kb3M6IEFycmF5LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vc3RyYXJNb3ZpbWllbnRvc0RpbmVybzogdHJ1ZSwKICAgICAgY3JlYW5kb051ZXZvTW92aW1pZW50bzogZmFsc2UsCiAgICAgIG1vc3RyYXJNb3ZpbWllbnRvc0FyYm9sOnRydWUsCgogICAgICBtb3N0cmFyRXZlbnRvczogdHJ1ZSwKICAgICAgY3JlYW5kb051ZXZvRXZlbnRvOiBmYWxzZSwKICAgICAgbW9zdHJhckV2ZW50b3NBcmJvbDp0cnVlLAogICAgICAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjcmVhck51ZXZvSXRlbU1vdmltaWVudG9EaW5lcm8oKSB7CiAgICAgIHRoaXMuY3JlYW5kb051ZXZvTW92aW1pZW50byA9IHRydWU7CgogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWROb2RvOiBJRCEpIHsKICAgICAgICAgICAgICBjcmVhck51ZXZvTW92aW1pZW50b0RpbmVyb05vZG9Tb2xpZGFyaWRhZChpZE5vZG86ICRpZE5vZG8pIHsKICAgICAgICAgICAgICAgIC4uLmZyYWdNb3ZpbWllbnRvRGluZXJvTm9kb1NvbGlkYXJpZGFkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICR7ZnJhZ21lbnRvTW92aW1pZW50b0RpbmVyb05vZG9Tb2xpZGFyaWRhZH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWROb2RvOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YTogeyBjcmVhck51ZXZvTW92aW1pZW50b0RpbmVyb05vZG9Tb2xpZGFyaWRhZCB9IH0pID0+IHsKICAgICAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy4kYXBvbGxvLnByb3ZpZGVyLmRlZmF1bHRDbGllbnQ7CiAgICAgICAgICBjb25zdCBjYWNoZSA9IHN0b3JlLnJlYWRRdWVyeSh7CiAgICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9FU1RFX05PRE8sCiAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgIGlkTm9kbzogdGhpcy5pZE5vZG8KICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwoKICAgICAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwogICAgICAgICAgdmFyIG1vdmltaWVudG9zRGluZXJvID0gbnVldm9DYWNoZS5ub2RvU29saWRhcmlkYWQubW92aW1pZW50b3NEaW5lcm87CgogICAgICAgICAgY29uc3QgaW5kZXhOID0gbW92aW1pZW50b3NEaW5lcm8uZmluZEluZGV4KAogICAgICAgICAgICAobXYpID0+IG12LmlkID09PSBjcmVhck51ZXZvTW92aW1pZW50b0RpbmVyb05vZG9Tb2xpZGFyaWRhZC5pZAogICAgICAgICAgKTsKICAgICAgICAgIGlmIChpbmRleE4gPT09IC0xKSB7CiAgICAgICAgICAgIG1vdmltaWVudG9zRGluZXJvLnB1c2goY3JlYXJOdWV2b01vdmltaWVudG9EaW5lcm9Ob2RvU29saWRhcmlkYWQpOwogICAgICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgICAgICBxdWVyeTogUVVFUllfRVNURV9OT0RPLAogICAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgICAgaWROb2RvOiB0aGlzLmlkTm9kbwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZGF0YTogbnVldm9DYWNoZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmNyZWFuZG9OdWV2b01vdmltaWVudG8gPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTsKICAgICAgICAgIHRoaXMuY3JlYW5kb051ZXZvTW92aW1pZW50byA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGNyZWFyTnVldm9JdGVtRXZlbnRvKCkgewogICAgICB0aGlzLmNyZWFuZG9OdWV2b0V2ZW50byA9IHRydWU7CgogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWROb2RvOiBJRCEpIHsKICAgICAgICAgICAgICBjcmVhck51ZXZvRXZlbnRvTm9kb1NvbGlkYXJpZGFkKGlkTm9kbzogJGlkTm9kbykgewogICAgICAgICAgICAgICAgLi4uZnJhZ0V2ZW50b05vZG9Tb2xpZGFyaWRhZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAke2ZyYWdtZW50b0V2ZW50b05vZG9Tb2xpZGFyaWRhZH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWROb2RvOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YTogeyBjcmVhck51ZXZvRXZlbnRvTm9kb1NvbGlkYXJpZGFkIH0gfSkgPT4gewogICAgICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgICAgIGNvbnN0IGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICAgICAgcXVlcnk6IFFVRVJZX0VTVEVfTk9ETywKICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgaWROb2RvOiB0aGlzLmlkTm9kbwogICAgICAgICAgICB9LAogICAgICAgICAgfSk7CgogICAgICAgICAgdmFyIG51ZXZvQ2FjaGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7CiAgICAgICAgICB2YXIgZXZlbnRvcyA9IG51ZXZvQ2FjaGUubm9kb1NvbGlkYXJpZGFkLmV2ZW50b3M7CgogICAgICAgICAgY29uc3QgaW5kZXhOID0gZXZlbnRvcy5maW5kSW5kZXgoCiAgICAgICAgICAgIChldikgPT4gZXYuaWQgPT09IGNyZWFyTnVldm9FdmVudG9Ob2RvU29saWRhcmlkYWQuaWQKICAgICAgICAgICk7CiAgICAgICAgICBpZiAoaW5kZXhOID09PSAtMSkgewogICAgICAgICAgICBldmVudG9zLnB1c2goY3JlYXJOdWV2b0V2ZW50b05vZG9Tb2xpZGFyaWRhZCk7CiAgICAgICAgICAgIHN0b3JlLndyaXRlUXVlcnkoewogICAgICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9FU1RFX05PRE8sCiAgICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgICBpZE5vZG86IHRoaXMuaWROb2RvCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuY3JlYW5kb051ZXZvRXZlbnRvID0gZmFsc2U7CgogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApOwogICAgICAgICAgdGhpcy5jcmVhbmRvTnVldm9FdmVudG8gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBlbGltaW5hck1vdmltaWVudG9DYWNoZShpZE1vdmltaWVudG9FbGltaW5hZG8pewogICAgICBjb25zb2xlLmxvZyhgRWxpbWluYW5kbyBtb3YgZGUgY2FjaGVgKTsKICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgY29uc3QgY2FjaGUgPSBzdG9yZS5yZWFkUXVlcnkoewogICAgICAgIHF1ZXJ5OiBRVUVSWV9FU1RFX05PRE8sCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZE5vZG86IHRoaXMuaWROb2RvLAogICAgICAgIH0sCiAgICAgIH0pOwoKICAgICAgdmFyIG51ZXZvQ2FjaGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7CiAgICAgIHZhciBtb3ZpbWllbnRvc0RpbmVybyA9IG51ZXZvQ2FjaGUubm9kb1NvbGlkYXJpZGFkLm1vdmltaWVudG9zRGluZXJvOwoKICAgICAgY29uc3QgaW5kZXhOID0gbW92aW1pZW50b3NEaW5lcm8uZmluZEluZGV4KAogICAgICAgIChtZCkgPT4gbWQuaWQgPT09IGlkTW92aW1pZW50b0VsaW1pbmFkbwogICAgICApOwogICAgICBpZiAoaW5kZXhOID4gLTEpIHsKICAgICAgICBtb3ZpbWllbnRvc0RpbmVyby5zcGxpY2UoaW5kZXhOLCAxKTsKICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9FU1RFX05PRE8sCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWROb2RvOiB0aGlzLmlkTm9kbywKICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlLAogICAgICAgIH0pOwogICAgICB9CiAgICAgIAogICAgfSwKICAgIGVsaW1pbmFyRXZlbnRvQ2FjaGUoaWRFdmVudG9FbGltaW5hZG8pewogICAgICBjb25zdCBzdG9yZSA9IHRoaXMuJGFwb2xsby5wcm92aWRlci5kZWZhdWx0Q2xpZW50OwogICAgICBjb25zdCBjYWNoZSA9IHN0b3JlLnJlYWRRdWVyeSh7CiAgICAgICAgcXVlcnk6IFFVRVJZX0VTVEVfTk9ETywKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkTm9kbzogdGhpcy5pZE5vZG8sCiAgICAgICAgfSwKICAgICAgfSk7CgogICAgICB2YXIgbnVldm9DYWNoZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTsKICAgICAgdmFyIGV2ZW50b3MgPSBudWV2b0NhY2hlLm5vZG9Tb2xpZGFyaWRhZC5ldmVudG9zOwoKICAgICAgY29uc3QgaW5kZXhOID0gZXZlbnRvcy5maW5kSW5kZXgoCiAgICAgICAgKGUpID0+IGUuaWQgPT09IGlkRXZlbnRvRWxpbWluYWRvCiAgICAgICk7CiAgICAgIGlmIChpbmRleE4gPiAtMSkgewogICAgICAgIGV2ZW50b3Muc3BsaWNlKGluZGV4TiwgMSk7CiAgICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgICBxdWVyeTogUVVFUllfRVNURV9OT0RPLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkTm9kbzogdGhpcy5pZE5vZG8sCiAgICAgICAgICB9LAogICAgICAgICAgZGF0YTogbnVldm9DYWNoZSwKICAgICAgICB9KTsKICAgICAgfQogICAgICAKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpdGVtcygpIHsKICAgICAgdmFyIGl0ZW1zID0gW107CiAgICAgIGlmICh0aGlzLm1vc3RyYXJNb3ZpbWllbnRvc0RpbmVybykgewogICAgICAgIGl0ZW1zID0gaXRlbXMuY29uY2F0KHRoaXMubW92aW1pZW50b3MpOwogICAgICAgIGlmKHRoaXMubW9zdHJhck1vdmltaWVudG9zQXJib2wpewogICAgICAgICAgaXRlbXM9aXRlbXMuY29uY2F0KHRoaXMubW92aW1pZW50b3NEaW5lcm9TdWJub2Rvcyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLm1vc3RyYXJFdmVudG9zKSB7CiAgICAgICAgaXRlbXMgPSBpdGVtcy5jb25jYXQodGhpcy5ldmVudG9zKTsKICAgICAgICBpZih0aGlzLm1vc3RyYXJFdmVudG9zQXJib2wpewogICAgICAgICAgaXRlbXM9aXRlbXMuY29uY2F0KHRoaXMuZXZlbnRvc1N1Ym5vZG9zKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaXRlbXMuc29ydCgoYSwgYikgPT4gRGF0ZS5wYXJzZShhLmZlY2hhKSAtIERhdGUucGFyc2UoYi5mZWNoYSkpOwogICAgICByZXR1cm4gaXRlbXM7CiAgICB9LAogICAgbW92aW1pZW50b3NEaW5lcm9TdWJub2RvcygpIHsKICAgICAgdmFyIHRvZG9zTW92aW1pZW50b3MgPSBbXTsKICAgICAgdGhpcy5zdWJOb2Rvcy5mb3JFYWNoKChzdWJub2RvKSA9PiB7CiAgICAgICAgdG9kb3NNb3ZpbWllbnRvcy5wdXNoKAogICAgICAgICAgLi4uc3Vibm9kby5tb3ZpbWllbnRvc0RpbmVyby5tYXAoKG1kKSA9PiB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgLi4ubWQsCiAgICAgICAgICAgICAgbm9kb093bmVyOiB7CiAgICAgICAgICAgICAgICBpZDogc3Vibm9kby5pZCwKICAgICAgICAgICAgICAgIG5vbWJyZTogc3Vibm9kby5ub21icmUsCiAgICAgICAgICAgICAgICB0aXBvTm9kbzogc3Vibm9kby50aXBvTm9kbywKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9OwogICAgICAgICAgfSkKICAgICAgICApOwogICAgICB9KTsKCiAgICAgIHJldHVybiB0b2Rvc01vdmltaWVudG9zOwogICAgfSwKICAgIGV2ZW50b3NTdWJub2RvcygpIHsKICAgICAgdmFyIHRvZG9zRXZlbnRvcyA9IFtdOwogICAgICB0aGlzLnN1Yk5vZG9zLmZvckVhY2goKHN1Ym5vZG8pID0+IHsKICAgICAgICB0b2Rvc0V2ZW50b3MucHVzaCgKICAgICAgICAgIC4uLnN1Ym5vZG8uZXZlbnRvcy5tYXAoKGV2KSA9PiB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgLi4uZXYsCiAgICAgICAgICAgICAgbm9kb093bmVyOiB7CiAgICAgICAgICAgICAgICBpZDogc3Vibm9kby5pZCwKICAgICAgICAgICAgICAgIG5vbWJyZTogc3Vibm9kby5ub21icmUsCiAgICAgICAgICAgICAgICB0aXBvTm9kbzogc3Vibm9kby50aXBvTm9kbywKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9OwogICAgICAgICAgfSkKICAgICAgICApOwogICAgICB9KTsKCiAgICAgIHJldHVybiB0b2Rvc0V2ZW50b3M7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["TablaAdministracion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"TablaAdministracion.vue","sourceRoot":"src/components/atlasSolidaridad/homeNodo/tablaAdministracion","sourcesContent":["<template>\n  <div id=\"tablaAdministracion\">\n    <div id=\"barraSuperior\">\n      <div id=\"contenedorBotonesCrear\">\n        <div id=\"bloqueMovimientosDinero\" class=\"bloqueCrearItems\">\n          <div\n            class=\"botonBarraSuperior boton\"\n            :style=\"{ opacity: mostrarMovimientosDinero ? 1 : 0.5 }\"\n            :title=\"\n              mostrarMovimientosDinero\n                ? 'Ocultar movimientos de dinero'\n                : 'Mostrar movimientos de dinero'\n            \"\n            @click.stop=\"mostrarMovimientosDinero = !mostrarMovimientosDinero\"\n          >\n            <img src=\"@/assets/iconos/receipt.svg\" alt=\"Factura\" />\n          </div>\n          <div\n            class=\"botonBarraSuperior boton\"\n            :style=\"{ opacity: mostrarMovimientosArbol ? 1 : 0.5 }\"\n            :title=\"\n              mostrarMovimientosDinero\n                ? 'Ocultar movimientos de sub-nodos'\n                : 'Mostrar movimientos de sub-nodos'\n            \"\n            @click.stop=\"mostrarMovimientosArbol = !mostrarMovimientosArbol\"\n          >\n            <img src=\"@/assets/iconos/network.svg\" alt=\"Arbol\" />\n          </div>\n          <div\n            class=\"botonBarraSuperior boton\"\n            v-show=\"!creandoNuevoMovimiento\"\n          >\n            <img\n              src=\"@/assets/iconos/plusCircle.svg\"\n              alt=\"Mas\"\n              title=\"Crear nuevo movimiento de dinero\"\n              @click.stop=\"crearNuevoItemMovimientoDinero\"\n            />\n          </div>\n          <loading texto=\"\" v-show=\"creandoNuevoMovimiento\" />\n        </div>\n\n        <div id=\"bloqueEventos\" class=\"bloqueCrearItems\">\n          <div\n            class=\"botonBarraSuperior boton\"\n            :style=\"{ opacity: mostrarEventos ? 1 : 0.5 }\"\n            :title=\"mostrarEventos ? 'Ocultar eventos' : 'Mostrar eventos'\"\n            @click.stop=\"mostrarEventos = !mostrarEventos\"\n          >\n            <img\n              src=\"@/assets/iconos/exclamationCircle.svg\"\n              alt=\"ExclamaciÃ³n\"\n            />\n          </div>\n          <div\n            class=\"botonBarraSuperior boton\"\n            :style=\"{ opacity: mostrarEventosArbol ? 1 : 0.5 }\"\n            :title=\"\n              mostrarEventos\n                ? 'Ocultar eventos de sub-nodos'\n                : 'Mostrar eventos de sub-nodos'\n            \"\n            @click.stop=\"mostrarEventosArbol = !mostrarEventosArbol\"\n          >\n            <img src=\"@/assets/iconos/network.svg\" alt=\"Arbol\" />\n          </div>\n          <div class=\"botonBarraSuperior boton\" v-show=\"!creandoNuevoEvento\">\n            <img\n              src=\"@/assets/iconos/plusCircle.svg\"\n              alt=\"Mas\"\n              title=\"Crear nuevo evento\"\n              @click.stop=\"crearNuevoItemEvento\"\n            />\n          </div>\n          <loading texto=\"\" v-show=\"creandoNuevoEvento\" />\n        </div>\n      </div>\n    </div>\n\n    <div id=\"laTabla\">\n      <div class=\"campoItem\" v-for=\"item of items\" :key=\"item.id\">\n        <item-tabla-movimiento-dinero\n          :usuarioResponsableAmplioNodo=\"usuarioResponsableAmplioNodo\"\n          :idNodo=\"idNodo\"\n          :esteMovimiento=\"item\"\n          v-if=\"item.__typename === 'MovimientoDineroNodoSolidaridad'\"\n          @meElimine=\"eliminarMovimientoCache(item.id)\"\n        />\n        <item-tabla-evento\n          :esteEvento=\"item\"\n          :usuarioResponsableAmplioNodo=\"usuarioResponsableAmplioNodo\"\n          :idNodo=\"idNodo\"\n          :esteMovimiento=\"item\"\n          v-if=\"item.__typename === 'EventoNodoSolidaridad'\"\n          @meElimine=\"eliminarEventoCache(item.id)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport {\n  fragmentoEventoNodoSolidaridad,\n  fragmentoMovimientoDineroNodoSolidaridad,\n} from \"../../frags\";\nimport ItemTablaMovimientoDinero from \"../tablaAdministracion/ItemTablaMovimientoDinero.vue\";\nimport Loading from \"../../../utilidades/Loading.vue\";\nimport ItemTablaEvento from \"../tablaAdministracion/ItemTablaEvento.vue\";\nimport {QUERY_ESTE_NODO} from \"../HomeNodo.vue\"\nexport default {\n  components: { ItemTablaMovimientoDinero, Loading, ItemTablaEvento },\n  name: \"TablaAdministracion\",\n\n  props: {\n    movimientos: Array,\n    eventos: Array,\n    idNodo: String,\n    usuarioResponsableAmplioNodo: Boolean,\n    subNodos: Array,\n  },\n  data() {\n    return {\n      mostrarMovimientosDinero: true,\n      creandoNuevoMovimiento: false,\n      mostrarMovimientosArbol:true,\n\n      mostrarEventos: true,\n      creandoNuevoEvento: false,\n      mostrarEventosArbol:true,\n      \n    };\n  },\n  methods: {\n    crearNuevoItemMovimientoDinero() {\n      this.creandoNuevoMovimiento = true;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!) {\n              crearNuevoMovimientoDineroNodoSolidaridad(idNodo: $idNodo) {\n                ...fragMovimientoDineroNodoSolidaridad\n              }\n            }\n            ${fragmentoMovimientoDineroNodoSolidaridad}\n          `,\n          variables: {\n            idNodo: this.$route.params.id,\n          },\n        })\n        .then(({ data: { crearNuevoMovimientoDineroNodoSolidaridad } }) => {\n          const store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_ESTE_NODO,\n            variables: {\n              idNodo: this.idNodo\n            },\n          });\n\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          var movimientosDinero = nuevoCache.nodoSolidaridad.movimientosDinero;\n\n          const indexN = movimientosDinero.findIndex(\n            (mv) => mv.id === crearNuevoMovimientoDineroNodoSolidaridad.id\n          );\n          if (indexN === -1) {\n            movimientosDinero.push(crearNuevoMovimientoDineroNodoSolidaridad);\n            store.writeQuery({\n              query: QUERY_ESTE_NODO,\n              variables: {\n                idNodo: this.idNodo\n              },\n              data: nuevoCache,\n            });\n          }\n          this.creandoNuevoMovimiento = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.creandoNuevoMovimiento = false;\n        });\n    },\n    crearNuevoItemEvento() {\n      this.creandoNuevoEvento = true;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!) {\n              crearNuevoEventoNodoSolidaridad(idNodo: $idNodo) {\n                ...fragEventoNodoSolidaridad\n              }\n            }\n            ${fragmentoEventoNodoSolidaridad}\n          `,\n          variables: {\n            idNodo: this.$route.params.id,\n          },\n        })\n        .then(({ data: { crearNuevoEventoNodoSolidaridad } }) => {\n          const store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_ESTE_NODO,\n            variables: {\n              idNodo: this.idNodo\n            },\n          });\n\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          var eventos = nuevoCache.nodoSolidaridad.eventos;\n\n          const indexN = eventos.findIndex(\n            (ev) => ev.id === crearNuevoEventoNodoSolidaridad.id\n          );\n          if (indexN === -1) {\n            eventos.push(crearNuevoEventoNodoSolidaridad);\n            store.writeQuery({\n              query: QUERY_ESTE_NODO,\n              variables: {\n                idNodo: this.idNodo\n              },\n              data: nuevoCache,\n            });\n          }\n          this.creandoNuevoEvento = false;\n\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.creandoNuevoEvento = false;\n        });\n    },\n    eliminarMovimientoCache(idMovimientoEliminado){\n      console.log(`Eliminando mov de cache`);\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_ESTE_NODO,\n        variables: {\n          idNodo: this.idNodo,\n        },\n      });\n\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n      var movimientosDinero = nuevoCache.nodoSolidaridad.movimientosDinero;\n\n      const indexN = movimientosDinero.findIndex(\n        (md) => md.id === idMovimientoEliminado\n      );\n      if (indexN > -1) {\n        movimientosDinero.splice(indexN, 1);\n        store.writeQuery({\n          query: QUERY_ESTE_NODO,\n          variables: {\n            idNodo: this.idNodo,\n          },\n          data: nuevoCache,\n        });\n      }\n      \n    },\n    eliminarEventoCache(idEventoEliminado){\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_ESTE_NODO,\n        variables: {\n          idNodo: this.idNodo,\n        },\n      });\n\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n      var eventos = nuevoCache.nodoSolidaridad.eventos;\n\n      const indexN = eventos.findIndex(\n        (e) => e.id === idEventoEliminado\n      );\n      if (indexN > -1) {\n        eventos.splice(indexN, 1);\n        store.writeQuery({\n          query: QUERY_ESTE_NODO,\n          variables: {\n            idNodo: this.idNodo,\n          },\n          data: nuevoCache,\n        });\n      }\n      \n    }\n  },\n  computed: {\n    items() {\n      var items = [];\n      if (this.mostrarMovimientosDinero) {\n        items = items.concat(this.movimientos);\n        if(this.mostrarMovimientosArbol){\n          items=items.concat(this.movimientosDineroSubnodos);\n        }\n      }\n      if (this.mostrarEventos) {\n        items = items.concat(this.eventos);\n        if(this.mostrarEventosArbol){\n          items=items.concat(this.eventosSubnodos);\n        }\n      }\n      items.sort((a, b) => Date.parse(a.fecha) - Date.parse(b.fecha));\n      return items;\n    },\n    movimientosDineroSubnodos() {\n      var todosMovimientos = [];\n      this.subNodos.forEach((subnodo) => {\n        todosMovimientos.push(\n          ...subnodo.movimientosDinero.map((md) => {\n            return {\n              ...md,\n              nodoOwner: {\n                id: subnodo.id,\n                nombre: subnodo.nombre,\n                tipoNodo: subnodo.tipoNodo,\n              },\n            };\n          })\n        );\n      });\n\n      return todosMovimientos;\n    },\n    eventosSubnodos() {\n      var todosEventos = [];\n      this.subNodos.forEach((subnodo) => {\n        todosEventos.push(\n          ...subnodo.eventos.map((ev) => {\n            return {\n              ...ev,\n              nodoOwner: {\n                id: subnodo.id,\n                nombre: subnodo.nombre,\n                tipoNodo: subnodo.tipoNodo,\n              },\n            };\n          })\n        );\n      });\n\n      return todosEventos;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#barraSuperior {\n  display: flex;\n  margin-bottom: 25px;\n}\n.botonBarraSuperior {\n  margin: 0px 10px;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.botonBarraSuperior:hover {\n  opacity: 1;\n}\n.botonBarraSuperior img {\n  width: 100%;\n  height: 100%;\n}\n#contenedorBotonesCrear {\n  margin-left: auto;\n}\n.bloqueCrearItems {\n  display: flex;\n  margin-bottom: 10px;\n  padding-right: 1vw;\n}\n\n.bloqueCrearItems .boton {\n  margin: 0px 5px;\n}\n</style>"]}]}