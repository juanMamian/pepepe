{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/calendario/BloqueHorario.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/calendario/BloqueHorario.vue","mtime":1674484905022},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgTG9hZGluZyBmcm9tICIuLi91dGlsaWRhZGVzL0xvYWRpbmcudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgTG9hZGluZyB9LAogIG5hbWU6ICJCbG9xdWVIb3JhcmlvIiwKICBwcm9wczogewogICAgZXN0ZUJsb3F1ZTogT2JqZWN0LAogICAgaWRCbG9xdWVTZWxlY2Npb25hZG86IFN0cmluZywKICAgIGZhY3Rvclpvb206IE51bWJlciwKICAgIGlkQmxvcXVlTWVudUNvbnRleHR1YWw6IFN0cmluZywKICB9LAoKICBkYXRhKCkgewogICAgdmFyIGNvbG9yZXNFc3BhY2lvcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjb2xvcmVzRXNwYWNpb3MiKQogICAgICA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImNvbG9yZXNFc3BhY2lvcyIpKQogICAgICA6IFtdOwoKICAgIHJldHVybiB7CiAgICAgIGNvbG9yZXNFc3BhY2lvcywKICAgICAgZWxpbWluYW5kb3NlOiBmYWxzZSwKICAgICAgc2V0dGluZ1RpZW1wb3M6IGZhbHNlLAogICAgICBtb3N0cmFyVmVudGFuYTogZmFsc2UsCgogICAgICBlZGl0YW5kb0hvcmFJbmljaW86IGZhbHNlLAogICAgICBlZGl0YW5kb0hvcmFGaW5hbDogZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGR1cmFjaW9uTWludXRvcygpIHsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoCiAgICAgICAgKHRoaXMuZXN0ZUJsb3F1ZS5taWxsaXNGaW5hbCAtIHRoaXMuZXN0ZUJsb3F1ZS5taWxsaXNJbmljaW8pIC8gNjAwMDAKICAgICAgKTsKICAgIH0sCiAgICBtb3N0cmFuZG9NZW51Q29udGV4dHVhbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaWRCbG9xdWVNZW51Q29udGV4dHVhbCA9PT0gdGhpcy5lc3RlQmxvcXVlLmlkOwogICAgfSwKICAgIG1pQ29sb3IoKSB7CiAgICAgIGlmICghdGhpcy5jb2xvcmVzRXNwYWNpb3MpIHsKICAgICAgICByZXR1cm4gIiNhMDRkNGQiOwogICAgICB9CiAgICAgIGNvbnN0IG1pSW5kZXggPSB0aGlzLmNvbG9yZXNFc3BhY2lvcy5maW5kSW5kZXgoCiAgICAgICAgKGQpID0+IGRbMF0gPT09IHRoaXMuZXN0ZUJsb3F1ZS5pZEVzcGFjaW8KICAgICAgKTsKCiAgICAgIGlmIChtaUluZGV4ID4gLTEpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb2xvcmVzRXNwYWNpb3NbbWlJbmRleF1bMV07CiAgICAgIH0KCiAgICAgIHJldHVybiAiI2EwNGQ0ZCI7CiAgICB9LAogICAgc2VsZWNjaW9uYWRvKCkgewogICAgICByZXR1cm4gdGhpcy5pZEJsb3F1ZVNlbGVjY2lvbmFkbyA9PT0gdGhpcy5lc3RlQmxvcXVlLmlkOwogICAgfSwKICAgIHVzdWFyaW9BZG1pbmlzdHJhZG9yKCkgewogICAgICByZXR1cm4gdGhpcy51c3VhcmlvLmlkID09PSB0aGlzLmVzdGVCbG9xdWUuaWRBZG1pbmlzdHJhZG9yRXNwYWNpbzsKICAgIH0sCiAgICBtaW51dG9zSW5pY2lvKCkgewogICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmVzdGVCbG9xdWUubWlsbGlzSW5pY2lvIC8gNjAwMDApOwogICAgfSwKICAgIG1pbnV0b3NGaW5hbCgpIHsKICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5lc3RlQmxvcXVlLm1pbGxpc0ZpbmFsIC8gNjAwMDApOwogICAgfSwKICAgIHRpZW1wb0luaWNpb0Zvcm1hdGVhZG8oKSB7CiAgICAgIHJldHVybiB0aGlzLnRvVGllbXBvRm9ybWF0ZWFkbyh0aGlzLm1pbnV0b3NJbmljaW8pOwogICAgfSwKICAgIHRpZW1wb0ZpbmFsRm9ybWF0ZWFkbygpIHsKICAgICAgcmV0dXJuIHRoaXMudG9UaWVtcG9Gb3JtYXRlYWRvKHRoaXMubWludXRvc0ZpbmFsKTsKICAgIH0sCiAgICB1c3VhcmlvQXNpc3RlKCkgewogICAgICByZXR1cm4gKAogICAgICAgIHRoaXMudXN1YXJpb0FkbWluaXN0cmFkb3IgfHwKICAgICAgICB0aGlzLmVzdGVCbG9xdWUuaWRzUGFydGljaXBhbnRlc0NvbnN0YW50ZXMuaW5jbHVkZXModGhpcy51c3VhcmlvLmlkKQogICAgICApOwogICAgfSwKICAgIGNvbG9yQmFycmFUYWcoKSB7CiAgICAgIHZhciBjb2xvciA9ICJyZ2IoMTgyIDE4MiAxODIpIjsKCiAgICAgIGlmICh0aGlzLnVzdWFyaW9Bc2lzdGUpIHsKICAgICAgICBjb2xvciA9ICJ2YXIoLS1jYWxlbmRhcmlvVXN1YXJpbykiOwogICAgICB9CiAgICAgIGlmKHRoaXMudXN1YXJpb0FkbWluaXN0cmFkb3IpewogICAgICAgIGNvbG9yID0gInZhcigtLWNhbGVuZGFyaW9Vc3VhcmlvU3Ryb25nKSI7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLAogICAgICB9OwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldENvbG9yRXNwYWNpbygpIHsKICAgICAgY29uc3QgaW5wdXRDb2xvciA9IHRoaXMuJHJlZnMuaW5wdXRDb2xvcjsKICAgICAgY29uc29sZS5sb2coCiAgICAgICAgYFNldHRpbmcgY29sb3IgZW4gJHtpbnB1dENvbG9yLnZhbHVlfSBwYXJhIGVsIGVzcGFjaW8gJHt0aGlzLmVzdGVCbG9xdWUubm9tYnJlRXNwYWNpb30gY29uIGlkICR7dGhpcy5lc3RlQmxvcXVlLmlkRXNwYWNpb31gCiAgICAgICk7CgogICAgICBjb25zdCBpbmRleER1cGxhID0gdGhpcy5jb2xvcmVzRXNwYWNpb3MuZmluZEluZGV4KAogICAgICAgIChkKSA9PiBkWzBdID09PSB0aGlzLmVzdGVCbG9xdWUuaWRFc3BhY2lvCiAgICAgICk7CgogICAgICBpZiAoaW5kZXhEdXBsYSA+IC0xKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29sb3Jlc0VzcGFjaW9zLCBpbmRleER1cGxhLCBbCiAgICAgICAgICB0aGlzLmVzdGVCbG9xdWUuaWRFc3BhY2lvLAogICAgICAgICAgaW5wdXRDb2xvci52YWx1ZSwKICAgICAgICBdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbG9yZXNFc3BhY2lvcy5wdXNoKFsKICAgICAgICAgIHRoaXMuZXN0ZUJsb3F1ZS5pZEVzcGFjaW8sCiAgICAgICAgICBpbnB1dENvbG9yLnZhbHVlLAogICAgICAgIF0pOwogICAgICB9CgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgICAiY29sb3Jlc0VzcGFjaW9zIiwKICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbG9yZXNFc3BhY2lvcykKICAgICAgKTsKICAgIH0sCiAgICBlbGltaW5hcnNlKCkgewogICAgICBpZiAoIXRoaXMudXN1YXJpb0FkbWluaXN0cmFkb3IgJiYgIXRoaXMudXN1YXJpb1N1cGVyYWRtaW5pc3RyYWRvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJObyBhdXRvcml6YWRvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmVsaW1pbmFuZG9zZSA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpZEVzcGFjaW86IElEISwgJGlkSXRlcmFjaW9uOiBJRCEpIHsKICAgICAgICAgICAgICBlbGltaW5hckl0ZXJhY2lvblNlbWFuYWxFc3BhY2lvKAogICAgICAgICAgICAgICAgaWRFc3BhY2lvOiAkaWRFc3BhY2lvCiAgICAgICAgICAgICAgICBpZEl0ZXJhY2lvbjogJGlkSXRlcmFjaW9uCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkRXNwYWNpbzogdGhpcy5lc3RlQmxvcXVlLmlkRXNwYWNpbywKICAgICAgICAgICAgaWRJdGVyYWNpb246IHRoaXMuZXN0ZUJsb3F1ZS5pZCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmVsaW1pbmFuZG9zZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kZW1pdCgibWVFbGltaW5lIik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3I6ICIgKyBlcnJvcik7CiAgICAgICAgICB0aGlzLmVsaW1pbmFuZG9zZSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZUR1cmFjaW9uQmxvcXVlKCkgewogICAgICBjb25zb2xlLmxvZygKICAgICAgICBgVG9nZ2xlYW5kbyBibG9xdWUgcXVlIHRpZW5lIG1pbnV0b3NJbmljaW8gJHt0aGlzLm1pbnV0b3NJbmljaW99IHkgbWludXRvc0ZpbmFsICR7dGhpcy5taW51dG9zRmluYWx9YAogICAgICApOwoKICAgICAgaWYoIXRoaXMudXN1YXJpb0FkbWluaXN0cmFkb3IgJiYgIXRoaXMudXN1YXJpb1N1cGVyYWRtaW5pc3RyYWRvcil7CiAgICAgICAgY29uc29sZS5sb2coIk5vIGF1dG9yaXphZG8iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm1pbnV0b3NJbmljaW8gPT09IDQ4MCkgewogICAgICAgIGlmICh0aGlzLm1pbnV0b3NGaW5hbCA9PT0gNjAwKSB7CiAgICAgICAgICB0aGlzLnNldE1pbnV0b3MoNDgwLCA1NDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldE1pbnV0b3MoNDgwLCA2MDApOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLm1pbnV0b3NJbmljaW8gPT09IDU0MCkgewogICAgICAgIHRoaXMuc2V0TWludXRvcyg0ODAsIDYwMCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5taW51dG9zSW5pY2lvID09PSA2MzApIHsKICAgICAgICBpZiAodGhpcy5taW51dG9zRmluYWwgPT09IDc1MCkgewogICAgICAgICAgdGhpcy5zZXRNaW51dG9zKDYzMCwgNjkwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZXRNaW51dG9zKDYzMCwgNzUwKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5taW51dG9zSW5pY2lvID09PSA2OTApIHsKICAgICAgICB0aGlzLnNldE1pbnV0b3MoNjMwLCA3NTApOwogICAgICB9IGVsc2UgaWYgKHRoaXMubWludXRvc0luaWNpbyA9PT0gODEwKSB7CiAgICAgICAgaWYgKHRoaXMubWludXRvc0ZpbmFsID09PSA5MzApIHsKICAgICAgICAgIHRoaXMuc2V0TWludXRvcyg4MTAsIDg3MCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2V0TWludXRvcyg4MTAsIDkzMCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMubWludXRvc0luaWNpbyA9PT0gODcwKSB7CiAgICAgICAgdGhpcy5zZXRNaW51dG9zKDg3MCwgOTMwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyhgTm8gc2UgcHVkbyB0b2dnbGVhciBlbCBibG9xdWVgKTsKICAgICAgfQogICAgfSwKICAgIHNldE1pbnV0b3MobWludXRvc0luaWNpbywgbWludXRvc0ZpbmFsKSB7CiAgICAgIGNvbnN0IG1pbGxpc0luaWNpbyA9IG1pbnV0b3NJbmljaW8gKiA2MDAwMDsKICAgICAgY29uc3QgbWlsbGlzRmluYWwgPSBtaW51dG9zRmluYWwgKiA2MDAwMDsKCiAgICAgIHRoaXMuc2V0dGluZ1RpZW1wb3MgPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgKICAgICAgICAgICAgICAkaWRFc3BhY2lvOiBJRCEKICAgICAgICAgICAgICAkaWRJdGVyYWNpb246IElEIQogICAgICAgICAgICAgICRtaWxsaXNJbmljaW86IEludCEKICAgICAgICAgICAgICAkbWlsbGlzRmluYWw6IEludCEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgc2V0VGllbXBvc0l0ZXJhY2lvblNlbWFuYWxFc3BhY2lvKAogICAgICAgICAgICAgICAgaWRFc3BhY2lvOiAkaWRFc3BhY2lvCiAgICAgICAgICAgICAgICBpZEl0ZXJhY2lvbjogJGlkSXRlcmFjaW9uCiAgICAgICAgICAgICAgICBtaWxsaXNJbmljaW86ICRtaWxsaXNJbmljaW8KICAgICAgICAgICAgICAgIG1pbGxpc0ZpbmFsOiAkbWlsbGlzRmluYWwKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICBtaWxsaXNJbmljaW8KICAgICAgICAgICAgICAgIG1pbGxpc0ZpbmFsCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkRXNwYWNpbzogdGhpcy5lc3RlQmxvcXVlLmlkRXNwYWNpbywKICAgICAgICAgICAgaWRJdGVyYWNpb246IHRoaXMuZXN0ZUJsb3F1ZS5pZCwKICAgICAgICAgICAgbWlsbGlzSW5pY2lvLAogICAgICAgICAgICBtaWxsaXNGaW5hbCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnNldHRpbmdUaWVtcG9zID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3I6ICIgKyBlcnJvcik7CiAgICAgICAgICB0aGlzLnNldHRpbmdUaWVtcG9zID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgZXhwYW5kaXIoKSB7CiAgICAgIHRoaXMuJGVtaXQoImV4cGFuZGlybWUiKTsKICAgIH0sCiAgICBpbmljaWFyU2V0SG9yYUluaWNpbygpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dEhvcmFJbmljaW8udmFsdWUgPSB0aGlzLnRvVGllbXBvRm9ybWF0ZWFkbygKICAgICAgICB0aGlzLm1pbnV0b3NJbmljaW8KICAgICAgKTsKICAgICAgdGhpcy5lZGl0YW5kb0hvcmFJbmljaW8gPSB0cnVlOwogICAgICB0aGlzLmVkaXRhbmRvSG9yYUZpbmFsID0gZmFsc2U7CiAgICB9LAogICAgaW5pY2lhclNldEhvcmFGaW5hbCgpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dEhvcmFGaW5hbC52YWx1ZSA9IHRoaXMudG9UaWVtcG9Gb3JtYXRlYWRvKAogICAgICAgIHRoaXMubWludXRvc0ZpbmFsCiAgICAgICk7CiAgICAgIHRoaXMuZWRpdGFuZG9Ib3JhRmluYWwgPSB0cnVlOwogICAgICB0aGlzLmVkaXRhbmRvSG9yYUluaWNpbyA9IGZhbHNlOwogICAgfSwKICAgIHRvVGllbXBvRm9ybWF0ZWFkbyhtaW51dG9zKSB7CiAgICAgIHZhciBob3JhcyA9IE1hdGguZmxvb3IobWludXRvcyAvIDYwKTsKICAgICAgaWYgKFN0cmluZyhob3JhcykubGVuZ3RoIDwgMikgewogICAgICAgIGhvcmFzID0gIjAiICsgaG9yYXM7CiAgICAgIH0KCiAgICAgIHZhciBtaW51dG9zU29sb3MgPSBTdHJpbmcoTWF0aC5yb3VuZChtaW51dG9zIC0gaG9yYXMgKiA2MCkpOwoKICAgICAgaWYgKG1pbnV0b3NTb2xvcy5sZW5ndGggPCAyKSB7CiAgICAgICAgbWludXRvc1NvbG9zID0gIjAiICsgbWludXRvc1NvbG9zOwogICAgICB9CgogICAgICByZXR1cm4gaG9yYXMgKyAiOiIgKyBtaW51dG9zU29sb3M7CiAgICB9LAogICAgc2V0SG9yYUluaWNpbygpIHsKICAgICAgY29uc29sZS5sb2coYFNldHRpbmcgaG9yYSBpbmljaW9gKTsKICAgICAgY29uc3QgaW5wdXRUaW1lID0gdGhpcy4kcmVmcy5pbnB1dEhvcmFJbmljaW8udmFsdWUuc3BsaXQoIjoiKTsKICAgICAgY29uc3QgaW5wdXRIb3JhcyA9IHBhcnNlSW50KGlucHV0VGltZVswXSk7CiAgICAgIGNvbnN0IGlucHV0TWludXRvcyA9IHBhcnNlSW50KGlucHV0VGltZVsxXSk7CgogICAgICBjb25zdCBtaW51dG9zVG90YWwgPSBpbnB1dEhvcmFzICogNjAgKyBpbnB1dE1pbnV0b3M7CgogICAgICBjb25zb2xlLmxvZygiTnVldm8gbWludXRvcyBpbmljaW86ICIgKyBtaW51dG9zVG90YWwpOwogICAgICB0aGlzLnNldE1pbnV0b3MobWludXRvc1RvdGFsLCB0aGlzLm1pbnV0b3NGaW5hbCk7CiAgICB9LAogICAgc2V0SG9yYUZpbmFsKCkgewogICAgICBjb25zb2xlLmxvZyhgU2V0dGluZyBob3JhIGZpbmFsYCk7CiAgICAgIGNvbnN0IGlucHV0VGltZSA9IHRoaXMuJHJlZnMuaW5wdXRIb3JhRmluYWwudmFsdWUuc3BsaXQoIjoiKTsKICAgICAgY29uc3QgaW5wdXRIb3JhcyA9IHBhcnNlSW50KGlucHV0VGltZVswXSk7CiAgICAgIGNvbnN0IGlucHV0TWludXRvcyA9IHBhcnNlSW50KGlucHV0VGltZVsxXSk7CgogICAgICBjb25zdCBtaW51dG9zVG90YWwgPSBpbnB1dEhvcmFzICogNjAgKyBpbnB1dE1pbnV0b3M7CgogICAgICBjb25zb2xlLmxvZygiTnVldm8gbWludXRvcyBmaW5hbDogIiArIG1pbnV0b3NUb3RhbCk7CiAgICAgIHRoaXMuc2V0TWludXRvcyh0aGlzLm1pbnV0b3NJbmljaW8sIG1pbnV0b3NUb3RhbCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["BloqueHorario.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"BloqueHorario.vue","sourceRoot":"src/components/calendario","sourcesContent":["<template>\n  <div\n    class=\"bloqueHorario\"\n    :class=\"{\n      seleccionado,\n      deshabilitado: eliminandose || settingTiempos,\n      usuarioAsiste,\n    }\"\n    :style=\"[\n      { width: duracionMinutos * factorZoom + 'px', backgroundColor: miColor },\n    ]\"\n    @contextmenu.exact.prevent.stop=\"$emit('menuContextual', esteBloque.id)\"\n    @dblclick=\"toggleDuracionBloque\"\n    @click.left=\"$emit('seleccionado')\"\n  >\n    <div\n      class=\"boton\"\n      v-show=\"seleccionado\"\n      @click.stop=\"$emit('menuContextual', esteBloque.id)\"\n      id=\"botonOpciones\"\n    >\n      <img src=\"@/assets/iconos/ellipsisVertical.svg\" alt=\"Opciones\" />\n    </div>\n    <div id=\"barraTag\" :style=\"[colorBarraTag]\">\n      <div id=\"nombre\">\n        <img src='@/assets/iconos/babySolid.svg' v-if=\"esteBloque.paraChiquis\" alt='bebé' style='height: 15px' />{{ esteBloque.nombreEspacio }}\n      </div>\n    </div>\n\n    <div\n      id=\"botonExpandir\"\n      class=\"boton\"\n      style=\"margin: 0px auto\"\n      @click.stop=\"expandir\"\n      v-show=\"seleccionado\"\n    >\n      <img src=\"@/assets/iconos/expand.svg\" alt=\"expandir\" style=\"\" />\n    </div>\n\n    <loading v-show=\"eliminandose || settingTiempos\" />\n\n    <div\n      id=\"menuContextual\"\n      :class=\"{ seleccionado }\"\n      @click.stop=\"\"\n      @dblclick.stop=\"\"\n      v-show=\"mostrandoMenuContextual\"\n    >\n      <div\n        class=\"itemMenuContextual\"\n        v-if=\"usuarioAdministrador || usuarioSuperadministrador\"\n        @click=\"eliminarse\"\n      >\n        Eliminar\n      </div>\n      <div class=\"itemMenuContextual\"  @click=\"$refs.inputColor.click()\">\n        Seleccionar color\n      </div>\n      <div class=\"itemMenuContextual\" v-if=\"usuarioAdministrador || usuarioSuperadministrador\" @click=\"iniciarSetHoraInicio\">\n        Fijar hora de inicio\n      </div>\n      <input\n        type=\"time\"\n        :value=\"tiempoInicioFormateado\"\n        v-show=\"editandoHoraInicio\"\n        ref=\"inputHoraInicio\"\n        id=\"inputHoraInicio\"\n        @change=\"setHoraInicio\"\n      />\n\n      <div class=\"itemMenuContextual\" v-if=\"usuarioAdministrador || usuarioSuperadministrador\" @click=\"iniciarSetHoraFinal\">\n        Fijar hora de finalización\n      </div>\n      <input\n        type=\"time\"\n        :value=\"tiempoFinalFormateado\"\n        v-show=\"editandoHoraFinal\"\n        ref=\"inputHoraFinal\"\n        id=\"inputHoraFinal\"\n        @change=\"setHoraFinal\"\n      />\n\n      <input\n        type=\"color\"\n        ref=\"inputColor\"\n        @change=\"setColorEspacio\"\n        v-show=\"false\"\n        id=\"inputColor\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\nexport default {\n  components: { Loading },\n  name: \"BloqueHorario\",\n  props: {\n    esteBloque: Object,\n    idBloqueSeleccionado: String,\n    factorZoom: Number,\n    idBloqueMenuContextual: String,\n  },\n\n  data() {\n    var coloresEspacios = localStorage.getItem(\"coloresEspacios\")\n      ? JSON.parse(localStorage.getItem(\"coloresEspacios\"))\n      : [];\n\n    return {\n      coloresEspacios,\n      eliminandose: false,\n      settingTiempos: false,\n      mostrarVentana: false,\n\n      editandoHoraInicio: false,\n      editandoHoraFinal: false,\n    };\n  },\n  computed: {\n    duracionMinutos() {\n      return Math.round(\n        (this.esteBloque.millisFinal - this.esteBloque.millisInicio) / 60000\n      );\n    },\n    mostrandoMenuContextual() {\n      return this.idBloqueMenuContextual === this.esteBloque.id;\n    },\n    miColor() {\n      if (!this.coloresEspacios) {\n        return \"#a04d4d\";\n      }\n      const miIndex = this.coloresEspacios.findIndex(\n        (d) => d[0] === this.esteBloque.idEspacio\n      );\n\n      if (miIndex > -1) {\n        return this.coloresEspacios[miIndex][1];\n      }\n\n      return \"#a04d4d\";\n    },\n    seleccionado() {\n      return this.idBloqueSeleccionado === this.esteBloque.id;\n    },\n    usuarioAdministrador() {\n      return this.usuario.id === this.esteBloque.idAdministradorEspacio;\n    },\n    minutosInicio() {\n      return Math.round(this.esteBloque.millisInicio / 60000);\n    },\n    minutosFinal() {\n      return Math.round(this.esteBloque.millisFinal / 60000);\n    },\n    tiempoInicioFormateado() {\n      return this.toTiempoFormateado(this.minutosInicio);\n    },\n    tiempoFinalFormateado() {\n      return this.toTiempoFormateado(this.minutosFinal);\n    },\n    usuarioAsiste() {\n      return (\n        this.usuarioAdministrador ||\n        this.esteBloque.idsParticipantesConstantes.includes(this.usuario.id)\n      );\n    },\n    colorBarraTag() {\n      var color = \"rgb(182 182 182)\";\n\n      if (this.usuarioAsiste) {\n        color = \"var(--calendarioUsuario)\";\n      }\n      if(this.usuarioAdministrador){\n        color = \"var(--calendarioUsuarioStrong)\";\n      }\n      return {\n        backgroundColor: color,\n      };\n    },\n  },\n  methods: {\n    setColorEspacio() {\n      const inputColor = this.$refs.inputColor;\n      console.log(\n        `Setting color en ${inputColor.value} para el espacio ${this.esteBloque.nombreEspacio} con id ${this.esteBloque.idEspacio}`\n      );\n\n      const indexDupla = this.coloresEspacios.findIndex(\n        (d) => d[0] === this.esteBloque.idEspacio\n      );\n\n      if (indexDupla > -1) {\n        this.$set(this.coloresEspacios, indexDupla, [\n          this.esteBloque.idEspacio,\n          inputColor.value,\n        ]);\n      } else {\n        this.coloresEspacios.push([\n          this.esteBloque.idEspacio,\n          inputColor.value,\n        ]);\n      }\n\n      localStorage.setItem(\n        \"coloresEspacios\",\n        JSON.stringify(this.coloresEspacios)\n      );\n    },\n    eliminarse() {\n      if (!this.usuarioAdministrador && !this.usuarioSuperadministrador) {\n        console.log(\"No autorizado\");\n        return;\n      }\n\n      this.eliminandose = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idEspacio: ID!, $idIteracion: ID!) {\n              eliminarIteracionSemanalEspacio(\n                idEspacio: $idEspacio\n                idIteracion: $idIteracion\n              )\n            }\n          `,\n          variables: {\n            idEspacio: this.esteBloque.idEspacio,\n            idIteracion: this.esteBloque.id,\n          },\n        })\n        .then(() => {\n          this.eliminandose = false;\n          this.$emit(\"meElimine\");\n        })\n        .catch((error) => {\n          console.log(\"Error: \" + error);\n          this.eliminandose = false;\n        });\n    },\n    toggleDuracionBloque() {\n      console.log(\n        `Toggleando bloque que tiene minutosInicio ${this.minutosInicio} y minutosFinal ${this.minutosFinal}`\n      );\n\n      if(!this.usuarioAdministrador && !this.usuarioSuperadministrador){\n        console.log(\"No autorizado\");\n        return;\n      }\n\n      if (this.minutosInicio === 480) {\n        if (this.minutosFinal === 600) {\n          this.setMinutos(480, 540);\n        } else {\n          this.setMinutos(480, 600);\n        }\n      } else if (this.minutosInicio === 540) {\n        this.setMinutos(480, 600);\n      } else if (this.minutosInicio === 630) {\n        if (this.minutosFinal === 750) {\n          this.setMinutos(630, 690);\n        } else {\n          this.setMinutos(630, 750);\n        }\n      } else if (this.minutosInicio === 690) {\n        this.setMinutos(630, 750);\n      } else if (this.minutosInicio === 810) {\n        if (this.minutosFinal === 930) {\n          this.setMinutos(810, 870);\n        } else {\n          this.setMinutos(810, 930);\n        }\n      } else if (this.minutosInicio === 870) {\n        this.setMinutos(870, 930);\n      } else {\n        console.log(`No se pudo togglear el bloque`);\n      }\n    },\n    setMinutos(minutosInicio, minutosFinal) {\n      const millisInicio = minutosInicio * 60000;\n      const millisFinal = minutosFinal * 60000;\n\n      this.settingTiempos = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation (\n              $idEspacio: ID!\n              $idIteracion: ID!\n              $millisInicio: Int!\n              $millisFinal: Int!\n            ) {\n              setTiemposIteracionSemanalEspacio(\n                idEspacio: $idEspacio\n                idIteracion: $idIteracion\n                millisInicio: $millisInicio\n                millisFinal: $millisFinal\n              ) {\n                id\n                millisInicio\n                millisFinal\n              }\n            }\n          `,\n          variables: {\n            idEspacio: this.esteBloque.idEspacio,\n            idIteracion: this.esteBloque.id,\n            millisInicio,\n            millisFinal,\n          },\n        })\n        .then(() => {\n          this.settingTiempos = false;\n        })\n        .catch((error) => {\n          console.log(\"Error: \" + error);\n          this.settingTiempos = false;\n        });\n    },\n    expandir() {\n      this.$emit(\"expandirme\");\n    },\n    iniciarSetHoraInicio() {\n      this.$refs.inputHoraInicio.value = this.toTiempoFormateado(\n        this.minutosInicio\n      );\n      this.editandoHoraInicio = true;\n      this.editandoHoraFinal = false;\n    },\n    iniciarSetHoraFinal() {\n      this.$refs.inputHoraFinal.value = this.toTiempoFormateado(\n        this.minutosFinal\n      );\n      this.editandoHoraFinal = true;\n      this.editandoHoraInicio = false;\n    },\n    toTiempoFormateado(minutos) {\n      var horas = Math.floor(minutos / 60);\n      if (String(horas).length < 2) {\n        horas = \"0\" + horas;\n      }\n\n      var minutosSolos = String(Math.round(minutos - horas * 60));\n\n      if (minutosSolos.length < 2) {\n        minutosSolos = \"0\" + minutosSolos;\n      }\n\n      return horas + \":\" + minutosSolos;\n    },\n    setHoraInicio() {\n      console.log(`Setting hora inicio`);\n      const inputTime = this.$refs.inputHoraInicio.value.split(\":\");\n      const inputHoras = parseInt(inputTime[0]);\n      const inputMinutos = parseInt(inputTime[1]);\n\n      const minutosTotal = inputHoras * 60 + inputMinutos;\n\n      console.log(\"Nuevo minutos inicio: \" + minutosTotal);\n      this.setMinutos(minutosTotal, this.minutosFinal);\n    },\n    setHoraFinal() {\n      console.log(`Setting hora final`);\n      const inputTime = this.$refs.inputHoraFinal.value.split(\":\");\n      const inputHoras = parseInt(inputTime[0]);\n      const inputMinutos = parseInt(inputTime[1]);\n\n      const minutosTotal = inputHoras * 60 + inputMinutos;\n\n      console.log(\"Nuevo minutos final: \" + minutosTotal);\n      this.setMinutos(this.minutosInicio, minutosTotal);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.bloqueHorario {\n  height: 100px;\n  background-color: #a04d4d;\n  position: absolute;\n  top: 0px;\n  box-sizing: border-box;\n  border: 1px solid rgb(110, 110, 110);\n\n}\n.bloqueHorario.seleccionado {\n  filter: brightness(1.7);\n  border: 2px solid white;\n\n}\n.bloqueHorario.usuarioAsiste {\n}\n#botonOpciones {\n  position: absolute;\n  top: 10px;\n  left: calc(100% + 0px);\n  \n}\n#barraTag {\n  min-height: 20px;\n  width: 100%;\n  border-bottom: 1px solid rgb(204, 204, 204);\n  padding: 5px 10px;\n  box-sizing: border-box;\n}\n#nombre {\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n  align-items: center;\n}\n\n#menuContextual {\n  position: absolute;\n  top: 0%;\n  left: 50%;\n}\n\n#menuContextual.seleccionado {\n  color: black;\n}\n\n#menuContextual:not(.seleccionado) {\n  color: antiquewhite;\n}\n.itemMenuContextual {\n  padding: 10px 10px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.itemMenuContextual:hover {\n  background-color: rgb(59, 59, 59);\n}\n</style>"]}]}