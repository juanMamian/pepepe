{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/calendario/OrganizadorHorarioSemanal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/calendario/OrganizadorHorarioSemanal.vue","mtime":1674484905026},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEaWFPcmdhbml6YWRvckhvcmFyaW8sIHsKICBmcmFnbWVudG9CbG9xdWVIb3JhcmlvLAp9IGZyb20gIi4vRGlhT3JnYW5pemFkb3JIb3JhcmlvLnZ1ZSI7CmltcG9ydCB7IGZyYWdtZW50b0VzcGFjaW8gfSBmcm9tICIuLi9mcmFncyI7CmltcG9ydCB7IGdxbCB9IGZyb20gImFwb2xsby1zZXJ2ZXItY29yZSI7CmltcG9ydCBWZW50YW5hQmxvcXVlSG9yYXJpbyBmcm9tICIuL1ZlbnRhbmFCbG9xdWVIb3JhcmlvLnZ1ZSI7Cgpjb25zdCBRVUVSWV9JVEVSQUNJT05FU19TRU1BTkFMRVNfRVNQQUNJT1MgPSBncWxgCiAgcXVlcnkgKCRpZHNBZG1pbmlzdHJhZG9yZXM6IFtJRF0hKSB7CiAgICBpdGVyYWNpb25lc1NlbWFuYWxlc0VzcGFjaW9zQnlBZG1pbmlzdHJhZG9yZXMoCiAgICAgIGlkc0FkbWluaXN0cmFkb3JlczogJGlkc0FkbWluaXN0cmFkb3JlcwogICAgKSB7CiAgICAgIC4uLmZyYWdCbG9xdWVIb3JhcmlvCiAgICB9CiAgfQogICR7ZnJhZ21lbnRvQmxvcXVlSG9yYXJpb30KYDsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBEaWFPcmdhbml6YWRvckhvcmFyaW8sCiAgICBWZW50YW5hQmxvcXVlSG9yYXJpbywKICB9LAogIHByb3BzOiB7IHlvOiBPYmplY3QgfSwKICBuYW1lOiAiT3JnYW5pemFkb3JIb3JhcmlvU2VtYW5hbCIsCiAgYXBvbGxvOiB7CiAgICBlc3BhY2lvczogewogICAgICBxdWVyeTogZ3FsYAogICAgICAgIHF1ZXJ5ICgkaWRzVXN1YXJpb3M6IFtJRF0hKSB7CiAgICAgICAgICBlc3BhY2lvc0J5VXN1YXJpb3NBZG1pbihpZHNVc3VhcmlvczogJGlkc1VzdWFyaW9zKSB7CiAgICAgICAgICAgIC4uLmZyYWdFc3BhY2lvCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICR7ZnJhZ21lbnRvRXNwYWNpb30KICAgICAgYCwKICAgICAgdmFyaWFibGVzKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZHNVc3VhcmlvczogW3RoaXMudXN1YXJpby5pZF0sCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgdXBkYXRlKHsgZXNwYWNpb3NCeVVzdWFyaW9zQWRtaW4gfSkgewogICAgICAgIGNvbnN0IHByaW1lckVzcGFjaW8gPSBlc3BhY2lvc0J5VXN1YXJpb3NBZG1pbi5maW5kKAogICAgICAgICAgKGUpID0+IGUuaWRBZG1pbmlzdHJhZG9yID09PSB0aGlzLnVzdWFyaW8uaWQKICAgICAgICApOwogICAgICAgIGlmIChwcmltZXJFc3BhY2lvKSB7CiAgICAgICAgICB0aGlzLmlkRXNwYWNpb0NyZWFyID0gcHJpbWVyRXNwYWNpby5pZDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBlc3BhY2lvc0J5VXN1YXJpb3NBZG1pbjsKICAgICAgfSwKICAgICAgc2tpcCgpIHsKICAgICAgICByZXR1cm4gIXRoaXMudXN1YXJpbz8uaWQ7CiAgICAgIH0sCiAgICB9LAogICAgdXN1YXJpb3NQcm9mZTogewogICAgICBxdWVyeTogZ3FsYAogICAgICAgIHF1ZXJ5IHsKICAgICAgICAgIHVzdWFyaW9zUHJvZmUgewogICAgICAgICAgICBpZAogICAgICAgICAgICBub21icmVzCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICBgLAogICAgfSwKICAgIGJsb3F1ZXNIb3JhcmlvOiB7CiAgICAgIHF1ZXJ5OiBRVUVSWV9JVEVSQUNJT05FU19TRU1BTkFMRVNfRVNQQUNJT1MsCiAgICAgIHZhcmlhYmxlcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWRzQWRtaW5pc3RyYWRvcmVzOiB0aGlzLmlkc1VzdWFyaW9zU2VsZWNjaW9uYWRvcywKICAgICAgICB9OwogICAgICB9LAogICAgICBza2lwKCkgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICAhdGhpcy5pZHNVc3Vhcmlvc1NlbGVjY2lvbmFkb3MgfHwKICAgICAgICAgIHRoaXMuaWRzVXN1YXJpb3NTZWxlY2Npb25hZG9zLmxlbmd0aCA8IDEKICAgICAgICApOwogICAgICB9LAogICAgICB1cGRhdGUoeyBpdGVyYWNpb25lc1NlbWFuYWxlc0VzcGFjaW9zQnlBZG1pbmlzdHJhZG9yZXMgfSkgewogICAgICAgIHJldHVybiBpdGVyYWNpb25lc1NlbWFuYWxlc0VzcGFjaW9zQnlBZG1pbmlzdHJhZG9yZXM7CiAgICAgIH0sCiAgICB9LAogICAgYmxvcXVlc0hvcmFyaW9Vc3VhcmlvQXNpc3RlOiB7CiAgICAgIHF1ZXJ5OiBncWxgCiAgICAgICAgcXVlcnkgewogICAgICAgICAgYmxvcXVlc0hvcmFyaW9Vc3VhcmlvQXNpc3RlIHsKICAgICAgICAgICAgLi4uZnJhZ0Jsb3F1ZUhvcmFyaW8KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJHtmcmFnbWVudG9CbG9xdWVIb3JhcmlvfQogICAgICBgLAogICAgICBza2lwKCkgewogICAgICAgIHJldHVybiAhdGhpcy5jb25maWd1cmFjaW9uQWRtaW5pc3RyYWRvcmVzRXNwYWNpb3MuaW5jbHVkZXMoInlvIik7CiAgICAgIH0sCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIGNvbnN0IHN0cmluZ0NvbmZpZ3VyYWNpb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgKICAgICAgImNvbmZpZ3VyYWNpb25Pcmdhbml6YWRvckhvcmFyaW9TZW1hbmFsIgogICAgKTsKCiAgICB2YXIgY29uZmlndXJhY2lvbiA9IHt9OwoKICAgIGlmIChzdHJpbmdDb25maWd1cmFjaW9uKSB7CiAgICAgIGNvbmZpZ3VyYWNpb24gPSBKU09OLnBhcnNlKHN0cmluZ0NvbmZpZ3VyYWNpb24pOwogICAgfQoKICAgIGNvbnNvbGUubG9nKCJMYSBjb25maWd1cmFjacOzbiBlczogIik7CiAgICBjb25zb2xlLnRhYmxlKGNvbmZpZ3VyYWNpb24pOwoKICAgIHJldHVybiB7CiAgICAgIHVzdWFyaW9zUHJvZmU6IFtdLAogICAgICBlc3BhY2lvczogW10sCiAgICAgIGJsb3F1ZXNIb3JhcmlvVXN1YXJpb0FzaXN0ZTogW10sCiAgICAgIGRpYXNTZW1hbmE6IFsiTHVuZXMiLCAiTWFydGVzIiwgIk1pw6lyY29sZXMiLCAiSnVldmVzIiwgIlZpZXJuZXMiXSwKICAgICAgZmFjdG9yWm9vbTogMywKICAgICAgb2Zmc2V0OiA0NzAsCiAgICAgIGlkRXNwYWNpb0NyZWFyOiBudWxsLAoKICAgICAgY29uZmlndXJhY2lvbkFkbWluaXN0cmFkb3Jlc0VzcGFjaW9zOgogICAgICAgIGNvbmZpZ3VyYWNpb24uY29uZmlndXJhY2lvbkFkbWluaXN0cmFkb3Jlc0VzcGFjaW9zIHx8IFsieW8iXSwKICAgICAgbW9zdHJhbmRvQ29uZmlndXJhY2lvbjogZmFsc2UsCiAgICAgIG1vc3RyYXJCbG9xdWVzUGFyYUNoaXF1aXM6CiAgICAgICAgY29uZmlndXJhY2lvbi5tb3N0cmFyQmxvcXVlc1BhcmFDaGlxdWlzICE9IG51bGwgJiYKICAgICAgICBjb25maWd1cmFjaW9uLm1vc3RyYXJCbG9xdWVzUGFyYUNoaXF1aXMgIT0gdW5kZWZpbmVkCiAgICAgICAgICA/IGNvbmZpZ3VyYWNpb24ubW9zdHJhckJsb3F1ZXNQYXJhQ2hpcXVpcwogICAgICAgICAgOiB0cnVlLAogICAgICBtb3N0cmFyQmxvcXVlc1BhcmFUb2RvczoKICAgICAgICBjb25maWd1cmFjaW9uLm1vc3RyYXJCbG9xdWVzUGFyYVRvZG9zICE9IG51bGwgJiYKICAgICAgICBjb25maWd1cmFjaW9uLm1vc3RyYXJCbG9xdWVzUGFyYVRvZG9zICE9IHVuZGVmaW5lZAogICAgICAgICAgPyBjb25maWd1cmFjaW9uLm1vc3RyYXJCbG9xdWVzUGFyYVRvZG9zCiAgICAgICAgICA6IHRydWUsCgogICAgICBibG9xdWVzSG9yYXJpbzogW10sCgogICAgICBpZEJsb3F1ZU1lbnVDb250ZXh0dWFsOiBudWxsLAogICAgICBpZEJsb3F1ZVNlbGVjY2lvbmFkbzogbnVsbCwKCiAgICAgIGlkQmxvcXVlRW5WZW50YW5hOiBudWxsLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0b2Rvc0Jsb3F1ZXNEZXNjYXJnYWRvcygpIHsKICAgICAgcmV0dXJuIHRoaXMuYmxvcXVlc0hvcmFyaW8uY29uY2F0KHRoaXMuYmxvcXVlc0hvcmFyaW9Vc3VhcmlvQXNpc3RlKTsKICAgIH0sCiAgICBlc3BhY2lvc0NyZWFibGVzKCkgewogICAgICByZXR1cm4gdGhpcy5lc3BhY2lvczsKICAgIH0sCiAgICBibG9xdWVFblZlbnRhbmEoKSB7CiAgICAgIGlmICghdGhpcy5pZEJsb3F1ZUVuVmVudGFuYSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy50b2Rvc0Jsb3F1ZXNEZXNjYXJnYWRvcy5maW5kKAogICAgICAgIChibG9xdWUpID0+IGJsb3F1ZS5pZCA9PT0gdGhpcy5pZEJsb3F1ZUVuVmVudGFuYQogICAgICApOwogICAgfSwKICAgIHVzdWFyaW9zU2VsZWNjaW9uYWJsZXMoKSB7CiAgICAgIHZhciBsaXN0YUZpbmFsID0gWy4uLnRoaXMudXN1YXJpb3NQcm9mZV07CgogICAgICBpZiAoCiAgICAgICAgIXRoaXMudXN1YXJpb3NQcm9mZS5zb21lKChwcm9mZSkgPT4gcHJvZmUuaWQgPT09IHRoaXMudXN1YXJpby5pZCkgJiYKICAgICAgICB0aGlzLnlvCiAgICAgICkgewogICAgICAgIGxpc3RhRmluYWwucHVzaCh7CiAgICAgICAgICBpZDogdGhpcy51c3VhcmlvLmlkLAogICAgICAgICAgbm9tYnJlczogdGhpcy55by5ub21icmVzLAogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gbGlzdGFGaW5hbDsKICAgIH0sCiAgICBpZHNVc3Vhcmlvc1NlbGVjY2lvbmFkb3MoKSB7CiAgICAgIHZhciBsaXN0YUZpbmFsID0gW107CiAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYWNpb25BZG1pbmlzdHJhZG9yZXNFc3BhY2lvcy5pbmNsdWRlcygieW8iKSkgewogICAgICAgIGxpc3RhRmluYWwucHVzaCh0aGlzLnVzdWFyaW8uaWQpOwogICAgICB9CgogICAgICBpZiAodGhpcy5jb25maWd1cmFjaW9uQWRtaW5pc3RyYWRvcmVzRXNwYWNpb3MuaW5jbHVkZXMoInByb2Zlc29yeHMiKSkgewogICAgICAgIGxpc3RhRmluYWwucHVzaCguLi50aGlzLnVzdWFyaW9zUHJvZmUubWFwKCh1KSA9PiB1LmlkKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsaXN0YUZpbmFsOwogICAgfSwKICAgIGJsb3F1ZXNBY3Rpdm9zKCkgewogICAgICB2YXIgbGlzdGFGaW5hbCA9IFsuLi50aGlzLmJsb3F1ZXNIb3JhcmlvXTsKICAgICAgY29uc3QgaWRzTGlzdGFGaW5hbCA9IGxpc3RhRmluYWwubWFwKChlbGVtKSA9PiBlbGVtLmlkKTsKICAgICAgaWYgKHRoaXMuY29uZmlndXJhY2lvbkFkbWluaXN0cmFkb3Jlc0VzcGFjaW9zLmluY2x1ZGVzKCJ5byIpKSB7CiAgICAgICAgZm9yICh2YXIgYmxvcXVlVSBvZiB0aGlzLmJsb3F1ZXNIb3JhcmlvVXN1YXJpb0FzaXN0ZSkgewogICAgICAgICAgaWYgKCFpZHNMaXN0YUZpbmFsLmluY2x1ZGVzKGJsb3F1ZVUuaWQpKSB7CiAgICAgICAgICAgIGxpc3RhRmluYWwucHVzaChibG9xdWVVKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5tb3N0cmFyQmxvcXVlc1BhcmFDaGlxdWlzKSB7CiAgICAgICAgbGlzdGFGaW5hbCA9IGxpc3RhRmluYWwuZmlsdGVyKChibG9xdWUpID0+ICFibG9xdWUucGFyYUNoaXF1aXMpOwogICAgICB9CiAgICAgIGlmICghdGhpcy5tb3N0cmFyQmxvcXVlc1BhcmFUb2RvcykgewogICAgICAgIGxpc3RhRmluYWwgPSBsaXN0YUZpbmFsLmZpbHRlcigoYmxvcXVlKSA9PiBibG9xdWUucGFyYUNoaXF1aXMpOwogICAgICB9CgogICAgICByZXR1cm4gbGlzdGFGaW5hbDsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRCbG9xdWVIb3JhcmlvQ2FjaGUobnVldm9CbG9xdWUpIHsKICAgICAgY29uc29sZS5sb2coYEFkZGluZyB0byBjYWNoZSB1biBibG9xdWUgY29uIGlkICR7bnVldm9CbG9xdWUuaWR9YCk7CiAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy4kYXBvbGxvLnByb3ZpZGVyLmRlZmF1bHRDbGllbnQ7CiAgICAgIGNvbnN0IGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfSVRFUkFDSU9ORVNfU0VNQU5BTEVTX0VTUEFDSU9TLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWRzQWRtaW5pc3RyYWRvcmVzOiB0aGlzLmlkc1VzdWFyaW9zU2VsZWNjaW9uYWRvcywKICAgICAgICB9LAogICAgICB9KTsKCiAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwoKICAgICAgY29uc3QgaW5kZXhCID0KICAgICAgICBudWV2b0NhY2hlLml0ZXJhY2lvbmVzU2VtYW5hbGVzRXNwYWNpb3NCeUFkbWluaXN0cmFkb3Jlcy5maW5kSW5kZXgoCiAgICAgICAgICAoYikgPT4gYi5pZCA9PT0gbnVldm9CbG9xdWUuaWQKICAgICAgICApOwoKICAgICAgaWYgKGluZGV4QiA8IDApIHsKICAgICAgICBudWV2b0NhY2hlLml0ZXJhY2lvbmVzU2VtYW5hbGVzRXNwYWNpb3NCeUFkbWluaXN0cmFkb3Jlcy5wdXNoKAogICAgICAgICAgbnVldm9CbG9xdWUKICAgICAgICApOwoKICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9JVEVSQUNJT05FU19TRU1BTkFMRVNfRVNQQUNJT1MsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRzQWRtaW5pc3RyYWRvcmVzOiB0aGlzLmlkc1VzdWFyaW9zU2VsZWNjaW9uYWRvcywKICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJJdGVyYWNpw7NuIHNlbWFuYWwgeWEgZXN0YWJhIGVuIGNhY2jDqSIpOwogICAgICB9CiAgICB9LAogICAgZWxpbWluYXJCbG9xdWVIb3JhcmlvQ2FjaGUoaWRCbG9xdWUpIHsKICAgICAgY29uc29sZS5sb2coYFJlbW92aW5nIGZyb20gY2FjaGUgdW4gYmxvcXVlIGNvbiBpZCAke2lkQmxvcXVlfWApOwogICAgICBjb25zdCBzdG9yZSA9IHRoaXMuJGFwb2xsby5wcm92aWRlci5kZWZhdWx0Q2xpZW50OwogICAgICBjb25zdCBjYWNoZSA9IHN0b3JlLnJlYWRRdWVyeSh7CiAgICAgICAgcXVlcnk6IFFVRVJZX0lURVJBQ0lPTkVTX1NFTUFOQUxFU19FU1BBQ0lPUywKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkc0FkbWluaXN0cmFkb3JlczogdGhpcy5pZHNVc3Vhcmlvc1NlbGVjY2lvbmFkb3MsCiAgICAgICAgfSwKICAgICAgfSk7CgogICAgICB2YXIgbnVldm9DYWNoZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTsKCiAgICAgIGNvbnN0IGluZGV4QiA9CiAgICAgICAgbnVldm9DYWNoZS5pdGVyYWNpb25lc1NlbWFuYWxlc0VzcGFjaW9zQnlBZG1pbmlzdHJhZG9yZXMuZmluZEluZGV4KAogICAgICAgICAgKGIpID0+IGIuaWQgPT09IGlkQmxvcXVlCiAgICAgICAgKTsKCiAgICAgIGlmIChpbmRleEIgPiAtMSkgewogICAgICAgIG51ZXZvQ2FjaGUuaXRlcmFjaW9uZXNTZW1hbmFsZXNFc3BhY2lvc0J5QWRtaW5pc3RyYWRvcmVzLnNwbGljZSgKICAgICAgICAgIGluZGV4QiwKICAgICAgICAgIDEKICAgICAgICApOwoKICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9JVEVSQUNJT05FU19TRU1BTkFMRVNfRVNQQUNJT1MsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRzQWRtaW5pc3RyYWRvcmVzOiB0aGlzLmlkc1VzdWFyaW9zU2VsZWNjaW9uYWRvcywKICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJJdGVyYWNpw7NuIHNlbWFuYWwgbm8gZXN0YWJhIGVuIGNhY2jDqSIpOwogICAgICB9CiAgICB9LAogICAgYWJyaXJWZW50YW5hQmxvcXVlKGlkQmxvcXVlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJBYnJpZW5kbyBsYSB2ZW50YW5hIGRlbCBibG9xdWUgY29uIGlkICIgKyBpZEJsb3F1ZSk7CiAgICB9LAogICAgc2V0SWRCbG9xdWVWZW50YW5hKG51ZXZvSWQpIHsKICAgICAgdGhpcy5pZEJsb3F1ZUVuVmVudGFuYSA9IG51ZXZvSWQ7CiAgICB9LAogICAgY2hlY2tWZW50YW5hQmxvcXVlKCkgewogICAgICBpZiAodGhpcy5pZEJsb3F1ZUVuVmVudGFuYSkgewogICAgICAgIHRoaXMuaWRCbG9xdWVFblZlbnRhbmEgPSBudWxsOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgc2V0TG9jYWxTdG9yYWdlQ29uZmlndXJhY2lvbigpIHsKICAgICAgY29uc3Qgb2JqZXRvID0gewogICAgICAgIG1vc3RyYXJCbG9xdWVzUGFyYUNoaXF1aXM6IHRoaXMubW9zdHJhckJsb3F1ZXNQYXJhQ2hpcXVpcywKICAgICAgICBtb3N0cmFyQmxvcXVlc1BhcmFUb2RvczogdGhpcy5tb3N0cmFyQmxvcXVlc1BhcmFUb2RvcywKICAgICAgICBjb25maWd1cmFjaW9uQWRtaW5pc3RyYWRvcmVzRXNwYWNpb3M6CiAgICAgICAgICB0aGlzLmNvbmZpZ3VyYWNpb25BZG1pbmlzdHJhZG9yZXNFc3BhY2lvcywKICAgICAgfTsKCiAgICAgIGNvbnN0IG9iamV0b1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KG9iamV0byk7CgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgICAiY29uZmlndXJhY2lvbk9yZ2FuaXphZG9ySG9yYXJpb1NlbWFuYWwiLAogICAgICAgIG9iamV0b1N0cmluZwogICAgICApOwogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBjb25maWd1cmFjaW9uQWRtaW5pc3RyYWRvcmVzRXNwYWNpb3MoKSB7CiAgICAgIHRoaXMuc2V0TG9jYWxTdG9yYWdlQ29uZmlndXJhY2lvbigpOwogICAgfSwKICAgIG1vc3RyYXJCbG9xdWVzUGFyYUNoaXF1aXMoKSB7CiAgICAgIHRoaXMuc2V0TG9jYWxTdG9yYWdlQ29uZmlndXJhY2lvbigpOwogICAgfSwKICAgIG1vc3RyYXJCbG9xdWVzUGFyYVRvZG9zKCkgewogICAgICB0aGlzLnNldExvY2FsU3RvcmFnZUNvbmZpZ3VyYWNpb24oKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["OrganizadorHorarioSemanal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrganizadorHorarioSemanal.vue","sourceRoot":"src/components/calendario","sourcesContent":["<template>\n  <div\n    class=\"organizadorHorarioSemanal\"\n    @click.left.exact=\"idBloqueMenuContextual = null\"\n  >\n    <ventana-bloque-horario\n      v-if=\"bloqueEnVentana\"\n      :esteBloque=\"bloqueEnVentana\"\n      @cerrarme=\"idBloqueEnVentana = null\"\n    />\n    <div class=\"barraComponente\">\n      Organizador de horario\n      <div class=\"contenedorControles\" style=\"margin-left: auto\">\n        <div class=\"boton\">\n          <img\n            src=\"@/assets/iconos/cog.svg\"\n            @click.stop=\"mostrandoConfiguracion = !mostrandoConfiguracion\"\n            alt=\"configrurar\"\n            style=\"\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"zonaConfiguracion\" v-show=\"mostrandoConfiguracion\">\n      <div class=\"barraSeccion\">Configuración.</div>\n\n      <div id=\"contenedorBloquesConfiguracion\">\n        <div\n          id=\"configuracionAdministradoresEspacios\"\n          class=\"bloqueConfiguracion\"\n        >\n          <div class=\"campoConfiguracion\">\n            <label for=\"checkAdministradorYo\">Mostrar mis bloques</label>\n            <input\n              type=\"checkbox\"\n              name=\"checkAdministradorYo\"\n              v-model=\"configuracionAdministradoresEspacios\"\n              value=\"yo\"\n              id=\"\"\n            />\n          </div>\n          <div class=\"campoConfiguracion\">\n            <label for=\"checkAdministradorYo\">Mostrar bloques de profes</label>\n            <input\n              type=\"checkbox\"\n              v-model=\"configuracionAdministradoresEspacios\"\n              value=\"profesorxs\"\n              id=\"\"\n            />\n          </div>\n        </div>\n\n        <div class=\"bloqueConfiguracion\">\n          <div class=\"campoConfiguracion\">\n            <label for=\"checkMostrarBloquesNiñosPequeños\"\n              >Mostrar bloques dirigidos a niñxs pequeñxs</label\n            >\n            <input\n              type=\"checkbox\"\n              name=\"checkMostrarBloquesNiñosPequeños\"\n              ref=\"checkMostrarBloquesNiñosPequeños\"\n              id=\"checkMostrarBloquesNiñosPequeños\"\n              v-model=\"mostrarBloquesParaChiquis\"\n            />\n          </div>\n          <div class=\"campoConfiguracion\">\n            <label for=\"checkMostrarBloquesTodos\"\n              >Mostrar bloques dirigidos a todxs</label\n            >\n            <input\n              type=\"checkbox\"\n              name=\"checkMostrarBloquesTodos\"\n              ref=\"checkMostrarBloquesTodos\"\n              id=\"checkMostrarBloquesTodos\"\n              v-model=\"mostrarBloquesParaTodos\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class=\"zonaCheckAdministradorEspacios\"\n      v-for=\"profe of usuariosSeleccionables\"\n      :key=\"profe.id\"\n      v-show=\"false\"\n    >\n      <div class=\"nombreProfe\">{{ profe.nombres }}</div>\n      <input\n        type=\"checkbox\"\n        :value=\"profe.id\"\n        ref=\"checkProfe\"\n        id=\"checkProfe\"\n        v-model=\"idsUsuariosSeleccionados\"\n      />\n    </div>\n\n    <div id=\"contenedorDias\">\n      <dia-organizador-horario\n        v-for=\"(dia, index) of diasSemana\"\n        :key=\"dia\"\n        :nombreDia=\"dia\"\n        :numeroDia=\"index\"\n        :factorZoom=\"factorZoom\"\n        :offset=\"offset\"\n        :idEspacioCrear=\"idEspacioCrear\"\n        :bloquesHorario=\"bloquesActivos.filter((b) => b.diaSemana === index)\"\n        :idBloqueMenuContextual=\"idBloqueMenuContextual\"\n        :idBloqueSeleccionado=\"idBloqueSeleccionado\"\n        @bloqueSeleccionado=\"\n          idBloqueSeleccionado = idBloqueSeleccionado === $event ? null : $event\n        \"\n        @bloqueHorarioCreado=\"addBloqueHorarioCache\"\n        @menuContextualBloque=\"idBloqueMenuContextual = $event\"\n        @bloqueEliminado=\"eliminarBloqueHorarioCache\"\n        @expandirBloque=\"setIdBloqueVentana\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport DiaOrganizadorHorario, {\n  fragmentoBloqueHorario,\n} from \"./DiaOrganizadorHorario.vue\";\nimport { fragmentoEspacio } from \"../frags\";\nimport { gql } from \"apollo-server-core\";\nimport VentanaBloqueHorario from \"./VentanaBloqueHorario.vue\";\n\nconst QUERY_ITERACIONES_SEMANALES_ESPACIOS = gql`\n  query ($idsAdministradores: [ID]!) {\n    iteracionesSemanalesEspaciosByAdministradores(\n      idsAdministradores: $idsAdministradores\n    ) {\n      ...fragBloqueHorario\n    }\n  }\n  ${fragmentoBloqueHorario}\n`;\n\nexport default {\n  components: {\n    DiaOrganizadorHorario,\n    VentanaBloqueHorario,\n  },\n  props: { yo: Object },\n  name: \"OrganizadorHorarioSemanal\",\n  apollo: {\n    espacios: {\n      query: gql`\n        query ($idsUsuarios: [ID]!) {\n          espaciosByUsuariosAdmin(idsUsuarios: $idsUsuarios) {\n            ...fragEspacio\n          }\n        }\n        ${fragmentoEspacio}\n      `,\n      variables() {\n        return {\n          idsUsuarios: [this.usuario.id],\n        };\n      },\n      update({ espaciosByUsuariosAdmin }) {\n        const primerEspacio = espaciosByUsuariosAdmin.find(\n          (e) => e.idAdministrador === this.usuario.id\n        );\n        if (primerEspacio) {\n          this.idEspacioCrear = primerEspacio.id;\n        }\n\n        return espaciosByUsuariosAdmin;\n      },\n      skip() {\n        return !this.usuario?.id;\n      },\n    },\n    usuariosProfe: {\n      query: gql`\n        query {\n          usuariosProfe {\n            id\n            nombres\n          }\n        }\n      `,\n    },\n    bloquesHorario: {\n      query: QUERY_ITERACIONES_SEMANALES_ESPACIOS,\n      variables() {\n        return {\n          idsAdministradores: this.idsUsuariosSeleccionados,\n        };\n      },\n      skip() {\n        return (\n          !this.idsUsuariosSeleccionados ||\n          this.idsUsuariosSeleccionados.length < 1\n        );\n      },\n      update({ iteracionesSemanalesEspaciosByAdministradores }) {\n        return iteracionesSemanalesEspaciosByAdministradores;\n      },\n    },\n    bloquesHorarioUsuarioAsiste: {\n      query: gql`\n        query {\n          bloquesHorarioUsuarioAsiste {\n            ...fragBloqueHorario\n          }\n        }\n        ${fragmentoBloqueHorario}\n      `,\n      skip() {\n        return !this.configuracionAdministradoresEspacios.includes(\"yo\");\n      },\n    },\n  },\n  data() {\n    const stringConfiguracion = localStorage.getItem(\n      \"configuracionOrganizadorHorarioSemanal\"\n    );\n\n    var configuracion = {};\n\n    if (stringConfiguracion) {\n      configuracion = JSON.parse(stringConfiguracion);\n    }\n\n    console.log(\"La configuración es: \");\n    console.table(configuracion);\n\n    return {\n      usuariosProfe: [],\n      espacios: [],\n      bloquesHorarioUsuarioAsiste: [],\n      diasSemana: [\"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\"],\n      factorZoom: 3,\n      offset: 470,\n      idEspacioCrear: null,\n\n      configuracionAdministradoresEspacios:\n        configuracion.configuracionAdministradoresEspacios || [\"yo\"],\n      mostrandoConfiguracion: false,\n      mostrarBloquesParaChiquis:\n        configuracion.mostrarBloquesParaChiquis != null &&\n        configuracion.mostrarBloquesParaChiquis != undefined\n          ? configuracion.mostrarBloquesParaChiquis\n          : true,\n      mostrarBloquesParaTodos:\n        configuracion.mostrarBloquesParaTodos != null &&\n        configuracion.mostrarBloquesParaTodos != undefined\n          ? configuracion.mostrarBloquesParaTodos\n          : true,\n\n      bloquesHorario: [],\n\n      idBloqueMenuContextual: null,\n      idBloqueSeleccionado: null,\n\n      idBloqueEnVentana: null,\n    };\n  },\n  computed: {\n    todosBloquesDescargados() {\n      return this.bloquesHorario.concat(this.bloquesHorarioUsuarioAsiste);\n    },\n    espaciosCreables() {\n      return this.espacios;\n    },\n    bloqueEnVentana() {\n      if (!this.idBloqueEnVentana) {\n        return null;\n      }\n\n      return this.todosBloquesDescargados.find(\n        (bloque) => bloque.id === this.idBloqueEnVentana\n      );\n    },\n    usuariosSeleccionables() {\n      var listaFinal = [...this.usuariosProfe];\n\n      if (\n        !this.usuariosProfe.some((profe) => profe.id === this.usuario.id) &&\n        this.yo\n      ) {\n        listaFinal.push({\n          id: this.usuario.id,\n          nombres: this.yo.nombres,\n        });\n      }\n\n      return listaFinal;\n    },\n    idsUsuariosSeleccionados() {\n      var listaFinal = [];\n      if (this.configuracionAdministradoresEspacios.includes(\"yo\")) {\n        listaFinal.push(this.usuario.id);\n      }\n\n      if (this.configuracionAdministradoresEspacios.includes(\"profesorxs\")) {\n        listaFinal.push(...this.usuariosProfe.map((u) => u.id));\n      }\n\n      return listaFinal;\n    },\n    bloquesActivos() {\n      var listaFinal = [...this.bloquesHorario];\n      const idsListaFinal = listaFinal.map((elem) => elem.id);\n      if (this.configuracionAdministradoresEspacios.includes(\"yo\")) {\n        for (var bloqueU of this.bloquesHorarioUsuarioAsiste) {\n          if (!idsListaFinal.includes(bloqueU.id)) {\n            listaFinal.push(bloqueU);\n          }\n        }\n      }\n\n      if (!this.mostrarBloquesParaChiquis) {\n        listaFinal = listaFinal.filter((bloque) => !bloque.paraChiquis);\n      }\n      if (!this.mostrarBloquesParaTodos) {\n        listaFinal = listaFinal.filter((bloque) => bloque.paraChiquis);\n      }\n\n      return listaFinal;\n    },\n  },\n  methods: {\n    addBloqueHorarioCache(nuevoBloque) {\n      console.log(`Adding to cache un bloque con id ${nuevoBloque.id}`);\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_ITERACIONES_SEMANALES_ESPACIOS,\n        variables: {\n          idsAdministradores: this.idsUsuariosSeleccionados,\n        },\n      });\n\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexB =\n        nuevoCache.iteracionesSemanalesEspaciosByAdministradores.findIndex(\n          (b) => b.id === nuevoBloque.id\n        );\n\n      if (indexB < 0) {\n        nuevoCache.iteracionesSemanalesEspaciosByAdministradores.push(\n          nuevoBloque\n        );\n\n        store.writeQuery({\n          query: QUERY_ITERACIONES_SEMANALES_ESPACIOS,\n          variables: {\n            idsAdministradores: this.idsUsuariosSeleccionados,\n          },\n          data: nuevoCache,\n        });\n      } else {\n        console.log(\"Iteración semanal ya estaba en caché\");\n      }\n    },\n    eliminarBloqueHorarioCache(idBloque) {\n      console.log(`Removing from cache un bloque con id ${idBloque}`);\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_ITERACIONES_SEMANALES_ESPACIOS,\n        variables: {\n          idsAdministradores: this.idsUsuariosSeleccionados,\n        },\n      });\n\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexB =\n        nuevoCache.iteracionesSemanalesEspaciosByAdministradores.findIndex(\n          (b) => b.id === idBloque\n        );\n\n      if (indexB > -1) {\n        nuevoCache.iteracionesSemanalesEspaciosByAdministradores.splice(\n          indexB,\n          1\n        );\n\n        store.writeQuery({\n          query: QUERY_ITERACIONES_SEMANALES_ESPACIOS,\n          variables: {\n            idsAdministradores: this.idsUsuariosSeleccionados,\n          },\n          data: nuevoCache,\n        });\n      } else {\n        console.log(\"Iteración semanal no estaba en caché\");\n      }\n    },\n    abrirVentanaBloque(idBloque) {\n      console.log(\"Abriendo la ventana del bloque con id \" + idBloque);\n    },\n    setIdBloqueVentana(nuevoId) {\n      this.idBloqueEnVentana = nuevoId;\n    },\n    checkVentanaBloque() {\n      if (this.idBloqueEnVentana) {\n        this.idBloqueEnVentana = null;\n        return true;\n      }\n\n      return false;\n    },\n    setLocalStorageConfiguracion() {\n      const objeto = {\n        mostrarBloquesParaChiquis: this.mostrarBloquesParaChiquis,\n        mostrarBloquesParaTodos: this.mostrarBloquesParaTodos,\n        configuracionAdministradoresEspacios:\n          this.configuracionAdministradoresEspacios,\n      };\n\n      const objetoString = JSON.stringify(objeto);\n\n      localStorage.setItem(\n        \"configuracionOrganizadorHorarioSemanal\",\n        objetoString\n      );\n    },\n  },\n  watch: {\n    configuracionAdministradoresEspacios() {\n      this.setLocalStorageConfiguracion();\n    },\n    mostrarBloquesParaChiquis() {\n      this.setLocalStorageConfiguracion();\n    },\n    mostrarBloquesParaTodos() {\n      this.setLocalStorageConfiguracion();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.organizadorHorarioSemanal {\n  display: flex;\n  flex-direction: column;\n}\n\n\n.ventanaBloqueHorario {\n  z-index: 100000;\n}\n\n#seleccionEspacio {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n\n#selectEspacioCrear {\n  font-size: 17px;\n  padding: 5px 10px;\n  margin-left: 10px;\n}\n\n#contenedorDias {\n  width: min(1900px, 100vw);\n  overflow-x: scroll;\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n}\n</style>"]}]}