{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/BuscadorPersonas.vue?vue&type=style&index=0&id=eddab0fe&scoped=true&lang=css&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/BuscadorPersonas.vue","mtime":1644587546122},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNiYXJyYVN1cGVyaW9yewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KI2lucHV0QnVzY2FyewogICAgd2lkdGg6IDE2MHB4OwogICAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Ci5wZXJzb25hUmVzdWx0YWRvewogICAgZGlzcGxheTogZmxleDsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZm9udC1zaXplOiAxMnB4Owp9Cgo="},{"version":3,"sources":["BuscadorPersonas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BuscadorPersonas.vue","sourceRoot":"src/components/usuario","sourcesContent":["<template>\n  <div class=\"buscadorPersonas\">\n      <div id=\"barraSuperior\">\n          <input type=\"text\" name=\"\" id=\"inputBuscar\" ref=\"inputBuscar\" @keypress.enter=\"buscar\" v-model=\"textoBuscar\" v-show=\"mostrandoInput\">\n          <img src=\"@/assets/iconos/search.svg\" style=\"height: 15px\" alt=\"Lupa\" @click=\"mostrandoInput=true\" v-show=\"!mostrandoInput\">\n          <img src=\"@/assets/iconos/equis.svg\" style=\"height: 15px\" alt=\"Equis\" @click=\"cerrarBusqueda\" v-show=\"mostrandoInput\">\n        <loading texto=\"\" v-show=\"buscando\" />\n\n      </div>\n      <div id=\"zonaResultados\" v-show=\"resultados.length>0\">\n          <div class=\"personaResultado\" v-for=\"resultado of resultados\" :key=\"resultado.id\" @click=\"$emit('clickEnResultado', resultado.id)\">\n              <div class=\"nombreResultado\">\n                  {{resultado.nombres+' '}}\n              </div>\n              <div class=\"apellidoResultado\">\n                  {{resultado.apellidos}}\n              </div>\n          </div>\n          <div class=\"contenedorControles\">\n              <slot>\n              </slot>\n          </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport gql from 'graphql-tag';\nimport Loading from '../utilidades/Loading.vue';\nexport default {\n  components: { Loading },\n    name: \"BuscadorPersonas\",\n    data(){\n        return {\n            buscando:false,\n            mostrandoInput:false,\n            textoBuscar:null,\n            resultados:[],\n        }\n    },\n    methods:{\n        cerrarBusqueda(){\n            this.textoBuscar=null;\n            this.mostrandoInput=false;\n            this.buscando=false;\n            this.resultados=[];\n        },\n        clickEnLupa(){\n            if(this.mostrandoInput){\n                this.buscar();\n                return;\n            }\n            this.mostrandoInput=true;\n        },\n        buscar(){\n            var textoBuscar=this.$refs.inputBuscar.value;\n            textoBuscar=textoBuscar.trim();\n            this.buscando=true;\n            this.$apollo.query({\n                query: gql`\n                    query($textoBuscar:String!){\n                        buscarPersonas(textoBuscar:$textoBuscar){\n                            id\n                            nombres\n                            apellidos\n                            permisos\n                        }\n                    }\n                `,\n                variables:{\n                    textoBuscar,\n                }\n            }).then(({data:{buscarPersonas}})=>{\n                this.buscando=false;\n                this.resultados=buscarPersonas\n            }).catch((error)=>{\n                this.buscando=false;\n                console.log(`Error: ${error}`);\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n#barraSuperior{\n    display: flex;\n    align-items: center;\n}\n#inputBuscar{\n    width: 160px;\n    margin-right: 10px;\n}\n.personaResultado{\n    display: flex;\n    padding: 15px;\n    cursor: pointer;\n    align-items: center;\n    font-size: 12px;\n}\n\n</style>"]}]}