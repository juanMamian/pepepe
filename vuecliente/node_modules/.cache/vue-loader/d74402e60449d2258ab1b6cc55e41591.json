{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/PerfilPersonal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/PerfilPersonal.vue","mtime":1674484905046},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbWluTGVuZ3RoUGFzc3dvcmQsCiAgbWF4TGVuZ3RoUGFzc3dvcmQsCiAgY2hhclByb2hpYmlkb3NQYXNzd29yZCwKfSBmcm9tICIuL2NvbmZpZ3VyYWNpb24iOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgZ3FsIGZyb20gImdyYXBocWwtdGFnIjsKaW1wb3J0IExvYWRpbmcgZnJvbSAiLi4vdXRpbGlkYWRlcy9Mb2FkaW5nLnZ1ZSI7CmltcG9ydCBWZW50YW5hTGlzdGEgZnJvbSAiLi4vYXRsYXNTb2xpZGFyaWRhZC92ZW50YW5hTGlzdGEvdmVudGFuYUxpc3RhLnZ1ZSI7CmltcG9ydCB7CiAgZnJhZ21lbnRvTm9kb1NvbGlkYXJpZGFkLAogIGZyYWdtZW50b1BlcnNvbmFBdGxhcywKfSBmcm9tICIuLi9hdGxhc1NvbGlkYXJpZGFkL2ZyYWdzIjsKaW1wb3J0IENhbGVuZGFyaW8gZnJvbSAiLi4vdXRpbGlkYWRlcy9DYWxlbmRhcmlvLnZ1ZSI7CmltcG9ydCBPcmdhbml6YWRvckhvcmFyaW9TZW1hbmFsIGZyb20gJy4uL2NhbGVuZGFyaW8vT3JnYW5pemFkb3JIb3JhcmlvU2VtYW5hbC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBMb2FkaW5nLCBWZW50YW5hTGlzdGEsIENhbGVuZGFyaW8sIE9yZ2FuaXphZG9ySG9yYXJpb1NlbWFuYWwgfSwKICBuYW1lOiAiUGVyZmlsUGVyc29uYWwiLAogIGFwb2xsbzogewogICAgZXN0ZVVzdWFyaW86IHsKICAgICAgcXVlcnk6IGdxbGAKICAgICAgICBxdWVyeSB7CiAgICAgICAgICB5byB7CiAgICAgICAgICAgIG5vbWJyZXMKICAgICAgICAgICAgYXBlbGxpZG9zCiAgICAgICAgICAgIHVzZXJuYW1lCiAgICAgICAgICAgIGVtYWlsCiAgICAgICAgICAgIG51bWVyb1RlbAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgYCwKICAgICAgdXBkYXRlKHsgeW8gfSkgewogICAgICAgIHJldHVybiB5bzsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VjY2lvbjogImluZm9ybWFjaW9uUGVyc29uYWwiLAogICAgICBlc3RlVXN1YXJpbzogewogICAgICAgIHBlcm1pc29zOiBbXSwKICAgICAgICBpZDogbnVsbCwKICAgICAgfSwKCiAgICAgIGlucHV0Q3VycmVudFBhc3M6IG51bGwsCiAgICAgIG5ld1Bhc3M6IG51bGwsCiAgICAgIG5ld1Bhc3MyOiBudWxsLAogICAgICBlbnZpYW5kb0NhbWJpb1Bhc3M6IGZhbHNlLAoKICAgICAgdGV4dG9SZXN1bHRhZG9DYW1iaW9QYXNzOiBudWxsLAoKICAgICAgbW9zdHJhbmRvT3BjaW9uZXNDcmVhclN1Yk5vZG86IGZhbHNlLAogICAgICBjcmVhbmRvU3ViTm9kbzogZmFsc2UsCiAgICAgIHZlcnNpb25Gb3RvOjAsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlucHV0Q3VycmVudFBhc3NJbGVnYWwoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgIXRoaXMuaW5wdXRDdXJyZW50UGFzcyB8fAogICAgICAgIHRoaXMuaW5wdXRDdXJyZW50UGFzcy5sZW5ndGggPCBtaW5MZW5ndGhQYXNzd29yZAogICAgICApOwogICAgfSwKICAgIG5ld1Bhc3NJbGVnYWwoKSB7CiAgICAgIGlmICgKICAgICAgICAhdGhpcy5uZXdQYXNzIHx8CiAgICAgICAgdGhpcy5uZXdQYXNzLmxlbmd0aCA8IG1pbkxlbmd0aFBhc3N3b3JkIHx8CiAgICAgICAgdGhpcy5uZXdQYXNzLmxlbmd0aCA+IG1heExlbmd0aFBhc3N3b3JkIHx8CiAgICAgICAgY2hhclByb2hpYmlkb3NQYXNzd29yZC50ZXN0KHRoaXMubmV3UGFzcykKICAgICAgKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBuZXdQYXNzMklsZWdhbCgpIHsKICAgICAgaWYgKCF0aGlzLm5ld1Bhc3MyIHx8ICF0aGlzLm5ld1Bhc3MgfHwgdGhpcy5uZXdQYXNzICE9IHRoaXMubmV3UGFzczIpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZW52aWFyQ2FtYmlvUGFzcygpIHsKICAgICAgaWYgKHRoaXMubmV3UGFzc0lsZWdhbCB8fCB0aGlzLm5ld1Bhc3MySWxlZ2FsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMudGV4dG9SZXN1bHRhZG9DYW1iaW9QYXNzID0gbnVsbDsKCiAgICAgIGlmICh0aGlzLm5ld1Bhc3MgPT09IHRoaXMuaW5wdXRDdXJyZW50UGFzcykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5lbnZpYW5kb0NhbWJpb1Bhc3MgPSB0cnVlOwoKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICBtdXRhdGlvbiAoJGRpenF1ZUN1cnJlbnRQYXNzd29yZDogU3RyaW5nISwgJG5ld1Bhc3N3b3JkOiBTdHJpbmchKSB7CiAgICAgICAgICAgICAgY2FtYmlhclBhc3N3b3JkKAogICAgICAgICAgICAgICAgZGl6cXVlQ3VycmVudFBhc3N3b3JkOiAkZGl6cXVlQ3VycmVudFBhc3N3b3JkCiAgICAgICAgICAgICAgICBuZXdQYXNzd29yZDogJG5ld1Bhc3N3b3JkCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGRpenF1ZUN1cnJlbnRQYXNzd29yZDogdGhpcy5pbnB1dEN1cnJlbnRQYXNzLAogICAgICAgICAgICBuZXdQYXNzd29yZDogdGhpcy5uZXdQYXNzLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCh7IGRhdGE6IHsgY2FtYmlhclBhc3N3b3JkIH0gfSkgPT4gewogICAgICAgICAgaWYgKGNhbWJpYXJQYXNzd29yZCkgewogICAgICAgICAgICBhbGVydCgiQ29udHJhc2XDsWEgY2FtYmlhZGEiKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZW52aWFuZG9DYW1iaW9QYXNzID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmlucHV0Q3VycmVudFBhc3MgPSBudWxsOwogICAgICAgICAgdGhpcy5uZXdQYXNzID0gbnVsbDsKICAgICAgICAgIHRoaXMubmV3UGFzczIgPSBudWxsOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yIGNhbWJpYW5kbyBwYXNzOiAke2Vycm9yfWApOwogICAgICAgICAgdGhpcy5lbnZpYW5kb0NhbWJpb1Bhc3MgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudGV4dG9SZXN1bHRhZG9DYW1iaW9QYXNzID0gIkVycm9yIjsKICAgICAgICB9KTsKICAgIH0sCiAgICBhZnRlckNyZWFyTm9kb1VuZGVyKG51ZXZvTm9kbykgewogICAgICB0aGlzLiRyZWZzLnZlbnRhbmFMaXN0YS5hZGROb2RvVG9Ob2Rvc1NvbGlkYXJpZGFkKG51ZXZvTm9kbyk7CiAgICB9LAogICAgY3JlYXJOdWV2b05vZG9VbmRlcihpbmZvTm9kbykgewogICAgICBjb25zb2xlLmxvZyhgQ3JlYW5kbyBub2RvIHVuZGVyIHlvYCk7CiAgICAgIHRoaXMuY3JlYW5kb1N1Yk5vZG8gPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgKICAgICAgICAgICAgICAkaW5mb05vZG86IE5vZG9Tb2xpZGFyaWRhZElucHV0IQogICAgICAgICAgICAgICRpZE5vZG9QYXJlbnQ6IElEIQogICAgICAgICAgICAgICR0aXBvUGFyZW50OiBTdHJpbmchCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGNyZWFyTnVldm9Ob2RvU29saWRhcmlkYWRVbmRlck5vZG8oCiAgICAgICAgICAgICAgICBpbmZvTm9kbzogJGluZm9Ob2RvCiAgICAgICAgICAgICAgICBpZE5vZG9QYXJlbnQ6ICRpZE5vZG9QYXJlbnQKICAgICAgICAgICAgICAgIHRpcG9QYXJlbnQ6ICR0aXBvUGFyZW50CiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBudWV2b05vZG8gewogICAgICAgICAgICAgICAgICAuLi5mcmFnTm9kb1NvbGlkYXJpZGFkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBub2Rvc01vZGlmaWNhZG9zIHsKICAgICAgICAgICAgICAgICAgLi4uZnJhZ05vZG9Tb2xpZGFyaWRhZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXN1YXJpb3NNb2RpZmljYWRvcyB7CiAgICAgICAgICAgICAgICAgIC4uLmZyYWdQZXJzb25hQXRsYXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHtmcmFnbWVudG9Ob2RvU29saWRhcmlkYWR9CiAgICAgICAgICAgICR7ZnJhZ21lbnRvUGVyc29uYUF0bGFzfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpbmZvTm9kbywKICAgICAgICAgICAgaWROb2RvUGFyZW50OiB0aGlzLnVzdWFyaW8uaWQsCiAgICAgICAgICAgIHRpcG9QYXJlbnQ6ICJ1c3VhcmlvIiwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhOiB7IGNyZWFyTnVldm9Ob2RvU29saWRhcmlkYWRVbmRlck5vZG8gfSB9KSA9PiB7CiAgICAgICAgICB0aGlzLmNyZWFuZG9TdWJOb2RvID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmFmdGVyQ3JlYXJOb2RvVW5kZXIoCiAgICAgICAgICAgIGNyZWFyTnVldm9Ob2RvU29saWRhcmlkYWRVbmRlck5vZG8ubnVldm9Ob2RvCiAgICAgICAgICApOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5jcmVhbmRvU3ViTm9kbyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICAgIHVwbG9hZE51ZXZhRm90byhlKSB7CiAgICAgIGNvbnNvbGUubG9nKGBVcGxvYWRpbmcgZm90b2ApOwogICAgICBjb25zdCBpbnB1dEFyY2hpdm8gPSBlLnRhcmdldDsKICAgICAgdmFyIGRhdG9zID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGNvbnN0IG51ZXZvQXJjaGl2byA9IGlucHV0QXJjaGl2by5maWxlc1swXTsKCiAgICAgIGRhdG9zLmFwcGVuZCgibnVldmFGb3RvIiwgbnVldm9BcmNoaXZvKTsKICAgICAgdGhpcy5zdWJpZW5kb051ZXZhRm90byA9IHRydWU7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6IHRoaXMuc2VydmVyVXJsICsgIi9hcGkvdXN1YXJpb3MvdXBkYXRlRm90byIsCiAgICAgICAgZGF0YTogZGF0b3MsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiwKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuLAogICAgICAgIH0sCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YTogeyByZXN1bHRhZG8gfSB9KSA9PiB7CiAgICAgICAgICB0aGlzLnN1YmllbmRvTnVldmFGb3RvID0gZmFsc2U7ICAgICAgICAgIAogICAgICAgICAgaWYocmVzdWx0YWRvKXsKICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdG8gYWN0dWFsaXphZGFgKTsKICAgICAgICAgICAgdGhpcy52ZXJzaW9uRm90bysrOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5zdWJpZW5kb051ZXZhRm90byA9IGZhbHNlOyAgICAgICAgICAKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBzdWJpZW5kbyBhcmNoaXZvLiBFOiAke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["PerfilPersonal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PerfilPersonal.vue","sourceRoot":"src/components/usuario","sourcesContent":["<template>\n  <div class=\"perfilPersonal\" v-if=\"usuarioLogeado\">\n    <loading texto=\"Cargando\" v-show=\"$apollo.queries.esteUsuario.loading\" />\n    <div id=\"zonaSelectores\" class=\"contenedorControles\">\n      <div\n        class=\"boton\"\n        title=\"Información personal\"\n        @click=\"seccion = 'informacionPersonal'\"\n      >\n        <img src=\"@/assets/iconos/info.svg\" alt=\"Informacion\" />\n      </div>\n      <div\n        class=\"boton\"\n        title=\"Cambiar contraseña\"\n        @click=\"seccion = 'cambiarPass'\"\n      >\n        <img src=\"@/assets/iconos/key.svg\" alt=\"Pass\" />\n      </div>\n      <div\n        class=\"boton\"\n        title=\"Mis objetivos y trabajos\"\n        @click=\"seccion = 'misNodos'\"\n      >\n        <img src=\"@/assets/iconos/starSolid.svg\" alt=\"Estrella\" />\n      </div>\n      <div class=\"boton\" title=\"Mi calendario\" @click=\"seccion = 'calendario'\">\n        <img src=\"@/assets/iconos/calendar.svg\" alt=\"Calendario\" />\n      </div>\n      <!-- <div class=\"boton\" title=\"Organizador semanal\" @click=\"seccion = 'organizadorSemanal'\">\n        <img src=\"@/assets/iconos/calendarWeek.svg\" alt=\"Calendario\" />\n      </div> -->\n    </div>\n    <div id=\"contenido\" v-if=\"!$apollo.queries.esteUsuario.loading\">\n      <div\n        id=\"zonaInformacionPersonal\"\n        v-show=\"seccion === 'informacionPersonal'\"\n      >\n        <div id=\"fotografia\" @click=\"$refs.inputFotoUsuario.click()\">\n          <img\n            :src=\"this.serverUrl + '/api/usuarios/fotografias/' + usuario.id+'?v='+versionFoto\"\n            alt=\"Fotografía\"\n          />\n          <input\n            type=\"file\"\n            ref=\"inputFotoUsuario\"\n            v-show=\"false\"\n            @change=\"uploadNuevaFoto\"\n          />\n        </div>\n        <div id=\"zonaCamposEditablesInformacionPersonal\">\n          <div\n            class=\"informacionPersonal\"\n            id=\"nombres\"\n            style=\"align-self: center\"\n          >\n            {{ esteUsuario.nombres }}\n          </div>\n          <div\n            class=\"informacionPersonal\"\n            id=\"apellidos\"\n            style=\"align-self: center\"\n          >\n            {{ esteUsuario.apellidos }}\n          </div>\n          <div class=\"informacionPersonal\" id=\"email\">\n            <img\n              src=\"@/assets/iconos/envelope.svg\"\n              alt=\"Mail\"\n              class=\"iconoInformacionPersonal\"\n              title=\"Correo electrónico\"\n            />\n            <span> {{ esteUsuario.email }}</span>\n          </div>\n          <img\n            src=\"@/assets/iconos/whatsapp.svg\"\n            alt=\"Mail\"\n            class=\"iconoInformacionPersonal\"\n            title=\"Añdir un número móvil\"\n          />\n          <div\n            class=\"informacionPersonal numeroMovil\"\n            v-for=\"numeroMovil of esteUsuario.numerosMovil\"\n            :key=\"numeroMovil.id\"\n          >\n            <span>\n              {{ esteUsuario.numeroMovil }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div id=\"zonaCambiarPass\" v-show=\"seccion === 'cambiarPass'\">\n        <div class=\"tituloSeccion\">Cambio de contraseña</div>\n        <input\n          v-model=\"inputCurrentPass\"\n          placeholder=\"Contraseña actual\"\n          type=\"password\"\n          id=\"inputCurrentPass\"\n          class=\"inputCambiarPass\"\n        />\n        <div\n          id=\"instruccionesNuevoPass\"\n          v-show=\"newPassIlegal && !inputCurrentPassIlegal\"\n        >\n          La contraseña debe tener al menos 8 caracteres y no contener espacios.\n        </div>\n        <input\n          v-model=\"newPass\"\n          v-show=\"!inputCurrentPassIlegal\"\n          placeholder=\"Nueva contraseña\"\n          type=\"password\"\n          id=\"inputNuevoPass\"\n          class=\"inputCambiarPass\"\n          :class=\"{ aprobado: !newPassIlegal }\"\n        />\n        <input\n          :disabled=\"newPassIlegal\"\n          v-model=\"newPass2\"\n          v-show=\"!newPassIlegal\"\n          placeholder=\"Nueva contraseña (Otra vez)\"\n          type=\"password\"\n          id=\"inputNuevoPass2\"\n          class=\"inputCambiarPass\"\n          :class=\"{ aprobado: !newPassIlegal && !newPass2Ilegal }\"\n          @keypress.enter=\"enviarCambioPass\"\n        />\n\n        <div\n          id=\"botonEnviarNuevoPass\"\n          @click=\"enviarCambioPass\"\n          :class=\"{\n            deshabilitado:\n              newPassIlegal || newPass2Ilegal || enviandoCambioPass,\n          }\"\n        >\n          <span> Enviar</span><loading texto=\"\" v-show=\"enviandoCambioPass\" />\n        </div>\n\n        <div id=\"textoResultadoCambioPass\">\n          {{ textoResultadoCambioPass }}\n        </div>\n      </div>\n\n      <div id=\"zonaMisNodos\" v-show=\"seccion === 'misNodos'\">\n        <div class=\"barraSuperiorGeneral\">\n          <div class=\"tituloBloque\">Mis Nodos</div>\n          <div class=\"controlesBloque\" id=\"controlesRecursosExternos\">\n            <div\n              class=\"botonBarraSuperiorGeneral\"\n              @click=\"mostrandoOpcionesCrearSubNodo = true\"\n              v-show=\"!mostrandoOpcionesCrearSubNodo\"\n            >\n              <img\n                src=\"@/assets/iconos/plusCircle.svg\"\n                alt=\"Nuevo\"\n                title=\"Crear nuevo nodo\"\n                :class=\"{ deshabilitado: creandoSubNodo }\"\n              />\n              <loading texto=\"\" v-show=\"creandoSubNodo\" />\n            </div>\n            <div\n              id=\"contenedorOpcionesCrear\"\n              v-show=\"mostrandoOpcionesCrearSubNodo\"\n              :class=\"{ deshabilitado: creandoSubNodo }\"\n            >\n              <img\n                src=\"@/assets/iconos/starSolid.svg\"\n                alt=\"Objetivo\"\n                title=\"Crear nuevo objetivo\"\n                class=\"botonBarraSuperiorGeneral opcionCrear\"\n                @click=\"crearNuevoNodoUnder({ tipoNodo: 'objetivo' })\"\n              />\n              <img\n                src=\"@/assets/iconos/cog.svg\"\n                alt=\"Trabajo\"\n                title=\"Crear nuevo trabajo\"\n                class=\"botonBarraSuperiorGeneral opcionCrear\"\n                @click=\"crearNuevoNodoUnder({ tipoNodo: 'trabajo' })\"\n              />\n              <loading texto=\"\" v-show=\"creandoSubNodo\" />\n            </div>\n          </div>\n        </div>\n        <ventana-lista\n          ref=\"ventanaLista\"\n          :idNodoRoot=\"usuario.id\"\n          tipoNodoRoot=\"usuario\"\n        />\n      </div>\n\n      <div id=\"zonaCalendario\" v-if=\"seccion === 'calendario'\">\n        <calendario\n          v-if=\"usuarioLogeado\"\n          :enfasis=\"'eventosPersonales'\"\n          :idUsuarioTarget=\"this.usuario.id\"\n        />\n      </div>\n\n      <div id=\"zonaOrganizadorSemanal\" v-if=\"seccion==='organizadorSemanal'\">\n        <organizador-horario-semanal />\n      </div>\n    </div>\n\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport {\n  minLengthPassword,\n  maxLengthPassword,\n  charProhibidosPassword,\n} from \"./configuracion\";\nimport axios from \"axios\";\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport VentanaLista from \"../atlasSolidaridad/ventanaLista/ventanaLista.vue\";\nimport {\n  fragmentoNodoSolidaridad,\n  fragmentoPersonaAtlas,\n} from \"../atlasSolidaridad/frags\";\nimport Calendario from \"../utilidades/Calendario.vue\";\nimport OrganizadorHorarioSemanal from '../calendario/OrganizadorHorarioSemanal.vue';\nexport default {\n  components: { Loading, VentanaLista, Calendario, OrganizadorHorarioSemanal },\n  name: \"PerfilPersonal\",\n  apollo: {\n    esteUsuario: {\n      query: gql`\n        query {\n          yo {\n            nombres\n            apellidos\n            username\n            email\n            numeroTel\n          }\n        }\n      `,\n      update({ yo }) {\n        return yo;\n      },\n    },\n  },\n  data() {\n    return {\n      seccion: \"informacionPersonal\",\n      esteUsuario: {\n        permisos: [],\n        id: null,\n      },\n\n      inputCurrentPass: null,\n      newPass: null,\n      newPass2: null,\n      enviandoCambioPass: false,\n\n      textoResultadoCambioPass: null,\n\n      mostrandoOpcionesCrearSubNodo: false,\n      creandoSubNodo: false,\n      versionFoto:0,\n    };\n  },\n  computed: {\n    inputCurrentPassIlegal() {\n      return (\n        !this.inputCurrentPass ||\n        this.inputCurrentPass.length < minLengthPassword\n      );\n    },\n    newPassIlegal() {\n      if (\n        !this.newPass ||\n        this.newPass.length < minLengthPassword ||\n        this.newPass.length > maxLengthPassword ||\n        charProhibidosPassword.test(this.newPass)\n      ) {\n        return true;\n      }\n\n      return false;\n    },\n    newPass2Ilegal() {\n      if (!this.newPass2 || !this.newPass || this.newPass != this.newPass2) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    enviarCambioPass() {\n      if (this.newPassIlegal || this.newPass2Ilegal) {\n        return;\n      }\n      this.textoResultadoCambioPass = null;\n\n      if (this.newPass === this.inputCurrentPass) {\n        return;\n      }\n\n      this.enviandoCambioPass = true;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($dizqueCurrentPassword: String!, $newPassword: String!) {\n              cambiarPassword(\n                dizqueCurrentPassword: $dizqueCurrentPassword\n                newPassword: $newPassword\n              )\n            }\n          `,\n          variables: {\n            dizqueCurrentPassword: this.inputCurrentPass,\n            newPassword: this.newPass,\n          },\n        })\n        .then(({ data: { cambiarPassword } }) => {\n          if (cambiarPassword) {\n            alert(\"Contraseña cambiada\");\n          }\n          this.enviandoCambioPass = false;\n          this.inputCurrentPass = null;\n          this.newPass = null;\n          this.newPass2 = null;\n        })\n        .catch((error) => {\n          console.log(`Error cambiando pass: ${error}`);\n          this.enviandoCambioPass = false;\n          this.textoResultadoCambioPass = \"Error\";\n        });\n    },\n    afterCrearNodoUnder(nuevoNodo) {\n      this.$refs.ventanaLista.addNodoToNodosSolidaridad(nuevoNodo);\n    },\n    crearNuevoNodoUnder(infoNodo) {\n      console.log(`Creando nodo under yo`);\n      this.creandoSubNodo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation (\n              $infoNodo: NodoSolidaridadInput!\n              $idNodoParent: ID!\n              $tipoParent: String!\n            ) {\n              crearNuevoNodoSolidaridadUnderNodo(\n                infoNodo: $infoNodo\n                idNodoParent: $idNodoParent\n                tipoParent: $tipoParent\n              ) {\n                nuevoNodo {\n                  ...fragNodoSolidaridad\n                }\n                nodosModificados {\n                  ...fragNodoSolidaridad\n                }\n                usuariosModificados {\n                  ...fragPersonaAtlas\n                }\n              }\n            }\n            ${fragmentoNodoSolidaridad}\n            ${fragmentoPersonaAtlas}\n          `,\n          variables: {\n            infoNodo,\n            idNodoParent: this.usuario.id,\n            tipoParent: \"usuario\",\n          },\n        })\n        .then(({ data: { crearNuevoNodoSolidaridadUnderNodo } }) => {\n          this.creandoSubNodo = false;\n          this.afterCrearNodoUnder(\n            crearNuevoNodoSolidaridadUnderNodo.nuevoNodo\n          );\n        })\n        .catch((error) => {\n          this.creandoSubNodo = false;\n          console.log(`Error: ${error}`);\n        });\n    },\n    uploadNuevaFoto(e) {\n      console.log(`Uploading foto`);\n      const inputArchivo = e.target;\n      var datos = new FormData();\n      const nuevoArchivo = inputArchivo.files[0];\n\n      datos.append(\"nuevaFoto\", nuevoArchivo);\n      this.subiendoNuevaFoto = true;\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/api/usuarios/updateFoto\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ data: { resultado } }) => {\n          this.subiendoNuevaFoto = false;          \n          if(resultado){\n            console.log(`Foto actualizada`);\n            this.versionFoto++;\n          }\n        })\n        .catch((error) => {\n          this.subiendoNuevaFoto = false;          \n          console.log(`Error subiendo archivo. E: ${error}`);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.perfilPersonal {\n}\n\n#contenido {\n  width: 100%;\n}\n#zonaInformacionPersonal {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n#fotografia {\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  overflow: hidden;\n  margin: 8vh 0px;\n  margin-bottom: 2vh;\n}\n#fotografia img {\n  width: 100%;\n  height: 100%;\n}\n#apellidos {\n  margin-bottom: 30px;\n}\n#zonaCamposEditablesInformacionPersonal {\n  display: flex;\n  flex-direction: column;\n  width: min(300px, 90vw);\n}\n.informacionPersonal {\n  margin: 10px 0px;\n  display: flex;\n  align-items: center;\n}\n#nombres {\n  margin-bottom: 0px;\n}\n.iconoInformacionPersonal {\n  width: 20px;\n  margin-right: 10px;\n}\n\n#zonaSelectores .boton {\n  margin: 0px min(10px, 2%);\n}\n\n.tituloSeccion {\n  font-size: 22px;\n  text-align: center;\n  margin-bottom: 8vh;\n}\n\n#zonaCambiarPass {\n  display: flex;\n  flex-direction: column;\n  margin-top: 5vh;\n}\n#instruccionesNuevoPass {\n  font-size: 11px;\n  font-style: italic;\n  color: rgb(78, 78, 78);\n  text-align: center;\n}\n.inputCambiarPass {\n  margin: 15px auto;\n  font-size: 20px;\n  width: min(300px, 90%);\n  font-family: Poppins, Helvetica, Arial, sans-serif;\n  border-radius: 7px;\n  padding: 3px 10px;\n}\n.inputCambiarPass.aprobado {\n  border-color: var(--mainColorLight);\n  border-style: solid;\n  background-color: #6da83236;\n}\n.inputCambiarPass.aprobado:active {\n  border-color: var(--mainColorDark) !important;\n}\n#inputCurrentPass {\n  margin-bottom: 50px;\n}\n#textoResultadoCambioPass {\n  font-size: 13px;\n  font-style: italic;\n  text-align: center;\n}\n#botonEnviarNuevoPass {\n  border-radius: 30px;\n  height: 60px;\n  width: 200px;\n  background-color: var(--mainColorLight);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 60px auto;\n  color: whitesmoke;\n}\n#botonEnviarNuevoPass:hover {\n  background-color: var(--mainColorDark);\n}\n\n#zonaMisNodos {\n  width: min(900px, 90%);\n  margin: 10px auto;\n}\n.tituloBloque {\n  font-weight: bold;\n  font-size: 14px;\n}\n.barraSuperiorGeneral {\n  height: 30px;\n  display: flex;\n  padding: 5px 20px;\n}\n.botonBarraSuperiorGeneral {\n  opacity: 0.7;\n  height: 15px;\n  box-sizing: border-box;\n  user-select: none;\n  cursor: pointer;\n}\n.botonBarraSuperiorGeneral:hover {\n  opacity: 1;\n}\n.botonBarraSuperiorGeneral img {\n  height: 100%;\n}\n.opcionCrear {\n  margin: 0px 5px;\n}\n.controlesBloque {\n  margin-left: auto;\n  display: flex;\n}\n</style>"]}]}