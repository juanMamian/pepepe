{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/NodoConocimientoVistaListaAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/NodoConocimientoVistaListaAdmin.vue","mtime":1650643625452},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJOb2RvQ29ub2NpbWllbnRvVmlzdGFMaXN0YUFkbWluIiwKICBwcm9wczogewogICAgZXN0ZU5vZG86IE9iamVjdCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBjb21wdXRlZDogewogICAgdXN1YXJpb0V4cGVydG8oKSB7CiAgICAgIGlmICghdGhpcy51c3VhcmlvTG9nZWFkbykgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdGhpcy5lc3RlTm9kby5leHBlcnRvcy5pbmNsdWRlcyh0aGlzLnVzdWFyaW8uaWQpOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGd1YXJkYXJFbmxhY2VTZWNjaW9uKGUsIGlkU2VjY2lvbikgewogICAgICB2YXIgbnVldm9FbmxhY2UgPSBlLnRhcmdldC52YWx1ZS50cmltKCk7CiAgICAgIGNvbnNvbGUubG9nKCJHdWFyZGFuZG8gbnVldm8gZW5sYWNlOiAiICsgbnVldm9FbmxhY2UpOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWROb2RvOiBJRCEsICRpZFNlY2Npb246IElEISwgJG51ZXZvRW5sYWNlOiBTdHJpbmchKSB7CiAgICAgICAgICAgICAgc2V0TnVldm9FbmxhY2VTZWNjaW9uTm9kbygKICAgICAgICAgICAgICAgIGlkTm9kbzogJGlkTm9kbwogICAgICAgICAgICAgICAgaWRTZWNjaW9uOiAkaWRTZWNjaW9uCiAgICAgICAgICAgICAgICBudWV2b0VubGFjZTogJG51ZXZvRW5sYWNlCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgbW9kbwogICAgICAgICAgICAgICAgZW5sYWNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkTm9kbzogdGhpcy5lc3RlTm9kby5pZCwKICAgICAgICAgICAgaWRTZWNjaW9uLAogICAgICAgICAgICBudWV2b0VubGFjZSwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7fSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3I6ICIgKyBlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["NodoConocimientoVistaListaAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NodoConocimientoVistaListaAdmin.vue","sourceRoot":"src/components/atlasConocimiento","sourcesContent":["<template>\n  <div class=\"nodoConocimientoVistaListaAdmin\">\n    <div class=\"barraSuperior\" :class=\"{ deUsuario: usuarioExperto }\">\n      <a\n        :href=\"clienteUrl + '/#/atlas/nodoConocimiento/' + esteNodo.id\"\n        target=\"_blank\"\n      >\n        <div class=\"nombre\">\n          {{ esteNodo.nombre }}\n        </div>\n      </a>\n    </div>\n    <div id=\"listaSecciones\">\n      <div\n        class=\"seccion\"\n        v-for=\"seccion of esteNodo.secciones\"\n        :key=\"seccion.id\"\n      >\n        <div class=\"barraSuperior\">\n          <div class=\"imagenTipoSeccion\">\n            <img\n              src=\"@/assets/iconos/link.svg\"\n              alt=\"Enlace\"\n              v-if=\"seccion.modo === 'enlace'\"\n            />\n            <img\n              src=\"@/assets/iconos/file.svg\"\n              alt=\"Archivo\"\n              v-if=\"seccion.modo === 'archivo'\"\n            />\n          </div>\n\n          <div class=\"nombre\">\n            {{ seccion.nombre }}\n          </div>\n\n          <div class=\"zonaSource\">\n            <input\n              type=\"text\"\n              :value=\"seccion.enlace\"\n              @keypress.enter=\"guardarEnlaceSeccion($event, seccion.id)\"\n              class=\"inputEnlace\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n\nexport default {\n  name: \"NodoConocimientoVistaListaAdmin\",\n  props: {\n    esteNodo: Object,\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    usuarioExperto() {\n      if (!this.usuarioLogeado) return false;\n      return this.esteNodo.expertos.includes(this.usuario.id);\n    },\n  },\n  methods: {\n    guardarEnlaceSeccion(e, idSeccion) {\n      var nuevoEnlace = e.target.value.trim();\n      console.log(\"Guardando nuevo enlace: \" + nuevoEnlace);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!, $idSeccion: ID!, $nuevoEnlace: String!) {\n              setNuevoEnlaceSeccionNodo(\n                idNodo: $idNodo\n                idSeccion: $idSeccion\n                nuevoEnlace: $nuevoEnlace\n              ) {\n                id\n                modo\n                enlace\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.esteNodo.id,\n            idSeccion,\n            nuevoEnlace,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"Error: \" + error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.nodoConocimientoVistaListaAdmin{\n    margin-top: 15px;\n}\n.barraSuperior {\n  display: flex;\n  padding: 10px 10px;\n}\n\n#listaSecciones {\n  padding-left: 15px;\n}\n\n.barraSuperior.deUsuario {\n  background-color: rgb(83, 163, 83);\n}\n\n.imagenTipoSeccion {\n  width: 20px;\n  height: 20px;\n}\n\n.imagenTipoSeccion img {\n  height: 100%;\n}\n\n.seccion .nombre{\n    margin: 0px 10px;\n}\n</style>"]}]}