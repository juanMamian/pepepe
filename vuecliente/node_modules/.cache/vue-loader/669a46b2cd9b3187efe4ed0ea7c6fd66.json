{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/BuscadorPersonas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/BuscadorPersonas.vue","mtime":1644587546122},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnOwppbXBvcnQgTG9hZGluZyBmcm9tICcuLi91dGlsaWRhZGVzL0xvYWRpbmcudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgTG9hZGluZyB9LAogICAgbmFtZTogIkJ1c2NhZG9yUGVyc29uYXMiLAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGJ1c2NhbmRvOmZhbHNlLAogICAgICAgICAgICBtb3N0cmFuZG9JbnB1dDpmYWxzZSwKICAgICAgICAgICAgdGV4dG9CdXNjYXI6bnVsbCwKICAgICAgICAgICAgcmVzdWx0YWRvczpbXSwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgY2VycmFyQnVzcXVlZGEoKXsKICAgICAgICAgICAgdGhpcy50ZXh0b0J1c2Nhcj1udWxsOwogICAgICAgICAgICB0aGlzLm1vc3RyYW5kb0lucHV0PWZhbHNlOwogICAgICAgICAgICB0aGlzLmJ1c2NhbmRvPWZhbHNlOwogICAgICAgICAgICB0aGlzLnJlc3VsdGFkb3M9W107CiAgICAgICAgfSwKICAgICAgICBjbGlja0VuTHVwYSgpewogICAgICAgICAgICBpZih0aGlzLm1vc3RyYW5kb0lucHV0KXsKICAgICAgICAgICAgICAgIHRoaXMuYnVzY2FyKCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5tb3N0cmFuZG9JbnB1dD10cnVlOwogICAgICAgIH0sCiAgICAgICAgYnVzY2FyKCl7CiAgICAgICAgICAgIHZhciB0ZXh0b0J1c2Nhcj10aGlzLiRyZWZzLmlucHV0QnVzY2FyLnZhbHVlOwogICAgICAgICAgICB0ZXh0b0J1c2Nhcj10ZXh0b0J1c2Nhci50cmltKCk7CiAgICAgICAgICAgIHRoaXMuYnVzY2FuZG89dHJ1ZTsKICAgICAgICAgICAgdGhpcy4kYXBvbGxvLnF1ZXJ5KHsKICAgICAgICAgICAgICAgIHF1ZXJ5OiBncWxgCiAgICAgICAgICAgICAgICAgICAgcXVlcnkoJHRleHRvQnVzY2FyOlN0cmluZyEpewogICAgICAgICAgICAgICAgICAgICAgICBidXNjYXJQZXJzb25hcyh0ZXh0b0J1c2NhcjokdGV4dG9CdXNjYXIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vbWJyZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwZWxsaWRvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzb3MKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGAsCiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6ewogICAgICAgICAgICAgICAgICAgIHRleHRvQnVzY2FyLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKCh7ZGF0YTp7YnVzY2FyUGVyc29uYXN9fSk9PnsKICAgICAgICAgICAgICAgIHRoaXMuYnVzY2FuZG89ZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdGFkb3M9YnVzY2FyUGVyc29uYXMKICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+ewogICAgICAgICAgICAgICAgdGhpcy5idXNjYW5kbz1mYWxzZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTsKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["BuscadorPersonas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BuscadorPersonas.vue","sourceRoot":"src/components/usuario","sourcesContent":["<template>\n  <div class=\"buscadorPersonas\">\n      <div id=\"barraSuperior\">\n          <input type=\"text\" name=\"\" id=\"inputBuscar\" ref=\"inputBuscar\" @keypress.enter=\"buscar\" v-model=\"textoBuscar\" v-show=\"mostrandoInput\">\n          <img src=\"@/assets/iconos/search.svg\" style=\"height: 15px\" alt=\"Lupa\" @click=\"mostrandoInput=true\" v-show=\"!mostrandoInput\">\n          <img src=\"@/assets/iconos/equis.svg\" style=\"height: 15px\" alt=\"Equis\" @click=\"cerrarBusqueda\" v-show=\"mostrandoInput\">\n        <loading texto=\"\" v-show=\"buscando\" />\n\n      </div>\n      <div id=\"zonaResultados\" v-show=\"resultados.length>0\">\n          <div class=\"personaResultado\" v-for=\"resultado of resultados\" :key=\"resultado.id\" @click=\"$emit('clickEnResultado', resultado.id)\">\n              <div class=\"nombreResultado\">\n                  {{resultado.nombres+' '}}\n              </div>\n              <div class=\"apellidoResultado\">\n                  {{resultado.apellidos}}\n              </div>\n          </div>\n          <div class=\"contenedorControles\">\n              <slot>\n              </slot>\n          </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport gql from 'graphql-tag';\nimport Loading from '../utilidades/Loading.vue';\nexport default {\n  components: { Loading },\n    name: \"BuscadorPersonas\",\n    data(){\n        return {\n            buscando:false,\n            mostrandoInput:false,\n            textoBuscar:null,\n            resultados:[],\n        }\n    },\n    methods:{\n        cerrarBusqueda(){\n            this.textoBuscar=null;\n            this.mostrandoInput=false;\n            this.buscando=false;\n            this.resultados=[];\n        },\n        clickEnLupa(){\n            if(this.mostrandoInput){\n                this.buscar();\n                return;\n            }\n            this.mostrandoInput=true;\n        },\n        buscar(){\n            var textoBuscar=this.$refs.inputBuscar.value;\n            textoBuscar=textoBuscar.trim();\n            this.buscando=true;\n            this.$apollo.query({\n                query: gql`\n                    query($textoBuscar:String!){\n                        buscarPersonas(textoBuscar:$textoBuscar){\n                            id\n                            nombres\n                            apellidos\n                            permisos\n                        }\n                    }\n                `,\n                variables:{\n                    textoBuscar,\n                }\n            }).then(({data:{buscarPersonas}})=>{\n                this.buscando=false;\n                this.resultados=buscarPersonas\n            }).catch((error)=>{\n                this.buscando=false;\n                console.log(`Error: ${error}`);\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n#barraSuperior{\n    display: flex;\n    align-items: center;\n}\n#inputBuscar{\n    width: 160px;\n    margin-right: 10px;\n}\n.personaResultado{\n    display: flex;\n    padding: 15px;\n    cursor: pointer;\n    align-items: center;\n    font-size: 12px;\n}\n\n</style>"]}]}