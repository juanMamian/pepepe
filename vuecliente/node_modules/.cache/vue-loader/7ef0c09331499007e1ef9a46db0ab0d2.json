{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/PanelConfiguracionAtlas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/PanelConfiguracionAtlas.vue","mtime":1643654906499},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBhbmVsQ29uZmlndXJhY2lvbkF0bGFzIiwKICBwcm9wczogewogICAgeW86IE9iamVjdCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhYmllcnRvOiBmYWxzZSwKICAgICAgZW52aWFuZG9RdWVyeU1vZG86IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBvZmZzZXQoKSB7CiAgICAgIGlmICh0aGlzLmFiaWVydG8pIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcmlnaHQ6ICIwcHgiLAogICAgICAgIH07CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBsZWZ0OiAiMTAwJSIsCiAgICAgIH07CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgc2V0TW9kbyhtb2RvKSB7CiAgICAgIGlmICghdGhpcy51c3VhcmlvIHx8ICF0aGlzLnVzdWFyaW8uaWQpIHJldHVybjsKICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5TW9kbyA9IHRydWU7CgogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWRVc3VhcmlvOiBJRCEsICRudWV2b01vZG86IFN0cmluZyEpIHsKICAgICAgICAgICAgICBzZXRNb2RvVXN1YXJpb0F0bGFzKGlkVXN1YXJpbzogJGlkVXN1YXJpbywgbnVldm9Nb2RvOiAkbnVldm9Nb2RvKXsKICAgICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgICAgYXRsYXN7CiAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFjaW9uewogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZG8KICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkVXN1YXJpbzogdGhpcy51c3VhcmlvLmlkLAogICAgICAgICAgICBudWV2b01vZG86IG1vZG8sCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5TW9kbyA9IGZhbHNlOwogICAgICAgICAgCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvUXVlcnlNb2RvID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["PanelConfiguracionAtlas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PanelConfiguracionAtlas.vue","sourceRoot":"src/components/atlasConocimiento","sourcesContent":["<template>\n  <div\n    id=\"panelConfiguracionAtlas\"\n    @mouseup.left.stop=\"\"\n    @mousedown.left.stop=\"\"\n    :style=\"[offset]\"\n  >\n    <img\n      src=\"@/assets/iconos/settings.png\"\n      alt=\"Configuración\"\n      title=\"Configuración\"\n      id=\"grabber\"\n      @click.stop=\"abierto = !abierto\"\n    />\n\n    <div id=\"configuracionesGenerales\">\n      <div class=\"configuracionGeneral\">\n        <div class=\"labelConfiguracion\">Modo</div>\n        <img\n          src=\"@/assets/iconos/estudiante.png\"\n          class=\"iconoModo\"\n          alt=\"Estudiante\"\n          title=\"Cambiar a modo estudiante\"\n          :class=\"{ activo: yo.atlas.configuracion.modo === 'estudiante', deshabilitado:enviandoQueryModo }\"\n          @click=\"setModo('estudiante')\"\n        />\n        <img\n          src=\"@/assets/iconos/clase.png\"\n          class=\"iconoModo\"\n          alt=\"Experto\"\n          title=\"Cambiar a modo experto\"\n          :class=\"{ activo: yo.atlas.configuracion.modo === 'experto', deshabilitado:enviandoQueryModo }\"\n          @click=\"setModo('experto')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nexport default {\n  name: \"PanelConfiguracionAtlas\",\n  props: {\n    yo: Object,\n  },\n  data() {\n    return {\n      abierto: false,\n      enviandoQueryModo: false,\n    };\n  },\n  computed: {\n    offset() {\n      if (this.abierto) {\n        return {\n          right: \"0px\",\n        };\n      }\n      return {\n        left: \"100%\",\n      };\n    },\n  },\n  methods: {\n    setModo(modo) {\n      if (!this.usuario || !this.usuario.id) return;\n      this.enviandoQueryModo = true;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idUsuario: ID!, $nuevoModo: String!) {\n              setModoUsuarioAtlas(idUsuario: $idUsuario, nuevoModo: $nuevoModo){\n                  id\n                  atlas{\n                      configuracion{\n                          modo\n                      }                    \n                  }\n              }\n            }\n          `,\n          variables: {\n            idUsuario: this.usuario.id,\n            nuevoModo: modo,\n          },\n        })\n        .then(() => {\n          this.enviandoQueryModo = false;\n          \n        })\n        .catch((error) => {\n          this.enviandoQueryModo = false;\n          console.log(`Error: ${error}`);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n#panelConfiguracionAtlas {\n  position: absolute;\n  top: 90px;\n  box-shadow: 2px 2px 2px 2px rgb(190, 190, 190);\n  min-width: 100px;\n  min-height: 100px;\n  max-height: 80%;\n  background-color: whitesmoke;\n  width: min(80%, 350px);\n}\n#grabber {\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  position: absolute;\n  top: 0px;\n  right: 100%;\n}\n.iconoModo {\n  border-radius: 50%;\n  width: 30px;\n  cursor: pointer;\n  opacity: 0.6;\n}\n\n.iconoModo.activo {\n  opacity: 1;\n  pointer-events: none;\n  background-color: cadetblue;\n}\n\n.labelConfiguracion {\n  margin-right: 15px;\n}\n\n.configuracionGeneral {\n  padding: 5px 10px;\n  display: flex;\n  align-items: center;\n}\n</style>"]}]}