{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/foros/CuadroResponder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/foros/CuadroResponder.vue","mtime":1643654906503},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgTG9hZGluZyBmcm9tICIuLi91dGlsaWRhZGVzL0xvYWRpbmcudnVlIjsKaW1wb3J0IHsKICBmcmFnbWVudG9Db252ZXJzYWNpb24sCiAgZnJhZ21lbnRvUmVzcHVlc3RhLAp9IGZyb20gIi4uL3V0aWxpZGFkZXMvcmVjdXJzb3NHcWwiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQ3JlYWRvckludGVycG9sYWNpb24gZnJvbSAiLi9DcmVhZG9ySW50ZXJwb2xhY2lvbi52dWUiOwoKZXhwb3J0IHZhciBjaGFyUHJvaGliaWRvc01lbnNhamUgPSAvW15cblxyIGEtekEtWsOALcW+MC05XygpIjo7LiwrwqEhwr8/QD0tXS87CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBMb2FkaW5nLCBDcmVhZG9ySW50ZXJwb2xhY2lvbiB9LAogIG5hbWU6ICJDdWFkcm9SZXNwb25kZXIiLAogIHByb3BzOiB7CiAgICB0aXR1bG9OdWV2YUNvbnZlcnNhY2lvbjogU3RyaW5nLAogICAgaWRDb252ZXJzYWNpb246IFN0cmluZywKICAgIGlkRm9ybzogU3RyaW5nLAogICAgcGFyZW50OiBPYmplY3QsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVuc2FqZTogbnVsbCwKICAgICAgY3VhZHJvQWJpZXJ0bzogZmFsc2UsCiAgICAgIGVudmlhbmRvUmVzcHVlc3RhOiBmYWxzZSwKICAgICAgbm9tYnJlQXJjaGl2b1NlbGVjY2lvbmFkbzogbnVsbCwKCiAgICAgIGludHJvZHVjaWVuZG9FbmxhY2U6IGZhbHNlLAogICAgICBlbmxhY2VBZGp1bnRhYmxlOiBudWxsLAogICAgICBlbmxhY2VBZGp1bnRvOiBbXSwKCiAgICAgIGludGVycG9sYWNpb25lczogW10sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZXZhbHVhckFkanVudG8oKSB7CiAgICAgIGlmICh0aGlzLm1lbnNhamVJbGVnYWwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5lbnZpYW5kb1Jlc3B1ZXN0YSA9IHRydWU7CiAgICAgIGxldCBpbnB1dEFyY2hpdm9BZGp1bnRvID0gdGhpcy4kcmVmcy5pbnB1dEFyY2hpdm9BZGp1bnRvOwogICAgICB2YXIgZGF0b3MgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdGhpcy5zZXRJbnRlcnBvbGFjaW9uZXNEYXRhKCk7CgogICAgICBpZiAoIWlucHV0QXJjaGl2b0FkanVudG8udmFsdWUpIHsKICAgICAgICBsZXQgbnVldmFSZXNwdWVzdGEgPSB7CiAgICAgICAgICBpbmZvQXJjaGl2bzogbnVsbCwKICAgICAgICAgIG1lbnNhamU6IHRoaXMubWVuc2FqZSwKICAgICAgICAgIGludGVycG9sYWNpb25lczogdGhpcy5pbnRlcnBvbGFjaW9uZXMKICAgICAgICB9OwogICAgICAgIGlmICh0aGlzLmVubGFjZUFkanVudG8gJiYgdGhpcy5lbmxhY2VBZGp1bnRvLmxlbmd0aCA+IDApIHsKICAgICAgICAgIG51ZXZhUmVzcHVlc3RhLmVubGFjZUFkanVudG8gPSB0aGlzLmVubGFjZUFkanVudG87CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5pZENvbnZlcnNhY2lvbikgewogICAgICAgICAgdGhpcy5jcmVhckNvbnZlcnNhY2lvbkNvblJlc3B1ZXN0YShudWV2YVJlc3B1ZXN0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZW52aWFyTnVldmFSZXNwdWVzdGEobnVldmFSZXNwdWVzdGEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBhcmNoaXZvQWRqdW50byA9IGlucHV0QXJjaGl2b0FkanVudG8uZmlsZXNbMF07CiAgICAgICAgY29uc3QgZmlsZVR5cGUgPSBhcmNoaXZvQWRqdW50b1sidHlwZSJdOwogICAgICAgIGNvbnNvbGUubG9nKGBzdWJpZW5kbyB1biAke2ZpbGVUeXBlfWApOwogICAgICAgIGRhdG9zLmFwcGVuZCgiYXJjaGl2b0FkanVudG8iLCBhcmNoaXZvQWRqdW50byk7CiAgICAgICAgdmFyIGRpcyA9IHRoaXM7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICB1cmw6IHRoaXMuc2VydmVyVXJsICsgIi9hcGkvZm9yb3MvYWRqdW50YXJBcmNoaXZvUGFyYVJlc3B1ZXN0YSIsCiAgICAgICAgICBkYXRhOiBkYXRvcywKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiwKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4sCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgICAudGhlbigoeyBkYXRhOiB7IGluZm9BcmNoaXZvIH0gfSkgPT4gewogICAgICAgICAgICAvL1NlIGhhIHN1YmlkbyBlbCBhcmNoaXZvLiBBaG9yYSBwdWJsaWNhciBsYSByZXNwdWVzdGEKCiAgICAgICAgICAgIC8vQ3JlYW5kbyBsYSBudWV2YSBwYXJ0aWNpcGFjaW9uCgogICAgICAgICAgICBsZXQgbnVldmFSZXNwdWVzdGEgPSB7CiAgICAgICAgICAgICAgaW5mb0FyY2hpdm86IHsKICAgICAgICAgICAgICAgIGlkR29vZ2xlRHJpdmU6IGluZm9BcmNoaXZvLmlkR29vZ2xlRHJpdmUsCiAgICAgICAgICAgICAgICBnb29nbGVEcml2ZURpcmVjdExpbms6IGluZm9BcmNoaXZvLmdvb2dsZURyaXZlRGlyZWN0TGluaywKICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogaW5mb0FyY2hpdm8uZXh0ZW5zaW9uRGVBcmNoaXZvLAogICAgICAgICAgICAgICAgbm9tYnJlOiBpbmZvQXJjaGl2by5leHRlbnNpb25EZUFyY2hpdm8sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBtZW5zYWplOiBkaXMubWVuc2FqZSwKICAgICAgICAgICAgICBpbnRlcnBvbGFjaW9uZXM6dGhpcy5pbnRlcnBvbGFjaW9uZXMsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmICh0aGlzLmVubGFjZUFkanVudG8gJiYgdGhpcy5lbmxhY2VBZGp1bnRvLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBudWV2YVJlc3B1ZXN0YS5lbmxhY2VBZGp1bnRvID0gdGhpcy5lbmxhY2VBZGp1bnRvOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghdGhpcy5pZENvbnZlcnNhY2lvbikgewogICAgICAgICAgICAgIHRoaXMuY3JlYXJDb252ZXJzYWNpb25Db25SZXNwdWVzdGEobnVldmFSZXNwdWVzdGEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZW52aWFyTnVldmFSZXNwdWVzdGEobnVldmFSZXNwdWVzdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLmVudmlhbmRvUmVzcHVlc3RhID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcmVzOiAke2Vycm9yfWApOwogICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5tc2pVc3VhcmlvKSB7CiAgICAgICAgICAgICAgICBhbGVydChlcnJvci5yZXNwb25zZS5kYXRhLm1zalVzdWFyaW8pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhckNvbnZlcnNhY2lvbkNvblJlc3B1ZXN0YShudWV2YVJlc3B1ZXN0YSkgewogICAgICBpZiAoIXRoaXMudGl0dWxvTnVldmFDb252ZXJzYWNpb24pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGlucHV0ID0gewogICAgICAgIHRpdHVsbzogdGhpcy50aXR1bG9OdWV2YUNvbnZlcnNhY2lvbiwKICAgICAgICBwcmltZXJhUmVzcHVlc3RhOiBudWV2YVJlc3B1ZXN0YSwKICAgICAgfTsKICAgICAgdGhpcy5lbnZpYW5kb1Jlc3B1ZXN0YSA9IHRydWU7CiAgICAgIHZhciBkaXMgPSB0aGlzOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uKAogICAgICAgICAgICAgICRpZEZvcm86IElEIQogICAgICAgICAgICAgICRpbnB1dDogSW5wdXRJbmljaWFyQ29udmVyc2FjaW9uCiAgICAgICAgICAgICAgJHBhcmVudDogSW5wdXRQYXJlbnQKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgaW5pY2lhckNvbnZlcnNhY2lvbkNvblByaW1lck1lbnNhamVGb3JvKAogICAgICAgICAgICAgICAgaWRGb3JvOiAkaWRGb3JvCiAgICAgICAgICAgICAgICBpbnB1dDogJGlucHV0CiAgICAgICAgICAgICAgICBwYXJlbnQ6ICRwYXJlbnQKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIC4uLmZyYWdDb252ZXJzYWNpb24KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHtmcmFnbWVudG9Db252ZXJzYWNpb259CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkRm9ybzogZGlzLmlkRm9ybywKICAgICAgICAgICAgaW5wdXQsCiAgICAgICAgICAgIHBhcmVudDogZGlzLnBhcmVudCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhOiB7IGluaWNpYXJDb252ZXJzYWNpb25Db25QcmltZXJNZW5zYWplRm9ybyB9IH0pID0+IHsKICAgICAgICAgIGRpcy5lbnZpYW5kb1Jlc3B1ZXN0YSA9IGZhbHNlOwogICAgICAgICAgZGlzLiRlbWl0KAogICAgICAgICAgICAiaGljZUNvbnZlcnNhY2lvbiIsCiAgICAgICAgICAgIGluaWNpYXJDb252ZXJzYWNpb25Db25QcmltZXJNZW5zYWplRm9ybwogICAgICAgICAgKTsKICAgICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGRpcy5lbnZpYW5kb1Jlc3B1ZXN0YSA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yLiBFOiAke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICAgIGVudmlhck51ZXZhUmVzcHVlc3RhKG51ZXZhUmVzcHVlc3RhKSB7CiAgICAgIGlmICh0aGlzLm1lbnNhamVJbGVnYWwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGRpcyA9IHRoaXM7CiAgICAgIHRoaXMuZW52aWFuZG9SZXNwdWVzdGEgPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uKAogICAgICAgICAgICAgICRpZENvbnZlcnNhY2lvbjogSUQhCiAgICAgICAgICAgICAgJG51ZXZhUmVzcHVlc3RhOiBJbnB1dE51ZXZhUmVzcHVlc3RhCiAgICAgICAgICAgICAgJHBhcmVudDogSW5wdXRQYXJlbnQKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgcG9zdFJlc3B1ZXN0YUNvbnZlcnNhY2lvbigKICAgICAgICAgICAgICAgIGlkQ29udmVyc2FjaW9uOiAkaWRDb252ZXJzYWNpb24KICAgICAgICAgICAgICAgIG51ZXZhUmVzcHVlc3RhOiAkbnVldmFSZXNwdWVzdGEKICAgICAgICAgICAgICAgIHBhcmVudDogJHBhcmVudAogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgLi4uZnJhZ1Jlc3B1ZXN0YQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAke2ZyYWdtZW50b1Jlc3B1ZXN0YX0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRDb252ZXJzYWNpb246IGRpcy5pZENvbnZlcnNhY2lvbiwKICAgICAgICAgICAgbnVldmFSZXNwdWVzdGEsCiAgICAgICAgICAgIHBhcmVudDogZGlzLnBhcmVudCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhOiB7IHBvc3RSZXNwdWVzdGFDb252ZXJzYWNpb24gfSB9KSA9PiB7CiAgICAgICAgICBkaXMuZW52aWFuZG9SZXNwdWVzdGEgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJGVtaXQoImhpY2VSZXNwdWVzdGEiLCBwb3N0UmVzcHVlc3RhQ29udmVyc2FjaW9uKTsKICAgICAgICAgIHRoaXMuY2VycmFyc2UoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGRpcy5lbnZpYW5kb1Jlc3B1ZXN0YSA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yLiBFOiAke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZUN1YWRyb0FiaWVydG8oKSB7CiAgICAgIHRoaXMuY3VhZHJvQWJpZXJ0byA9ICF0aGlzLmN1YWRyb0FiaWVydG87CiAgICB9LAogICAgY2VycmFyc2UoKSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy5jdWFkcm9BYmllcnRvID0gZmFsc2U7CiAgICB9LAogICAgYWN0dWFsaXphck5vbWJyZURlQXJjaGl2bygpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLmlucHV0QXJjaGl2b0FkanVudG8udmFsdWUpIHsKICAgICAgICBjb25zb2xlLmxvZyhgTnVsbGlmaWNhbmRvIGVsIG5vbWJyZSBkZSBhcmNoaXZvIHNlbGVjY2lvbmFkb2ApOwogICAgICAgIHRoaXMubm9tYnJlQXJjaGl2b1NlbGVjY2lvbmFkbyA9IG51bGw7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMubm9tYnJlQXJjaGl2b1NlbGVjY2lvbmFkbyA9IHRoaXMuJHJlZnMuaW5wdXRBcmNoaXZvQWRqdW50by5maWxlc1swXS5uYW1lOwogICAgfSwKICAgIGFicmlyU2VsZWN0b3JEZUFyY2hpdm9zKCkgewogICAgICB0aGlzLiRyZWZzLmlucHV0QXJjaGl2b0FkanVudG8uY2xpY2soKTsKICAgIH0sCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5ub21icmVBcmNoaXZvU2VsZWNjaW9uYWRvID0gbnVsbDsKICAgICAgdGhpcy4kcmVmcy5pbnB1dEFyY2hpdm9BZGp1bnRvLnZhbHVlID0gbnVsbDsKICAgICAgdGhpcy5tZW5zYWplID0gbnVsbDsKICAgICAgdGhpcy5pbnRlcnBvbGFjaW9uZXM9W107CiAgICAgICh0aGlzLmVubGFjZUFkanVudGFibGUgPSBudWxsKSwgKHRoaXMuZW5sYWNlQWRqdW50byA9IFtdKTsKICAgIH0sCiAgICBpbnRlcnBvbGFyUXVvdGUocXVvdGUpewogICAgICB2YXIgbnVldmFJbnRlcnBvbGFjaW9uPXsKICAgICAgICB0aXBvOiJxdW90ZSIsCiAgICAgICAgcXVvdGUsCiAgICAgIH0KCiAgICAgIHRoaXMuaW50ZXJwb2xhY2lvbmVzLnB1c2gobnVldmFJbnRlcnBvbGFjaW9uKTsKICAgICAgaWYoIXRoaXMuY3VhZHJvQWJpZXJ0byl0aGlzLmN1YWRyb0FiaWVydG89dHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PnsKICAgICAgICB0aGlzLiRlbC5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6InNtb290aCJ9KTsKICAgICAgfSkKICAgIH0sCiAgICBpbnNlcnRhckNyZWFkb3JJbnRlcnBvbGFjaW9uKHRpcG8pIHsKICAgICAgdmFyIG51ZXZhSW50ZXJwb2xhY2lvbiA9IHsKICAgICAgICB0aXBvLAogICAgICB9OwoKICAgICAgdGhpcy5pbnRlcnBvbGFjaW9uZXMucHVzaChudWV2YUludGVycG9sYWNpb24pOwogICAgfSwKICAgIGNoZWNrSGVpZ2h0KCkgewogICAgICBjb25zb2xlLmxvZygKICAgICAgICBgRWwgdGV4dGFyZWEgdGllbmUgdW4gaGVpZ2h0IGRlICR7dGhpcy4kcmVmcy5pbnB1dE1lbnNhamUub2Zmc2V0SGVpZ2h0fSBwZXJvIHVuIHNjcm9sbCBoZWlnaHQgZGUgJHt0aGlzLiRyZWZzLmlucHV0TWVuc2FqZS5zY3JvbGxIZWlnaHR9YAogICAgICApOwogICAgICB3aGlsZSAoCiAgICAgICAgdGhpcy4kcmVmcy5pbnB1dE1lbnNhamUuc2Nyb2xsSGVpZ2h0ID4KICAgICAgICB0aGlzLiRyZWZzLmlucHV0TWVuc2FqZS5vZmZzZXRIZWlnaHQKICAgICAgKSB7CiAgICAgICAgdGhpcy4kcmVmcy5pbnB1dE1lbnNhamUucm93cysrOwogICAgICB9CiAgICB9LAogICAgZWxpbWluYXJJbnRlcnBvbGFjaW9uKG1lbnNhamUsIGluZGV4KSB7CiAgICAgIGlmIChtZW5zYWplKSB7CiAgICAgICAgaWYgKGluZGV4ID09IDApIHsKICAgICAgICAgIGlmICghdGhpcy5tZW5zYWplKSB7CiAgICAgICAgICAgIHRoaXMubWVuc2FqZSA9IG1lbnNhamU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm1lbnNhamUgKz0gIlxuXG4iICsgbWVuc2FqZTsKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuY2hlY2tIZWlnaHQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIAogICAgICAgICAgCiAgICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgYGHDsWFkaWVuZG8gZWwgbWVuc2FqZSAke21lbnNhamV9IGFsIGNyZWFkb3IgZGUgaW50ZXJwb2xhY2lvbiAkewogICAgICAgICAgICAgIChpbmRleC0xKQogICAgICAgICAgICB9YAogICAgICAgICAgKTsKICAgICAgICAgIHRoaXMuJHJlZnMuY3JlYWRvcmVzSW50ZXJwb2xhY2lvbltpbmRleC0xXS5hZGRUb01lbnNhamUoCiAgICAgICAgICAgIG1lbnNhamUKICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuaW50ZXJwb2xhY2lvbmVzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgc2V0RW5sYWNlSWZyYW1lSW50ZXJwb2xhY2lvbihlbmxhY2UsIGluZGV4KXsKICAgICAgY29uc29sZS5sb2coYFNldGluZyBlbmxhY2UgaWZyYW1lIGVuIGVsIGFycmF5IGRlIGludGVycG9sYWNpb25lc2ApOwogICAgICB0aGlzLiRzZXQodGhpcy5pbnRlcnBvbGFjaW9uZXNbaW5kZXhdLCAiZW5sYWNlSWZyYW1lIiwgZW5sYWNlKTsKICAgICAgCiAgICB9LAogICAgcmV0aXJhclR5cGVOYW1lKGFycmF5SW50ZXJwb2xhY2lvbmVzKXsKICAgICAgY29uc29sZS5sb2coYFJldGlyYW5kbyB0eXBlbmFtZXNgKTsKICAgICAgYXJyYXlJbnRlcnBvbGFjaW9uZXMuZm9yRWFjaChpbnRlcnBvbGFjaW9uPT57CiAgICAgICAgZGVsZXRlIGludGVycG9sYWNpb24uX190eXBlbmFtZSAgICAgICAgCiAgICAgICAgaWYoaW50ZXJwb2xhY2lvbi5xdW90ZSl7CiAgICAgICAgICBkZWxldGUgaW50ZXJwb2xhY2lvbi5xdW90ZS5fX3R5cGVuYW1lCiAgICAgICAgICBpZihpbnRlcnBvbGFjaW9uLnF1b3RlLmluZm9BdXRvcil7CiAgICAgICAgICAgIGRlbGV0ZSBpbnRlcnBvbGFjaW9uLnF1b3RlLmluZm9BdXRvci5fX3R5cGVuYW1lCiAgICAgICAgICB9CiAgICAgICAgICBpZihpbnRlcnBvbGFjaW9uLnF1b3RlLmludGVycG9sYWNpb25lcyl7CiAgICAgICAgICAgIGludGVycG9sYWNpb24ucXVvdGUuaW50ZXJwb2xhY2lvbmVzPXRoaXMucmV0aXJhclR5cGVOYW1lKGludGVycG9sYWNpb24ucXVvdGUuaW50ZXJwb2xhY2lvbmVzKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBhcnJheUludGVycG9sYWNpb25lcwogICAgfSwKICAgIHNldEludGVycG9sYWNpb25lc0RhdGEoKXsKICAgICAgdGhpcy5pbnRlcnBvbGFjaW9uZXMuZm9yRWFjaCgoaW50ZXJwb2xhY2lvbiwgaW5kZXgpPT57CiAgICAgICAgaW50ZXJwb2xhY2lvbi5tZW5zYWplPXRoaXMuJHJlZnMuY3JlYWRvcmVzSW50ZXJwb2xhY2lvbltpbmRleF0ubWVuc2FqZTsKICAgICAgfSk7CiAgICAgIHRoaXMuaW50ZXJwb2xhY2lvbmVzPXRoaXMucmV0aXJhclR5cGVOYW1lKHRoaXMuaW50ZXJwb2xhY2lvbmVzKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBtZW5zYWplSWxlZ2FsKCkgewogICAgICB2YXIgbWVuc2FqZVRvdGFsPXRoaXMubWVuc2FqZT90aGlzLm1lbnNhamU6Jyc7CiAgICAgIAogICAgICB0aGlzLmludGVycG9sYWNpb25lcy5mb3JFYWNoKGludGVycG9sYWNpb249PnsKICAgICAgICBpZihpbnRlcnBvbGFjaW9uLm1lbnNhamUpewogICAgICAgICAgbWVuc2FqZVRvdGFsKz1pbnRlcnBvbGFjaW9uLm1lbnNhamU7CiAgICAgICAgfQogICAgICB9KQoKICAgICAgaWYgKGNoYXJQcm9oaWJpZG9zTWVuc2FqZS50ZXN0KG1lbnNhamVUb3RhbCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgZW5sYWNlQWRqdW50YWJsZUlsZWdhbCgpIHsKICAgICAgaWYgKCF0aGlzLmVubGFjZUFkanVudGFibGUpIHJldHVybiB0cnVlOwogICAgICBpZiAodGhpcy5lbmxhY2VBZGp1bnRhYmxlLnN1YnN0cigwLCA4KSAhPSAiaHR0cHM6Ly8iKSB7CiAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICBgRWwgaW5pY2lvICR7dGhpcy5lbmxhY2VBZGp1bnRhYmxlLnN1YnN0cigwLCA4KX0gZGlmaWVyZSBkZWwgZXNwZXJhZG9gCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZW5sYWNlQWRqdW50YWJsZS5sZW5ndGggPCA3KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZyhgUmV2aXNhbmRvIHNpIGhheSBpZENvbnZlcnNhY2lvbmApOwogICAgaWYgKCF0aGlzLmlkQ29udmVyc2FjaW9uKSB7CiAgICAgIHRoaXMuY3VhZHJvQWJpZXJ0byA9IHRydWU7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["CuadroResponder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CuadroResponder.vue","sourceRoot":"src/components/foros","sourcesContent":["<template>\n  <div class=\"cuadroResponder\">\n    <div id=\"barraSuperior\" v-show=\"idConversacion\">\n      <img\n        src=\"@/assets/iconos/mensaje.png\"\n        alt=\"Contestar\"\n        title=\"Contestar en esta conversación\"\n        id=\"imgMensaje\"\n        @click=\"toggleCuadroAbierto\"\n      />\n      <span id=\"tituloCuadro\">Envía una respuesta</span>\n    </div>\n\n    <div id=\"zonaMensaje\" v-show=\"cuadroAbierto\">\n      <textarea\n        name=\"inputMensaje\"\n        id=\"inputMensaje\"\n        ref=\"inputMensaje\"\n        :class=\"{ letrasRojas: mensajeIlegal }\"\n        v-model=\"mensaje\"\n        rows=\"2\"\n        @input=\"checkHeight\"\n      ></textarea>\n\n      <creador-interpolacion\n        v-for=\"(interpolacion, index) of interpolaciones\"\n        :ref=\"'creadoresInterpolacion'\"\n        :key=\"index\"\n        :estaInterpolacion=\"interpolacion\"\n        @eliminarse=\"eliminarInterpolacion($event, index)\"\n        @enlaceIframeSet=\"setEnlaceIframeInterpolacion($event, index)\"\n      />\n    </div>\n    <div id=\"zonaInsertar\" v-show=\"cuadroAbierto\">\n      <img\n        src=\"@/assets/iconos/video.png\"\n        alt=\"Video\"\n        @click=\"insertarCreadorInterpolacion('video')\"\n        class=\"bInsertar\"\n        title=\"Insertar un enlace a un video\"\n      />\n    </div>\n\n    <!--  -->\n    <div id=\"adjuntarArchivo\" v-show=\"cuadroAbierto\">\n      <input\n        type=\"file\"\n        id=\"inputArchivoAdjunto\"\n        ref=\"inputArchivoAdjunto\"\n        @change=\"actualizarNombreDeArchivo\"\n      />\n      <img\n        src=\"@/assets/iconos/adjuntar.png\"\n        alt=\"Ajuntar archivo\"\n        id=\"imgAdjuntar\"\n        title=\"adjuntar un archivo\"\n        @click=\"abrirSelectorDeArchivos\"\n      />\n      <br />\n      <div id=\"nombreArchivoSeleccionado\" v-show=\"nombreArchivoSeleccionado\">\n        {{ nombreArchivoSeleccionado }}\n      </div>\n    </div>\n    <!--  -->\n    <div\n      id=\"bloqueAdjuntarEnlace\"\n      class=\"bloqueAdjuntar\"\n      v-show=\"cuadroAbierto\"\n    >\n      <div id=\"zonaIntroducirEnlace\">\n        <img\n          src=\"@/assets/iconos/hypervinculo.png\"\n          alt=\"Ajuntar enlace\"\n          id=\"imgAdjuntarEnlace\"\n          title=\"adjuntar un enlace\"\n          @click=\"introduciendoEnlace = true\"\n        />\n        <input\n          type=\"text\"\n          v-show=\"introduciendoEnlace === true\"\n          class=\"inputAdjuntarEnlace\"\n          placeholder=\"escribe o pega el enlace\"\n          v-model=\"enlaceAdjuntable\"\n        />\n        <img\n          src=\"@/assets/iconos/success.png\"\n          alt=\"Confirmar\"\n          id=\"bAceptarAdjuntarEnlace\"\n          v-show=\"introduciendoEnlace && !enlaceAdjuntableIlegal\"\n          @click.stop=\"\n            enlaceAdjunto.push(enlaceAdjuntable);\n            enlaceAdjuntable = null;\n            introduciendoEnlace = false;\n          \"\n        />\n      </div>\n      <div\n        class=\"enlaceAdjuntado\"\n        v-for=\"(enlace, index) of enlaceAdjunto\"\n        :key=\"index\"\n      >\n        <div id=\"nombreEnlaceAdjuntado\">\n          <span>{{ enlace }}</span>\n        </div>\n        <div\n          id=\"bCancelarEnlaceAdjunto\"\n          @click.stop=\"enlaceAdjunto.splice(index, 1)\"\n        >\n          <div class=\"linea1\"><div class=\"linea2\"></div></div>\n        </div>\n      </div>\n    </div>\n\n    <!--  -->\n\n    <img\n      v-show=\"cuadroAbierto && !enviandoRespuesta\"\n      :class=\"{ deshabilitado: mensajeIlegal }\"\n      src=\"@/assets/iconos/enviar.png\"\n      alt=\"Enviar\"\n      title=\"Enviar respuesta\"\n      id=\"bEnviar\"\n      @click=\"evaluarAdjunto\"\n    />\n\n    <loading texto=\"Enviando respuesta...\" v-show=\"enviandoRespuesta\" />\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport {\n  fragmentoConversacion,\n  fragmentoRespuesta,\n} from \"../utilidades/recursosGql\";\nimport axios from \"axios\";\nimport CreadorInterpolacion from \"./CreadorInterpolacion.vue\";\n\nexport var charProhibidosMensaje = /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;\n\nexport default {\n  components: { Loading, CreadorInterpolacion },\n  name: \"CuadroResponder\",\n  props: {\n    tituloNuevaConversacion: String,\n    idConversacion: String,\n    idForo: String,\n    parent: Object,\n  },\n  data() {\n    return {\n      mensaje: null,\n      cuadroAbierto: false,\n      enviandoRespuesta: false,\n      nombreArchivoSeleccionado: null,\n\n      introduciendoEnlace: false,\n      enlaceAdjuntable: null,\n      enlaceAdjunto: [],\n\n      interpolaciones: [],\n    };\n  },\n  methods: {\n    evaluarAdjunto() {\n      if (this.mensajeIlegal) {\n        return;\n      }\n      this.enviandoRespuesta = true;\n      let inputArchivoAdjunto = this.$refs.inputArchivoAdjunto;\n      var datos = new FormData();\n      this.setInterpolacionesData();\n\n      if (!inputArchivoAdjunto.value) {\n        let nuevaRespuesta = {\n          infoArchivo: null,\n          mensaje: this.mensaje,\n          interpolaciones: this.interpolaciones\n        };\n        if (this.enlaceAdjunto && this.enlaceAdjunto.length > 0) {\n          nuevaRespuesta.enlaceAdjunto = this.enlaceAdjunto;\n        }\n        if (!this.idConversacion) {\n          this.crearConversacionConRespuesta(nuevaRespuesta);\n        } else {\n          this.enviarNuevaRespuesta(nuevaRespuesta);\n        }\n      } else {\n        const archivoAdjunto = inputArchivoAdjunto.files[0];\n        const fileType = archivoAdjunto[\"type\"];\n        console.log(`subiendo un ${fileType}`);\n        datos.append(\"archivoAdjunto\", archivoAdjunto);\n        var dis = this;\n        axios({\n          method: \"post\",\n          url: this.serverUrl + \"/api/foros/adjuntarArchivoParaRespuesta\",\n          data: datos,\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: \"Bearer \" + this.$store.state.token,\n          },\n        })\n          .then(({ data: { infoArchivo } }) => {\n            //Se ha subido el archivo. Ahora publicar la respuesta\n\n            //Creando la nueva participacion\n\n            let nuevaRespuesta = {\n              infoArchivo: {\n                idGoogleDrive: infoArchivo.idGoogleDrive,\n                googleDriveDirectLink: infoArchivo.googleDriveDirectLink,\n                extension: infoArchivo.extensionDeArchivo,\n                nombre: infoArchivo.extensionDeArchivo,\n              },\n              mensaje: dis.mensaje,\n              interpolaciones:this.interpolaciones,\n            };\n            if (this.enlaceAdjunto && this.enlaceAdjunto.length > 0) {\n              nuevaRespuesta.enlaceAdjunto = this.enlaceAdjunto;\n            }\n            if (!this.idConversacion) {\n              this.crearConversacionConRespuesta(nuevaRespuesta);\n            } else {\n              this.enviarNuevaRespuesta(nuevaRespuesta);\n            }\n          })\n          .catch((error) => {\n            this.enviandoRespuesta = false;\n            console.log(`Errores: ${error}`);\n            if (error.response) {\n              if (error.response.data.msjUsuario) {\n                alert(error.response.data.msjUsuario);\n              }\n            }\n          });\n      }\n    },\n    crearConversacionConRespuesta(nuevaRespuesta) {\n      if (!this.tituloNuevaConversacion) {\n        return;\n      }\n      var input = {\n        titulo: this.tituloNuevaConversacion,\n        primeraRespuesta: nuevaRespuesta,\n      };\n      this.enviandoRespuesta = true;\n      var dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idForo: ID!\n              $input: InputIniciarConversacion\n              $parent: InputParent\n            ) {\n              iniciarConversacionConPrimerMensajeForo(\n                idForo: $idForo\n                input: $input\n                parent: $parent\n              ) {\n                ...fragConversacion\n              }\n            }\n            ${fragmentoConversacion}\n          `,\n          variables: {\n            idForo: dis.idForo,\n            input,\n            parent: dis.parent,\n          },\n        })\n        .then(({ data: { iniciarConversacionConPrimerMensajeForo } }) => {\n          dis.enviandoRespuesta = false;\n          dis.$emit(\n            \"hiceConversacion\",\n            iniciarConversacionConPrimerMensajeForo\n          );\n          this.reset();\n        })\n        .catch((error) => {\n          dis.enviandoRespuesta = false;\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    enviarNuevaRespuesta(nuevaRespuesta) {\n      if (this.mensajeIlegal) {\n        return;\n      }\n      var dis = this;\n      this.enviandoRespuesta = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idConversacion: ID!\n              $nuevaRespuesta: InputNuevaRespuesta\n              $parent: InputParent\n            ) {\n              postRespuestaConversacion(\n                idConversacion: $idConversacion\n                nuevaRespuesta: $nuevaRespuesta\n                parent: $parent\n              ) {\n                ...fragRespuesta\n              }\n            }\n            ${fragmentoRespuesta}\n          `,\n          variables: {\n            idConversacion: dis.idConversacion,\n            nuevaRespuesta,\n            parent: dis.parent,\n          },\n        })\n        .then(({ data: { postRespuestaConversacion } }) => {\n          dis.enviandoRespuesta = false;\n          this.$emit(\"hiceRespuesta\", postRespuestaConversacion);\n          this.cerrarse();\n        })\n        .catch((error) => {\n          dis.enviandoRespuesta = false;\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    toggleCuadroAbierto() {\n      this.cuadroAbierto = !this.cuadroAbierto;\n    },\n    cerrarse() {\n      this.reset();\n      this.cuadroAbierto = false;\n    },\n    actualizarNombreDeArchivo() {\n      if (!this.$refs.inputArchivoAdjunto.value) {\n        console.log(`Nullificando el nombre de archivo seleccionado`);\n        this.nombreArchivoSeleccionado = null;\n        return;\n      }\n      this.nombreArchivoSeleccionado = this.$refs.inputArchivoAdjunto.files[0].name;\n    },\n    abrirSelectorDeArchivos() {\n      this.$refs.inputArchivoAdjunto.click();\n    },\n    reset() {\n      this.nombreArchivoSeleccionado = null;\n      this.$refs.inputArchivoAdjunto.value = null;\n      this.mensaje = null;\n      this.interpolaciones=[];\n      (this.enlaceAdjuntable = null), (this.enlaceAdjunto = []);\n    },\n    interpolarQuote(quote){\n      var nuevaInterpolacion={\n        tipo:\"quote\",\n        quote,\n      }\n\n      this.interpolaciones.push(nuevaInterpolacion);\n      if(!this.cuadroAbierto)this.cuadroAbierto=true;\n      this.$nextTick(()=>{\n        this.$el.scrollIntoView({behavior:\"smooth\"});\n      })\n    },\n    insertarCreadorInterpolacion(tipo) {\n      var nuevaInterpolacion = {\n        tipo,\n      };\n\n      this.interpolaciones.push(nuevaInterpolacion);\n    },\n    checkHeight() {\n      console.log(\n        `El textarea tiene un height de ${this.$refs.inputMensaje.offsetHeight} pero un scroll height de ${this.$refs.inputMensaje.scrollHeight}`\n      );\n      while (\n        this.$refs.inputMensaje.scrollHeight >\n        this.$refs.inputMensaje.offsetHeight\n      ) {\n        this.$refs.inputMensaje.rows++;\n      }\n    },\n    eliminarInterpolacion(mensaje, index) {\n      if (mensaje) {\n        if (index == 0) {\n          if (!this.mensaje) {\n            this.mensaje = mensaje;\n          } else {\n            this.mensaje += \"\\n\\n\" + mensaje;\n            this.$nextTick(() => {\n              this.checkHeight();\n            });\n          }\n        } else {\n          \n          \n          console.log(\n            `añadiendo el mensaje ${mensaje} al creador de interpolacion ${\n              (index-1)\n            }`\n          );\n          this.$refs.creadoresInterpolacion[index-1].addToMensaje(\n            mensaje\n          );\n        }\n      }\n      this.interpolaciones.splice(index, 1);\n    },\n    setEnlaceIframeInterpolacion(enlace, index){\n      console.log(`Seting enlace iframe en el array de interpolaciones`);\n      this.$set(this.interpolaciones[index], \"enlaceIframe\", enlace);\n      \n    },\n    retirarTypeName(arrayInterpolaciones){\n      console.log(`Retirando typenames`);\n      arrayInterpolaciones.forEach(interpolacion=>{\n        delete interpolacion.__typename        \n        if(interpolacion.quote){\n          delete interpolacion.quote.__typename\n          if(interpolacion.quote.infoAutor){\n            delete interpolacion.quote.infoAutor.__typename\n          }\n          if(interpolacion.quote.interpolaciones){\n            interpolacion.quote.interpolaciones=this.retirarTypeName(interpolacion.quote.interpolaciones)\n          }\n        }\n      });\n      return arrayInterpolaciones\n    },\n    setInterpolacionesData(){\n      this.interpolaciones.forEach((interpolacion, index)=>{\n        interpolacion.mensaje=this.$refs.creadoresInterpolacion[index].mensaje;\n      });\n      this.interpolaciones=this.retirarTypeName(this.interpolaciones);\n    }\n  },\n  computed: {\n    mensajeIlegal() {\n      var mensajeTotal=this.mensaje?this.mensaje:'';\n      \n      this.interpolaciones.forEach(interpolacion=>{\n        if(interpolacion.mensaje){\n          mensajeTotal+=interpolacion.mensaje;\n        }\n      })\n\n      if (charProhibidosMensaje.test(mensajeTotal)) {\n        return true;\n      }\n      return false;\n    },\n    enlaceAdjuntableIlegal() {\n      if (!this.enlaceAdjuntable) return true;\n      if (this.enlaceAdjuntable.substr(0, 8) != \"https://\") {\n        console.log(\n          `El inicio ${this.enlaceAdjuntable.substr(0, 8)} difiere del esperado`\n        );\n        return true;\n      }\n\n      if (this.enlaceAdjuntable.length < 7) {\n        return true;\n      }\n      return false;\n    },\n  },\n  mounted() {\n    console.log(`Revisando si hay idConversacion`);\n    if (!this.idConversacion) {\n      this.cuadroAbierto = true;\n    }\n  },\n};\n</script>\n\n<style scoped>\n.cuadroResponder {\n  border: 2px solid white;\n  margin: 5px;\n  border-radius: 10px;\n  background-color: #ffcda4;\n}\n#barraSuperior {\n  display: flex;\n  align-items: center;\n}\n#imgMensaje {\n  margin: 5px;\n  cursor: pointer;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  background-color: #e2a03d;\n}\n\n#zonaMensaje {\n  border: 2px solid black;\n  width: 80%;\n  margin: 5px auto;\n}\n\n#inputMensaje {\n  width: 100%;\n  display: block;\n  margin: 5px auto;\n  font-size: 20px;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  resize: none;\n}\n#zonaInsertar {\n  width: 80%;\n  margin: 0px auto;\n}\n.bInsertar {\n  width: 30px;\n  cursor: pointer;\n  border: 1px solid black;\n  border-radius: 50%;\n}\n#inputArchivoAdjunto {\n  display: none;\n}\n#imgAdjuntar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: #f5a25f;\n}\n#imgAdjuntar:hover {\n  background-color: #f7760e;\n}\n#nombreArchivoSeleccionado {\n  background-color: #55b95c;\n  padding: 3px;\n  border-radius: 10px;\n  display: inline-block;\n}\n\n#zonaIntroducirEnlace {\n  display: flex;\n  align-items: center;\n}\n#imgAdjuntarEnlace {\n  border-radius: 50%;\n  padding: 3px;\n  background-color: #f5a25f;\n  width: 45px;\n  height: 45px;\n  cursor: pointer;\n}\n#imgAdjuntarEnlace:hover {\n  background-color: #f7760e;\n}\n.inputAdjuntarEnlace {\n  margin-left: 20px;\n  width: 350px;\n  padding: 3px 5px;\n  border-radius: 10px;\n}\n.enlaceAdjuntado {\n  display: flex;\n  align-items: center;\n  margin: 3px;\n}\n#nombreEnlaceAdjuntado {\n  width: 400px;\n  margin-left: 20px;\n  border-radius: 15px;\n  background-color: rgba(129, 66, 129, 0.349);\n  padding: 5px;\n}\n#nombreEnlaceAdjuntado:hover {\n  background-color: rgba(129, 66, 129, 0.733);\n}\n#nombreEnlaceAdjuntado > span {\n  font-style: italic;\n  font-size: 14px;\n  word-wrap: break-word;\n\n  padding: 3px 5px;\n}\n#bCancelarEnlaceAdjunto {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background-color: rgb(219, 74, 74);\n  cursor: pointer;\n  border-radius: 50%;\n  position: relative;\n  margin-left: 10px;\n}\n#bCancelarEnlaceAdjunto:hover {\n  background-color: red;\n}\n#bCancelarEnlaceAdjunto > .linea1 {\n  width: 90%;\n  height: 2px;\n  border-radius: 1px;\n  position: absolute;\n  top: 48%;\n  left: 5%;\n  background-color: black;\n  transform: rotate(45deg);\n}\n#bCancelarEnlaceAdjunto > .linea1 > .linea2 {\n  background-color: black;\n  width: 100%;\n  height: 2px;\n  border-radius: 1px;\n  transform: rotate(90deg);\n}\n#bAceptarAdjuntarEnlace {\n  margin-left: 10px;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  background-color: rgb(138, 192, 194);\n  cursor: pointer;\n}\n#bAceptarAdjuntarEnlace:hover {\n  background-color: cadetblue;\n}\n#bEnviar {\n  display: block;\n  margin: 5px auto;\n  cursor: pointer;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  background-color: #f5a25f;\n}\n#bEnviar:hover {\n  background-color: #f7760e;\n}\n</style>"]}]}