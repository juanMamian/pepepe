{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/BuscadorNodosConocimiento.vue?vue&type=style&index=0&id=208c8940&scoped=true&lang=css&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/BuscadorNodosConocimiento.vue","mtime":1648741729541},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojYmFycmFTdXBlcmlvcnsKICBkaXNwbGF5OmZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7CiAgCn0KCiNpbnB1dEJ1c2NhZG9yIHsKICBmb250LXNpemU6IDIwcHg7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIHdpZHRoOiAyODBweDsKfQoKI2ltYWdlbkx1cGEgewogIHdpZHRoOiAzMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgcGFkZGluZzogM3B4Owp9CgojaW1hZ2VuTHVwYTpob3ZlciB7CiAgb3BhY2l0eTogMTsKfQoub3BhY28gewogIG9wYWNpdHk6IDAuNTsKfQojbGlzdGFSZXN1bHRhZG9zIHsKICBtYXJnaW46IDJweCBhdXRvOwogIHdpZHRoOiAxMDAlOwp9CgoucmVzdWx0YWRvIHsKICBwYWRkaW5nOiA1cHggMTVweDsKICBmb250LXNpemU6IDE4cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlOwogIGN1cnNvcjogcG9pbnRlcjsKfQoucmVzdWx0YWRvOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTMzLCAxNzksIDE5NCk7Cn0KCi51bmZvbGQtZW50ZXIgewogIHdpZHRoOiAwcHg7Cn0KLnVuZm9sZC1lbnRlci1hY3RpdmUgewogIHRyYW5zaXRpb246IHdpZHRoIDFzOwp9Ci51bmZvbGQtZW50ZXItdG8gewogIHdpZHRoOiAyODFweDsKfQo="},{"version":3,"sources":["BuscadorNodosConocimiento.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BuscadorNodosConocimiento.vue","sourceRoot":"src/components/atlasConocimiento","sourcesContent":["<template>\n  <div id=\"buscadorNodosConocimiento\" :style=\"[{width: mostrandoInput?'min(100vh, 350px)':'30px'}]\">\n    <div id=\"barraSuperior\">\n      <img\n        src=\"@/assets/iconos/search.png\"\n        alt=\"Lupa\"\n        title=\"Buscar nodos de conocimiento\"\n        id=\"imagenLupa\"\n        :class=\"{ opaco: !mostrandoInput }\"\n        @click.stop=\"mostrandoInput = true\"\n      />\n      <transition name=\"unfold\">\n        <input\n          type=\"text\"\n          placeholder=\"Buscar\"\n          v-model=\"textoBusqueda\"\n          id=\"inputBuscador\"\n          v-show=\"mostrandoInput\"\n          autocomplete=\"off\"\n          @click.stop=\"\"\n          @keypress.enter=\"buscarDatabase\"\n        />\n      </transition>\n      \n    </div>\n    <loading texto=\"Buscando\" v-show=\"esperandoResultados\" />\n\n    <div id=\"listaResultados\" v-show=\"mostrandoLista\">\n      <div\n        class=\"resultado\"\n        :key=\"resultado.id\"\n        v-for=\"resultado of resultados\"\n        @click.stop=\"\n          $emit('nodoSeleccionado', resultado);\n          mostrandoInput = false;\n          mostrandoLista = false;\n        \"\n      >\n        {{ resultado.nombre }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\n// import throttle from \"lodash/throttle\";\n// import debounce from \"lodash/debounce\"\n\nexport default {\n  components: { Loading },\n  name: \"BuscadorNodosConocimiento\",\n  data() {\n    return {\n      textoBusqueda: \"\",\n      cantidadPalabrasValidas: 0,\n      resultados: [],\n\n      mostrandoInput: false,\n      mostrandoLista: false,\n\n      esperandoResultados: false,\n    };\n  },\n  props: {\n    cerrarBusqueda: Number,\n  },\n  methods: {\n    cerrar() {\n      this.mostrandoInput = false;\n    },\n    buscarDatabase() {\n      console.log(`******Descargando resultados de bÃºsqueda`);\n      this.esperandoResultados = true;\n      this.$apollo\n        .query({\n          query: gql`\n            query ($palabrasBuscadas: String!) {\n              busquedaAmplia(palabrasBuscadas: $palabrasBuscadas) {\n                id\n                nombre\n                resumen\n                autoCoords {\n                  x\n                  y\n                }\n              }\n            }\n          `,\n          variables: {\n            palabrasBuscadas: this.textoBusqueda,\n          },\n          fetchPolicy: \"network-only\",\n        })\n        .then(({ data: { busquedaAmplia } }) => {\n          this.resultados = busquedaAmplia;\n          this.esperandoResultados = false;\n          this.mostrandoLista = true;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.esperandoResultados = false;\n        });\n    },\n  },\n  watch: {\n    textoBusqueda: function () {\n      this.mostrandoLista = false;\n    },\n    cerrarBusqueda() {\n      this.mostrandoInput = false;\n      this.mostrandoLista = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#barraSuperior{\n  display:flex;\n  align-items: center;\n  flex-direction: row-reverse;\n  \n}\n\n#inputBuscador {\n  font-size: 20px;\n  border-radius: 4px;\n  width: 280px;\n}\n\n#imagenLupa {\n  width: 30px;\n  cursor: pointer;\n  border-radius: 50%;\n  padding: 3px;\n}\n\n#imagenLupa:hover {\n  opacity: 1;\n}\n.opaco {\n  opacity: 0.5;\n}\n#listaResultados {\n  margin: 2px auto;\n  width: 100%;\n}\n\n.resultado {\n  padding: 5px 15px;\n  font-size: 18px;\n  background-color: lightblue;\n  cursor: pointer;\n}\n.resultado:hover {\n  background-color: rgb(133, 179, 194);\n}\n\n.unfold-enter {\n  width: 0px;\n}\n.unfold-enter-active {\n  transition: width 1s;\n}\n.unfold-enter-to {\n  width: 281px;\n}\n</style>"]}]}