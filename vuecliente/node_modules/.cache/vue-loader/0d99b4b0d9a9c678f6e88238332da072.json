{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/calendario/BloqueHorario.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/calendario/BloqueHorario.vue","mtime":1674568326919},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgTG9hZGluZyBmcm9tICIuLi91dGlsaWRhZGVzL0xvYWRpbmcudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgTG9hZGluZyB9LAogIG5hbWU6ICJCbG9xdWVIb3JhcmlvIiwKICBwcm9wczogewogICAgZXN0ZUJsb3F1ZTogT2JqZWN0LAogICAgaWRCbG9xdWVTZWxlY2Npb25hZG86IFN0cmluZywKICAgIGZhY3Rvclpvb206IE51bWJlciwKICAgIGlkQmxvcXVlTWVudUNvbnRleHR1YWw6IFN0cmluZywKICAgIG1vc3RyYXJDYW50aWRhZEFzaXN0ZW50ZXM6IEJvb2xlYW4sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHZhciBjb2xvcmVzRXNwYWNpb3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY29sb3Jlc0VzcGFjaW9zIikKICAgICAgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjb2xvcmVzRXNwYWNpb3MiKSkKICAgICAgOiBbXTsKCiAgICByZXR1cm4gewogICAgICBjb2xvcmVzRXNwYWNpb3MsCiAgICAgIGVsaW1pbmFuZG9zZTogZmFsc2UsCiAgICAgIHNldHRpbmdUaWVtcG9zOiBmYWxzZSwKICAgICAgbW9zdHJhclZlbnRhbmE6IGZhbHNlLAoKICAgICAgZWRpdGFuZG9Ib3JhSW5pY2lvOiBmYWxzZSwKICAgICAgZWRpdGFuZG9Ib3JhRmluYWw6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkdXJhY2lvbk1pbnV0b3MoKSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKAogICAgICAgICh0aGlzLmVzdGVCbG9xdWUubWlsbGlzRmluYWwgLSB0aGlzLmVzdGVCbG9xdWUubWlsbGlzSW5pY2lvKSAvIDYwMDAwCiAgICAgICk7CiAgICB9LAogICAgbW9zdHJhbmRvTWVudUNvbnRleHR1YWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmlkQmxvcXVlTWVudUNvbnRleHR1YWwgPT09IHRoaXMuZXN0ZUJsb3F1ZS5pZDsKICAgIH0sCiAgICBtaUNvbG9yKCkgewogICAgICBpZiAoIXRoaXMuY29sb3Jlc0VzcGFjaW9zKSB7CiAgICAgICAgcmV0dXJuICIjYTA0ZDRkIjsKICAgICAgfQogICAgICBjb25zdCBtaUluZGV4ID0gdGhpcy5jb2xvcmVzRXNwYWNpb3MuZmluZEluZGV4KAogICAgICAgIChkKSA9PiBkWzBdID09PSB0aGlzLmVzdGVCbG9xdWUuaWRFc3BhY2lvCiAgICAgICk7CgogICAgICBpZiAobWlJbmRleCA+IC0xKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3Jlc0VzcGFjaW9zW21pSW5kZXhdWzFdOwogICAgICB9CgogICAgICByZXR1cm4gIiNhMDRkNGQiOwogICAgfSwKICAgIHNlbGVjY2lvbmFkbygpIHsKICAgICAgcmV0dXJuIHRoaXMuaWRCbG9xdWVTZWxlY2Npb25hZG8gPT09IHRoaXMuZXN0ZUJsb3F1ZS5pZDsKICAgIH0sCiAgICB1c3VhcmlvQWRtaW5pc3RyYWRvcigpIHsKICAgICAgcmV0dXJuIHRoaXMudXN1YXJpby5pZCA9PT0gdGhpcy5lc3RlQmxvcXVlLmlkQWRtaW5pc3RyYWRvckVzcGFjaW87CiAgICB9LAogICAgbWludXRvc0luaWNpbygpIHsKICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5lc3RlQmxvcXVlLm1pbGxpc0luaWNpbyAvIDYwMDAwKTsKICAgIH0sCiAgICBtaW51dG9zRmluYWwoKSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuZXN0ZUJsb3F1ZS5taWxsaXNGaW5hbCAvIDYwMDAwKTsKICAgIH0sCiAgICB0aWVtcG9JbmljaW9Gb3JtYXRlYWRvKCkgewogICAgICByZXR1cm4gdGhpcy50b1RpZW1wb0Zvcm1hdGVhZG8odGhpcy5taW51dG9zSW5pY2lvKTsKICAgIH0sCiAgICB0aWVtcG9GaW5hbEZvcm1hdGVhZG8oKSB7CiAgICAgIHJldHVybiB0aGlzLnRvVGllbXBvRm9ybWF0ZWFkbyh0aGlzLm1pbnV0b3NGaW5hbCk7CiAgICB9LAogICAgdXN1YXJpb0FzaXN0ZSgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICB0aGlzLnVzdWFyaW9BZG1pbmlzdHJhZG9yIHx8CiAgICAgICAgdGhpcy5lc3RlQmxvcXVlLmlkc1BhcnRpY2lwYW50ZXNDb25zdGFudGVzLmluY2x1ZGVzKHRoaXMudXN1YXJpby5pZCkKICAgICAgKTsKICAgIH0sCiAgICBjb2xvckJhcnJhVGFnKCkgewogICAgICB2YXIgY29sb3IgPSAicmdiKDE4MiAxODIgMTgyKSI7CgogICAgICBpZiAodGhpcy51c3VhcmlvQXNpc3RlKSB7CiAgICAgICAgY29sb3IgPSAidmFyKC0tY2FsZW5kYXJpb1VzdWFyaW8pIjsKICAgICAgfQogICAgICBpZiAodGhpcy51c3VhcmlvQWRtaW5pc3RyYWRvcikgewogICAgICAgIGNvbG9yID0gInZhcigtLWNhbGVuZGFyaW9Vc3VhcmlvU3Ryb25nKSI7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLAogICAgICB9OwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldENvbG9yRXNwYWNpbygpIHsKICAgICAgY29uc3QgaW5wdXRDb2xvciA9IHRoaXMuJHJlZnMuaW5wdXRDb2xvcjsKICAgICAgY29uc29sZS5sb2coCiAgICAgICAgYFNldHRpbmcgY29sb3IgZW4gJHtpbnB1dENvbG9yLnZhbHVlfSBwYXJhIGVsIGVzcGFjaW8gJHt0aGlzLmVzdGVCbG9xdWUubm9tYnJlRXNwYWNpb30gY29uIGlkICR7dGhpcy5lc3RlQmxvcXVlLmlkRXNwYWNpb31gCiAgICAgICk7CgogICAgICBjb25zdCBpbmRleER1cGxhID0gdGhpcy5jb2xvcmVzRXNwYWNpb3MuZmluZEluZGV4KAogICAgICAgIChkKSA9PiBkWzBdID09PSB0aGlzLmVzdGVCbG9xdWUuaWRFc3BhY2lvCiAgICAgICk7CgogICAgICBpZiAoaW5kZXhEdXBsYSA+IC0xKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29sb3Jlc0VzcGFjaW9zLCBpbmRleER1cGxhLCBbCiAgICAgICAgICB0aGlzLmVzdGVCbG9xdWUuaWRFc3BhY2lvLAogICAgICAgICAgaW5wdXRDb2xvci52YWx1ZSwKICAgICAgICBdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbG9yZXNFc3BhY2lvcy5wdXNoKFsKICAgICAgICAgIHRoaXMuZXN0ZUJsb3F1ZS5pZEVzcGFjaW8sCiAgICAgICAgICBpbnB1dENvbG9yLnZhbHVlLAogICAgICAgIF0pOwogICAgICB9CgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgICAiY29sb3Jlc0VzcGFjaW9zIiwKICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbG9yZXNFc3BhY2lvcykKICAgICAgKTsKICAgIH0sCiAgICBlbGltaW5hcnNlKCkgewogICAgICBpZiAoIXRoaXMudXN1YXJpb0FkbWluaXN0cmFkb3IgJiYgIXRoaXMudXN1YXJpb1N1cGVyYWRtaW5pc3RyYWRvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJObyBhdXRvcml6YWRvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmVsaW1pbmFuZG9zZSA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpZEVzcGFjaW86IElEISwgJGlkSXRlcmFjaW9uOiBJRCEpIHsKICAgICAgICAgICAgICBlbGltaW5hckl0ZXJhY2lvblNlbWFuYWxFc3BhY2lvKAogICAgICAgICAgICAgICAgaWRFc3BhY2lvOiAkaWRFc3BhY2lvCiAgICAgICAgICAgICAgICBpZEl0ZXJhY2lvbjogJGlkSXRlcmFjaW9uCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkRXNwYWNpbzogdGhpcy5lc3RlQmxvcXVlLmlkRXNwYWNpbywKICAgICAgICAgICAgaWRJdGVyYWNpb246IHRoaXMuZXN0ZUJsb3F1ZS5pZCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmVsaW1pbmFuZG9zZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kZW1pdCgibWVFbGltaW5lIik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3I6ICIgKyBlcnJvcik7CiAgICAgICAgICB0aGlzLmVsaW1pbmFuZG9zZSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZUR1cmFjaW9uQmxvcXVlKCkgewogICAgICBjb25zb2xlLmxvZygKICAgICAgICBgVG9nZ2xlYW5kbyBibG9xdWUgcXVlIHRpZW5lIG1pbnV0b3NJbmljaW8gJHt0aGlzLm1pbnV0b3NJbmljaW99IHkgbWludXRvc0ZpbmFsICR7dGhpcy5taW51dG9zRmluYWx9YAogICAgICApOwoKICAgICAgaWYgKCF0aGlzLnVzdWFyaW9BZG1pbmlzdHJhZG9yICYmICF0aGlzLnVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiTm8gYXV0b3JpemFkbyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubWludXRvc0luaWNpbyA9PT0gNDgwKSB7CiAgICAgICAgaWYgKHRoaXMubWludXRvc0ZpbmFsID09PSA2MDApIHsKICAgICAgICAgIHRoaXMuc2V0TWludXRvcyg0ODAsIDU0MCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2V0TWludXRvcyg0ODAsIDYwMCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMubWludXRvc0luaWNpbyA9PT0gNTQwKSB7CiAgICAgICAgdGhpcy5zZXRNaW51dG9zKDQ4MCwgNjAwKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm1pbnV0b3NJbmljaW8gPT09IDYzMCkgewogICAgICAgIGlmICh0aGlzLm1pbnV0b3NGaW5hbCA9PT0gNzUwKSB7CiAgICAgICAgICB0aGlzLnNldE1pbnV0b3MoNjMwLCA2OTApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldE1pbnV0b3MoNjMwLCA3NTApOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLm1pbnV0b3NJbmljaW8gPT09IDY5MCkgewogICAgICAgIHRoaXMuc2V0TWludXRvcyg2MzAsIDc1MCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5taW51dG9zSW5pY2lvID09PSA4MTApIHsKICAgICAgICBpZiAodGhpcy5taW51dG9zRmluYWwgPT09IDkzMCkgewogICAgICAgICAgdGhpcy5zZXRNaW51dG9zKDgxMCwgODcwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZXRNaW51dG9zKDgxMCwgOTMwKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5taW51dG9zSW5pY2lvID09PSA4NzApIHsKICAgICAgICB0aGlzLnNldE1pbnV0b3MoODcwLCA5MzApOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKGBObyBzZSBwdWRvIHRvZ2dsZWFyIGVsIGJsb3F1ZWApOwogICAgICB9CiAgICB9LAogICAgc2V0TWludXRvcyhtaW51dG9zSW5pY2lvLCBtaW51dG9zRmluYWwpIHsKICAgICAgY29uc3QgbWlsbGlzSW5pY2lvID0gbWludXRvc0luaWNpbyAqIDYwMDAwOwogICAgICBjb25zdCBtaWxsaXNGaW5hbCA9IG1pbnV0b3NGaW5hbCAqIDYwMDAwOwoKICAgICAgdGhpcy5zZXR0aW5nVGllbXBvcyA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKAogICAgICAgICAgICAgICRpZEVzcGFjaW86IElEIQogICAgICAgICAgICAgICRpZEl0ZXJhY2lvbjogSUQhCiAgICAgICAgICAgICAgJG1pbGxpc0luaWNpbzogSW50IQogICAgICAgICAgICAgICRtaWxsaXNGaW5hbDogSW50IQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBzZXRUaWVtcG9zSXRlcmFjaW9uU2VtYW5hbEVzcGFjaW8oCiAgICAgICAgICAgICAgICBpZEVzcGFjaW86ICRpZEVzcGFjaW8KICAgICAgICAgICAgICAgIGlkSXRlcmFjaW9uOiAkaWRJdGVyYWNpb24KICAgICAgICAgICAgICAgIG1pbGxpc0luaWNpbzogJG1pbGxpc0luaWNpbwogICAgICAgICAgICAgICAgbWlsbGlzRmluYWw6ICRtaWxsaXNGaW5hbAogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIG1pbGxpc0luaWNpbwogICAgICAgICAgICAgICAgbWlsbGlzRmluYWwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRFc3BhY2lvOiB0aGlzLmVzdGVCbG9xdWUuaWRFc3BhY2lvLAogICAgICAgICAgICBpZEl0ZXJhY2lvbjogdGhpcy5lc3RlQmxvcXVlLmlkLAogICAgICAgICAgICBtaWxsaXNJbmljaW8sCiAgICAgICAgICAgIG1pbGxpc0ZpbmFsLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuc2V0dGluZ1RpZW1wb3MgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvcjogIiArIGVycm9yKTsKICAgICAgICAgIHRoaXMuc2V0dGluZ1RpZW1wb3MgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBleHBhbmRpcigpIHsKICAgICAgdGhpcy4kZW1pdCgiZXhwYW5kaXJtZSIpOwogICAgfSwKICAgIGluaWNpYXJTZXRIb3JhSW5pY2lvKCkgewogICAgICB0aGlzLiRyZWZzLmlucHV0SG9yYUluaWNpby52YWx1ZSA9IHRoaXMudG9UaWVtcG9Gb3JtYXRlYWRvKAogICAgICAgIHRoaXMubWludXRvc0luaWNpbwogICAgICApOwogICAgICB0aGlzLmVkaXRhbmRvSG9yYUluaWNpbyA9IHRydWU7CiAgICAgIHRoaXMuZWRpdGFuZG9Ib3JhRmluYWwgPSBmYWxzZTsKICAgIH0sCiAgICBpbmljaWFyU2V0SG9yYUZpbmFsKCkgewogICAgICB0aGlzLiRyZWZzLmlucHV0SG9yYUZpbmFsLnZhbHVlID0gdGhpcy50b1RpZW1wb0Zvcm1hdGVhZG8oCiAgICAgICAgdGhpcy5taW51dG9zRmluYWwKICAgICAgKTsKICAgICAgdGhpcy5lZGl0YW5kb0hvcmFGaW5hbCA9IHRydWU7CiAgICAgIHRoaXMuZWRpdGFuZG9Ib3JhSW5pY2lvID0gZmFsc2U7CiAgICB9LAogICAgdG9UaWVtcG9Gb3JtYXRlYWRvKG1pbnV0b3MpIHsKICAgICAgdmFyIGhvcmFzID0gTWF0aC5mbG9vcihtaW51dG9zIC8gNjApOwogICAgICBpZiAoU3RyaW5nKGhvcmFzKS5sZW5ndGggPCAyKSB7CiAgICAgICAgaG9yYXMgPSAiMCIgKyBob3JhczsKICAgICAgfQoKICAgICAgdmFyIG1pbnV0b3NTb2xvcyA9IFN0cmluZyhNYXRoLnJvdW5kKG1pbnV0b3MgLSBob3JhcyAqIDYwKSk7CgogICAgICBpZiAobWludXRvc1NvbG9zLmxlbmd0aCA8IDIpIHsKICAgICAgICBtaW51dG9zU29sb3MgPSAiMCIgKyBtaW51dG9zU29sb3M7CiAgICAgIH0KCiAgICAgIHJldHVybiBob3JhcyArICI6IiArIG1pbnV0b3NTb2xvczsKICAgIH0sCiAgICBzZXRIb3JhSW5pY2lvKCkgewogICAgICBjb25zb2xlLmxvZyhgU2V0dGluZyBob3JhIGluaWNpb2ApOwogICAgICBjb25zdCBpbnB1dFRpbWUgPSB0aGlzLiRyZWZzLmlucHV0SG9yYUluaWNpby52YWx1ZS5zcGxpdCgiOiIpOwogICAgICBjb25zdCBpbnB1dEhvcmFzID0gcGFyc2VJbnQoaW5wdXRUaW1lWzBdKTsKICAgICAgY29uc3QgaW5wdXRNaW51dG9zID0gcGFyc2VJbnQoaW5wdXRUaW1lWzFdKTsKCiAgICAgIGNvbnN0IG1pbnV0b3NUb3RhbCA9IGlucHV0SG9yYXMgKiA2MCArIGlucHV0TWludXRvczsKCiAgICAgIGNvbnNvbGUubG9nKCJOdWV2byBtaW51dG9zIGluaWNpbzogIiArIG1pbnV0b3NUb3RhbCk7CiAgICAgIHRoaXMuc2V0TWludXRvcyhtaW51dG9zVG90YWwsIHRoaXMubWludXRvc0ZpbmFsKTsKICAgIH0sCiAgICBzZXRIb3JhRmluYWwoKSB7CiAgICAgIGNvbnNvbGUubG9nKGBTZXR0aW5nIGhvcmEgZmluYWxgKTsKICAgICAgY29uc3QgaW5wdXRUaW1lID0gdGhpcy4kcmVmcy5pbnB1dEhvcmFGaW5hbC52YWx1ZS5zcGxpdCgiOiIpOwogICAgICBjb25zdCBpbnB1dEhvcmFzID0gcGFyc2VJbnQoaW5wdXRUaW1lWzBdKTsKICAgICAgY29uc3QgaW5wdXRNaW51dG9zID0gcGFyc2VJbnQoaW5wdXRUaW1lWzFdKTsKCiAgICAgIGNvbnN0IG1pbnV0b3NUb3RhbCA9IGlucHV0SG9yYXMgKiA2MCArIGlucHV0TWludXRvczsKCiAgICAgIGNvbnNvbGUubG9nKCJOdWV2byBtaW51dG9zIGZpbmFsOiAiICsgbWludXRvc1RvdGFsKTsKICAgICAgdGhpcy5zZXRNaW51dG9zKHRoaXMubWludXRvc0luaWNpbywgbWludXRvc1RvdGFsKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["BloqueHorario.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"BloqueHorario.vue","sourceRoot":"src/components/calendario","sourcesContent":["<template>\n  <div\n    class=\"bloqueHorario\"\n    :class=\"{\n      seleccionado,\n      deshabilitado: eliminandose || settingTiempos,\n      usuarioAsiste,\n    }\"\n    :style=\"[\n      { width: duracionMinutos * factorZoom + 'px', backgroundColor: miColor },\n    ]\"\n    @contextmenu.exact.prevent.stop=\"$emit('menuContextual', esteBloque.id)\"\n    @dblclick=\"toggleDuracionBloque\"\n    @click.left=\"$emit('seleccionado')\"\n  >\n    <div\n      class=\"boton\"\n      v-show=\"seleccionado\"\n      @click.stop=\"$emit('menuContextual', esteBloque.id)\"\n      id=\"botonOpciones\"\n    >\n      <img src=\"@/assets/iconos/ellipsisVertical.svg\" alt=\"Opciones\" />\n    </div>\n    <div id=\"barraTag\" :style=\"[colorBarraTag]\">\n      <div id=\"nombre\">\n        <img\n          src=\"@/assets/iconos/babySolid.svg\"\n          v-if=\"esteBloque.paraChiquis\"\n          alt=\"bebé\"\n          style=\"height: 15px\"\n        />{{ esteBloque.nombreEspacio }}\n      </div>\n    </div>\n\n    <div\n      id=\"cantidadAsistentes\"\n      v-if=\"\n        esteBloque.idsParticipantesConstantes &&\n        esteBloque.idsParticipantesConstantes.length > 0 &&\n        mostrarCantidadAsistentes\n      \"\n      v-show=\"!seleccionado\"\n    >\n      Asistentes: {{ esteBloque.idsParticipantesConstantes.length }}\n    </div>\n\n    <div\n      id=\"botonExpandir\"\n      class=\"boton\"\n      style=\"margin: 0px auto\"\n      @click.stop=\"expandir\"\n      v-show=\"seleccionado\"\n    >\n      <img src=\"@/assets/iconos/expand.svg\" alt=\"expandir\" style=\"\" />\n    </div>\n\n    <loading v-show=\"eliminandose || settingTiempos\" />\n\n    <div\n      id=\"menuContextual\"\n      :class=\"{ seleccionado }\"\n      @click.stop=\"\"\n      @dblclick.stop=\"\"\n      v-show=\"mostrandoMenuContextual\"\n    >\n      <div\n        class=\"itemMenuContextual\"\n        v-if=\"usuarioAdministrador || usuarioSuperadministrador\"\n        @click=\"eliminarse\"\n      >\n        Eliminar\n      </div>\n      <div class=\"itemMenuContextual\" @click=\"$refs.inputColor.click()\">\n        Seleccionar color\n      </div>\n      <div\n        class=\"itemMenuContextual\"\n        v-if=\"usuarioAdministrador || usuarioSuperadministrador\"\n        @click=\"iniciarSetHoraInicio\"\n      >\n        Fijar hora de inicio\n      </div>\n      <input\n        type=\"time\"\n        :value=\"tiempoInicioFormateado\"\n        v-show=\"editandoHoraInicio\"\n        ref=\"inputHoraInicio\"\n        id=\"inputHoraInicio\"\n        @change=\"setHoraInicio\"\n      />\n\n      <div\n        class=\"itemMenuContextual\"\n        v-if=\"usuarioAdministrador || usuarioSuperadministrador\"\n        @click=\"iniciarSetHoraFinal\"\n      >\n        Fijar hora de finalización\n      </div>\n      <input\n        type=\"time\"\n        :value=\"tiempoFinalFormateado\"\n        v-show=\"editandoHoraFinal\"\n        ref=\"inputHoraFinal\"\n        id=\"inputHoraFinal\"\n        @change=\"setHoraFinal\"\n      />\n\n      <input\n        type=\"color\"\n        ref=\"inputColor\"\n        @change=\"setColorEspacio\"\n        v-show=\"false\"\n        id=\"inputColor\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\nexport default {\n  components: { Loading },\n  name: \"BloqueHorario\",\n  props: {\n    esteBloque: Object,\n    idBloqueSeleccionado: String,\n    factorZoom: Number,\n    idBloqueMenuContextual: String,\n    mostrarCantidadAsistentes: Boolean,\n  },\n\n  data() {\n    var coloresEspacios = localStorage.getItem(\"coloresEspacios\")\n      ? JSON.parse(localStorage.getItem(\"coloresEspacios\"))\n      : [];\n\n    return {\n      coloresEspacios,\n      eliminandose: false,\n      settingTiempos: false,\n      mostrarVentana: false,\n\n      editandoHoraInicio: false,\n      editandoHoraFinal: false,\n    };\n  },\n  computed: {\n    duracionMinutos() {\n      return Math.round(\n        (this.esteBloque.millisFinal - this.esteBloque.millisInicio) / 60000\n      );\n    },\n    mostrandoMenuContextual() {\n      return this.idBloqueMenuContextual === this.esteBloque.id;\n    },\n    miColor() {\n      if (!this.coloresEspacios) {\n        return \"#a04d4d\";\n      }\n      const miIndex = this.coloresEspacios.findIndex(\n        (d) => d[0] === this.esteBloque.idEspacio\n      );\n\n      if (miIndex > -1) {\n        return this.coloresEspacios[miIndex][1];\n      }\n\n      return \"#a04d4d\";\n    },\n    seleccionado() {\n      return this.idBloqueSeleccionado === this.esteBloque.id;\n    },\n    usuarioAdministrador() {\n      return this.usuario.id === this.esteBloque.idAdministradorEspacio;\n    },\n    minutosInicio() {\n      return Math.round(this.esteBloque.millisInicio / 60000);\n    },\n    minutosFinal() {\n      return Math.round(this.esteBloque.millisFinal / 60000);\n    },\n    tiempoInicioFormateado() {\n      return this.toTiempoFormateado(this.minutosInicio);\n    },\n    tiempoFinalFormateado() {\n      return this.toTiempoFormateado(this.minutosFinal);\n    },\n    usuarioAsiste() {\n      return (\n        this.usuarioAdministrador ||\n        this.esteBloque.idsParticipantesConstantes.includes(this.usuario.id)\n      );\n    },\n    colorBarraTag() {\n      var color = \"rgb(182 182 182)\";\n\n      if (this.usuarioAsiste) {\n        color = \"var(--calendarioUsuario)\";\n      }\n      if (this.usuarioAdministrador) {\n        color = \"var(--calendarioUsuarioStrong)\";\n      }\n      return {\n        backgroundColor: color,\n      };\n    },\n  },\n  methods: {\n    setColorEspacio() {\n      const inputColor = this.$refs.inputColor;\n      console.log(\n        `Setting color en ${inputColor.value} para el espacio ${this.esteBloque.nombreEspacio} con id ${this.esteBloque.idEspacio}`\n      );\n\n      const indexDupla = this.coloresEspacios.findIndex(\n        (d) => d[0] === this.esteBloque.idEspacio\n      );\n\n      if (indexDupla > -1) {\n        this.$set(this.coloresEspacios, indexDupla, [\n          this.esteBloque.idEspacio,\n          inputColor.value,\n        ]);\n      } else {\n        this.coloresEspacios.push([\n          this.esteBloque.idEspacio,\n          inputColor.value,\n        ]);\n      }\n\n      localStorage.setItem(\n        \"coloresEspacios\",\n        JSON.stringify(this.coloresEspacios)\n      );\n    },\n    eliminarse() {\n      if (!this.usuarioAdministrador && !this.usuarioSuperadministrador) {\n        console.log(\"No autorizado\");\n        return;\n      }\n\n      this.eliminandose = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idEspacio: ID!, $idIteracion: ID!) {\n              eliminarIteracionSemanalEspacio(\n                idEspacio: $idEspacio\n                idIteracion: $idIteracion\n              )\n            }\n          `,\n          variables: {\n            idEspacio: this.esteBloque.idEspacio,\n            idIteracion: this.esteBloque.id,\n          },\n        })\n        .then(() => {\n          this.eliminandose = false;\n          this.$emit(\"meElimine\");\n        })\n        .catch((error) => {\n          console.log(\"Error: \" + error);\n          this.eliminandose = false;\n        });\n    },\n    toggleDuracionBloque() {\n      console.log(\n        `Toggleando bloque que tiene minutosInicio ${this.minutosInicio} y minutosFinal ${this.minutosFinal}`\n      );\n\n      if (!this.usuarioAdministrador && !this.usuarioSuperadministrador) {\n        console.log(\"No autorizado\");\n        return;\n      }\n\n      if (this.minutosInicio === 480) {\n        if (this.minutosFinal === 600) {\n          this.setMinutos(480, 540);\n        } else {\n          this.setMinutos(480, 600);\n        }\n      } else if (this.minutosInicio === 540) {\n        this.setMinutos(480, 600);\n      } else if (this.minutosInicio === 630) {\n        if (this.minutosFinal === 750) {\n          this.setMinutos(630, 690);\n        } else {\n          this.setMinutos(630, 750);\n        }\n      } else if (this.minutosInicio === 690) {\n        this.setMinutos(630, 750);\n      } else if (this.minutosInicio === 810) {\n        if (this.minutosFinal === 930) {\n          this.setMinutos(810, 870);\n        } else {\n          this.setMinutos(810, 930);\n        }\n      } else if (this.minutosInicio === 870) {\n        this.setMinutos(870, 930);\n      } else {\n        console.log(`No se pudo togglear el bloque`);\n      }\n    },\n    setMinutos(minutosInicio, minutosFinal) {\n      const millisInicio = minutosInicio * 60000;\n      const millisFinal = minutosFinal * 60000;\n\n      this.settingTiempos = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation (\n              $idEspacio: ID!\n              $idIteracion: ID!\n              $millisInicio: Int!\n              $millisFinal: Int!\n            ) {\n              setTiemposIteracionSemanalEspacio(\n                idEspacio: $idEspacio\n                idIteracion: $idIteracion\n                millisInicio: $millisInicio\n                millisFinal: $millisFinal\n              ) {\n                id\n                millisInicio\n                millisFinal\n              }\n            }\n          `,\n          variables: {\n            idEspacio: this.esteBloque.idEspacio,\n            idIteracion: this.esteBloque.id,\n            millisInicio,\n            millisFinal,\n          },\n        })\n        .then(() => {\n          this.settingTiempos = false;\n        })\n        .catch((error) => {\n          console.log(\"Error: \" + error);\n          this.settingTiempos = false;\n        });\n    },\n    expandir() {\n      this.$emit(\"expandirme\");\n    },\n    iniciarSetHoraInicio() {\n      this.$refs.inputHoraInicio.value = this.toTiempoFormateado(\n        this.minutosInicio\n      );\n      this.editandoHoraInicio = true;\n      this.editandoHoraFinal = false;\n    },\n    iniciarSetHoraFinal() {\n      this.$refs.inputHoraFinal.value = this.toTiempoFormateado(\n        this.minutosFinal\n      );\n      this.editandoHoraFinal = true;\n      this.editandoHoraInicio = false;\n    },\n    toTiempoFormateado(minutos) {\n      var horas = Math.floor(minutos / 60);\n      if (String(horas).length < 2) {\n        horas = \"0\" + horas;\n      }\n\n      var minutosSolos = String(Math.round(minutos - horas * 60));\n\n      if (minutosSolos.length < 2) {\n        minutosSolos = \"0\" + minutosSolos;\n      }\n\n      return horas + \":\" + minutosSolos;\n    },\n    setHoraInicio() {\n      console.log(`Setting hora inicio`);\n      const inputTime = this.$refs.inputHoraInicio.value.split(\":\");\n      const inputHoras = parseInt(inputTime[0]);\n      const inputMinutos = parseInt(inputTime[1]);\n\n      const minutosTotal = inputHoras * 60 + inputMinutos;\n\n      console.log(\"Nuevo minutos inicio: \" + minutosTotal);\n      this.setMinutos(minutosTotal, this.minutosFinal);\n    },\n    setHoraFinal() {\n      console.log(`Setting hora final`);\n      const inputTime = this.$refs.inputHoraFinal.value.split(\":\");\n      const inputHoras = parseInt(inputTime[0]);\n      const inputMinutos = parseInt(inputTime[1]);\n\n      const minutosTotal = inputHoras * 60 + inputMinutos;\n\n      console.log(\"Nuevo minutos final: \" + minutosTotal);\n      this.setMinutos(this.minutosInicio, minutosTotal);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.bloqueHorario {\n  height: 100px;\n  background-color: #a04d4d;\n  position: absolute;\n  top: 0px;\n  box-sizing: border-box;\n  border: 1px solid rgb(110, 110, 110);\n}\n.bloqueHorario.seleccionado {\n  filter: brightness(1.7);\n  border: 2px solid white;\n}\n.bloqueHorario.usuarioAsiste {\n}\n#botonOpciones {\n  position: absolute;\n  top: 10px;\n  left: calc(100% + 0px);\n}\n#barraTag {\n  min-height: 20px;\n  width: 100%;\n  border-bottom: 1px solid rgb(204, 204, 204);\n  padding: 5px 10px;\n  box-sizing: border-box;\n}\n#nombre {\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n  align-items: center;\n}\n#cantidadAsistentes {\n  width: 100%;\n  text-align: center;\n  font-size: 13px;\n}\n#menuContextual {\n  position: absolute;\n  top: 0%;\n  left: 50%;\n}\n\n#menuContextual.seleccionado {\n  color: black;\n}\n\n#menuContextual:not(.seleccionado) {\n  color: antiquewhite;\n}\n.itemMenuContextual {\n  padding: 10px 10px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.itemMenuContextual:hover {\n  background-color: rgb(59, 59, 59);\n}\n</style>"]}]}