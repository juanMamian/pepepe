{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/personaVistaLista.vue?vue&type=style&index=0&id=0785286d&scoped=true&lang=css&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/personaVistaLista.vue","mtime":1665495395547},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBlcnNvbmFWaXN0YUxpc3RhIHsKICB3aWR0aDogMTAwJTsKICBmb250LWZhbWlseTogU2Fsc2EsIGN1cnNpdmU7CiAgY29sb3I6IGdyYXk7Cn0KLnBlcnNvbmFWaXN0YUxpc3RhLnNlbGVjY2lvbmFkbyB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjM0Mik7Cn0KI2JhcnJhU3VwZXJpb3IgewogIGRpc3BsYXk6IGZsZXg7CiAgZm9udC1zaXplOiAxNXB4OwogIHBhZGRpbmc6IDI1cHggMTVweDsKICBmbGV4LXdyYXA6IHdyYXA7CiAgd2lkdGg6IDEwMCU7Cn0KLmljb25vUGVyc29uYSB7CiAgaGVpZ2h0OiAyMHB4OwogIHdpZHRoOiAyMHB4Owp9Ci5pY29ub1BlcnNvbmEgaW1nIHsKICBoZWlnaHQ6IDEwMCU7Cn0KI3pvbmFOb21icmVzIHsKICBtYXJnaW46IDBweCAxNXB4Owp9CiNiYXJyYUluZm9BZGljaW9uYWwgewogIGRpc3BsYXk6IGZsZXg7Cn0KI2NvbnRlbmVkb3JDb250cm9sZXNQZXJzb25hIHsKICBtYXJnaW4tbGVmdDogYXV0bzsKfQojbGlzdGFQZXJtaXNvcyB7CiAgbWF4LXdpZHRoOiAxNTBweDsKICBtYXJnaW4tbGVmdDogYXV0bzsKfQouYWN0aXZhZG9yUGVybWlzbyB7CiAgcGFkZGluZzogNXB4IDE1cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGZvbnQtc2l6ZTogMTNweDsKfQouYWN0aXZhZG9yUGVybWlzby5wZXJtaXNvR3JhbnRlZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFsZXRhU2VsZWN0KTsKICBjb2xvcjogd2hpdGVzbW9rZTsKfQouc2VsZWN0b3JOb2RvU29saWRhcmlkYWQgewogIHBhZGRpbmc6IDVweCAxNXB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQouc2VsZWN0b3JOb2RvU29saWRhcmlkYWQuYWN0aXZvIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYWxldGFTZWxlY3QpOwogIGNvbG9yOiB3aGl0ZTsKfQoKLmNvbnRlbmVkb3JTZWNjaW9uSW5mb3JtZXsKICBwYWRkaW5nOiAxNXB4IDJ2dzsKfQoKLnNlY2Npb25JbmZvcm1lIHsKICBoZWlnaHQ6IDE1MHB4OwogIHdpZHRoOiAxMDAlOwogIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiA1cHg7CiAgYm9yZGVyOiAycHggc29saWQgIzRmNGY0ZjsKfQouc2VjY2lvbkluZm9ybWUuZ3VhcmRhZG8gewogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjYsIDE3MiwgMjEsIDAuNDYpOwp9Ci50aXR1bG9TZWNjaW9uSW5mb3JtZSB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgY29sb3I6ICMyZjJmMmY7Cn0K"},{"version":3,"sources":["personaVistaLista.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+oCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"personaVistaLista.vue","sourceRoot":"src/components/usuario","sourcesContent":["<template>\n  <div class=\"personaVistaLista\" :class=\"{ seleccionado }\">\n    <div id=\"barraSuperior\" :style=\"[colorBarraSuperior]\">\n      <div class=\"iconoPersona\">\n        <img\n          src=\"@/assets/iconos/teacher.svg\"\n          alt=\"Profesor\"\n          v-if=\"estaPersona.permisos.includes('maestraVida-profesor')\"\n        />\n        <img\n          src=\"@/assets/iconos/graduationCap.svg\"\n          alt=\"CapGraduacion\"\n          @click=\"\n            usuarioSuperadministrador\n              ? togglePermiso('maestraVida-estudiante')\n              : ''\n          \"\n          v-if=\"estaPersona.permisos.includes('maestraVida-estudiante')\"\n        />\n        <img\n          src=\"@/assets/iconos/user.svg\"\n          alt=\"Usuario\"\n          @click=\"\n            usuarioSuperadministrador\n              ? togglePermiso('maestraVida-estudiante')\n              : ''\n          \"\n          v-if=\"\n            !estaPersona.permisos.includes('maestraVida-profesor') &&\n            !estaPersona.permisos.includes('maestraVida-estudiante')\n          \"\n        />\n      </div>\n      <div id=\"zonaNombres\">\n        <div id=\"nombres\">{{ estaPersona.nombres }}</div>\n      </div>\n      <div id=\"zonaApellidos\">\n        <div id=\"apellidos\">{{ estaPersona.apellidos }}</div>\n      </div>\n\n      <div\n        id=\"contenedorControlesPersona\"\n        class=\"contenedorControles\"\n        v-show=\"seleccionado\"\n      >\n        <div\n          class=\"boton selector\"\n          :title=\"\n            mostrando === 'calendario'\n              ? 'Ocultar calendario'\n              : 'Mostrar calendario'\n          \"\n          :class=\"{ activo: mostrando === 'calendario' }\"\n          v-show=\"\n            usuario &&\n            (usuarioProfe ||\n              usuario.id === estaPersona.id ||\n              usuarioSuperadministrador)\n          \"\n          @click=\"mostrando = mostrando === 'calendario' ? null : 'calendario'\"\n        >\n          <img src=\"@/assets/iconos/calendar.svg\" alt=\"calendario\" />\n        </div>\n        <div\n          class=\"boton selector\"\n          v-if=\"usuarioSuperadministrador || usuarioProfe\"\n          :title=\"\n            mostrando === 'nodosSolidaridadPublicitados'\n              ? 'Ocultar nodosSolidaridadPublicitados'\n              : 'Mostrar nodosSolidaridadPublicitados'\n          \"\n          :class=\"{ activo: mostrando === 'nodosSolidaridadPublicitados' }\"\n          @click=\"\n            mostrando =\n              mostrando === 'nodosSolidaridadPublicitados'\n                ? null\n                : 'nodosSolidaridadPublicitados'\n          \"\n        >\n          <img src=\"@/assets/iconos/productHunt.svg\" alt=\"P\" />\n        </div>\n        <div\n          class=\"boton selector\"\n          v-if=\"usuarioSuperadministrador\"\n          :title=\"\n            mostrando === 'administracion'\n              ? 'Ocultar administracion'\n              : 'Mostrar administracion'\n          \"\n          :class=\"{ activo: mostrando === 'administracion' }\"\n          @click=\"\n            mostrando = mostrando === 'administracion' ? null : 'administracion'\n          \"\n        >\n          <img src=\"@/assets/iconos/cog.svg\" alt=\"Cog\" />\n        </div>\n        <div\n          class=\"boton\"\n          @click=\"alienar\"\n          title=\"alienar\"\n          v-show=\"usuarioProfe || usuarioAdministrador\"\n        >\n          <img src=\"@/assets/iconos/alienar.svg\" alt=\"Virus\" />\n        </div>\n        <div\n          class=\"boton selector\"\n          v-if=\"usuarioLogeado && usuarioProfe\"\n          style=\"width: 100px\"\n          :title=\"\n            mostrando === 'informe' ? 'Ocultar informe' : 'Mostrar informe'\n          \"\n          @click=\"mostrando = mostrando === 'informe' ? null : 'informe'\"\n          :class=\"{ activo: mostrando === 'informe' }\"\n        >\n          Informe III\n        </div>\n        <div\n          class=\"boton selector\"\n          v-if=\"usuarioLogeado\"\n          :title=\"\n            mostrando === 'objetivos'\n              ? 'Ocultar objetivos'\n              : 'Mostrar objetivos'\n          \"\n          @click=\"mostrando = mostrando === 'objetivos' ? null : 'objetivos'\"\n          :class=\"{ activo: mostrando === 'objetivos' }\"\n        >\n          <img src=\"@/assets/iconos/starSolid.svg\" alt=\"Cog\" />\n        </div>\n      </div>\n    </div>\n\n    <div id=\"zonaContenidosMostrando\">\n      <div id=\"zonaAdministracion\" v-show=\"mostrando === 'administracion'\">\n        <div id=\"barraInfoAdicional\" v-show=\"seleccionado\">\n          <div id=\"username\" v-if=\"usuarioSuperadministrador\">\n            {{ estaPersona.username }}\n          </div>\n        </div>\n        <div id=\"contenedorAcciones\" class=\"contenedorControles\">\n          <div\n            class=\"boton selector\"\n            v-if=\"usuarioSuperadministrador\"\n            :class=\"{ activo: mostrandoPermisos }\"\n            @click=\"mostrandoPermisos = !mostrandoPermisos\"\n            :title=\"mostrandoPermisos ? 'Ocultar permisos' : 'Mostrar permisos'\"\n          >\n            <img src=\"@/assets/iconos/idBadge.svg\" alt=\"Id\" />\n          </div>\n          <div\n            class=\"boton\"\n            title=\"Restaurar password (123456)\"\n            v-show=\"!reseteandoPassword\"\n            @click=\"resetearPassword\"\n          >\n            <img src=\"@/assets/iconos/key.svg\" alt=\"Llave\" />\n          </div>\n          <loading texto=\"\" v-show=\"reseteandoPassword\" />\n        </div>\n        <div\n          id=\"listaPermisos\"\n          v-if=\"usuarioSuperadministrador\"\n          v-show=\"mostrandoPermisos\"\n          :class=\"{ deshabilitado: togglingPermiso }\"\n        >\n          <div\n            class=\"activadorPermiso\"\n            @click=\"togglePermiso(permiso)\"\n            :class=\"{ permisoGranted: estaPersona.permisos.includes(permiso) }\"\n            v-for=\"permiso of permisosPosibles\"\n            :key=\"permiso + 'permiso'\"\n          >\n            {{ permiso }}\n          </div>\n        </div>\n      </div>\n      <div id=\"zonaInforme\" v-show=\"mostrando === 'informe'\">\n        <div class=\"contenedorSeccionInforme\">\n          <div class=\"contenedorControles\">\n            <div id=\"selectoresPeriodo\" style=\"display: flex\" v-show=\"usuarioSuperadministrador\">\n            <div class=\"boton\" @click=\"periodoInforme='primero'\" :class=\"{activo: periodoInforme==='primero'}\">\n              I\n            </div>\n            <div class=\"boton\" @click=\"periodoInforme='segundo'\" :class=\"{activo: periodoInforme==='segundo'}\">\n              II\n            </div>\n            <div class=\"boton\" @click=\"periodoInforme='tercero'\" :class=\"{activo: periodoInforme==='tercero'}\">\n              III\n            </div>\n            </div>\n\n            <div class=\"boton\" @click=\"descargarArchivoInforme\" v-show=\"!creandoDocumentoInforme\">\n              <img src=\"@/assets/iconos/file.svg\" alt=\"archivo\" />\n            </div>\n            <loading texto=\"\" v-show=\"creandoDocumentoInforme\" />\n          </div>\n          <div class=\"tituloSeccionInforme\">Sobre objetivos</div>\n          <textarea\n            id=\"textAreaInformeObjetivos\"\n            @blur=\"guardarInforme('objetivos')\"\n            ref=\"inputInformeCategoriaObjetivos\"\n            class=\"seccionInforme\"\n            v-model=\"nuevoInformeObjetivos\"\n            :class=\"{\n              deshabilitado: guardandoInformeObjetivos,\n              guardado: nuevoInformeObjetivos == misInformesActivos.objetivos,\n            }\"\n          ></textarea>\n\n          <div class=\"tituloSeccionInforme\">Sobre proyectos</div>\n          <textarea\n            id=\"textAreaInformeProyectos\"\n            @blur=\"guardarInforme('proyectos')\"\n            ref=\"inputInformeCategoriaProyectos\"\n            class=\"seccionInforme\"\n            v-model=\"nuevoInformeProyectos\"\n            :class=\"{\n              deshabilitado: guardandoInformeProyectos,\n              guardado: nuevoInformeProyectos == misInformesActivos.proyectos,\n            }\"\n          ></textarea>\n\n          <div class=\"tituloSeccionInforme\">Sobre espacios</div>\n          <textarea\n            id=\"textAreaInformeProyectos\"\n            @blur=\"guardarInforme('espacios')\"\n            ref=\"inputInformeCategoriaEspacios\"\n            class=\"seccionInforme\"\n            v-model=\"nuevoInformeEspacios\"\n            :class=\"{\n              deshabilitado: guardandoInformeEspacios,\n              guardado: nuevoInformeEspacios == misInformesActivos.espacios,\n            }\"\n          ></textarea>\n\n          <div class=\"tituloSeccionInforme\">Comentario</div>\n          <textarea\n            id=\"textAreaInformeComentario\"\n            @blur=\"guardarInforme('comentario')\"\n            ref=\"inputInformeCategoriaComentario\"\n            class=\"seccionInforme\"\n            v-model=\"nuevoInformeComentario\"\n            :class=\"{\n              deshabilitado: guardandoInformeComentario,\n              guardado: nuevoInformeComentario == misInformesActivos.comentario,\n            }\"\n          ></textarea>\n        </div>\n      </div>\n      <div\n        v-show=\"mostrando === 'nodosSolidaridadPublicitados'\"\n        id=\"zonaNodosSolidaridadPublicitados\"\n        class=\"zonaPrimerNivel\"\n      >\n        <div\n          class=\"selectorNodoSolidaridad\"\n          :class=\"{\n            deshabilitado: settingPresenciaNodoSolidaridad,\n            activo: nodoSolidaridadPublicitado.responsables.includes(\n              estaPersona.id\n            ),\n          }\"\n          @click=\"toggleResponsableNodoSolidaridad(nodoSolidaridadPublicitado)\"\n          v-for=\"nodoSolidaridadPublicitado of nodosSolidaridadPublicitados\"\n          :key=\"nodoSolidaridadPublicitado.id\"\n        >\n          {{ nodoSolidaridadPublicitado.nombre }}\n        </div>\n      </div>\n      <div\n        id=\"zonaCalendario\"\n        class=\"zonaPrimerNivel\"\n        v-if=\"mostrando === 'calendario'\"\n      >\n        <calendario\n          :idUsuarioTarget=\"estaPersona.id\"\n          ref=\"calendario\"\n          enfasis=\"eventosPersonales\"\n        />\n      </div>\n      <div\n        id=\"zonaObjetivos\"\n        class=\"zonaPrimerNivel\"\n        v-if=\"mostrando === 'objetivos'\"\n      >\n        <ventana-lista\n          ref=\"ventanaLista\"\n          :idNodoRoot=\"estaPersona.id\"\n          tipoNodoRoot=\"usuario\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Calendario from \"../utilidades/Calendario.vue\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport VentanaLista from \"../atlasSolidaridad/ventanaLista/ventanaLista.vue\";\nimport { QUERY_PERSONAS } from \"../Personas.vue\";\nimport {\n  AlignmentType,\n  Document,\n  HeadingLevel,\n  Packer,\n  Paragraph,\n  TableRow,\n  TableCell,\n  Table,\n  WidthType,\n  TextRun,\n} from \"docx\";\nimport { saveAs } from \"file-saver\";\n\nexport default {\n  components: { Calendario, Loading, VentanaLista },\n  props: {\n    estaPersona: Object,\n    seleccionado: Boolean,\n    nodosSolidaridadPublicitados: Array,\n  },\n  name: \"PersonaVistaLista\",\n  data() {\n    return {\n      permisosPosibles: [\n        \"usuario\",\n        \"administrador\",\n        \"atlasAdministrador\",\n        \"superadministrador\",\n        \"maestraVida\",\n        \"maestraVida-estudiante\",\n        \"maestraVida-profesor\",\n        \"maestraVida-acompañante\",\n      ],\n\n      mostrando: null,\n      reseteandoPassword: false,\n      alienando: false,\n\n      mostrandoPermisos: false,\n      togglingPermiso: false,\n\n      settingPresenciaNodoSolidaridad: false,\n\n      guardandoInformeObjetivos: false,\n      guardandoInformeEspacios: false,\n      guardandoInformeComentario: false,\n      guardandoInformeProyectos: false,\n      creandoDocumentoInforme:false,\n\n      nuevoInformeObjetivos: null,\n      nuevoInformeProyectos: null,\n      nuevoInformeEspacios: null,\n      nuevoInformeComentario: null,\n\n      periodoInforme: 'tercero',\n      activable: 0,\n    };\n  },\n  methods: {\n    resetearPassword() {\n      if (\n        !confirm(\n          \"¿Confirmar resetear el password de \" + this.estaPersona.nombres + \"?\"\n        )\n      ) {\n        return;\n      }\n      console.log(`Reseteando password usuario`);\n      this.reseteandoPassword = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idUsuario: ID!) {\n              resetearPasswordUsuario(idUsuario: $idUsuario)\n            }\n          `,\n          variables: {\n            idUsuario: this.estaPersona.id,\n          },\n        })\n        .then(() => {\n          this.reseteandoPassword = false;\n          alert(\"Contraseña reseteada\");\n        })\n        .catch(() => {\n          this.reseteandoPassword = false;\n        });\n    },\n    alienar() {\n      if (!this.usuarioProfe && !this.usuarioSuperadministrador) {\n        return;\n      }\n\n      this.alienando = true;\n      this.$apollo\n        .query({\n          query: gql`\n            query ($idAlienado: ID!) {\n              alienarUsuario(idAlienado: $idAlienado)\n            }\n          `,\n          variables: {\n            idAlienado: this.estaPersona.id,\n          },\n        })\n        .then(({ data: { alienarUsuario } }) => {\n          console.log(`Alienando`);\n          this.alienando = true;\n          this.$store.commit(\"logearse\", alienarUsuario);\n          this.$router.push(\"/miPerfil\");\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.alienando = false;\n        });\n    },\n    togglePermiso(permiso) {\n      if (!this.usuarioSuperadministrador) {\n        return;\n      }\n      this.togglingPermiso = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($permiso: String!, $idUsuario: ID!) {\n              togglePermisoUsuario(permiso: $permiso, idUsuario: $idUsuario) {\n                id\n                permisos\n              }\n            }\n          `,\n          variables: {\n            permiso,\n            idUsuario: this.estaPersona.id,\n          },\n        })\n        .then(() => {\n          this.togglingPermiso = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.togglingPermiso = false;\n        });\n    },\n    toggleResponsableNodoSolidaridad(nodo) {\n      console.log(\n        `Setting presencia de ${this.estaPersona.id} en el nodo ${nodo.id}`\n      );\n      const personaEnResponsables = nodo.responsables.includes(\n        this.estaPersona.id\n      );\n\n      if (personaEnResponsables) {\n        console.log(`Sacándolo`);\n\n        this.settingPresenciaNodoSolidaridad = true;\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation ($idNodo: ID!, $idUsuario: ID!) {\n                removeResponsableNodoSolidaridad(\n                  idNodo: $idNodo\n                  idUsuario: $idUsuario\n                ) {\n                  id\n                  responsables\n                }\n              }\n            `,\n            variables: {\n              idNodo: nodo.id,\n              idUsuario: this.estaPersona.id,\n            },\n          })\n          .then(() => {\n            this.settingPresenciaNodoSolidaridad = false;\n          })\n          .catch((error) => {\n            console.log(`Error: ${error}`);\n            this.settingPresenciaNodoSolidaridad = false;\n          });\n      } else {\n        console.log(`Dentrándolo`);\n        this.settingPresenciaNodoSolidaridad = true;\n\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation ($idNodo: ID!, $idUsuario: ID!) {\n                addResponsableNodoSolidaridad(\n                  idNodo: $idNodo\n                  idUsuario: $idUsuario\n                ) {\n                  id\n                  responsables\n                }\n              }\n            `,\n            variables: {\n              idNodo: nodo.id,\n              idUsuario: this.estaPersona.id,\n            },\n          })\n          .then(() => {\n            this.settingPresenciaNodoSolidaridad = false;\n          })\n          .catch((error) => {\n            console.log(`Error: ${error}`);\n            this.settingPresenciaNodoSolidaridad = false;\n          });\n      }\n    },\n    guardarInforme(categoria) {\n      console.log(\"Guardando informe\");\n      var texto = null;\n      if (categoria === \"objetivos\") {\n        this.guardandoInformeObjetivos = true;\n        texto = this.$refs.inputInformeCategoriaObjetivos.value;\n        if (texto) {\n          texto = texto.trim();\n        }\n        this.nuevoInformeObjetivos = texto;\n      }\n      if (categoria === \"espacios\") {\n        this.guardandoInformeEspacios = true;\n        texto = this.$refs.inputInformeCategoriaEspacios.value;\n        if (texto) {\n          texto = texto.trim();\n        }\n        this.nuevoInformeEspacios = texto;\n      }\n      if (categoria === \"comentario\") {\n        this.guardandoInformeComentario = true;\n        texto = this.$refs.inputInformeCategoriaComentario.value;\n        if (texto) {\n          texto = texto.trim();\n        }\n        this.nuevoInformeComentario = texto;\n      }\n      if (categoria === \"proyectos\") {\n        this.guardandoInformeProyectos = true;\n        texto = this.$refs.inputInformeCategoriaProyectos.value;\n        if (texto) {\n          texto = texto.trim();\n        }\n        this.nuevoInformeProyectos = texto;\n      }\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation (\n              $idUsuario: ID!\n              $year: Int!\n              $periodo: String!\n              $idProfe: ID!\n              $categoria: String!\n              $texto: String!\n            ) {\n              guardarInformeEstudianteMaestraVida(\n                idUsuario: $idUsuario\n                year: $year\n                periodo: $periodo\n                idProfe: $idProfe\n                categoria: $categoria\n                texto: $texto\n              ) {\n                id\n                year\n                periodo\n                idProfe\n                categoria\n                texto\n              }\n            }\n          `,\n          variables: {\n            idUsuario: this.estaPersona.id,\n            year: 2022,\n            periodo: this.periodoInforme,\n            idProfe: this.usuario.id,\n            categoria,\n            texto,\n          },\n        })\n        .then(({ data: { guardarInformeEstudianteMaestraVida } }) => {\n          if (categoria === \"objetivos\") {\n            this.guardandoInformeObjetivos = false;\n          }\n          if (categoria === \"espacios\") {\n            this.guardandoInformeEspacios = false;\n          }\n          if (categoria === \"comentario\") {\n            this.guardandoInformeComentario = false;\n          }\n          if (categoria === \"proyectos\") {\n            this.guardandoInformeProyectos = false;\n          }\n\n          const store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_PERSONAS,\n          });\n\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n          var laPersona = nuevoCache.todosUsuarios.find(\n            (u) => u.id === this.estaPersona.id\n          );\n          var elInforme = laPersona.informesMaestraVida.find(\n            (i) => i.id === guardarInformeEstudianteMaestraVida.id\n          );\n          if (!elInforme) {\n            //Add al cache\n            laPersona.informesMaestraVida.push(\n              guardarInformeEstudianteMaestraVida\n            );\n\n            store.writeQuery({\n              query: QUERY_PERSONAS,\n              data: nuevoCache,\n            });\n          }\n        })\n        .catch((error) => {\n          console.log(\"error: \" + error);\n          if (categoria === \"objetivos\") {\n            this.guardandoInformeObjetivos = false;\n          }\n          if (categoria === \"espacios\") {\n            this.guardandoInformeEspacios = false;\n          }\n          if (categoria === \"comentario\") {\n            this.guardandoInformeComentario = false;\n          }\n          if (categoria === \"proyectos\") {\n            this.guardandoInformeProyectos = false;\n          }\n        });\n    },\n    descargarArchivoInforme() {\n      console.log(\n        \"Creando documento docx de informe para \" + this.estaPersona.nombres\n      );\n\n      this.creandoDocumentoInforme=true;\n\n      var filaObjetivos = new TableRow({\n        children: [\n          new TableCell({\n            children: [\n              new Paragraph({\n                text: \"Acerca de los objetivos\",\n                style: \"nombreSeccion\",\n                alignment: AlignmentType.CENTER,\n\n              }),\n            ],\n            width:{\n              size: 300,\n              type: WidthType.DXA\n            }\n          }),\n          new TableCell({\n            children: [\n              ...this.estaPersona.informesMaestraVida\n                .filter(\n                  (i) =>\n                    i.year == 2022 &&\n                    i.periodo === this.periodoInforme &&\n                    i.categoria === \"objetivos\" &&\n                    i.texto &&\n                    i.texto.length > 10\n                )\n                .reduce((acc, informe) => {\n                  return acc.concat([\n                    new Paragraph({\n                      text: informe.texto,\n                      style: \"textoProfe\",\n                    }),\n                    new Paragraph({\n                      text: informe.nombreProfe,\n                      style: \"firmaProfe\",\n                    }),\n                  ]);\n                }, []),\n            ],\n            width:{\n              size: 700,\n              type: WidthType.DXA\n            }\n          }),\n        ],        \n      });\n\n      var filaProyectos = new TableRow({\n        children: [\n          new TableCell({\n            width:{\n              size: 3000,\n              type: WidthType.DXA\n            },\n            children: [\n              new Paragraph({\n                text: \"Proyectos pedagógicos productivos\",\n                style: \"nombreSeccion\",\n                alignment: AlignmentType.CENTER,\n\n              }),\n            ],\n            \n          }),\n          new TableCell({\n            width:{\n              size: 2700,\n              type: WidthType.DXA\n            },\n            children: [\n              ...this.estaPersona.informesMaestraVida\n                .filter(\n                  (i) =>\n                    i.year == 2022 &&\n                    i.periodo === this.periodoInforme &&\n                    i.categoria === \"proyectos\" &&\n                    i.texto &&\n                    i.texto.length > 10\n                )\n                .reduce((acc, informe) => {\n                  return acc.concat([\n                    new Paragraph({\n                      text: informe.texto,\n                      style: \"textoProfe\",\n                    }),\n                    new Paragraph({\n                      text: informe.nombreProfe,\n                      style: \"firmaProfe\",\n                    }),\n                  ]);\n                }, []),\n            ],            \n          }),\n        ],\n       \n      });\n\n      var filaEspacios = new TableRow({\n        children: [\n          new TableCell({\n            children: [\n              new Paragraph({\n                text: \"Acerca de los espacios\",\n                style: \"nombreSeccion\",\n                alignment: AlignmentType.CENTER,\n\n              }),\n            ],\n            width:{\n              size: 300,\n              type: WidthType.DXA\n            }\n          }),\n          new TableCell({\n            children: [\n              ...this.estaPersona.informesMaestraVida\n                .filter(\n                  (i) =>\n                    i.year == 2022 &&\n                    i.periodo === this.periodoInforme &&\n                    i.categoria === \"espacios\" &&\n                    i.texto &&\n                    i.texto.length > 10\n                )\n                .reduce((acc, informe) => {\n                  return acc.concat([\n                    new Paragraph({\n                      text: informe.texto,\n                      style: \"textoProfe\",\n                    }),\n                    new Paragraph({\n                      text: informe.nombreProfe,\n                      style: \"firmaProfe\",\n                    }),\n                  ]);\n                }, []),\n            ],\n            width:{\n              size: 700,\n              type: WidthType.DXA\n            }\n          }),\n        ],        \n      });\n\n      var filaComentario = new TableRow({\n        children: [\n          new TableCell({\n            children: [\n              new Paragraph({\n                text: \"Comentario\",\n                style: \"nombreSeccion\",\n                alignment: AlignmentType.CENTER,\n\n              }),\n            ],\n            width:{\n              size: 300,\n              type: WidthType.DXA\n            }\n          }),\n          new TableCell({\n            children: [\n              ...this.estaPersona.informesMaestraVida\n                .filter(\n                  (i) =>\n                    i.year == 2022 &&\n                    i.periodo === this.periodoInforme &&\n                    i.categoria === \"comentario\" &&\n                    i.texto &&\n                    i.texto.length > 10\n                )\n                .reduce((acc, informe) => {\n                  return acc.concat([\n                    new Paragraph({\n                      text: informe.texto,\n                      style: \"textoProfe\",\n                    }),\n                    new Paragraph({\n                      text: informe.nombreProfe,\n                      style: \"firmaProfe\",\n                    }),\n                  ]);\n                }, []),\n            ],\n            width:{\n              size: 700,\n              type: WidthType.DXA\n            }\n          }),\n        ],        \n      });\n\n      var tablaFinal=new Table({\n        rows: [\n          filaObjetivos,\n          filaProyectos,\n          filaEspacios,\n          filaComentario\n        ],\n        width:{\n          size: 8500,\n          type: WidthType.DXA\n        }\n      })\n\n      var archivo = new Document({\n        styles: {\n          paragraphStyles: [\n            {\n              id:\"estiloGlobal\",\n              name:\"Estilo global\",\n              run:{\n                font: \"Maiandra GD\"\n              }\n            },\n            {\n              id: \"titulos\",\n              name: \"titulos\",\n              basedOn: \"estiloGlobal\",\n              run: {\n                bold: true,\n                size: 24,\n              },\n              paragraph: {\n                spacing: {\n                  after: 200,\n                },\n              },\n            },\n            {\n              id: \"nombreEstudiante\",\n              name: \"nombre del estudiante\",\n              basedOn: \"estiloGlobal\",\n              run: {\n                bold: true,\n                allCaps: true,\n              },\n              paragraph: {\n                spacing: {\n                  after: 120,\n                },\n              },\n            },\n            {\n              id: \"nombreSeccion\",\n              name: \"nombre de seccion\",\n              basedOn: \"estiloGlobal\",\n              run: {\n                bold: true,\n                size: 24\n              },\n              paragraph: {\n                spacing: {\n                  after: 120,\n                },\n              },\n            },\n            {\n              id: \"objetivo\",\n              name: \"Objetivo del estudiante\",\n              basedOn: \"estiloGlobal\",\n              run: {size: 24},\n            },\n            {\n              id: \"textoProfe\",\n              name: \"Texto escrito por un profe\",\n              basedOn: \"estiloGlobal\",\n              run: {size: 24},\n              paragraph: {\n                spacing: {\n                  after: 30,\n                },\n              },\n            },\n            {\n              id: \"firmaProfe\",\n              name: \"Firma del profe\",\n              basedOn: \"estiloGlobal\",\n              run: {\n                italics: true,\n                size: 18,\n              },\n              paragraph: {\n                spacing: {\n                  after: 100,\n                },\n              },\n            },\n          ],\n        },\n        sections: [\n          {\n            children: [\n              new Paragraph({\n                text: \"INSTITUCIÓN EDUCATIVA MAESTRA VIDA\",\n                heading: HeadingLevel.TITLE,\n                style: \"titulos\",\n                alignment: AlignmentType.CENTER,\n              }),\n              new Paragraph({\n                text: \"RESOLUCIÓN DE APROBACIÓN N° 5549 DE JUNIO DE 2013\",\n                heading: HeadingLevel.TITLE,\n                style: \"titulos\",\n                alignment: AlignmentType.CENTER,\n              }),\n              new Paragraph({\n                text: \"EVALUACIÓN DE CONOCIMIENTO Y DESEMPEÑO\",\n                heading: HeadingLevel.TITLE,\n                style: \"titulos\",\n                alignment: AlignmentType.CENTER,\n              }),\n              new Paragraph({\n                text: \"PERIODO AGOSTO - OCTUBRE DE 2022\",\n                style: \"titulos\",\n                alignment: AlignmentType.CENTER,\n              }),\n              new Paragraph({\n                text:\n                  \"Nombre:  \" +this.estaPersona.nombres + \" \" + this.estaPersona.apellidos,\n                style: \"nombreEstudiante\",\n              }),\n              new Paragraph({\n                text: \"Objetivos\",\n                style: \"nombreSeccion\",\n              }),\n              \n              ...this.estaPersona.objetivosEstudiante.map((objetivo) => {\n                return new Paragraph({\n                  text: objetivo.nombre,\n                  style: \"objetivo\",\n                  bullet: {\n                    level: 0,\n                  },\n                });\n              }),\n\n              new Paragraph({\n                text: \"\",\n                spacing:{\n                  after:200,\n                }\n              }),\n              \n              tablaFinal,\n\n              new Paragraph({                \n                children: [\n                  new TextRun({\n                    text: \"EQUIPO PEDAGÓGICO\",\n                    bold: true,                    \n                  })\n                ],                              \n                alignment: AlignmentType.CENTER,\n                style:\"estiloGlobal\",\n                spacing:{\n                  before: 1500,\n                }\n              }),\n              new Paragraph({\n                text: \"Corporación Maestra Vida\",\n                heading: HeadingLevel.TITLE,\n                style: \"titulos\",\n                alignment: AlignmentType.CENTER,\n              }),\n              \n\n              \n            ],\n          },\n        ],\n      });\n\n      saveDocumentToFile(archivo, `informe${this.estaPersona.username}.docx`);\n      this.creandoDocumentoInforme=false;\n    },\n  },\n  computed: {\n    misInformesActivos() {\n      if (!this.estaPersona.informesMaestraVida) {\n        return {\n          objetivos: null,\n          espacios: null,\n          comentario: null,\n          proyectos: null,\n        };\n      }\n      var miInformeObjetivos = this.estaPersona.informesMaestraVida.find(\n        (i) =>\n          i.year === 2022 &&\n          i.periodo === this.periodoInforme &&\n          i.idProfe === this.usuario.id &&\n          i.categoria === \"objetivos\"\n      );\n      var miInformeEspacios = this.estaPersona.informesMaestraVida.find(\n        (i) =>\n          i.year === 2022 &&\n          i.periodo === this.periodoInforme &&\n          i.idProfe === this.usuario.id &&\n          i.categoria === \"espacios\"\n      );\n      var miInformeComentario = this.estaPersona.informesMaestraVida.find(\n        (i) =>\n          i.year === 2022 &&\n          i.periodo === this.periodoInforme &&\n          i.idProfe === this.usuario.id &&\n          i.categoria === \"comentario\"\n      );\n      var miInformeProyectos = this.estaPersona.informesMaestraVida.find(\n        (i) =>\n          i.year === 2022 &&\n          i.periodo === this.periodoInforme &&\n          i.idProfe === this.usuario.id &&\n          i.categoria === \"proyectos\"\n      );\n      return {\n        objetivos: miInformeObjetivos ? miInformeObjetivos.texto : null,\n        espacios: miInformeEspacios ? miInformeEspacios.texto : null,\n        comentario: miInformeComentario ? miInformeComentario.texto : null,\n        proyectos: miInformeProyectos ? miInformeProyectos.texto : null,\n      };\n    },\n    cantidadMisInformesEscritos() {\n      if (!this.usuarioLogeado) {\n        return 0;\n      }\n      if (!this.estaPersona.informesMaestraVida) {\n        return 0;\n      }\n\n      var cuenta = 0;\n      cuenta += this.activable;\n      cuenta = 0;\n\n      if (\n        this.misInformesActivos.objetivos &&\n        this.misInformesActivos.objetivos.length > 5\n      ) {\n        cuenta++;\n      }\n      if (\n        this.misInformesActivos.proyectos &&\n        this.misInformesActivos.proyectos.length > 5\n      ) {\n        cuenta++;\n      }\n      if (\n        this.misInformesActivos.espacios &&\n        this.misInformesActivos.espacios.length > 5\n      ) {\n        cuenta++;\n      }\n      if (\n        this.misInformesActivos.comentario &&\n        this.misInformesActivos.comentario.length > 5\n      ) {\n        cuenta++;\n      }\n\n      return cuenta;\n    },\n    colorBarraSuperior() {\n      if (\n        !this.usuarioLogeado ||\n        !this.estaPersona.permisos ||\n        !this.estaPersona.permisos.includes(\"maestraVida-estudiante\")\n      ) {\n        return {};\n      }\n      var elColor = \"rgb(161, 240, 82)\";\n      if (this.cantidadMisInformesEscritos < 4) {\n        elColor = \"#f2aa87\";\n      }\n      if (this.cantidadMisInformesEscritos < 1) {\n        elColor = \"#972b2b\";\n      }\n      return {\n        backgroundColor: elColor,\n      };\n    },\n  },\n  watch: {\n    seleccionado(seleccionado) {\n      if (!seleccionado) {\n        this.mostrando = null;\n      }\n    },\n    \"estaPersona.informesMaestraVida\": function () {\n      this.activable++;\n    },\n  },\n  mounted() {\n    setTimeout(() => {\n      this.activable++;\n    }, 1000);\n\n    this.nuevoInformeObjetivos = this.misInformesActivos.objetivos;\n    this.nuevoInformeProyectos = this.misInformesActivos.proyectos;\n    this.nuevoInformeEspacios = this.misInformesActivos.espacios;\n    this.nuevoInformeComentario = this.misInformesActivos.comentario;\n  },\n};\n\nfunction saveDocumentToFile(doc, fileName) {\n  // Create a mime type that will associate the new file with Microsoft Word\n  const mimeType =\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n  // Create a Blob object from Packer containing the Document instance and the mimeType\n  Packer.toBlob(doc).then((blob) => {\n    const docblob = blob.slice(0, blob.size, mimeType);\n    // Save the file using saveAs from the file-saver package\n    saveAs(docblob, fileName);\n  });\n}\n</script>\n\n<style scoped>\n.personaVistaLista {\n  width: 100%;\n  font-family: Salsa, cursive;\n  color: gray;\n}\n.personaVistaLista.seleccionado {\n  background-color: rgba(128, 128, 128, 0.342);\n}\n#barraSuperior {\n  display: flex;\n  font-size: 15px;\n  padding: 25px 15px;\n  flex-wrap: wrap;\n  width: 100%;\n}\n.iconoPersona {\n  height: 20px;\n  width: 20px;\n}\n.iconoPersona img {\n  height: 100%;\n}\n#zonaNombres {\n  margin: 0px 15px;\n}\n#barraInfoAdicional {\n  display: flex;\n}\n#contenedorControlesPersona {\n  margin-left: auto;\n}\n#listaPermisos {\n  max-width: 150px;\n  margin-left: auto;\n}\n.activadorPermiso {\n  padding: 5px 15px;\n  cursor: pointer;\n  font-size: 13px;\n}\n.activadorPermiso.permisoGranted {\n  background-color: var(--paletaSelect);\n  color: whitesmoke;\n}\n.selectorNodoSolidaridad {\n  padding: 5px 15px;\n  cursor: pointer;\n}\n.selectorNodoSolidaridad.activo {\n  background-color: var(--paletaSelect);\n  color: white;\n}\n\n.contenedorSeccionInforme{\n  padding: 15px 2vw;\n}\n\n.seccionInforme {\n  height: 150px;\n  width: 100%;\n  margin-bottom: 30px;\n  border-radius: 10px;\n  padding: 5px;\n  border: 2px solid #4f4f4f;\n}\n.seccionInforme.guardado {\n  background-color: rgba(26, 172, 21, 0.46);\n}\n.tituloSeccionInforme {\n  font-weight: bold;\n  color: #2f2f2f;\n}\n</style>"]}]}