{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/foros/CreadorInterpolacion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/foros/CreadorInterpolacion.vue","mtime":1643654906503},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbnRlcnBvbGFjaW9uIGZyb20gIi4vSW50ZXJwb2xhY2lvbi52dWUiOwp2YXIgY2hhclByb2hpYmlkb3NNZW5zYWplID0gL1teXG5cciBhLXpBLVrDgC3FvjAtOV8oKSI6Oy4sK8KhIcK/P0A9LV0vOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgSW50ZXJwb2xhY2lvbiB9LAogIG5hbWU6ICJDcmVhZG9ySW50ZXJwb2xhY2lvbiIsCiAgcHJvcHM6IHsKICAgIGVzdGFJbnRlcnBvbGFjaW9uOiBPYmplY3QsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVuc2FqZTogbnVsbCwKICAgICAgZW5sYWNlSWZyYW1lOiBudWxsLAogICAgICBlbmxhY2VJZnJhbWVTZXQ6IG51bGwsCgogICAgICBlbmxhY2VBY2VwdGFkbzogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25QYXN0ZUVubGFjZSgpIHsKICAgICAgdGhpcy5lbmxhY2VBY2VwdGFkbyA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZyhgUGFzdGVgKTsKICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIC8vICAgY29uc29sZS5sb2coYFNldGluZyBjb24gdXJsICR7dGhpcy5lbmxhY2VJZnJhbWV9YCk7CiAgICAgIC8vICAgdGhpcy5zZXRFbmxhY2VJZnJhbWUoKTsKICAgICAgLy8gfSwgMzAwKTsKICAgIH0sCiAgICBzZXRFbmxhY2VJZnJhbWUoKSB7CiAgICAgIGlmICghdGhpcy5lbmxhY2VJZnJhbWUgfHwgdGhpcy5lbmxhY2VJZnJhbWUuc3Vic3RyKDAsIDgpICE9ICJodHRwczovLyIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZW5sYWNlSWZyYW1lLnN1YnN0cigxMiwgMTcpID09ICJ5b3V0dWJlLmNvbS93YXRjaCIpIHsKICAgICAgICB0aGlzLmVubGFjZUlmcmFtZSA9CiAgICAgICAgICB0aGlzLmVubGFjZUlmcmFtZS5zdWJzdHIoMCwgMjQpICsKICAgICAgICAgICJlbWJlZC8iICsKICAgICAgICAgIHRoaXMuZW5sYWNlSWZyYW1lLnN1YnN0cigzMik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVubGFjZUlmcmFtZS5zdWJzdHIoMCwgMjQpICE9ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS8iKSB7CiAgICAgICAgY29uc29sZS5sb2coYEVubGFjZSBubyB2w6FsaWRvYCk7CiAgICAgICAgdGhpcy5lbmxhY2VJZnJhbWUuYWxlcnQoIkVubGFjZSBubyB2w6FsaWRvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmVubGFjZUlmcmFtZVNldCA9IHRoaXMuZW5sYWNlSWZyYW1lOwogICAgICB0aGlzLiRlbWl0KCJlbmxhY2VJZnJhbWVTZXQiLCB0aGlzLmVubGFjZUlmcmFtZVNldCk7CiAgICAgIHRoaXMuZW5sYWNlQWNlcHRhZG8gPSB0cnVlOwogICAgfSwKICAgIGNoZWNrSGVpZ2h0KCkgewogICAgICB3aGlsZSAoCiAgICAgICAgdGhpcy4kcmVmcy5pbnB1dE1lbnNhamUuc2Nyb2xsSGVpZ2h0ID4KICAgICAgICB0aGlzLiRyZWZzLmlucHV0TWVuc2FqZS5vZmZzZXRIZWlnaHQKICAgICAgKSB7CiAgICAgICAgdGhpcy4kcmVmcy5pbnB1dE1lbnNhamUucm93cysrOwogICAgICB9CiAgICB9LAogICAgYWRkVG9NZW5zYWplKG1lbnNhamUpIHsKICAgICAgaWYgKCFtZW5zYWplKSByZXR1cm47CiAgICAgIHRoaXMubWVuc2FqZSArPSAiXG5cbiIgKyBtZW5zYWplOwoKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuY2hlY2tIZWlnaHQoKTsKICAgICAgfSk7CiAgICB9LAogICAgdGVtcCgpIHsKICAgICAgY29uc29sZS5sb2coYDFgKTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgbWVuc2FqZUlsZWdhbCgpIHsKICAgICAgaWYgKCF0aGlzLm1lbnNhamUgfHwgdGhpcy5tZW5zYWplLmxlbmd0aCA8IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICBpZiAoY2hhclByb2hpYmlkb3NNZW5zYWplLnRlc3QodGhpcy5tZW5zYWplKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["CreadorInterpolacion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreadorInterpolacion.vue","sourceRoot":"src/components/foros","sourcesContent":["<template>\n  <div class=\"creadorInterpolacion\">\n    <div\n      class=\"bEliminarInterpolacion bolitaX\"\n      @click=\"$emit('eliminarse', mensaje)\"\n    >\n      <div class=\"rayaX1\"></div>\n      <div class=\"rayaX2\"></div>\n    </div>\n    <div id=\"bloqueIframe\" v-if=\"estaInterpolacion.tipo == 'video'\">\n      <iframe\n        id=\"elIframe\"\n        :src=\"estaInterpolacion.enlaceIframe\"\n        frameborder=\"0\"\n        v-if=\"estaInterpolacion.tipo == 'video'\"\n        v-show=\"estaInterpolacion.enlaceIframe\"\n      ></iframe>\n      <div id=\"zonaInputEnlace\">\n        <input\n          type=\"text\"\n          id=\"inputEnlace\"\n          v-model=\"enlaceIframe\"\n          @input=\"enlaceAceptado = false\"\n          @keypress.enter=\"setEnlaceIframe\"\n          @paste=\"onPasteEnlace\"\n          placeholder=\"Introduce el enlace\"\n        />\n        <img\n          src=\"@/assets/iconos/success.png\"\n          width=\"17px\"\n          style=\"cursor: pointer\"\n          :style=\"[{ backgroundColor: enlaceAceptado ? 'green' : '' }]\"\n          alt=\"Ok\"\n          title=\"Aceptar\"\n          class=\"bAceptar\"\n          @click=\"setEnlaceIframe\"\n        />\n      </div>\n    </div>\n\n    <div id=\"bloqueQuote\" v-if=\"estaInterpolacion.tipo == 'quote'\">\n      <div id=\"infoQuote\">\n        {{ estaInterpolacion.quote.infoAutor.nombres }} escribio:\n      </div>\n      <div id=\"quote\">\n        {{ estaInterpolacion.quote.mensaje }}\n        <interpolacion\n          v-for=\"interpolacion of estaInterpolacion.quote.interpolaciones\"\n          :key=\"interpolacion.id\"\n          :estaInterpolacion=\"interpolacion\"\n        />\n      </div>\n    </div>\n\n    <div id=\"zonaMensaje\">\n      <textarea\n        name=\"inputMensaje\"\n        id=\"inputMensaje\"\n        ref=\"inputMensaje\"\n        :class=\"{ letrasRojas: mensajeIlegal }\"\n        v-model=\"mensaje\"\n        @input=\"checkHeight\"\n      ></textarea>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Interpolacion from \"./Interpolacion.vue\";\nvar charProhibidosMensaje = /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;\n\nexport default {\n  components: { Interpolacion },\n  name: \"CreadorInterpolacion\",\n  props: {\n    estaInterpolacion: Object,\n  },\n  data() {\n    return {\n      mensaje: null,\n      enlaceIframe: null,\n      enlaceIframeSet: null,\n\n      enlaceAceptado: false,\n    };\n  },\n  methods: {\n    onPasteEnlace() {\n      this.enlaceAceptado = false;\n      console.log(`Paste`);\n      // setTimeout(() => {\n      //   console.log(`Seting con url ${this.enlaceIframe}`);\n      //   this.setEnlaceIframe();\n      // }, 300);\n    },\n    setEnlaceIframe() {\n      if (!this.enlaceIframe || this.enlaceIframe.substr(0, 8) != \"https://\") {\n        return;\n      }\n      if (this.enlaceIframe.substr(12, 17) == \"youtube.com/watch\") {\n        this.enlaceIframe =\n          this.enlaceIframe.substr(0, 24) +\n          \"embed/\" +\n          this.enlaceIframe.substr(32);\n      }\n\n      if (this.enlaceIframe.substr(0, 24) != \"https://www.youtube.com/\") {\n        console.log(`Enlace no válido`);\n        this.enlaceIframe.alert(\"Enlace no válido\");\n        return;\n      }\n\n      this.enlaceIframeSet = this.enlaceIframe;\n      this.$emit(\"enlaceIframeSet\", this.enlaceIframeSet);\n      this.enlaceAceptado = true;\n    },\n    checkHeight() {\n      while (\n        this.$refs.inputMensaje.scrollHeight >\n        this.$refs.inputMensaje.offsetHeight\n      ) {\n        this.$refs.inputMensaje.rows++;\n      }\n    },\n    addToMensaje(mensaje) {\n      if (!mensaje) return;\n      this.mensaje += \"\\n\\n\" + mensaje;\n\n      this.$nextTick(() => {\n        this.checkHeight();\n      });\n    },\n    temp() {\n      console.log(`1`);\n    },\n  },\n  computed: {\n    mensajeIlegal() {\n      if (!this.mensaje || this.mensaje.length < 1) {\n        return true;\n      }\n      if (charProhibidosMensaje.test(this.mensaje)) {\n        return true;\n      }\n      return false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.creadorInterpolacion {\n  position: relative;\n}\n#infoQuote {\n  font-size: 11px;\n  font-style: italic;\n  color: gray;\n  width: 90%;\n  margin: 5px auto;\n}\n\n#quote {\n  border: 1px solid gray;\n  background-color: rgb(197, 144, 107);\n  width: 90%;\n  margin: 5px auto;\n}\n\n#bloqueIframe {\n  border: 2px solid rgb(219, 87, 87);\n  width: min(600px, 95%);\n  margin: 0px auto;\n  border-radius: 10px;\n}\n#elIframe {\n  display: block;\n  width: 560px;\n  height: 315px;\n  margin: 2px auto;\n}\n#zonaInputEnlace {\n  display: block;\n  margin: 2px auto;\n  width: 280px;\n}\n.bAceptar {\n  border-radius: 50%;\n}\n.bAceptar:hover {\n  background-color: green;\n}\n#inputEnlace {\n  font-size: 19px;\n  border-radius: 5px;\n  width: 250px;\n  margin-right: 5px;\n}\n#zonaMensaje {\n  margin-top: 15px;\n}\n#inputMensaje {\n  width: 100%;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  font-size: 20px;\n  resize: none;\n}\n\n.bolitaX {\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  background-color: chocolate;\n  cursor: pointer;\n  position: relative;\n}\n\n.bEliminarInterpolacion {\n  position: absolute;\n  top: 1%;\n  right: 1%;\n}\n\n.rayaX1 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background-color: black;\n\n  transform: translate(-50%, -50%) rotate(45deg);\n  height: 2px;\n  width: 80%;\n}\n.rayaX2 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background-color: black;\n  transform: translate(-50%, -50%) rotate(-45deg);\n  height: 2px;\n  width: 80%;\n}\n</style>"]}]}