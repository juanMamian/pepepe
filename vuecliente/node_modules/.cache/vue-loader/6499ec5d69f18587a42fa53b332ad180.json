{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/PanelConjuntosNodos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/PanelConjuntosNodos.vue","mtime":1648741729541},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJY29ub05vZG9Db25vY2ltaWVudG8gZnJvbSAiLi9JY29ub05vZG9Db25vY2ltaWVudG8udnVlIjsKaW1wb3J0IGdxbCBmcm9tICJncmFwaHFsLXRhZyI7Cgpjb25zdCBjaGFyUHJvaGliaWRvc05vbWJyZUNvbGVjY2lvbiA9IC9bXiBhLXpBLVrDgC3FvjAtOV8oKTouLC1dLzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IEljb25vTm9kb0Nvbm9jaW1pZW50byB9LAogIG5hbWU6ICJQYW5lbENvbmp1bnRvc05vZG9zIiwKICBwcm9wczogewogICAgeW86IE9iamVjdCwKICAgIHRvZG9zTm9kb3M6IEFycmF5LAogICAgbW9kb0F0bGFzOlN0cmluZywKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhYmllcnRvOiBmYWxzZSwKICAgICAgaWRDb25qdW50b1NlbGVjY2lvbmFkbzogMCwKICAgICAgZWRpdGFuZG9Ob21icmVDb2xlY2Npb246IGZhbHNlLAoKICAgICAgaWROb2RvU2VsZWNjaW9uYWRvOiBudWxsLAoKICAgICAgZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzOiBmYWxzZSwKICAgICAgZW52aWFuZG9RdWVyeU5vZG9zU2VjY2lvbjogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogeyAgICAKICAgIGFicmlyUGFnaW5hTm9kbyhpZE5vZG8pIHsKICAgICAgaWYgKCFpZE5vZG8pIHJldHVybjsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ub2RvQ29ub2NpbWllbnRvLyIgKyBpZE5vZG8pOwogICAgfSwKICAgIGNyZWFyTnVldmFDb2xlY2Npb24oKSB7CiAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzID0gdHJ1ZTsKCiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gewogICAgICAgICAgICAgIGNyZWFyQ29sZWNjaW9uTm9kb3NBdGxhc0Nvbm9jaW1pZW50b1VzdWFyaW8gewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIGF0bGFzIHsKICAgICAgICAgICAgICAgICAgY29sZWNjaW9uZXMgewogICAgICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICAgICAgbm9tYnJlCiAgICAgICAgICAgICAgICAgICAgaWRzTm9kb3MKICAgICAgICAgICAgICAgICAgICBub2RvcyB7CiAgICAgICAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgICAgICAgbm9tYnJlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5Q29sZWNjaW9uZXMgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTsKICAgICAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgc2VsZWNjaW9uYXJDb2xlY2Npb24oZSwgaWRDb2xlY2Npb24pIHsKICAgICAgaWYgKHRoaXMuaWRDb25qdW50b1NlbGVjY2lvbmFkbyA9PT0gaWRDb2xlY2Npb24pIHsKICAgICAgICBjb25zdCBub21icmVDb2xlY2Npb249dGhpcy5jb25qdW50b3MuZmluZChjPT5jLmlkPT09aWRDb2xlY2Npb24pLm5vbWJyZTsKICAgICAgICBjb25zb2xlLmxvZyhgU2V0aW5nIHZhbHVlIGRlbCBpbnB1dCBhICR7bm9tYnJlQ29sZWNjaW9ufWApOwogICAgICAgIHRoaXMuZWRpdGFuZG9Ob21icmVDb2xlY2Npb24gPSB0cnVlOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dE5vbWJyZUNvbGVjY2lvbicraWRDb2xlY2Npb24pLnZhbHVlPW5vbWJyZUNvbGVjY2lvbjsKCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lZGl0YW5kb05vbWJyZUNvbGVjY2lvbiA9IGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMuaWRDb25qdW50b1NlbGVjY2lvbmFkbyA9IGlkQ29sZWNjaW9uOwogICAgICB0aGlzLmlkTm9kb1NlbGVjY2lvbmFkbyA9IG51bGw7CiAgICB9LAogICAgZ3VhcmRhck51ZXZvTm9tYnJlQ29sZWNjaW9uKGUsIGlkQ29sZWNjaW9uKSB7CiAgICAgIHZhciBudWV2b05vbWJyZSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICBjb25zb2xlLmxvZygKICAgICAgICBgc2V0aW5nIG5vbWJyZSBkZSBjb2xlY2Npb24gJHtpZENvbGVjY2lvbn0gY29uIHZhbHVlOiAke251ZXZvTm9tYnJlfWAKICAgICAgKTsKICAgICAgaWYgKGNoYXJQcm9oaWJpZG9zTm9tYnJlQ29sZWNjaW9uLnRlc3QobnVldm9Ob21icmUpKSB7CiAgICAgICAgYWxlcnQoIsKhRWwgbm9tYnJlIGNvbnRlbsOtYSBjYXJhY3RlcmVzIGlsZWdhbGVzISIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzID0gdHJ1ZTsKCiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24gKCRpZENvbGVjY2lvbjogSUQhLCAkbnVldm9Ob21icmU6IFN0cmluZyEpIHsKICAgICAgICAgICAgICBzZXROb21icmVDb2xlY2Npb25Ob2Rvc0F0bGFzQ29ub2NpbWllbnRvVXN1YXJpbygKICAgICAgICAgICAgICAgIGlkQ29sZWNjaW9uOiAkaWRDb2xlY2Npb24KICAgICAgICAgICAgICAgIG51ZXZvTm9tYnJlOiAkbnVldm9Ob21icmUKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICBhdGxhcyB7CiAgICAgICAgICAgICAgICAgIGNvbGVjY2lvbmVzIHsKICAgICAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgICAgIG5vbWJyZQogICAgICAgICAgICAgICAgICAgIGlkc05vZG9zCiAgICAgICAgICAgICAgICAgICAgbm9kb3MgewogICAgICAgICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgICAgICAgIG5vbWJyZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBpZENvbGVjY2lvbiwKICAgICAgICAgICAgbnVldm9Ob21icmUsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5Q29sZWNjaW9uZXMgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZWRpdGFuZG9Ob21icmVDb2xlY2Npb24gPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTsKICAgICAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgZWxpbWluYXJDb2xlY2Npb24oaWRDb2xlY2Npb24pIHsKICAgICAgaWYgKAogICAgICAgICFjb25maXJtKAogICAgICAgICAgIkNvbmZpcm1hciBlbGltaW5hY2nDs24gZGUgY29sZWNjacOzbj8gKEVzdGEgYWNjacOzbiBubyBzZSBwdWVkZSBkZXNoYWNlcikiCiAgICAgICAgKQogICAgICApCiAgICAgICAgcmV0dXJuOwogICAgICB0aGlzLmlkQ29uanVudG9TZWxlY2Npb25hZG8gPSBudWxsOwogICAgICB0aGlzLmVudmlhbmRvUXVlcnlDb2xlY2Npb25lcyA9IHRydWU7CgogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uICgkaWRDb2xlY2Npb246IElEISkgewogICAgICAgICAgICAgIGVsaW1pbmFyQ29sZWNjaW9uTm9kb3NBdGxhc0Nvbm9jaW1pZW50b1VzdWFyaW8oCiAgICAgICAgICAgICAgICBpZENvbGVjY2lvbjogJGlkQ29sZWNjaW9uCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgYXRsYXMgewogICAgICAgICAgICAgICAgICBjb2xlY2Npb25lcyB7CiAgICAgICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgICAgICBpZHNOb2RvcwogICAgICAgICAgICAgICAgICAgIG5vZG9zIHsKICAgICAgICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICAgICAgICBub21icmUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIGAsCiAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgaWRDb2xlY2Npb24sCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5Q29sZWNjaW9uZXMgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJvcn1gKTsKICAgICAgICAgIHRoaXMuZW52aWFuZG9RdWVyeUNvbGVjY2lvbmVzID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgZWxpbWluYXJOb2RvU2VsZWNjaW9uYWRvU2VjY2lvblNlbGVjY2lvbmFkYSgpIHsKCiAgICAgIGlmKCF0aGlzLmlkQ29uanVudG9TZWxlY2Npb25hZG8gfHwgIXRoaXMuaWROb2RvU2VsZWNjaW9uYWRvKXJldHVybgoKICAgICAgdGhpcy5lbnZpYW5kb1F1ZXJ5Tm9kb3NTZWNjaW9uID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICBtdXRhdGlvbiAoJGlkQ29sZWNjaW9uOiBJRCEsICRpZE5vZG86IElEISkgewogICAgICAgICAgICAgIHJlbW92ZU5vZG9Db2xlY2Npb25Ob2Rvc0F0bGFzQ29ub2NpbWllbnRvVXN1YXJpbygKICAgICAgICAgICAgICAgIGlkQ29sZWNjaW9uOiAkaWRDb2xlY2Npb24KICAgICAgICAgICAgICAgIGlkTm9kbzogJGlkTm9kbwogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIGlkc05vZG9zCiAgICAgICAgICAgICAgICBub2RvcyB7CiAgICAgICAgICAgICAgICAgIGlkCiAgICAgICAgICAgICAgICAgIG5vbWJyZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgYCwKICAgICAgICAgIHZhcmlhYmxlczp7CiAgICAgICAgICAgIGlkQ29sZWNjaW9uOnRoaXMuaWRDb25qdW50b1NlbGVjY2lvbmFkbywKICAgICAgICAgICAgaWROb2RvOnRoaXMuaWROb2RvU2VsZWNjaW9uYWRvCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvUXVlcnlOb2Rvc1NlY2Npb24gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuaWROb2RvU2VsZWNjaW9uYWRvPW51bGw7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7CiAgICAgICAgICB0aGlzLmVudmlhbmRvUXVlcnlOb2Rvc1NlY2Npb24gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sICAgIAogIH0sCiAgY29tcHV0ZWQ6IHsgICAgCiAgICBpZHNOb2Rvc09iamV0aXZvcygpIHsKICAgICAgaWYgKCF0aGlzLnlvIHx8ICF0aGlzLnlvLmF0bGFzIHx8ICF0aGlzLnlvLmF0bGFzLmRhdG9zTm9kb3MpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMueW8uYXRsYXMuZGF0b3NOb2RvcwogICAgICAgIC5maWx0ZXIoKG4pID0+IG4ub2JqZXRpdm8gPT0gdHJ1ZSkKICAgICAgICAubWFwKChuKSA9PiBuLmlkTm9kbyk7CiAgICB9LAogICAgbm9kb3NPYmpldGl2bygpIHsKICAgICAgaWYgKCF0aGlzLnlvKSByZXR1cm4gW107CgogICAgICByZXR1cm4gdGhpcy50b2Rvc05vZG9zLmZpbHRlcigobikgPT4KICAgICAgICB0aGlzLmlkc05vZG9zT2JqZXRpdm9zLmluY2x1ZGVzKG4uaWQpCiAgICAgICk7CiAgICB9LAogICAgbm9kb3NDbGFzZXNEaWN0YWRhc1VzdWFyaW8oKSB7CiAgICAgIGlmICghdGhpcy51c3VhcmlvIHx8ICF0aGlzLnVzdWFyaW8uaWQpIHJldHVybiBbXTsKICAgICAgcmV0dXJuIHRoaXMudG9kb3NOb2Rvcy5maWx0ZXIoKG4pID0+CiAgICAgICAgbi5jbGFzZXMuc29tZSgoYykgPT4gYy5pZEV4cGVydG8gPT09IHRoaXMudXN1YXJpby5pZCkKICAgICAgKTsKICAgIH0sCiAgICBjbGFzZXNEaWN0YWRhc1VzdWFyaW8oKSB7CiAgICAgIGlmICghdGhpcy51c3VhcmlvIHx8ICF0aGlzLnVzdWFyaW8uaWQpIHJldHVybjsKICAgICAgdmFyIGNsYXNlc0RpY3RhZGFzID0gW107CiAgICAgIHRoaXMubm9kb3NDbGFzZXNEaWN0YWRhc1VzdWFyaW8uZm9yRWFjaCgobm9kbykgPT4geyAgICAgICAgCiAgICAgICAgY2xhc2VzRGljdGFkYXMgPSBjbGFzZXNEaWN0YWRhcy5jb25jYXQoCiAgICAgICAgICBub2RvLmNsYXNlcwogICAgICAgICAgICAuZmlsdGVyKChjKSA9PiBjLmlkRXhwZXJ0byA9PT0gdGhpcy51c3VhcmlvLmlkKQogICAgICAgICAgICAubWFwKChjKSA9PiB7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIC4uLmMsCiAgICAgICAgICAgICAgICBpZE5vZG9QYXJlbnQ6IG5vZG8uaWQsCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSkKICAgICAgICApOwogICAgICB9KTsKICAgICAgcmV0dXJuIGNsYXNlc0RpY3RhZGFzOwogICAgfSwKICAgIGNvbmp1bnRvcygpIHsKICAgICAgaWYodGhpcy5tb2RvQXRsYXM9PT0nZXhwZXJ0bycpewogICAgICAgIHJldHVybiB0aGlzLmNvbmp1bnRvc1VzdWFyaW8uY29uY2F0KFt7CiAgICAgICAgICBub21icmU6ICJub2Rvc0NvbkNsYXNlRGljdGFkYSIsCiAgICAgICAgICB0aXR1bG86ICJNaXMgY2xhc2VzIiwKICAgICAgICAgIGlkOiAxLAogICAgICAgICAgbm9kb3M6IFtdLAogICAgICAgICAgbW9kbzogImV4cGVydG8iLAogICAgICAgIH1dKQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmNvbmp1bnRvc1VzdWFyaW8KICAgIH0sCiAgICBjb25qdW50b1NlbGVjY2lvbmFkbygpIHsKICAgICAgaWYgKHRoaXMuaWRDb25qdW50b1NlbGVjY2lvbmFkbyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7CiAgICAgIHJldHVybiB0aGlzLmNvbmp1bnRvcy5maW5kKChjKSA9PiBjLmlkID09PSB0aGlzLmlkQ29uanVudG9TZWxlY2Npb25hZG8pOwogICAgfSwKICAgIG5vZG9TZWxlY2Npb25hZG8oKSB7CiAgICAgIGlmICghdGhpcy5pZE5vZG9TZWxlY2Npb25hZG8pIHJldHVybiBudWxsOwogICAgICByZXR1cm4gdGhpcy50b2Rvc05vZG9zLmZpbmQoKG4pID0+IG4uaWQgPT09IHRoaXMuaWROb2RvU2VsZWNjaW9uYWRvKTsKICAgIH0sCiAgICBjb25qdW50b3NVc3VhcmlvKCkgewogICAgICBpZiAoIXRoaXMueW8gfHwgIXRoaXMueW8uYXRsYXMgfHwgIXRoaXMueW8uYXRsYXMuY29sZWNjaW9uZXMpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KCiAgICAgIHZhciBudWV2b0NvbGVjY2lvbmVzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy55by5hdGxhcy5jb2xlY2Npb25lcykpOwoKICAgICAgbnVldm9Db2xlY2Npb25lcy5mb3JFYWNoKChjKSA9PiB7CiAgICAgICAgYy50aXR1bG8gPSBjLm5vbWJyZTsKICAgICAgICBjLm1vZG8gPSAiZXN0dWRpYW50ZSI7CiAgICAgICAgYy5lZGl0YWJsZSA9IHRydWU7CiAgICAgICAgYy5lZGl0YW5kb05vbWJyZSA9IGZhbHNlOwogICAgICB9KTsKCiAgICAgIHJldHVybiBudWV2b0NvbGVjY2lvbmVzOwogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBhYmllcnRvKCkgewogICAgICB0aGlzLmlkTm9kb1NlbGVjY2lvbmFkbyA9IG51bGw7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["PanelConjuntosNodos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PanelConjuntosNodos.vue","sourceRoot":"src/components/atlasConocimiento","sourcesContent":["<template>\n  <div\n    id=\"panelConjuntosNodos\"\n    @mouseup.left.stop=\"\"\n    @mousedown.left.stop=\"\"\n    @touchmove.stop=\"\"\n    v-show=\"abierto\"\n  >   \n    <div id=\"barraConjuntos\">\n      <div\n        class=\"selectorConjunto\"      \n        :class=\"{ seleccionado: conjunto.id === idConjuntoSeleccionado }\"\n        @click=\"seleccionarColeccion($event, conjunto.id)\"\n        v-for=\"conjunto of conjuntos\"\n        :key=\"'selectorConjunto' + conjunto.id\"\n      >\n        <div\n          class=\"nombreColeccion\"\n          v-show=\"\n            !editandoNombreColeccion ||\n            !conjunto.editable ||\n            conjunto.id != idConjuntoSeleccionado\n          \"\n        >\n          {{ conjunto.titulo }}\n        </div>\n        <input\n          type=\"text\"\n          name=\"nuevoNombreColeccion\"\n          :id=\"'inputNombreColeccion'+conjunto.id\"\n          v-show=\"\n            conjunto.editable &&\n            conjunto.id === idConjuntoSeleccionado &&\n            editandoNombreColeccion\n          \"\n          :class=\"{deshabilitado: enviandoQueryColecciones}\"\n          @keypress.enter=\"guardarNuevoNombreColeccion($event, conjunto.id)\"\n          @blur=\"editandoNombreColeccion = false\"\n        />\n        <img\n          src=\"@/assets/iconos/delete.png\"\n          alt=\"Eliminar\"\n          width=\"20px\"\n          title=\"Eliminar colección\"\n          v-show=\"\n            !editandoNombreColeccion &&\n            conjunto.editable &&\n            conjunto.id === idConjuntoSeleccionado\n          \"\n          class=\"botonEliminarColeccion\"\n          @click.stop=\"eliminarColeccion(conjunto.id)\"\n        />\n      </div>\n      <div\n        id=\"controlesConjuntos\"\n        :class=\"{ deshabilitado: enviandoQueryColecciones }\"        \n      >\n        <div @click=\"crearNuevaColeccion\" class=\"botonControlesConjuntos\">Nueva colección</div>\n      </div>\n    </div>\n    <div\n      id=\"controlesListaNodos\"\n      :style=\"[\n        { visibility: idNodoSeleccionado != null ? 'visible' : 'hidden' },\n      ]\"\n    >\n      <div\n        class=\"controlListaNodos hoverGris\"\n        @click.stop=\"$emit('centrarEnNodo', idNodoSeleccionado)\"\n      >\n        Centrar\n      </div>      \n      <img\n        src=\"@/assets/iconos/delete.png\"\n        alt=\"Eliminar\"\n        :class=\"{deshabilitado: enviandoQueryNodosSeccion}\"\n        v-show=\"idNodoSeleccionado\"\n        class=\"botonEliminarNodoColeccion\"\n        @click.stop=\"eliminarNodoSeleccionadoSeccionSeleccionada\"\n      />\n    </div>\n    <div\n      id=\"listaNodosConjunto\"\n      v-if=\"conjuntoSeleccionado\"\n      v-show=\"abierto && conjuntoSeleccionado\"\n      :key=\"'listaNodos' + idConjuntoSeleccionado\"\n      @click.self.stop=\"idNodoSeleccionado = null\"\n    >\n      <icono-nodo-conocimiento\n        :esteNodo=\"nodo\"\n        v-for=\"nodo of conjuntoSeleccionado.nodos\"\n        v-show=\"conjuntoSeleccionado\"\n        :key=\"nodo.id\"\n        :seleccionado=\"nodo.id === idNodoSeleccionado\"\n        @click.native.stop=\"idNodoSeleccionado = nodo.id\"\n        @dblclick.native.stop=\"$emit('centrarEnNodo', nodo.id)\"\n      />\n    </div>\n    <div\n      id=\"listaClasesNodo\"\n      v-if=\"conjuntoSeleccionado\"\n      v-show=\"conjuntoSeleccionado.nombre === 'nodosConClaseDictada'\"\n    >\n      <div\n        class=\"infoClase\"\n        v-for=\"clase of clasesDictadasUsuario\"\n        :key=\"'infoClase' + clase.id\"\n        @click.stop=\"$emit('centrarEnNodo', clase.idNodoParent)\"\n      >\n        <img\n          src=\"@/assets/iconos/nodoConocimientoDefault.png\"\n          alt=\"Abrir nodo\"\n          title=\"Abrir el nodo de conocimiento\"\n          @click.stop=\"abrirPaginaNodo(clase.idNodoParent)\"\n          class=\"iconoAbrirNodo\"\n        />\n        <div class=\"nombreClase\">{{ clase.nombre }}</div>\n        <div class=\"infoInteresados\">\n          <div class=\"cantidadInteresados\">{{ clase.interesados.length }}</div>\n          <img\n            src=\"@/assets/iconos/raiseHand.png\"\n            alt=\"Interesados\"\n            class=\"iconoInteresados\"\n            title=\"Estudiantes interesados en esta clase\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport IconoNodoConocimiento from \"./IconoNodoConocimiento.vue\";\nimport gql from \"graphql-tag\";\n\nconst charProhibidosNombreColeccion = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\n\nexport default {\n  components: { IconoNodoConocimiento },\n  name: \"PanelConjuntosNodos\",\n  props: {\n    yo: Object,\n    todosNodos: Array,\n    modoAtlas:String,\n  },\n  data() {\n    return {\n      abierto: false,\n      idConjuntoSeleccionado: 0,\n      editandoNombreColeccion: false,\n\n      idNodoSeleccionado: null,\n\n      enviandoQueryColecciones: false,\n      enviandoQueryNodosSeccion: false,\n    };\n  },\n  methods: {    \n    abrirPaginaNodo(idNodo) {\n      if (!idNodo) return;\n      this.$router.push(\"/nodoConocimiento/\" + idNodo);\n    },\n    crearNuevaColeccion() {\n      this.enviandoQueryColecciones = true;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation {\n              crearColeccionNodosAtlasConocimientoUsuario {\n                id\n                atlas {\n                  colecciones {\n                    id\n                    nombre\n                    idsNodos\n                    nodos {\n                      id\n                      nombre\n                    }\n                  }\n                }\n              }\n            }\n          `,\n        })\n        .then(() => {\n          this.enviandoQueryColecciones = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.enviandoQueryColecciones = false;\n        });\n    },\n    seleccionarColeccion(e, idColeccion) {\n      if (this.idConjuntoSeleccionado === idColeccion) {\n        const nombreColeccion=this.conjuntos.find(c=>c.id===idColeccion).nombre;\n        console.log(`Seting value del input a ${nombreColeccion}`);\n        this.editandoNombreColeccion = true;\n        document.getElementById('inputNombreColeccion'+idColeccion).value=nombreColeccion;\n\n      } else {\n        this.editandoNombreColeccion = false;\n      }\n      this.idConjuntoSeleccionado = idColeccion;\n      this.idNodoSeleccionado = null;\n    },\n    guardarNuevoNombreColeccion(e, idColeccion) {\n      var nuevoNombre = e.target.value;\n      console.log(\n        `seting nombre de coleccion ${idColeccion} con value: ${nuevoNombre}`\n      );\n      if (charProhibidosNombreColeccion.test(nuevoNombre)) {\n        alert(\"¡El nombre contenía caracteres ilegales!\");\n        return true;\n      }\n      this.enviandoQueryColecciones = true;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idColeccion: ID!, $nuevoNombre: String!) {\n              setNombreColeccionNodosAtlasConocimientoUsuario(\n                idColeccion: $idColeccion\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                atlas {\n                  colecciones {\n                    id\n                    nombre\n                    idsNodos\n                    nodos {\n                      id\n                      nombre\n                    }\n                  }\n                }\n              }\n            }\n          `,\n          variables: {\n            idColeccion,\n            nuevoNombre,\n          },\n        })\n        .then(() => {\n          this.enviandoQueryColecciones = false;\n          this.editandoNombreColeccion = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.enviandoQueryColecciones = false;\n        });\n    },\n    eliminarColeccion(idColeccion) {\n      if (\n        !confirm(\n          \"Confirmar eliminación de colección? (Esta acción no se puede deshacer)\"\n        )\n      )\n        return;\n      this.idConjuntoSeleccionado = null;\n      this.enviandoQueryColecciones = true;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idColeccion: ID!) {\n              eliminarColeccionNodosAtlasConocimientoUsuario(\n                idColeccion: $idColeccion\n              ) {\n                id\n                atlas {\n                  colecciones {\n                    id\n                    idsNodos\n                    nodos {\n                      id\n                      nombre\n                    }\n                  }\n                }\n              }\n            }\n          `,\n          variables: {\n            idColeccion,\n          },\n        })\n        .then(() => {\n          this.enviandoQueryColecciones = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.enviandoQueryColecciones = false;\n        });\n    },\n    eliminarNodoSeleccionadoSeccionSeleccionada() {\n\n      if(!this.idConjuntoSeleccionado || !this.idNodoSeleccionado)return\n\n      this.enviandoQueryNodosSeccion = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idColeccion: ID!, $idNodo: ID!) {\n              removeNodoColeccionNodosAtlasConocimientoUsuario(\n                idColeccion: $idColeccion\n                idNodo: $idNodo\n              ) {\n                id\n                idsNodos\n                nodos {\n                  id\n                  nombre\n                }\n              }\n            }\n          `,\n          variables:{\n            idColeccion:this.idConjuntoSeleccionado,\n            idNodo:this.idNodoSeleccionado\n          }\n        })\n        .then(() => {\n          this.enviandoQueryNodosSeccion = false;\n          this.idNodoSeleccionado=null;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.enviandoQueryNodosSeccion = false;\n        });\n    },    \n  },\n  computed: {    \n    idsNodosObjetivos() {\n      if (!this.yo || !this.yo.atlas || !this.yo.atlas.datosNodos) {\n        return [];\n      }\n      return this.yo.atlas.datosNodos\n        .filter((n) => n.objetivo == true)\n        .map((n) => n.idNodo);\n    },\n    nodosObjetivo() {\n      if (!this.yo) return [];\n\n      return this.todosNodos.filter((n) =>\n        this.idsNodosObjetivos.includes(n.id)\n      );\n    },\n    nodosClasesDictadasUsuario() {\n      if (!this.usuario || !this.usuario.id) return [];\n      return this.todosNodos.filter((n) =>\n        n.clases.some((c) => c.idExperto === this.usuario.id)\n      );\n    },\n    clasesDictadasUsuario() {\n      if (!this.usuario || !this.usuario.id) return;\n      var clasesDictadas = [];\n      this.nodosClasesDictadasUsuario.forEach((nodo) => {        \n        clasesDictadas = clasesDictadas.concat(\n          nodo.clases\n            .filter((c) => c.idExperto === this.usuario.id)\n            .map((c) => {\n              return {\n                ...c,\n                idNodoParent: nodo.id,\n              };\n            })\n        );\n      });\n      return clasesDictadas;\n    },\n    conjuntos() {\n      if(this.modoAtlas==='experto'){\n        return this.conjuntosUsuario.concat([{\n          nombre: \"nodosConClaseDictada\",\n          titulo: \"Mis clases\",\n          id: 1,\n          nodos: [],\n          modo: \"experto\",\n        }])\n      }\n      return this.conjuntosUsuario\n    },\n    conjuntoSeleccionado() {\n      if (this.idConjuntoSeleccionado === null) return null;\n      return this.conjuntos.find((c) => c.id === this.idConjuntoSeleccionado);\n    },\n    nodoSeleccionado() {\n      if (!this.idNodoSeleccionado) return null;\n      return this.todosNodos.find((n) => n.id === this.idNodoSeleccionado);\n    },\n    conjuntosUsuario() {\n      if (!this.yo || !this.yo.atlas || !this.yo.atlas.colecciones) {\n        return [];\n      }\n\n      var nuevoColecciones=JSON.parse(JSON.stringify(this.yo.atlas.colecciones));\n\n      nuevoColecciones.forEach((c) => {\n        c.titulo = c.nombre;\n        c.modo = \"estudiante\";\n        c.editable = true;\n        c.editandoNombre = false;\n      });\n\n      return nuevoColecciones;\n    },\n  },\n  watch: {\n    abierto() {\n      this.idNodoSeleccionado = null;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#panelConjuntosNodos {\n  position: absolute;\n  top: 50px;\n  box-shadow: 2px 2px 2px 2px rgb(190, 190, 190);\n  min-width: 100px;\n  min-height: 100px;\n  max-height: 80%;\n  background-color: whitesmoke;\n  width: min(90%, 650px);\n  right:0px;\n}\n#grabber {\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  position: absolute;\n  top: 0%;\n  right: 100%;\n}\n#barraConjuntos {\n  display: flex;\n  width: 100%;\n  overflow-x: scroll;\n}\n.selectorConjunto {\n  cursor: pointer;\n  background-color: rgba(95, 158, 160, 0.637);\n  padding: 3px 5px;\n  font-style: italic;\n  display: flex;\n}\n.selectorConjunto.seleccionado {\n  background-color: cadetblue;\n}\n.botonEliminarColeccion {\n  cursor: pointer;\n  border-radius: 50%;\n  margin-left: 10px;\n  width:20px;\n  height:20px;\n}\n.botonEliminarColeccion:hover {\n  background-color: rgb(219, 63, 63);\n}\n#controlesConjuntos {\n  margin-left: auto;\n}\n.botonControlesConjuntos {\n  font-size: 14px;\n  color: gray;\n  cursor: pointer;\n}\n.botonControlesConjuntos:hover {\n  background-color: rgba(128, 128, 128, 0.527);\n}\n#controlesListaNodos {\n  display: flex;\n  width: 100%;\n  margin: 20px auto;\n}\n.controlListaNodos {\n  padding: 3px 5px;\n  font-size: 12px;\n  color: gray;\n  cursor: pointer;\n}\n#botonRastrearNodo {\n  width: 20px;\n  min-width: 20px;\n  height: 20px;\n  cursor: pointer;\n  border-radius: 50%;\n}\n#botonRastrearNodo:hover {\n  background-color: rgba(95, 158, 160, 0.658);\n}\n\n.botonEliminarNodoColeccion {\n  width: 20px;\n  min-width: 20px;\n  height: 20px;\n  cursor: pointer;\n  align-self: center;\n  border-radius: 50%;\n  margin-left: 10px;\n}\n.botonEliminarNodoColeccion:hover {\n  background-color: rgb(236, 68, 68);\n}\n\n#listaNodosConjunto {\n  display: flex;\n  flex-wrap: wrap;\n  overflow-y: scroll;\n  max-height: 55vh;\n  padding-top: 10px;\n}\n.iconoNodoConocimiento {\n  margin: 0px 40px;\n  margin-bottom: 90px;\n}\n#listaClasesNodo {\n  width: 100%;\n}\n.infoClase {\n  display: flex;\n  min-height: 40px;\n  padding: 2px 5px;\n}\n.infoClase:hover {\n  background-color: rgba(95, 158, 160, 0.452);\n}\n.iconoAbrirNodo {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  margin-right: 10px;\n}\n.infoInteresados {\n  margin-left: auto;\n  position: relative;\n}\n.cantidadInteresados {\n  position: absolute;\n  top: 25%;\n  left: 65%;\n  transform: translate(-50%, -50%);\n  font-size: 10px;\n}\n.iconoInteresados {\n  width: 27px;\n  height: 27px;\n  cursor: pointer;\n  padding: 2px;\n  border-radius: 50%;\n  border: 1px solid chocolate;\n  background-color: rgba(210, 105, 30, 0.438);\n}\n</style>"]}]}