{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/proyecto/VentanitaObjetivo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/proyecto/VentanitaObjetivo.vue","mtime":1643654906679},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgTG9hZGluZyBmcm9tICIuLi91dGlsaWRhZGVzL0xvYWRpbmcudnVlIjsKCmNvbnN0IGNoYXJQcm9oaWJpZG9zTm9tYnJlT2JqZXRpdm8gPSAvW14gYS16QS1aw4Atxb4wLTlfKCk6LiwtXS87CmNvbnN0IGNoYXJQcm9oaWJpZG9zRGVzY3JpcGNpb25PYmpldGl2byA9IC9bXlxuXHIgYS16QS1aw4Atxb4wLTlfKCk6Oy4sK8KhIcK/P0A9LV0vOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJWZW50YW5pdGFPYmpldGl2byIsCiAgY29tcG9uZW50czogeyBMb2FkaW5nIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRlc2hhYmlsaXRhZG86IGZhbHNlLAoKICAgICAgbnVldm9Ob21icmU6ICJOdWV2byBub21icmUiLAogICAgICBlZGl0YW5kb05vbWJyZTogZmFsc2UsCiAgICAgIGVudmlhbmRvTnVldm9Ob21icmU6IGZhbHNlLAoKICAgICAgbnVldm9EZXNjcmlwY2lvbjogIk51ZXZhIGRlc2NyaXBjaW9uIiwKICAgICAgZWRpdGFuZG9EZXNjcmlwY2lvbjogZmFsc2UsCiAgICAgIGVudmlhbmRvTnVldm9EZXNjcmlwY2lvbjogZmFsc2UsCgogICAgICB0b2dnbGluZ0VzdGFkbzpmYWxzZSwKICAgIH07CiAgfSwKICBwcm9wczogewogICAgaWRQcm95ZWN0bzogU3RyaW5nLAogICAgZXN0ZU9iamV0aXZvOiBPYmplY3QsCiAgICBzZWxlY2Npb25hZG86IEJvb2xlYW4sCiAgICB1c3VhcmlvUmVzcG9uc2FibGVQcm95ZWN0bzogQm9vbGVhbiwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBudWV2b05vbWJyZUlsZWdhbCgpIHsKICAgICAgaWYgKHRoaXMubnVldm9Ob21icmUubGVuZ3RoIDwgMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIGlmIChjaGFyUHJvaGliaWRvc05vbWJyZU9iamV0aXZvLnRlc3QodGhpcy5udWV2b05vbWJyZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgbnVldm9EZXNjcmlwY2lvbklsZWdhbCgpIHsKICAgICAgaWYgKHRoaXMubnVldm9EZXNjcmlwY2lvbi5sZW5ndGggPCAxKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgaWYgKGNoYXJQcm9oaWJpZG9zRGVzY3JpcGNpb25PYmpldGl2by50ZXN0KHRoaXMubnVldm9EZXNjcmlwY2lvbikpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZ3VhcmRhck51ZXZvTm9tYnJlKCkgewogICAgICBpZiAodGhpcy5udWV2b05vbWJyZUlsZWdhbCkgewogICAgICAgIGNvbnNvbGUubG9nKGBObyBlbnZpYWRvYCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLm51ZXZvTm9tYnJlID09IHRoaXMuZXN0ZU9iamV0aXZvLm5vbWJyZSkgewogICAgICAgIHRoaXMuZWRpdGFuZG9Ob21icmUgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coYGd1YXJkYW5kbyBudWV2byBub21icmVgKTsKICAgICAgdGhpcy5lbnZpYW5kb051ZXZvTm9tYnJlID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogZ3FsYAogICAgICAgICAgICBtdXRhdGlvbigKICAgICAgICAgICAgICAkaWRQcm95ZWN0bzogSUQhCiAgICAgICAgICAgICAgJGlkT2JqZXRpdm86IElEIQogICAgICAgICAgICAgICRudWV2b05vbWJyZTogU3RyaW5nIQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBlZGl0YXJOb21icmVPYmpldGl2b1Byb3llY3RvKAogICAgICAgICAgICAgICAgaWRQcm95ZWN0bzogJGlkUHJveWVjdG8KICAgICAgICAgICAgICAgIGlkT2JqZXRpdm86ICRpZE9iamV0aXZvCiAgICAgICAgICAgICAgICBudWV2b05vbWJyZTogJG51ZXZvTm9tYnJlCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgbm9tYnJlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkT2JqZXRpdm86IHRoaXMuZXN0ZU9iamV0aXZvLmlkLAogICAgICAgICAgICBpZFByb3llY3RvOiB0aGlzLmlkUHJveWVjdG8sCiAgICAgICAgICAgIG51ZXZvTm9tYnJlOiB0aGlzLm51ZXZvTm9tYnJlLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZW52aWFuZG9OdWV2b05vbWJyZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy5lZGl0YW5kb05vbWJyZSA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5lbnZpYW5kb051ZXZvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IuIEUgOiR7ZXJyb3J9YCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZ3VhcmRhck51ZXZvRGVzY3JpcGNpb24oKSB7CiAgICAgIGlmICh0aGlzLm51ZXZvRGVzY3JpcGNpb25JbGVnYWwpIHsKICAgICAgICBjb25zb2xlLmxvZyhgTm8gZW52aWFkb2ApOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5udWV2b0Rlc2NyaXBjaW9uID09IHRoaXMuZXN0ZU9iamV0aXZvLmRlc2NyaXBjaW9uKSB7CiAgICAgICAgdGhpcy5lZGl0YW5kb0Rlc2NyaXBjaW9uID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKGBndWFyZGFuZG8gbnVldm8gZGVzY3JpcGNpb25gKTsKICAgICAgdGhpcy5lbnZpYW5kb051ZXZvRGVzY3JpcGNpb24gPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8KICAgICAgICAubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiBncWxgCiAgICAgICAgICAgIG11dGF0aW9uKAogICAgICAgICAgICAgICRpZFByb3llY3RvOiBJRCEKICAgICAgICAgICAgICAkaWRPYmpldGl2bzogSUQhCiAgICAgICAgICAgICAgJG51ZXZvRGVzY3JpcGNpb246IFN0cmluZyEKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgZWRpdGFyRGVzY3JpcGNpb25PYmpldGl2b1Byb3llY3RvKAogICAgICAgICAgICAgICAgaWRQcm95ZWN0bzogJGlkUHJveWVjdG8KICAgICAgICAgICAgICAgIGlkT2JqZXRpdm86ICRpZE9iamV0aXZvCiAgICAgICAgICAgICAgICBudWV2b0Rlc2NyaXBjaW9uOiAkbnVldm9EZXNjcmlwY2lvbgogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkUHJveWVjdG86IHRoaXMuaWRQcm95ZWN0bywKICAgICAgICAgICAgaWRPYmpldGl2bzogdGhpcy5lc3RlT2JqZXRpdm8uaWQsCiAgICAgICAgICAgIG51ZXZvRGVzY3JpcGNpb246IHRoaXMubnVldm9EZXNjcmlwY2lvbiwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvTnVldm9EZXNjcmlwY2lvbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy5lZGl0YW5kb0Rlc2NyaXBjaW9uID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLmVudmlhbmRvTnVldm9EZXNjcmlwY2lvbiA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coYEVycm9yLiBFIDoke2Vycm9yfWApOwogICAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZUVkaXRhbmRvTm9tYnJlKCkgewogICAgICB0aGlzLmVkaXRhbmRvTm9tYnJlID0gIXRoaXMuZWRpdGFuZG9Ob21icmU7CiAgICAgIHRoaXMubnVldm9Ob21icmUgPSB0aGlzLmVzdGVPYmpldGl2by5ub21icmU7CiAgICB9LAogICAgdG9nZ2xlRWRpdGFuZG9EZXNjcmlwY2lvbigpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dE51ZXZvRGVzY3JpcGNpb24uc3R5bGUuaGVpZ2h0ID0KICAgICAgICB0aGlzLiRyZWZzLmRlc2NyaXBjaW9uLm9mZnNldEhlaWdodCArICJweCI7CiAgICAgIHRoaXMuZWRpdGFuZG9EZXNjcmlwY2lvbiA9ICF0aGlzLmVkaXRhbmRvRGVzY3JpcGNpb247CiAgICAgIHRoaXMubnVldm9EZXNjcmlwY2lvbiA9IHRoaXMuZXN0ZU9iamV0aXZvLmRlc2NyaXBjaW9uOwogICAgfSwKICAgIGVsaW1pbmFyc2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKGBPYmpldGl2byBlbGltaW5hbmRvc2VgKTsKICAgICAgaWYgKCFjb25maXJtKCLCv1NlZ3VybyBkZSBlbGltaW5hciBlc3RlIG9iamV0aXZvPyIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuZGVzaGFiaWxpdGFkbyA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsbwogICAgICAgIC5tdXRhdGUoewogICAgICAgICAgbXV0YXRpb246IGdxbGAKICAgICAgICAgICAgbXV0YXRpb24oJGlkUHJveWVjdG86IElEISwgJGlkT2JqZXRpdm86IElEISkgewogICAgICAgICAgICAgIGVsaW1pbmFyT2JqZXRpdm9EZVByb3llY3RvKAogICAgICAgICAgICAgICAgaWRQcm95ZWN0bzogJGlkUHJveWVjdG8KICAgICAgICAgICAgICAgIGlkT2JqZXRpdm86ICRpZE9iamV0aXZvCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICBgLAogICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgIGlkUHJveWVjdG86IHRoaXMuaWRQcm95ZWN0bywKICAgICAgICAgICAgaWRPYmpldGl2bzogdGhpcy5lc3RlT2JqZXRpdm8uaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YTogeyBlbGltaW5hck9iamV0aXZvRGVQcm95ZWN0byB9IH0pID0+IHsKICAgICAgICAgIHRoaXMuZGVzaGFiaWxpdGFkbyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coYFJlc3VsdGFkbzogJHtlbGltaW5hck9iamV0aXZvRGVQcm95ZWN0b31gKTsKICAgICAgICAgIHRoaXMuJGVtaXQoIm1lRWxpbWluZSIpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5kZXNoYWJpbGl0YWRvID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IuIEU6ICR7ZXJyb3J9YCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlRXN0YWRvT2JqZXRpdm8oKXsKICAgICAgdmFyIG51ZXZvRXN0YWRvPSJub0N1bXBsaWRvIjsKICAgICAgaWYodGhpcy5lc3RlT2JqZXRpdm8uZXN0YWRvPT09Im5vQ3VtcGxpZG8iKXsKICAgICAgICBudWV2b0VzdGFkbz0iY3VtcGxpZG8iOwogICAgICB9CgogICAgICB0aGlzLnRvZ2dsaW5nRXN0YWRvPXRydWU7CgogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjpncWxgCiAgICAgICAgICBtdXRhdGlvbigkaWRQcm95ZWN0bzpJRCEsICRpZE9iamV0aXZvOklEISwgJG51ZXZvRXN0YWRvOlN0cmluZyEpewogICAgICAgICAgICBzZXRFc3RhZG9PYmpldGl2b1Byb3llY3RvKGlkUHJveWVjdG86JGlkUHJveWVjdG8sIGlkT2JqZXRpdm86JGlkT2JqZXRpdm8sIG51ZXZvRXN0YWRvOiRudWV2b0VzdGFkbyl7CiAgICAgICAgICAgICAgaWQKICAgICAgICAgICAgICBlc3RhZG8KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIGAsCiAgICAgICAgdmFyaWFibGVzOnsKICAgICAgICAgIGlkUHJveWVjdG86dGhpcy5pZFByb3llY3RvLAogICAgICAgICAgaWRPYmpldGl2bzp0aGlzLmVzdGVPYmpldGl2by5pZCwKICAgICAgICAgIG51ZXZvRXN0YWRvLAogICAgICAgIH0KICAgICAgfSkudGhlbigoKT0+ewogICAgICB0aGlzLnRvZ2dsaW5nRXN0YWRvPWZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGB0b2dnbGVkYCk7CiAgICAgIH0pLmNhdGNoKChlcnJvcik9PnsKICAgICAgICB0aGlzLnRvZ2dsaW5nRXN0YWRvPWZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogRToke2Vycm9yfWApOwogICAgICB9KQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["VentanitaObjetivo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VentanitaObjetivo.vue","sourceRoot":"src/components/proyecto","sourcesContent":["<template>\n  <div class=\"ventanitaObjetivo\" :class=\"{ seleccionado }\">\n    <div\n      id=\"zonaNombre\"\n      :class=\"{ bordeAbajo: seleccionado }\"\n      class=\"zonaPrimerNivel\"\n    >\n      <div id=\"nombre\">\n        <div id=\"elPropioNombre\" v-show=\"!editandoNombre\">\n          {{ esteObjetivo.nombre }}\n        </div>\n        <input\n          type=\"text\"\n          class=\"inputNuevoNombre\"\n          :class=\"{ letrasRojas: nuevoNombreIlegal }\"\n          v-model=\"nuevoNombre\"\n          v-show=\"editandoNombre\"\n          @keypress.enter=\"guardarNuevoNombre\"\n        />\n        <div class=\"controlesLateralesZona\" v-if=\"usuarioResponsableProyecto\">\n          <img\n            src=\"@/assets/iconos/editar.png\"\n            alt=\"Editar\"\n            id=\"bEditarrNombre\"\n            class=\"bEditar\"\n            title=\"Editar nombre del objetivo\"\n            @click.stop=\"toggleEditandoNombre\"\n          />\n          <img\n            src=\"@/assets/iconos/guardar.png\"\n            alt=\"Guardar\"\n            title=\"guardar\"\n            class=\"bGuardar\"\n            id=\"bGuardarNuevoNombre\"\n            v-show=\"editandoNombre == true && nuevoNombreIlegal == false\"\n            @click.stop=\"guardarNuevoNombre\"\n          />\n        </div>\n      </div>\n      <loading v-show=\"enviandoNuevoNombre\" texto=\"Enviando...\" />\n      <img\n        src=\"@/assets/iconos/estrella.png\"\n        alt=\"\"\n        id=\"imagenIcono\"\n        :class=\"{ iconoCompletado: esteObjetivo.estado === 'cumplido', deshabilitado:togglingEstado }\"\n        @click=\"usuarioResponsableProyecto? toggleEstadoObjetivo():null\"\n      />\n    </div>\n    <div id=\"zonaDescripcion\" class=\"zonaPrimerNivel\">\n      <div class=\"barraSuperiorZona\">\n        <span class=\"nombreZona\">Descripcion</span>\n        <div class=\"controlesZona\" v-show=\"usuarioResponsableProyecto\">\n          <img\n            src=\"@/assets/iconos/editar.png\"\n            alt=\"Editar\"\n            id=\"bEditarDescripcion\"\n            class=\"bEditar\"\n            title=\"Editar descripcion del objetivo\"\n            v-show=\"usuarioResponsableProyecto\"\n            @click.stop=\"toggleEditandoDescripcion\"\n          />\n          <img\n            src=\"@/assets/iconos/guardar.png\"\n            alt=\"Guardar\"\n            title=\"guardar\"\n            class=\"bGuardar\"\n            id=\"bGuardarNuevoDescripcion\"\n            v-show=\"\n              editandoDescripcion == true && nuevoDescripcionIlegal == false\n            \"\n            @click.stop=\"guardarNuevoDescripcion\"\n          />\n        </div>\n      </div>\n\n      <div id=\"descripcion\" ref=\"descripcion\" v-show=\"!editandoDescripcion\">\n        {{ esteObjetivo.descripcion }}\n      </div>\n\n      <textarea\n        id=\"inputNuevoDescripcion\"\n        ref=\"inputNuevoDescripcion\"\n        :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\n        v-model=\"nuevoDescripcion\"\n        v-show=\"editandoDescripcion\"\n      />\n      <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\n    </div>\n    <div id=\"controlesObjetivo\">\n      <div\n        class=\"controlesObjetivo hoverGris bEliminar\"\n        @click=\"eliminarse\"\n        v-show=\"usuarioResponsableProyecto || usuarioSuperadministrador\"\n      >\n        Eliminar\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\n\nconst charProhibidosNombreObjetivo = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\nconst charProhibidosDescripcionObjetivo = /[^\\n\\r a-zA-ZÀ-ž0-9_():;.,+¡!¿?@=-]/;\n\nexport default {\n  name: \"VentanitaObjetivo\",\n  components: { Loading },\n  data() {\n    return {\n      deshabilitado: false,\n\n      nuevoNombre: \"Nuevo nombre\",\n      editandoNombre: false,\n      enviandoNuevoNombre: false,\n\n      nuevoDescripcion: \"Nueva descripcion\",\n      editandoDescripcion: false,\n      enviandoNuevoDescripcion: false,\n\n      togglingEstado:false,\n    };\n  },\n  props: {\n    idProyecto: String,\n    esteObjetivo: Object,\n    seleccionado: Boolean,\n    usuarioResponsableProyecto: Boolean,\n  },\n  computed: {\n    nuevoNombreIlegal() {\n      if (this.nuevoNombre.length < 1) {\n        return true;\n      }\n      if (charProhibidosNombreObjetivo.test(this.nuevoNombre)) {\n        return true;\n      }\n      return false;\n    },\n    nuevoDescripcionIlegal() {\n      if (this.nuevoDescripcion.length < 1) {\n        return true;\n      }\n      if (charProhibidosDescripcionObjetivo.test(this.nuevoDescripcion)) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    guardarNuevoNombre() {\n      if (this.nuevoNombreIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoNombre == this.esteObjetivo.nombre) {\n        this.editandoNombre = false;\n        return;\n      }\n      console.log(`guardando nuevo nombre`);\n      this.enviandoNuevoNombre = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idProyecto: ID!\n              $idObjetivo: ID!\n              $nuevoNombre: String!\n            ) {\n              editarNombreObjetivoProyecto(\n                idProyecto: $idProyecto\n                idObjetivo: $idObjetivo\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                nombre\n              }\n            }\n          `,\n          variables: {\n            idObjetivo: this.esteObjetivo.id,\n            idProyecto: this.idProyecto,\n            nuevoNombre: this.nuevoNombre,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoNombre = false;\n          this.editandoNombre = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoNombre = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    guardarNuevoDescripcion() {\n      if (this.nuevoDescripcionIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoDescripcion == this.esteObjetivo.descripcion) {\n        this.editandoDescripcion = false;\n        return;\n      }\n      console.log(`guardando nuevo descripcion`);\n      this.enviandoNuevoDescripcion = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idProyecto: ID!\n              $idObjetivo: ID!\n              $nuevoDescripcion: String!\n            ) {\n              editarDescripcionObjetivoProyecto(\n                idProyecto: $idProyecto\n                idObjetivo: $idObjetivo\n                nuevoDescripcion: $nuevoDescripcion\n              ) {\n                id\n                descripcion\n              }\n            }\n          `,\n          variables: {\n            idProyecto: this.idProyecto,\n            idObjetivo: this.esteObjetivo.id,\n            nuevoDescripcion: this.nuevoDescripcion,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoDescripcion = false;\n          this.editandoDescripcion = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoDescripcion = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    toggleEditandoNombre() {\n      this.editandoNombre = !this.editandoNombre;\n      this.nuevoNombre = this.esteObjetivo.nombre;\n    },\n    toggleEditandoDescripcion() {\n      this.$refs.inputNuevoDescripcion.style.height =\n        this.$refs.descripcion.offsetHeight + \"px\";\n      this.editandoDescripcion = !this.editandoDescripcion;\n      this.nuevoDescripcion = this.esteObjetivo.descripcion;\n    },\n    eliminarse() {\n      console.log(`Objetivo eliminandose`);\n      if (!confirm(\"¿Seguro de eliminar este objetivo?\")) {\n        return;\n      }\n      this.deshabilitado = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $idObjetivo: ID!) {\n              eliminarObjetivoDeProyecto(\n                idProyecto: $idProyecto\n                idObjetivo: $idObjetivo\n              )\n            }\n          `,\n          variables: {\n            idProyecto: this.idProyecto,\n            idObjetivo: this.esteObjetivo.id,\n          },\n        })\n        .then(({ data: { eliminarObjetivoDeProyecto } }) => {\n          this.deshabilitado = false;\n          console.log(`Resultado: ${eliminarObjetivoDeProyecto}`);\n          this.$emit(\"meElimine\");\n        })\n        .catch((error) => {\n          this.deshabilitado = false;\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    toggleEstadoObjetivo(){\n      var nuevoEstado=\"noCumplido\";\n      if(this.esteObjetivo.estado===\"noCumplido\"){\n        nuevoEstado=\"cumplido\";\n      }\n\n      this.togglingEstado=true;\n\n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idProyecto:ID!, $idObjetivo:ID!, $nuevoEstado:String!){\n            setEstadoObjetivoProyecto(idProyecto:$idProyecto, idObjetivo:$idObjetivo, nuevoEstado:$nuevoEstado){\n              id\n              estado\n            }\n          }\n        `,\n        variables:{\n          idProyecto:this.idProyecto,\n          idObjetivo:this.esteObjetivo.id,\n          nuevoEstado,\n        }\n      }).then(()=>{\n      this.togglingEstado=false;\n        console.log(`toggled`);\n      }).catch((error)=>{\n        this.togglingEstado=false;\n        console.log(`Error: E:${error}`);\n      })\n    }\n  },\n};\n</script>\n\n<style scoped>\n.ventanitaObjetivo {\n  border: 2px solid #b4b4bd;\n  border-radius: 5px;\n  min-height: 10px;\n\n  position: relative;\n  padding: 5px 10px;\n  padding-bottom: 10px;\n  background-color: rgb(231, 182, 182);\n}\n.ventanitaObjetivo:not(.seleccionado) {\n  cursor: pointer;\n}\n\n.seleccionado {\n  box-shadow: 2px 2px 2px 2px rgb(54, 54, 54);\n  padding-bottom: 25px;\n}\n\n#controlesObjetivo {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  display: flex;\n  flex-direction: row-reverse;\n}\n.controlesObjetivo {\n  padding: 3px 5px;\n  cursor: pointer;\n}\n#descripcion {\n  min-width: 100px;\n  min-height: 50px;\n  border: 2px solid pink;\n  padding: 3px 30px;\n}\n#imagenIcono {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n}\n\n#imagenIcono:hover {\n  background-color: cadetblue;\n}\n.iconoCompletado {\n  background-color: rgb(44, 136, 44);\n}\n\n.zonaPrimerNivel {\n  position: relative;\n  min-height: 50px;\n}\n.barraSuperiorZona {\n  display: flex;\n}\n.nombreZona {\n  font-size: 18px;\n  padding: 5px 20px;\n}\n#nombre {\n  margin-top: 15px;\n  font-size: 19px;\n  padding: 5px 20px;\n  display: grid;\n  grid-template-columns: 1fr 5fr 1fr;\n  margin-bottom: 15px;\n}\n\n#elPropioNombre {\n  font-size: 19px;\n  padding: 5px;\n  font-weight: bolder;\n  text-align: center;\n  grid-column: 2/3;\n}\n\n.inputNuevoNombre {\n  font-size: 23px;\n  display: block;\n  margin: 10px auto;\n  grid-column: 2/3;\n  width: 100%;\n}\n#descripcion {\n  font-size: 19px;\n  width: 95%;\n  margin: 10px auto;\n  padding: 10px;\n  min-height: 100px;\n  resize: vertical;\n  border: none;\n  background-color: transparent;\n  white-space: pre-wrap;\n}\n\n#inputNuevoDescripcion {\n  width: 95%;\n  font-size: 19px;\n  height: 70px;\n  display: block;\n  margin: 10px auto;\n  resize: vertical;\n}\n\n.bEditar {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n\n  cursor: pointer;\n}\n.bEditar:hover {\n  background-color: rgb(209, 209, 209);\n}\n.bGuardar {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.bGuardar:hover {\n  background-color: rgb(209, 209, 209);\n}\n.bEliminar:hover {\n  background-color: red;\n}\n.controlesLateralesZona {\n  grid-column: 3/4;\n  display: flex;\n  flex-direction: row-reverse;\n}\n.controlesZona {\n  margin-left: auto;\n  display: flex;\n  font-size: 13px;\n  flex-direction: row-reverse;\n}\n</style>"]}]}