{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/IteracionRepaso.vue?vue&type=style&index=0&id=6bfa6f1d&scoped=true&lang=css&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/IteracionRepaso.vue","mtime":1648741729541},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLml0ZXJhY2lvblJlcGFzbyB7CiAgZGlzcGxheTogZmxleDsKICBtYXJnaW46IDVweCAwcHg7Cn0KI2Jsb3F1ZUludGVydmFsbyB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGZvbnQtZmFtaWx5OiBTYWxzYSwgY3Vyc2l2ZTsKfQojaW50ZXJ2YWxvewogIHBvc2l0aW9uOnJlbGF0aXZlOwp9CiNpY29ubyB7CiAgd2lkdGg6IDQwcHg7CiAgaGVpZ2h0OiA0MHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgcGFkZGluZzogNXB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KI2ljb25vIGltZyB7CiAgaGVpZ2h0OiAxMDAlOwp9CiNpbnB1dENhbnRpZGFkSW50ZXJ2YWxvIHsKICB3aWR0aDogNTBweDsKICBwYWRkaW5nOiA1cHg7CiAgbWFyZ2luOiA1cHg7Cn0KI2Jsb3F1ZUVkaWNpb25JbnRlcnZhbG8gewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQojcG9yY2VudGFqZVRyYW5zY3Vycmlkb3sKICBwb3NpdGlvbjphYnNvbHV0ZTsKICB0b3A6NTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSBzY2FsZSgxLjEpOwogIGxlZnQ6IC0yJTsKCiAgaGVpZ2h0OiA1MCU7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYXRsYXNDb25vY2ltaWVudG9SZXBhc28pOwp9CiN0ZXh0b0ludGVydmFsb3sKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgei1pbmRleDogMTsKICBtYXJnaW46IDBweCA1cHg7Cn0K"},{"version":3,"sources":["IteracionRepaso.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IteracionRepaso.vue","sourceRoot":"src/components/atlasConocimiento","sourcesContent":["<template>\n  <div class=\"iteracionRepaso\" :class=\"{ deshabilitado: eliminandose }\">\n    <div id=\"bloqueIntervalo\">\n      <div\n        id=\"intervalo\"\n        @click=\"iniciarEdicionIntervalo\"\n        v-show=\"!editandoIntervalo\"\n      >\n      <div id=\"porcentajeTranscurrido\" v-if=\"primero\" :style=\"[{width: porcentajeIntervaloTranscurrido+'%'}]\"></div>\n        <div id=\"textoIntervalo\">\n        {{ intervaloFormateado }}\n        </div>\n  \n      </div>\n      <div id=\"bloqueEdicionIntervalo\" v-show=\"editandoIntervalo\">\n        <input\n          id=\"inputCantidadIntervalo\"\n          v-model=\"nuevoCantidadIntervalo\"\n          :class=\"{deshabilitando: guardandoNuevoIntervalo}\"\n          :max=\"\n            nuevoTipoCantidadIntervalo === 'dia'\n              ? 6\n              : nuevoTipoCantidadIntervalo === 'semana'\n              ? 3\n              : 12\n          \"\n          type=\"number\"\n        />\n        <select v-model=\"nuevoTipoCantidadIntervalo\" :class=\"{deshabilitando: guardandoNuevoIntervalo}\">\n          <option value=\"dia\">Dias</option>\n          <option value=\"semana\">Semanas</option>\n          <option value=\"mes\">Meses</option>\n        </select>\n        <div class=\"boton\" title=\"Guardar\" v-show=\"!guardandoNuevoIntervalo\" @click=\"guardarNuevoIntervalo\">\n          <img src=\"@/assets/iconos/save.svg\" alt=\"Guardar\" />\n        </div>\n        <loading texto=\"\" v-show=\"guardandoNuevoIntervalo\" />\n      </div>\n    </div>\n    <div id=\"icono\" @dblclick=\"eliminarse\" @contextmenu.prevent.stop=\"eliminarse\" :style=\"[colorBolita]\">\n      <img src=\"@/assets/iconos/estudiante.png\" alt=\"Estudiante\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from '../utilidades/Loading.vue';\nexport default {\n  components: { Loading },\n  props: {\n    estaIteracion: Object,\n    idNodo: String,\n    urgente: Boolean,\n    porcentajeIntervaloTranscurrido:Number,\n    primero:Boolean,\n  },\n  name: \"IteracionRepaso\",\n  data() {\n    return {\n      eliminandose: false,\n\n      editandoIntervalo: false,\n      nuevoTipoCantidadIntervalo: \"dia\",\n      nuevoCantidadIntervalo: 1,\n      guardandoNuevoIntervalo:false,\n    };\n  },\n  computed: {\n    intervaloFormateado() {\n      const semana = 604800000;\n      const dia = 86400000;\n      const mes = 2592000000;\n      var cantidad = 0;\n      var textoTipoCantidad = this.tipoCantidadIntervalo;\n      if (this.tipoCantidadIntervalo === \"dia\") {\n        cantidad = this.estaIteracion.intervalo / dia;\n        textoTipoCantidad = \"dÃ­a\";\n      } else if (this.tipoCantidadIntervalo === \"semana\") {\n        cantidad = this.estaIteracion.intervalo / semana;\n        textoTipoCantidad = \"sem\";\n      } else if (this.tipoCantidadIntervalo === \"mes\") {\n        cantidad = this.estaIteracion.intervalo / mes;\n      }\n\n      var texto = cantidad + \" \" + textoTipoCantidad;\n      if (cantidad > 1 && textoTipoCantidad!=\"mes\") {\n        texto += \"s\";\n      }\n\n      return texto;\n    },\n    tipoCantidadIntervalo() {\n      var tipo = \"dia\";\n      if (this.estaIteracion.intervalo > 518400000) {\n        tipo = \"semana\";\n        if (this.estaIteracion.intervalo > 1814400000) {\n          tipo = \"mes\";\n        }\n      }\n      return tipo;\n    },  \n    colorBolita(){\n      var color= \"whitesmoke\";\n      if(this.urgente){\n        color=\"var(--atlasConocimientoRepaso)\";\n      }\n      return {\n        backgroundColor: color\n      }\n    }\n  },\n  methods: {\n      iniciarEdicionIntervalo(){\n          this.nuevoTipoCantidadIntervalo=this.tipoCantidadIntervalo;\n          this.nuevoCantidadIntervalo=1;\n          this.editandoIntervalo=true;\n      },\n    eliminarse() {\n      this.eliminandose = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idUsuario: ID!, $idNodo: ID!, $idIteracion: ID!) {\n              eliminarIteracionRepaso(\n                idUsuario: $idUsuario\n                idNodo: $idNodo\n                idIteracion: $idIteracion\n              )\n            }\n          `,\n          variables: {\n            idUsuario: this.usuario.id,\n            idNodo: this.idNodo,\n            idIteracion: this.estaIteracion.id,\n          },\n        })\n        .then(() => {\n          this.eliminandose = false;\n          this.$emit(\"meElimine\");\n        })\n        .catch((error) => {\n          this.eliminandose = false;\n          console.log(`Error: ${error}`);\n        });\n    },\n    guardarNuevoIntervalo(){\n        if(this.nuevoCantidadIntervalo<1){\n            return;\n        }\n        const semana = 604800000;\n        const dia = 86400000;\n        const mes = 2592000000;\n        var nuevoIntervalo=0;\n        if(this.nuevoTipoCantidadIntervalo==='dia'){\n            if(this.nuevoCantidadIntervalo>6){\n                return;\n            }\n            nuevoIntervalo=dia*this.nuevoCantidadIntervalo;\n        }\n        else if(this.nuevoTipoCantidadIntervalo==='semana'){\n            if(this.nuevoCantidadIntervalo>3){\n                return;\n            }\n            nuevoIntervalo=semana*this.nuevoCantidadIntervalo;\n\n        }\n        else if(this.nuevoTipoCantidadIntervalo==='mes'){\n            if(this.nuevoCantidadIntervalo>12){\n                return;\n            }\n            nuevoIntervalo=mes*this.nuevoCantidadIntervalo;\n        }            \n        \n        if(nuevoIntervalo===0 || nuevoIntervalo===this.estaIteracion.intervalo){\n            return;\n        }\n            this.guardandoNuevoIntervalo=true;\n\n        this.$apollo.mutate({\n            mutation: gql`\n                mutation($idUsuario: ID!, $idNodo:ID!, $idIteracion:ID!, $nuevoIntervalo:Float!){\n                    setIntervaloIteracionRepaso(idUsuario: $idUsuario, idNodo: $idNodo, idIteracion: $idIteracion, nuevoIntervalo: $nuevoIntervalo){\n                        id\n                        intervalo\n                    }\n                }\n            `,\n            variables:{\n                idUsuario: this.usuario.id,\n                idNodo:this.idNodo,\n                idIteracion: this.estaIteracion.id,\n                nuevoIntervalo\n            }\n        }).then(()=>{\n            this.guardandoNuevoIntervalo=false;\n            this.editandoIntervalo=false;\n        }).catch((error)=>{\n            console.log(`Error: ${error}`);\n            this.guardandoNuevoIntervalo=false;\n        })\n    }\n  },\n};\n</script>\n\n<style scoped>\n.iteracionRepaso {\n  display: flex;\n  margin: 5px 0px;\n}\n#bloqueIntervalo {\n  display: flex;\n  align-items: center;\n  font-family: Salsa, cursive;\n}\n#intervalo{\n  position:relative;\n}\n#icono {\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  border-radius: 50%;\n  padding: 5px;\n  box-sizing: border-box;\n}\n#icono img {\n  height: 100%;\n}\n#inputCantidadIntervalo {\n  width: 50px;\n  padding: 5px;\n  margin: 5px;\n}\n#bloqueEdicionIntervalo {\n  display: flex;\n  align-items: center;\n}\n#porcentajeTranscurrido{\n  position:absolute;\n  top:50%;\n  transform: translateY(-50%) scale(1.1);\n  left: -2%;\n\n  height: 50%;\n  background-color: var(--atlasConocimientoRepaso);\n}\n#textoIntervalo{\n  position: relative;\n  z-index: 1;\n  margin: 0px 5px;\n}\n</style>"]}]}