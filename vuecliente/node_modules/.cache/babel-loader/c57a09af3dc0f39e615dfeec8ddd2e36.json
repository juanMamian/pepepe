{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/Proyectos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/Proyectos.vue","mtime":1643654906492},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICAgIG11dGF0aW9uKCRpZFByb3llY3RvOklEISl7XG4gICAgICAgICAgICBlbGltaW5hclByb3llY3RvKGlkUHJveWVjdG86ICRpZFByb3llY3RvKVxuICAgICAgICAgIH1cbiAgICAgICAgIl0pOwoKICBfdGVtcGxhdGVPYmplY3QzID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MygpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICAgIG11dGF0aW9ue1xuICAgICAgICAgICAgY3JlYXJQcm95ZWN0b3tcbiAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgbm9tYnJlXG4gICAgICAgICAgICAgIHJlc3BvbnNhYmxlcyAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdDIgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbnF1ZXJ5IHtcbiAgICBwcm95ZWN0b3Mge1xuICAgICAgaWRcbiAgICAgIG5vbWJyZVxuICAgICAgcmVzcG9uc2FibGVzXG4gICAgfVxuICB9XG4iXSk7CgogIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZ3FsIGZyb20gImdyYXBocWwtdGFnIjsKaW1wb3J0IEljb25vUHJveWVjdG8gZnJvbSAiLi9wcm95ZWN0b3MvSWNvbm9Qcm95ZWN0by52dWUiOwppbXBvcnQgTG9hZGluZyBmcm9tICcuL3V0aWxpZGFkZXMvTG9hZGluZy52dWUnOwp2YXIgUVVFUllfUFJPWUVDVE9TID0gZ3FsKF90ZW1wbGF0ZU9iamVjdCgpKTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEljb25vUHJveWVjdG86IEljb25vUHJveWVjdG8sCiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBuYW1lOiAiUHJveWVjdG9zIiwKICBhcG9sbG86IHsKICAgIHByb3llY3RvczogewogICAgICBxdWVyeTogUVVFUllfUFJPWUVDVE9TLAogICAgICBmZXRjaFBvbGljeTogImNhY2hlLWFuZC1uZXR3b3JrIiwKICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoX3JlZikgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHZhciBwcm95ZWN0b3MgPSBfcmVmLnByb3llY3RvczsKICAgICAgICByZXR1cm4gcHJveWVjdG9zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHZhciByZXMgPSAwOwoKICAgICAgICAgIGlmIChhLnJlc3BvbnNhYmxlcy5zb21lKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgIHJldHVybiByLmlkID09IF90aGlzLiRzdG9yZS5zdGF0ZS51c3VhcmlvLmlkOwogICAgICAgICAgfSkpIHsKICAgICAgICAgICAgcmVzLS07CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGIucmVzcG9uc2FibGVzLnNvbWUoZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgcmV0dXJuIHIuaWQgPT0gX3RoaXMuJHN0b3JlLnN0YXRlLnVzdWFyaW8uaWQ7CiAgICAgICAgICB9KSkgewogICAgICAgICAgICByZXMrKzsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICByZXR1cm4gcmVzOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJveWVjdG9zOiBbXSwKICAgICAgaWRQcm95ZWN0b1NlbGVjY2lvbmFkbzogbnVsbCwKICAgICAgbG9hZGluZzogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWFyTnVldm9Qcm95ZWN0bzogZnVuY3Rpb24gY3JlYXJOdWV2b1Byb3llY3RvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJDcmVhbmRvIG51ZXZvIHByb3llY3RvIik7CiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiBncWwoX3RlbXBsYXRlT2JqZWN0MigpKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBjcmVhclByb3llY3RvID0gX3JlZjIuZGF0YS5jcmVhclByb3llY3RvOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCcvcHJveWVjdG8vJyArIGNyZWFyUHJveWVjdG8uaWQpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3I6ICIuY29uY2F0KGVycm9yLmVycm9ycykpOwogICAgICB9KTsKICAgIH0sCiAgICBlbGltaW5hclByb3llY3RvOiBmdW5jdGlvbiBlbGltaW5hclByb3llY3RvKGlkUHJveWVjdG8pIHsKICAgICAgaWYgKCFjb25maXJtKCLCv0NvbmZpcm1hciBsYSBlbGltaW5hY2nDs24gZGVsIGdydXBvPyAoRXN0YSBhY2Npw7NuIG5vIHNlIHB1ZWRlIGRlc2hhY2VyKSIpKSByZXR1cm47CiAgICAgIGNvbnNvbGUubG9nKCJFbGltaW5hbmRvIHByb3llY3RvICIuY29uY2F0KGlkUHJveWVjdG8pKTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QzKCkpLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWRQcm95ZWN0bzogaWRQcm95ZWN0bwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoc3RvcmUsIF9yZWYzKSB7CiAgICAgICAgICB2YXIgZWxpbWluYXJQcm95ZWN0byA9IF9yZWYzLmRhdGEuZWxpbWluYXJQcm95ZWN0bzsKICAgICAgICAgIGNvbnNvbGUubG9nKCJBY3R1YWxpemFuZG8gY2FjaGUiKTsKCiAgICAgICAgICBpZiAoZWxpbWluYXJQcm95ZWN0bykgewogICAgICAgICAgICB2YXIgY2FjaGUgPSBzdG9yZS5yZWFkUXVlcnkoewogICAgICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9QUk9ZRUNUT1MKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwogICAgICAgICAgICB2YXIgaW5kZXhQID0gbnVldm9DYWNoZS5wcm95ZWN0b3MuZmluZEluZGV4KGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHAuaWQgPT0gaWRQcm95ZWN0bzsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoaW5kZXhQID4gLTEpIHsKICAgICAgICAgICAgICBudWV2b0NhY2hlLnByb3llY3Rvcy5zcGxpY2UoaW5kZXhQLCAxKTsKICAgICAgICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9QUk9ZRUNUT1MsCiAgICAgICAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNhY2hceEU5IGFjdHVhbGl6YWRvIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIk5vIGV4aXN0XHhFRGEgZXNlIHByb3llY3RvIGVuIGVsIGNhY2hlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvci4gRToiLmNvbmNhdChlcnJvcikpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VybmFtZTogZnVuY3Rpb24gdXNlcm5hbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c3VhcmlvLnVzZXJuYW1lOwogICAgfSwKICAgIHByb3llY3Rvc09yZGVuYWRvc1NlZ3VuVXN1YXJpbzogZnVuY3Rpb24gcHJveWVjdG9zT3JkZW5hZG9zU2VndW5Vc3VhcmlvKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy51c3VhcmlvIHx8ICF0aGlzLnVzdWFyaW8uaWQpIHJldHVybiB0aGlzLnByb3llY3RvczsKICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnByb3llY3Rvcykuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHZhciByZXNwID0gMDsKICAgICAgICBpZiAoYS5yZXNwb25zYWJsZXMuaW5jbHVkZXMoX3RoaXMzLnVzdWFyaW8uaWQpKSByZXNwLS07CiAgICAgICAgaWYgKGIucmVzcG9uc2FibGVzLmluY2x1ZGVzKF90aGlzMy51c3VhcmlvLmlkKSkgcmVzcCsrOwogICAgICAgIHJldHVybiByZXNwOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Proyectos.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"proyectos\">\n    <center><h3>Grupos</h3></center>\n    <div id=\"controles\" v-show=\"!loading\">\n      <div\n        v-if=\"usuarioLogeado\"\n        id=\"crearProyecto\"\n        class=\"controles hoverGris\"\n        @click=\"crearNuevoProyecto\"\n      >\n        Crear nuevo grupo\n      </div>\n      <div\n        v-if=\"\n          usuarioSuperadministrador &&\n          proyectos.some((p) => p.id == idProyectoSeleccionado)\n        \"\n        id=\"bEliminarProyecto\"\n        class=\"controles hoverGris\"\n        @click=\"eliminarProyecto(idProyectoSeleccionado)\"\n      >\n        Eliminar grupo\n      </div>\n    </div>\n    <div id=\"listaProyectos\" @click.self=\"idProyectoSeleccionado=null\">\n      <loading texto=\"Cargando lista de grupos...\" v-show=\"loading\"/>\n      <icono-proyecto\n        v-for=\"proyecto of proyectosOrdenadosSegunUsuario\"\n        :key=\"proyecto.id\"\n        :esteProyecto=\"proyecto\"\n        :seleccionado=\"idProyectoSeleccionado == proyecto.id\"\n        @click.native=\"idProyectoSeleccionado = proyecto.id\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport IconoProyecto from \"./proyectos/IconoProyecto.vue\";\nimport Loading from './utilidades/Loading.vue';\n\nconst QUERY_PROYECTOS=gql`\nquery {\n    proyectos {\n      id\n      nombre\n      responsables\n    }\n  }\n`;\n\nexport default {\n  components: { IconoProyecto, Loading },\n  name: \"Proyectos\",\n  apollo: {\n    proyectos: {\n      query: QUERY_PROYECTOS,\n      fetchPolicy: \"cache-and-network\",\n      update:function({proyectos}){\n        return proyectos.sort((a, b)=>{\n          let res=0;\n          if(a.responsables.some(r=>r.id==this.$store.state.usuario.id)){\n            res--;\n          }\n          if(b.responsables.some(r=>r.id==this.$store.state.usuario.id)){\n            res++;\n          }\n          this.loading=false;\n          return res;\n        })\n      }\n    },\n  },\n  data() {\n    return {\n      proyectos: [],\n      idProyectoSeleccionado:null,\n      loading:true,\n    };\n  },\n  methods:{\n    crearNuevoProyecto(){\n      console.log(`Creando nuevo proyecto`);\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation{\n            crearProyecto{\n              id\n              nombre\n              responsables              \n            }\n          }\n        `,\n      }).then(({data:{crearProyecto}})=>{\n        this.$router.push('/proyecto/'+crearProyecto.id);\n      }).catch((error)=>{\n        console.log(`Error: ${error.errors}`);\n      });\n    },\n    eliminarProyecto(idProyecto){\n      if(!confirm(\"¿Confirmar la eliminación del grupo? (Esta acción no se puede deshacer)\"))return\n      console.log(`Eliminando proyecto ${idProyecto}`);\n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idProyecto:ID!){\n            eliminarProyecto(idProyecto: $idProyecto)\n          }\n        `,\n        variables:{\n          idProyecto\n        },\n        update: (store, {data:{eliminarProyecto}})=>{\n          console.log(`Actualizando cache`);\n          if(eliminarProyecto){\n            let cache=store.readQuery({query: QUERY_PROYECTOS});\n            let nuevoCache=JSON.parse(JSON.stringify(cache));\n            let indexP=nuevoCache.proyectos.findIndex(p=>p.id==idProyecto);\n            if(indexP>-1){\n              nuevoCache.proyectos.splice(indexP, 1);\n              store.writeQuery({query: QUERY_PROYECTOS, data: nuevoCache});\n              console.log(`Caché actualizado`);\n            }\n            else{\n              console.log(`No existía ese proyecto en el cache`);\n            }\n            \n          }\n        }\n      }).then(()=>{\n\n      }).catch((error)=>{\n        console.log(`Error. E:${error}`);\n      })\n    }\n  },\n  computed:{\n    username:function(){\n      return this.$store.state.usuario.username;\n    },\n    proyectosOrdenadosSegunUsuario(){\n      if(!this.usuario || !this.usuario.id)return this.proyectos;\n\n      return [...this.proyectos].sort((a, b)=>{\n        var resp=0;\n        if(a.responsables.includes(this.usuario.id))resp--;\n        if(b.responsables.includes(this.usuario.id))resp++;\n        return resp;\n      })\n    }\n  }\n\n};\n</script>\n\n<style scoped>\n.loading{\n  margin: 20px auto;\n}\n#listaProyectos {\n  display: flex;\n  padding-left: 30px;\n  padding-right: 30px;\n  max-width: 100%;\n  flex-flow: row wrap;\n}\n\n#controles {\n  display: flex;\n}\n.controles {\n  padding: 5px;\n  cursor: pointer;\n}\n</style>"],"sourceRoot":"src/components"}]}