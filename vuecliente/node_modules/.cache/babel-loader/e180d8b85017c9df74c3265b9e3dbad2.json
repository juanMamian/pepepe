{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/eslint-loader/index.js??ref--13-0!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasSolidaridad/MixinAtlasSolidaridad.js","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasSolidaridad/MixinAtlasSolidaridad.js","mtime":1644587546122},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3ZpZGExL3dlYnBqL3BlcGVwZS92dWVjbGllbnRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIGZyb20gIi9ob21lL3ZpZGExL3dlYnBqL3BlcGVwZS92dWVjbGllbnRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90YWdnZWRUZW1wbGF0ZUxpdGVyYWwiOwoKZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NygpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgIHF1ZXJ5KCRpbmZvTm9kb3M6IFtJbmZvTm9kb0RlQXRsYXNTb2xpZGFyaWRhZCFdISkge1xuICAgICAgICAgICAgICByZWxhY2lvbmVzTm9kb3NBdGxhc0J5SWRzKGluZm9Ob2RvczogJGluZm9Ob2Rvcykge1xuICAgICAgICAgICAgICAgICAgbm9kb3NTb2xpZGFyaWRhZCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmZyYWdOb2RvU29saWRhcmlkYWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBwZXJzb25hcyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmZyYWdQZXJzb25hQXRsYXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICIsICJcbiAgICAgICAgICAgICIsICJcbiAgICAgICAgICAgICJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0NyA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDcoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NigpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICBzdWJzY3JpcHRpb24ge1xuICAgICAgICAgICAgbm9kb3NFbGltaW5hZG9zXG4gICAgICAgICAgfVxuICAgICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdDYgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q2KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDUoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgc3Vic2NyaXB0aW9uICgkY2VudHJvOiBDb29yZHNJbnB1dCEsICRyYWRpbzogSW50ISkge1xuICAgICAgICAgICAgbm9kb0VsaW1pbmFkbyhjZW50cm86ICRjZW50cm8sIHJhZGlvOiAkcmFkaW8pXG4gICAgICAgICAgfVxuICAgICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdDUgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q1KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDQoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgc3Vic2NyaXB0aW9uICgkY2VudHJvOiBDb29yZHNJbnB1dCEsICRyYWRpbzogSW50ISkge1xuICAgICAgICAgICAgbm9kb0VkaXRhZG8oY2VudHJvOiAkY2VudHJvLCByYWRpbzogJHJhZGlvKSB7XG4gICAgICAgICAgICAgIC4uLmZyYWdOb2RvU29saWRhcmlkYWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgIiwgIlxuICAgICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdDQgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q0KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDMoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgIHF1ZXJ5KCRpZE5vZG86IElEISwgJHRpcG9Ob2RvOiBTdHJpbmchKXtcbiAgICAgICAgICBub2RvQXRsYXNTb2xpZGFyaWRhZEJ5SWRBbmRUaXBvKGlkTm9kbzokaWROb2RvLCB0aXBvTm9kbzogJHRpcG9Ob2RvKXtcbiAgICAgICAgICAgIG5vZG9Tb2xpZGFyaWRhZHtcbiAgICAgICAgICAgICAgLi4uZnJhZ05vZG9Tb2xpZGFyaWRhZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVyc29uYXtcbiAgICAgICAgICAgICAgLi4uZnJhZ1BlcnNvbmFBdGxhc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAiLCAiXG4gICAgICAgICIsICJcbiAgICAgICJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0MyA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDMoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICBxdWVyeXtcbiAgICAgIHBlcnNvbmFze1xuICAgICAgICAuLi5mcmFnUGVyc29uYUF0bGFzXG4gICAgICB9XG4gICAgfVxuICAgICIsICJcbiJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0MiA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgIHF1ZXJ5e1xuICAgICAgbm9kb3NTb2xpZGFyaWRhZHtcbiAgICAgICAgLi4uZnJhZ05vZG9Tb2xpZGFyaWRhZFxuICAgICAgfVxuICAgIH1cbiAgICAiLCAiXG4gICAgIl0pOwoKICBfdGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKaW1wb3J0IGdxbCBmcm9tICJncmFwaHFsLXRhZyI7CmltcG9ydCBkZWJvdW5jZSBmcm9tICJkZWJvdW5jZSI7CmltcG9ydCB7IGZyYWdtZW50b05vZG9Tb2xpZGFyaWRhZCwgZnJhZ21lbnRvUGVyc29uYUF0bGFzIH0gZnJvbSAiLi9mcmFncyI7CmV4cG9ydCB2YXIgUVVFUllfTk9ET1NfU09MSURBUklEQUQgPSBncWwoX3RlbXBsYXRlT2JqZWN0KCksIGZyYWdtZW50b05vZG9Tb2xpZGFyaWRhZCk7CmV4cG9ydCB2YXIgUVVFUllfUEVSU09OQVMgPSBncWwoX3RlbXBsYXRlT2JqZWN0MigpLCBmcmFnbWVudG9QZXJzb25hQXRsYXMpOwpleHBvcnQgdmFyIE1peGluQXRsYXNTb2xpZGFyaWRhZCA9IHsKICBhcG9sbG86IHsKICAgIG5vZG9Sb290OiB7CiAgICAgIHF1ZXJ5OiBncWwoX3RlbXBsYXRlT2JqZWN0MygpLCBmcmFnbWVudG9Ob2RvU29saWRhcmlkYWQsIGZyYWdtZW50b1BlcnNvbmFBdGxhcyksCiAgICAgIHZhcmlhYmxlczogZnVuY3Rpb24gdmFyaWFibGVzKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZE5vZG86IHRoaXMuaWROb2RvUm9vdCwKICAgICAgICAgIHRpcG9Ob2RvOiB0aGlzLnRpcG9Ob2RvUm9vdAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHNraXA6IGZ1bmN0aW9uIHNraXAoKSB7CiAgICAgICAgcmV0dXJuICF0aGlzLmlkTm9kb1Jvb3Q7CiAgICAgIH0sCiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKF9yZWYpIHsKICAgICAgICB2YXIgbm9kb0F0bGFzU29saWRhcmlkYWRCeUlkQW5kVGlwbyA9IF9yZWYubm9kb0F0bGFzU29saWRhcmlkYWRCeUlkQW5kVGlwbzsKICAgICAgICB2YXIgbm9kb3NTb2xpZGFyaWRhZCA9IG5vZG9BdGxhc1NvbGlkYXJpZGFkQnlJZEFuZFRpcG8ubm9kb1NvbGlkYXJpZGFkID8gW25vZG9BdGxhc1NvbGlkYXJpZGFkQnlJZEFuZFRpcG8ubm9kb1NvbGlkYXJpZGFkXSA6IFtdOwogICAgICAgIHZhciBwZXJzb25hcyA9IG5vZG9BdGxhc1NvbGlkYXJpZGFkQnlJZEFuZFRpcG8ucGVyc29uYSA/IFtub2RvQXRsYXNTb2xpZGFyaWRhZEJ5SWRBbmRUaXBvLnBlcnNvbmFdIDogW107CgogICAgICAgIGlmICghdGhpcy5jYWNoZU5vZG9zSW5pY2lhbGl6YWRvKSB7CiAgICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgICAgIHN0b3JlLndyaXRlUXVlcnkoewogICAgICAgICAgICBxdWVyeTogUVVFUllfTk9ET1NfU09MSURBUklEQUQsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBub2Rvc1NvbGlkYXJpZGFkOiBub2Rvc1NvbGlkYXJpZGFkCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9QRVJTT05BUywKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIHBlcnNvbmFzOiBwZXJzb25hcwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY2FjaGVOb2Rvc0luaWNpYWxpemFkbyA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAobm9kb0F0bGFzU29saWRhcmlkYWRCeUlkQW5kVGlwby5ub2RvU29saWRhcmlkYWQpIHsKICAgICAgICAgIHJldHVybiBub2RvQXRsYXNTb2xpZGFyaWRhZEJ5SWRBbmRUaXBvLm5vZG9Tb2xpZGFyaWRhZDsKICAgICAgICB9IGVsc2UgaWYgKG5vZG9BdGxhc1NvbGlkYXJpZGFkQnlJZEFuZFRpcG8ucGVyc29uYSkgewogICAgICAgICAgcmV0dXJuIG5vZG9BdGxhc1NvbGlkYXJpZGFkQnlJZEFuZFRpcG8ucGVyc29uYTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coIkZhbGxvIGFsIG9idGVuZXIgbm9kb1Jvb3QiKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG5vZG9zU29saWRhcmlkYWQ6IHsKICAgICAgcXVlcnk6IFFVRVJZX05PRE9TX1NPTElEQVJJREFELAogICAgICBmZXRjaFBvbGljeTogImNhY2hlLW9ubHkiLAogICAgICBza2lwOiBmdW5jdGlvbiBza2lwKCkgewogICAgICAgIHJldHVybiAhdGhpcy5ub2RvUm9vdDsKICAgICAgfQogICAgfSwKICAgIHBlcnNvbmFzOiB7CiAgICAgIHF1ZXJ5OiBRVUVSWV9QRVJTT05BUywKICAgICAgZmV0Y2hQb2xpY3k6ICJjYWNoZS1vbmx5IiwKICAgICAgc2tpcDogZnVuY3Rpb24gc2tpcCgpIHsKICAgICAgICByZXR1cm4gIXRoaXMubm9kb1Jvb3Q7CiAgICAgIH0KICAgIH0sCiAgICAkc3Vic2NyaWJlOiB7CiAgICAgIG5vZG9FZGl0YWRvOiB7CiAgICAgICAgcXVlcnk6IGdxbChfdGVtcGxhdGVPYmplY3Q0KCksIGZyYWdtZW50b05vZG9Tb2xpZGFyaWRhZCksCiAgICAgICAgdmFyaWFibGVzOiBmdW5jdGlvbiB2YXJpYWJsZXMoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjZW50cm86IHsKICAgICAgICAgICAgICB4OiAwLAogICAgICAgICAgICAgIHk6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmFkaW86IDAKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmMikgewogICAgICAgICAgdmFyIG5vZG9FZGl0YWRvID0gX3JlZjIuZGF0YS5ub2RvRWRpdGFkbzsKICAgICAgICAgIGNvbnNvbGUubG9nKCJub2RvICIuY29uY2F0KG5vZG9FZGl0YWRvLm5vbWJyZSwgIiBlZGl0YWRvIikpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbm9kb0VsaW1pbmFkbzogewogICAgICAgIHF1ZXJ5OiBncWwoX3RlbXBsYXRlT2JqZWN0NSgpKSwKICAgICAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNlbnRybzogewogICAgICAgICAgICAgIHg6IDAsCiAgICAgICAgICAgICAgeTogMAogICAgICAgICAgICB9LAogICAgICAgICAgICByYWRpbzogMAogICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIHJlc3VsdDogZnVuY3Rpb24gcmVzdWx0KF9yZWYzKSB7CiAgICAgICAgICB2YXIgbm9kb0VsaW1pbmFkbyA9IF9yZWYzLmRhdGEubm9kb0VsaW1pbmFkbzsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFbGltaW5hbmRvIGRlIGNhY2hlIGEgIi5jb25jYXQobm9kb0VsaW1pbmFkbykpOwogICAgICAgICAgdGhpcy5lbGltaW5hck5vZG9DYWNoZShub2RvRWxpbWluYWRvKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5vZG9zRWxpbWluYWRvczogewogICAgICAgIHF1ZXJ5OiBncWwoX3RlbXBsYXRlT2JqZWN0NigpKSwKICAgICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmNCkgewogICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgICB2YXIgbm9kb3NFbGltaW5hZG9zID0gX3JlZjQuZGF0YS5ub2Rvc0VsaW1pbmFkb3M7CiAgICAgICAgICBjb25zb2xlLmxvZygiRWxpbWluYW5kbyBkZSBjYWNoZSBhICIuY29uY2F0KG5vZG9zRWxpbWluYWRvcykpOwogICAgICAgICAgbm9kb3NFbGltaW5hZG9zLmZvckVhY2goZnVuY3Rpb24gKG5lKSB7CiAgICAgICAgICAgIF90aGlzLnJlbW92ZU5vZG9Gcm9tTm9kb3NTb2xpZGFyaWRhZChuZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRvc1lvRGVzY2FyZ2Fkb3M6IGZhbHNlLAogICAgICBub2Rvc1NvbGlkYXJpZGFkOiBbXSwKICAgICAgcGVyc29uYXM6IFtdLAogICAgICBpZHNOb2Rvc0V2ZXJQYXNzZWRUb0ZldGNoTW9yZTogW10sCiAgICAgIGluZm9Ob2Rvc0V2ZXJSZW5kZXJlZDogW10sCiAgICAgIGNhY2hlTm9kb3NJbmljaWFsaXphZG86IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYWRkTm9kb1RvTm9kb3NTb2xpZGFyaWRhZDogZnVuY3Rpb24gYWRkTm9kb1RvTm9kb3NTb2xpZGFyaWRhZChudWV2b05vZG8pIHsKICAgICAgY29uc29sZS5sb2coIkFkZGluZyBudWV2byBub2RvIGEgbm9kb3NTb2xpZGFyaWRhZCIpOwogICAgICB2YXIgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgdmFyIGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfTk9ET1NfU09MSURBUklEQUQKICAgICAgfSk7CiAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwogICAgICB2YXIgaW5kZXhOID0gbnVldm9DYWNoZS5ub2Rvc1NvbGlkYXJpZGFkLmZpbmRJbmRleChmdW5jdGlvbiAobikgewogICAgICAgIHJldHVybiBuLmlkID09PSBudWV2b05vZG8uaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4TiA9PT0gLTEpIHsKICAgICAgICBudWV2b0NhY2hlLm5vZG9zU29saWRhcmlkYWQucHVzaChudWV2b05vZG8pOwogICAgICAgIHN0b3JlLndyaXRlUXVlcnkoewogICAgICAgICAgcXVlcnk6IFFVRVJZX05PRE9TX1NPTElEQVJJREFELAogICAgICAgICAgZGF0YTogbnVldm9DYWNoZQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmlkTm9kb1NlbGVjY2lvbmFkbyA9IG51ZXZvTm9kby5pZDsKICAgIH0sCiAgICByZW1vdmVOb2RvRnJvbU5vZG9zU29saWRhcmlkYWQ6IGZ1bmN0aW9uIHJlbW92ZU5vZG9Gcm9tTm9kb3NTb2xpZGFyaWRhZChpZCkgewogICAgICBpZiAodGhpcy5pZE5vZG9TZWxlY2Npb25hZG8gPT09IGlkKSB7CiAgICAgICAgdGhpcy5pZE5vZG9TZWxlY2Npb25hZG8gPSBudWxsOwogICAgICB9CgogICAgICB2YXIgc3RvcmUgPSB0aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgdmFyIGNhY2hlID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICBxdWVyeTogUVVFUllfTk9ET1NfU09MSURBUklEQUQKICAgICAgfSk7CiAgICAgIHZhciBudWV2b0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZSkpOwogICAgICB2YXIgaW5kZXhOID0gbnVldm9DYWNoZS5ub2Rvc1NvbGlkYXJpZGFkLmZpbmRJbmRleChmdW5jdGlvbiAobikgewogICAgICAgIHJldHVybiBuLmlkID09PSBpZDsKICAgICAgfSk7CgogICAgICBpZiAoaW5kZXhOID4gLTEpIHsKICAgICAgICBudWV2b0NhY2hlLm5vZG9zU29saWRhcmlkYWQuc3BsaWNlKGluZGV4TiwgMSk7CiAgICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgICBxdWVyeTogUVVFUllfTk9ET1NfU09MSURBUklEQUQsCiAgICAgICAgICBkYXRhOiBudWV2b0NhY2hlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaFJlbGFjaW9uZXNOb2Rvc05lZWRpbmdGZXRjaE1vcmU6IGRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRhcG9sbG8ucXVlcnkoewogICAgICAgIHF1ZXJ5OiBncWwoX3RlbXBsYXRlT2JqZWN0NygpLCBmcmFnbWVudG9Ob2RvU29saWRhcmlkYWQsIGZyYWdtZW50b1BlcnNvbmFBdGxhcyksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpbmZvTm9kb3M6IHRoaXMuaW5mb05vZG9zTmVlZGluZ0ZldGNoTW9yZQogICAgICAgIH0sCiAgICAgICAgZmV0Y2hQb2xpY3k6ICJuZXR3b3JrLW9ubHkiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgdmFyIF9udWV2b0NhY2hlTlMkbm9kb3NTbywgX251ZXZvQ2FjaGVQJHBlcnNvbmFzOwoKICAgICAgICB2YXIgcmVsYWNpb25lc05vZG9zQXRsYXNCeUlkcyA9IF9yZWY1LmRhdGEucmVsYWNpb25lc05vZG9zQXRsYXNCeUlkczsKICAgICAgICBfdGhpczIuaWRzTm9kb3NFdmVyUGFzc2VkVG9GZXRjaE1vcmUgPSBhcnJheVVuaXF1ZShfdGhpczIuaWRzTm9kb3NFdmVyUGFzc2VkVG9GZXRjaE1vcmUuY29uY2F0KF90aGlzMi5pZHNOb2Rvc05lZWRpbmdGZXRjaE1vcmUpKTsgLy9BZGQgdG8gY2FjaGUgZGUgbm9kb3NTb2xpZGFyaWRhZAoKICAgICAgICB2YXIgaWRzQWN0dWFsZXNOb2Rvc1NvbGlkYXJpZGFkID0gX3RoaXMyLm5vZG9zU29saWRhcmlkYWQubWFwKGZ1bmN0aW9uIChucykgewogICAgICAgICAgcmV0dXJuIG5zLmlkOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgc3RvcmUgPSBfdGhpczIuJGFwb2xsby5wcm92aWRlci5kZWZhdWx0Q2xpZW50OwogICAgICAgIHZhciBjYWNoZU5TID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9OT0RPU19TT0xJREFSSURBRAogICAgICAgIH0pOwogICAgICAgIHZhciBudWV2b0NhY2hlTlMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhY2hlTlMpKTsKICAgICAgICBpZiAoIW51ZXZvQ2FjaGVOUy5ub2Rvc1NvbGlkYXJpZGFkKSBudWV2b0NhY2hlTlMubm9kb3NTb2xpZGFyaWRhZCA9IFtdOwoKICAgICAgICAoX251ZXZvQ2FjaGVOUyRub2Rvc1NvID0gbnVldm9DYWNoZU5TLm5vZG9zU29saWRhcmlkYWQpLnB1c2guYXBwbHkoX251ZXZvQ2FjaGVOUyRub2Rvc1NvLCBfdG9Db25zdW1hYmxlQXJyYXkocmVsYWNpb25lc05vZG9zQXRsYXNCeUlkcy5ub2Rvc1NvbGlkYXJpZGFkLmZpbHRlcihmdW5jdGlvbiAobnMpIHsKICAgICAgICAgIHJldHVybiAhaWRzQWN0dWFsZXNOb2Rvc1NvbGlkYXJpZGFkLmluY2x1ZGVzKG5zLmlkKTsKICAgICAgICB9KSkpOwoKICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9OT0RPU19TT0xJREFSSURBRCwKICAgICAgICAgIGRhdGE6IG51ZXZvQ2FjaGVOUwogICAgICAgIH0pOyAvL0FkZCB0byBjYWNoZSBkZSBwZXJzb25hcwoKICAgICAgICB2YXIgaWRzQWN0dWFsZXNQZXJzb25hcyA9IF90aGlzMi5wZXJzb25hcy5tYXAoZnVuY3Rpb24gKHApIHsKICAgICAgICAgIHJldHVybiBwLmlkOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgY2FjaGVQID0gc3RvcmUucmVhZFF1ZXJ5KHsKICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9QRVJTT05BUwogICAgICAgIH0pOwogICAgICAgIHZhciBudWV2b0NhY2hlUCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2FjaGVQKSk7CiAgICAgICAgaWYgKCFudWV2b0NhY2hlTlMucGVyc29uYXMpIG51ZXZvQ2FjaGVOUy5ub2Rvc1NvbGlkYXJpZGFkID0gW107CgogICAgICAgIChfbnVldm9DYWNoZVAkcGVyc29uYXMgPSBudWV2b0NhY2hlUC5wZXJzb25hcykucHVzaC5hcHBseShfbnVldm9DYWNoZVAkcGVyc29uYXMsIF90b0NvbnN1bWFibGVBcnJheShyZWxhY2lvbmVzTm9kb3NBdGxhc0J5SWRzLnBlcnNvbmFzLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuICFpZHNBY3R1YWxlc1BlcnNvbmFzLmluY2x1ZGVzKHAuaWQpOwogICAgICAgIH0pKSk7CgogICAgICAgIHN0b3JlLndyaXRlUXVlcnkoewogICAgICAgICAgcXVlcnk6IFFVRVJZX1BFUlNPTkFTLAogICAgICAgICAgZGF0YTogbnVldm9DYWNoZVAKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LCAyMDAwKQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGluZGljZU5vZG9zVW5kZXI6IGZ1bmN0aW9uIGluZGljZU5vZG9zVW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubm9kb3NTb2xpZGFyaWRhZC5sZW5ndGggKyB0aGlzLnBlcnNvbmFzLmxlbmd0aCA8IDEpIHJldHVybiBudWxsOwogICAgICB2YXIgb2JqZXRvRmluYWwgPSB7fTsKICAgICAgdGhpcy50b2Rvc05vZG9zLmZvckVhY2goZnVuY3Rpb24gKG5vZG8pIHsKICAgICAgICB2YXIgaWRzVmluY3Vsb3MgPSBub2RvLnZpbmN1bG9zLmZpbHRlcihmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYudGlwbyA9PT0gInJlcXVpZXJlIjsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiB2LmlkUmVmOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgcmVxdWVyaWRvcyA9IF90aGlzMy5ub2Rvc1NvbGlkYXJpZGFkLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIGlkc1ZpbmN1bG9zLmluY2x1ZGVzKG4uaWQpOwogICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBpZHNWaW5jdWxvcy5pbmRleE9mKGEuaWQpIC0gaWRzVmluY3Vsb3MuaW5kZXhPZihiLmlkKTsKICAgICAgICB9KTsKCiAgICAgICAgdmFyIGNoaWxkcmVuID0gcmVxdWVyaWRvcy5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIHJldHVybiBuLm5vZG9QYXJlbnQgPT09IG5vZG8uaWQ7CiAgICAgICAgfSk7CgogICAgICAgIHZhciByZXNwb25zYWJsZXMgPSBfdGhpczMucGVyc29uYXMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICByZXR1cm4gbm9kby5yZXNwb25zYWJsZXMuaW5jbHVkZXMocC5pZCk7CiAgICAgICAgfSk7CgogICAgICAgIG9iamV0b0ZpbmFsW25vZG8uaWRdID0gewogICAgICAgICAgbm9kb3NDaGlsZHJlbjogY2hpbGRyZW4sCiAgICAgICAgICBub2Rvc1JlcXVlcmlkb3M6IHJlcXVlcmlkb3MsCiAgICAgICAgICByZXNwb25zYWJsZXM6IHJlc3BvbnNhYmxlcwogICAgICAgIH07CiAgICAgIH0pOwogICAgICByZXR1cm4gb2JqZXRvRmluYWw7CiAgICB9LAogICAgaW5mb05vZG9zTmVlZGluZ0ZldGNoTW9yZTogZnVuY3Rpb24gaW5mb05vZG9zTmVlZGluZ0ZldGNoTW9yZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5pbmZvTm9kb3NFdmVyUmVuZGVyZWQuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuICFfdGhpczQuaWRzTm9kb3NFdmVyUGFzc2VkVG9GZXRjaE1vcmUuaW5jbHVkZXMoaS5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIHRvZG9zTm9kb3M6IGZ1bmN0aW9uIHRvZG9zTm9kb3MoKSB7CiAgICAgIHJldHVybiB0aGlzLm5vZG9zU29saWRhcmlkYWQuY29uY2F0KHRoaXMucGVyc29uYXMpOwogICAgfSwKICAgIGlkc05vZG9zTmVlZGluZ0ZldGNoTW9yZTogZnVuY3Rpb24gaWRzTm9kb3NOZWVkaW5nRmV0Y2hNb3JlKCkgewogICAgICByZXR1cm4gdGhpcy5pbmZvTm9kb3NOZWVkaW5nRmV0Y2hNb3JlLm1hcChmdW5jdGlvbiAoaW5mbykgewogICAgICAgIHJldHVybiBpbmZvLmlkOwogICAgICB9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpZHNOb2Rvc05lZWRpbmdGZXRjaE1vcmU6IGZ1bmN0aW9uIGlkc05vZG9zTmVlZGluZ0ZldGNoTW9yZShudWV2bykgewogICAgICBpZiAobnVldm8ubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuZmV0Y2hSZWxhY2lvbmVzTm9kb3NOZWVkaW5nRmV0Y2hNb3JlKCk7CiAgICAgIH0KICAgIH0KICB9Cn07Cgp2YXIgYXJyYXlVbmlxdWUgPSBmdW5jdGlvbiBhcnJheVVuaXF1ZShhcnJheSkgewogIHZhciBhID0gYXJyYXkuY29uY2F0KCk7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkgewogICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgYS5sZW5ndGg7ICsraikgewogICAgICBpZiAoYVtpXSA9PT0gYVtqXSkgYS5zcGxpY2Uoai0tLCAxKTsKICAgIH0KICB9CgogIHJldHVybiBhOwp9Ow=="},{"version":3,"sources":["/home/vida1/webpj/pepepe/vuecliente/src/components/atlasSolidaridad/MixinAtlasSolidaridad.js"],"names":["gql","debounce","fragmentoNodoSolidaridad","fragmentoPersonaAtlas","QUERY_NODOS_SOLIDARIDAD","QUERY_PERSONAS","MixinAtlasSolidaridad","apollo","nodoRoot","query","variables","idNodo","idNodoRoot","tipoNodo","tipoNodoRoot","skip","update","nodoAtlasSolidaridadByIdAndTipo","nodosSolidaridad","nodoSolidaridad","personas","persona","cacheNodosInicializado","store","$apollo","provider","defaultClient","writeQuery","data","console","log","fetchPolicy","$subscribe","nodoEditado","centro","x","y","radio","result","nombre","nodoEliminado","eliminarNodoCache","nodosEliminados","forEach","ne","removeNodoFromNodosSolidaridad","datosYoDescargados","idsNodosEverPassedToFetchMore","infoNodosEverRendered","methods","addNodoToNodosSolidaridad","nuevoNodo","cache","readQuery","nuevoCache","JSON","parse","stringify","indexN","findIndex","n","id","push","idNodoSeleccionado","splice","fetchRelacionesNodosNeedingFetchMore","infoNodos","infoNodosNeedingFetchMore","then","relacionesNodosAtlasByIds","arrayUnique","concat","idsNodosNeedingFetchMore","idsActualesNodosSolidaridad","map","ns","cacheNS","nuevoCacheNS","filter","includes","idsActualesPersonas","p","cacheP","nuevoCacheP","computed","indiceNodosUnder","length","objetoFinal","todosNodos","nodo","idsVinculos","vinculos","v","tipo","idRef","requeridos","sort","a","b","indexOf","children","nodoParent","responsables","nodosChildren","nodosRequeridos","i","info","watch","nuevo","array","j"],"mappings":"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","sourcesContent":["import gql from \"graphql-tag\"\nimport debounce from \"debounce\";\nimport { fragmentoNodoSolidaridad, fragmentoPersonaAtlas } from \"./frags\";\n\n\nexport const QUERY_NODOS_SOLIDARIDAD = gql`\n    query{\n      nodosSolidaridad{\n        ...fragNodoSolidaridad\n      }\n    }\n    ${fragmentoNodoSolidaridad}\n    `\n\nexport const QUERY_PERSONAS = gql`\n    query{\n      personas{\n        ...fragPersonaAtlas\n      }\n    }\n    ${fragmentoPersonaAtlas}\n`\n\nexport const MixinAtlasSolidaridad = {\n  apollo: {\n    nodoRoot: {\n      query: gql`\n        query($idNodo: ID!, $tipoNodo: String!){\n          nodoAtlasSolidaridadByIdAndTipo(idNodo:$idNodo, tipoNodo: $tipoNodo){\n            nodoSolidaridad{\n              ...fragNodoSolidaridad\n            }\n            persona{\n              ...fragPersonaAtlas\n            }\n          }\n        }\n        ${fragmentoNodoSolidaridad}\n        ${fragmentoPersonaAtlas}\n      `,\n      variables() {\n        return {\n          idNodo: this.idNodoRoot,\n          tipoNodo: this.tipoNodoRoot\n        }\n      },\n      skip() {\n        return !this.idNodoRoot;\n      },\n      update({ nodoAtlasSolidaridadByIdAndTipo }) {\n        var nodosSolidaridad = nodoAtlasSolidaridadByIdAndTipo.nodoSolidaridad ? [nodoAtlasSolidaridadByIdAndTipo.nodoSolidaridad] : []\n        var personas = nodoAtlasSolidaridadByIdAndTipo.persona ? [nodoAtlasSolidaridadByIdAndTipo.persona] : []\n\n        if (!this.cacheNodosInicializado) {\n          const store = this.$apollo.provider.defaultClient;\n          store.writeQuery({\n            query: QUERY_NODOS_SOLIDARIDAD,\n            data: { nodosSolidaridad }\n          });\n          store.writeQuery({\n            query: QUERY_PERSONAS,\n            data: { personas }\n          });\n          this.cacheNodosInicializado = true;\n        }\n       \n\n        if (nodoAtlasSolidaridadByIdAndTipo.nodoSolidaridad) {\n          return nodoAtlasSolidaridadByIdAndTipo.nodoSolidaridad\n        }\n        else if (nodoAtlasSolidaridadByIdAndTipo.persona) {\n          return nodoAtlasSolidaridadByIdAndTipo.persona\n        }\n        else {\n          console.log(`Fallo al obtener nodoRoot`);\n          return null;\n        }\n      },\n    },\n    nodosSolidaridad: {\n      query: QUERY_NODOS_SOLIDARIDAD,\n      fetchPolicy: \"cache-only\",\n      skip() {\n        return !this.nodoRoot\n      }\n    },\n    personas: {\n      query: QUERY_PERSONAS,\n      fetchPolicy: \"cache-only\",\n      skip() {\n        return !this.nodoRoot\n      }\n    },\n    $subscribe: {\n      nodoEditado: {\n        query: gql`\n          subscription ($centro: CoordsInput!, $radio: Int!) {\n            nodoEditado(centro: $centro, radio: $radio) {\n              ...fragNodoSolidaridad\n            }\n          }\n          ${fragmentoNodoSolidaridad}\n        `,\n        variables() {\n          return {\n            centro: {\n              x: 0,\n              y: 0,\n            },\n            radio: 0,\n          };\n        },\n        result : function({ data: { nodoEditado } }){    \n          console.log(`nodo ${nodoEditado.nombre} editado`);      \n        },\n      },\n      nodoEliminado: {\n        query: gql`\n          subscription ($centro: CoordsInput!, $radio: Int!) {\n            nodoEliminado(centro: $centro, radio: $radio)\n          }\n        `,\n        variables() {\n          return {\n            centro: {\n              x: 0,\n              y: 0,\n            },\n            radio: 0,\n          };\n        },\n        result({ data: { nodoEliminado } }) {\n          console.log(`Eliminando de cache a ${nodoEliminado}`);\n          this.eliminarNodoCache(nodoEliminado);\n        },\n      },\n      nodosEliminados: {\n        query: gql`\n          subscription {\n            nodosEliminados\n          }\n        `,\n        result({ data: { nodosEliminados } }) {\n          console.log(`Eliminando de cache a ${nodosEliminados}`);\n          nodosEliminados.forEach((ne) => {\n            this.removeNodoFromNodosSolidaridad(ne);\n          });\n        },\n      },\n      \n    },\n  },\n  data() {\n    return {\n      datosYoDescargados: false,\n      nodosSolidaridad: [],\n      personas: [],\n      idsNodosEverPassedToFetchMore: [],\n      infoNodosEverRendered: [],\n      cacheNodosInicializado:false,\n    }\n  },\n  methods: {\n    addNodoToNodosSolidaridad(nuevoNodo){\n      console.log(`Adding nuevo nodo a nodosSolidaridad`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_NODOS_SOLIDARIDAD,        \n      })\n\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      \n      const indexN=nuevoCache.nodosSolidaridad.findIndex(n=>n.id===nuevoNodo.id);\n      if(indexN===-1){\n        nuevoCache.nodosSolidaridad.push(nuevoNodo);\n        store.writeQuery({\n          query: QUERY_NODOS_SOLIDARIDAD,\n          data: nuevoCache,\n        })\n      }\n      this.idNodoSeleccionado=nuevoNodo.id\n    },\n    removeNodoFromNodosSolidaridad(id){\n      if(this.idNodoSeleccionado===id){\n        this.idNodoSeleccionado=null;\n      }\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_NODOS_SOLIDARIDAD,        \n      })\n\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      \n      const indexN=nuevoCache.nodosSolidaridad.findIndex(n=>n.id===id);\n      if(indexN>-1){\n        nuevoCache.nodosSolidaridad.splice(indexN, 1);\n        store.writeQuery({\n          query: QUERY_NODOS_SOLIDARIDAD,\n          data: nuevoCache,\n        })\n      }\n    },\n    fetchRelacionesNodosNeedingFetchMore: debounce(function () {\n\n      this.$apollo\n        .query({\n          query: gql`\n            query($infoNodos: [InfoNodoDeAtlasSolidaridad!]!) {\n              relacionesNodosAtlasByIds(infoNodos: $infoNodos) {\n                  nodosSolidaridad {\n                    ...fragNodoSolidaridad\n                }\n                  personas {\n                    ...fragPersonaAtlas\n                }\n              }\n            }\n            ${fragmentoNodoSolidaridad}\n            ${fragmentoPersonaAtlas}\n            `,\n          variables: {\n            infoNodos: this.infoNodosNeedingFetchMore,\n          },\n          fetchPolicy:\"network-only\"\n        })\n        .then(({ data: { relacionesNodosAtlasByIds } }) => {\n          this.idsNodosEverPassedToFetchMore = arrayUnique(\n            this.idsNodosEverPassedToFetchMore.concat(\n              this.idsNodosNeedingFetchMore\n            )\n          );\n          //Add to cache de nodosSolidaridad\n          const idsActualesNodosSolidaridad = this.nodosSolidaridad.map(ns => ns.id);\n\n          const store = this.$apollo.provider.defaultClient;\n          const cacheNS = store.readQuery({\n            query: QUERY_NODOS_SOLIDARIDAD\n          });\n          var nuevoCacheNS = JSON.parse(JSON.stringify(cacheNS));\n          if (!nuevoCacheNS.nodosSolidaridad) nuevoCacheNS.nodosSolidaridad = [];\n          nuevoCacheNS.nodosSolidaridad.push(...relacionesNodosAtlasByIds.nodosSolidaridad.filter(ns => !idsActualesNodosSolidaridad.includes(ns.id)))\n\n          store.writeQuery({\n            query: QUERY_NODOS_SOLIDARIDAD,\n            data: nuevoCacheNS\n          });\n\n          //Add to cache de personas\n          const idsActualesPersonas = this.personas.map(p => p.id);\n\n          const cacheP = store.readQuery({\n            query: QUERY_PERSONAS\n          });\n          var nuevoCacheP = JSON.parse(JSON.stringify(cacheP));\n          if (!nuevoCacheNS.personas) nuevoCacheNS.nodosSolidaridad = [];\n          nuevoCacheP.personas.push(...relacionesNodosAtlasByIds.personas.filter(p => !idsActualesPersonas.includes(p.id)))\n\n          store.writeQuery({\n            query: QUERY_PERSONAS,\n            data: nuevoCacheP\n          });\n        });\n    }, 2000),\n  },\n  computed: {\n    indiceNodosUnder() {\n      if (this.nodosSolidaridad.length + this.personas.length < 1) return null;\n      var objetoFinal = {};\n\n      this.todosNodos.forEach((nodo) => {\n        let idsVinculos = nodo.vinculos\n          .filter((v) => v.tipo === \"requiere\")\n          .map((v) => v.idRef);\n        let requeridos = this.nodosSolidaridad\n          .filter((n) => idsVinculos.includes(n.id))\n          .sort(\n            (a, b) => idsVinculos.indexOf(a.id) - idsVinculos.indexOf(b.id)\n          );\n        let children = requeridos.filter((n) => n.nodoParent === nodo.id);\n        let responsables = this.personas.filter((p) =>\n          nodo.responsables.includes(p.id)\n        );\n        objetoFinal[nodo.id] = {\n          nodosChildren: children,\n          nodosRequeridos: requeridos,\n          responsables,\n        };\n      });\n\n      return objetoFinal;\n    },\n    infoNodosNeedingFetchMore() {\n      return this.infoNodosEverRendered.filter(\n        (i) => !this.idsNodosEverPassedToFetchMore.includes(i.id)\n      );\n    },\n    todosNodos() {\n      return this.nodosSolidaridad.concat(this.personas);\n    },\n    idsNodosNeedingFetchMore() {\n      return this.infoNodosNeedingFetchMore.map((info) => info.id);\n    },\n  },\n  watch: {\n    idsNodosNeedingFetchMore(nuevo) {\n      if (nuevo.length > 0) {\n        this.fetchRelacionesNodosNeedingFetchMore();\n      }\n    },\n  }\n}\n\nconst arrayUnique = function (array) {\n  var a = array.concat();\n  for (var i = 0; i < a.length; ++i) {\n    for (var j = i + 1; j < a.length; ++j) {\n      if (a[i] === a[j]) a.splice(j--, 1);\n    }\n  }\n\n  return a;\n}"]}]}