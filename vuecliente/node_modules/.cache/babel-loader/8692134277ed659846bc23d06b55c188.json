{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue","mtime":1648741729589},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCBmcm9tICIvaG9tZS92aWRhMS93ZWJwai9wZXBlcGUvdnVlY2xpZW50ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIjsKCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgIG11dGF0aW9uIChcbiAgICAgICAgICAgICAgJGlkTm9kbzogSUQhXG4gICAgICAgICAgICAgICRpZFNlY2Npb246IElEIVxuICAgICAgICAgICAgICAkbnVldm9Ob21icmU6IFN0cmluZyFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBlZGl0YXJOb21icmVTZWNjaW9uTm9kb0Nvbm9jaW1pZW50byhcbiAgICAgICAgICAgICAgICBpZE5vZG86ICRpZE5vZG9cbiAgICAgICAgICAgICAgICBpZFNlY2Npb246ICRpZFNlY2Npb25cbiAgICAgICAgICAgICAgICBudWV2b05vbWJyZTogJG51ZXZvTm9tYnJlXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgICAgbm9tYnJlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQXJjaGl2b1NlY2Npb25Ob2RvIGZyb20gIi4vYXJjaGl2b1NlY2Npb25Ob2RvLnZ1ZSI7CmltcG9ydCBMb2FkaW5nIGZyb20gIi4uL3V0aWxpZGFkZXMvTG9hZGluZy52dWUiOwppbXBvcnQgeyBjaGFyUHJvaGliaWRvc05vbWJyZUNvc2EgfSBmcm9tICIuLi9jb25maWdzIjsKaW1wb3J0IGdxbCBmcm9tICJncmFwaHFsLXRhZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZXN0YVNlY2Npb246IE9iamVjdCwKICAgIGlkTm9kbzogU3RyaW5nLAogICAgdXN1YXJpb0V4cGVydG86IEJvb2xlYW4KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFyY2hpdm9TZWNjaW9uTm9kbzogQXJjaGl2b1NlY2Npb25Ob2RvLAogICAgTG9hZGluZzogTG9hZGluZwogIH0sCiAgbmFtZTogIlNlY2Npb25Ob2RvQ29ub2NpbWllbnRvIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdGFuZG86IGZhbHNlLAogICAgICBzdWJpZW5kb0FyY2hpdm86IGZhbHNlLAogICAgICB2ZXJzaW9uQXJjaGl2bzogMCwKICAgICAgZWRpdGFuZG9Ob21icmU6IGZhbHNlLAogICAgICBlbnZpYW5kb051ZXZvTm9tYnJlOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1YmlyQXJjaGl2b0NvbnRlbmlkbzogZnVuY3Rpb24gc3ViaXJBcmNoaXZvQ29udGVuaWRvKGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpbnB1dEFyY2hpdm8gPSBlLnRhcmdldDsKICAgICAgdmFyIGRhdG9zID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIHZhciBudWV2b0FyY2hpdm8gPSBpbnB1dEFyY2hpdm8uZmlsZXNbMF07CiAgICAgIGRhdG9zLmFwcGVuZCgibnVldm9BcmNoaXZvIiwgbnVldm9BcmNoaXZvKTsKICAgICAgZGF0b3MuYXBwZW5kKCJpZE5vZG8iLCB0aGlzLmlkTm9kbyk7CiAgICAgIGRhdG9zLmFwcGVuZCgiaWRTZWNjaW9uIiwgdGhpcy5lc3RhU2VjY2lvbi5pZCk7CiAgICAgIHRoaXMuc3ViaWVuZG9BcmNoaXZvID0gdHJ1ZTsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHVybDogdGhpcy5zZXJ2ZXJVcmwgKyAiL2FwaS9hdGxhcy9zdWJpckFyY2hpdm9Db250ZW5pZG9TZWNjaW9uTm9kbyIsCiAgICAgICAgZGF0YTogZGF0b3MsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiwKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGluZm9BcmNoaXZvID0gX3JlZi5kYXRhLmluZm9BcmNoaXZvOwogICAgICAgIF90aGlzLnN1YmllbmRvQXJjaGl2byA9IGZhbHNlOwogICAgICAgIF90aGlzLnZlcnNpb25BcmNoaXZvKys7CgogICAgICAgIF90aGlzLiRlbWl0KCJzdWJpQXJjaGl2byIsIGluZm9BcmNoaXZvKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuc3ViaWVuZG9BcmNoaXZvID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIHN1YmllbmRvIGFyY2hpdm8uIEU6ICIuY29uY2F0KGVycm9yKSk7CiAgICAgIH0pOwogICAgfSwKICAgIGluaWNpYXJFZGljaW9uTm9tYnJlOiBmdW5jdGlvbiBpbmljaWFyRWRpY2lvbk5vbWJyZSgpIHsKICAgICAgdGhpcy4kcmVmcy5pbnB1dE51ZXZvTm9tYnJlLnZhbHVlID0gdGhpcy5lc3RhU2VjY2lvbi5ub21icmU7CiAgICAgIHRoaXMuZWRpdGFuZG9Ob21icmUgPSB0cnVlOwogICAgfSwKICAgIGd1YXJkYXJOdWV2b05vbWJyZTogZnVuY3Rpb24gZ3VhcmRhck51ZXZvTm9tYnJlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBudWV2b05vbWJyZSA9IHRoaXMuJHJlZnMuaW5wdXROdWV2b05vbWJyZS52YWx1ZS50cmltKCk7CgogICAgICBpZiAobnVldm9Ob21icmUgPT0gdGhpcy5lc3RhU2VjY2lvbi5ub21icmUpIHsKICAgICAgICB0aGlzLmVkaXRhbmRvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAobnVldm9Ob21icmUubGVuZ3RoIDwgMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGNoYXJQcm9oaWJpZG9zTm9tYnJlQ29zYS50ZXN0KG51ZXZvTm9tYnJlKSkgewogICAgICAgIGNvbnNvbGUubG9nKCJDYXJhY3RlcmVzIGlsZWdhbGVzIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZygiZ3VhcmRhbmRvIG51ZXZvIG5vbWJyZSIpOwogICAgICB0aGlzLmVudmlhbmRvTnVldm9Ob21icmUgPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogZ3FsKF90ZW1wbGF0ZU9iamVjdCgpKSwKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIGlkTm9kbzogdGhpcy5pZE5vZG8sCiAgICAgICAgICBpZFNlY2Npb246IHRoaXMuZXN0YVNlY2Npb24uaWQsCiAgICAgICAgICBudWV2b05vbWJyZTogbnVldm9Ob21icmUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZygiZmluIGRlIGxhIG11dGFjaW9uLiBEYXRhOiAiLmNvbmNhdChKU09OLnN0cmluZ2lmeShkYXRhKSwgIiAiKSk7CiAgICAgICAgX3RoaXMyLmVudmlhbmRvTnVldm9Ob21icmUgPSBmYWxzZTsKICAgICAgICBfdGhpczIuZWRpdGFuZG9Ob21icmUgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMyLmVudmlhbmRvTnVldm9Ob21icmUgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IuIEUgOiIuY29uY2F0KGVycm9yKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRpcmVjY2lvbk5vZG86IGZ1bmN0aW9uIGRpcmVjY2lvbk5vZG8oKSB7CiAgICAgIHJldHVybiB0aGlzLnNlcnZlclVybCArICIvYXNzZXRzQXRsYXMvY29udGVuaWRvc05vZG9zLyIgKyB0aGlzLmlkTm9kbzsKICAgIH0sCiAgICBhcmNoaXZvc09yZGVuYWRvczogZnVuY3Rpb24gYXJjaGl2b3NPcmRlbmFkb3MoKSB7CiAgICAgIHZhciBhcmNoaXZvcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5lc3RhU2VjY2lvbi5hcmNoaXZvcykpOwogICAgICBhcmNoaXZvcy5zb3J0KGZ1bmN0aW9uIChhKSB7CiAgICAgICAgaWYgKGEucHJpbWFyaW8pIHJldHVybiAtMTsKICAgICAgICByZXR1cm4gMDsKICAgICAgfSk7CiAgICAgIHJldHVybiBhcmNoaXZvczsKICAgIH0KICB9Cn07"},{"version":3,"sources":["SeccionNodoConocimiento.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"seccionNodoConocimiento\">\n    <div class=\"contenedorControles\">\n      <div class=\"boton\" v-if=\"usuarioExperto || usuarioSuperadministrador\" @click=\"editando = !editando\">\n        <img src=\"@/assets/iconos/edit.svg\" alt=\"Editar\" />\n      </div>\n    </div>\n    <div id=\"zonaFront\" class=\"frontDeSeccion\" v-show=\"!editando\" :key=\"versionArchivo\">\n      <iframe\n        id=\"iframeSeccion\"\n        :src=\"direccionNodo + '/' + estaSeccion.id + '/?v=' + versionArchivo\"\n        v-if=\"estaSeccion.tipoPrimario && estaSeccion.tipoPrimario.substring(0,5)!='image'\"\n        frameborder=\"0\"\n      ></iframe>\n      <img\n      :src=\"direccionNodo + '/' + estaSeccion.id + '/?v=' + versionArchivo\"\n      v-if=\"estaSeccion.tipoPrimario && estaSeccion.tipoPrimario.substring(0,5)==='image'\"\n      />\n    </div>\n\n    <div id=\"zonaAdministracion\" v-if=\"usuarioExperto || usuarioSuperadministrador\" v-show=\"editando\">\n      <div id=\"nombre\" v-show=\"!editandoNombre\" @click=\"iniciarEdicionNombre\">\n        {{ estaSeccion.nombre }}\n      </div>\n      <input\n        v-show=\"editandoNombre\"\n        type=\"text\"\n        name=\"\"\n        :value=\"estaSeccion.nombre\"\n        id=\"inputNuevoNombre\"\n        ref=\"inputNuevoNombre\"\n        :class=\"{deshabilitado: enviandoNuevoNombre}\"\n        @blur=\"guardarNuevoNombre\"\n        @keypress.enter=\"guardarNuevoNombre\"\n      />\n      <loading texto=\"\" v-show=\"enviandoNuevoNombre\"/>\n      <div class=\"contenedorControles\">\n        <div\n          class=\"boton\"\n          title=\"Subir un archivo\"\n          @click=\"$refs.inputArchivoContenido.click()\"\n          v-show=\"!subiendoArchivo\"\n        >\n          <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Plus\" />\n        </div>\n        <loading texto=\"\" v-show=\"subiendoArchivo\" />\n\n        <div\n          class=\"boton\"\n          :title=\"\n            estaSeccion.modo === 'archivo'\n              ? 'Cambiar modo a enlace'\n              : 'Cambiar modo a archivo'\n          \"\n        >\n          <img\n            src=\"@/assets/iconos/file.svg\"\n            v-show=\"estaSeccion.modo === 'archivo'\"\n            alt=\"Archivo\"\n          />\n          <img\n            src=\"@/assets/iconos/link.svg\"\n            v-show=\"estaSeccion.modo === 'enlace'\"\n            alt=\"Archivo\"\n          />\n        </div>\n      </div>\n\n      <div id=\"listaArchivos\" v-show=\"estaSeccion.modo === 'archivo'\">\n        <input\n          type=\"file\"\n          class=\"inputArchivoContenido\"\n          ref=\"inputArchivoContenido\"\n          v-show=\"false\"\n          @change=\"subirArchivoContenido($event)\"\n        />\n        <archivo-seccion-nodo\n          :esteArchivo=\"archivo\"\n          :usuarioExperto=\"usuarioExperto\"\n          :idNodo=\"idNodo\"\n          :idSeccion=\"estaSeccion.id\"\n          v-for=\"archivo of archivosOrdenados\"\n          :key=\"archivo.id\"\n          @meElimine=\"$emit('archivoEliminado', archivo.nombre)\"\n          @soyPrimario=\"\n            $emit('tengoNuevoPrimario', archivo.nombre);\n            versionArchivo++;\n          \"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nimport ArchivoSeccionNodo from \"./archivoSeccionNodo.vue\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport { charProhibidosNombreCosa } from \"../configs\";\nimport gql from \"graphql-tag\";\n\nexport default {\n  props: {\n    estaSeccion: Object,\n    idNodo: String,\n    usuarioExperto: Boolean,\n  },\n  components: {\n    ArchivoSeccionNodo,\n    Loading,\n  },\n  name: \"SeccionNodoConocimiento\",\n  data() {\n    return {\n      editando: false,\n      subiendoArchivo: false,\n      versionArchivo: 0,\n\n      editandoNombre: false,\n      enviandoNuevoNombre: false,\n    };\n  },\n  methods: {\n    subirArchivoContenido(e) {\n      const inputArchivo = e.target;\n      var datos = new FormData();\n      const nuevoArchivo = inputArchivo.files[0];\n\n      datos.append(\"nuevoArchivo\", nuevoArchivo);\n      datos.append(\"idNodo\", this.idNodo);\n      datos.append(\"idSeccion\", this.estaSeccion.id);\n      this.subiendoArchivo = true;\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/api/atlas/subirArchivoContenidoSeccionNodo\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ data: { infoArchivo } }) => {\n          this.subiendoArchivo = false;\n          this.versionArchivo++;\n          this.$emit(\"subiArchivo\", infoArchivo);\n        })\n        .catch((error) => {\n          this.subiendoArchivo = false;\n\n          console.log(`Error subiendo archivo. E: ${error}`);\n        });\n    },\n    iniciarEdicionNombre() {\n      this.$refs.inputNuevoNombre.value = this.estaSeccion.nombre;\n      this.editandoNombre = true;\n    },\n    guardarNuevoNombre() {\n      var nuevoNombre = this.$refs.inputNuevoNombre.value.trim();\n      if (nuevoNombre == this.estaSeccion.nombre) {\n        this.editandoNombre = false;\n        return;\n      }\n\n      if (nuevoNombre.length < 1) {\n        return;\n      }\n      if (charProhibidosNombreCosa.test(nuevoNombre)) {\n        console.log(`Caracteres ilegales`);\n        return;\n      }\n\n      console.log(`guardando nuevo nombre`);\n      this.enviandoNuevoNombre = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation (\n              $idNodo: ID!\n              $idSeccion: ID!\n              $nuevoNombre: String!\n            ) {\n              editarNombreSeccionNodoConocimiento(\n                idNodo: $idNodo\n                idSeccion: $idSeccion\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                nombre\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.idNodo,\n            idSeccion: this.estaSeccion.id,\n            nuevoNombre: nuevoNombre,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n          this.enviandoNuevoNombre = false;\n          this.editandoNombre = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoNombre = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n  },\n  computed: {\n    direccionNodo: function () {\n      return this.serverUrl + \"/assetsAtlas/contenidosNodos/\" + this.idNodo;\n    },\n    archivosOrdenados() {\n      var archivos = JSON.parse(JSON.stringify(this.estaSeccion.archivos));\n      archivos.sort((a) => {\n        if (a.primario) return -1;\n        return 0;\n      });\n      return archivos;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.seccionNodoConocimiento {\n  width: 100%;  \n}\n#zonaFront{  \n  max-width:100vw;\n  margin: 5px auto;\n}\n#zonaFront iframe{\n  \n  width: 100%;\n}\n#zonaFront img{\n  max-width: 100%;\n  margin: 0px auto;\n  display:block;\n}\n#iframeSeccion {\n  width: 100%;\n  height: 100vh;\n}\n#zonaAdministracion {\n  width: min(500px, 90vw);\n  border-radius: 10px;\n  margin: 0px auto;\n  background-color: var(--paletaMain);\n  padding: 10px 0px;\n  min-height: 300px;\n}\n#nombre {\n  text-align: center;\n}\n#inputNuevoNombre {\n  display: block;\n  margin: 15px auto;\n  padding: 5px;\n  border-radius: 5px;\n  font-size: 16px;\n  color: rgb(48, 48, 48);\n}\n</style>\n"],"sourceRoot":"src/components/visorNodoConocimiento"}]}