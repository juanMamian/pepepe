{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/BuscadorNodosConocimiento.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasConocimiento/BuscadorNodosConocimiento.vue","mtime":1648741729541},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgICBxdWVyeSAoJHBhbGFicmFzQnVzY2FkYXM6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgYnVzcXVlZGFBbXBsaWEocGFsYWJyYXNCdXNjYWRhczogJHBhbGFicmFzQnVzY2FkYXMpIHtcbiAgICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICAgIG5vbWJyZVxuICAgICAgICAgICAgICAgIHJlc3VtZW5cbiAgICAgICAgICAgICAgICBhdXRvQ29vcmRzIHtcbiAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgIHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZ3FsIGZyb20gImdyYXBocWwtdGFnIjsKaW1wb3J0IExvYWRpbmcgZnJvbSAiLi4vdXRpbGlkYWRlcy9Mb2FkaW5nLnZ1ZSI7IC8vIGltcG9ydCB0aHJvdHRsZSBmcm9tICJsb2Rhc2gvdGhyb3R0bGUiOwovLyBpbXBvcnQgZGVib3VuY2UgZnJvbSAibG9kYXNoL2RlYm91bmNlIgoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIG5hbWU6ICJCdXNjYWRvck5vZG9zQ29ub2NpbWllbnRvIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGV4dG9CdXNxdWVkYTogIiIsCiAgICAgIGNhbnRpZGFkUGFsYWJyYXNWYWxpZGFzOiAwLAogICAgICByZXN1bHRhZG9zOiBbXSwKICAgICAgbW9zdHJhbmRvSW5wdXQ6IGZhbHNlLAogICAgICBtb3N0cmFuZG9MaXN0YTogZmFsc2UsCiAgICAgIGVzcGVyYW5kb1Jlc3VsdGFkb3M6IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGNlcnJhckJ1c3F1ZWRhOiBOdW1iZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIGNlcnJhcjogZnVuY3Rpb24gY2VycmFyKCkgewogICAgICB0aGlzLm1vc3RyYW5kb0lucHV0ID0gZmFsc2U7CiAgICB9LAogICAgYnVzY2FyRGF0YWJhc2U6IGZ1bmN0aW9uIGJ1c2NhckRhdGFiYXNlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coIioqKioqKkRlc2NhcmdhbmRvIHJlc3VsdGFkb3MgZGUgYlx4RkFzcXVlZGEiKTsKICAgICAgdGhpcy5lc3BlcmFuZG9SZXN1bHRhZG9zID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvLnF1ZXJ5KHsKICAgICAgICBxdWVyeTogZ3FsKF90ZW1wbGF0ZU9iamVjdCgpKSwKICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgIHBhbGFicmFzQnVzY2FkYXM6IHRoaXMudGV4dG9CdXNxdWVkYQogICAgICAgIH0sCiAgICAgICAgZmV0Y2hQb2xpY3k6ICJuZXR3b3JrLW9ubHkiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgYnVzcXVlZGFBbXBsaWEgPSBfcmVmLmRhdGEuYnVzcXVlZGFBbXBsaWE7CiAgICAgICAgX3RoaXMucmVzdWx0YWRvcyA9IGJ1c3F1ZWRhQW1wbGlhOwogICAgICAgIF90aGlzLmVzcGVyYW5kb1Jlc3VsdGFkb3MgPSBmYWxzZTsKICAgICAgICBfdGhpcy5tb3N0cmFuZG9MaXN0YSA9IHRydWU7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvcjogIi5jb25jYXQoZXJyb3IpKTsKICAgICAgICBfdGhpcy5lc3BlcmFuZG9SZXN1bHRhZG9zID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHRleHRvQnVzcXVlZGE6IGZ1bmN0aW9uIHRleHRvQnVzcXVlZGEoKSB7CiAgICAgIHRoaXMubW9zdHJhbmRvTGlzdGEgPSBmYWxzZTsKICAgIH0sCiAgICBjZXJyYXJCdXNxdWVkYTogZnVuY3Rpb24gY2VycmFyQnVzcXVlZGEoKSB7CiAgICAgIHRoaXMubW9zdHJhbmRvSW5wdXQgPSBmYWxzZTsKICAgICAgdGhpcy5tb3N0cmFuZG9MaXN0YSA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["BuscadorNodosConocimiento.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,GAAA,MAAA,aAAA;AACA,OAAA,OAAA,MAAA,2BAAA,C,CACA;AACA;;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,2BAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,EADA;AAEA,MAAA,uBAAA,EAAA,CAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAKA,MAAA,cAAA,EAAA,KALA;AAMA,MAAA,cAAA,EAAA,KANA;AAQA,MAAA,mBAAA,EAAA;AARA,KAAA;AAUA,GAdA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAfA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,cAJA,4BAIA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA;AACA,WAAA,mBAAA,GAAA,IAAA;AACA,WAAA,OAAA,CACA,KADA,CACA;AACA,QAAA,KAAA,EAAA,GAAA,mBADA;AAcA,QAAA,SAAA,EAAA;AACA,UAAA,gBAAA,EAAA,KAAA;AADA,SAdA;AAiBA,QAAA,WAAA,EAAA;AAjBA,OADA,EAoBA,IApBA,CAoBA,gBAAA;AAAA,YAAA,cAAA,QAAA,IAAA,CAAA,cAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,cAAA;AACA,QAAA,KAAA,CAAA,mBAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,cAAA,GAAA,IAAA;AACA,OAxBA,EAyBA,KAzBA,CAyBA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,kBAAA,KAAA;AACA,QAAA,KAAA,CAAA,mBAAA,GAAA,KAAA;AACA,OA5BA;AA6BA;AApCA,GAlBA;AAwDA,EAAA,KAAA,EAAA;AACA,IAAA,aAAA,EAAA,yBAAA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,cAJA,4BAIA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,cAAA,GAAA,KAAA;AACA;AAPA;AAxDA,CAAA","sourcesContent":["<template>\n  <div id=\"buscadorNodosConocimiento\" :style=\"[{width: mostrandoInput?'min(100vh, 350px)':'30px'}]\">\n    <div id=\"barraSuperior\">\n      <img\n        src=\"@/assets/iconos/search.png\"\n        alt=\"Lupa\"\n        title=\"Buscar nodos de conocimiento\"\n        id=\"imagenLupa\"\n        :class=\"{ opaco: !mostrandoInput }\"\n        @click.stop=\"mostrandoInput = true\"\n      />\n      <transition name=\"unfold\">\n        <input\n          type=\"text\"\n          placeholder=\"Buscar\"\n          v-model=\"textoBusqueda\"\n          id=\"inputBuscador\"\n          v-show=\"mostrandoInput\"\n          autocomplete=\"off\"\n          @click.stop=\"\"\n          @keypress.enter=\"buscarDatabase\"\n        />\n      </transition>\n      \n    </div>\n    <loading texto=\"Buscando\" v-show=\"esperandoResultados\" />\n\n    <div id=\"listaResultados\" v-show=\"mostrandoLista\">\n      <div\n        class=\"resultado\"\n        :key=\"resultado.id\"\n        v-for=\"resultado of resultados\"\n        @click.stop=\"\n          $emit('nodoSeleccionado', resultado);\n          mostrandoInput = false;\n          mostrandoLista = false;\n        \"\n      >\n        {{ resultado.nombre }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\n// import throttle from \"lodash/throttle\";\n// import debounce from \"lodash/debounce\"\n\nexport default {\n  components: { Loading },\n  name: \"BuscadorNodosConocimiento\",\n  data() {\n    return {\n      textoBusqueda: \"\",\n      cantidadPalabrasValidas: 0,\n      resultados: [],\n\n      mostrandoInput: false,\n      mostrandoLista: false,\n\n      esperandoResultados: false,\n    };\n  },\n  props: {\n    cerrarBusqueda: Number,\n  },\n  methods: {\n    cerrar() {\n      this.mostrandoInput = false;\n    },\n    buscarDatabase() {\n      console.log(`******Descargando resultados de bÃºsqueda`);\n      this.esperandoResultados = true;\n      this.$apollo\n        .query({\n          query: gql`\n            query ($palabrasBuscadas: String!) {\n              busquedaAmplia(palabrasBuscadas: $palabrasBuscadas) {\n                id\n                nombre\n                resumen\n                autoCoords {\n                  x\n                  y\n                }\n              }\n            }\n          `,\n          variables: {\n            palabrasBuscadas: this.textoBusqueda,\n          },\n          fetchPolicy: \"network-only\",\n        })\n        .then(({ data: { busquedaAmplia } }) => {\n          this.resultados = busquedaAmplia;\n          this.esperandoResultados = false;\n          this.mostrandoLista = true;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.esperandoResultados = false;\n        });\n    },\n  },\n  watch: {\n    textoBusqueda: function () {\n      this.mostrandoLista = false;\n    },\n    cerrarBusqueda() {\n      this.mostrandoInput = false;\n      this.mostrandoLista = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#barraSuperior{\n  display:flex;\n  align-items: center;\n  flex-direction: row-reverse;\n  \n}\n\n#inputBuscador {\n  font-size: 20px;\n  border-radius: 4px;\n  width: 280px;\n}\n\n#imagenLupa {\n  width: 30px;\n  cursor: pointer;\n  border-radius: 50%;\n  padding: 3px;\n}\n\n#imagenLupa:hover {\n  opacity: 1;\n}\n.opaco {\n  opacity: 0.5;\n}\n#listaResultados {\n  margin: 2px auto;\n  width: 100%;\n}\n\n.resultado {\n  padding: 5px 15px;\n  font-size: 18px;\n  background-color: lightblue;\n  cursor: pointer;\n}\n.resultado:hover {\n  background-color: rgb(133, 179, 194);\n}\n\n.unfold-enter {\n  width: 0px;\n}\n.unfold-enter-active {\n  transition: width 1s;\n}\n.unfold-enter-to {\n  width: 281px;\n}\n</style>"],"sourceRoot":"src/components/atlasConocimiento"}]}