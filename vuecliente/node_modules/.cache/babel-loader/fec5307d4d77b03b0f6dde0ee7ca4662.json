{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue","mtime":1674661671743},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCBmcm9tICIvaG9tZS92aWRhMS93ZWJwai9wZXBlcGUvdnVlY2xpZW50ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIjsKCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDIoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgbXV0YXRpb24oJGlkTm9kbzogSUQhLCAkaWRTZWNjaW9uOklEISwgJG51ZXZvRW5sYWNlOlN0cmluZyEpe1xuICAgICAgICAgICAgc2V0TnVldm9FbmxhY2VTZWNjaW9uTm9kbyhpZE5vZG86ICRpZE5vZG8sIGlkU2VjY2lvbjogJGlkU2VjY2lvbiwgbnVldm9FbmxhY2U6ICRudWV2b0VubGFjZSl7XG4gICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgIG1vZG9cbiAgICAgICAgICAgICAgZW5sYWNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdDIgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgIG11dGF0aW9uIChcbiAgICAgICAgICAgICAgJGlkTm9kbzogSUQhXG4gICAgICAgICAgICAgICRpZFNlY2Npb246IElEIVxuICAgICAgICAgICAgICAkbnVldm9Ob21icmU6IFN0cmluZyFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBlZGl0YXJOb21icmVTZWNjaW9uTm9kb0Nvbm9jaW1pZW50byhcbiAgICAgICAgICAgICAgICBpZE5vZG86ICRpZE5vZG9cbiAgICAgICAgICAgICAgICBpZFNlY2Npb246ICRpZFNlY2Npb25cbiAgICAgICAgICAgICAgICBudWV2b05vbWJyZTogJG51ZXZvTm9tYnJlXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgICAgbm9tYnJlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQXJjaGl2b1NlY2Npb25Ob2RvIGZyb20gIi4vYXJjaGl2b1NlY2Npb25Ob2RvLnZ1ZSI7CmltcG9ydCBMb2FkaW5nIGZyb20gIi4uL3V0aWxpZGFkZXMvTG9hZGluZy52dWUiOwppbXBvcnQgeyBjaGFyUHJvaGliaWRvc05vbWJyZUNvc2EgfSBmcm9tICIuLi9jb25maWdzIjsKaW1wb3J0IGdxbCBmcm9tICJncmFwaHFsLXRhZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZXN0YVNlY2Npb246IE9iamVjdCwKICAgIGlkTm9kbzogU3RyaW5nLAogICAgdXN1YXJpb0V4cGVydG86IEJvb2xlYW4KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFyY2hpdm9TZWNjaW9uTm9kbzogQXJjaGl2b1NlY2Npb25Ob2RvLAogICAgTG9hZGluZzogTG9hZGluZwogIH0sCiAgbmFtZTogIlNlY2Npb25Ob2RvQ29ub2NpbWllbnRvIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdGFuZG86IGZhbHNlLAogICAgICBzdWJpZW5kb0FyY2hpdm86IGZhbHNlLAogICAgICB2ZXJzaW9uQXJjaGl2bzogMCwKICAgICAgZWRpdGFuZG9Ob21icmU6IGZhbHNlLAogICAgICBlbnZpYW5kb051ZXZvTm9tYnJlOiBmYWxzZSwKICAgICAgZ3VhcmRhbmRvTnVldm9FbmxhY2U6IGZhbHNlLAogICAgICBpbnB1dE51ZXZvRW5sYWNlOiB0aGlzLmVzdGFTZWNjaW9uLmVubGFjZSwKICAgICAgbW9kbzogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJpckFyY2hpdm9Db250ZW5pZG86IGZ1bmN0aW9uIHN1YmlyQXJjaGl2b0NvbnRlbmlkbyhlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaW5wdXRBcmNoaXZvID0gZS50YXJnZXQ7CiAgICAgIHZhciBkYXRvcyA9IG5ldyBGb3JtRGF0YSgpOwogICAgICB2YXIgbnVldm9BcmNoaXZvID0gaW5wdXRBcmNoaXZvLmZpbGVzWzBdOwogICAgICBkYXRvcy5hcHBlbmQoIm51ZXZvQXJjaGl2byIsIG51ZXZvQXJjaGl2byk7CiAgICAgIGRhdG9zLmFwcGVuZCgiaWROb2RvIiwgdGhpcy5pZE5vZG8pOwogICAgICBkYXRvcy5hcHBlbmQoImlkU2VjY2lvbiIsIHRoaXMuZXN0YVNlY2Npb24uaWQpOwogICAgICB0aGlzLnN1YmllbmRvQXJjaGl2byA9IHRydWU7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6IHRoaXMuc2VydmVyVXJsICsgIi9hcGkvYXRsYXMvc3ViaXJBcmNoaXZvQ29udGVuaWRvU2VjY2lvbk5vZG8iLAogICAgICAgIGRhdGE6IGRhdG9zLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIsCiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBpbmZvQXJjaGl2byA9IF9yZWYuZGF0YS5pbmZvQXJjaGl2bzsKICAgICAgICBfdGhpcy5zdWJpZW5kb0FyY2hpdm8gPSBmYWxzZTsKICAgICAgICBfdGhpcy52ZXJzaW9uQXJjaGl2bysrOwoKICAgICAgICBfdGhpcy4kZW1pdCgic3ViaUFyY2hpdm8iLCBpbmZvQXJjaGl2byk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLnN1YmllbmRvQXJjaGl2byA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBzdWJpZW5kbyBhcmNoaXZvLiBFOiAiLmNvbmNhdChlcnJvcikpOwogICAgICB9KTsKICAgIH0sCiAgICBpbmljaWFyRWRpY2lvbk5vbWJyZTogZnVuY3Rpb24gaW5pY2lhckVkaWNpb25Ob21icmUoKSB7CiAgICAgIHRoaXMuJHJlZnMuaW5wdXROdWV2b05vbWJyZS52YWx1ZSA9IHRoaXMuZXN0YVNlY2Npb24ubm9tYnJlOwogICAgICB0aGlzLmVkaXRhbmRvTm9tYnJlID0gdHJ1ZTsKICAgIH0sCiAgICBndWFyZGFyTnVldm9Ob21icmU6IGZ1bmN0aW9uIGd1YXJkYXJOdWV2b05vbWJyZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgbnVldm9Ob21icmUgPSB0aGlzLiRyZWZzLmlucHV0TnVldm9Ob21icmUudmFsdWUudHJpbSgpOwoKICAgICAgaWYgKG51ZXZvTm9tYnJlID09IHRoaXMuZXN0YVNlY2Npb24ubm9tYnJlKSB7CiAgICAgICAgdGhpcy5lZGl0YW5kb05vbWJyZSA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKG51ZXZvTm9tYnJlLmxlbmd0aCA8IDEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChjaGFyUHJvaGliaWRvc05vbWJyZUNvc2EudGVzdChudWV2b05vbWJyZSkpIHsKICAgICAgICBjb25zb2xlLmxvZygiQ2FyYWN0ZXJlcyBpbGVnYWxlcyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coImd1YXJkYW5kbyBudWV2byBub21icmUiKTsKICAgICAgdGhpcy5lbnZpYW5kb051ZXZvTm9tYnJlID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QoKSksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZE5vZG86IHRoaXMuaWROb2RvLAogICAgICAgICAgaWRTZWNjaW9uOiB0aGlzLmVzdGFTZWNjaW9uLmlkLAogICAgICAgICAgbnVldm9Ob21icmU6IG51ZXZvTm9tYnJlCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coImZpbiBkZSBsYSBtdXRhY2lvbi4gRGF0YTogIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZGF0YSksICIgIikpOwogICAgICAgIF90aGlzMi5lbnZpYW5kb051ZXZvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLmVkaXRhbmRvTm9tYnJlID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi5lbnZpYW5kb051ZXZvTm9tYnJlID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yLiBFIDoiLmNvbmNhdChlcnJvcikpOwogICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVNb2RvOiBmdW5jdGlvbiB0b2dnbGVNb2RvKCkgewogICAgICB2YXIgbnVldm9Nb2RvID0gdGhpcy5tb2RvID09PSAnYXJjaGl2bycgPyAnZW5sYWNlJyA6ICdhcmNoaXZvJzsKICAgICAgY29uc29sZS5sb2coIkNhbWJpYW5kbyBhICIgKyBudWV2b01vZG8pOwogICAgICB0aGlzLm1vZG8gPSBudWV2b01vZG87CiAgICB9LAogICAgZ3VhcmRhck51ZXZvRW5sYWNlOiBmdW5jdGlvbiBndWFyZGFyTnVldm9FbmxhY2UoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coImd1YXJkYXIgbnVldm8gZW5sYWNlIik7CiAgICAgIHZhciBudWV2b0VubGFjZSA9IHRoaXMuJHJlZnMuaW5wdXROdWV2b0VubGFjZS52YWx1ZS50cmltKCk7CiAgICAgIGNvbnNvbGUubG9nKG51ZXZvRW5sYWNlKTsKCiAgICAgIGlmIChudWV2b0VubGFjZSA9PT0gdGhpcy5lc3RhU2VjY2lvbi5lbmxhY2UgfHwgIW51ZXZvRW5sYWNlIHx8IG51ZXZvRW5sYWNlLmxlbmd0aCA8IDUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy51c3VhcmlvRXhwZXJ0byAmJiAhdGhpcy51c3VhcmlvU3VwZXJhZG1pbmlzdHJhZG9yKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmd1YXJkYW5kb051ZXZvRW5sYWNlID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QyKCkpLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaWROb2RvOiB0aGlzLmlkTm9kbywKICAgICAgICAgIGlkU2VjY2lvbjogdGhpcy5lc3RhU2VjY2lvbi5pZCwKICAgICAgICAgIG51ZXZvRW5sYWNlOiBudWV2b0VubGFjZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmd1YXJkYW5kb051ZXZvRW5sYWNlID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvcjogIiArIGVycm9yKTsKICAgICAgICBfdGhpczMuZ3VhcmRhbmRvTnVldm9FbmxhY2UgPSB0cnVlOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXJlY2Npb25Ob2RvOiBmdW5jdGlvbiBkaXJlY2Npb25Ob2RvKCkgewogICAgICByZXR1cm4gdGhpcy5zZXJ2ZXJVcmwgKyAiL2Fzc2V0c0F0bGFzL2NvbnRlbmlkb3NOb2Rvcy8iICsgdGhpcy5pZE5vZG87CiAgICB9LAogICAgYXJjaGl2b3NPcmRlbmFkb3M6IGZ1bmN0aW9uIGFyY2hpdm9zT3JkZW5hZG9zKCkgewogICAgICB2YXIgYXJjaGl2b3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZXN0YVNlY2Npb24uYXJjaGl2b3MpKTsKICAgICAgYXJjaGl2b3Muc29ydChmdW5jdGlvbiAoYSkgewogICAgICAgIGlmIChhLnByaW1hcmlvKSByZXR1cm4gLTE7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0pOwogICAgICByZXR1cm4gYXJjaGl2b3M7CiAgICB9LAogICAgc3JjSWZyYW1lOiBmdW5jdGlvbiBzcmNJZnJhbWUoKSB7CiAgICAgIGlmICh0aGlzLmVzdGFTZWNjaW9uLm1vZG8gPT09ICdlbmxhY2UnICYmIHRoaXMuZXN0YVNlY2Npb24uZW5sYWNlKSB7CiAgICAgICAgdmFyIGVsRW5sYWNlID0gdGhpcy5lc3RhU2VjY2lvbi5lbmxhY2U7CiAgICAgICAgdmFyIGxhVXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgogICAgICAgIGlmIChlbEVubGFjZS5zdWJzdHJpbmcoMCwgMjUpID09PSAnaHR0cDovLzE5Mi4xNjguMS4xMDA6MzAwMCcgJiYgbGFVcmwuc3Vic3RyaW5nKDAsIDIwKSAhPSAiaHR0cDovLzE5Mi4xNjguMS4xMDAiKSB7CiAgICAgICAgICBlbEVubGFjZSA9ICJodHRwczovL3BlLXBlLXBlLmhlcm9rdWFwcC5jb20iICsgZWxFbmxhY2Uuc3Vic3RyaW5nKDI1KTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFbmxhY2UgcXVlZGE6ICIgKyBlbEVubGFjZSk7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygiRWwgZW5sYWNlIGVzOiAiICsgZWxFbmxhY2UpOwogICAgICAgIHJldHVybiBlbEVubGFjZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuZGlyZWNjaW9uTm9kbyArICcvJyArIHRoaXMuZXN0YVNlY2Npb24uaWQgKyAnLz92PScgKyB0aGlzLnZlcnNpb25BcmNoaXZvOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdlc3RhU2VjY2lvbi5tb2RvJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMubW9kbyA9IHRoaXMuZXN0YVNlY2Npb24ubW9kbzsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SeccionNodoConocimiento.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"seccionNodoConocimiento\">\n    <div class=\"contenedorControles\">\n      <div class=\"boton\" v-if=\"usuarioExperto || usuarioSuperadministrador\" @click=\"editando = !editando\">\n        <img src=\"@/assets/iconos/edit.svg\" alt=\"Editar\" />\n      </div>\n    </div>\n    <div id=\"zonaFront\" class=\"frontDeSeccion\" v-show=\"!editando\" :key=\"versionArchivo\">\n      <iframe\n        id=\"iframeSeccion\"\n        :src=\"srcIframe\"\n        v-if=\"estaSeccion.modo==='enlace' || (estaSeccion.tipoPrimario && estaSeccion.tipoPrimario.substring(0,5)!='image')\"\n        frameborder=\"0\"\n      ></iframe>\n      <img\n      :src=\"direccionNodo + '/' + estaSeccion.id + '/?v=' + versionArchivo\"\n      v-if=\"estaSeccion.modo==='archivo' && estaSeccion.tipoPrimario && estaSeccion.tipoPrimario.substring(0,5)==='image'\"\n      />\n    </div>\n\n    <div id=\"zonaAdministracion\" v-if=\"usuarioExperto || usuarioSuperadministrador\" v-show=\"editando\">\n      <div id=\"nombre\" v-show=\"!editandoNombre\" @click=\"iniciarEdicionNombre\">\n        {{ estaSeccion.nombre }}\n      </div>\n      <input\n        v-show=\"editandoNombre\"\n        type=\"text\"\n        name=\"\"\n        :value=\"estaSeccion.nombre\"\n        id=\"inputNuevoNombre\"\n        ref=\"inputNuevoNombre\"\n        :class=\"{deshabilitado: enviandoNuevoNombre}\"\n        @blur=\"guardarNuevoNombre\"\n        @keypress.enter=\"guardarNuevoNombre\"\n      />\n      <loading texto=\"\" v-show=\"enviandoNuevoNombre\"/>\n      <div class=\"contenedorControles\">\n        <div\n          class=\"boton\"\n          title=\"Subir un archivo\"\n          @click=\"$refs.inputArchivoContenido.click()\"\n          v-if=\"modo==='archivo'\"\n          v-show=\"!subiendoArchivo\"\n        >\n          <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Plus\" />\n        </div>\n        <loading texto=\"\" v-show=\"subiendoArchivo\" />\n\n        <div\n          class=\"boton\"\n          :title=\"\n            estaSeccion.modo === 'archivo'\n              ? 'Cambiar modo a enlace'\n              : 'Cambiar modo a archivo'\n          \"\n          @click.stop=\"toggleModo\"\n        >\n          <img\n            src=\"@/assets/iconos/file.svg\"\n            v-show=\"modo === 'archivo'\"\n            alt=\"Archivo\"\n          />\n          <img\n            src=\"@/assets/iconos/link.svg\"\n            v-show=\"modo === 'enlace'\"\n            alt=\"Archivo\"\n          />\n        </div>\n      </div>\n\n      <div id=\"listaArchivos\" v-show=\"modo === 'archivo'\">\n        <input\n          type=\"file\"\n          class=\"inputArchivoContenido\"\n          ref=\"inputArchivoContenido\"\n          v-show=\"false\"\n          @change=\"subirArchivoContenido($event)\"\n        />\n        <archivo-seccion-nodo\n          :esteArchivo=\"archivo\"\n          :usuarioExperto=\"usuarioExperto\"\n          :idNodo=\"idNodo\"\n          :idSeccion=\"estaSeccion.id\"\n          v-for=\"archivo of archivosOrdenados\"\n          :key=\"archivo.id\"\n          @meElimine=\"$emit('archivoEliminado', archivo.nombre)\"\n          @soyPrimario=\"\n            $emit('tengoNuevoPrimario', archivo.nombre);\n            versionArchivo++;\n          \"\n        />\n      </div>\n\n      <div id=\"zonaEnlace\" v-show=\"modo==='enlace'\">\n        \n        <input type=\"text\" id=\"inputNuevoEnlace\" ref=\"inputNuevoEnlace\" v-model=\"inputNuevoEnlace\" @blur=\"guardarNuevoEnlace\" placeholder=\"Enlace al recurso\" @keypress.enter=\"guardarNuevoEnlace\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nimport ArchivoSeccionNodo from \"./archivoSeccionNodo.vue\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport { charProhibidosNombreCosa } from \"../configs\";\nimport gql from \"graphql-tag\";\n\nexport default {\n  props: {\n    estaSeccion: Object,\n    idNodo: String,\n    usuarioExperto: Boolean,\n  },\n  components: {\n    ArchivoSeccionNodo,\n    Loading,\n  },\n  name: \"SeccionNodoConocimiento\",\n  data() {\n    return {\n      editando: false,\n      subiendoArchivo: false,\n      versionArchivo: 0,\n\n      editandoNombre: false,\n      enviandoNuevoNombre: false,\n      guardandoNuevoEnlace:false,\n      inputNuevoEnlace:this.estaSeccion.enlace,\n      modo:\"\",\n    };\n  },\n  methods: {\n    subirArchivoContenido(e) {\n      const inputArchivo = e.target;\n      var datos = new FormData();\n      const nuevoArchivo = inputArchivo.files[0];\n\n      datos.append(\"nuevoArchivo\", nuevoArchivo);\n      datos.append(\"idNodo\", this.idNodo);\n      datos.append(\"idSeccion\", this.estaSeccion.id);\n      this.subiendoArchivo = true;\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/api/atlas/subirArchivoContenidoSeccionNodo\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ data: { infoArchivo } }) => {\n          this.subiendoArchivo = false;\n          this.versionArchivo++;\n          this.$emit(\"subiArchivo\", infoArchivo);\n        })\n        .catch((error) => {\n          this.subiendoArchivo = false;\n\n          console.log(`Error subiendo archivo. E: ${error}`);\n        });\n    },\n    iniciarEdicionNombre() {\n      this.$refs.inputNuevoNombre.value = this.estaSeccion.nombre;\n      this.editandoNombre = true;\n    },\n    guardarNuevoNombre() {\n      var nuevoNombre = this.$refs.inputNuevoNombre.value.trim();\n      if (nuevoNombre == this.estaSeccion.nombre) {\n        this.editandoNombre = false;\n        return;\n      }\n\n      if (nuevoNombre.length < 1) {\n        return;\n      }\n      if (charProhibidosNombreCosa.test(nuevoNombre)) {\n        console.log(`Caracteres ilegales`);\n        return;\n      }\n\n      console.log(`guardando nuevo nombre`);\n      this.enviandoNuevoNombre = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation (\n              $idNodo: ID!\n              $idSeccion: ID!\n              $nuevoNombre: String!\n            ) {\n              editarNombreSeccionNodoConocimiento(\n                idNodo: $idNodo\n                idSeccion: $idSeccion\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                nombre\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.idNodo,\n            idSeccion: this.estaSeccion.id,\n            nuevoNombre: nuevoNombre,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n          this.enviandoNuevoNombre = false;\n          this.editandoNombre = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoNombre = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    toggleModo(){\n      const nuevoModo=this.modo==='archivo'?'enlace':'archivo';\n      console.log(\"Cambiando a \"+nuevoModo);\n      this.modo=nuevoModo;\n    },\n    guardarNuevoEnlace(){\n      console.log(\"guardar nuevo enlace\");\n      var nuevoEnlace=this.$refs.inputNuevoEnlace.value.trim();\n      console.log(nuevoEnlace);\n\n      if(nuevoEnlace===this.estaSeccion.enlace || !nuevoEnlace || nuevoEnlace.length<5){\n        return \n      }\n\n      if(!this.usuarioExperto && !this.usuarioSuperadministrador){\n        return\n      }\n      this.guardandoNuevoEnlace=true;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation($idNodo: ID!, $idSeccion:ID!, $nuevoEnlace:String!){\n            setNuevoEnlaceSeccionNodo(idNodo: $idNodo, idSeccion: $idSeccion, nuevoEnlace: $nuevoEnlace){\n              id\n              modo\n              enlace\n            }\n          }\n        `,\n        variables:{\n          idNodo:this.idNodo,\n          idSeccion: this.estaSeccion.id,\n          nuevoEnlace,\n        }\n\n      }).then(()=>{\n        this.guardandoNuevoEnlace=false;\n      }).catch((error)=>{\n        console.log(\"Error: \"+error);\n        this.guardandoNuevoEnlace=true;\n\n      })\n\n    }\n  },\n  computed: {\n    direccionNodo: function () {\n      return this.serverUrl + \"/assetsAtlas/contenidosNodos/\" + this.idNodo;\n    },\n    archivosOrdenados() {\n      var archivos = JSON.parse(JSON.stringify(this.estaSeccion.archivos));\n      archivos.sort((a) => {\n        if (a.primario) return -1;\n        return 0;\n      });\n      return archivos;\n    },\n    srcIframe(){\n      if(this.estaSeccion.modo==='enlace' && this.estaSeccion.enlace){\n        var elEnlace=this.estaSeccion.enlace;\n        let laUrl=window.location.href;\n        if(elEnlace.substring(0, 25) === 'https://pe-pe-pe.herokuapp.com' && laUrl.substring(0, 20) != \"http://192.168.1.100\") {\n          elEnlace=\"https://pe-pe-pe.herokuapp.com\"+elEnlace.substring(25);\n          console.log(\"Enlace queda: \"+ elEnlace)\n        }\n        console.log(\"El enlace es: \"+elEnlace);\n\n        return elEnlace;\n      }\n      return this.direccionNodo + '/' + this.estaSeccion.id + '/?v=' + this.versionArchivo;\n    },\n    \n  },\n  watch:{\n    'estaSeccion.modo':{\n      handler: function(){\n        this.modo=this.estaSeccion.modo\n      },\n      immediate: true,\n    }\n  }\n};\n</script>\n\n<style scoped>\n.seccionNodoConocimiento {\n  width: 100%;  \n}\n#zonaFront{  \n  max-width:100vw;\n  margin: 5px auto;\n}\n#zonaFront iframe{\n  \n  width: 100%;\n}\n#zonaFront img{\n  max-width: 100%;\n  margin: 0px auto;\n  display:block;\n}\n#inputNuevoEnlace{\n  margin: 10px auto;\n  display: block;\n}\n#iframeSeccion {\n  width: 100%;\n  height: 100vh;\n}\n#zonaAdministracion {\n  width: min(500px, 90vw);\n  border-radius: 10px;\n  margin: 0px auto;\n  background-color: var(--paletaMain);\n  padding: 10px 0px;\n  min-height: 300px;\n}\n#nombre {\n  text-align: center;\n}\n#inputNuevoNombre {\n  display: block;\n  margin: 15px auto;\n  padding: 5px;\n  border-radius: 5px;\n  font-size: 16px;\n  color: rgb(48, 48, 48);\n}\n</style>\n"],"sourceRoot":"src/components/visorNodoConocimiento"}]}