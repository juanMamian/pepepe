{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/eslint-loader/index.js??ref--13-0!/home/vida1/webpj/pepepe/vuecliente/src/store/index.js","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/store/index.js","mtime":1644587546126},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCB7IGFwb2xsb0NsaWVudCB9IGZyb20gIi4uL2Fwb2xsbyI7CmltcG9ydCB7IHJvdXRlciB9IGZyb20gIi4uL1JvdXRlciI7ClZ1ZS51c2UoVnVleCk7CgpmdW5jdGlvbiBwYXJzZUp3dCh0b2tlbikgewogIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdOwogIHZhciBiYXNlNjQgPSBiYXNlNjRVcmwucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTsKICB2YXIganNvblBheWxvYWQgPSBkZWNvZGVVUklDb21wb25lbnQoYXRvYihiYXNlNjQpLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGMpIHsKICAgIHJldHVybiAnJScgKyAoJzAwJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTsKICB9KS5qb2luKCcnKSk7CiAgcmV0dXJuIEpTT04ucGFyc2UoanNvblBheWxvYWQpOwp9CgpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHVzdWFyaW86IHsKICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgIHBlcm1pc29zOiBbXSwKICAgICAgaWQ6IG51bGwsCiAgICAgIGF0bGFzOiB7CiAgICAgICAgY2VudHJvVmlzdGE6IG51bGwsCiAgICAgICAgY29uZmlndXJhY2lvbjogewogICAgICAgICAgbW9kbzogJ2VzdHVkaWFudGUnCiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JvczogW10KICAgIH0sCiAgICB0b2tlbjogbnVsbCwKICAgIHJlZnJlc2hBY3RpdmlkYWRFc3BlY2lmaWNhOiAwLAogICAgcmVmcmVzaE5vZG9WZW50YW5pdGFBdGxhc1NvbGlkYXJpZGFkOiAwCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGxvZ2VhcnNlOiBmdW5jdGlvbiBsb2dlYXJzZShzdGF0ZSwgdG9rZW4pIHsKICAgICAgdmFyIHVzdWFyaW8gPSBwYXJzZUp3dCh0b2tlbik7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIHN0YXRlLnVzdWFyaW8udXNlcm5hbWUgPSB1c3VhcmlvLnVzZXJuYW1lOwogICAgICBzdGF0ZS51c3VhcmlvLnBlcm1pc29zID0gdXN1YXJpby5wZXJtaXNvczsKICAgICAgc3RhdGUudXN1YXJpby5pZCA9IHVzdWFyaW8uaWQ7CiAgICAgIHZhciB1c3VhcmlvTFMgPSBKU09OLnN0cmluZ2lmeShzdGF0ZS51c3VhcmlvKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInBlcGVwZV91c3VhcmlvIiwgdXN1YXJpb0xTKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgdG9rZW4pOwogICAgICBhcG9sbG9DbGllbnQucmVmZXRjaFF1ZXJpZXMoewogICAgICAgIGluY2x1ZGU6ICdhbGwnCiAgICAgIH0pOwogICAgfSwKICAgIGRlc2xvZ2VhcnNlOiBmdW5jdGlvbiBkZXNsb2dlYXJzZShzdGF0ZSkgewogICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgc3RhdGUudXN1YXJpby51c2VybmFtZSA9IG51bGwsIHN0YXRlLnVzdWFyaW8ucGVybWlzb3MgPSBudWxsLCBzdGF0ZS51c3VhcmlvLmlkID0gbnVsbCwgc3RhdGUudG9rZW4gPSBudWxsOwogICAgICBhcG9sbG9DbGllbnQuY2FjaGUuZGF0YS5jbGVhcigpOwogICAgICByb3V0ZXIucHVzaCgiLyIpOwogICAgfSwKICAgIHJlZnJlc2hBY3RpdmlkYWRFc3BlY2lmaWNhOiBmdW5jdGlvbiByZWZyZXNoQWN0aXZpZGFkRXNwZWNpZmljYShzdGF0ZSkgewogICAgICBzdGF0ZS5yZWZyZXNoQWN0aXZpZGFkRXNwZWNpZmljYSsrOwogICAgfSwKICAgIHJlZnJlc2hOb2RvVmVudGFuaXRhQXRsYXNTb2xpZGFyaWRhZDogZnVuY3Rpb24gcmVmcmVzaE5vZG9WZW50YW5pdGFBdGxhc1NvbGlkYXJpZGFkKHN0YXRlKSB7CiAgICAgIHN0YXRlLnJlZnJlc2hOb2RvVmVudGFuaXRhQXRsYXNTb2xpZGFyaWRhZCsrOwogICAgfSwKICAgIHNldENlbnRyb1Zpc3RhQXRsYXM6IGZ1bmN0aW9uIHNldENlbnRyb1Zpc3RhQXRsYXMoc3RhdGUsIG51ZXZvQ2VudHJvKSB7CiAgICAgIHN0YXRlLnVzdWFyaW8uYXRsYXMuY2VudHJvVmlzdGEgPSBudWV2b0NlbnRybzsKICAgIH0sCiAgICBzZXRJbmZvRm9yb3NVc3VhcmlvOiBmdW5jdGlvbiBzZXRJbmZvRm9yb3NVc3VhcmlvKHN0YXRlLCBmb3JvcykgewogICAgICBzdGF0ZS51c3VhcmlvLmZvcm9zID0gZm9yb3M7CiAgICB9LAogICAgc2V0UmVzcHVlc3Rhc0xlaWRhc0NvbnZlcnNhY2lvblVzdWFyaW86IGZ1bmN0aW9uIHNldFJlc3B1ZXN0YXNMZWlkYXNDb252ZXJzYWNpb25Vc3VhcmlvKHN0YXRlLCBkYXRvcykgewogICAgICB2YXIgaW5mb0Zvcm8gPSBzdGF0ZS51c3VhcmlvLmZvcm9zLmZpbmQoZnVuY3Rpb24gKGYpIHsKICAgICAgICByZXR1cm4gZi5pZEZvcm8gPT0gZGF0b3MuaWRGb3JvOwogICAgICB9KTsKCiAgICAgIGlmICghaW5mb0Zvcm8pIHsKICAgICAgICB2YXIgbnVldm9JbmZvRm9ybyA9IHsKICAgICAgICAgIGlkRm9ybzogZGF0b3MuaWRGb3JvLAogICAgICAgICAgY29udmVyc2FjaW9uZXM6IFtdLAogICAgICAgICAgX190eXBlbmFtZTogIkluZm9Gb3Jvc1VzdWFyaW8iCiAgICAgICAgfTsKICAgICAgICBzdGF0ZS51c3VhcmlvLmZvcm9zLnB1c2gobnVldm9JbmZvRm9ybyk7CiAgICAgICAgaW5mb0Zvcm8gPSBzdGF0ZS51c3VhcmlvLmZvcm9zLmZpbmQoZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIHJldHVybiBmLmlkRm9ybyA9PSBkYXRvcy5pZEZvcm87CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBpbmZvQ29udmVyc2FjaW9uID0gaW5mb0Zvcm8uY29udmVyc2FjaW9uZXMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLmlkQ29udmVyc2FjaW9uID09IGRhdG9zLmlkQ29udmVyc2FjaW9uOwogICAgICB9KTsKCiAgICAgIGlmICghaW5mb0NvbnZlcnNhY2lvbikgewogICAgICAgIHZhciBudWV2b0luZm9Db252ZXJzYWNpb24gPSB7CiAgICAgICAgICBpZENvbnZlcnNhY2lvbjogZGF0b3MuaWRDb252ZXJzYWNpb24sCiAgICAgICAgICBfX3R5cGVuYW1lOiAiSW5mb0NvbnZlcnNhY2lvbmVzVXN1YXJpbyIKICAgICAgICB9OwogICAgICAgIGluZm9Gb3JvLmNvbnZlcnNhY2lvbmVzLnB1c2gobnVldm9JbmZvQ29udmVyc2FjaW9uKTsKICAgICAgICBpbmZvQ29udmVyc2FjaW9uID0gaW5mb0Zvcm8uY29udmVyc2FjaW9uZXMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMuaWRDb252ZXJzYWNpb24gPT0gZGF0b3MuaWRDb252ZXJzYWNpb247CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGluZm9Db252ZXJzYWNpb24ucmVzcHVlc3Rhc0xlaWRhcyA9IGRhdG9zLnJlc3B1ZXN0YXNMZWlkYXM7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/home/vida1/webpj/pepepe/vuecliente/src/store/index.js"],"names":["Vue","Vuex","apolloClient","router","use","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","Store","state","usuario","username","permisos","id","atlas","centroVista","configuracion","modo","foros","refreshActividadEspecifica","refreshNodoVentanitaAtlasSolidaridad","mutations","logearse","usuarioLS","stringify","localStorage","setItem","refetchQueries","include","deslogearse","clear","cache","data","push","setCentroVistaAtlas","nuevoCentro","setInfoForosUsuario","setRespuestasLeidasConversacionUsuario","datos","infoForo","find","f","idForo","nuevoInfoForo","conversaciones","__typename","infoConversacion","idConversacion","nuevoInfoConversacion","respuestasLeidas"],"mappings":"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","sourcesContent":["import Vue from \"vue\"\nimport Vuex from \"vuex\"\nimport { apolloClient } from \"../apollo\";\nimport { router } from \"../Router\"\n\nVue.use(Vuex);\n\nfunction parseJwt(token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n\n    return JSON.parse(jsonPayload);\n}\n\n\nexport default new Vuex.Store({\n    state: {\n        usuario: {\n            username: null,\n            permisos: [],\n            id: null,\n            atlas: {\n                centroVista: null,\n                configuracion: {\n                    modo: 'estudiante'\n                }\n            },\n            foros: []\n        },\n        token: null,\n\n        refreshActividadEspecifica: 0,\n        refreshNodoVentanitaAtlasSolidaridad: 0,\n\n    },\n    mutations: {\n        logearse: function (state, token) {\n\n            let usuario = parseJwt(token);\n            state.token = token;\n            state.usuario.username = usuario.username;\n            state.usuario.permisos = usuario.permisos;\n            state.usuario.id = usuario.id;\n            let usuarioLS = JSON.stringify(state.usuario);\n\n            localStorage.setItem(\"pepepe_usuario\", usuarioLS);\n            localStorage.setItem(\"token\", token);\n\n            apolloClient.refetchQueries({include:'all'})\n            \n        },\n        deslogearse(state) {\n            localStorage.clear();\n\n            state.usuario.username = null,\n                state.usuario.permisos = null,\n                state.usuario.id = null,\n\n                state.token = null\n            apolloClient.cache.data.clear();\n            router.push(\"/\");\n\n        },\n\n        refreshActividadEspecifica(state) {\n            state.refreshActividadEspecifica++;\n        },\n        refreshNodoVentanitaAtlasSolidaridad(state) {\n            state.refreshNodoVentanitaAtlasSolidaridad++;\n        },\n\n        setCentroVistaAtlas(state, nuevoCentro) {\n            state.usuario.atlas.centroVista = nuevoCentro;\n        },\n\n        setInfoForosUsuario(state, foros) {\n            state.usuario.foros = foros;\n        },\n\n        setRespuestasLeidasConversacionUsuario(state, datos) {\n            var infoForo = state.usuario.foros.find(f => f.idForo == datos.idForo);\n            if (!infoForo) {\n                var nuevoInfoForo = {\n                    idForo: datos.idForo,\n                    conversaciones: [],\n                    __typename: \"InfoForosUsuario\"\n                };\n                state.usuario.foros.push(nuevoInfoForo);\n                infoForo = state.usuario.foros.find(f => f.idForo == datos.idForo);\n            }\n\n\n            var infoConversacion = infoForo.conversaciones.find(c => c.idConversacion == datos.idConversacion);\n            if (!infoConversacion) {\n                var nuevoInfoConversacion = {\n                    idConversacion: datos.idConversacion,\n                    __typename: \"InfoConversacionesUsuario\"\n                }\n                infoForo.conversaciones.push(nuevoInfoConversacion);\n                infoConversacion = infoForo.conversaciones.find(c => c.idConversacion == datos.idConversacion);\n            }\n            infoConversacion.respuestasLeidas = datos.respuestasLeidas;\n        }\n    }\n});\n"]}]}