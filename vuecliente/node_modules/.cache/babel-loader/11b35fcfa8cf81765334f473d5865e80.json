{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/RutaGrado.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/RutaGrado.vue","mtime":1676563818640},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICAgIG11dGF0aW9uKCRpZFN1YnJ1dGE6IElEISwgJG51ZXZvQ29sb3I6IFN0cmluZyEpe1xuICAgICAgICAgICAgc2V0Q29sb3JTdWJydXRhR3JhZG8oaWRTdWJydXRhOiAkaWRTdWJydXRhLCBudWV2b0NvbG9yOiAkbnVldm9Db2xvcil7XG4gICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICAgY29sb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgIl0pOwoKICBfdGVtcGxhdGVPYmplY3QzID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MygpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICBxdWVyeSAoJGlkVXN1YXJpbzogSUQhKSB7XG4gICAgICAgICAgVXN1YXJpbyhpZFVzdWFyaW86ICRpZFVzdWFyaW8pIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBub2Rvc0NvbXBsZXRhZG9zUnV0YUdyYWRvXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAiXSk7CgogIF90ZW1wbGF0ZU9iamVjdDIgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgcXVlcnkge1xuICAgICAgICAgIHN1YnJ1dGFzR3JhZG9NYWVzdHJhVmlkYSB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgbm9tYnJlXG4gICAgICAgICAgICBjb2xvclxuICAgICAgICAgICAgbm9kb3Mge1xuICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICBub21icmVcbiAgICAgICAgICAgICAgZGVzY3JpcGNpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgTm9kb0dyYWRvIGZyb20gIi4vTm9kb0dyYWRvLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBOb2RvR3JhZG86IE5vZG9HcmFkbwogIH0sCiAgbmFtZTogIlJ1dGFHcmFkbyIsCiAgcHJvcHM6IHsKICAgIGlkVXN1YXJpbzogU3RyaW5nCiAgfSwKICBhcG9sbG86IHsKICAgIHN1YnJ1dGFzOiB7CiAgICAgIHF1ZXJ5OiBncWwoX3RlbXBsYXRlT2JqZWN0KCkpLAogICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShfcmVmKSB7CiAgICAgICAgdmFyIHN1YnJ1dGFzR3JhZG9NYWVzdHJhVmlkYSA9IF9yZWYuc3VicnV0YXNHcmFkb01hZXN0cmFWaWRhOwogICAgICAgIHJldHVybiBzdWJydXRhc0dyYWRvTWFlc3RyYVZpZGE7CiAgICAgIH0KICAgIH0sCiAgICBub2Rvc0NvbXBsZXRhZG9zOiB7CiAgICAgIHF1ZXJ5OiBncWwoX3RlbXBsYXRlT2JqZWN0MigpKSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoX3JlZjIpIHsKICAgICAgICB2YXIgVXN1YXJpbyA9IF9yZWYyLlVzdWFyaW87CiAgICAgICAgcmV0dXJuIFVzdWFyaW8ubm9kb3NDb21wbGV0YWRvc1J1dGFHcmFkbzsKICAgICAgfSwKICAgICAgdmFyaWFibGVzOiBmdW5jdGlvbiB2YXJpYWJsZXMoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkVXN1YXJpbzogdGhpcy5pZFVzdWFyaW8KICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VicnV0YXM6IFtdLAogICAgICBub2Rvc0NvbXBsZXRhZG9zOiBbXSwKICAgICAgaWROb2RvU2VsZWNjaW9uYWRvOiBudWxsLAogICAgICBzZXR0aW5nQ29sb3JTdWJydXRhOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldENvbG9yU3VicnV0YTogZnVuY3Rpb24gc2V0Q29sb3JTdWJydXRhKGlkU3VicnV0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG51ZXZvQ29sb3IgPSBwcm9tcHQoIkludHJvZHVjZSBlbCBjw7NkaWdvIGRlbCBudWV2byBjb2xvciIpOwogICAgICB0aGlzLnNldHRpbmdDb2xvclN1YnJ1dGEgPSB0cnVlOwogICAgICB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICBtdXRhdGlvbjogZ3FsKF90ZW1wbGF0ZU9iamVjdDMoKSksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZFN1YnJ1dGE6IGlkU3VicnV0YSwKICAgICAgICAgIG51ZXZvQ29sb3I6IG51ZXZvQ29sb3IKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnNldHRpbmdDb2xvclN1YnJ1dGEgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yOiAnICsgZXJyb3IpOwogICAgICAgIF90aGlzLnNldHRpbmdDb2xvclN1YnJ1dGEgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["RutaGrado.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,GAAA,MAAA,aAAA;AACA,OAAA,SAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,WAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAHA;AAMA,EAAA,MAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,KAAA,EAAA,GAAA,mBADA;AAeA,MAAA,MAfA,wBAeA;AAAA,YAAA,wBAAA,QAAA,wBAAA;AACA,eAAA,wBAAA;AACA;AAjBA,KADA;AAoBA,IAAA,gBAAA,EAAA;AACA,MAAA,KAAA,EAAA,GAAA,oBADA;AASA,MAAA,MATA,yBASA;AAAA,YAAA,OAAA,SAAA,OAAA;AACA,eAAA,OAAA,CAAA,yBAAA;AACA,OAXA;AAYA,MAAA,SAZA,uBAYA;AACA,eAAA;AACA,UAAA,SAAA,EAAA,KAAA;AADA,SAAA;AAGA;AAhBA;AApBA,GANA;AA6CA,EAAA,IA7CA,kBA6CA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,gBAAA,EAAA,EAFA;AAGA,MAAA,kBAAA,EAAA,IAHA;AAKA,MAAA,mBAAA,EAAA;AALA,KAAA;AAOA,GArDA;AAsDA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,SADA,EACA;AAAA;;AACA,UAAA,UAAA,GAAA,MAAA,CAAA,qCAAA,CAAA;AAEA,WAAA,mBAAA,GAAA,IAAA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA;AACA,QAAA,QAAA,EAAA,GAAA,oBADA;AASA,QAAA,SAAA,EAAA;AACA,UAAA,SAAA,EAAA,SADA;AAEA,UAAA,UAAA,EAAA;AAFA;AATA,OAAA,EAaA,IAbA,CAaA,YAAA;AACA,QAAA,KAAA,CAAA,mBAAA,GAAA,KAAA;AAEA,OAhBA,EAgBA,KAhBA,CAgBA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,YAAA,KAAA;AACA,QAAA,KAAA,CAAA,mBAAA,GAAA,KAAA;AACA,OAnBA;AAoBA;AAzBA;AAtDA,CAAA","sourcesContent":["<template>\n  <div class=\"rutaGrado\" @click=\"idNodoSeleccionado = null\">\n    <div id=\"titulo\" class=\"tituloComponente\">Ruta de grado</div>\n\n    <div id=\"laRutaGrado\">\n      <div class=\"subruta\" v-for=\"ruta of subrutas\" :key=\"ruta.id\">\n        <div class=\"lineaRuta\"></div>\n        <nodo-grado\n          v-for=\"nodo of ruta.nodos\"\n          :key=\"nodo.id\"\n          :esteNodo=\"nodo\"\n          :completado=\"nodosCompletados.includes(nodo.id)\"\n          :colorSubruta=\"ruta.color\"\n          :seleccionado=\"idNodoSeleccionado === nodo.id\"\n          :idUsuario=\"idUsuario\"\n          @setColorSubruta=\"setColorSubruta(ruta.id)\"\n          @click.native.stop=\"\n            idNodoSeleccionado = idNodoSeleccionado === nodo.id ? null : nodo.id\n          \"\n          @seleccioname=\"idNodoSeleccionado = nodo.id\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport NodoGrado from \"./NodoGrado.vue\";\n\nexport default {\n  components: { NodoGrado },\n  name: \"RutaGrado\",\n  props: {\n    idUsuario: String,\n  },\n  apollo: {\n    subrutas: {\n      query: gql`\n        query {\n          subrutasGradoMaestraVida {\n            id\n            nombre\n            color\n            nodos {\n              id\n              nombre\n              descripcion\n            }\n          }\n        }\n      `,\n      update({ subrutasGradoMaestraVida }) {\n        return subrutasGradoMaestraVida;\n      },\n    },\n    nodosCompletados: {\n      query: gql`\n        query ($idUsuario: ID!) {\n          Usuario(idUsuario: $idUsuario) {\n            id\n            nodosCompletadosRutaGrado\n          }\n        }\n      `,\n      update({ Usuario }) {\n        return Usuario.nodosCompletadosRutaGrado;\n      },\n      variables() {\n        return {\n          idUsuario: this.idUsuario,\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      subrutas: [],\n      nodosCompletados: [],\n      idNodoSeleccionado: null,\n\n      settingColorSubruta:false,\n    };\n  },\n  methods:{\n    setColorSubruta(idSubruta){\n      let nuevoColor=prompt(\"Introduce el cÃ³digo del nuevo color\");\n\n      this.settingColorSubruta=true;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation($idSubruta: ID!, $nuevoColor: String!){\n            setColorSubrutaGrado(idSubruta: $idSubruta, nuevoColor: $nuevoColor){\n               id\n               color\n            }\n          }\n          `,\n          variables:{\n            idSubruta,\n            nuevoColor\n          }\n        }).then(()=>{\n          this.settingColorSubruta=false;\n            \n        }).catch((error)=>{\n          console.log('Error: '+ error);\n          this.settingColorSubruta=false;\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n#laRutaGrado {\n  display: flex;\n  justify-content: center;\n  gap: 0px;\n  padding: 20px 0px;\n  max-height: 100vh;\n  overflow-y: scroll;\n}\n\n.subruta {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 0px 20px;\n  align-items: center;\n  position: relative;\n  flex-shrink: 0;\n  min-width: 300px;\n}\n\n.subruta .lineaRuta {\n  position: absolute;\n  top: 0px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: var(--gris);\n  width: 2px;\n  height: 100%;\n}\n</style>"],"sourceRoot":"src/components/usuario"}]}