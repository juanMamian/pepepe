{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/eslint-loader/index.js??ref--13-0!/home/vida1/webpj/pepepe/vuecliente/src/apollo.js","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/apollo.js","mtime":1675084065127},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBBcG9sbG9DbGllbnQsIEh0dHBMaW5rLCBJbk1lbW9yeUNhY2hlIH0gZnJvbSAnQGFwb2xsby9jbGllbnQvY29yZSc7CmltcG9ydCB7IGNyZWF0ZUFwb2xsb1Byb3ZpZGVyIH0gZnJvbSAnQHZ1ZS9hcG9sbG8tb3B0aW9uJzsgLy8gaW1wb3J0IHtXZWJTb2NrZXRMaW5rfSBmcm9tICJAYXBvbGxvL2NsaWVudC9saW5rL3dzIgovLyBpbXBvcnQge2dldE1haW5EZWZpbml0aW9ufSBmcm9tICJAYXBvbGxvL2NsaWVudC91dGlsaXRpZXMiCgppbXBvcnQgeyBzZXRDb250ZXh0IH0gZnJvbSAiQGFwb2xsby9jbGllbnQvbGluay9jb250ZXh0IjsKaW1wb3J0IHsgb25FcnJvciB9IGZyb20gJ0BhcG9sbG8vY2xpZW50L2xpbmsvZXJyb3InOwppbXBvcnQgcG9zc2libGVUeXBlcyBmcm9tICIuLi9wb3NzaWJsZVR5cGVzLmpzb24iOwppbXBvcnQgeyB0eXBlRGVmcywgcmVzb2x2ZXJzIH0gZnJvbSAiLi9hcG9sbG9TdG9yZS9TY2hlbWEiOwpleHBvcnQgdmFyIHNlcnZlclVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnaHR0cDovLzE5Mi4xNjguMS4xMDA6MzAwMCcgOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJzsKZXhwb3J0IHZhciB3c1NlcnZlclVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnd3NzOi8vJyArIHNlcnZlclVybC5zdWJzdHIoNykgKyAnL3N1YnNjcmlwY2lvbmVzJyA6ICd3czovLycgKyBzZXJ2ZXJVcmwuc3Vic3RyKDcpICsgJy9zdWJzY3JpcGNpb25lcyc7CnZhciBjYWNoZSA9IG5ldyBJbk1lbW9yeUNhY2hlKHsKICBwb3NzaWJsZVR5cGVzOiBwb3NzaWJsZVR5cGVzCn0pOwoKdmFyIGdldFRva2VuID0gZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwp9OyAvLyBleHBvcnQgY29uc3Qgd3NTZXJ2ZXJVcmw9cHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJwovLyA/ICd3c3M6Ly8nK3NlcnZlclVybC5zdWJzdHIoNykrJy9zdWJzY3JpcGNpb25lcycKLy8gOiAnd3M6Ly8nK3NlcnZlclVybC5zdWJzdHIoNykrJy9zdWJzY3JpcGNpb25lcycKCgp2YXIgaHR0cExpbmsgPSBuZXcgSHR0cExpbmsoewogIHVyaTogc2VydmVyVXJsICsgIi9ncmFwaHFsIgp9KTsgLy9jb25zb2xlLmxvZyhgRGlyZWNjaW9uIHN1YnNjcmlwY2lvbmVzICR7d3NTZXJ2ZXJVcmx9YCk7Ci8vIGNvbnN0IHdzTGluayA9IG5ldyBXZWJTb2NrZXRMaW5rKHsKLy8gICB1cmk6IHdzU2VydmVyVXJsLAovLyAgIG9wdGlvbnM6IHsKLy8gICAgIHJlY29ubmVjdDogdHJ1ZSwKLy8gICAgIGNvbm5lY3Rpb25QYXJhbXM6IHsKLy8gICAgICAgaGVhZGVyczogewovLyAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtnZXRUb2tlbigpfWAKLy8gICAgICAgfQovLyAgICAgfQovLyAgIH0sCi8vIH0pCgp2YXIgYXV0aExpbmsgPSBzZXRDb250ZXh0KGZ1bmN0aW9uIChfLCBfcmVmKSB7CiAgdmFyIGhlYWRlcnMgPSBfcmVmLmhlYWRlcnM7CiAgcmV0dXJuIHsKICAgIGhlYWRlcnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaGVhZGVycyksIHt9LCB7CiAgICAgIGF1dGhvcml6YXRpb246IGdldFRva2VuKCkKICAgIH0pCiAgfTsKfSk7CnZhciBlcnJvckxpbmsgPSBvbkVycm9yKGZ1bmN0aW9uIChfcmVmMikgewogIHZhciBncmFwaFFMRXJyb3JzID0gX3JlZjIuZ3JhcGhRTEVycm9ycywKICAgICAgbmV0d29ya0Vycm9yID0gX3JlZjIubmV0d29ya0Vycm9yOwoKICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgewogICAgaWYgKGdyYXBoUUxFcnJvcnMpIGdyYXBoUUxFcnJvcnMubWFwKGZ1bmN0aW9uIChfcmVmMykgewogICAgICB2YXIgbWVzc2FnZSA9IF9yZWYzLm1lc3NhZ2UsCiAgICAgICAgICBsb2NhdGlvbnMgPSBfcmVmMy5sb2NhdGlvbnMsCiAgICAgICAgICBwYXRoID0gX3JlZjMucGF0aDsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCJbR3JhcGhRTCBlcnJvcl06IE1lc3NhZ2U6ICIuY29uY2F0KG1lc3NhZ2UsICIsIExvY2F0aW9uOiAiKS5jb25jYXQobG9jYXRpb25zLCAiLCBQYXRoOiAiKS5jb25jYXQocGF0aCkpOwogICAgfSk7CiAgICBpZiAobmV0d29ya0Vycm9yKSBjb25zb2xlLmxvZygiW05ldHdvcmsgZXJyb3JdOiAiLmNvbmNhdChuZXR3b3JrRXJyb3IpKTsKICB9Cn0pOwp2YXIgbGluayA9IGVycm9yTGluay5jb25jYXQoYXV0aExpbmspLmNvbmNhdChodHRwTGluayk7IC8vIGNvbnN0IGZpbmFsTGluayA9IHNwbGl0KAovLyAgIC8vIHNwbGl0IGJhc2VkIG9uIG9wZXJhdGlvbiB0eXBlCi8vICAgKHsgcXVlcnkgfSkgPT4gewovLyAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGdldE1haW5EZWZpbml0aW9uKHF1ZXJ5KQovLyAgICAgcmV0dXJuIGRlZmluaXRpb24ua2luZCA9PT0gJ09wZXJhdGlvbkRlZmluaXRpb24nICYmCi8vICAgICAgIGRlZmluaXRpb24ub3BlcmF0aW9uID09PSAnc3Vic2NyaXB0aW9uJwovLyAgIH0sCi8vICAgd3NMaW5rLAovLyAgIGxpbmsKLy8gKQoKZXhwb3J0IHZhciBhcG9sbG9DbGllbnQgPSBuZXcgQXBvbGxvQ2xpZW50KHsKICBsaW5rOiBsaW5rLAogIGNhY2hlOiBjYWNoZSwKICB0eXBlRGVmczogdHlwZURlZnMsCiAgcmVzb2x2ZXJzOiByZXNvbHZlcnMsCiAgY29ubmVjdFRvRGV2VG9vbHM6IHRydWUKfSk7CmV4cG9ydCB2YXIgYXBvbGxvUHJvdmlkZXIgPSBjcmVhdGVBcG9sbG9Qcm92aWRlcih7CiAgZGVmYXVsdENsaWVudDogYXBvbGxvQ2xpZW50Cn0pOw=="},{"version":3,"sources":["/home/vida1/webpj/pepepe/vuecliente/src/apollo.js"],"names":["ApolloClient","HttpLink","InMemoryCache","createApolloProvider","setContext","onError","possibleTypes","typeDefs","resolvers","serverUrl","process","env","NODE_ENV","wsServerUrl","substr","cache","getToken","localStorage","getItem","httpLink","uri","authLink","_","headers","authorization","errorLink","graphQLErrors","networkError","map","message","locations","path","console","log","link","concat","apolloClient","connectToDevTools","apolloProvider","defaultClient"],"mappings":";;;AAAA,SAASA,YAAT,EAAuBC,QAAvB,EAAiCC,aAAjC,QAAsD,qBAAtD;AACA,SAASC,oBAAT,QAAqC,oBAArC,C,CAEA;AAEA;;AACA,SAAQC,UAAR,QAAyB,6BAAzB;AACA,SAASC,OAAT,QAAwB,2BAAxB;AAEA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAmC,sBAAnC;AAGA,OAAO,IAAMC,SAAS,GAACC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACrB,2BADqB,GAErB,uBAFK;AAMP,OAAO,IAAMC,WAAW,GAACH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACvB,WAASH,SAAS,CAACK,MAAV,CAAiB,CAAjB,CAAT,GAA6B,iBADN,GAEvB,UAAQL,SAAS,CAACK,MAAV,CAAiB,CAAjB,CAAR,GAA4B,iBAFvB;AAKP,IAAMC,KAAK,GAAE,IAAIb,aAAJ,CAAkB;AAC7BI,EAAAA,aAAa,EAAbA;AAD6B,CAAlB,CAAb;;AAKA,IAAIU,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAKC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAL;AAAA,CAAf,C,CAMA;AACA;AACA;;;AAGA,IAAMC,QAAQ,GAAG,IAAIlB,QAAJ,CAAa;AAC5BmB,EAAAA,GAAG,EAAEX,SAAS,GAAC;AADa,CAAb,CAAjB,C,CAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMY,QAAQ,GAACjB,UAAU,CAAC,UAACkB,CAAD,QAAgB;AAAA,MAAXC,OAAW,QAAXA,OAAW;AACtC,SAAO;AACHA,IAAAA,OAAO,kCACAA,OADA;AAEHC,MAAAA,aAAa,EAAER,QAAQ;AAFpB;AADJ,GAAP;AAMH,CAPwB,CAAzB;AASA,IAAMS,SAAS,GAAGpB,OAAO,CAAC,iBAAqC;AAAA,MAAlCqB,aAAkC,SAAlCA,aAAkC;AAAA,MAAnBC,YAAmB,SAAnBA,YAAmB;;AAC7D,MAAIjB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAIc,aAAJ,EACEA,aAAa,CAACE,GAAd,CAAkB;AAAA,UAAGC,OAAH,SAAGA,OAAH;AAAA,UAAYC,SAAZ,SAAYA,SAAZ;AAAA,UAAuBC,IAAvB,SAAuBA,IAAvB;AAAA,aAChBC,OAAO,CAACC,GAAR,qCAC+BJ,OAD/B,yBACqDC,SADrD,qBACyEC,IADzE,EADgB;AAAA,KAAlB;AAMF,QAAIJ,YAAJ,EAAkBK,OAAO,CAACC,GAAR,4BAAgCN,YAAhC;AACnB;AACF,CAXwB,CAAzB;AAaA,IAAMO,IAAI,GAACT,SAAS,CAACU,MAAV,CAAiBd,QAAjB,EAA2Bc,MAA3B,CAAkChB,QAAlC,CAAX,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMiB,YAAY,GAAC,IAAIpC,YAAJ,CAAiB;AACzCkC,EAAAA,IAAI,EAAJA,IADyC;AAEzCnB,EAAAA,KAAK,EAALA,KAFyC;AAGzCR,EAAAA,QAAQ,EAARA,QAHyC;AAIzCC,EAAAA,SAAS,EAATA,SAJyC;AAKzC6B,EAAAA,iBAAiB,EAAC;AALuB,CAAjB,CAAnB;AASP,OAAO,IAAMC,cAAc,GAACnC,oBAAoB,CAAC;AAC/CoC,EAAAA,aAAa,EAACH;AADiC,CAAD,CAAzC","sourcesContent":["import { ApolloClient, HttpLink, InMemoryCache } from '@apollo/client/core'\nimport { createApolloProvider } from '@vue/apollo-option'\n\n// import {WebSocketLink} from \"@apollo/client/link/ws\"\n\n// import {getMainDefinition} from \"@apollo/client/utilities\"\nimport {setContext} from \"@apollo/client/link/context\"\nimport { onError } from '@apollo/client/link/error'\n\nimport possibleTypes from \"../possibleTypes.json\"\nimport { typeDefs, resolvers} from \"./apolloStore/Schema\"\n\n\nexport const serverUrl=process.env.NODE_ENV === 'production'\n? 'https://pe-pe-pe.herokuapp.com'\n: 'http://localhost:3000'\n\n\n\nexport const wsServerUrl=process.env.NODE_ENV === 'production'\n? 'wss://'+serverUrl.substr(7)+'/subscripciones'\n: 'ws://'+serverUrl.substr(7)+'/subscripciones'\n\n\nconst cache= new InMemoryCache({\n  possibleTypes\n});\n\n\nlet getToken = ()=> localStorage.getItem('token');\n\n\n\n\n\n// export const wsServerUrl=process.env.NODE_ENV === 'production'\n// ? 'wss://'+serverUrl.substr(7)+'/subscripciones'\n// : 'ws://'+serverUrl.substr(7)+'/subscripciones'\n\n\nconst httpLink = new HttpLink({\n  uri: serverUrl+\"/graphql\"\n});\n\n//console.log(`Direccion subscripciones ${wsServerUrl}`);\n\n// const wsLink = new WebSocketLink({\n//   uri: wsServerUrl,\n//   options: {\n//     reconnect: true,\n//     connectionParams: {\n//       headers: {\n//         Authorization: `Bearer ${getToken()}`\n//       }\n//     }\n//   },\n// })\n\nconst authLink=setContext((_, {headers})=>{    \n    return {\n        headers:{\n            ...headers,\n            authorization: getToken()\n        }\n    }\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (graphQLErrors)\n      graphQLErrors.map(({ message, locations, path }) =>\n        console.log(\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n        ),\n      )\n\n    if (networkError) console.log(`[Network error]: ${networkError}`)\n  }\n});\n\nconst link=errorLink.concat(authLink).concat(httpLink);\n\n\n// const finalLink = split(\n//   // split based on operation type\n//   ({ query }) => {\n//     const definition = getMainDefinition(query)\n//     return definition.kind === 'OperationDefinition' &&\n//       definition.operation === 'subscription'\n//   },\n//   wsLink,\n//   link\n// )\n\nexport const apolloClient=new ApolloClient({\n  link,\n  cache,\n  typeDefs,\n  resolvers,\n  connectToDevTools:true,\n});\n\n\nexport const apolloProvider=createApolloProvider({\n  defaultClient:apolloClient\n});\n\n\n"]}]}