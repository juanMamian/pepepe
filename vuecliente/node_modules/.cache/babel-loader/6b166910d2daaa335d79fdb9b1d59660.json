{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/Registro.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/Registro.vue","mtime":1644587546122},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyB2YWxpZGFyRGF0b3NVc3VhcmlvIH0gZnJvbSAiLi91dGlsaWRhZGVzL3ZhbGlkYWNpb25EYXRvc1VzdWFyaW8iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZ2lzdHJvIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0b3NSZWdpc3RybzogewogICAgICAgIG5vbWJyZXM6IG51bGwsCiAgICAgICAgYXBlbGxpZG9zOiBudWxsLAogICAgICAgIGZlY2hhTmFjaW1pZW50bzogbnVsbCwKICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICBudW1lcm9UZWw6IG51bGwsCiAgICAgICAgbHVnYXJSZXNpZGVuY2lhOiBudWxsLAogICAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICAgIHBhc3N3b3JkOiBudWxsCiAgICAgIH0sCiAgICAgIGNhbXBvc09ibGlnYXRvcmlvczogWyJub21icmVzIiwgImFwZWxsaWRvcyIsICJ1c2VybmFtZSIsICJwYXNzd29yZCJdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZW52aWFyUmVnaXN0cm86IGZ1bmN0aW9uIGVudmlhclJlZ2lzdHJvKCkgewogICAgICB2YXIgZGF0b3NJbnRyb2R1Y2lkb3MgPSBuZXcgT2JqZWN0KCk7CgogICAgICBpZiAoIXRoaXMuZGF0b3NSZWdpc3Ryby51c2VybmFtZSkgewogICAgICAgIHRoaXMuZGF0b3NSZWdpc3Ryby51c2VybmFtZSA9IHRoaXMuZGF0b3NSZWdpc3Ryby5ub21icmVzLnNwbGl0KCcgJylbMF0gKyB0aGlzLmRhdG9zUmVnaXN0cm8uYXBlbGxpZG9zLnNwbGl0KCcgJylbMF07CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5kYXRvc1JlZ2lzdHJvLnBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5kYXRvc1JlZ2lzdHJvLnBhc3N3b3JkID0gdGhpcy5kYXRvc1JlZ2lzdHJvLm5vbWJyZXMuc3BsaXQoJyAnKVswXSArIHRoaXMuZGF0b3NSZWdpc3Ryby5hcGVsbGlkb3Muc3BsaXQoJyAnKVswXTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgY2FtcG8gaW4gdGhpcy5kYXRvc1JlZ2lzdHJvKSB7CiAgICAgICAgaWYgKCF0aGlzLmRhdG9zUmVnaXN0cm9bY2FtcG9dKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiY2FtcG8gIi5jb25jYXQoY2FtcG8sICIgdmFjaW8iKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRhdG9zSW50cm9kdWNpZG9zW2NhbXBvXSA9IHRoaXMuZGF0b3NSZWdpc3Ryb1tjYW1wb107CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmNhbXBvc09ibGlnYXRvcmlvcy5mb3JFYWNoKGZ1bmN0aW9uIChjYW1wb09ibGlnYXRvcmlvKSB7CiAgICAgICAgaWYgKCFkYXRvc0ludHJvZHVjaWRvc1tjYW1wb09ibGlnYXRvcmlvXSkgewogICAgICAgICAgY29uc29sZS5sb2coIkZhbHRhYmEgZWwgY2FtcG8gIi5jb25jYXQoY2FtcG9PYmxpZ2F0b3JpbykpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBkaXMgPSB0aGlzOwogICAgICB2YXIgZXJyb3JlcyA9IHZhbGlkYXJEYXRvc1VzdWFyaW8oZGF0b3NJbnRyb2R1Y2lkb3MpOwoKICAgICAgaWYgKGVycm9yZXMubGVuZ3RoIDwgMSkgewogICAgICAgIGF4aW9zLnBvc3QodGhpcy5zZXJ2ZXJVcmwgKyAiL2FwaS91c3Vhcmlvcy9yZWdpc3RybyIsIHsKICAgICAgICAgIHVzdWFyaW86IGRhdG9zSW50cm9kdWNpZG9zCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcHVlc3RhKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygicmVzcHVlc3RhOiAiLmNvbmNhdChKU09OLnN0cmluZ2lmeShyZXNwdWVzdGEuZGF0YSkpKTsKCiAgICAgICAgICBpZiAocmVzcHVlc3RhLmRhdGEucmVnaXN0cm8pIHsKICAgICAgICAgICAgYWxlcnQoIlJlZ2lzdHJvIG9rIik7CiAgICAgICAgICB9CgogICAgICAgICAgZGlzLnZhY2lhckNhbXBvcygpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yOiAiLmNvbmNhdChlcnJvcikpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvcmVzOiAiLmNvbmNhdChlcnJvcmVzKSk7CiAgICAgIH0KICAgIH0sCiAgICB2YWNpYXJDYW1wb3M6IGZ1bmN0aW9uIHZhY2lhckNhbXBvcygpIHsKICAgICAgY29uc29sZS5sb2coIlZhY2lhbmRvIGNhbXBvcyIpOwogICAgICB0aGlzLmRhdG9zUmVnaXN0cm8gPSB7CiAgICAgICAgbm9tYnJlczogbnVsbCwKICAgICAgICBhcGVsbGlkb3M6IG51bGwsCiAgICAgICAgZmVjaGFOYWNpbWllbnRvOiBudWxsLAogICAgICAgIGVtYWlsOiBudWxsLAogICAgICAgIG51bWVyb1RlbDogbnVsbCwKICAgICAgICBsdWdhclJlc2lkZW5jaWE6IG51bGwsCiAgICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgICAgcGFzc3dvcmQ6IG51bGwKICAgICAgfTsKICAgIH0sCiAgICBhbGVydGFyOiBmdW5jdGlvbiBhbGVydGFyKG1zaikgewogICAgICBjb25zb2xlLmxvZyhtc2opOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Registro.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,mBAAA,QAAA,qCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,aAAA,EAAA;AACA,QAAA,OAAA,EAAA,IADA;AAEA,QAAA,SAAA,EAAA,IAFA;AAGA,QAAA,eAAA,EAAA,IAHA;AAIA,QAAA,KAAA,EAAA,IAJA;AAKA,QAAA,SAAA,EAAA,IALA;AAMA,QAAA,eAAA,EAAA,IANA;AAOA,QAAA,QAAA,EAAA,IAPA;AAQA,QAAA,QAAA,EAAA;AARA,OADA;AAWA,MAAA,kBAAA,EAAA,CAAA,SAAA,EAAA,WAAA,EAAA,UAAA,EAAA,UAAA;AAXA,KAAA;AAaA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,iBAAA,GAAA,IAAA,MAAA,EAAA;;AACA,UAAA,CAAA,KAAA,aAAA,CAAA,QAAA,EAAA;AACA,aAAA,aAAA,CAAA,QAAA,GAAA,KAAA,aAAA,CAAA,OAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,KAAA,aAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA;;AACA,UAAA,CAAA,KAAA,aAAA,CAAA,QAAA,EAAA;AACA,aAAA,aAAA,CAAA,QAAA,GAAA,KAAA,aAAA,CAAA,OAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,KAAA,aAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA;;AAGA,WAAA,IAAA,KAAA,IAAA,KAAA,aAAA,EAAA;AACA,YAAA,CAAA,KAAA,aAAA,CAAA,KAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,iBAAA,KAAA;AACA,SAFA,MAEA;AACA,UAAA,iBAAA,CAAA,KAAA,CAAA,GAAA,KAAA,aAAA,CAAA,KAAA,CAAA;AACA;AACA;;AAEA,WAAA,kBAAA,CAAA,OAAA,CAAA,UAAA,gBAAA,EAAA;AACA,YAAA,CAAA,iBAAA,CAAA,gBAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,4BAAA,gBAAA;AACA;AACA;AACA,OALA;AAMA,UAAA,GAAA,GAAA,IAAA;AAEA,UAAA,OAAA,GAAA,mBAAA,CAAA,iBAAA,CAAA;;AACA,UAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,KAAA,CACA,IADA,CACA,KAAA,SAAA,GAAA,wBADA,EACA;AACA,UAAA,OAAA,EAAA;AADA,SADA,EAIA,IAJA,CAIA,UAAA,SAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,sBAAA,IAAA,CAAA,SAAA,CAAA,SAAA,CAAA,IAAA,CAAA;;AACA,cAAA,SAAA,CAAA,IAAA,CAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,aAAA,CAAA;AACA;;AACA,UAAA,GAAA,CAAA,YAAA;AACA,SAVA,EAWA,KAXA,CAWA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,kBAAA,KAAA;AACA,SAbA;AAcA,OAfA,MAeA;AACA,QAAA,OAAA,CAAA,GAAA,oBAAA,OAAA;AACA;AACA,KA9CA;AA+CA,IAAA,YA/CA,0BA+CA;AACA,MAAA,OAAA,CAAA,GAAA;AACA,WAAA,aAAA,GAAA;AACA,QAAA,OAAA,EAAA,IADA;AAEA,QAAA,SAAA,EAAA,IAFA;AAGA,QAAA,eAAA,EAAA,IAHA;AAIA,QAAA,KAAA,EAAA,IAJA;AAKA,QAAA,SAAA,EAAA,IALA;AAMA,QAAA,eAAA,EAAA,IANA;AAOA,QAAA,QAAA,EAAA,IAPA;AAQA,QAAA,QAAA,EAAA;AARA,OAAA;AAUA,KA3DA;AA4DA,IAAA,OA5DA,mBA4DA,GA5DA,EA4DA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA;AA9DA;AAjBA,CAAA","sourcesContent":["<template>\n  <div class=\"registro\">\n    <form>\n      <div id=\"zonaDatosPersonales\">\n        <h3>Información Personal</h3>\n        <input\n          v-model=\"datosRegistro.nombres\"\n          type=\"text\"\n          name=\"nombres\"\n          placeholder=\"Nombres\"\n        /><br />\n        <input\n          v-model=\"datosRegistro.apellidos\"\n          type=\"text\"\n          name=\"apellidos\"\n          placeholder=\"Apellidos\"\n        /><br /><br />\n        <label for=\"fechaNacimiento\">Fecha de nacimiento</label><br />\n        <input\n          v-model=\"datosRegistro.fechaNacimiento\"\n          type=\"date\"\n          name=\"fechaNacimiento\"\n        /><br />\n      </div>\n\n      <div id=\"zonaContacto\">\n        <h3>Datos de contacto</h3>\n        <input\n          v-model=\"datosRegistro.email\"\n          type=\"email\"\n          placeholder=\"Correo electrónico\"\n        /><br /><br />\n        <label for=\"numeroTel\">Número telefónico</label><br />\n        <input\n          v-model=\"datosRegistro.numeroTel\"\n          type=\"text\"\n          name=\"numeroTel\"\n        /><br /><br />\n        <label for=\"lugarResidencia\">Lugar de residencia</label><br />\n        <input\n          v-model=\"datosRegistro.lugarResidencia\"\n          type=\"text\"\n          placeholder=\"Lugar de residencia\"\n        />\n      </div>\n\n      <div id=\"zonaLogin\">\n        <h3>Datos de login</h3>\n        <input\n          type=\"text\"\n          placeholder=\"nombre de usuario\"\n          name=\"username\"\n          v-model=\"datosRegistro.username\"\n        /><br />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          name=\"password\"\n          v-model=\"datosRegistro.password\"\n        /><br />\n      </div>\n\n      <button @click.prevent=\"enviarRegistro\">Enviar</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { validarDatosUsuario } from \"./utilidades/validacionDatosUsuario\";\n\nexport default {\n  name: \"Registro\",\n  data() {\n    return {\n      datosRegistro: {\n        nombres: null,\n        apellidos: null,\n        fechaNacimiento: null,\n        email: null,\n        numeroTel: null,\n        lugarResidencia: null,\n        username: null,\n        password: null,\n      },\n      camposObligatorios: [\"nombres\", \"apellidos\", \"username\", \"password\"],\n    };\n  },\n  methods: {\n    enviarRegistro() {\n      let datosIntroducidos = new Object();\n      if(!this.datosRegistro.username){\n        this.datosRegistro.username = this.datosRegistro.nombres.split(' ')[0] + this.datosRegistro.apellidos.split(' ')[0]\n      }\n      if(!this.datosRegistro.password){\n        this.datosRegistro.password =this.datosRegistro.nombres.split(' ')[0] + this.datosRegistro.apellidos.split(' ')[0]\n      }\n\n\n      for (let campo in this.datosRegistro) {\n        if (!this.datosRegistro[campo]) {\n          console.log(`campo ${campo} vacio`);\n        } else {\n          datosIntroducidos[campo] = this.datosRegistro[campo];\n        }\n      }\n\n      this.camposObligatorios.forEach((campoObligatorio) => {\n        if (!datosIntroducidos[campoObligatorio]) {\n          console.log(`Faltaba el campo ${campoObligatorio}`);\n          return;\n        }\n      });\n      let dis = this;\n\n      let errores = validarDatosUsuario(datosIntroducidos);\n      if (errores.length < 1) {\n        axios\n          .post(this.serverUrl + \"/api/usuarios/registro\", {\n            usuario: datosIntroducidos,\n          })\n          .then(function (respuesta) {\n            console.log(`respuesta: ${JSON.stringify(respuesta.data)}`);\n            if (respuesta.data.registro) {\n              alert(\"Registro ok\");\n            }\n            dis.vaciarCampos();\n          })\n          .catch(function (error) {\n            console.log(`error: ${error}`);\n          });\n      } else {\n        console.log(`Errores: ${errores}`);\n      }\n    },\n    vaciarCampos() {\n      console.log(`Vaciando campos`);\n      this.datosRegistro = {\n        nombres: null,\n        apellidos: null,\n        fechaNacimiento: null,\n        email: null,\n        numeroTel: null,\n        lugarResidencia: null,\n        username: null,\n        password: null,\n      };\n    },\n    alertar(msj) {\n      console.log(msj);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.registro {\n  padding-left: 15%;\n  padding-top: 5%;\n}\n</style>"],"sourceRoot":"src/components"}]}