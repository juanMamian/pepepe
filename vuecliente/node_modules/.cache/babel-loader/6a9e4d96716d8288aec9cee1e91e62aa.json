{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/eslint-loader/index.js??ref--13-0!/home/vida1/webpj/pepepe/vuecliente/src/apollo.js","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/apollo.js","mtime":1669040357954},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBBcG9sbG9DbGllbnQsIEh0dHBMaW5rLCBJbk1lbW9yeUNhY2hlIH0gZnJvbSAnQGFwb2xsby9jbGllbnQvY29yZSc7CmltcG9ydCB7IGNyZWF0ZUFwb2xsb1Byb3ZpZGVyIH0gZnJvbSAnQHZ1ZS9hcG9sbG8tb3B0aW9uJzsgLy8gaW1wb3J0IHtXZWJTb2NrZXRMaW5rfSBmcm9tICJAYXBvbGxvL2NsaWVudC9saW5rL3dzIgovLyBpbXBvcnQge2dldE1haW5EZWZpbml0aW9ufSBmcm9tICJAYXBvbGxvL2NsaWVudC91dGlsaXRpZXMiCgppbXBvcnQgeyBzZXRDb250ZXh0IH0gZnJvbSAiQGFwb2xsby9jbGllbnQvbGluay9jb250ZXh0IjsKaW1wb3J0IHsgb25FcnJvciB9IGZyb20gJ0BhcG9sbG8vY2xpZW50L2xpbmsvZXJyb3InOwppbXBvcnQgcG9zc2libGVUeXBlcyBmcm9tICIuLi9wb3NzaWJsZVR5cGVzLmpzb24iOwppbXBvcnQgeyB0eXBlRGVmcywgcmVzb2x2ZXJzIH0gZnJvbSAiLi9hcG9sbG9TdG9yZS9TY2hlbWEiOwpleHBvcnQgdmFyIHNlcnZlclVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyAnaHR0cDovLzE5Mi4xNjguMS4xMDA6MzAwMCcgOiAnaHR0cDovLzE5Mi4xNjguMS4xMDA6MzAwMCc7CmV4cG9ydCB2YXIgd3NTZXJ2ZXJVcmwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gJ3dzczovLycgKyBzZXJ2ZXJVcmwuc3Vic3RyKDcpICsgJy9zdWJzY3JpcGNpb25lcycgOiAnd3M6Ly8nICsgc2VydmVyVXJsLnN1YnN0cig3KSArICcvc3Vic2NyaXBjaW9uZXMnOwp2YXIgY2FjaGUgPSBuZXcgSW5NZW1vcnlDYWNoZSh7CiAgcG9zc2libGVUeXBlczogcG9zc2libGVUeXBlcwp9KTsKCnZhciBnZXRUb2tlbiA9IGZ1bmN0aW9uIGdldFRva2VuKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKfTsgLy8gZXhwb3J0IGNvbnN0IHdzU2VydmVyVXJsPXByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicKLy8gPyAnd3NzOi8vJytzZXJ2ZXJVcmwuc3Vic3RyKDcpKycvc3Vic2NyaXBjaW9uZXMnCi8vIDogJ3dzOi8vJytzZXJ2ZXJVcmwuc3Vic3RyKDcpKycvc3Vic2NyaXBjaW9uZXMnCgoKdmFyIGh0dHBMaW5rID0gbmV3IEh0dHBMaW5rKHsKICB1cmk6IHNlcnZlclVybCArICIvZ3JhcGhxbCIKfSk7IC8vY29uc29sZS5sb2coYERpcmVjY2lvbiBzdWJzY3JpcGNpb25lcyAke3dzU2VydmVyVXJsfWApOwovLyBjb25zdCB3c0xpbmsgPSBuZXcgV2ViU29ja2V0TGluayh7Ci8vICAgdXJpOiB3c1NlcnZlclVybCwKLy8gICBvcHRpb25zOiB7Ci8vICAgICByZWNvbm5lY3Q6IHRydWUsCi8vICAgICBjb25uZWN0aW9uUGFyYW1zOiB7Ci8vICAgICAgIGhlYWRlcnM6IHsKLy8gICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Z2V0VG9rZW4oKX1gCi8vICAgICAgIH0KLy8gICAgIH0KLy8gICB9LAovLyB9KQoKdmFyIGF1dGhMaW5rID0gc2V0Q29udGV4dChmdW5jdGlvbiAoXywgX3JlZikgewogIHZhciBoZWFkZXJzID0gX3JlZi5oZWFkZXJzOwogIHJldHVybiB7CiAgICBoZWFkZXJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGhlYWRlcnMpLCB7fSwgewogICAgICBhdXRob3JpemF0aW9uOiBnZXRUb2tlbigpCiAgICB9KQogIH07Cn0pOwp2YXIgZXJyb3JMaW5rID0gb25FcnJvcihmdW5jdGlvbiAoX3JlZjIpIHsKICB2YXIgZ3JhcGhRTEVycm9ycyA9IF9yZWYyLmdyYXBoUUxFcnJvcnMsCiAgICAgIG5ldHdvcmtFcnJvciA9IF9yZWYyLm5ldHdvcmtFcnJvcjsKCiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHsKICAgIGlmIChncmFwaFFMRXJyb3JzKSBncmFwaFFMRXJyb3JzLm1hcChmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgdmFyIG1lc3NhZ2UgPSBfcmVmMy5tZXNzYWdlLAogICAgICAgICAgbG9jYXRpb25zID0gX3JlZjMubG9jYXRpb25zLAogICAgICAgICAgcGF0aCA9IF9yZWYzLnBhdGg7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygiW0dyYXBoUUwgZXJyb3JdOiBNZXNzYWdlOiAiLmNvbmNhdChtZXNzYWdlLCAiLCBMb2NhdGlvbjogIikuY29uY2F0KGxvY2F0aW9ucywgIiwgUGF0aDogIikuY29uY2F0KHBhdGgpKTsKICAgIH0pOwogICAgaWYgKG5ldHdvcmtFcnJvcikgY29uc29sZS5sb2coIltOZXR3b3JrIGVycm9yXTogIi5jb25jYXQobmV0d29ya0Vycm9yKSk7CiAgfQp9KTsKdmFyIGxpbmsgPSBlcnJvckxpbmsuY29uY2F0KGF1dGhMaW5rKS5jb25jYXQoaHR0cExpbmspOyAvLyBjb25zdCBmaW5hbExpbmsgPSBzcGxpdCgKLy8gICAvLyBzcGxpdCBiYXNlZCBvbiBvcGVyYXRpb24gdHlwZQovLyAgICh7IHF1ZXJ5IH0pID0+IHsKLy8gICAgIGNvbnN0IGRlZmluaXRpb24gPSBnZXRNYWluRGVmaW5pdGlvbihxdWVyeSkKLy8gICAgIHJldHVybiBkZWZpbml0aW9uLmtpbmQgPT09ICdPcGVyYXRpb25EZWZpbml0aW9uJyAmJgovLyAgICAgICBkZWZpbml0aW9uLm9wZXJhdGlvbiA9PT0gJ3N1YnNjcmlwdGlvbicKLy8gICB9LAovLyAgIHdzTGluaywKLy8gICBsaW5rCi8vICkKCmV4cG9ydCB2YXIgYXBvbGxvQ2xpZW50ID0gbmV3IEFwb2xsb0NsaWVudCh7CiAgbGluazogbGluaywKICBjYWNoZTogY2FjaGUsCiAgdHlwZURlZnM6IHR5cGVEZWZzLAogIHJlc29sdmVyczogcmVzb2x2ZXJzLAogIGNvbm5lY3RUb0RldlRvb2xzOiB0cnVlCn0pOwpleHBvcnQgdmFyIGFwb2xsb1Byb3ZpZGVyID0gY3JlYXRlQXBvbGxvUHJvdmlkZXIoewogIGRlZmF1bHRDbGllbnQ6IGFwb2xsb0NsaWVudAp9KTs="},{"version":3,"sources":["/home/vida1/webpj/pepepe/vuecliente/src/apollo.js"],"names":["ApolloClient","HttpLink","InMemoryCache","createApolloProvider","setContext","onError","possibleTypes","typeDefs","resolvers","serverUrl","process","env","NODE_ENV","wsServerUrl","substr","cache","getToken","localStorage","getItem","httpLink","uri","authLink","_","headers","authorization","errorLink","graphQLErrors","networkError","map","message","locations","path","console","log","link","concat","apolloClient","connectToDevTools","apolloProvider","defaultClient"],"mappings":";;;AAAA,SAASA,YAAT,EAAuBC,QAAvB,EAAiCC,aAAjC,QAAsD,qBAAtD;AACA,SAASC,oBAAT,QAAqC,oBAArC,C,CAEA;AAEA;;AACA,SAAQC,UAAR,QAAyB,6BAAzB;AACA,SAASC,OAAT,QAAwB,2BAAxB;AAEA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAmC,sBAAnC;AAIA,OAAO,IAAMC,SAAS,GAACC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACrB,2BADqB,GAErB,2BAFK;AAMP,OAAO,IAAMC,WAAW,GAACH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACvB,WAASH,SAAS,CAACK,MAAV,CAAiB,CAAjB,CAAT,GAA6B,iBADN,GAEvB,UAAQL,SAAS,CAACK,MAAV,CAAiB,CAAjB,CAAR,GAA4B,iBAFvB;AAKP,IAAMC,KAAK,GAAE,IAAIb,aAAJ,CAAkB;AAC7BI,EAAAA,aAAa,EAAbA;AAD6B,CAAlB,CAAb;;AAKA,IAAIU,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAKC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAL;AAAA,CAAf,C,CAMA;AACA;AACA;;;AAGA,IAAMC,QAAQ,GAAG,IAAIlB,QAAJ,CAAa;AAC5BmB,EAAAA,GAAG,EAAEX,SAAS,GAAC;AADa,CAAb,CAAjB,C,CAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMY,QAAQ,GAACjB,UAAU,CAAC,UAACkB,CAAD,QAAgB;AAAA,MAAXC,OAAW,QAAXA,OAAW;AACtC,SAAO;AACHA,IAAAA,OAAO,kCACAA,OADA;AAEHC,MAAAA,aAAa,EAAER,QAAQ;AAFpB;AADJ,GAAP;AAMH,CAPwB,CAAzB;AASA,IAAMS,SAAS,GAAGpB,OAAO,CAAC,iBAAqC;AAAA,MAAlCqB,aAAkC,SAAlCA,aAAkC;AAAA,MAAnBC,YAAmB,SAAnBA,YAAmB;;AAC7D,MAAIjB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAIc,aAAJ,EACEA,aAAa,CAACE,GAAd,CAAkB;AAAA,UAAGC,OAAH,SAAGA,OAAH;AAAA,UAAYC,SAAZ,SAAYA,SAAZ;AAAA,UAAuBC,IAAvB,SAAuBA,IAAvB;AAAA,aAChBC,OAAO,CAACC,GAAR,qCAC+BJ,OAD/B,yBACqDC,SADrD,qBACyEC,IADzE,EADgB;AAAA,KAAlB;AAMF,QAAIJ,YAAJ,EAAkBK,OAAO,CAACC,GAAR,4BAAgCN,YAAhC;AACnB;AACF,CAXwB,CAAzB;AAaA,IAAMO,IAAI,GAACT,SAAS,CAACU,MAAV,CAAiBd,QAAjB,EAA2Bc,MAA3B,CAAkChB,QAAlC,CAAX,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMiB,YAAY,GAAC,IAAIpC,YAAJ,CAAiB;AACzCkC,EAAAA,IAAI,EAAJA,IADyC;AAEzCnB,EAAAA,KAAK,EAALA,KAFyC;AAGzCR,EAAAA,QAAQ,EAARA,QAHyC;AAIzCC,EAAAA,SAAS,EAATA,SAJyC;AAKzC6B,EAAAA,iBAAiB,EAAC;AALuB,CAAjB,CAAnB;AASP,OAAO,IAAMC,cAAc,GAACnC,oBAAoB,CAAC;AAC/CoC,EAAAA,aAAa,EAACH;AADiC,CAAD,CAAzC","sourcesContent":["import { ApolloClient, HttpLink, InMemoryCache } from '@apollo/client/core'\nimport { createApolloProvider } from '@vue/apollo-option'\n\n// import {WebSocketLink} from \"@apollo/client/link/ws\"\n\n// import {getMainDefinition} from \"@apollo/client/utilities\"\nimport {setContext} from \"@apollo/client/link/context\"\nimport { onError } from '@apollo/client/link/error'\n\nimport possibleTypes from \"../possibleTypes.json\"\nimport { typeDefs, resolvers} from \"./apolloStore/Schema\"\n\n\n\nexport const serverUrl=process.env.NODE_ENV === 'production'\n? 'https://pe-pe-pe.herokuapp.com'\n: 'https://pe-pe-pe.herokuapp.com'\n\n\n\nexport const wsServerUrl=process.env.NODE_ENV === 'production'\n? 'wss://'+serverUrl.substr(7)+'/subscripciones'\n: 'ws://'+serverUrl.substr(7)+'/subscripciones'\n\n\nconst cache= new InMemoryCache({\n  possibleTypes\n});\n\n\nlet getToken = ()=> localStorage.getItem('token');\n\n\n\n\n\n// export const wsServerUrl=process.env.NODE_ENV === 'production'\n// ? 'wss://'+serverUrl.substr(7)+'/subscripciones'\n// : 'ws://'+serverUrl.substr(7)+'/subscripciones'\n\n\nconst httpLink = new HttpLink({\n  uri: serverUrl+\"/graphql\"\n});\n\n//console.log(`Direccion subscripciones ${wsServerUrl}`);\n\n// const wsLink = new WebSocketLink({\n//   uri: wsServerUrl,\n//   options: {\n//     reconnect: true,\n//     connectionParams: {\n//       headers: {\n//         Authorization: `Bearer ${getToken()}`\n//       }\n//     }\n//   },\n// })\n\nconst authLink=setContext((_, {headers})=>{    \n    return {\n        headers:{\n            ...headers,\n            authorization: getToken()\n        }\n    }\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (graphQLErrors)\n      graphQLErrors.map(({ message, locations, path }) =>\n        console.log(\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n        ),\n      )\n\n    if (networkError) console.log(`[Network error]: ${networkError}`)\n  }\n});\n\nconst link=errorLink.concat(authLink).concat(httpLink);\n\n\n// const finalLink = split(\n//   // split based on operation type\n//   ({ query }) => {\n//     const definition = getMainDefinition(query)\n//     return definition.kind === 'OperationDefinition' &&\n//       definition.operation === 'subscription'\n//   },\n//   wsLink,\n//   link\n// )\n\nexport const apolloClient=new ApolloClient({\n  link,\n  cache,\n  typeDefs,\n  resolvers,\n  connectToDevTools:true,\n});\n\n\nexport const apolloProvider=createApolloProvider({\n  defaultClient:apolloClient\n});\n\n\n"]}]}