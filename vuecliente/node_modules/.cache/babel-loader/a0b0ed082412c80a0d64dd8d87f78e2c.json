{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/BuscadorPersonas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/usuario/BuscadorPersonas.vue","mtime":1644587546122},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCBmcm9tICIvaG9tZS92aWRhMS93ZWJwai9wZXBlcGUvdnVlY2xpZW50ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIjsKCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnkoJHRleHRvQnVzY2FyOlN0cmluZyEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVzY2FyUGVyc29uYXModGV4dG9CdXNjYXI6JHRleHRvQnVzY2FyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vbWJyZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGVsbGlkb3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNvc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIl0pOwoKICBfdGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7CmltcG9ydCBMb2FkaW5nIGZyb20gJy4uL3V0aWxpZGFkZXMvTG9hZGluZy52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTG9hZGluZzogTG9hZGluZwogIH0sCiAgbmFtZTogIkJ1c2NhZG9yUGVyc29uYXMiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBidXNjYW5kbzogZmFsc2UsCiAgICAgIG1vc3RyYW5kb0lucHV0OiBmYWxzZSwKICAgICAgdGV4dG9CdXNjYXI6IG51bGwsCiAgICAgIHJlc3VsdGFkb3M6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2VycmFyQnVzcXVlZGE6IGZ1bmN0aW9uIGNlcnJhckJ1c3F1ZWRhKCkgewogICAgICB0aGlzLnRleHRvQnVzY2FyID0gbnVsbDsKICAgICAgdGhpcy5tb3N0cmFuZG9JbnB1dCA9IGZhbHNlOwogICAgICB0aGlzLmJ1c2NhbmRvID0gZmFsc2U7CiAgICAgIHRoaXMucmVzdWx0YWRvcyA9IFtdOwogICAgfSwKICAgIGNsaWNrRW5MdXBhOiBmdW5jdGlvbiBjbGlja0VuTHVwYSgpIHsKICAgICAgaWYgKHRoaXMubW9zdHJhbmRvSW5wdXQpIHsKICAgICAgICB0aGlzLmJ1c2NhcigpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tb3N0cmFuZG9JbnB1dCA9IHRydWU7CiAgICB9LAogICAgYnVzY2FyOiBmdW5jdGlvbiBidXNjYXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdGV4dG9CdXNjYXIgPSB0aGlzLiRyZWZzLmlucHV0QnVzY2FyLnZhbHVlOwogICAgICB0ZXh0b0J1c2NhciA9IHRleHRvQnVzY2FyLnRyaW0oKTsKICAgICAgdGhpcy5idXNjYW5kbyA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsby5xdWVyeSh7CiAgICAgICAgcXVlcnk6IGdxbChfdGVtcGxhdGVPYmplY3QoKSksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICB0ZXh0b0J1c2NhcjogdGV4dG9CdXNjYXIKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgYnVzY2FyUGVyc29uYXMgPSBfcmVmLmRhdGEuYnVzY2FyUGVyc29uYXM7CiAgICAgICAgX3RoaXMuYnVzY2FuZG8gPSBmYWxzZTsKICAgICAgICBfdGhpcy5yZXN1bHRhZG9zID0gYnVzY2FyUGVyc29uYXM7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmJ1c2NhbmRvID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yOiAiLmNvbmNhdChlcnJvcikpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["BuscadorPersonas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,GAAA,MAAA,aAAA;AACA,OAAA,OAAA,MAAA,2BAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,kBAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,cAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,IAHA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,UAAA,KAAA,cAAA,EAAA;AACA,aAAA,MAAA;AACA;AACA;;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAbA;AAcA,IAAA,MAdA,oBAcA;AAAA;;AACA,UAAA,WAAA,GAAA,KAAA,KAAA,CAAA,WAAA,CAAA,KAAA;AACA,MAAA,WAAA,GAAA,WAAA,CAAA,IAAA,EAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,OAAA,CAAA,KAAA,CAAA;AACA,QAAA,KAAA,EAAA,GAAA,mBADA;AAWA,QAAA,SAAA,EAAA;AACA,UAAA,WAAA,EAAA;AADA;AAXA,OAAA,EAcA,IAdA,CAcA,gBAAA;AAAA,YAAA,cAAA,QAAA,IAAA,CAAA,cAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,cAAA;AACA,OAjBA,EAiBA,KAjBA,CAiBA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA,GAAA,kBAAA,KAAA;AACA,OApBA;AAqBA;AAvCA;AAXA,CAAA","sourcesContent":["<template>\n  <div class=\"buscadorPersonas\">\n      <div id=\"barraSuperior\">\n          <input type=\"text\" name=\"\" id=\"inputBuscar\" ref=\"inputBuscar\" @keypress.enter=\"buscar\" v-model=\"textoBuscar\" v-show=\"mostrandoInput\">\n          <img src=\"@/assets/iconos/search.svg\" style=\"height: 15px\" alt=\"Lupa\" @click=\"mostrandoInput=true\" v-show=\"!mostrandoInput\">\n          <img src=\"@/assets/iconos/equis.svg\" style=\"height: 15px\" alt=\"Equis\" @click=\"cerrarBusqueda\" v-show=\"mostrandoInput\">\n        <loading texto=\"\" v-show=\"buscando\" />\n\n      </div>\n      <div id=\"zonaResultados\" v-show=\"resultados.length>0\">\n          <div class=\"personaResultado\" v-for=\"resultado of resultados\" :key=\"resultado.id\" @click=\"$emit('clickEnResultado', resultado.id)\">\n              <div class=\"nombreResultado\">\n                  {{resultado.nombres+' '}}\n              </div>\n              <div class=\"apellidoResultado\">\n                  {{resultado.apellidos}}\n              </div>\n          </div>\n          <div class=\"contenedorControles\">\n              <slot>\n              </slot>\n          </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport gql from 'graphql-tag';\nimport Loading from '../utilidades/Loading.vue';\nexport default {\n  components: { Loading },\n    name: \"BuscadorPersonas\",\n    data(){\n        return {\n            buscando:false,\n            mostrandoInput:false,\n            textoBuscar:null,\n            resultados:[],\n        }\n    },\n    methods:{\n        cerrarBusqueda(){\n            this.textoBuscar=null;\n            this.mostrandoInput=false;\n            this.buscando=false;\n            this.resultados=[];\n        },\n        clickEnLupa(){\n            if(this.mostrandoInput){\n                this.buscar();\n                return;\n            }\n            this.mostrandoInput=true;\n        },\n        buscar(){\n            var textoBuscar=this.$refs.inputBuscar.value;\n            textoBuscar=textoBuscar.trim();\n            this.buscando=true;\n            this.$apollo.query({\n                query: gql`\n                    query($textoBuscar:String!){\n                        buscarPersonas(textoBuscar:$textoBuscar){\n                            id\n                            nombres\n                            apellidos\n                            permisos\n                        }\n                    }\n                `,\n                variables:{\n                    textoBuscar,\n                }\n            }).then(({data:{buscarPersonas}})=>{\n                this.buscando=false;\n                this.resultados=buscarPersonas\n            }).catch((error)=>{\n                this.buscando=false;\n                console.log(`Error: ${error}`);\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n#barraSuperior{\n    display: flex;\n    align-items: center;\n}\n#inputBuscar{\n    width: 160px;\n    margin-right: 10px;\n}\n.personaResultado{\n    display: flex;\n    padding: 15px;\n    cursor: pointer;\n    align-items: center;\n    font-size: 12px;\n}\n\n</style>"],"sourceRoot":"src/components/usuario"}]}