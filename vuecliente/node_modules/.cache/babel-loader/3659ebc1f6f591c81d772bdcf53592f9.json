{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/proyecto/CanvasDiagramaFlujo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/proyecto/CanvasDiagramaFlujo.vue","mtime":1643654906503},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhbnZhc0RpYWdyYW1hRmx1am8iLAogIHByb3BzOiB7CiAgICB0b2Rvc05vZG9zOiBBcnJheSwKICAgIGZhY3Rvclpvb206IE51bWJlciwKICAgIG5vZG9TZWxlY2Npb25hZG86IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaXplQ2FudmFzVG9kb3NWaW5jdWxvczogewogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMAogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXJJbWFnZW5Ub2Rvc1ZpbmN1bG9zOiBmdW5jdGlvbiBjcmVhckltYWdlblRvZG9zVmluY3Vsb3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygiQ3JlYW5kbyBpbWFnZW4gdG9kb3Mgdlx4RURuY3Vsb3MiKTsKICAgICAgaWYgKHRoaXMudG9kb3NOb2Rvcy5sZW5ndGggPD0gMSkgcmV0dXJuOwogICAgICB2YXIgbGFwaXogPSB0aGlzLiRyZWZzLmNhbnZhc1RvZG9zVmluY3Vsb3MuZ2V0Q29udGV4dCgiMmQiKTsgLy9DYWxjdWxhciBlbCB0YW1hw7FvIGRlbCBkaWFncmFtYSAgICAgIAoKICAgICAgdmFyIHBvc2ljaW9uQ2FudmFzID0gewogICAgICAgIHg6IHRoaXMuZXNxdWluYXNDYW52YXNUb2Rvc1ZpbmN1bG9zLngxLAogICAgICAgIHk6IHRoaXMuZXNxdWluYXNDYW52YXNUb2Rvc1ZpbmN1bG9zLnkxCiAgICAgIH07CiAgICAgIGxhcGl6LmNhbnZhcy53aWR0aCA9IHRoaXMuZXNxdWluYXNDYW52YXNUb2Rvc1ZpbmN1bG9zLngyIC0gdGhpcy5lc3F1aW5hc0NhbnZhc1RvZG9zVmluY3Vsb3MueDE7CiAgICAgIGxhcGl6LmNhbnZhcy5oZWlnaHQgPSB0aGlzLmVzcXVpbmFzQ2FudmFzVG9kb3NWaW5jdWxvcy55MiAtIHRoaXMuZXNxdWluYXNDYW52YXNUb2Rvc1ZpbmN1bG9zLnkxOwogICAgICBsYXBpei5saW5lV2lkdGggPSAxOwogICAgICBsYXBpei5jbGVhclJlY3QoMCwgMCwgbGFwaXouY2FudmFzLndpZHRoLCBsYXBpei5jYW52YXMuaGVpZ2h0KTsKICAgICAgbGFwaXouYmVnaW5QYXRoKCk7CiAgICAgIGxhcGl6LnN0cm9rZVN0eWxlID0gIiNiM2IzYjMiOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudG9kb3NOb2RvcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBub2RvID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihub2RvLnZpbmN1bG9zKSwKICAgICAgICAgICAgICBfc3RlcDI7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICAgICAgdmFyIHZpbmN1bG8gPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgaWYgKCFfdGhpcy50b2Rvc05vZG9zLnNvbWUoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICAgIHJldHVybiBuLmlkID09IHZpbmN1bG8uaWRSZWY7CiAgICAgICAgICAgICAgfSkpIHJldHVybiAiY29udGludWUiOwoKICAgICAgICAgICAgICBfdGhpcy5kaWJ1amFyTGluZWFFbnRyZU5vZG9zKF90aGlzLnRvZG9zTm9kb3MuZmluZChmdW5jdGlvbiAobm9kbykgewogICAgICAgICAgICAgICAgcmV0dXJuIG5vZG8uaWQgPT0gdmluY3Vsby5pZFJlZjsKICAgICAgICAgICAgICB9KSwgbm9kbywgbGFwaXosIHBvc2ljaW9uQ2FudmFzKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIF9yZXQgPSBfbG9vcCgpOwoKICAgICAgICAgICAgICBpZiAoX3JldCA9PT0gImNvbnRpbnVlIikgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICBsYXBpei5zdHJva2UoKTsKICAgIH0sCiAgICBjcmVhckltYWdlblZpbmN1bG9zU2VsZWNjaW9uYWRvOiBmdW5jdGlvbiBjcmVhckltYWdlblZpbmN1bG9zU2VsZWNjaW9uYWRvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubGFwaXogPSB0aGlzLiRyZWZzLmNhbnZhc1ZpbmN1bG9zU2VsZWNjaW9uYWRvLmdldENvbnRleHQoIjJkIik7CiAgICAgIHRoaXMubGFwaXouY2xlYXJSZWN0KDAsIDAsIHRoaXMubGFwaXouY2FudmFzLndpZHRoLCB0aGlzLmxhcGl6LmNhbnZhcy5oZWlnaHQpOwoKICAgICAgaWYgKHRoaXMudG9kb3NOb2Rvcy5zb21lKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIG4uaWQgPT0gX3RoaXMyLm5vZG9TZWxlY2Npb25hZG8uaWQ7CiAgICAgIH0pKSB7CiAgICAgICAgLy9MaW5lYXMgdmVyZGVzIGRlIHBvc2libGlkYWRlcwogICAgICAgIHRoaXMubGFwaXouYmVnaW5QYXRoKCk7CiAgICAgICAgdGhpcy5sYXBpei5saW5lV2lkdGggPSAyOwogICAgICAgIHRoaXMubGFwaXouc3Ryb2tlU3R5bGUgPSAiIzAwODAwMCI7IC8vTGluZWFzIHZlcmRlcyBkZSBzYWxpZGEKCiAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLm5vZG9TZWxlY2Npb25hZG8udmluY3Vsb3MpLAogICAgICAgICAgICBfc3RlcDM7CgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKCkgewogICAgICAgICAgICB2YXIgdmluY3VsbyA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgICAgIGlmICghX3RoaXMyLnRvZG9zTm9kb3Muc29tZShmdW5jdGlvbiAobikgewogICAgICAgICAgICAgIHJldHVybiBuLmlkID09IHZpbmN1bG8uaWRSZWY7CiAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkFMRVJUQS4gVmluY3VsbyBhICIuY29uY2F0KHZpbmN1bG8uaWRSZWYsICIgaHVlcmZhbm8iKSk7CiAgICAgICAgICAgICAgcmV0dXJuICJjb250aW51ZSI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBvdHJvTm9kbyA9IF90aGlzMi50b2Rvc05vZG9zLmZpbmQoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICByZXR1cm4gbi5pZCA9PSB2aW5jdWxvLmlkUmVmOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMi5kaWJ1amFyTGluZWFFbnRyZU5vZG9zKG90cm9Ob2RvLCBfdGhpczIubm9kb1NlbGVjY2lvbmFkbyk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBfcmV0MiA9IF9sb29wMigpOwoKICAgICAgICAgICAgaWYgKF9yZXQyID09PSAiY29udGludWUiKSBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMubGFwaXouc3Ryb2tlKCk7IC8vTGluZWFzIHJvamFzIGRlIGRlcGVuZGVuY2lhcwogICAgICB9CiAgICB9LAogICAgZGlidWphckxpbmVhRW50cmVOb2RvczogZnVuY3Rpb24gZGlidWphckxpbmVhRW50cmVOb2Rvcyhub2RvRnJvbSwgbm9kb1RvLCBsYXBpeiwgcG9zaWNpb25DYW52YXMpIHsKICAgICAgdmFyIGluaWNpbyA9IHsKICAgICAgICB4OiBub2RvRnJvbS5jb29yZHMueCAqIHRoaXMuZmFjdG9yWm9vbSAtIHBvc2ljaW9uQ2FudmFzLngsCiAgICAgICAgeTogbm9kb0Zyb20uY29vcmRzLnkgKiB0aGlzLmZhY3Rvclpvb20gLSBwb3NpY2lvbkNhbnZhcy55CiAgICAgIH07CiAgICAgIHZhciBmaW5hbCA9IHsKICAgICAgICB4OiBub2RvVG8uY29vcmRzLnggKiB0aGlzLmZhY3Rvclpvb20gLSBwb3NpY2lvbkNhbnZhcy54LAogICAgICAgIHk6IG5vZG9Uby5jb29yZHMueSAqIHRoaXMuZmFjdG9yWm9vbSAtIHBvc2ljaW9uQ2FudmFzLnkKICAgICAgfTsKICAgICAgdmFyIGRpc3RhbmNpYVZlcnRpY2FsID0gZmluYWwueSAtIGluaWNpby55OwogICAgICB2YXIgbGFyZ29Db2RvID0gTWF0aC5yb3VuZChkaXN0YW5jaWFWZXJ0aWNhbCAqIDAuNSk7CiAgICAgIHZhciBwcmltZXJhRXNxdWluYSA9IHsKICAgICAgICB4OiBpbmljaW8ueCwKICAgICAgICB5OiBpbmljaW8ueSArIGxhcmdvQ29kbwogICAgICB9OwogICAgICB2YXIgc2VndW5kYUVzcXVpbmEgPSB7CiAgICAgICAgeDogZmluYWwueCwKICAgICAgICB5OiBmaW5hbC55IC0gbGFyZ29Db2RvCiAgICAgIH07CiAgICAgIGxhcGl6Lm1vdmVUbyhpbmljaW8ueCwgaW5pY2lvLnkpOwogICAgICBsYXBpei5saW5lVG8ocHJpbWVyYUVzcXVpbmEueCwgcHJpbWVyYUVzcXVpbmEueSk7CiAgICAgIGxhcGl6LmxpbmVUbyhzZWd1bmRhRXNxdWluYS54LCBzZWd1bmRhRXNxdWluYS55KTsKICAgICAgbGFwaXoubGluZVRvKGZpbmFsLngsIGZpbmFsLnkpOyAvL2Fob3JhIGxhIGZsZWNoaXRhCiAgICAgIC8vIGxldCBjZW50cm8gPSB7CiAgICAgIC8vICAgeDogKGZpbmFsLnggKyBpbmljaW8ueCkgLyAyLAogICAgICAvLyAgIHk6IChmaW5hbC55ICsgaW5pY2lvLnkpIC8gMiwKICAgICAgLy8gfTsKICAgICAgLy8gbGV0IGxvbmdpdHVkQWxhID0gNzsKICAgICAgLy8gbGV0IGFuZ3Vsb1ZpbmN1bG8gPSBNYXRoLmF0YW4oCiAgICAgIC8vICAgKGZpbmFsLnkgLSBpbmljaW8ueSkgLyAoZmluYWwueCAtIGluaWNpby54KQogICAgICAvLyApOwogICAgICAvLyBpZiAoZmluYWwueSAtIGluaWNpby55IDwgMCAmJiBmaW5hbC54IC0gaW5pY2lvLnggPCAwKQogICAgICAvLyAgIGFuZ3Vsb1ZpbmN1bG8gKz0gTWF0aC5QSTsKICAgICAgLy8gaWYgKGZpbmFsLnkgLSBpbmljaW8ueSA+IDAgJiYgZmluYWwueCAtIGluaWNpby54IDwgMCkKICAgICAgLy8gICBhbmd1bG9WaW5jdWxvICs9IE1hdGguUEk7CiAgICAgIC8vIC8vYW5ndWxvVmluY3Vsbz1hbmd1bG9WaW5jdWxvKjE4MC9NYXRoLlBJOwogICAgICAvLyBsZXQgcHVudGFBbGFJenF1aWVyZGEgPSB7CiAgICAgIC8vICAgeDogY2VudHJvLnggKyBsb25naXR1ZEFsYSAqIE1hdGguY29zKGFuZ3Vsb1ZpbmN1bG8gLSAoMyAqIE1hdGguUEkpIC8gNCksCiAgICAgIC8vICAgeTogY2VudHJvLnkgKyBsb25naXR1ZEFsYSAqIE1hdGguc2luKGFuZ3Vsb1ZpbmN1bG8gLSAoMyAqIE1hdGguUEkpIC8gNCksCiAgICAgIC8vIH07CiAgICAgIC8vIGxldCBwdW50YUFsYURlcmVjaGEgPSB7CiAgICAgIC8vICAgeDogY2VudHJvLnggKyBsb25naXR1ZEFsYSAqIE1hdGguY29zKGFuZ3Vsb1ZpbmN1bG8gKyAoMyAqIE1hdGguUEkpIC8gNCksCiAgICAgIC8vICAgeTogY2VudHJvLnkgKyBsb25naXR1ZEFsYSAqIE1hdGguc2luKGFuZ3Vsb1ZpbmN1bG8gKyAoMyAqIE1hdGguUEkpIC8gNCksCiAgICAgIC8vIH07CiAgICAgIC8vIHRoaXMubGFwaXoubW92ZVRvKGNlbnRyby54LCBjZW50cm8ueSk7CiAgICAgIC8vIHRoaXMubGFwaXoubGluZVRvKHB1bnRhQWxhSXpxdWllcmRhLngsIHB1bnRhQWxhSXpxdWllcmRhLnkpOwogICAgICAvLyB0aGlzLmxhcGl6Lm1vdmVUbyhjZW50cm8ueCwgY2VudHJvLnkpOwogICAgICAvLyB0aGlzLmxhcGl6LmxpbmVUbyhwdW50YUFsYURlcmVjaGEueCwgcHVudGFBbGFEZXJlY2hhLnkpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVzcXVpbmFzQ2FudmFzVG9kb3NWaW5jdWxvczogZnVuY3Rpb24gZXNxdWluYXNDYW52YXNUb2Rvc1ZpbmN1bG9zKCkgewogICAgICB2YXIgbm9kb3NSZWxldmFudGVzID0gdGhpcy50b2Rvc05vZG9zOwogICAgICBpZiAobm9kb3NSZWxldmFudGVzLmxlbmd0aCA8PSAxKSByZXR1cm4gewogICAgICAgIHgxOiAwLAogICAgICAgIHkxOiAwLAogICAgICAgIHgyOiAwLAogICAgICAgIHkyOiAwCiAgICAgIH07CiAgICAgIHZhciBib3JkZXMgPSB7fTsKICAgICAgYm9yZGVzLnRvcCA9IG5vZG9zUmVsZXZhbnRlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbikgewogICAgICAgIC8vY29uc29sZS5sb2coYFJlZHVjaWVuZG8gJHtuLm5vbWJyZX0gY29uIGNvb3JkczogJHtuLnBvc2ljaW9ufWApOwogICAgICAgIHJldHVybiBuLmNvb3Jkcy55ID4gYWNjID8gbi5jb29yZHMueSA6IGFjYzsKICAgICAgfSwgMCk7CiAgICAgIGJvcmRlcy5ib3QgPSBub2Rvc1JlbGV2YW50ZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG4pIHsKICAgICAgICByZXR1cm4gbi5jb29yZHMueSA8IGFjYyA/IG4uY29vcmRzLnkgOiBhY2M7CiAgICAgIH0sIDApOwogICAgICBib3JkZXMubGVmdCA9IG5vZG9zUmVsZXZhbnRlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbikgewogICAgICAgIHJldHVybiBuLmNvb3Jkcy54IDwgYWNjID8gbi5jb29yZHMueCA6IGFjYzsKICAgICAgfSwgMCk7CiAgICAgIGJvcmRlcy5yaWdodCA9IG5vZG9zUmVsZXZhbnRlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbikgewogICAgICAgIHJldHVybiBuLmNvb3Jkcy54ID4gYWNjID8gbi5jb29yZHMueCA6IGFjYzsKICAgICAgfSwgMCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDE6IGJvcmRlcy5sZWZ0ICogdGhpcy5mYWN0b3Jab29tLAogICAgICAgIHkxOiBib3JkZXMuYm90ICogdGhpcy5mYWN0b3Jab29tLAogICAgICAgIHgyOiAoYm9yZGVzLnJpZ2h0ICsgMikgKiB0aGlzLmZhY3Rvclpvb20sCiAgICAgICAgeTI6IChib3JkZXMudG9wICsgMikgKiB0aGlzLmZhY3Rvclpvb20KICAgICAgfTsKICAgIH0sCiAgICBvZmZzZXRDYW52YXNUb2Rvc1ZpbmN1bG9zOiBmdW5jdGlvbiBvZmZzZXRDYW52YXNUb2Rvc1ZpbmN1bG9zKCkgewogICAgICByZXR1cm4gewogICAgICAgIGxlZnQ6IHRoaXMuZXNxdWluYXNDYW52YXNUb2Rvc1ZpbmN1bG9zLngxICsgInB4IiwKICAgICAgICB0b3A6IHRoaXMuZXNxdWluYXNDYW52YXNUb2Rvc1ZpbmN1bG9zLnkxICsgInB4IiwKICAgICAgICB3aWR0aDogdGhpcy5lc3F1aW5hc0NhbnZhc1RvZG9zVmluY3Vsb3MueDIgLSB0aGlzLmVzcXVpbmFzQ2FudmFzVG9kb3NWaW5jdWxvcy54MSArICJweCIsCiAgICAgICAgaGVpZ2h0OiB0aGlzLmVzcXVpbmFzQ2FudmFzVG9kb3NWaW5jdWxvcy55MiAtIHRoaXMuZXNxdWluYXNDYW52YXNUb2Rvc1ZpbmN1bG9zLnkxICsgInB4IgogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHRvZG9zTm9kb3M6IGZ1bmN0aW9uIHRvZG9zTm9kb3MoKSB7CiAgICAgIGlmICh0aGlzLnRvZG9zTm9kb3MubGVuZ3RoIDwgMSkgcmV0dXJuOwogICAgICB0aGlzLmNyZWFySW1hZ2VuVG9kb3NWaW5jdWxvcygpOwogICAgICB0aGlzLmNyZWFySW1hZ2VuVmluY3Vsb3NTZWxlY2Npb25hZG8oKTsKICAgIH0sCiAgICBub2RvU2VsZWNjaW9uYWRvOiBmdW5jdGlvbiBub2RvU2VsZWNjaW9uYWRvKCkgewogICAgICB0aGlzLmNyZWFySW1hZ2VuVmluY3Vsb3NTZWxlY2Npb25hZG8oKTsKICAgIH0sCiAgICBmYWN0b3Jab29tOiBmdW5jdGlvbiBmYWN0b3Jab29tKCkgewogICAgICB0aGlzLmNyZWFySW1hZ2VuVG9kb3NWaW5jdWxvcygpOwogICAgICB0aGlzLmNyZWFySW1hZ2VuVmluY3Vsb3NTZWxlY2Npb25hZG8oKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLm1vbnRhZG8gPSB0cnVlOwogICAgdGhpcy5jcmVhckltYWdlblRvZG9zVmluY3Vsb3MoKTsKICAgIHRoaXMuY3JlYXJJbWFnZW5WaW5jdWxvc1NlbGVjY2lvbmFkbygpOwogIH0KfTs="},{"version":3,"sources":["CanvasDiagramaFlujo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"canvasDiagramaFlujo\">\n    <canvas\n      id=\"canvasTodosVinculos\"\n      ref=\"canvasTodosVinculos\"\n      :style=\"[offsetCanvasTodosVinculos]\"\n      class=\"canvas\"\n    ></canvas>\n    <canvas\n      id=\"canvasVinculosSeleccionado\"\n      ref=\"canvasVinculosSeleccionado\"\n      :style=\"[sizeCanvasTodosVinculos]\"\n      class=\"canvas\"\n    ></canvas>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CanvasDiagramaFlujo\",\n  props: {\n    todosNodos: Array,\n    factorZoom:Number,\n    nodoSeleccionado: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      sizeCanvasTodosVinculos: {\n        width: 0,\n        height: 0,\n      },\n    };\n  },\n  methods: {\n    crearImagenTodosVinculos: function () {\n      console.log(`Creando imagen todos vínculos`);\n      if (this.todosNodos.length <= 1) return;\n      var lapiz = this.$refs.canvasTodosVinculos.getContext(\"2d\");\n      //Calcular el tamaño del diagrama      \n      const posicionCanvas={\n        x: this.esquinasCanvasTodosVinculos.x1,\n        y: this.esquinasCanvasTodosVinculos.y1,\n      }\n\n      lapiz.canvas.width = this.esquinasCanvasTodosVinculos.x2 - this.esquinasCanvasTodosVinculos.x1;\n      lapiz.canvas.height = this.esquinasCanvasTodosVinculos.y2 - this.esquinasCanvasTodosVinculos.y1;   \n\n      lapiz.lineWidth = 1;\n      lapiz.clearRect(0, 0, lapiz.canvas.width, lapiz.canvas.height);\n      lapiz.beginPath();\n      lapiz.strokeStyle = \"#b3b3b3\";\n      for (let nodo of this.todosNodos) {\n        for (let vinculo of nodo.vinculos) {\n          if (!this.todosNodos.some((n) => n.id == vinculo.idRef)) continue;\n\n          this.dibujarLineaEntreNodos(\n            this.todosNodos.find((nodo) => nodo.id == vinculo.idRef),\n            nodo,\n            lapiz,\n            posicionCanvas\n          );\n        }\n      }\n      lapiz.stroke();\n    },\n    crearImagenVinculosSeleccionado: function () {\n      this.lapiz = this.$refs.canvasVinculosSeleccionado.getContext(\"2d\");\n      this.lapiz.clearRect(\n        0,\n        0,\n        this.lapiz.canvas.width,\n        this.lapiz.canvas.height\n      );\n\n      if (this.todosNodos.some((n) => n.id == this.nodoSeleccionado.id)) {\n        //Lineas verdes de posiblidades\n        this.lapiz.beginPath();\n        this.lapiz.lineWidth = 2;\n        this.lapiz.strokeStyle = \"#008000\";\n\n        //Lineas verdes de salida\n        for (let vinculo of this.nodoSeleccionado.vinculos) {\n          if (!this.todosNodos.some((n) => n.id == vinculo.idRef)) {\n            console.log(`ALERTA. Vinculo a ${vinculo.idRef} huerfano`);\n            continue;\n          }\n\n          let otroNodo = this.todosNodos.find((n) => n.id == vinculo.idRef);\n          this.dibujarLineaEntreNodos(otroNodo, this.nodoSeleccionado);\n        }\n        this.lapiz.stroke();\n        //Lineas rojas de dependencias\n\n        \n      }\n    },\n    dibujarLineaEntreNodos(nodoFrom, nodoTo, lapiz, posicionCanvas) {\n      let inicio = {\n        x: (nodoFrom.coords.x*this.factorZoom)-posicionCanvas.x,\n        y: (nodoFrom.coords.y*this.factorZoom)-posicionCanvas.y,\n      };\n      let final = {\n        x: (nodoTo.coords.x*this.factorZoom)-posicionCanvas.x,\n        y: (nodoTo.coords.y*this.factorZoom)-posicionCanvas.y,\n      };\n\n      const distanciaVertical=final.y-inicio.y;\n      const largoCodo=Math.round(distanciaVertical*0.5);\n\n      const primeraEsquina={\n        x:inicio.x,\n        y:inicio.y+largoCodo\n      }\n\n      const segundaEsquina={\n        x:final.x,\n        y:final.y-largoCodo\n      }\n\n      lapiz.moveTo(inicio.x, inicio.y);\n      lapiz.lineTo(primeraEsquina.x, primeraEsquina.y);\n      lapiz.lineTo(segundaEsquina.x, segundaEsquina.y);\n      lapiz.lineTo(final.x, final.y);\n      //ahora la flechita\n      // let centro = {\n      //   x: (final.x + inicio.x) / 2,\n      //   y: (final.y + inicio.y) / 2,\n      // };\n      // let longitudAla = 7;\n      // let anguloVinculo = Math.atan(\n      //   (final.y - inicio.y) / (final.x - inicio.x)\n      // );\n      // if (final.y - inicio.y < 0 && final.x - inicio.x < 0)\n      //   anguloVinculo += Math.PI;\n      // if (final.y - inicio.y > 0 && final.x - inicio.x < 0)\n      //   anguloVinculo += Math.PI;\n      // //anguloVinculo=anguloVinculo*180/Math.PI;\n\n      // let puntaAlaIzquierda = {\n      //   x: centro.x + longitudAla * Math.cos(anguloVinculo - (3 * Math.PI) / 4),\n      //   y: centro.y + longitudAla * Math.sin(anguloVinculo - (3 * Math.PI) / 4),\n      // };\n      // let puntaAlaDerecha = {\n      //   x: centro.x + longitudAla * Math.cos(anguloVinculo + (3 * Math.PI) / 4),\n      //   y: centro.y + longitudAla * Math.sin(anguloVinculo + (3 * Math.PI) / 4),\n      // };\n      // this.lapiz.moveTo(centro.x, centro.y);\n      // this.lapiz.lineTo(puntaAlaIzquierda.x, puntaAlaIzquierda.y);\n      // this.lapiz.moveTo(centro.x, centro.y);\n      // this.lapiz.lineTo(puntaAlaDerecha.x, puntaAlaDerecha.y);\n    },\n  },\n  computed:{\n    esquinasCanvasTodosVinculos(){\n      var nodosRelevantes=this.todosNodos;\n\n      if (nodosRelevantes.length <= 1) return {\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: 0,        \n      };\n\n      let bordes = {};\n      bordes.top = nodosRelevantes.reduce((acc, n) => {\n        //console.log(`Reduciendo ${n.nombre} con coords: ${n.posicion}`);\n        return n.coords.y > acc ? n.coords.y : acc;\n      }, 0);\n      bordes.bot = nodosRelevantes.reduce((acc, n) => {\n        return n.coords.y < acc ? n.coords.y : acc;\n      }, 0);\n      bordes.left = nodosRelevantes.reduce((acc, n) => {\n        return n.coords.x < acc ? n.coords.x : acc;\n      }, 0);\n      bordes.right = nodosRelevantes.reduce((acc, n) => {\n        return n.coords.x > acc ? n.coords.x : acc;\n      }, 0);\n\n      return {\n        x1: bordes.left*this.factorZoom,\n        y1: bordes.bot*this.factorZoom,\n        x2: (bordes.right+2)*this.factorZoom,\n        y2: (bordes.top+2)*this.factorZoom\n      }\n    },\n    offsetCanvasTodosVinculos(){\n      return {\n        left:  this.esquinasCanvasTodosVinculos.x1 + \"px\",\n        top: this.esquinasCanvasTodosVinculos.y1 + \"px\",\n\n        width: (this.esquinasCanvasTodosVinculos.x2-this.esquinasCanvasTodosVinculos.x1) + \"px\",\n        height: (this.esquinasCanvasTodosVinculos.y2-this.esquinasCanvasTodosVinculos.y1) + \"px\",\n      }\n    }\n\n  },\n  watch: {\n    todosNodos: function () {\n      if (this.todosNodos.length < 1) return;\n      this.crearImagenTodosVinculos();\n      this.crearImagenVinculosSeleccionado();\n    },\n    nodoSeleccionado: function () {\n      this.crearImagenVinculosSeleccionado();\n    },\n    factorZoom(){\n      this.crearImagenTodosVinculos();\n      this.crearImagenVinculosSeleccionado();\n    },\n\n  },\n  mounted() {\n    this.montado = true;\n    this.crearImagenTodosVinculos();\n    this.crearImagenVinculosSeleccionado();    \n  },\n  \n\n};\n</script>\n\n<style scoped>\n#canvasDiagramaFlujo{\n  position: relative;\n}\n.canvas{\n  position: absolute\n}\n</style>"],"sourceRoot":"src/components/proyecto"}]}