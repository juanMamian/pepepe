{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/Espacios.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/Espacios.vue","mtime":1644587546118},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICAgIG11dGF0aW9uICgkaW5mbzogSW5wdXRDcmVhckVzcGFjaW8pIHtcbiAgICAgICAgICAgIGNyZWFyRXNwYWNpbyhpbmZvOiAkaW5mbykge1xuICAgICAgICAgICAgICAuLi5mcmFnRXNwYWNpb1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAiLCAiXG4gICAgICAgICJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0MyA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDMoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHsKICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgcXVlcnkge1xuICAgIHRvZG9zRXNwYWNpb3Mge1xuICAgICAgLi4uZnJhZ0VzcGFjaW9cbiAgICB9XG4gIH1cbiAgIiwgIlxuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QyID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIGZyYWdtZW50IGZyYWdFc3BhY2lvIG9uIEVzcGFjaW8ge1xuICAgIGlkXG4gICAgbm9tYnJlXG4gICAgZGVzY3JpcGNpb25cbiAgICBpZEFkbWluaXN0cmFkb3JcbiAgfVxuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdxbCBmcm9tICJncmFwaHFsLXRhZyI7CmltcG9ydCBFc3BhY2lvIGZyb20gIi4vRXNwYWNpby52dWUiOwppbXBvcnQgTG9hZGluZyBmcm9tICcuL3V0aWxpZGFkZXMvTG9hZGluZy52dWUnOwp2YXIgZnJhZ21lbnRvRXNwYWNpbyA9IGdxbChfdGVtcGxhdGVPYmplY3QoKSk7CnZhciBRVUVSWV9FU1BBQ0lPUyA9IGdxbChfdGVtcGxhdGVPYmplY3QyKCksIGZyYWdtZW50b0VzcGFjaW8pOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRXNwYWNpbzogRXNwYWNpbywKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGFwb2xsbzogewogICAgdG9kb3NFc3BhY2lvczogewogICAgICBxdWVyeTogUVVFUllfRVNQQUNJT1MKICAgIH0KICB9LAogIG5hbWU6ICJFc3BhY2lvcyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvZG9zRXNwYWNpb3M6IFtdLAogICAgICB2ZXJUb2RvczogZmFsc2UsCiAgICAgIGNyZWFuZG9Fc3BhY2lvOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWFyTnVldm9Fc3BhY2lvOiBmdW5jdGlvbiBjcmVhck51ZXZvRXNwYWNpbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy51c3VhcmlvUHJvZmUgJiYgIXRoaXMudXN1YXJpb1N1cGVyYWRtaW5pc3RyYWRvcikgcmV0dXJuOwogICAgICB0aGlzLmNyZWFuZG9Fc3BhY2lvID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QzKCksIGZyYWdtZW50b0VzcGFjaW8pLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgaW5mbzogewogICAgICAgICAgICBpZEFkbWluaXN0cmFkb3I6IHRoaXMudXN1YXJpby5pZAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBjcmVhckVzcGFjaW8gPSBfcmVmLmRhdGEuY3JlYXJFc3BhY2lvOwogICAgICAgIHZhciBzdG9yZSA9IF90aGlzLiRhcG9sbG8ucHJvdmlkZXIuZGVmYXVsdENsaWVudDsKICAgICAgICB2YXIgY2FjaGUgPSBzdG9yZS5yZWFkUXVlcnkoewogICAgICAgICAgcXVlcnk6IFFVRVJZX0VTUEFDSU9TCiAgICAgICAgfSk7CiAgICAgICAgdmFyIG51ZXZvQ2FjaGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7CiAgICAgICAgdmFyIGluZGV4RSA9IG51ZXZvQ2FjaGUudG9kb3NFc3BhY2lvcy5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlkID09PSBjcmVhckVzcGFjaW8uaWQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChpbmRleEUgPT09IC0xKSB7CiAgICAgICAgICBudWV2b0NhY2hlLnRvZG9zRXNwYWNpb3MucHVzaChjcmVhckVzcGFjaW8pOwogICAgICAgICAgc3RvcmUud3JpdGVRdWVyeSh7CiAgICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9FU1BBQ0lPUywKICAgICAgICAgICAgZGF0YTogbnVldm9DYWNoZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFbCBlc3BhY2lvIHlhIGVzdGFiYSBlbiBjYWNoXHhFOSIpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuY3JlYW5kb0VzcGFjaW8gPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yOiAiLmNvbmNhdChlcnJvcikpOwogICAgICAgIF90aGlzLmNyZWFuZG9Fc3BhY2lvID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGVsaW1pbmFyRXNwYWNpb0NhY2hlOiBmdW5jdGlvbiBlbGltaW5hckVzcGFjaW9DYWNoZShpZEVzcGFjaW8pIHsKICAgICAgdmFyIHN0b3JlID0gdGhpcy4kYXBvbGxvLnByb3ZpZGVyLmRlZmF1bHRDbGllbnQ7CiAgICAgIHZhciBjYWNoZSA9IHN0b3JlLnJlYWRRdWVyeSh7CiAgICAgICAgcXVlcnk6IFFVRVJZX0VTUEFDSU9TCiAgICAgIH0pOwogICAgICB2YXIgbnVldm9DYWNoZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTsKICAgICAgdmFyIGluZGV4RSA9IG51ZXZvQ2FjaGUudG9kb3NFc3BhY2lvcy5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PT0gaWRFc3BhY2lvOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleEUgPiAtMSkgewogICAgICAgIG51ZXZvQ2FjaGUudG9kb3NFc3BhY2lvcy5zcGxpY2UoaW5kZXhFLCAxKTsKICAgICAgICBzdG9yZS53cml0ZVF1ZXJ5KHsKICAgICAgICAgIHF1ZXJ5OiBRVUVSWV9FU1BBQ0lPUywKICAgICAgICAgIGRhdGE6IG51ZXZvQ2FjaGUKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG1hbmVqYXJDcmVhY2lvbkV2ZW50b3M6IGZ1bmN0aW9uIG1hbmVqYXJDcmVhY2lvbkV2ZW50b3MoZXZlbnRvcykgewogICAgICBjb25zb2xlLmxvZygiTWFuZWphbmRvIGxhIHJlcGV0aWNpb24gZGUgbG9zIGV2ZW50b3MgZGUgdW4gZXNwYWNpbyBjb24gaWQgIi5jb25jYXQoZXZlbnRvc1swXS5pZFBhcmVudCkpOwogICAgfSwKICAgIGhhbmRsZUNhbWJpb0ZlY2hhRXZlbnRvOiBmdW5jdGlvbiBoYW5kbGVDYW1iaW9GZWNoYUV2ZW50bygpIHsKICAgICAgY29uc29sZS5sb2coIkhhbmRsaW5nIik7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdXN1YXJpb1Byb2ZlOiBmdW5jdGlvbiB1c3VhcmlvUHJvZmUoKSB7CiAgICAgIGlmICghdGhpcy51c3VhcmlvTG9nZWFkbykgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdGhpcy51c3VhcmlvLnBlcm1pc29zLmluY2x1ZGVzKCJtYWVzdHJhVmlkYS1wcm9mZXNvciIpOwogICAgfSwKICAgIGVzcGFjaW9zVmlzaWJsZXM6IGZ1bmN0aW9uIGVzcGFjaW9zVmlzaWJsZXMoKSB7CiAgICAgIGlmICh0aGlzLnZlclRvZG9zKSByZXR1cm4gdGhpcy5lc3BhY2lvc1VzdWFyaW8uY29uY2F0KHRoaXMuZXNwYWNpb3NOb1VzdWFyaW8pOwogICAgICByZXR1cm4gdGhpcy5lc3BhY2lvc1VzdWFyaW87CiAgICB9LAogICAgZXNwYWNpb3NVc3VhcmlvOiBmdW5jdGlvbiBlc3BhY2lvc1VzdWFyaW8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnVzdWFyaW9Mb2dlYWRvKSByZXR1cm4gW107CiAgICAgIHJldHVybiB0aGlzLnRvZG9zRXNwYWNpb3MuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWRBZG1pbmlzdHJhZG9yID09PSBfdGhpczIudXN1YXJpby5pZDsKICAgICAgfSk7CiAgICB9LAogICAgZXNwYWNpb3NOb1VzdWFyaW86IGZ1bmN0aW9uIGVzcGFjaW9zTm9Vc3VhcmlvKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy51c3VhcmlvTG9nZWFkbykgcmV0dXJuIHRoaXMudG9kb3NFc3BhY2lvczsKICAgICAgcmV0dXJuIHRoaXMudG9kb3NFc3BhY2lvcy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZEFkbWluaXN0cmFkb3IgIT0gX3RoaXMzLnVzdWFyaW8uaWQ7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Espacios.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"espacios\">\n    <router-view id=\"visorVentanaEventoPublico\" @meRepetiPeriodicamente=\"manejarCreacionEventos\" @eventoCambioFecha=\"manejarCreacionEventos([$event])\">\n      \n    </router-view>\n    <div id=\"barraControles\">\n      \n      <div\n        class=\"boton botonControl\"\n        title=\"Crear nuevo espacio\"\n        v-show=\"usuarioProfe && !creandoEspacio\"\n        @click=\"crearNuevoEspacio\"\n      >\n        <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Nuevo\" />\n      </div>\n      <loading texto=\"\" v-show=\"creandoEspacio\" />\n\n      <div class=\"boton\" @click=\"verTodos=!verTodos\" style=\"margin-right:15px\">\n        <img src=\"@/assets/iconos/users.svg\" alt=\"Todos\" v-show=\"verTodos\">\n        <img src=\"@/assets/iconos/user.svg\" alt=\"Usuario\" v-show=\"!verTodos\">\n      </div>\n    </div>\n    <div id=\"listaEspacios\">\n      <espacio\n        v-for=\"espacio of espaciosVisibles\"\n        ref=\"espacios\"\n        :key=\"espacio.id\"\n        :esteEspacio=\"espacio\"\n        @meElimine=\"eliminarEspacioCache(espacio.id)\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Espacio from \"./Espacio.vue\";\nimport Loading from './utilidades/Loading.vue';\nconst fragmentoEspacio = gql`\n  fragment fragEspacio on Espacio {\n    id\n    nombre\n    descripcion\n    idAdministrador\n  }\n`;\nconst QUERY_ESPACIOS = gql`\n  query {\n    todosEspacios {\n      ...fragEspacio\n    }\n  }\n  ${fragmentoEspacio}\n`;\n\n\n\nexport default {\n  components: { Espacio, Loading },\n  apollo: {\n    todosEspacios: {\n      query: QUERY_ESPACIOS,\n    },\n  },\n  name: \"Espacios\",\n  data() {\n    return {\n      todosEspacios: [],\n\n      verTodos:false,\n      creandoEspacio: false,\n    };\n  },\n  methods: {\n    crearNuevoEspacio() {\n      if (!this.usuarioProfe && !this.usuarioSuperadministrador) return;\n\n      this.creandoEspacio = true;\n\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation ($info: InputCrearEspacio) {\n            crearEspacio(info: $info) {\n              ...fragEspacio\n            }\n          }\n          ${fragmentoEspacio}\n        `,\n        variables:{\n            info:{\n                idAdministrador: this.usuario.id\n            }\n        }\n      }).then(({data:{crearEspacio}})=>{\n          const store=this.$apollo.provider.defaultClient;\n          const cache=store.readQuery({\n              query: QUERY_ESPACIOS\n          });\n          const nuevoCache=JSON.parse(JSON.stringify(cache));\n\n          const indexE=nuevoCache.todosEspacios.findIndex(e=>e.id===crearEspacio.id);\n          if(indexE===-1){\n              nuevoCache.todosEspacios.push(crearEspacio);\n              store.writeQuery({\n                  query: QUERY_ESPACIOS,\n                  data: nuevoCache\n              })\n          }\n          else{\n              console.log(`El espacio ya estaba en caché`);\n          }\n          this.creandoEspacio = false;\n\n      }).catch((error)=>{\n          console.log(`Error: ${error}`);\n          this.creandoEspacio = false;\n\n      })\n    },\n    eliminarEspacioCache(idEspacio) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_ESPACIOS,        \n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n      const indexE = nuevoCache.todosEspacios.findIndex(\n        (e) => e.id === idEspacio\n      );\n      if (indexE > -1) {\n        nuevoCache.todosEspacios.splice(indexE, 1);\n        store.writeQuery({\n          query: QUERY_ESPACIOS,          \n          data: nuevoCache,\n        });\n      }\n    },\n    manejarCreacionEventos(eventos){\n      console.log(`Manejando la repeticion de los eventos de un espacio con id ${eventos[0].idParent}`);      \n    },\n    handleCambioFechaEvento(){\n      console.log(`Handling`);\n\n    }\n  },\n  computed: {\n    usuarioProfe() {\n      if (!this.usuarioLogeado) return false;\n\n      return this.usuario.permisos.includes(\"maestraVida-profesor\");\n    },\n    espaciosVisibles(){\n      if(this.verTodos)return this.espaciosUsuario.concat(this.espaciosNoUsuario);\n      return this.espaciosUsuario\n    },    \n    espaciosUsuario(){\n      if(!this.usuarioLogeado)return [];\n      return this.todosEspacios.filter(e=>e.idAdministrador===this.usuario.id);\n    },\n    espaciosNoUsuario(){\n      if(!this.usuarioLogeado)return this.todosEspacios;\n      return this.todosEspacios.filter(e=>e.idAdministrador!=this.usuario.id)\n    }\n  },\n};\n</script>\n\n<style scoped>\n#barraControles {\n  display: flex;\n  flex-direction: row-reverse;\n    padding: 10px 20px;\n}\n\n.botonControl {\n  width: 20px;\n  height: 20px;\n}\n#listaEspacios{\n    margin: 20px auto;\n    width: min(600px, 95vw);\n    margin-bottom: 40vh;\n}\n.espacio{\n  margin:10px 0px;\n}\n.espacio:hover{\n    background-color: var(--grisHover);\n}\n</style>"],"sourceRoot":"src/components"}]}