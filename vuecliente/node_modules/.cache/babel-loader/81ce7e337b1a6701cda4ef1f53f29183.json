{"remainingRequest":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js!/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vida1/webpj/pepepe/vuecliente/src/components/atlasSolidaridad/Nodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vida1/webpj/pepepe/vuecliente/src/components/atlasSolidaridad/Nodo.vue","mtime":1643654906499},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vida1/webpj/pepepe/vuecliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiL2hvbWUvdmlkYTEvd2VicGovcGVwZXBlL3Z1ZWNsaWVudGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gICAgICAgICAgICBtdXRhdGlvbiAoJGlkTm9kbzogSUQhLCAkbnVldmFQb3NpY2lvbjogQ29vcmRzSW5wdXQpIHtcbiAgICAgICAgICAgICAgc2V0UG9zaWNpb25Ob2RvU29saWRhcmlkYWQoXG4gICAgICAgICAgICAgICAgaWROb2RvOiAkaWROb2RvXG4gICAgICAgICAgICAgICAgbnVldmFQb3NpY2lvbjogJG51ZXZhUG9zaWNpb25cbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgICBjb29yZHMge1xuICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBncWwgZnJvbSAiZ3JhcGhxbC10YWciOwppbXBvcnQgTG9hZGluZyBmcm9tICIuLi91dGlsaWRhZGVzL0xvYWRpbmcudnVlIjsKaW1wb3J0IHsgTWl4aW5FZGljaW9uVmluY3Vsb3NOb2RvU29saWRhcmlkYWQsIE1peGluR2VuZXJhbE5vZG9Tb2xpZGFyaWRhZCwgTWl4aW5Ob2RvQXRsYXMsIE1peGluUGVybWlzb3NVc3VhcmlvTm9kb1NvbGlkYXJpZGFkLCBNaXhpblZpc3VhbGVzTm9kb3NTb2xpZGFyaWRhZCB9IGZyb20gIi4vQ29uZmlndXJhY2lvbk5vZG9Tb2xpZGFyaWRhZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBwcm9wczogewogICAgbm9kb1lvOiBPYmplY3QKICB9LAogIG5hbWU6ICJub2RvIiwKICBtaXhpbnM6IFtNaXhpbkVkaWNpb25WaW5jdWxvc05vZG9Tb2xpZGFyaWRhZCwgTWl4aW5QZXJtaXNvc1VzdWFyaW9Ob2RvU29saWRhcmlkYWQsIE1peGluR2VuZXJhbE5vZG9Tb2xpZGFyaWRhZCwgTWl4aW5WaXN1YWxlc05vZG9zU29saWRhcmlkYWQsIE1peGluTm9kb0F0bGFzXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWdhcnJhZG86IGZhbHNlLAogICAgICBhcnJhc3RyYW5kb05vZG86IDAsCiAgICAgIHVtYnJhbEFycmFzdHJlTm9kbzogMTAsCiAgICAgIG1vbnRhZG86IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXJyYXN0cmFyTm9kbzogZnVuY3Rpb24gYXJyYXN0cmFyTm9kbyhlKSB7CiAgICAgIGlmICghdGhpcy5hZ2FycmFkbyB8fCB0aGlzLnVzdWFyaW9BZG1pbmlzdHJhZG9yID09PSBmYWxzZSAmJiB0aGlzLnVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3IgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmFycmFzdHJhbmRvTm9kbyA9IHRoaXMuYXJyYXN0cmFuZG9Ob2RvICsgTWF0aC5hYnMoZS5tb3ZlbWVudFgpICsgTWF0aC5hYnMoZS5tb3ZlbWVudFkpOwoKICAgICAgaWYgKHRoaXMuYXJyYXN0cmFuZG9Ob2RvIDwgdGhpcy51bWJyYWxBcnJhc3RyZU5vZG8pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBjb250ZW5lZG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRlbmVkb3JOb2RvcyIpOwogICAgICB2YXIgcG9zQ29udGVuZWRvciA9IGNvbnRlbmVkb3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHZhciBudWV2b1RvcCA9IE1hdGgucm91bmQoKGUuY2xpZW50WSAtIHBvc0NvbnRlbmVkb3IudG9wKSAvIHRoaXMuZmFjdG9yWm9vbSk7CiAgICAgIHZhciBudWV2b0xlZnQgPSBNYXRoLnJvdW5kKChlLmNsaWVudFggLSBwb3NDb250ZW5lZG9yLmxlZnQpIC8gdGhpcy5mYWN0b3Jab29tKTsKICAgICAgdmFyIHN0ZXBQb3N4ID0gMjU7CiAgICAgIHZhciBzdGVwUG9zeSA9IDE1OwogICAgICBudWV2b0xlZnQgPSBudWV2b0xlZnQgLSBudWV2b0xlZnQgJSBzdGVwUG9zeDsKICAgICAgbnVldm9Ub3AgPSBudWV2b1RvcCAtIG51ZXZvVG9wICUgc3RlcFBvc3k7CiAgICAgIHRoaXMuJHNldCh0aGlzLnBvc2ljaW9uLCAieCIsIG51ZXZvTGVmdCk7CiAgICAgIHRoaXMuJHNldCh0aGlzLnBvc2ljaW9uLCAieSIsIG51ZXZvVG9wKTsKICAgIH0sCiAgICBndWFyZGFyUG9zaWNpb246IGZ1bmN0aW9uIGd1YXJkYXJQb3NpY2lvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmFycmFzdHJhbmRvTm9kbyA8IHRoaXMudW1icmFsQXJyYXN0cmVOb2RvKSB7CiAgICAgICAgdGhpcy5hZ2FycmFkbyA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnVzdWFyaW9BZG1pbmlzdHJhZG9yICYmICF0aGlzLnVzdWFyaW9TdXBlcmFkbWluaXN0cmFkb3IpIHsKICAgICAgICB0aGlzLmFnYXJyYWRvID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmFycmFzdHJhbmRvTm9kbyA9IDA7CiAgICAgIHRoaXMuYWdhcnJhZG8gPSBmYWxzZTsKICAgICAgdGhpcy4kYXBvbGxvLm11dGF0ZSh7CiAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QoKSksCiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZE5vZG86IHRoaXMuZXN0ZU5vZG8uaWQsCiAgICAgICAgICBudWV2YVBvc2ljaW9uOiB0aGlzLnBvc2ljaW9uCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygiUG9zaWNpXHhGM24gZ3VhcmRhZGEiKTsKCiAgICAgICAgX3RoaXMuJGVtaXQoIm1lTW92aSIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IuIEU6ICIuY29uY2F0KGVycm9yKSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Nodo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    class=\"nodo\"\n    :class=\"{ seleccionado, deshabilitado: enviandoQueryGeneral }\"\n    :style=\"[estiloPosicion, estiloZeta, estiloSize, estiloTransicion]\"\n    @mousedown.left=\"agarrado = callingPosiciones ? false : true\"\n    @mouseup.left=\"guardarPosicion\"\n    @mousemove=\"arrastrarNodo\"\n  >\n    <div id=\"zonaArrastre\" v-show=\"agarrado\"></div>\n\n    <div id=\"bolita\" :style=\"[estiloBolita]\" :class=\"{ transparentoso }\">\n      <svg\n        aria-hidden=\"true\"\n        focusable=\"false\"\n        data-prefix=\"fas\"\n        data-icon=\"cog\"\n        class=\"svg-inline--fa fa-cog fa-w-16 iconoFondo\"\n        role=\"img\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 512 512\"\n        v-if=\"esteNodo.tipoNodo === 'trabajo'\"\n      >\n        <path\n          :fill=\"colorIcono\"\n          d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"\n        ></path>\n      </svg>\n      <svg\n        aria-hidden=\"true\"\n        focusable=\"false\"\n        data-prefix=\"fas\"\n        data-icon=\"star\"\n        class=\"svg-inline--fa fa-star fa-w-18 iconoFondo\"\n        role=\"img\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 576 512\"\n        v-else\n        :class=\"{ transparentoso }\"\n      >\n        <path\n          :fill=\"colorIcono\"\n          d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\n        ></path>\n      </svg>\n    </div>\n    <div\n      id=\"iconoPlegado\"\n      v-show=\"\n        (esteNodo.vinculos && esteNodo.vinculos.length > 0) ||\n        esteNodo.responsables.length > 0\n      \"\n      :class=\"{ deshabilitado: waitingFetchChildren }\"\n      @click.stop=\"toggleDesplegar\"\n      :style=\"{\n        borderColor:\n          waitingFetchChildren || transparentoso\n            ? 'transparent'\n            : desplegado\n            ? 'var(--atlasNaranja)'\n            : 'gray',\n      }\"\n    >\n      <img\n        src=\"@/assets/iconos/folder.svg\"\n        v-show=\"!desplegado && !waitingFetchChildren\"\n        alt=\"Plegado\"\n        title=\"Desplegar\"\n        style=\"filter: var(--atlasFilterGris)\"\n        :class=\"{ transparentoso }\"\n      />\n      <img\n        src=\"@/assets/iconos/folderOpen.svg\"\n        v-show=\"desplegado && !waitingFetchChildren\"\n        alt=\"Desplegado\"\n        title=\"Plegar\"\n        style=\"filter: var(--atlasFilterGris)\"\n        :class=\"{ transparentoso }\"\n      />\n      <loading texto=\"\" v-show=\"waitingFetchChildren\" />\n    </div>\n    <img\n      src=\"@/assets/iconos/maximizar.png\"\n      alt=\"abrir\"\n      class=\"bAbrirNodo\"\n      title=\"Ampliar información\"\n      v-show=\"seleccionado && !enVentanita\"\n      @click.left.stop=\"$emit('meAbrieron')\"\n      @mouseup.left.stop=\"\"\n      @mousedown.left.stop=\"\"\n    />\n    <div\n      id=\"cartelNombre\"\n      :style=\"[estiloCartelNombre, colorCartelNombre]\"\n      :class=\"{\n        transparentoso,\n        completa:\n          seleccionado || requeridoPorSeleccionado || requiereAlSeleccionado,\n      }\"\n    >\n      <div id=\"nombre\" draggable=\"false\">\n        {{\n          callingPosiciones\n            ? esteNodo.fuerzaColision.fuerza.toFixed(2) +\n              \"-\" +\n              esteNodo.fuerzaColision.direccion.toFixed(2)\n            : esteNodo.nombre\n        }}\n      </div>\n    </div>\n\n    <div\n      id=\"menuContextual\"\n      @mouseup.stop=\"\"\n      @mousedown.stop=\"\"\n      v-show=\"menuCx && usuarioLogeado\"\n    >\n      <div class=\"tituloSeccionMenuCx\" v-show=\"usuarioLogeado\">Yo...</div>\n      <div class=\"botonesSeccionMenuCx\" v-show=\"usuarioLogeado\">\n        <div\n          class=\"botonMenuCx\"\n          v-show=\"\n            usuarioLogeado &&\n            nodoYo &&\n            !nodoYo.vinculos.map((v) => v.idRef).includes(esteNodo.id)\n          \"\n          :class=\"{ deshabilitado: enviandoEditVinculos }\"\n          @click.stop=\"crearRequerimento(usuario.id, 'usuario', esteNodo.id)\"\n        >\n          Requiero este nodo\n        </div>\n        <div\n          class=\"botonMenuCx\"\n          v-show=\"\n            usuarioLogeado &&\n            nodoYo &&\n            nodoYo.vinculos.map((v) => v.idRef).includes(esteNodo.id)\n          \"\n          :class=\"{ deshabilitado: enviandoEditVinculos }\"\n          @click.stop=\"eliminarRequerimento(usuario.id, 'usuario', esteNodo.id)\"\n        >\n          No requiero este nodo\n        </div>\n        <div\n          class=\"botonMenuCx\"\n          v-show=\"\n            usuarioLogeado &&\n            requeridoPorSeleccionado &&\n            !childSeleccionado &&\n            (usuarioSuperadministrador || esteNodo.administradores.length < 1)\n          \"\n          :class=\"{ deshabilitado: enviandoEditVinculos }\"\n          @click.stop=\"crearParenting(usuario.id, 'usuario', esteNodo.id)\"\n        >\n          Me adueño de este nodo\n        </div>\n      </div>\n\n      <template\n        v-if=\"idNodoSeleccionado != null && idNodoSeleccionado != esteNodo.id && idNodoSeleccionado != usuario.id\"\n      >\n        <div class=\"tituloSeccionMenuCx\">El nodo seleccionado...</div>\n        <div class=\"botonesSeccionMenuCx\">\n          <div\n            class=\"botonMenuCx\"\n            @click.stop=\"eliminarRequerimento(idNodoSeleccionado, nodoSeleccionado.__typename.charAt(0).toLowerCase() + nodoSeleccionado.__typename.slice(1), esteNodo.id)\"\n            v-show=\"\n              requeridoPorSeleccionado &&\n              (usuarioResponsableAmplioNodoSeleccionado ||\n                usuarioSuperadministrador)\n            \"\n            :class=\"{ deshabilitado: enviandoEditVinculos }\"\n          >\n            Ya no requiere este nodo\n          </div>\n          <div\n            class=\"botonMenuCx\"\n            :class=\"{ deshabilitado: enviandoEditVinculos }\"\n            v-show=\"\n              (usuarioResponsableAmplioNodoSeleccionado ||\n                usuarioSuperadministrador) &&\n              !requeridoPorSeleccionado &&\n              !requiereAlSeleccionado\n            \"\n            @click.stop=\"crearRequerimento(idNodoSeleccionado, nodoSeleccionado.__typename.charAt(0).toLowerCase()+nodoSeleccionado.__typename.slice(1), esteNodo.id)\"\n          >\n            Requiere este elemento\n          </div>\n          <div\n            class=\"botonMenuCx\"\n            :class=\"{ deshabilitado: enviandoEditVinculos }\"\n            v-show=\"\n              usuarioSuperadministrador &&\n              requeridoPorSeleccionado &&\n              !childSeleccionado &&\n              idNodoSeleccionado != usuario.id\n            \"\n            @click.stop=\"crearParenting(idNodoSeleccionado, nodoSeleccionado.__typename.charAt(0).toLowerCase()+nodoSeleccionado.__typename.slice(1), esteNodo.id)\"\n          >\n            Se adueña de este elemento\n          </div>\n        </div>\n      </template>\n      <template v-if=\"usuarioResponsableAmplio\">\n        <div class=\"tituloSeccionMenuCx\">Crear nuevo...</div>\n        <div class=\"botonesSeccionMenuCx\">\n          <div\n            class=\"botonMenuCx\"\n            :class=\"{ deshabilitado: creandoSubNodo }\"\n            @click.stop=\"\n              crearNuevoNodoUnder({ tipoNodo: 'trabajo' })\n            \"\n          >\n            Trabajo\n          </div>\n          <div\n            class=\"botonMenuCx\"\n            v-if=\"esteNodo.tipoNodo != 'trabajo'\"\n            :class=\"{ deshabilitado: creandoSubNodo }\"\n            @click.stop=\"\n              crearNuevoNodoUnder({ tipoNodo: 'objetivo' })\n            \"\n          >\n            Objetivo\n          </div>\n        </div>\n      </template>\n      <div\n        class=\"botonMenuCx\"\n        v-show=\"\n          (usuarioSuperadministrador || usuarioAdministrador) &&\n          (!idNodoSeleccionado || seleccionado)\n        \"\n        :class=\"{\n          deshabilitado: !usuarioAdministrador && !usuarioSuperadministrador,\n        }\"\n        @click.stop=\"eliminarse\"\n      >\n        Eliminar\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport {\n  MixinEdicionVinculosNodoSolidaridad,\n  MixinGeneralNodoSolidaridad,\n  MixinNodoAtlas,\n  MixinPermisosUsuarioNodoSolidaridad,\n  MixinVisualesNodosSolidaridad,\n} from \"./ConfiguracionNodoSolidaridad\";\n\nexport default {\n  components: { Loading },\n  props: {\n    nodoYo: Object,\n  },\n  name: \"nodo\",\n  mixins: [\n    MixinEdicionVinculosNodoSolidaridad,\n    MixinPermisosUsuarioNodoSolidaridad,\n    MixinGeneralNodoSolidaridad,\n    MixinVisualesNodosSolidaridad,\n    MixinNodoAtlas,\n  ],\n  data() {\n    return {\n      agarrado: false,\n      arrastrandoNodo: 0,\n      umbralArrastreNodo: 10,\n      montado: false,\n    };\n  },\n  methods: {\n    arrastrarNodo(e) {\n      if (\n        !this.agarrado ||\n        (this.usuarioAdministrador === false &&\n          this.usuarioSuperadministrador === false)\n      ) {\n        return;\n      }\n      this.arrastrandoNodo =\n        this.arrastrandoNodo + Math.abs(e.movementX) + Math.abs(e.movementY);\n      if (this.arrastrandoNodo < this.umbralArrastreNodo) {\n        return;\n      }\n      var contenedor = document.getElementById(\"contenedorNodos\");\n      let posContenedor = contenedor.getBoundingClientRect();\n\n      let nuevoTop = Math.round(\n        (e.clientY - posContenedor.top) / this.factorZoom\n      );\n      let nuevoLeft = Math.round(\n        (e.clientX - posContenedor.left) / this.factorZoom\n      );\n\n      const stepPosx = 25;\n      const stepPosy = 15;\n\n      nuevoLeft = nuevoLeft - (nuevoLeft % stepPosx);\n      nuevoTop = nuevoTop - (nuevoTop % stepPosy);\n\n      this.$set(this.posicion, \"x\", nuevoLeft);\n      this.$set(this.posicion, \"y\", nuevoTop);\n    },\n    guardarPosicion() {\n      if (this.arrastrandoNodo < this.umbralArrastreNodo) {\n        this.agarrado = false;\n        return;\n      }\n      if (!this.usuarioAdministrador && !this.usuarioSuperadministrador) {\n        this.agarrado = false;\n        return;\n      }\n      this.arrastrandoNodo = 0;\n      this.agarrado = false;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idNodo: ID!, $nuevaPosicion: CoordsInput) {\n              setPosicionNodoSolidaridad(\n                idNodo: $idNodo\n                nuevaPosicion: $nuevaPosicion\n              ) {\n                id\n                coords {\n                  x\n                  y\n                }\n              }\n            }\n          `,\n          variables: {\n            idNodo: this.esteNodo.id,\n            nuevaPosicion: this.posicion,\n          },\n        })\n        .then(() => {\n          console.log(`Posición guardada`);\n          this.$emit(\"meMovi\");\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import \"./estilosNodoAtlas.css\";\n</style>"],"sourceRoot":"src/components/atlasSolidaridad"}]}