{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/iconos/key.svg","webpack:///./src/assets/iconos/home.svg","webpack:///./src/App.vue?7e02","webpack:///./src/components/atlasSolidaridad/homeNodo/RecursoExternoNodo.vue?a975","webpack:///./src/components/proyecto/CanvasDiagramaFlujo.vue?4e07","webpack:///./src/assets/iconos/thList.svg","webpack:///./src/assets/iconos/mensaje.png","webpack:///./src/components/atlasConocimiento/EnlacesNodoConocimiento.vue?7548","webpack:///./src/assets/iconos/plusCircle.svg","webpack:///./src/components/proyecto/NodoTrabajo.vue?1548","webpack:///./src/assets/iconos/settings.png","webpack:///./src/assets/iconos/raiseHand.png","webpack:///./src/assets/iconos/arrowUp.svg","webpack:///./src/assets/iconos/search.png","webpack:///./src/assets/iconos/save.svg","webpack:///./src/assets/iconos/times.svg","webpack:///./src/assets/iconos/delete.png","webpack:///./src/assets/iconos/calendarPlus.svg","webpack:///./src/assets/iconos/readme.svg","webpack:///./src/components/atlasSolidaridad/AtlasSolidaridad.vue?ec20","webpack:///./src/assets/iconos/starSolid.svg","webpack:///./src/components/utilidades/EventoPersonalCalendario.vue?5216","webpack:///./src/assets/iconos/nodoConocimientoDefault.png","webpack:///./src/components/atlasSolidaridad/ventanaLista/ListaNodos.vue?7acb","webpack:///./src/components/visorNodoConocimiento/archivoSeccionNodo.vue?a252","webpack:///./src/assets/iconos/adjuntar.png","webpack:///./src/assets/iconos/loading.png","webpack:///./src/components/foros/Respuesta.vue?dce3","webpack:///./src/components/visorNodoConocimiento/VisorNodoConocimiento.vue?d646","webpack:///./src/assets/iconos/folderOpen.svg","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaEvento.vue?9336","webpack:///./src/components/atlasSolidaridad/homeNodo/TablaDato.vue?680c","webpack:///./src/assets/iconos/expand.svg","webpack:///./src/components/usuario/personaVistaLista.vue?1825","webpack:///./src/assets/iconos/trash.svg","webpack:///./src/assets/iconos/calendar.svg","webpack:///./src/assets/iconos/tag.svg","webpack:///./src/components/atlasSolidaridad/ventanaLista/NodoVistaLista.vue?6579","webpack:///./src/assets/iconos/envelope.svg","webpack:///./src/assets/iconos/idBadge.svg","webpack:///./src/assets/iconos/productHunt.svg","webpack:///./src/components/utilidades/Loading.vue?5d68","webpack:///./src/assets/iconos/hourglass.svg","webpack:///./src/assets/iconos/enviar.png","webpack:///./src/assets/iconos/guardar.png","webpack:///./src/components/usuario/PerfilPersonal.vue?0147","webpack:///./src/components/atlasSolidaridad/NodoPersona.vue?c4db","webpack:///./src/assets/iconos/editar.png","webpack:///./src/components/ForosGenerales.vue?1a8e","webpack:///./src/App.vue?25ae","webpack:///./src/components/usuario/Notificacion.vue?9d5f","webpack:///src/components/usuario/Notificacion.vue","webpack:///./src/components/usuario/Notificacion.vue?b3da","webpack:///./src/components/usuario/Notificacion.vue","webpack:///./src/components/usuario/NotificacionActividadForos.vue?0ef2","webpack:///src/components/usuario/NotificacionActividadForos.vue","webpack:///./src/components/usuario/NotificacionActividadForos.vue?3d31","webpack:///./src/components/usuario/NotificacionActividadForos.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/apolloStore/Schema.js","webpack:///./src/apollo.js","webpack:///./src/components/atlasConocimiento/AtlasConocimiento.vue?6294","webpack:///./src/components/atlasConocimiento/NodoConocimiento.vue?2d42","webpack:///src/components/atlasConocimiento/NodoConocimiento.vue","webpack:///./src/components/atlasConocimiento/NodoConocimiento.vue?3bbd","webpack:///./src/components/atlasConocimiento/NodoConocimiento.vue","webpack:///./src/components/atlasConocimiento/BuscadorNodosConocimiento.vue?d305","webpack:///./src/components/utilidades/Loading.vue?781e","webpack:///src/components/utilidades/Loading.vue","webpack:///./src/components/utilidades/Loading.vue?3516","webpack:///./src/components/utilidades/Loading.vue","webpack:///src/components/atlasConocimiento/BuscadorNodosConocimiento.vue","webpack:///./src/components/atlasConocimiento/BuscadorNodosConocimiento.vue?8391","webpack:///./src/components/atlasConocimiento/BuscadorNodosConocimiento.vue","webpack:///./src/components/atlasConocimiento/PanelConjuntosNodos.vue?9248","webpack:///./src/components/atlasConocimiento/IconoNodoConocimiento.vue?c140","webpack:///src/components/atlasConocimiento/IconoNodoConocimiento.vue","webpack:///./src/components/atlasConocimiento/IconoNodoConocimiento.vue?0b94","webpack:///./src/components/atlasConocimiento/IconoNodoConocimiento.vue","webpack:///src/components/atlasConocimiento/PanelConjuntosNodos.vue","webpack:///./src/components/atlasConocimiento/PanelConjuntosNodos.vue?3118","webpack:///./src/components/atlasConocimiento/PanelConjuntosNodos.vue","webpack:///./src/components/atlasConocimiento/PanelConfiguracionAtlas.vue?24ee","webpack:///src/components/atlasConocimiento/PanelConfiguracionAtlas.vue","webpack:///./src/components/atlasConocimiento/PanelConfiguracionAtlas.vue?de8b","webpack:///./src/components/atlasConocimiento/PanelConfiguracionAtlas.vue","webpack:///./src/components/atlasConocimiento/EnlacesNodoConocimiento.vue?2e57","webpack:///src/components/atlasConocimiento/EnlacesNodoConocimiento.vue","webpack:///./src/components/atlasConocimiento/EnlacesNodoConocimiento.vue?eaa0","webpack:///./src/components/atlasConocimiento/EnlacesNodoConocimiento.vue","webpack:///src/components/atlasConocimiento/AtlasConocimiento.vue","webpack:///./src/components/atlasConocimiento/AtlasConocimiento.vue?6b6a","webpack:///./src/components/atlasConocimiento/AtlasConocimiento.vue","webpack:///./src/components/LoginArea.vue?d7af","webpack:///src/components/LoginArea.vue","webpack:///./src/components/LoginArea.vue?9287","webpack:///./src/components/LoginArea.vue","webpack:///./src/components/usuario/PerfilPersonal.vue?264d","webpack:///./src/components/usuario/configuracion.js","webpack:///./src/components/atlasSolidaridad/ventanaLista/ventanaLista.vue?05f8","webpack:///./src/components/atlasSolidaridad/frags.js","webpack:///./src/components/atlasSolidaridad/MixinAtlasSolidaridad.js","webpack:///./src/components/atlasSolidaridad/ventanaLista/BuscadorNodos.vue?8f0e","webpack:///src/components/atlasSolidaridad/ventanaLista/BuscadorNodos.vue","webpack:///./src/components/atlasSolidaridad/ventanaLista/BuscadorNodos.vue?bba0","webpack:///./src/components/atlasSolidaridad/ventanaLista/BuscadorNodos.vue","webpack:///./src/components/atlasSolidaridad/ventanaLista/ListaNodos.vue?3e8c","webpack:///./src/components/atlasSolidaridad/ventanaLista/NodoVistaLista.vue?26fc","webpack:///./src/components/usuario/IconoPersonaAutonomo.vue?90cd","webpack:///./src/components/utilidades/recursosGql.js","webpack:///src/components/usuario/IconoPersonaAutonomo.vue","webpack:///./src/components/usuario/IconoPersonaAutonomo.vue?aa37","webpack:///./src/components/usuario/IconoPersonaAutonomo.vue","webpack:///./src/components/atlasSolidaridad/configuracion.js","webpack:///./src/components/atlasSolidaridad/ConfiguracionNodoSolidaridad.js","webpack:///./src/components/atlasSolidaridad/homeNodo/RecursoExternoNodo.vue?e1e3","webpack:///src/components/atlasSolidaridad/homeNodo/RecursoExternoNodo.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/RecursoExternoNodo.vue?9528","webpack:///./src/components/atlasSolidaridad/homeNodo/RecursoExternoNodo.vue","webpack:///./src/components/utilidades/Calendario.vue?c775","webpack:///./src/components/utilidades/DiaCalendario.vue?97dd","webpack:///./src/components/utilidades/fragsCalendario.js","webpack:///./src/components/utilidades/EventoPublicoCalendario.vue?87b6","webpack:///./src/components/configs.js","webpack:///./src/components/MixinsEventos.js","webpack:///src/components/utilidades/EventoPublicoCalendario.vue","webpack:///./src/components/utilidades/EventoPublicoCalendario.vue?0f85","webpack:///./src/components/utilidades/EventoPublicoCalendario.vue","webpack:///./src/components/utilidades/EventoPersonalCalendario.vue?c86d","webpack:///src/components/utilidades/EventoPersonalCalendario.vue","webpack:///./src/components/utilidades/EventoPersonalCalendario.vue?a50c","webpack:///./src/components/utilidades/EventoPersonalCalendario.vue","webpack:///src/components/utilidades/DiaCalendario.vue","webpack:///./src/components/utilidades/DiaCalendario.vue?0a0f","webpack:///./src/components/utilidades/DiaCalendario.vue","webpack:///src/components/utilidades/Calendario.vue","webpack:///./src/components/utilidades/Calendario.vue?574d","webpack:///./src/components/utilidades/Calendario.vue","webpack:///src/components/atlasSolidaridad/ventanaLista/NodoVistaLista.vue","webpack:///./src/components/atlasSolidaridad/ventanaLista/NodoVistaLista.vue?44ed","webpack:///./src/components/atlasSolidaridad/ventanaLista/NodoVistaLista.vue","webpack:///src/components/atlasSolidaridad/ventanaLista/ListaNodos.vue","webpack:///./src/components/atlasSolidaridad/ventanaLista/ListaNodos.vue?6a71","webpack:///./src/components/atlasSolidaridad/ventanaLista/ListaNodos.vue","webpack:///src/components/atlasSolidaridad/ventanaLista/ventanaLista.vue","webpack:///./src/components/atlasSolidaridad/ventanaLista/ventanaLista.vue?4b70","webpack:///./src/components/atlasSolidaridad/ventanaLista/ventanaLista.vue","webpack:///src/components/usuario/PerfilPersonal.vue","webpack:///./src/components/usuario/PerfilPersonal.vue?5414","webpack:///./src/components/usuario/PerfilPersonal.vue","webpack:///./src/components/visorNodoConocimiento/VisorNodoConocimiento.vue?6bbf","webpack:///./src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue?1aea","webpack:///./src/components/visorNodoConocimiento/archivoSeccionNodo.vue?7761","webpack:///src/components/visorNodoConocimiento/archivoSeccionNodo.vue","webpack:///./src/components/visorNodoConocimiento/archivoSeccionNodo.vue?29d0","webpack:///./src/components/visorNodoConocimiento/archivoSeccionNodo.vue","webpack:///src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue","webpack:///./src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue?e401","webpack:///./src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue","webpack:///./src/components/Foro.vue?1a4e","webpack:///./src/components/foros/Conversacion.vue?8b4a","webpack:///./src/components/foros/CuadroResponder.vue?1225","webpack:///./src/components/foros/CreadorInterpolacion.vue?0dfd","webpack:///./src/components/foros/Interpolacion.vue?7445","webpack:///src/components/foros/Interpolacion.vue","webpack:///./src/components/foros/Interpolacion.vue?db53","webpack:///./src/components/foros/Interpolacion.vue","webpack:///src/components/foros/CreadorInterpolacion.vue","webpack:///./src/components/foros/CreadorInterpolacion.vue?c8a0","webpack:///./src/components/foros/CreadorInterpolacion.vue","webpack:///src/components/foros/CuadroResponder.vue","webpack:///./src/components/foros/CuadroResponder.vue?e045","webpack:///./src/components/foros/CuadroResponder.vue","webpack:///./src/components/foros/Respuesta.vue?625e","webpack:///src/components/foros/Respuesta.vue","webpack:///./src/components/foros/Respuesta.vue?9d56","webpack:///./src/components/foros/Respuesta.vue","webpack:///src/components/foros/Conversacion.vue","webpack:///./src/components/foros/Conversacion.vue?5fa9","webpack:///./src/components/foros/Conversacion.vue","webpack:///src/components/Foro.vue","webpack:///./src/components/Foro.vue?22c5","webpack:///./src/components/Foro.vue","webpack:///src/components/visorNodoConocimiento/VisorNodoConocimiento.vue","webpack:///./src/components/visorNodoConocimiento/VisorNodoConocimiento.vue?3862","webpack:///./src/components/visorNodoConocimiento/VisorNodoConocimiento.vue","webpack:///./src/components/Proyectos.vue?9a03","webpack:///./src/components/proyectos/IconoProyecto.vue?a769","webpack:///src/components/proyectos/IconoProyecto.vue","webpack:///./src/components/proyectos/IconoProyecto.vue?3b32","webpack:///./src/components/proyectos/IconoProyecto.vue","webpack:///src/components/Proyectos.vue","webpack:///./src/components/Proyectos.vue?39d0","webpack:///./src/components/Proyectos.vue","webpack:///./src/components/Proyecto.vue?a6a0","webpack:///./src/components/proyecto/DiagramaFlujo.vue?b3ce","webpack:///./src/components/proyecto/CanvasDiagramaFlujo.vue?3a41","webpack:///src/components/proyecto/CanvasDiagramaFlujo.vue","webpack:///./src/components/proyecto/CanvasDiagramaFlujo.vue?fa8a","webpack:///./src/components/proyecto/CanvasDiagramaFlujo.vue","webpack:///./src/components/proyecto/NodoObjetivo.vue?76ee","webpack:///src/components/proyecto/NodoObjetivo.vue","webpack:///./src/components/proyecto/NodoObjetivo.vue?19c6","webpack:///./src/components/proyecto/NodoObjetivo.vue","webpack:///./src/components/proyecto/NodoTrabajo.vue?d6c3","webpack:///src/components/proyecto/NodoTrabajo.vue","webpack:///./src/components/proyecto/NodoTrabajo.vue?fe8f","webpack:///./src/components/proyecto/NodoTrabajo.vue","webpack:///./src/components/proyecto/VentanitaObjetivo.vue?8e8e","webpack:///src/components/proyecto/VentanitaObjetivo.vue","webpack:///./src/components/proyecto/VentanitaObjetivo.vue?885f","webpack:///./src/components/proyecto/VentanitaObjetivo.vue","webpack:///./src/components/proyecto/VentanitaTrabajo.vue?98a8","webpack:///src/components/proyecto/VentanitaTrabajo.vue","webpack:///./src/components/proyecto/VentanitaTrabajo.vue?360b","webpack:///./src/components/proyecto/VentanitaTrabajo.vue","webpack:///src/components/proyecto/DiagramaFlujo.vue","webpack:///./src/components/proyecto/DiagramaFlujo.vue?391c","webpack:///./src/components/proyecto/DiagramaFlujo.vue","webpack:///src/components/Proyecto.vue","webpack:///./src/components/Proyecto.vue?083e","webpack:///./src/components/Proyecto.vue","webpack:///./src/components/Registro.vue?0394","webpack:///./src/components/utilidades/validacionDatosUsuario.js","webpack:///src/components/Registro.vue","webpack:///./src/components/Registro.vue?0ea2","webpack:///./src/components/Registro.vue","webpack:///./src/components/Personas.vue?745d","webpack:///./src/components/usuario/personaVistaLista.vue?2f99","webpack:///src/components/usuario/personaVistaLista.vue","webpack:///./src/components/usuario/personaVistaLista.vue?5c3a","webpack:///./src/components/usuario/personaVistaLista.vue","webpack:///src/components/Personas.vue","webpack:///./src/components/Personas.vue?7501","webpack:///./src/components/Personas.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/HomeNodo.vue?7e8b","webpack:///./src/components/atlasSolidaridad/homeNodo/TablaDato.vue?a47f","webpack:///src/components/atlasSolidaridad/homeNodo/TablaDato.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/TablaDato.vue?c127","webpack:///./src/components/atlasSolidaridad/homeNodo/TablaDato.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/TablaAdministracion.vue?ed58","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaMovimientoDinero.vue?25fc","webpack:///src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaMovimientoDinero.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaMovimientoDinero.vue?057a","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaMovimientoDinero.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaEvento.vue?e73a","webpack:///src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaEvento.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaEvento.vue?370d","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaEvento.vue","webpack:///src/components/atlasSolidaridad/homeNodo/tablaAdministracion/TablaAdministracion.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/TablaAdministracion.vue?d9f7","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/TablaAdministracion.vue","webpack:///./src/components/usuario/BuscadorPersonas.vue?0598","webpack:///src/components/usuario/BuscadorPersonas.vue","webpack:///./src/components/usuario/BuscadorPersonas.vue?41a5","webpack:///./src/components/usuario/BuscadorPersonas.vue","webpack:///src/components/atlasSolidaridad/homeNodo/HomeNodo.vue","webpack:///./src/components/atlasSolidaridad/homeNodo/HomeNodo.vue?0041","webpack:///./src/components/atlasSolidaridad/homeNodo/HomeNodo.vue","webpack:///./src/components/ForosGenerales.vue?d045","webpack:///src/components/ForosGenerales.vue","webpack:///./src/components/ForosGenerales.vue?1fb9","webpack:///./src/components/ForosGenerales.vue","webpack:///./src/components/atlasSolidaridad/AtlasSolidaridad.vue?4ee5","webpack:///./src/components/atlasSolidaridad/Nodo.vue?b7a4","webpack:///src/components/atlasSolidaridad/Nodo.vue","webpack:///./src/components/atlasSolidaridad/Nodo.vue?91c3","webpack:///./src/components/atlasSolidaridad/Nodo.vue","webpack:///./src/components/atlasSolidaridad/EnlacesNodo.vue?99e1","webpack:///src/components/atlasSolidaridad/EnlacesNodo.vue","webpack:///./src/components/atlasSolidaridad/EnlacesNodo.vue?372e","webpack:///./src/components/atlasSolidaridad/EnlacesNodo.vue","webpack:///./src/components/atlasSolidaridad/NodoPersona.vue?7c13","webpack:///src/components/atlasSolidaridad/NodoPersona.vue","webpack:///./src/components/atlasSolidaridad/NodoPersona.vue?0123","webpack:///./src/components/atlasSolidaridad/NodoPersona.vue","webpack:///src/components/atlasSolidaridad/AtlasSolidaridad.vue","webpack:///./src/components/atlasSolidaridad/AtlasSolidaridad.vue?9958","webpack:///./src/components/atlasSolidaridad/AtlasSolidaridad.vue","webpack:///./src/components/Espacios.vue?6fa2","webpack:///./src/components/Espacio.vue?0640","webpack:///./src/components/ListaEventosEspacio.vue?69a3","webpack:///./src/components/EventoItemLista.vue?d0cf","webpack:///src/components/EventoItemLista.vue","webpack:///./src/components/EventoItemLista.vue?5131","webpack:///./src/components/EventoItemLista.vue","webpack:///src/components/ListaEventosEspacio.vue","webpack:///./src/components/ListaEventosEspacio.vue?3f56","webpack:///./src/components/ListaEventosEspacio.vue","webpack:///src/components/Espacio.vue","webpack:///./src/components/Espacio.vue?50b3","webpack:///./src/components/Espacio.vue","webpack:///src/components/Espacios.vue","webpack:///./src/components/Espacios.vue?e15b","webpack:///./src/components/Espacios.vue","webpack:///./src/components/utilidades/VentanaEventoPublico.vue?86d9","webpack:///./src/components/utilidades/InfoParticipanteEventoPublico.vue?26c9","webpack:///src/components/utilidades/InfoParticipanteEventoPublico.vue","webpack:///./src/components/utilidades/InfoParticipanteEventoPublico.vue?2818","webpack:///./src/components/utilidades/InfoParticipanteEventoPublico.vue","webpack:///src/components/utilidades/VentanaEventoPublico.vue","webpack:///./src/components/utilidades/VentanaEventoPublico.vue?55b3","webpack:///./src/components/utilidades/VentanaEventoPublico.vue","webpack:///./src/components/utilidades/VentanaEventoPersonal.vue?a459","webpack:///src/components/utilidades/VentanaEventoPersonal.vue","webpack:///./src/components/utilidades/VentanaEventoPersonal.vue?7fd1","webpack:///./src/components/utilidades/VentanaEventoPersonal.vue","webpack:///./src/Router.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/iconos/clase.png","webpack:///./src/components/utilidades/VentanaEventoPersonal.vue?fe0d","webpack:///./src/assets/iconos/check.svg","webpack:///./src/assets/iconos/user.png","webpack:///./src/assets/iconos/downloadFile.png","webpack:///./src/components/proyectos/IconoProyecto.vue?0d7c","webpack:///./src/assets/iconos/maximizar.png","webpack:///./src/components/Registro.vue?9c0c","webpack:///./src/assets/iconos/broom.svg","webpack:///./src/assets/iconos/alienar.svg","webpack:///./src/components/foros/Interpolacion.vue?d682","webpack:///./src/assets/iconos/target.png","webpack:///./src/assets/iconos/uploadCloud.svg","webpack:///./src/assets/iconos/chevronCircle.svg","webpack:///./src/assets/iconos/teacher.svg","webpack:///./src/assets/iconos/estrella.png","webpack:///./src/assets/iconos/equis.svg","webpack:///./src/assets/iconos/broadcastTower.svg","webpack:///./src/assets/iconos/user.svg","webpack:///./src/components/utilidades/Calendario.vue?d526","webpack:///./src/components/atlasSolidaridad/ventanaLista/NodoVistaLista.vue?2a2f","webpack:///./src/assets/iconos/doubleUp.svg","webpack:///./src/components/utilidades/EventoPublicoCalendario.vue?2c82","webpack:///./src/assets/iconos/link.svg","webpack:///./src/assets/iconos/receipt.svg","webpack:///./src/assets/iconos/minus.svg","webpack:///./src/assets/iconos/lightbulb.svg","webpack:///./src/components/usuario/BuscadorPersonas.vue?ac36","webpack:///./src/components/LoginArea.vue?1c4f","webpack:///./src/components/EventoItemLista.vue?a0e6","webpack:///./src/App.vue?6e74","webpack:///./src/components/foros/CuadroResponder.vue?6657","webpack:///./src/components/usuario/NotificacionActividadForos.vue?46f4","webpack:///./src/assets/iconos/estudiante.png","webpack:///./src/components/foros/Conversacion.vue?7ea1","webpack:///./src/assets/iconos/relojArena.svg","webpack:///./src/assets/iconos/chart.svg","webpack:///./src/assets/iconos/network.svg","webpack:///./src/components/foros/CreadorInterpolacion.vue?8a7f","webpack:///./src/assets/iconos/conversacion.png","webpack:///./src/components/Foro.vue?0a3b","webpack:///./src/components/atlasSolidaridad/Nodo.vue?0d8c","webpack:///./src/components/usuario/IconoPersonaAutonomo.vue?f380","webpack:///./src/assets/iconos/ir.png","webpack:///./src/components/utilidades/DiaCalendario.vue?076a","webpack:///./src/components/proyecto/DiagramaFlujo.vue?0c4b","webpack:///./src/assets/iconos/handshake.svg","webpack:///./src/components/Personas.vue?80a5","webpack:///./src/components/atlasConocimiento/NodoConocimiento.vue?f9e4","webpack:///./src/components/proyecto/VentanitaObjetivo.vue?327a","webpack:///./src/components/atlasConocimiento/BuscadorNodosConocimiento.vue?5877","webpack:///./src/components/atlasSolidaridad/homeNodo/HomeNodo.vue?dbf5","webpack:///./src/components/Proyectos.vue?8df7","webpack:///./src/components/atlasConocimiento/AtlasConocimiento.vue?ab17","webpack:///./src/assets/iconos/search.svg","webpack:///./src/assets/iconos/mas.svg","webpack:///./src/assets/iconos/video.png","webpack:///./src/assets/iconos/calendarPublic.svg","webpack:///./src/assets/iconos/edit.svg","webpack:///./src/assets/iconos/userCog.svg","webpack:///./src/components/proyecto/NodoObjetivo.vue?eba1","webpack:///./src/components/Espacio.vue?aef8","webpack:///./src/components/atlasSolidaridad/ventanaLista/BuscadorNodos.vue?6958","webpack:///./src/assets/iconos/userNodes.png","webpack:///./src/assets/iconos/file.svg","webpack:///./src/assets/iconos/exclamationCircle.svg","webpack:///./src/assets/iconos/foro.png","webpack:///./src/components/atlasSolidaridad/NodoPersona.vue?8a16","webpack:///./src/components/atlasSolidaridad/AtlasSolidaridad.vue?d620","webpack:///./src/components/atlasConocimiento/IconoNodoConocimiento.vue?7627","webpack:///./src/components/usuario/Notificacion.vue?7786","webpack:///./src/components/atlasSolidaridad/homeNodo/HomeNodo.vue?38cf","webpack:///./src/components/atlasConocimiento/PanelConjuntosNodos.vue?9d6c","webpack:///./src/assets/iconos/whatsapp.svg","webpack:///./src/assets/iconos/campanita.png","webpack:///./src/assets/iconos/graduationCap.svg","webpack:///./src/components/atlasConocimiento/AtlasConocimiento.vue?d2c6","webpack:///./src/components/utilidades/InfoParticipanteEventoPublico.vue?b75e","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/ItemTablaMovimientoDinero.vue?5710","webpack:///./src/components/atlasSolidaridad/EnlacesNodo.vue?27e4","webpack:///./src/assets/iconos/folder.svg","webpack:///./src/assets/iconos/hypervinculo.png","webpack:///./src/assets/iconos/clipboardList.svg","webpack:///./src/components/Espacios.vue?45cf","webpack:///./src/components/atlasSolidaridad/ventanaLista/ventanaLista.vue?8645","webpack:///./src/assets/iconos/iconoTrabajo.png","webpack:///./src/components/atlasSolidaridad/homeNodo/HomeNodo.vue?9252","webpack:///./src/assets/iconos/stream.svg","webpack:///./src/components/Proyecto.vue?d1e2","webpack:///./src/assets/iconos/quote.png","webpack:///./src/components/utilidades/VentanaEventoPublico.vue?8d1f","webpack:///./src/assets/iconos/users.svg","webpack:///./src/components/atlasConocimiento/PanelConfiguracionAtlas.vue?d87a","webpack:///./src/components/proyecto/VentanitaTrabajo.vue?8d8f","webpack:///./src/assets/iconos/success.png","webpack:///./src/components/ListaEventosEspacio.vue?bd69","webpack:///./src/components/atlasSolidaridad/homeNodo/tablaAdministracion/TablaAdministracion.vue?5e56","webpack:///./src/assets/iconos/info.svg","webpack:///./src/assets/iconos/lapiz.svg","webpack:///./src/components/visorNodoConocimiento/SeccionNodoConocimiento.vue?7421","webpack:///./src/assets/iconos/cog.svg","webpack:///./src/assets/iconos/comments.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","mostrandoNav","_v","class","enlacesOcultos","usuarioLogeado","usuario","permisos","includes","staticClass","_e","directives","rawName","expression","tallerCuentosUrl","$store","state","token","yo","notificaciones","notificacionesActividadForos","_s","mostrandoNotificaciones","_l","notificacionActividadForos","id","notificacion","accionesLogeado","username","deslogeo","staticRenderFns","visitar","fechaFormateada","serverUrl","estaNotificacion","causante","domProps","mensaje","props","type","default","methods","enlace","elementoTarget","tipo","eliminarse","$router","catch","console","log","error","message","substr","$apollo","mutate","mutation","variables","idNotificacion","update","eliminarNotificacion","query","QUERY_YO","indexN","nuevoCache","store","writeQuery","computed","nombre","texto","indexGMT","fechaCorta","component","tipoParent","enlaceLibro","open","idParent","eliminarNotificacionActividadForos","tipoTarget","parseJwt","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","JSON","parse","apollo","fetchPolicy","commit","foros","skip","subscribeToMore","document","updateQuery","stringify","previousResult","nuevaNotificacion","components","navSeleccionado","logeado","colorBlancoAccionLogeado","backgroundColor","notificacionesOrdenadas","lasNotificaciones","sort","Date","b","fecha","a","mounted","datosU","version","secsActual","exp","typeDefs","gql","resolvers","cache","InMemoryCache","possibleTypes","getToken","localStorage","getItem","wsServerUrl","httpLink","HttpLink","uri","wsLink","WebSocketLink","options","reconnect","connectionParams","headers","Authorization","authLink","setContext","_","authorization","errorLink","onError","graphQLErrors","networkError","link","concat","finalLink","definition","getMainDefinition","kind","operation","apolloClient","ApolloClient","connectToDevTools","apolloProvider","createApolloProvider","defaultClient","style","overflowY","nodoAbierto","indexOf","_k","keyCode","button","ctrlKey","shiftKey","altKey","metaKey","stopPropagation","panningVista","hovered","idNodoMenuCx","cerrarBusqueda","factorZoom","offsetMenuContextual","deshabilitado","posicionCreandoNodo","crearNodoEnMenuContextual","usuarioSuperadministrador","callingPosiciones","iniciarCallingPosiciones","ref","centrarEnNodo","todosNodos","idNodoTarget","setNodoTargetCache","find","target","currentTarget","preventDefault","abrirMenuContextual","clickFondoAtlas","offsetContenedorNodos","nodo","idNodoSeleccionado","esquinasDiagrama","nodoSeleccionado","redibujarEnlacesNodos","idsTodosNodosRender","staticStyle","offsetLoadingCreandoNodo","usuarioAdministradorAtlas","centroVista","idsNodosObjetivos","idsNodosAprendidos","idsNecesariosParaTarget","configuracionAtlas","crearVinculo","eliminarVinculo","cambiarCoordsManualesNodo","eliminarNodo","setEstadoObjetivoNodoCache","setNodoAprendidoCache","nativeOn","seleccionNodo","nodosDescargados","escondido","estiloPosicion","estiloSize","estiloZeta","arrastrandoNodo","stopProp","guardarPosicion","arrastrarNodo","abrirPaginaNodo","estiloFuerzaCentroMasa","estiloFuerzaColision","fantasmeado","aprendible","atlas","configuracion","modo","deNodoSeleccionado","seleccionado","nodoAprendido","width","parseInt","left","top","esteNodo","eliminarEsteNodo","copiarId","colecciones","coleccion","enColeccion","idsNodos","toggleNodoEnColeccion","toggleAprendido","vinculos","some","v","idRef","nombreSeleccionado","nombreNodoAprendido","nombreNodoOutreach","nombreNodoAprendible","nombreNodoExperto","usuarioExpertoNodo","nodoStuck","stuck","estiloCartelNombre","puntaje","descripcion","mostrarDescripcion","nombreEditable","nombreEditandose","baseSize","x","y","posicion","estiloNombreBase","minWidth","fontSize","minHeight","padding","borderRadius","required","esNodoObjetivo","Boolean","esTarget","String","Array","Number","menuCx","size","fSize","Math","round","baseX","baseY","posY","posX","valorZ","zIndex","height","permisosUsuario","idsNecesarios","expertos","fuerzaCentroMasa","fuerza","transform","nuevoEstadoAprendido","$route","path","el","str","body","appendChild","select","execCommand","removeChild","$emit","nuevoTop","nuevoLeft","idNodoFrom","nodoFrom","idNodoTo","nodoTo","e","idNodo","idColeccion","idUsuario","watch","estado","opaco","mostrandoInput","buscarDatabase","composing","textoBusqueda","resultado","mostrandoLista","estiloTexto","colorLetra","color","cantidadPalabrasValidas","resultados","esperandoResultados","cerrar","offset","abierto","conjunto","idConjuntoSeleccionado","seleccionarColeccion","editandoNombreColeccion","editable","titulo","enviandoQueryColecciones","guardarNuevoNombreColeccion","eliminarColeccion","crearNuevaColeccion","visibility","enviandoQueryTarget","toggleNodoTarget","enviandoQueryNodosSeccion","eliminarNodoSeleccionadoSeccionSeleccionada","conjuntoSeleccionado","clase","idNodoParent","interesados","nulificarNodoTarget","getElementById","nuevoNombre","charProhibidosNombreColeccion","test","alert","right","datosNodos","nodosObjetivo","filter","nodosClasesDictadasUsuario","clasesDictadasUsuario","clasesDictadas","forEach","conjuntos","conjuntosUsuario","nodos","nuevoColecciones","editandoNombre","activo","enviandoQueryModo","setModo","vinculo","estilo","altoVinculos","sizeFlecha","opacity","childSeleccionado","transicionarPosicionNodos","redibujarEnlaces","esquinasSeleccionado","x1","x2","y1","y2","posicionSeleccionado","factorFuerza","continuacionDeSeleccionado","posXAjustada","posYAjustada","vinculosGrises","vGrises","coordsFrom","angulo","paralelas","modulo","borderLeftColor","fuerzaColision","direccion","ceil","borderWidth","posNodo","coords","desplegado","atlasSolidaridad","idsNodosDesplegados","nodoRender","NodoConocimiento","BuscadorNodosConocimiento","Loading","PanelConjuntosNodos","PanelConfiguracionAtlas","EnlacesNodoConocimiento","QUERY_NODOS","dibujarVinculosGrises","pollInterval","nuevoTodosNodos","coordsManuales","autoCoords","QUERY_DATOS_USUARIO_NODOS","nombreAtlas","posicionando","centroVistaDecimal","showingZoomInfo","zoom","minZoom","maxZoom","pinching","lastPinchDistance","actualizarTrazos","vistaPanned","nodosConectadosAlSeleccionado","listaCompleta","listaPorNiveles","profundidadNodosConectadosAlSeleccionado","actualizarVinculosGrises","ultimoTouchX","ultimoTouchY","mostrandoMenuContextual","enviandoQueryConfiguracionAtlas","toFixed","minX","minY","maxX","maxY","ancho","alto","nodosConRequerimentos","nr","nodosRender","map","ciclos","prompt","isNaN","togglePosicionamiento","$set","topClick","leftClick","posicionNuevoNodo","posPxX","posPxY","crearNodo","encontrarNodosNecesariosDeNodo","elNodo","listaTotal","necesarios","necesario","$refs","panelConjuntosNodos","panelConfiguracionAtlas","findIndex","objetivo","nuevoEstado","__typename","aprendido","posDiagrama","contenedorDiagrama","scrollLeft","posIdealScroll","scrollTop","iniciaMovimientoTouch","touches","dist","hypot","changedTouches","clientX","clientY","finTouch","confirm","descargarCentroVista","profundidad","encontrarNodosConectadosRecursivamente","zoomVista","nuevoZoom","deltaZoom","zoomWheel","contenedor","$el","deltaY","posZoom","hideZoomInfo","debounce","route","screen","created","addEventListener","removed","removeEventListener","loginFail","password","iniciarSesion","desaparecido","enviandoDatos","passIlegal","loginFailMsg","charProhibidosUsername","usuarioConectado","nombreUsuario","colorUsername","minPassword","usernameIlegal","inputPassword","inputUsername","deslogearse","location","href","clienteUrl","queries","esteUsuario","seccion","loading","inputFotoUsuario","click","versionFoto","uploadNuevaFoto","nombres","apellidos","email","numeroMovil","inputCurrentPass","newPassIlegal","inputCurrentPassIlegal","aprobado","newPass","newPass2Ilegal","enviarCambioPass","newPass2","enviandoCambioPass","textoResultadoCambioPass","mostrandoOpcionesCrearSubNodo","creandoSubNodo","crearNuevoNodoUnder","tipoNodo","charProhibidosPassword","minLengthPassword","maxLengthPassword","nodosSolidaridad","borderColor","verCompletados","nodoRoot","idsNodosNeedingFetchMore","idNodoRoot","modoLista","tipoNodoRoot","indiceNodosUnder","usuarioResponsableAmplioNodoRoot","updateInfoNodosEverRendered","removeNodoFromNodosSolidaridad","addNodoToNodosSolidaridad","fragmentoPersonaAtlas","fragmentoRecursoExterno","fragmentoMovimientoDineroNodoSolidaridad","fragmentoEventoNodoSolidaridad","fragmentoNodoSolidaridad","QUERY_NODOS_SOLIDARIDAD","QUERY_PERSONAS","MixinAtlasSolidaridad","nodoAtlasSolidaridadByIdAndTipo","nodoSolidaridad","personas","persona","cacheNodosInicializado","provider","$subscribe","nodoEditado","centro","radio","nodoEliminado","eliminarNodoCache","nodosEliminados","ne","datosYoDescargados","idsNodosEverPassedToFetchMore","infoNodosEverRendered","nuevoNodo","readQuery","fetchRelacionesNodosNeedingFetchMore","infoNodos","infoNodosNeedingFetchMore","then","relacionesNodosAtlasByIds","arrayUnique","idsActualesNodosSolidaridad","cacheNS","nuevoCacheNS","idsActualesPersonas","cacheP","nuevoCacheP","objetoFinal","idsVinculos","requeridos","children","nodoParent","responsables","nodosChildren","nodosRequeridos","info","nuevo","array","buscando","buscar","textoBuscado","mostrarCuadroBusqueda","verResultados","mostrandoDescripcionDe","listaIdsNodosRelevantes","nodosEncontrados","nodosEncontradosRelevantes","idNodoEnArrastre","tipoNodoSourceArrastre","nodoPrimerNivel","index","refInFor","verAsumidos","verVacios","iniciarArrastre","finalizarArrastre","toggleContenidoTodos","enviandoQueryGeneral","mostrando","mostrandoBotonesBarraSuperior","usuarioResponsable","descendienteUsuarioResponsable","visible","nodoSiendoArrastrado","usuarioAdministrador","colorBarraSuperior","estiloRecibiendoArrastrado","siendoArrastrado","grabbing","movimientoDeArrastre","recibiendoArrastradoEn","grabbed","grabAttempt","mostrandoNodosUnder","waitingFetchChildren","idNodoOver","colorIcono","enviandoNuevoNombre","guardarNuevoNombre","keydownInputNuevoNombre","toggleEditandoNombre","mostrandoOpcionesCrear","contenido","keywords","recursosExternos","publicitado","togglePublicitado","togglingEstado","estadoDesarrollo","toggleEstadoNodo","usuarioResponsableAmplio","editandoDescripcion","toggleEditandoDescripcion","letrasRojas","nuevoDescripcionIlegal","nuevoDescripcion","guardarNuevoDescripcion","editandoKeywords","toggleEditandoKeywords","nuevoKeywordsIlegal","guardarNuevoKeywords","nuevoKeywords","recursoExterno","usuarioPosibleResponsable","idResponsableSeleccionado","enviandoQueryResponsables","usuarioParent","entrarResponsables","abandonarListaResponsables","retirarUsuarioFromListaResponsables","aceptarResponsable","posiblesResponsables","idResponsable","creandoEvento","iniciarCreacionEvento","responderEventoCreado","responderEventoEliminado","mostrandoNodosCompletados","underNodoSeleccionado","soyYo","offsetIcono","offsetFoto","idPersona","fotografiaEnabled","_t","basicFontSizeNombre","factor","estaPersona","nuevoPermiso","addPermisos","opcionCx","evento","textoVisible","fragmentoMinimoPersona","fragmentoParticipacion","fragmentoDesarrollo","fragmentoTrabajoProyecto","fragmentoObjetivoProyecto","fragmentoProyecto","fragmentoQuote","fragmentoInterpolacion","fragmentoRespuesta","fragmentoConversacion","QUERY_PERSONA","publicUsuario","basicWidthFoto","menuContextual","factorEscala","opcionesMenuCx","fotografiaCargada","beforeRouteUpdate","charProhibidosNombreCosa","charProhibidosTexto","charProhibidosNombreNodo","charProhibidosDescripcionNodo","charProhibidosKeywords","QUERY_DATOS_USUARIO_ATLAS_SOLIDARIDAD","MixinGeneralNodoSolidaridad","dis","MixinEdicionNodoSolidaridad","enviandoNuevoDescripcion","enviandoNuevoKeywords","inputNuevoNombre","nuevoNombreIlegal","inputNuevoDescripcion","offsetHeight","$nextTick","focus","inputNuevoKeywords","idPosibleResponsable","responsableSeleccionadoEstaAceptado","versionCalendario","noSeleccionable","blur","addResponsableManually","MixinPermisosUsuarioNodoSolidaridad","responsablesAmplio","administradores","MixinEdicionVinculosNodoSolidaridad","enviandoEditVinculos","crearRequerimento","idNodoRequiriente","tipoRequiriente","idNodoRequerido","crearParenting","eliminarRequerimento","afterCrearNodoUnder","infoNodo","charAt","toLowerCase","crearNuevoNodoSolidaridadUnderNodo","MixinVisualesNodosSolidaridad","MixinNodoAtlas","seleccionadoEsResponsable","requeridoPorSeleccionado","requiereAlSeleccionado","transparentoso","usuarioAdministradorNodoSeleccionado","usuarioResponsableNodoSeleccionado","usuarioResponsableAmplioNodoSeleccionado","widthBase","heightBase","primeraUbicacionCompletada","toggleDesplegar","sizeEfectivo","montado","umbralArrastreNodo","colorCartelNombre","borde","border","parentDeSeleccionado","estiloBolita","elColor","estiloTransicion","transicion","transition","enVentanita","idNodoPaVentanita","setTimeout","eliminando","editandose","editandoRecurso","clickEnRecurso","esteRecurso","iniciarEditandoRecurso","settingTarget","iniciarInputLink","enviandoNuevoLink","guardarNuevoLink","nuevoLink","nuevoLinkIlegal","editando","prev","inputNuevoLink","eventoSiendoCreado","enfasis","modoEventosPublicosExtranjeros","usuarioVeEventosPublicos","idUsuarioTarget","usuarioProfe","tomandoAccion","diaSeleccionado","seleccionandoMes","iniciarSeleccionandoMes","nombreMesSeleccionado","$$selectedVal","selected","val","_value","numeroMesSeleccionado","multiple","mes","cantidadEventosRelevantesMes","yearSeleccionado","dia","nombresDiasSemana","estiloMargenInicio","hoy","dateHoy","getFullYear","getMonth","getDate","numeroDiaSeleccionado","cantidadEventos","_m","semana","repetirEventosSemana","deleteEventosSemana","date","getTime","horaPx","scrollX","idEventoSeleccionado","reloadEventosRelevantes","diaSemana","diaYMes","cantidadEventosRelevantes","hora","estiloSizeHora","downloadingData","estiloSizeContenedorEventos","clickContenedorEventos","eventoPublico","indiceOffset","esteDia","deleteEventoCache","addEventoCache","todosEventosPersonalesDia","eventoPersonal","idsParticipantes","fragmentoEventoPersonal","fragmentoEventoPublico","eliminandose","bloque","claseOffset","barra","estiloPos","estiloZ","administrador","extranjero","esteEvento","eventosEnmarcados","limiteDeCupos","idAdministrador","creandoEventoPersonalUnder","crearEventoPersonalUnder","diasSemana","meses","MixinBasicoEventos","tipoEvento","dateInicio","horarioInicio","fechaInicioFormateada","dateActualString","toISOString","fechaFinalFormateada","dateFinal","horarioFinal","horarioInicioFormateado","timesLegibles","horas","minutos","horarioFinalFormateado","fechaInicioLegible","getDay","diaMes","horaInicioLegible","getHours","getMinutes","dateInicioLegible","fechaFinalLegible","horaFinalLegible","dateFinalLegible","millisHoyInicio","millisInicioLocal","millisHoyFinal","millisFinalLocal","floor","millis","getTimezoneOffset","duracionMinutos","duracionLegible","dias","MixinBasicoEventosPublicos","MixinBasicoEventosPersonales","MixinEdicionEventos","editandoFechaInicio","editandoHoraInicio","nuevoDuracion","enviandoNuevoDateInicio","enviandoNuevoDateFinal","enviandoHorarios","enviandoSomeHorario","nuevoLimiteDeCupos","editandoLimiteDeCupos","enviandoNuevoLimiteDeCupos","minRepetir","maxRepetir","enviandoQueryRepetir","idEvento","guardarNuevoLimiteDeCupos","inputNuevoLimiteDeCupos","nuevoLimiteDeCuposIlegal","enviandonuevoLimiteDeCupos","toggleEditandoLimiteDeCupos","iniciarEdicionDuracion","editandoDuracion","repetirEvento","cantidadRepetir","periodoRepetir","repetirEventoPeriodicamente","mostrandoZonaRepetir","MixinEdicionEventosPublicos","MixinEventoCalendario","infoOffset","diaCalendarioOver","recogido","anchoPx","millisDia","MixinVentanaEvento","editandoDateInicio","editandoHorarioFinal","cerrarVentana","indexEsteSubpath","search","pathParent","substring","iniciarEdicionFechaInicio","fechaInicioString","inputFechaInicio","iniciarEdicionHoraInicio","inputHoraInicio","inputDuracion","updateDuracion","nuevaDuracion","nuevoHorarioFinal","enviarNuevoHorarioFinal","nuevoDate","updateHorarioInicio","nuevoTime","actualDateFinal","setHours","setMinutes","iniciarEdicionHorarioFinal","inputHorarioFinal","horaFinalString","updateHorarioFinal","actualDateInicio","enviarNuevaDateInicioHoldDuration","nuevaDateInicio","updateFechaInicioHoldDuration","nuevaFechaInicioFormateada","datosFecha","nuevoDiaInicio","getUTCDate","nuevoMesInicio","getUTCMonth","nuevoYearInicio","getUTCFullYear","setDate","setMonth","setFullYear","updateHoraInicioHoldDuration","nuevaHoraInicioFormateada","horaInicioString","toTimeString","MixinEventosPublicosUseEventosPersonalesUnder","infoEventoPersonal","idEventoMarco","crearEventoPersonal","mixins","deNodoSolidaridad","eventosPublicosDia","QUERY_EVENTOS_PUBLICOS_DIA","dateInicioDia","eventosPersonalesDia","QUERY_EVENTOS_PERSONALES_DIA","eventosPersonalesDeParentDia","QUERY_EVENTOS_COLISIONANTES_DIA","scrollXCalendario","infoNuevoEvento","minutosClicked","timeClicked","dateClicked","margen","crearEventoPublico","infoQuery","listaEventosCache","indexE","eventosPublicosVisibles","eventosPublicosUsuarioTarget","alturaEventos","cantidadEventosPublicos","indice","ev","heightEvento","sizeBarra","claseEvento","bordeBot","listaEventosPublicos","res","lineaEventosPublicosAsistidos","bordeBotColision","marginRows","block","inline","year","timeZoneOffset","setSeconds","nombresMeses","primerDia","horaActual","now","diasRendered","enviandoAccionIntervalo","tipoEventoSiendoCreado","offsetScroll","lengthMonthSeleccionado","diasMargenInicio","dateDiaSeleccionado","semanasMes","semanasTotales","semanasCompletas","diaSemanaCorregido","numRepeticiones","repetirEventosInterval","deleteEventosInterval","refetch","IconoPersonaAutonomo","RecursoExternoNodo","Calendario","tipoNodoOver","usuarioResponsableAmplioNodoOver","mostrarColoresCompletado","settingPublicitado","desplegarIfTargetUnder","desplegar","attemptToGrab","topPercentage","umbralTop","distancia","distanciaMinima","idNodoArrastrado","idNodoSource","tipoNodoSource","tipoNodoTarget","infoDrop","globalSetMostrarContenido","borderTop","borderBottom","visto","item","calendario","creando","idNodoSourceArrastre","guardarChildren","nodosTodos","desplegarCascadaHaciaNodo","nodosEnLista","scrollToNodo","topSeleccionado","centrarEnItem","nodosPrimerNivel","cerrable","listaSeleccionada","listaNodos","descendientesNodoSeleccionado","nesting","idNodosCurrentNivel","nodosDescendientes","maxNesting","requerimentos","nodosCurrentNivel","currentNodo","nuevoInfo","ventanaLista","datos","FormData","append","nuevoArchivo","subiendoNuevaFoto","method","url","iniciarEdicionNombre","mostrandoContenido","mostrandoMenuSecciones","seccionSeleccionada","creandoNuevaSeccion","crearNuevaSeccion","mostrandoSeccion","eliminarSeccion","usuarioExperto","addArchivoSeccionCache","deleteArchivoSeccionCache","setPrimarioSeccionCache","enviandoQueryExpertos","idExpertoSeleccionado","intentarEntrarExpertos","posiblesExpertos","abandonarListaExpertos","idExperto","infoAsParent","idForoExpertos","idForoPublico","versionArchivo","estaSeccion","tipoPrimario","direccionNodo","subiendoArchivo","inputArchivoContenido","subirArchivoContenido","archivo","esteArchivo","primario","marcandoPrimario","marcarPrimario","idSeccion","nombreArchivo","ArchivoSeccionNodo","trim","archivosOrdenados","archivos","idConversacionSeleccionada","numPaginas","esteForo","acceso","usuarioMiembro","conversacionAbierta","creandoConversacion","tituloNuevaConversacionIlegal","tituloNuevaConversacion","parent","addConversacion","selectorSeleccionado","numPaginaSeleccionada","conversacionesPorPagina","conversacion","idForo","setTodaConversacionLeida","refreshPagina","cantidadRespuestas","conRespuestasNoLeidas","estaConversacion","cantidadRespuestasLeidasUsuario","respuestasPorPagina","respuesta","citarRespuesta","updateRespuestaEliminada","addRespuesta","toggleCuadroAbierto","mensajeIlegal","checkHeight","interpolacion","eliminarInterpolacion","setEnlaceIframeInterpolacion","insertarCreadorInterpolacion","actualizarNombreDeArchivo","abrirSelectorDeArchivos","nombreArchivoSeleccionado","introduciendoEnlace","enlaceAdjuntable","enlaceAdjuntableIlegal","enlaceAdjunto","cuadroAbierto","enviandoRespuesta","evaluarAdjunto","estaInterpolacion","enlaceIframe","enlaceAceptado","setEnlaceIframe","onPasteEnlace","quote","infoAutor","altoIframe","charProhibidosMensaje","enlaceIframeSet","inputMensaje","rows","addToMensaje","temp","idConversacion","interpolaciones","setInterpolacionesData","inputArchivoAdjunto","archivoAdjunto","infoArchivo","nuevaRespuesta","enviarNuevaRespuesta","crearConversacionConRespuesta","input","primeraRespuesta","cerrarse","reset","files","interpolarQuote","nuevaInterpolacion","creadoresInterpolacion","retirarTypeName","arrayInterpolaciones","mensajeTotal","estaRespuesta","googleDriveDirectLink","emitirSolicitudCita","usuarioAutor","idRespuesta","eliminarRespuesta","QUERY_RESPUESTAS","pagina","respuestas","targetPagina","cuadroResponder","refresh","infoForo","infoConversacion","respuestasLeidas","QUERY_FORO","foro","QUERY_CONVERSACIONES_PAGINA","conversaciones","miembros","nuevaConversacion","setConversacionLeida","QUERY_NODO","params","laSeccion","secciones","indexA","crearNuevoProyecto","proyectos","idProyectoSeleccionado","eliminarProyecto","proyecto","proyectoPropio","usuarioResponsableProyecto","navegarAlProyecto","esteProyecto","QUERY_PROYECTOS","idProyecto","indexP","proyectosOrdenadosSegunUsuario","resp","navegarAlForo","mostrandoDescripcion","mostrandoResponsables","asumirComoResponsable","responsablesSolicitados","setResponsablesSolicitados","usuarioPosibleResponsableProyecto","entrarListaPosiblesResponsables","mostrandoParticipantes","participantes","usuarioParticipanteProyecto","enviandoQueryParticipantes","entrarListaParticipantes","abandonarListaParticipantes","idParticipanteSeleccionado","participanteSeleccionadoEstaAceptado","mostrandoEventos","mostrandoDiagramaFlujo","objetivos","trabajos","idNodoAbierto","realizandoOperacionDiagrama","crearNuevoTrabajo","crearNuevoObjetivo","abrirNodo","mostrandoForo","deshabilitar","opacidad","abrirMenuCx","mouseUpFondo","panVista","posicionCanvasFlechas","trabajo","posDummy","idNodoClickDerecho","actualizarInfoTrabajos","tipoNodoSeleccionado","objetivoEnVentanita","trabajoEnVentanita","crearTrabajoAqui","crearObjetivoAqui","offsetCanvasTodosVinculos","sizeCanvasTodosVinculos","crearImagenTodosVinculos","lapiz","canvasTodosVinculos","getContext","esquinasCanvasTodosVinculos","canvas","lineWidth","clearRect","beginPath","strokeStyle","stroke","crearImagenVinculosSeleccionado","canvasVinculosSeleccionado","dibujarLineaEntreNodos","moveTo","inicio","lineTo","primeraEsquina","segundaEsquina","final","nodosRelevantes","bordes","reduce","acc","bot","agarrado","iconoCompletado","esteObjetivo","$parent","esteTrabajo","emitirMiInfo","bordeAbajo","toggleEstadoObjetivo","charProhibidosNombreObjetivo","charProhibidosDescripcionObjetivo","idObjetivo","toggleEstadoTrabajo","nodosConocimiento","defaul","idTrabajo","usuarioResponsableTrabajo","charProhibidosNombreTrabajo","charProhibidosDescripcionTrabajo","charProhibidosKeywordsTrabajo","navegarAlTrabajo","posicionMenuCx","mostrandoMenuCx","infoTrabajos","posMenuCx","infoObjetivos","indexT","desplazarVista","mount","Foro","DiagramaFlujo","QUERY_PROYECTO","creandoTrabajo","creandoObjetivo","idTrabajoSeleccionado","idObjetivoSeleccionado","enviandoQueryBienesServicios","enviandoQueryEventos","mostrandoBienesServicios","administrandoBienesServicios","permisosEdicion","charProhibidosNombreProyecto","charProhibidosDescripcionProyecto","eliminarTrabajoDeCache","idsTrabajos","eliminarObjetivoDeCache","zonaForo","scrollIntoView","debounceSetResponsablesSolicitados","cantidad","datosRegistro","enviarRegistro","charProhibidos","charProhibidosNombre","charProhibidosNumeroTel","emailChars","dateChars","validarDatosUsuario","datosUsuario","errores","dato","fechaNacimiento","numeroTel","lugarResidencia","camposObligatorios","campo","datosIntroducidos","campoObligatorio","vaciarCampos","alertar","msj","textoBuscar","calcularBuscados","mostrandoInputBuscar","iniciarBuscar","cancelarBusqueda","mostrarPersonas","idPersonaMenuCx","idPersonaSeleccionada","nodosSolidaridadPublicitados","togglePermiso","alienar","mostrandoPermisos","reseteandoPassword","resetearPassword","togglingPermiso","permiso","permisoGranted","nodoSolidaridadPublicitado","settingPresenciaNodoSolidaridad","toggleResponsableNodoSolidaridad","permisosPosibles","alienando","personaEnResponsables","PersonaVistaLista","loadingPersonas","todosUsuarios","permisoInput","textoBusquedaUsado","buscados","debouncingBusqueda","eliminarPersonaDeDatabase","asignarPermisoTodos","permisoIlegal","opcionesEspecialesPersona","opciones","charProhibidosPermiso","personasVisibles","visibles","aStripped","bStripped","creandoRecursoExterno","crearNuevoRecursoExterno","recurso","idRecursoExternoSeleccionado","eliminarRecursoExternoCache","idDatoSeleccionado","datoSeleccionado","datoVer","crearNuevoItemDato","eventos","movimientosDinero","subNodos","esteDato","mostrarMovimientosDinero","mostrarMovimientosArbol","creandoNuevoMovimiento","crearNuevoItemMovimientoDinero","mostrarEventos","mostrarEventosArbol","creandoNuevoEvento","crearNuevoItemEvento","usuarioResponsableAmplioNodo","eliminarMovimientoCache","eliminarEventoCache","enviandoNuevoFecha","guardarNuevoFecha","inputNuevoFecha","editandoFecha","nuevoFecha","toggleEditandoFecha","enviandoNuevoArticulo","guardarNuevoArticulo","inputNuevoArticulo","editandoArticulo","nuevoArticulo","toggleEditandoArticulo","esteMovimiento","articulo","toggleEditandoCantidad","enviandoNuevoCantidad","enviandoNuevoNumeros","guardarNuevoNumeros","editandoCantidad","nuevoCantidad","inputNuevoCantidad","toggleEditandoMovimientoUnitario","enviandoNuevoMovimientoUnitario","inputNuevoMovimientoUnitario","editandoMovimientoUnitario","nuevoMovimientoUnitario","movimientoUnitario","movimientoDependiente","toggleEditandoMovimientoTotal","enviandoNuevoMovimientoTotal","inputNuevoMovimientoTotal","editandoMovimientoTotal","nuevoMovimientoTotal","movimientoTotal","togglingMovimientoRealizado","realizado","toggleMovimientoRealizado","informacion","mostrandoInformacion","nodoOwner","toggleEditandoInformacion","editandoInformacion","enviandoNuevoInformacion","nuevoInformacion","guardarNuevoInformacion","nuevoFechaIlegal","nuevoArticuloIlegal","nuevoInformacionIlegal","nuevoCantidadIlegal","nuevoMovimientoUnitarioIlegal","nuevoMovimientoTotalIlegal","next","guardarNuevoCantidad","siguienteCampo","guardarNuevoMovimientoUnitario","guardarNuevoMovimientoTotal","inputNuevoInformacion","handler","mov","inmediate","valor","movimientos","QUERY_ESTE_NODO","items","movimientosDineroSubnodos","todosMovimientos","eventosSubnodos","todosEventos","gastos","campos","TablaDato","TablaAdministracion","BuscadorPersonas","QUERY_NODOS_UNDER","addIdsToNodosEverRendered","nodosSolidaridadUnderNodo","configuracionDatos","idsNodosEverRendered","enterNodoToCacheSubnodos","idsNuevos","enterMovimientoDineroToCache","fetchChildrenNodosRendered","nn","movimientoMobile","enviandoQueryNodos","posContenedores","nodoYo","idsNodosRequeridosSeleccionado","idsNodosRequierenSeleccionado","idsNodosChildrenSeleccionado","setNodoEnVentanita","centroDescarga","nodoEnVentanita","cerrarNodoEnVentanita","mostrandoPersonas","completa","esNodoYo","nodoPersonaResponsableSeleccionado","Nodo","EnlacesNodo","NodoPersona","calcularEsquinaVista","nodosAtlasPosicionados","idAtlas","refetchCoordsNodos","descargasPersonas","nodosRenderRoot","nodosSolidaridadRender","personasRenderRoot","personasRender","posMenuContextual","esquinaVistaDecimal","radioDescarga","sizeAtlas","diagonal","idNodoCentradoArbol","infoPosZoom","refetchingCoords","enviandoCoordsVistaUsuario","esquinaVistaCalculada","showingNombreNodoEmergente","vista","setNodosRender","currentTodosNodos","nodosSolidaridadRoot","personasRoot","idsnodosSolidaridadRenderParcial","idsPersonasRenderParcial","cuenta","personasUnder","personasUnderNuevos","nodosUnderNuevos","uploadVistaActual","pinch","coordsPinch","deltaX","posContenedor","centrarEnNodoById","uploadNodosDesplegados","hideNombreNodoEmergente","idNv","refreshNodoVentanita","refreshNodoVentanitaAtlasSolidaridad","esquinaVista","posCuadroDescarga","posx","posy","nodosRequierenSeleccionado","nodosRequeridosSeleccionado","idsNodosSolidaridadRender","idsPersonasRender","posAtlas","getBoundingClientRect","manejarCreacionEventos","creandoEspacio","crearNuevoEspacio","verTodos","espacio","eliminarEspacioCache","esteEspacio","introduciendoEventoPublicoCalendario","mostrandoCuadroCrearEventoPublico","iniciarCuadroCrearEventoPublico","enviandoNuevoEventoPublico","nombreNuevoEventoPublico","dateInicioNuevoEventoPublico","horarioInicioNuevoEventoPublico","duracionNuevoEventoPublico","creandoEventoPublico","eventosPublicosEspacio","idEspacio","QUERY_EVENTOS_PUBLICOS_ESPACIO","eventosPersonalesEspacio","eventosPublicosEspacioOrdenados","ListaEventosEspacio","dateFinalNuevoEventoPublico","horarioFinalNuevoEventoPublico","dateActual","setMilliseconds","diaMesInicio","horasInicio","minutosInicio","introduciendo","todosEspacios","QUERY_ESPACIOS","handleCambioFechaEvento","espaciosVisibles","espaciosUsuario","espaciosNoUsuario","lugar","broadcastAFuturoMaximoParticipantes","participacion","estaParticipacion","nombresPersona","offsetBarraPresencia","duracionEventoPublico","porcentajeLeft","porcentajeWidth","QUERY_ESTE_EVENTO","InfoParticipanteEventoPublico","dateFrom","idParticipante","Vue","use","Router","routes","atlasConocimiento","VisorNodoConocimiento","loginArea","beforeEnter","to","from","perfilPersonal","VentanaEventoPublico","VentanaEventoPersonal","AtlasSolidaridad","HomeNodo","ForosGenerales","Proyectos","Proyecto","Registro","Personas","Espacios","redirect","router","atob","charCodeAt","toString","join","beforeEach","Vuex","Store","refreshActividadEspecifica","mutations","logearse","usuarioLS","setItem","refetchQueries","include","clear","setCentroVistaAtlas","nuevoCentro","setInfoForosUsuario","setRespuestasLeidasConversacionUsuario","f","nuevoInfoForo","nuevoInfoConversacion","mixin","authHeader","infoSesion","usuarioAdministradorActividadesEstudiantiles","config","productionTip","VueApollo","render","h","App","$mount"],"mappings":"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OD,QAAU,IAA0B,0B,uBCA3CC,EAAOD,QAAU,IAA0B,4B,oCCA3C,W,qBCAAC,EAAOD,QAAU,ktC,oCCAjB,W,2DCAA,W,oCCAA,W,qBCAAC,EAAOD,QAAU,0qC,6DCAjB,W,kCCAA,W,4CCAAC,EAAOD,QAAU,IAA0B,8B,gFCA3C,W,yDCAA,W,yDCAA,W,kCCAA,W,kCCAA,W,yDCAA,W,kCCAA,W,4CCAAC,EAAOD,QAAU,IAA0B,2B,4CCA3CC,EAAOD,QAAU,IAA0B,wB,iECA3CC,EAAOD,QAAU,0vC,qBCAjBC,EAAOD,QAAU,IAA0B,mC,qBCA3CC,EAAOD,QAAU,IAA0B,yB,qBCA3CC,EAAOD,QAAU,IAA0B,4B,yDCA3C,W,kCCAA,W,kCCAA,W,0CCAAC,EAAOD,QAAU,86C,4CCAjBC,EAAOD,QAAU,IAA0B,yB,qBCA3CC,EAAOD,QAAU,IAA0B,sC,mBCA3CC,EAAOD,QAAU,shC,kCCAjB,W,kCCAA,W,yDCAA,W,kCCAA,W,kCCAA,W,yDCAA,W,qBCAAC,EAAOD,QAAU,IAA0B,6B,mBCA3CC,EAAOD,QAAU,s+B,qBCAjBC,EAAOD,QAAU,IAA0B,kC,gFCA3C,W,kCCAA,W,gFCAA,W,kCCAA,W,qBCAAC,EAAOD,QAAU,IAA0B,2B,0CCA3CC,EAAOD,QAAU,0tD,qBCAjBC,EAAOD,QAAU,IAA0B,kC,kCCA3C,W,kCCAA,W,mBCAAC,EAAOD,QAAU,0qD,kCCAjB,W,4CCAAC,EAAOD,QAAU,IAA0B,2B,yDCA3C,W,mBCAAC,EAAOD,QAAU,89C,yDCAjB,W,qBCAAC,EAAOD,QAAU,IAA0B,0B,kCCA3C,W,kCCAA,W,mBCAAC,EAAOD,QAAU,stC,kCCAjB,W,gFCAA,W,qBCAAC,EAAOD,QAAU,IAA0B,yB,qBCA3CC,EAAOD,QAAU,IAA0B,0B,yDCA3C,W,qBCAAC,EAAOD,QAAU,IAA0B,wB,qBCA3CC,EAAOD,QAAU,IAA0B","file":"js/app.f34b6537.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/pepepe/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/key.d04dfc48.svg\";","module.exports = __webpack_public_path__ + \"img/home.fa2c07da.svg\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecursoExternoNodo.vue?vue&type=style&index=0&id=d49aefe0&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasDiagramaFlujo.vue?vue&type=style&index=0&id=b4555e88&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/thList.b39fb484.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAApVBMVEUAAADM28LI2L3h5tzj6d7R3srn7eTL2cPT38vW4s7g6uDF1bvH173C07fa4NTO3cTk7N7W4tPK2sDa5NTi7OLo8Oja5NXJ2b7M28LD1bfk7ODZ5dLY49DR38jd59fV4czT4MvP3sbP3cXK2r/H2LzW4s7S38rS38nQ3sfL2sHF1rna4tL////5+/j9/v3u8+v3+fXw9O31+PLy9u/7/Pr4+vfr8egF2h3MAAAALHRSTlMAcFEYHCQVFQUcDxkRDAh8ICBjJhEMAVc/KyjQx5XwrqiJg11Ku6Kcj2o4NHigeIkAAAKNSURBVGje3dl9U+IwEAbwR0opUKjg8S6e53nvV+RFuO//0W4SZXYYzG5owo74/COObX/QNLuGwDeDtMBBmmkDMZNkcKTZiyN8gpBWqNAIPyzie+xXJGYQEs60FU5pokpGOCGVH8ws4ND4KRCUITxSV5hbfQQnDygi0SbxX0RJ54yfg5IpGEAi/iG+Ej4/wgvT5ckBzTq0513ezWrD5FIuK5f3+OlCyKV8EP7SVxUzPqVflhWzOF4NUIuJicgJR/xb1enva+U6oyN9kltv42fA7fJV7oTbVXcgm6U567uX8dUcuiLk6OHNHcgSVrn3NdZ4IkQKIVibk79AyvWLUQ15Ve78DA4ZMAgpssEgXaQMslceJOMZPJLxCJ7NRa7dlZSMimNCypXjuN9kBCC8ckNGIIKNudQNY4QipIwZIxQhpfaWsUEUhAr55OCQRzIiIKRMQRmTEQ3B9lD5ZusuIiOlTU4GFfZoSPmaLkwm1KNiIHR+uV2Y65qWXTMv7P3bRUHIeAKs8m++fBmPpv0RByHDKCb7i+ekBCFk0JNMz+6UXvJILiBk2Mztb/uWPCGFRSYcQoYjY59S30IiIFtr8E1rzSNDZkxoosstPmDgyWDyqzQHC0jOIAtrCPlhFR6puxAyhNzbOepEOuzt2lGx4jO3SpUx2a2o7Eq5taNfMsiMWTpM4ZfP7qVDKq1P/gCnKNztGrmQ3WPNNw9HiOYSu62w+qXUz4dk0M0MZ0oC7QxxlgzEeRk/Iwh5r9/eJW8Vsg8Tna2Nhso0bCE8cs1KFYxoSiFumIano7AjlClU57bCplDxrnY9ejqdsKPSMAY67bWvs3XZ0+l57a7OfuJMaYs3KZT+NRimIxym793k/gPFdL6ma6aH6QAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnlacesNodoConocimiento.vue?vue&type=style&index=0&id=77276698&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/plusCircle.2de4ac5c.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoTrabajo.vue?vue&type=style&index=0&id=81dfd8d2&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAq1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0NbREAAAAOHRSTlMA/PjfBFv1CBQOp+va73fx47itclXLLefCvZ+ASEA7IgqIYhzVMhjHk1GYfSYfz7OETEU3EY1na8PO4aYAAARySURBVGje7VjZgqIwEDQYBRRQ8EBF8RxQ8T5G/v/LdjcNtMc4SotPaz0ZVCrpo7o7uQ8++OADgFI/tifayhzOlNybwOvrSgiomCM19w6ojh0i9Okilz3koBieg5Wa2ZOMyuElWCdzxyz8+N0SCwHFWtYkBoMXW7WRYenA4vez5fBa4G7j8C8ECg1gLGRL0hWbZ9MBLGd5sRzyN1jL7sWhZomjdDIlkTvipaYar0tvIFGES9iR36wzRF8TL/2O1828OInlZUnyVRWKtY3XMxAxyciSxBXpXu7F61qUkKvFO0lsOEqxnqW5bJGKibnG7rcwIDOyd3wNn4wb4knAuaooisozC+HQUhOOTRH03pivW35r3TG241eJ+BSkC2L4sK+ZUiiQSDKr+Jv9izR1cPRc/scY2EBxBaY5ywwShdVQU36ksXovnUS4oNIVxb4d3oXfzdHhCNtP+sLpq6v9M4aLlkvmGICFrAEKF4BVzXlgBFOzGhOVxhQC3DzbiPDp6QlHfuiKFOHq3tHCF/XMtc/K7SyJrXaXY5Tv1vBw8kXth8R7q/D3kxRz7C9+1BQscF4C+FBYvOElQSA4Z9eNAFjMJ2QLlvSSHGc/dBXy9V42jCrNqIYORhp0FdfYQ9wdOV3pJfD7IcpF83Av0tsHCslM5HsZ8sxrRP692zlppHpZkyDfsbbAuW6w1aMKSsARrKBCpFZB9q/fBN/RPZ+0cljvw/xP48kSKuiIQtLGzhfaYjQeAv3FSDMF/lVEAZD8lHKKTyfRhKcjIxSK7zlJ/jycClKIQnaFPm7nhZOgT4qoXIhdGdpZuk+cKIL8EJdXCFgUeARYWBdRhdvKrd9NFBxqhV9cyKB+a5SZDmck9yqYyHzKIDnhZAgVkra8ow3x2sUc2qvCy4AUUdDBrARrYTvne9EyKlvr5eVW2hB2lADGoafcjZa9fAhHU8+9PgcrNppEkn0VB1Gss2Ex4FiwNlIID9vGF6k0qmvY5DK2TCsEtxRwHzZ2fBOnTy9baO5C9EqcWOpSiGDrHqXKgxdKyW2BI8HZvIsSjfB35CsJu5u4eSpYOnLywDG1CjBj50efggDesMxY68wqXF3sTvOWnXTeXmoSzwSBRysMtsbpJlq50htOgEQK0sfYSYq15AG4a0Utf/qBaNlCLXmALzMymEqM4tB8lALYeev19EdpR1oiP/6tIVGPMqqAwZ4QwLEJP03vFbUTXQ01n9kQtb93V6CAT/QJikm+qvoW+5NOz4tdgXwVOcw9RlMDheDUClmSnxa7xpg6oLaUZ0wr7KV3CU6BSar/ywlcHqU9+WpvW4nmurvom92LYloapK9dDyepnd4ZnJt2tUw/a08ejQYGq7o4YpDmxwPk2JTfD6rEDU1wyil9eM2hfZB/u1awBphUsKGUCPCS5Y5LkhmMzyk3Bzhm2UbhDuZ/v69s4LNFHVZ2oK7SXZx/ixNZCsDVYEqwIL1E+mkIiOkoW6lJVqk1kh9ZWhLbTS+RWj4ltHrugw8++J/xByAHSgpZaDnVAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"img/arrowUp.25a9000e.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAnFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4jUzeAAAAM3RSTlMA+xEW+PI/BSPvyIob4YV/XzwfAnZyZUeUVgnqwrdrNg7Tz7utb9vVv6SdmEwxKeWyjk9WFiZCAAAB0ElEQVRIx+2U2bKqMBBFu0kgcJhFQHGeZ8+w///frmKdstSEK+9nvVCws6pJuiv0xyOB00/6qaB3caMN44qcx8E7QmfH9XJP1o/D/0slNjDolSKjLPjZX1+OzULmA15e0S/T2AbnjcrFGHaIqtJffp3oynkGNDkJsKxIjUNc+KYa6wNcmnduY1iR2AJYL3su3RBrfFomZQevQ2IGfE0yujOR8E39YOSkFuBx9hj0YBvKRBhUVACrlx9mjPXKBj1Sayyyl2SEhX6uGD+UAs5rlMNWOsUBAooRKm3k6pQ+ZEY7jHSnD6T6PtoZ9RBpIgGU+iqsqHKU7vgNVVKgQ3ocsHYvQqJvULrwlDaYY29Qthjpg7ieC8fzNZNU6JVAIiYqsH0O9vCmpOcA+0yqFM+bZ0RkQAwwt16LhwinZOLIGFrPxhzSITM5MDs9disEF9REzpC+uA/XgSELEZ+bnPITkMtiIqbBZDViIHTIxyDxo5PRsXwbVxhXvGhKNKm/cJfM0nhxW+ONitthjIFNCHSpAeWmZeqq+30xU9aHxjHzjdCido4DDNs60a/DqzbOR+1I920nrh3BSKiVIxy0UajLYMAT1IKVvBhHaoWb9AX9ceEfSSU0mMLFKFUAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"img/save.80d69428.svg\";","module.exports = __webpack_public_path__ + \"img/times.2c5552a1.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAMAAADGfvrlAAAAtFBMVEUAAAAAAAACAgIAAAAAAAAAAAAGBgYAAAAAAAAAAAAFBQUAAAABAQEGBgYCAgIAAAAAAAAEBAQFBQUAAAAAAAABAQEDAwMCAgIAAAAAAAAAAAAFBQUAAAAGBgYAAAAAAAAAAAAAAAADAwMBAQEAAAABAQEBAQEBAQEBAQEDAwMBAQEAAAACAgIBAQECAgIAAAAAAAABAQEAAAAAAAABAQEBAQEBAQEDAwMAAAAAAAAAAAAAAAAAI6fdAAAAO3RSTlMABQvg9KseO8T3ho92RZ0X129r+9M/KzjxyZkU3Q/ov7ykMiHOtV5SJRqplEx/ZK6gconruWhZQwmCwUKZof4AAAMbSURBVEjHpZeJlqIwEEUDuNGiIiACoqIi4761S9vv//9rwgxYgqB4fMfjEnOTkKpUVViuxN7E7HbNWasvsLfUq7aXniENLGsgGUOn3WkVJfurum8hIctf/umx15prxxKAkjvcHZR2W/naeWo4lDzcT17NevrVgcFUaVTE28NXOsp2AMDeP519teWof+1GIEnorm0A0z/5+6tIgKHkrK6y5/j3OmfyWROw6mOWq9nhGxhlduhMAfvMnuqPB3idDHZIo+bL3AHDS7q1y1mnkmocbzbdVFPrwOnU3JMyUO+nOgYq4J5YSmvgaCYssQSa6X2c+PB9qGbaanXe936eto7t5MHosjs2Df3BtPMRoNw9sAGjEw/cinXSDXNW09u3hp94K2y4jdtCmtC1eNN3hhpJAlRVhxT/NhareDNKGImx9fj3aFSzBjlXMKrRbA7kIPLKBQbxKvbwg0aky78XKbBxjbpVXUz7/zemhCWLVIfDcnXAKA4qX5DP0Rq+OwTbX7n6JXgsYRE+qck/BXYb8amcW0cHg9CXN7q+IQ93yk/UXNERkbHnq97Bnd35z1PdeYqBrcBaBsoCe19NuBPWtaAkm09Knz2quk4eMA2lBgt0eZUMN6pF3Uh1XJPn34LG1hiYSVgqVTOXWU/GJIk3OFDnWTDfh/hdyIJ7PkZsAbufAZvLTWjGpcm7HZQMWPyFx46oiRnwCZ7IRA98iGrJrTzCwhQ1VsuG22GzWIMWwlIWXIbNjm/DNDM985sw/8+j3S4M026TnQvDZGfysMIweRj5dmGYfJtOVWGYThWd58IwnWeKJEVhiiRRDPt5A6YYRtGzMEzRk+J2UZjiNmWMwjBlDMpVYgrWIniTgilX0XddIyOoMk/JF/srXJ194Y445blc2II3JLPkY35mPws44RhCOOyccbX6vIurB+whPz9WBoGuX+dCQmJ1gVolqzKgmoR+GNPyvTwJ0vm+JhFzq6He2tWRlOydU9VQfh1mBnvlXlqjlarDPq8ASdX3as/Pq97P6+3PK/3Xd4x27/Pbzef3qs9vdK/vkmJuvfMXl9icGVrQDtsAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"img/calendarPlus.9eea55d5.svg\";","module.exports = __webpack_public_path__ + \"img/readme.89c2c90a.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasSolidaridad.vue?vue&type=style&index=1&id=67c6de9e&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/starSolid.f10a25eb.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoPersonalCalendario.vue?vue&type=style&index=0&id=0470dbda&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/nodoConocimientoDefault.af8a33a1.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListaNodos.vue?vue&type=style&index=0&id=56ca3b09&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./archivoSeccionNodo.vue?vue&type=style&index=0&id=2d92d1e9&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAeFBMVEUAAAAXEAoUDQhlRSs0JBYrHRJLMh9FLhxeQCcaEgtiQykyIhUlGQ85JhgsHhJTOCIpGxEgFg1ZPCU/KhpWOSN0TzF6UzQvIBNrSS14UjNPNSFjRClyTjF8VTVcPiZnRyxuSy93UTIDAgEKBwQRDAcPCgYIBQMGBAI5vVJyAAAAInRSTlMA/v6A/v79/aX+kP7+/f7d/v6+/c00Ef5iHfGLPQewd1IkgWmI6gAAAZ1JREFUaN7t1eluqzAQhuGxwxInmDVrl7N8A+b+7/AcqdCChJrUxZVazfNrBBIvBgtICCGEEOK7ecpSGtWlUtmB1pc6RYMccAyUtLq018O0Rx8XRe6Qh4v8YUT0n0V/GU61i6r05B1pen4ZGPZliHgRoAvfSI5hUK9vZbvk0Bhw4RmJMewAg4zedSyhr6EjdDRogkcoRRU+smUdPrLh9isinUS+IHKGCRdxw0apVTp+VvK1Iwd2NNfBjtfaTT2evCNHjZqmLhgPWJ6rTr4RylDRVImOlv8nJXlHCu4TelM7WFr1nYy3XtBo10JRgMjJoLPX8QmBLyEidKzQqygpHqxx0BtaOTJqOsCxA/hMFCAySGKjTZZeyTPi1Vzye91IxG6BeVo1Uugl59lKQpHIRPocPmI5Dh/JYcJHYiga/Y32U1ESIhJjrt0EiGyNmtmvvJJlEpGIRH5YJP9QpCUvEZjuVTtDXrYOj/evOic/Gpruk3D/i/wUDL2jO1hGTr4sA6xuaR1Qkb+D4R43uTaiT9k10S324ZmEEEIIIb6xf4x8QD01P3dKAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABm1BMVEUAAAB9fX2jo6NeXl6Pj4+Pj4+ioqIvLy82NjY1NTWMjIxLS0tra2uOjo4tLS1VVVWioqJXV1ehoaGhoaFdXV2Li4s5OTl5eXksLCwaGhpTU1MdHR17e3uOjo5BQUGOjo4vLy9UVFSOjo4dHR0wMDCPj49nZ2dDQ0MfHx9paWkyMjI+Pj4mJiY3NzcdHR17e3tqamqOjo6Ojo56enqgoKA7OztpaWmQkJChoaFPT08mJiY9PT2NjY2Pj49/f3+fn5+lpaVoaGh6enp7e3sdHR1oaGhTU1NBQUEvLy9UVFR7e3t7e3saGhpoaGg+Pj4dHR1qamp7e3tCQkJCQkKPj498fHweHh5paWmPj49paWlCQkJnZ2dVVVV9fX0vLy9nZ2d7e3tUVFQfHx9ra2t8fHxVVVVERERERERqampAQECPj49DQ0MzMzNVVVV6enpVVVVpaWl6enpFRUUmJiYaGhpmZmZTU1NTU1MyMjJ7e3ufn596enqPj493d3d8fHwbGxukpKRoaGhUVFQrKysaGhp7e3s/Pz8+Pj49PT291zY1AAAAgXRSTlMABlYN4txVHhcSEQoD4N6UUDAuJxgLB/39+/ba2NfHxcS7qKSej4mBdm1sZmBaWlZWUEtJSEdAOjc2NDEpHBoYCPz49vXv7+/s6+bl5ODg09HKwby7u7u6ubGwrKinp6KhoKCWlY2NgoF6eXlzcWxrY2JRT01IQz09PDs2MC8nJSDBqhNCAAABgklEQVRIx+3SRVPDQBTA8VdClTptcZeWCnVX3N3d3d0lJG352GwuDKewb4YZLv3fkskvu/N2odAfZZErkSK2WTXbDpQp5RaAkiae56tidMJZr22Ow9swIRV0y9xrOY5rtsjHBHJNRewcSSsHWzfPN9ENwFVOSL0C4MrmVABVitVyrt8OtAX3juKgcBwHqYVrNJ+vjQKiksUcyYohzKRAdtUYc/CZz/VdAibGWjvlAGRKBlAxBoMaJwzLvQM6E4rsfJDOUKfSIBAdhqh1AjkBTNGGysoNE6Ay3d4xgE4iwYq2pTUPUnSw7MgNRjBzLKkVdTILAtkHTOc9LDseAlSerdYQmP3ul59DTKdFx6gGYLa7yqrd32/MEb3sUQWi+Tuz2ewM+SjhC5PflxaRjOLkooyQ6hR4pzU1hxIwEiGLiJOHQULWJapGaXFxTRje9TKZvhTEO50YWnmCZB0hGh/ZWSBg/PUapV7NZFAtUo10PkEeMxmg7LmlrtGLvdVJFRT6v74ABqxMskl6QHIAAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=style&index=0&id=02ceacf0&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisorNodoConocimiento.vue?vue&type=style&index=0&id=7f40d774&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/folderOpen.6cf9924e.svg\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTablaEvento.vue?vue&type=style&index=0&id=42ba70c1&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablaDato.vue?vue&type=style&index=0&id=820867f8&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/expand.67de6dfe.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./personaVistaLista.vue?vue&type=style&index=0&id=ac534e5a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/trash.a3e4c2f7.svg\";","module.exports = __webpack_public_path__ + \"img/calendar.17efa687.svg\";","module.exports = __webpack_public_path__ + \"img/tag.93ac3735.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoVistaLista.vue?vue&type=style&index=1&id=4c5f3b9a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/envelope.82189696.svg\";","module.exports = __webpack_public_path__ + \"img/idBadge.346b61bc.svg\";","module.exports = __webpack_public_path__ + \"img/productHunt.e43e2b2f.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=504ce92e&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/hourglass.8097d9c7.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABjFBMVEUAAAA+MzgAAAAiHBwgGBg+OzsiIh4eGxlEPj8WFBMhHh0nIyRAPT1ORkYfGhYjHhwfGhoeGRgeGRkgGxkmHx8oIiMoJCQlIyEpJyUrJyQpKCkiICAqJiQwKyscFxggHR0dFxYhHhwhHBwgGxoeGxsmISEdGRkjHh4dGhkgHRweGhsjHR4mJCE+PTlST08rKCgbFhYjGRogGxocGBcgHhwpJiUiHRwiHxwgGRkYFBMkHx8uKCcfHBoqJycsKSkdGRchGx0hHx9fX18kHRsaFRQmISIlHx4cGBckHB4sJSYhHRwdGRkhHx0cFhgiIB8cGhoeGxkhFxYdFxQaFxYZFhYoJSYaFxQaFxQVERFXUFckGBoiGRggGRkiGhogGRcnGRsjFxgjGBciHBwjGxshHBolGRclGBkhGBolGxkmFxkjGhckGBUhGxgkGhUlFxUfGBkhFxggGBQlFxcjGhkfGhkfGxciGRYgGRYdFxUeGhMgGhslFxgiGxUiFxYdGRkhGhEfFxccGBMhFxElHR4/VDeRAAAAWnRSTlMABBD+/AoH/h7JokYZD/bx5uHcya1tZ2BSOzIpJB/7+ffr2NPMxKqnl5WOiII1Fhb9+PPx0c66sbGgjnVvW1dLPy0I+unh0MbFmYN9eXBqYFLo2Na1nldWOyk6oaQ9AAADUElEQVRYw+3VV1MaURTA8SUgEFAporRg75qYbm/pvdd7t/cGuyu9aEzyxXNXTSZPEW+cPGT2/8rwmzl7OAvh5eXl5fX/5evNF87FuZJLz04mnv41dOVSev5RfPjgILTxV07fpVdPppKjgiCIoepYFtvpCWcWl5P9FknaQFU7nepyH5YT7N15Pj1xo9qs0jZggSxLxWJgA8fJrkcm7lmKYDa/NmibHR14rSFr7PIZF9aXG5q9eU8URZ7nBdFsNKhrK+uPr3GSpC73nGVh+c35h/FhyzRNZPl5wRTpWGormgrsc1ItNNj9wjJPpxKjlEkqUFX1I0qwErPRvpcPSNvmoJnY7ca5U8g8W3nT7xeApOs6B9DWBDRiKzG3EwwvxPwKtG26utpzqrMU3ZiZ6O/ojkNT7raKbY0RBN7vv7+W9RE7KRJSQlmH9Kkj5l5EJm/4G1+bnXqdtqG7ekNiGPB9eHwBba3nxThNwzIA5bKZPGWLwcWRg5ZFIwtRkKQAsiRJBoFHz/Po48LadWhDCFmEiZEg8efCm5H4VafebB5RFPqOrqvXpgYLBGr7Ngl1eGIFhrp47rknA3fRszIViqLKFCVevz0YPlrs+n3yEMgsCgDAJfNd/TyXNlfjDZ5CCVZs5tXxunZnR0QFMIyGKJQd8XV7NdmFByPfeXJsJnOy+K2plkUqMqNpMnBDI3ZfOJ26ORc9ka48G/O7FtB+Wsn8GV8xP8fIRUb8vNhSFCCfUMKMD+99nH5YFUVBoCB6VDJgAWDt0SEsqncx1ux0dJWROY7d2+MMg1Na45dwqOh04Nu3L186KsPsGaVSyTBqNbLyHoe68K6xbyCryCCrdGzBSn8ay7po7ZdKxaKOLG3PzajR1ZsFPItEliFJrqW1223XCs0RuJZRQvetqqrWZjkUGvEjplV1nJqOjlmV2m0OutEDS7hW06lRVOCwXuPYY6oxR2BapuPogZXVqwc0hO6EkLyxjWlNmk797kI4uBir0CQLACQrt3oxrQGRnxj0oUsaeltBxw2AcnWewLX4VJQ46sO4SCqKYl3fxrVur/06va1bvEWSh5NLBGa//9tkpyuVSmjeR5xHu9OhVvwTcT59fjyMtnhOBV9mCC8vLy+vf9UP6nkGH0hHtzsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerfilPersonal.vue?vue&type=style&index=0&id=271cf279&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoPersona.vue?vue&type=style&index=1&id=0364d76c&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAMAAAD26OlUAAAAtFBMVEUAAAAAAAAAAAAAAAAaGhoCAgIDAwMBAQEQEBAAAAABAQEBAQECAgIAAAABAQEBAQECAgIEBAQBAQEAAAAFBQUDAwMDAwMAAAAAAAACAgIDAwMFBQUGBgYAAAABAQEBAQEDAwMDAwMICAgJCQkMDAwBAQEBAQEBAQECAgIBAQECAgICAgICAgIGBgYGBgYNDQ0EBAQCAgIEBAQBAQEBAQEDAwMCAgIDAwMEBAQFBQUQEBAAAAAlv8O7AAAAO3RSTlMAvz/5B4MexQP7YBe0n+vmf03b2F0SC+DPqVlRLfbKo3lENiEP89PAu66Ja2dJOjIncUfthpmTjT4pJj+7kzoAAAIXSURBVDjLnZTnlrIwEIbHDaEI0lFAQFGkWrBty/3f16cU0Q3sd86+vybwnMnUwJ/FWGxZshbzOyVqOLN1RdHtDGviILa/2D5S7ESSEltBvn3Z92JePhPid9ezpgwztTz3PRZmuUdzZkCSgoUnsUVCAvMHxqsbRW2xDlWVjcq/pJqTZA49mickfy4AJtJ+IEGJ4O50JOkKBrRKybG1T7r9RhNtGd9s/VRbUwdtae7NGTfWFjnTyhijCUNzIzJrSGaCKiuS5JDu+JKQBxnKUgQA2mZBOSxFdtKRzGKjAcAHcul7J2xN1mm46APA4gyWjo/U5KiuGmtwFhxkh6e5mhw1VeMd+QAawjRXk2L56BzSYCuMKa7WsstxLGxhKcz7udFTt+bCErC/+y8HOx93HmnuxeNLjOKC5toYn7NmwDVors3akzO+qZZ5AFfv4/hM9sDi9HV9jALpAKZOc7DWOQsgR82mfSmkIikOTJTfU2+nR/PJnQyprbhNz66ax/Op2ZybnDVQOp2lqJ7wyiV/VbjJUpsC7RCN250pqn0rLR56VLQ7A6ERhzCoMDYefwthtB/i9iOh6E4qST/7uc+UqM+lx4Trf3s4gl8DV88ypiqzxvJZhR9yOcId1y/Y8fbJBUrlZUaMq+mJ9xdX9MyrQWaXr/6HCwc+kmMuTblYRn6AVzAkcadmgaEoRpCpOxF+FR+J399iRPXoHwT7P6mwTTR1AAAAAElFTkSuQmCC\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForosGenerales.vue?vue&type=style&index=0&id=b2a21e52&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"navBar\"}},[_c('div',{attrs:{\"id\":\"zonaIcono\"},on:{\"click\":function($event){_vm.mostrandoNav = !_vm.mostrandoNav}}},[_c('img',{attrs:{\"id\":\"botonDesplegarNav\",\"src\":require(\"@/assets/iconos/stream.svg\"),\"alt\":\"Menu\"}}),_c('div',{attrs:{\"id\":\"logoPepepe\"}},[_vm._v(\"Pepepe\")])]),_c('div',{class:{ enlacesOcultos: !_vm.mostrandoNav },attrs:{\"id\":\"botonesNavEnlaces\"},on:{\"click\":function($event){_vm.mostrandoNav = false}}},[(\n          _vm.usuarioLogeado == true &&\n          _vm.usuario.permisos &&\n          _vm.usuario.permisos.includes('maestraVida')\n        )?_c('router-link',{attrs:{\"to\":\"/foros\"}},[_c('div',{staticClass:\"botonNavBarra botonNav hoverNegro\",attrs:{\"id\":\"navActividadesVirtuales\"}},[_vm._v(\" Foros \")])]):_vm._e(),_c('div',{staticClass:\"bloqueBotones\",attrs:{\"id\":\"bloqueHerramientas\"}},[_c('div',{staticClass:\"botonNavBarra botonNav hoverNegro\",attrs:{\"id\":\"navAtlas\"}},[_vm._v(\" Herramientas \")]),_c('div',{staticClass:\"contenedorHijos\",attrs:{\"id\":\"enlacesHijosHerramientas\"}},[_c('router-link',{attrs:{\"to\":\"/atlas\"}},[_c('div',{staticClass:\"botonNavBarra botonNav hoverNegro botonNavHijo\",attrs:{\"id\":\"navAtlas\"}},[_vm._v(\" Atlas de conocimientos \")])]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioLogeado),expression:\"usuarioLogeado\"}],attrs:{\"target\":\"_blank\",\"href\":_vm.tallerCuentosUrl + '?t=' + _vm.$store.state.token}},[_c('div',{staticClass:\"botonNavBarra botonNav hoverNegro botonNavHijo\",attrs:{\"id\":\"navAtlas\"}},[_vm._v(\" Taller de creación de cuentos \")])])],1)]),(_vm.usuarioLogeado)?_c('router-link',{attrs:{\"to\":\"/personas\"}},[_c('div',{staticClass:\"botonNavBarra botonNav hoverNegro\",attrs:{\"id\":\"navActividadesVirtuales\"}},[_vm._v(\" Personas \")])]):_vm._e(),_c('router-link',{attrs:{\"to\":\"/espacios\"}},[_c('div',{staticClass:\"botonNavBarra botonNav hoverNegro\",attrs:{\"id\":\"navActividadesVirtuales\"}},[_vm._v(\" Espacios \")])]),(_vm.usuarioSuperadministrador)?_c('router-link',{attrs:{\"to\":\"/registro\",\"id\":\"navRegistro\"}},[_c('div',{staticClass:\"botonNavBarra botonNav hoverNegro\"},[_vm._v(\" Registrar usuario \")])]):_vm._e()],1),_c('div',{attrs:{\"id\":\"botonesNavDerecha\"}},[(_vm.usuarioLogeado)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.yo.notificaciones.length > 0 ||\n          _vm.yo.notificacionesActividadForos.length > 0\n        ),expression:\"\\n          yo.notificaciones.length > 0 ||\\n          yo.notificacionesActividadForos.length > 0\\n        \"}],attrs:{\"id\":\"bloqueNotificaciones\"}},[_c('span',{attrs:{\"id\":\"numeroNotificaciones\"}},[_vm._v(_vm._s(_vm.yo.notificaciones.length + _vm.yo.notificacionesActividadForos.length))]),_c('img',{attrs:{\"src\":require(\"@/assets/iconos/campanita.png\"),\"alt\":\"Notificaciones\",\"title\":_vm.yo.notificaciones.length + 'Notificaciones',\"id\":\"imagenCampanita\"},on:{\"click\":function($event){_vm.mostrandoNotificaciones = !_vm.mostrandoNotificaciones}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoNotificaciones),expression:\"mostrandoNotificaciones\"}],attrs:{\"id\":\"contenedorNotificaciones\"}},[_vm._l((_vm.yo.notificacionesActividadForos),function(notificacionActividadForos){return _c('notificacion-actividad-foros',{key:notificacionActividadForos.id,attrs:{\"estaNotificacion\":notificacionActividadForos}})}),_vm._l((_vm.notificacionesOrdenadas),function(notificacion){return _c('notificacion',{key:notificacion.id,attrs:{\"estaNotificacion\":notificacion}})})],2)]):_vm._e(),(_vm.logeado)?[_c('div',{staticClass:\"botonNavBarra botonNav navLogin hoverNegro\",attrs:{\"id\":\"navLogged\"},on:{\"click\":function($event){_vm.accionesLogeado = !_vm.accionesLogeado},\"mouseleave\":function($event){_vm.accionesLogeado = false}}},[_vm._v(\" \"+_vm._s(_vm.username)+\" \"),(_vm.accionesLogeado)?_c('div',{attrs:{\"id\":\"botonesLogeado\"}},[_c('router-link',{attrs:{\"to\":\"/miperfil\"}},[_c('div',{staticClass:\"botonesLogeado hoverNegro\",attrs:{\"id\":\"Perfil\"}},[_vm._v(\"Perfil\")])]),_c('div',{staticClass:\"botonesLogeado hoverNegro\",attrs:{\"id\":\"desconexion\"},on:{\"click\":_vm.deslogeo}},[_vm._v(\" Desconexion \")])],1):_vm._e()])]:[_c('router-link',{staticClass:\"botonNavBarra botonNav navLogin hoverNegro\",attrs:{\"to\":\"/login\",\"id\":\"navLogin\"}},[_c('div',[_vm._v(\"Login\")])])]],2)]),_c('router-view',{attrs:{\"id\":\"visorRouter\"}},[_vm._v(\"asd\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"recogerseArriba\"}},[_c('div',{staticClass:\"notificacion\",on:{\"click\":_vm.visitar}},[_c('div',{attrs:{\"id\":\"info\"}},[_vm._v(_vm._s(_vm.fechaFormateada))]),_c('img',{attrs:{\"src\":this.serverUrl +\n        '/api/usuarios/fotografias/' +\n        _vm.estaNotificacion.causante.id,\"alt\":\"\",\"id\":\"caritaCausante\"}}),_c('div',{attrs:{\"id\":\"texto\"},domProps:{\"innerHTML\":_vm._s(_vm.mensaje)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"recogerseArriba\">\r\n    <div class=\"notificacion\" @click=\"visitar\">\r\n      <div id=\"info\">{{ fechaFormateada }}</div>\r\n      <img\r\n        :src=\"\r\n          this.serverUrl +\r\n          '/api/usuarios/fotografias/' +\r\n          estaNotificacion.causante.id\r\n        \"\r\n        alt=\"\"\r\n        id=\"caritaCausante\"\r\n      />\r\n      <div id=\"texto\" v-html=\"mensaje\"></div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport { QUERY_YO } from \"../../App.vue\";\r\nexport default {\r\n  name: \"Notificacion\",\r\n  props: {\r\n    estaNotificacion: {\r\n      type: Object,\r\n      default: function () {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    visitar() {\r\n      var enlace = \"/\";\r\n      if (this.estaNotificacion.elementoTarget.tipo == \"actividadEstudiantil\") {\r\n        enlace += \"actividad/\" + this.estaNotificacion.elementoTarget.id;\r\n      } else if (\r\n        this.estaNotificacion.elementoTarget.tipo === \"nodoAtlasSolidaridad\"\r\n      ) {\r\n        enlace += \"atlasSolidaridad/\" + this.estaNotificacion.elementoTarget.id;\r\n      }\r\n      this.eliminarse();\r\n      this.$router.push(enlace).catch((error) => {\r\n        console.log(`Error de navegación: ${error.message.substr(0, 28)}`);\r\n        if (error.message.substr(0, 28) == \"Avoided redundant navigation\") {\r\n          console.log(`Refreshing`);\r\n          //this.$router.go();\r\n          if (\r\n            this.estaNotificacion.elementoTarget.tipo == \"actividadEstudiantil\"\r\n          ) {\r\n              this.$store.commit(\"refreshActividadEspecifica\");\r\n\r\n          } else if (\r\n            this.estaNotificacion.elementoTarget.tipo === \"nodoAtlasSolidaridad\"\r\n          ) {\r\n            this.$store.commit(\"refreshNodoVentanitaAtlasSolidaridad\");\r\n          }\r\n        }\r\n      });\r\n    },\r\n    eliminarse() {\r\n      let idNotificacion = this.estaNotificacion.id;\r\n      console.log(`Eliminandose: ${idNotificacion}`);\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n          mutation ($idNotificacion: ID!) {\r\n            eliminarNotificacion(idNotificacion: $idNotificacion)\r\n          }\r\n        `,\r\n        variables: {\r\n          idNotificacion,\r\n        },\r\n        update: (store, { data: { eliminarNotificacion } }) => {\r\n          if (eliminarNotificacion) {\r\n            let cache = store.readQuery({\r\n              query: QUERY_YO,\r\n              variables: { idNotificacion },\r\n            });\r\n            let nuevoCache = JSON.parse(JSON.stringify(cache));\r\n            let indexN = nuevoCache.yo.notificaciones.findIndex(\r\n              (n) => n.id == idNotificacion\r\n            );\r\n            if (indexN > -1) {\r\n              nuevoCache.yo.notificaciones.splice(indexN, 1);\r\n            }\r\n            store.writeQuery({\r\n              query: QUERY_YO,\r\n              variables: { idNotificacion },\r\n              data: nuevoCache,\r\n            });\r\n          }\r\n        },\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    mensaje: function () {\r\n      var mensaje = \"\";\r\n      if (this.estaNotificacion.elementoTarget.tipo == \"actividadEstudiantil\") {\r\n        if (this.estaNotificacion.elementoTarget.nombre) {\r\n          mensaje +=\r\n            \"Tienes una nueva respuesta en la actividad <span style='color: white' class='textoTarget'>\" +\r\n            this.estaNotificacion.elementoTarget.nombre +\r\n            \"</span>\";\r\n        } else {\r\n          mensaje += \"Tienes una nueva respuesta en una actividad\";\r\n        }\r\n      } else {\r\n        mensaje = this.estaNotificacion.texto;\r\n      }\r\n      return mensaje;\r\n    },\r\n    fechaFormateada: function () {\r\n      let laFecha = new Date(this.estaNotificacion.fecha).toString();\r\n      let indexParentesis = laFecha.indexOf(\"(\");\r\n      let fechaCorta = laFecha.substr(0, indexParentesis);\r\n      let indexGMT = fechaCorta.indexOf(\"GMT\");\r\n      if (indexGMT > -1) {\r\n        fechaCorta = fechaCorta.substr(0, indexGMT);\r\n      }\r\n      return fechaCorta;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.notificacion {\r\n  width: 300px;\r\n  height: 130px;\r\n  border: 1px solid rgb(238, 227, 219);\r\n  background-color: rgb(243, 138, 58);\r\n  display: grid;\r\n  grid-template-columns: 100px 1fr;\r\n  grid-template-rows: 15px 1fr;\r\n  grid-template-areas:\r\n    \"info info\"\r\n    \"imagen texto\";\r\n  align-items: center;\r\n  justify-items: center;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n}\r\n.notificacion:hover {\r\n  background-color: rgb(231, 168, 119);\r\n}\r\n#info {\r\n  grid-area: info;\r\n  font-size: 11px;\r\n  color: white;\r\n}\r\n#caritaCausante {\r\n  grid-area: imagen;\r\n  width: 70px;\r\n  height: 70px;\r\n  border-radius: 50%;\r\n}\r\n#texto {\r\n  grid-area: texto;\r\n}\r\n.textoTarget {\r\n  color: white;\r\n}\r\n.recogerseArriba-leave-to {\r\n  height: 0px;\r\n}\r\n.recogerseArriba-leave-active {\r\n  transition: height 0.3s;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notificacion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notificacion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Notificacion.vue?vue&type=template&id=30a1ea85&scoped=true&\"\nimport script from \"./Notificacion.vue?vue&type=script&lang=js&\"\nexport * from \"./Notificacion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Notificacion.vue?vue&type=style&index=0&id=30a1ea85&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30a1ea85\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notificacionActividadForos\",on:{\"click\":_vm.visitar}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/conversacion.png\"),\"alt\":\"Conversación\",\"id\":\"iconoConversacion\"}}),_c('div',{attrs:{\"id\":\"texto\"},domProps:{\"innerHTML\":_vm._s(_vm.mensaje)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"notificacionActividadForos\" @click=\"visitar\">\r\n    <img\r\n      src=\"@/assets/iconos/conversacion.png\"\r\n      alt=\"Conversación\"\r\n      id=\"iconoConversacion\"\r\n    />\r\n    <div id=\"texto\" v-html=\"mensaje\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport { QUERY_YO } from \"../../App.vue\";\r\n\r\nexport default {\r\n  name: \"NotificacionActividadForos\",\r\n  props: {\r\n    estaNotificacion: {\r\n      type: Object,\r\n      default: function () {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    visitar() {\r\n      var enlace = \"/\";\r\n      enlace +=\r\n        this.estaNotificacion.tipoParent + \"/\" + this.estaNotificacion.idParent;\r\n\r\n      if (this.estaNotificacion.tipoParent == \"libro\") {\r\n        console.log(`Es el enlace a un libro`);\r\n        var enlaceLibro =this.tallerCuentosUrl+'?t='+this.$store.state.token+\"&l=\"+this.estaNotificacion.idParent;\r\n        console.log(`Abriendo enlace: ${enlaceLibro}`);\r\n        window.open(enlaceLibro, \"_blank\");\r\n        this.eliminarse();\r\n      } else {\r\n        this.eliminarse();\r\n        this.$router.push(enlace).catch((error) => {\r\n          console.log(`Error de navegación: ${error.message.substr(0, 28)}`);\r\n          if (error.message.substr(0, 28) == \"Avoided redundant navigation\") {\r\n            console.log(`Error por navegación`);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    eliminarse() {\r\n      let idParent = this.estaNotificacion.idParent;\r\n      console.log(`Eliminandose: ${idParent}`);\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n          mutation($idParent: ID!) {\r\n            eliminarNotificacionActividadForos(idParent: $idParent)\r\n          }\r\n        `,\r\n        variables: {\r\n          idParent,\r\n        },\r\n        update: (store, { data: { eliminarNotificacionActividadForos } }) => {\r\n          if (eliminarNotificacionActividadForos) {\r\n            let cache = store.readQuery({\r\n              query: QUERY_YO,\r\n            });\r\n            let nuevoCache = JSON.parse(JSON.stringify(cache));\r\n            let indexN = nuevoCache.yo.notificacionesActividadForos.findIndex(\r\n              (n) => n.idParent == idParent\r\n            );\r\n            if (indexN > -1) {\r\n              nuevoCache.yo.notificacionesActividadForos.splice(indexN, 1);\r\n            }\r\n            store.writeQuery({\r\n              query: QUERY_YO,\r\n              data: nuevoCache,\r\n            });\r\n          }\r\n        },\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    mensaje: function () {\r\n      let tipoTarget = this.estaNotificacion.tipoParent;\r\n      if (tipoTarget == \"nodoConocimiento\") tipoTarget = \"nodo de conocimiento\";\r\n      let palabraTarget = \"<span style='color:red'>\" + tipoTarget + \"</span>\";\r\n      var mensaje =\r\n        \"Hay nuevas respuestas en los foros del \" +\r\n        palabraTarget +\r\n        \" \" +\r\n        this.estaNotificacion.nombreParent;\r\n\r\n      return mensaje;\r\n    },\r\n    tallerCuentosUrl() {\r\n      return process.env.NODE_ENV === \"production\"\r\n        ? \"https://pe-pe-pe.herokuapp.com/tallerCuentos\"\r\n        : \"http://localhost:8081\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.notificacionActividadForos {\r\n  width: 300px;\r\n  height: 130px;\r\n  border: 1px solid rgb(0, 58, 105);\r\n  background-color: rgb(58, 175, 243);\r\n  display: grid;\r\n  grid-template-columns: 100px 1fr;\r\n  grid-template-rows: 15px 1fr;\r\n  grid-template-areas:\r\n    \"info info\"\r\n    \"imagen texto\";\r\n  align-items: center;\r\n  justify-items: center;\r\n  cursor: pointer;\r\n}\r\n.notificacionActividadForos:hover {\r\n  background-color: rgb(119, 196, 241);\r\n}\r\n#info {\r\n  grid-area: info;\r\n  font-size: 11px;\r\n  color: white;\r\n}\r\n#iconoConversacion {\r\n  grid-area: imagen;\r\n  width: 70px;\r\n  height: 70px;\r\n  border-radius: 50%;\r\n}\r\n#texto {\r\n  grid-area: texto;\r\n}\r\n.textoTarget {\r\n  color: white;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificacionActividadForos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificacionActividadForos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotificacionActividadForos.vue?vue&type=template&id=140cdbe8&scoped=true&\"\nimport script from \"./NotificacionActividadForos.vue?vue&type=script&lang=js&\"\nexport * from \"./NotificacionActividadForos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotificacionActividadForos.vue?vue&type=style&index=0&id=140cdbe8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"140cdbe8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <div id=\"navBar\">\r\n      <!-- <div class=\"botonNav\" id=\"navHome\" to=\"/\">Home</div> -->\r\n      <div id=\"zonaIcono\" @click=\"mostrandoNav = !mostrandoNav\">\r\n        <img\r\n          id=\"botonDesplegarNav\"\r\n          src=\"@/assets/iconos/stream.svg\"\r\n          alt=\"Menu\"\r\n          \r\n        />\r\n        <div id=\"logoPepepe\">Pepepe</div>\r\n      </div>\r\n      <div\r\n        id=\"botonesNavEnlaces\"\r\n        :class=\"{ enlacesOcultos: !mostrandoNav }\"\r\n        @click=\"mostrandoNav = false\"\r\n      >\r\n        <!-- <router-link\r\n          to=\"/actividadesVirtuales2021\"\r\n          v-if=\"\r\n            usuarioLogeado == true &&\r\n            usuario.permisos &&\r\n            usuario.permisos.includes('maestraVida')\r\n          \"\r\n        >\r\n          <div\r\n            class=\"botonNavBarra botonNav hoverNegro\"\r\n            id=\"navActividadesVirtuales\"\r\n          >\r\n            Actividades virtuales\r\n          </div>\r\n        </router-link> -->\r\n\r\n        <router-link\r\n          to=\"/foros\"\r\n          v-if=\"\r\n            usuarioLogeado == true &&\r\n            usuario.permisos &&\r\n            usuario.permisos.includes('maestraVida')\r\n          \"\r\n        >\r\n          <div\r\n            class=\"botonNavBarra botonNav hoverNegro\"\r\n            id=\"navActividadesVirtuales\"\r\n          >\r\n            Foros\r\n          </div>\r\n        </router-link>\r\n\r\n        <!-- <div\r\n          id=\"bloqueProyectos\"\r\n          class=\"bloqueBotones\"\r\n          v-if=\"\r\n            usuario &&\r\n            usuario.permisos &&\r\n            usuario.permisos.includes('maestraVida')\r\n          \"\r\n        >\r\n          <router-link to=\"/proyectos\" v-if=\"usuarioLogeado == true\">\r\n            <div class=\"botonNavBarra botonNav hoverNegro\" id=\"navProyectos\">\r\n              Grupos\r\n            </div>\r\n          </router-link>       \r\n        </div> -->\r\n\r\n        <!-- <div id=\"bloqueSolidaridad\" class=\"bloqueBotones\">\r\n          <div class=\"botonNavBarra botonNav hoverNegro\" id=\"navAtlas\">\r\n            Solidaridad\r\n          </div>\r\n          <div id=\"enlacesHijosSolidaridad\" class=\"contenedorHijos\">\r\n            <router-link to=\"/atlasSolidaridad\">\r\n              <div\r\n                class=\"botonNavBarra botonNav hoverNegro botonNavHijo\"\r\n                id=\"navAtlasSolidaridad\"\r\n              >\r\n                Atlas de solidaridad\r\n              </div>\r\n            </router-link>\r\n          </div>\r\n        </div> -->\r\n\r\n        <div id=\"bloqueHerramientas\" class=\"bloqueBotones\">\r\n          <div class=\"botonNavBarra botonNav hoverNegro\" id=\"navAtlas\">\r\n            Herramientas\r\n          </div>\r\n          <div id=\"enlacesHijosHerramientas\" class=\"contenedorHijos\">\r\n            <router-link to=\"/atlas\">\r\n              <div\r\n                class=\"botonNavBarra botonNav hoverNegro botonNavHijo\"\r\n                id=\"navAtlas\"\r\n              >\r\n                Atlas de conocimientos\r\n              </div>\r\n            </router-link>\r\n            <a\r\n              target=\"_blank\"\r\n              :href=\"tallerCuentosUrl + '?t=' + $store.state.token\"\r\n              v-show=\"usuarioLogeado\"\r\n            >\r\n              <div\r\n                class=\"botonNavBarra botonNav hoverNegro botonNavHijo\"\r\n                id=\"navAtlas\"\r\n              >\r\n                Taller de creación de cuentos\r\n              </div>\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        <router-link\r\n          to=\"/personas\"\r\n          v-if=\"usuarioLogeado\"\r\n        >\r\n          <div\r\n            class=\"botonNavBarra botonNav hoverNegro\"\r\n            id=\"navActividadesVirtuales\"\r\n          >\r\n            Personas\r\n          </div>\r\n        </router-link>\r\n        <router-link to=\"/espacios\">\r\n          <div\r\n            class=\"botonNavBarra botonNav hoverNegro\"\r\n            id=\"navActividadesVirtuales\"\r\n          >\r\n            Espacios\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          to=\"/registro\"\r\n          id=\"navRegistro\"\r\n          v-if=\"usuarioSuperadministrador\"\r\n        >\r\n          <div class=\"botonNavBarra botonNav hoverNegro\">\r\n            Registrar usuario\r\n          </div></router-link\r\n        >\r\n      </div>\r\n      <div id=\"botonesNavDerecha\">\r\n        <div\r\n          id=\"bloqueNotificaciones\"\r\n          v-if=\"usuarioLogeado\"\r\n          v-show=\"\r\n            yo.notificaciones.length > 0 ||\r\n            yo.notificacionesActividadForos.length > 0\r\n          \"\r\n        >\r\n          <span id=\"numeroNotificaciones\">{{\r\n            yo.notificaciones.length + yo.notificacionesActividadForos.length\r\n          }}</span>\r\n          <img\r\n            src=\"@/assets/iconos/campanita.png\"\r\n            alt=\"Notificaciones\"\r\n            :title=\"yo.notificaciones.length + 'Notificaciones'\"\r\n            id=\"imagenCampanita\"\r\n            @click=\"mostrandoNotificaciones = !mostrandoNotificaciones\"\r\n          />\r\n          <div id=\"contenedorNotificaciones\" v-show=\"mostrandoNotificaciones\">\r\n            <notificacion-actividad-foros\r\n              :estaNotificacion=\"notificacionActividadForos\"\r\n              :key=\"notificacionActividadForos.id\"\r\n              v-for=\"notificacionActividadForos of yo.notificacionesActividadForos\"\r\n            />\r\n            <notificacion\r\n              :key=\"notificacion.id\"\r\n              v-for=\"notificacion of notificacionesOrdenadas\"\r\n              :estaNotificacion=\"notificacion\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <template v-if=\"logeado\">\r\n          <div\r\n            class=\"botonNavBarra botonNav navLogin hoverNegro\"\r\n            id=\"navLogged\"\r\n            @click=\"accionesLogeado = !accionesLogeado\"\r\n            @mouseleave=\"accionesLogeado = false\"\r\n          >\r\n            {{ username }}\r\n            <div id=\"botonesLogeado\" v-if=\"accionesLogeado\">\r\n              <router-link to=\"/miperfil\">\r\n                <div class=\"botonesLogeado hoverNegro\" id=\"Perfil\">Perfil</div>\r\n              </router-link>             \r\n              <div\r\n                class=\"botonesLogeado hoverNegro\"\r\n                id=\"desconexion\"\r\n                @click=\"deslogeo\"\r\n              >\r\n                Desconexion\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <template v-else>\r\n          <router-link\r\n            to=\"/login\"\r\n            class=\"botonNavBarra botonNav navLogin hoverNegro\"\r\n            id=\"navLogin\"\r\n          >\r\n            <div>Login</div></router-link\r\n          >\r\n        </template>\r\n      </div>\r\n    </div>\r\n    <router-view id=\"visorRouter\">asd</router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Notificacion from \"./components/usuario/Notificacion.vue\";\r\nimport NotificacionActividadForos from \"./components/usuario/NotificacionActividadForos.vue\";\r\n\r\nexport const QUERY_YO = gql`\r\n  query {\r\n    yo {\r\n      id\r\n      nombres\r\n      apellidos\r\n      notificaciones {\r\n        id\r\n        fecha\r\n        texto\r\n        elementoTarget {\r\n          tipo\r\n          id\r\n          nombre\r\n        }\r\n        causante {\r\n          id\r\n          tipo\r\n        }\r\n      }\r\n      notificacionesActividadForos {\r\n        idParent\r\n        tipoParent\r\n        numeroRespuestasNuevas\r\n        nombreParent\r\n      }\r\n      permisos\r\n      foros {\r\n        idForo\r\n        conversaciones {\r\n          idConversacion\r\n          respuestasLeidas\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nfunction parseJwt(token) {\r\n  var base64Url = token.split(\".\")[1];\r\n  var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n  var jsonPayload = decodeURIComponent(\r\n    atob(base64)\r\n      .split(\"\")\r\n      .map(function (c) {\r\n        return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\r\n      })\r\n      .join(\"\")\r\n  );\r\n\r\n  return JSON.parse(jsonPayload);\r\n}\r\n\r\nexport default {\r\n  name: \"App\",\r\n  apollo: {\r\n    yo: {\r\n      query: QUERY_YO,\r\n      fetchPolicy: \"network-only\",\r\n      update({ yo }) {\r\n        this.$store.commit(\"setInfoForosUsuario\", yo.foros);\r\n        return yo;\r\n      },\r\n      skip() {\r\n        return !this.usuarioLogeado;\r\n      },\r\n      subscribeToMore: {\r\n        document: gql`\r\n          subscription {\r\n            nuevaNotificacion {\r\n              id\r\n              fecha\r\n              texto\r\n              elementoTarget {\r\n                tipo\r\n                id\r\n                nombre\r\n              }\r\n              causante {\r\n                id\r\n                tipo\r\n              }\r\n            }\r\n          }\r\n        `,\r\n        updateQuery: (previousResult, { subscriptionData: { data } }) => {\r\n          var nuevoCache = JSON.parse(JSON.stringify(previousResult));\r\n          if (\r\n            !nuevoCache.yo.notificaciones.some(\r\n              (n) => n.id == data.nuevaNotificacion.id\r\n            )\r\n          ) {\r\n            nuevoCache.yo.notificaciones.push(data.nuevaNotificacion);\r\n          }\r\n          return nuevoCache;\r\n        },\r\n        skip() {\r\n          return !this.usuarioLogeado;\r\n        },\r\n      },\r\n    },\r\n  },\r\n  components: { Notificacion, NotificacionActividadForos },\r\n  data() {\r\n    return {\r\n      accionesLogeado: false,\r\n      mostrandoNotificaciones: false,\r\n      yo: {\r\n        notificaciones: [],\r\n        notificacionesActividadForos: [],\r\n      },\r\n\r\n      mostrandoNav: false,\r\n      navSeleccionado: \"home\",\r\n    };\r\n  },\r\n  computed: {\r\n    tallerCuentosUrl() {\r\n      return process.env.NODE_ENV === \"production\"\r\n        ? \"https://pe-pe-pe.herokuapp.com/tallerCuentos\"\r\n        : \"http://localhost:8081\";\r\n    },\r\n    username: function () {\r\n      return this.$store.state.usuario.username;\r\n    },\r\n    logeado: function () {\r\n      if (\r\n        this.username != undefined &&\r\n        this.username != null &&\r\n        this.username.length > 2\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    colorBlancoAccionLogeado: function () {\r\n      if (this.accionesLogeado) {\r\n        return {\r\n          backgroundColor: \"white\",\r\n        };\r\n      }\r\n      return {};\r\n    },\r\n    notificacionesOrdenadas: function () {\r\n      var lasNotificaciones = JSON.parse(\r\n        JSON.stringify(this.yo.notificaciones)\r\n      );\r\n      return lasNotificaciones.sort((a, b) => {\r\n        return new Date(b.fecha) - new Date(a.fecha);\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    deslogeo() {\r\n      this.$store.commit(\"deslogearse\");\r\n    },\r\n  },\r\n  mounted() {\r\n    let token = localStorage.getItem(\"token\");\r\n    //let reloj=new Date();\r\n    if (!token) {\r\n      console.log(``);\r\n    } else {\r\n      let datosU = parseJwt(token);\r\n      let secsActual = parseInt(Date.now() / 1000);\r\n\r\n      if (!datosU.version || datosU.version < 1) {\r\n        console.log(`Versión de token caducada`);\r\n        this.$store.commit(\"deslogearse\");\r\n        return;\r\n      }\r\n\r\n      if (secsActual < datosU.exp || !datosU.exp) {\r\n        this.$store.commit(\"logearse\", token);\r\n      } else {\r\n        console.log(`Token expirado: exp: ${datosU.exp}`);\r\n        this.$store.commit(\"deslogearse\");\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n:root {\r\n  --mainColor: #f49e4c;\r\n  --mainColorDark: #f49e4c;\r\n  --mainColorLight: #e99e58;\r\n\r\n  --atlasFondo: #12263a;\r\n  --atlasVerde: #4d8b31;\r\n  --atlasAmarillo: #ffc800;\r\n  --atlasAzul: #69c7c7;\r\n  --atlasFondoNodo: #a9d1d1;\r\n  --atlasNaranja: #ef7229;\r\n  --atlasMorado: #ba2c73;\r\n  --atlasGris: #929292;\r\n  --atlasParent: #3066be;\r\n\r\n  --atlasFilterFondo: invert(10%) sepia(55%) saturate(1034%) hue-rotate(174deg)\r\n    brightness(91%) contrast(91%);\r\n  --atlasFilterVerde: invert(41%) sepia(84%) saturate(349%) hue-rotate(57deg)\r\n    brightness(95%) contrast(89%);\r\n  --atlasFilterAmarillo: invert(79%) sepia(32%) saturate(4772%) hue-rotate(3deg)\r\n    brightness(108%) contrast(105%);\r\n  --atlasFilterAzul: invert(73%) sepia(20%) saturate(732%) hue-rotate(131deg)\r\n    brightness(92%) contrast(98%);\r\n  --atlasFilterNaranja: invert(53%) sepia(29%) saturate(1745%)\r\n    hue-rotate(340deg) brightness(96%) contrast(95%);\r\n  --atlasFilterMorado: invert(27%) sepia(24%) saturate(4772%) hue-rotate(301deg)\r\n    brightness(92%) contrast(95%);\r\n  --atlasFilterGris: invert(61%) sepia(0%) saturate(1316%) hue-rotate(210deg)\r\n    brightness(97%) contrast(81%);\r\n  --filterBlanco: invert(100%) sepia(100%) saturate(0%) hue-rotate(130deg)\r\n    brightness(106%) contrast(102%);\r\n\r\n  --paletaMain: #efae4a;\r\n  --paletaSelect: #cc3363;\r\n  --paletaFondo: #fffcf9;\r\n  --paletaVerde: #62c370;\r\n  --grisHover: rgba(128, 128, 128, 0.192);\r\n\r\n  --calendarioUsuario: #3F88C5;\r\n  --calendarioUsuarioStrong: #2d608a;\r\n  --calendarioPublico: #B6C649;\r\n  --calendarioPublicoStrong: #7e8a33;\r\n  --calendarioNodoSolidaridad: #593F62;\r\n  --calendarioNodoSolidaridadStrong: #312336;\r\n  --calendarioSelect: #FCAA67;\r\n}\r\n@import url(\"https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;700&family=Salsa&display=swap\");\r\nhtml {\r\n  height: 100vh;\r\n}\r\nbody {\r\n  margin: 0px;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-color: #fffcf9;\r\n  font-family: \"Varela Round\", sans-serif;\r\n}\r\n.contenedorControles {\r\n  display: flex;\r\n  padding: 5px 2%;\r\n  flex-direction: row-reverse;\r\n  margin-right: 5px;\r\n}\r\n.contenedorControles .boton{\r\n  margin: 0px 5px;\r\n}\r\n.boton {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 20px;\r\n  height: 20px;\r\n  flex-shrink: 0;\r\n}\r\n.boton img {\r\n  height: 100%;\r\n}\r\n.boton svg {\r\n  height: 100%;\r\n}\r\n.selector{\r\n  border-radius: 50%;\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-color: transparent;\r\n}\r\n.selector.activo{\r\n  border-color: var(--paletaMain);\r\n}\r\n.contenedorBotonesCampo {\r\n  margin: 5px auto;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.botonGuardarCampo {\r\n  width: 23px;\r\n  cursor: pointer;\r\n  margin: 0px 5px;\r\n  opacity: 0.8;\r\n}\r\n#descripcion{\r\n  border: 2px solid var(--paletaMain);\r\n  border-radius: 7px;\r\n  padding:5px;\r\n}\r\ntextarea {\r\n  font-family: \"Varela Round\", sans-serif;\r\n  resize: vertical;\r\n}\r\n.inputNombreCosa {\r\n  background-color: rgba(255, 255, 255, 0.397);\r\n  font-family: Poppins, Helvetica, Arial, sans-serif;\r\n  padding: 5px;\r\n  border-style: solid;\r\n  border-color: rgb(139, 139, 139);\r\n}\r\n.iconoPersonaAutonomo{\r\n  margin: 10px 15px;\r\n  margin-bottom: 60px;\r\n}\r\n.hoverGris:hover {\r\n  background-color: rgb(201, 201, 201);\r\n}\r\n\r\n.tooltip .tooltiptext {\r\n  visibility: hidden;\r\n  width: 120px;\r\n  background-color: #555;\r\n  color: #fff;\r\n  text-align: center;\r\n  padding: 5px 0;\r\n  border-radius: 6px;\r\n\r\n  /* Position the tooltip text */\r\n  position: absolute;\r\n  z-index: 1;\r\n  bottom: 125%;\r\n  left: 50%;\r\n  margin-left: -60px;\r\n\r\n  /* Fade in tooltip */\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n/* Tooltip arrow */\r\n.tooltip .tooltiptext::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 50%;\r\n  margin-left: -5px;\r\n  border-width: 5px;\r\n  border-style: solid;\r\n  border-color: #555 transparent transparent transparent;\r\n}\r\n\r\n/* Show the tooltip text when you mouse over the tooltip container */\r\n.tooltip:hover .tooltiptext {\r\n  visibility: visible;\r\n  opacity: 1;\r\n}\r\n\r\n.noUserSelect {\r\n  user-select: none;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\ninput {\r\n  border: 1px solid black;\r\n}\r\n.letrasRojas {\r\n  color: red;\r\n}\r\n.bordeAbajo {\r\n  border-bottom: 2px solid black;\r\n}\r\n.deshabilitado {\r\n  opacity: 0.5;\r\n  user-select: none;\r\n  pointer-events: none;\r\n}\r\n.opaco {\r\n  opacity: 0.6;\r\n}\r\n\r\n.botonEquis {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  background-color: rgb(214, 115, 115);\r\n  border-radius: 50%;\r\n  position: absolute;\r\n}\r\n.botonEquis:hover {\r\n  background-color: rgb(196, 73, 73);\r\n}\r\n.botonEquis > .linea1 {\r\n  position: absolute;\r\n  background-color: black;\r\n  height: 2px;\r\n  width: 80%;\r\n  left: 10%;\r\n  top: 50%;\r\n  transform: translateY(-50%) rotateZ(45deg);\r\n}\r\n.botonEquis > .linea2 {\r\n  position: absolute;\r\n  background-color: black;\r\n  height: 80%;\r\n  width: 2px;\r\n  top: 10%;\r\n  left: 50%;\r\n  transform: translateX(-50%) rotateZ(45deg);\r\n}\r\n.trianguloBullet {\r\n  border: 6px solid transparent;\r\n  border-left: 10px solid black;\r\n  align-self: center;\r\n  transform-origin: 25% 70%;\r\n  transition: transform 0.1s;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n#app {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: grid;\r\n  grid-template-rows: 65px 1fr 5px;\r\n\r\n  grid-template-columns: 1fr;\r\n\r\n  box-sizing: border-box;\r\n  z-index: 0;\r\n}\r\n#navBar {\r\n  grid-column: 1/2;\r\n  grid-row: 1/2;\r\n  display: flex;\r\n  z-index: 100;\r\n  background-color: var(--mainColor);\r\n  position: relative;\r\n}\r\n#zonaIcono{\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n#botonDesplegarNav {\r\n  display: block;\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n}\r\n#logoPepepe {\r\n  font-size: 18px;\r\n  font-family: Salsa, cursive;\r\n}\r\n#botonesNavEnlaces {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0px;\r\n  background-color: rgb(239, 174, 74);\r\n}\r\n.enlacesOcultos {\r\n  display: none;\r\n}\r\n.router-link-active {\r\n  background-color: rgba(0, 0, 0, 0.247);\r\n}\r\n#visorRouter {\r\n  grid-column: 1/2;\r\n  grid-row: 2/3;\r\n  background-color: \"#fab467\";\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n  z-index: 10;\r\n}\r\n#atlasConocimiento {\r\n  grid-row: 3/4;\r\n  background-color: \"#fab467\";\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n#navLogged {\r\n  position: relative;\r\n}\r\n.botonNav {\r\n  padding-top: 13px;\r\n  padding-left: 15px;\r\n  padding-right: 15px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  font-size: 15px;\r\n  font-family: \"Poppins\", sans-serif;\r\n  color: black;\r\n  box-sizing: border-box;\r\n  background-color: var(--mainColor);\r\n}\r\n.botonNavBarra {\r\n  padding: 10px 10px;\r\n}\r\n.botonNavHijo {\r\n  padding-bottom: 30px;\r\n  padding-left: 25px;\r\n}\r\n#botonesNavDerecha {\r\n  margin-left: auto;\r\n  display: flex;\r\n}\r\n#bloqueNotificaciones {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 10px;\r\n}\r\n#contenedorNotificaciones {\r\n  position: absolute;\r\n  top: 100%;\r\n  right: 0%;\r\n  align-items: center;\r\n}\r\n#numeroNotificaciones {\r\n  font-size: 20px;\r\n  color: white;\r\n  margin-right: 3px;\r\n}\r\n#imagenCampanita {\r\n  width: 25px;\r\n  height: 25px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  padding: 5px;\r\n  border-radius: 50%;\r\n}\r\n#botonesLogeado {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 100%;\r\n  background-color: rgb(243, 138, 58);\r\n}\r\n.botonesLogeado {\r\n  padding-top: 10px;\r\n  padding-left: 15px;\r\n  padding-bottom: 5px;\r\n  padding-right: 35px;\r\n  min-width: 150px;\r\n}\r\n\r\n.disabled {\r\n  opacity: 0.8;\r\n  pointer-events: none;\r\n}\r\n.bloqueBotones {\r\n  position: relative;\r\n}\r\n\r\n.contenedorHijos {\r\n  display: block;\r\n}\r\n.botonNavHijo {\r\n  padding-bottom: 15px;\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n  /* #app {\r\n    grid-template-rows: 55px 1fr 5px;\r\n  }\r\n  #botonDesplegarNav {\r\n    display: none;\r\n  }\r\n  .enlacesOcultos {\r\n    display: block;\r\n  }\r\n  #botonesNavEnlaces {\r\n    display: flex;\r\n    background-color: transparent;\r\n    top: 0px;\r\n    left: 0px;\r\n  }\r\n  .botonNav {\r\n    background-color: transparent;\r\n    font-size: 18px;\r\n    height: 100%;\r\n  }\r\n  .botonNavBarra {\r\n    height: 100%;\r\n    padding: 13px 15px;\r\n  }\r\n  .botonNavHijo {\r\n    padding-left: 15px;\r\n  }\r\n  .hoverNegro:hover {\r\n    background-color: rgba(0, 0, 0, 0.315);\r\n  }\r\n  .contenedorHijos {\r\n    display: none;\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 0%;\r\n    width: 150px;\r\n    background-color: #f0a446;\r\n  }\r\n  .bloqueBotones:hover > .contenedorHijos {\r\n    display: block;\r\n  } */\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=a521acb2&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=a521acb2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a521acb2\",\n  null\n  \n)\n\nexport default component.exports","import gql from \"graphql-tag\"\r\n\r\n\r\n/*\r\nexport const typeDefs=gql`\r\n    type usuario{\r\n        username: String,\r\n    }\r\n`;\r\n*/\r\n\r\n\r\nexport const typeDefs = gql`\r\n    \r\n    enum TiposUsuario{\r\n        USUARIO,\r\n        ADMINISTRADOR,\r\n        SUPERADMINSTRADOR\r\n    }\r\n    \r\n    type Usuario{\r\n        username:String,\r\n        permisos: TiposUsuario\r\n     }\r\n\r\n    type Mutations{ \r\n        setUsuario(username: String, permisos: TiposUsuario):Usuario\r\n    }\r\n`;\r\n\r\n\r\n\r\nexport const resolvers={}\r\n\r\n\r\n","import { ApolloClient, HttpLink, InMemoryCache, split } from '@apollo/client/core'\r\nimport { createApolloProvider } from '@vue/apollo-option'\r\n\r\nimport {WebSocketLink} from \"@apollo/client/link/ws\"\r\n\r\nimport {getMainDefinition} from \"@apollo/client/utilities\"\r\nimport {setContext} from \"@apollo/client/link/context\"\r\nimport { onError } from '@apollo/client/link/error'\r\n\r\nimport possibleTypes from \"../possibleTypes.json\"\r\nimport { typeDefs, resolvers} from \"./apolloStore/Schema\"\r\n\r\n\r\nconst cache= new InMemoryCache({\r\n  possibleTypes\r\n});\r\n\r\n\r\nlet getToken = ()=> localStorage.getItem('token');\r\n\r\n\r\nexport const serverUrl=process.env.NODE_ENV === 'production'\r\n? 'https://pe-pe-pe.herokuapp.com'\r\n: 'http://192.168.0.12:3000'\r\n\r\n\r\n\r\nexport const wsServerUrl=process.env.NODE_ENV === 'production'\r\n? 'wss://'+serverUrl.substr(7)+'/subscripciones'\r\n: 'ws://'+serverUrl.substr(7)+'/subscripciones'\r\n\r\n\r\nconst httpLink = new HttpLink({\r\n  uri: serverUrl+\"/graphql\"\r\n});\r\n\r\n//console.log(`Direccion subscripciones ${wsServerUrl}`);\r\n\r\nconst wsLink = new WebSocketLink({\r\n  uri: wsServerUrl,\r\n  options: {\r\n    reconnect: true,\r\n    connectionParams: {\r\n      headers: {\r\n        Authorization: `Bearer ${getToken()}`\r\n      }\r\n    }\r\n  },\r\n})\r\n\r\nconst authLink=setContext((_, {headers})=>{    \r\n    return {\r\n        headers:{\r\n            ...headers,\r\n            authorization: getToken()\r\n        }\r\n    }\r\n});\r\n\r\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (graphQLErrors)\r\n      graphQLErrors.map(({ message, locations, path }) =>\r\n        console.log(\r\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\r\n        ),\r\n      )\r\n\r\n    if (networkError) console.log(`[Network error]: ${networkError}`)\r\n  }\r\n});\r\n\r\nconst link=errorLink.concat(authLink).concat(httpLink);\r\n\r\n\r\nconst finalLink = split(\r\n  // split based on operation type\r\n  ({ query }) => {\r\n    const definition = getMainDefinition(query)\r\n    return definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n  },\r\n  wsLink,\r\n  link\r\n)\r\n\r\nexport const apolloClient=new ApolloClient({\r\n  link:finalLink,\r\n  cache,\r\n  typeDefs,\r\n  resolvers,\r\n  connectToDevTools:true,\r\n});\r\n\r\n\r\nexport const apolloProvider=createApolloProvider({\r\n  defaultClient:apolloClient\r\n});\r\n\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"atlasConocimiento\",style:({overflowY: _vm.nodoAbierto? 'scroll':'hidden' }),on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.stopPropagation();_vm.panningVista = true},\"mouseenter\":function($event){_vm.hovered = true},\"mouseleave\":function($event){_vm.hovered = false},\"click\":function($event){_vm.idNodoMenuCx = null;\n    _vm.cerrarBusqueda++;}}},[_c('router-view'),_c('transition',{attrs:{\"name\":\"fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showingZoomInfo),expression:\"showingZoomInfo\"}],attrs:{\"id\":\"infoZoom\"}},[_vm._v(\"x\"+_vm._s(_vm.factorZoom))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoMenuContextual),expression:\"mostrandoMenuContextual\"}],style:([_vm.offsetMenuContextual]),attrs:{\"id\":\"menuContextual\"}},[_c('div',{staticClass:\"botonMenuContextual\",class:{ deshabilitado: _vm.posicionCreandoNodo },attrs:{\"id\":\"botonCrearNuevoNodo\"},on:{\"click\":_vm.crearNodoEnMenuContextual}},[_vm._v(\" Crear Nodo de conocimiento \")])]),(_vm.usuarioSuperadministrador && _vm.usuario.username == 'juanMamian')?_c('div',{class:{ deshabilitado: _vm.callingPosiciones },style:([\n      { backgroundColor: _vm.callingPosiciones ? 'green' : 'transparent' } ]),attrs:{\"id\":\"botonCallingPosiciones\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarCallingPosiciones($event)}}}):_vm._e(),_c('buscador-nodos-conocimiento',{ref:\"buscadorNodos\",attrs:{\"cerrarBusqueda\":_vm.cerrarBusqueda},on:{\"nodoSeleccionado\":_vm.centrarEnNodo}}),_c('panel-conjuntos-nodos',{ref:\"panelConjuntosNodos\",attrs:{\"yo\":_vm.yo,\"todosNodos\":_vm.todosNodos,\"idNodoTarget\":_vm.idNodoTarget},on:{\"targetSeleccionado\":_vm.setNodoTargetCache,\"centrarEnNodo\":function($event){_vm.centrarEnNodo(_vm.todosNodos.find(function (n) { return n.id == $event; }))}}}),_c('panel-configuracion-atlas',{ref:\"panelConfiguracionAtlas\",attrs:{\"yo\":_vm.yo}}),_c('div',{ref:\"contenedorDiagrama\",attrs:{\"id\":\"contenedorDiagrama\"},on:{\"contextmenu\":function($event){if($event.target !== $event.currentTarget){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();return _vm.abrirMenuContextual($event)},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }if($event.target !== $event.currentTarget){ return null; }return _vm.clickFondoAtlas($event)}}},[_c('div',{style:([_vm.offsetContenedorNodos]),attrs:{\"id\":\"contenedorVinculosNodos\"}},_vm._l((_vm.nodosConRequerimentos),function(nodo){return _c('enlaces-nodo-conocimiento',{key:nodo.id,attrs:{\"yo\":_vm.yo,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"esteNodo\":nodo,\"todosNodos\":_vm.todosNodos,\"factorZoom\":_vm.factorZoom,\"esquinasDiagrama\":_vm.esquinasDiagrama,\"nodoSeleccionado\":_vm.nodoSeleccionado,\"redibujarEnlaces\":_vm.redibujarEnlacesNodos,\"idsTodosNodosRender\":_vm.idsTodosNodosRender,\"callingPosiciones\":_vm.callingPosiciones}})}),1),_c('div',{ref:\"contenedorNodos\",style:([_vm.offsetContenedorNodos]),attrs:{\"id\":\"contenedorNodos\"}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.posicionCreandoNodo),expression:\"posicionCreandoNodo\"}],staticStyle:{\"position\":\"absolute\"},style:([_vm.offsetLoadingCreandoNodo]),attrs:{\"texto\":\"\"}}),_vm._l((_vm.nodosRender),function(nodo){return _c('nodo-conocimiento',{key:nodo.id,attrs:{\"nodoSeleccionado\":_vm.nodoSeleccionado,\"todosNodos\":_vm.todosNodos,\"idNodoMenuCx\":_vm.idNodoMenuCx,\"usuarioAdministradorAtlas\":_vm.usuarioAdministradorAtlas,\"yo\":_vm.yo,\"esteNodo\":nodo,\"esquinasDiagrama\":_vm.esquinasDiagrama,\"centroVista\":_vm.centroVista,\"esNodoObjetivo\":_vm.idsNodosObjetivos.includes(nodo.id),\"esTarget\":_vm.idNodoTarget == nodo.id,\"idsNodosAprendidos\":_vm.idsNodosAprendidos,\"factorZoom\":_vm.factorZoom,\"seleccionado\":_vm.idNodoSeleccionado === nodo.id,\"escondido\":_vm.idNodoTarget &&\n          !_vm.idsNecesariosParaTarget.includes(nodo.id) &&\n          _vm.idNodoTarget != nodo.id,\"configuracionAtlas\":_vm.configuracionAtlas,\"callingPosiciones\":_vm.callingPosiciones},on:{\"creacionVinculo\":_vm.crearVinculo,\"eliminacionVinculo\":_vm.eliminarVinculo,\"cambioDePosicionManual\":_vm.cambiarCoordsManualesNodo,\"eliminar\":_vm.eliminarNodo,\"cambieEstadoObjetivo\":function($event){return _vm.setEstadoObjetivoNodoCache($event, nodo.id)},\"tengoNuevoValorAprendido\":function($event){return _vm.setNodoAprendidoCache($event, nodo.id)}},nativeOn:{\"contextmenu\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.stopPropagation();$event.preventDefault();_vm.idNodoMenuCx = nodo.id},\"click\":function($event){$event.stopPropagation();return _vm.seleccionNodo(nodo)}}})})],2)]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.nodosDescargados),expression:\"!nodosDescargados\"}],attrs:{\"id\":\"simboloDescargandoNodos\",\"texto\":\"descargando nodos de conocimiento\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nodoConocimiento\",class:{ escondido: _vm.escondido },style:([_vm.estiloPosicion, _vm.estiloSize, _vm.estiloZeta]),on:{\"mousedown\":function($event){if(!$event.ctrlKey){ return null; }$event.stopPropagation();_vm.arrastrandoNodo = true},\"!click\":function($event){if(!$event.ctrlKey){ return null; }return _vm.stopProp($event)},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.guardarPosicion($event)},\"mousemove\":_vm.arrastrarNodo,\"mouseleave\":function($event){_vm.arrastrandoNodo = false},\"dblclick\":_vm.abrirPaginaNodo}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.arrastrandoNodo),expression:\"arrastrandoNodo\"}],attrs:{\"id\":\"zonaArrastre\"}}),(_vm.usuarioSuperadministrador)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.configuracionAtlas.posicionando),expression:\"configuracionAtlas.posicionando\"}],staticClass:\"fuerzaMovimiento\",style:([_vm.estiloFuerzaCentroMasa]),attrs:{\"id\":\"fuerzaCentroMasa\"}},[_c('div',{staticClass:\"flechitaFuerza\"})]):_vm._e(),(_vm.usuarioSuperadministrador)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.configuracionAtlas.posicionando),expression:\"configuracionAtlas.posicionando\"}],staticClass:\"fuerzaMovimiento\",style:([_vm.estiloFuerzaColision]),attrs:{\"id\":\"fuerzaColision\"}},[_c('div',{staticClass:\"flechitaFuerza\"})]):_vm._e(),_c('img',{ref:\"iconoNodo\",staticClass:\"iconoNodo\",class:{\n      fantasmeado:\n        _vm.usuarioLogeado &&\n        !_vm.aprendible &&\n        _vm.yo.atlas.configuracion.modo === 'estudiante' &&\n        !_vm.callingPosiciones,\n      deNodoSeleccionado: _vm.seleccionado,\n    },attrs:{\"src\":require(\"@/assets/iconos/nodoConocimientoDefault.png\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nodoAprendido && _vm.yo.atlas.configuracion.modo === 'estudiante'),expression:\"nodoAprendido && yo.atlas.configuracion.modo === 'estudiante'\"}],staticClass:\"imagenAprendido\",style:([\n      {\n        width: parseInt(20 * _vm.factorZoom) + 'px',\n        left: parseInt(-10 * _vm.factorZoom) + 'px',\n        top: parseInt(-10 * _vm.factorZoom) + 'px',\n      } ]),attrs:{\"src\":require(\"@/assets/iconos/success.png\"),\"alt\":\"Completado\",\"title\":\"Aprendizaje de este tema completado\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.esTarget),expression:\"esTarget\"}],staticClass:\"imagenTarget\",attrs:{\"src\":require(\"@/assets/iconos/target.png\"),\"alt\":\"Objetivo\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuCx),expression:\"menuCx\"}],attrs:{\"id\":\"menuContextual\"},on:{\"mousedown\":function($event){$event.stopPropagation();},\"mouseup\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"seccionMenuCx\",on:{\"click\":_vm.abrirPaginaNodo}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.nombre)+\" \")]),(\n        _vm.usuarioSuperadministrador == true || _vm.usuarioAdministradorAtlas == true\n      )?_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarEsteNodo($event)}}},[_vm._v(\" Eliminar \")]):_vm._e(),(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.copiarId($event)}}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.id)+\" \")]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yo.atlas && _vm.yo.atlas.colecciones && _vm.yo.atlas.colecciones.length>0),expression:\"yo.atlas && yo.atlas.colecciones && yo.atlas.colecciones.length>0\"}],staticClass:\"botonMenuCx selectorSubseccionMenuCx\"},[_vm._v(\" Colecciones \"),_c('div',{staticClass:\"subseccionMenuCx\"},_vm._l((_vm.yo.atlas.colecciones),function(coleccion){return _c('div',{key:coleccion.id,staticClass:\"botonMenuCx\",class:{enColeccion:coleccion.idsNodos.includes(_vm.esteNodo.id)},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleNodoEnColeccion(coleccion.id)}}},[_vm._v(\" \"+_vm._s(coleccion.nombre)+\" \")])}),0)]),(_vm.usuarioLogeado)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.aprendible),expression:\"aprendible\"}],staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleAprendido($event)}}},[_vm._v(\" \"+_vm._s(_vm.nodoAprendido ? \"Desm\" : \"M\")+\"arcar como aprendido \")]):_vm._e(),(\n        _vm.nodoSeleccionado &&\n        _vm.nodoSeleccionado.id != _vm.esteNodo.id &&\n        (_vm.usuarioSuperadministrador == true ||\n          _vm.usuarioAdministradorAtlas == true)\n      )?[_c('div',{staticClass:\"seccionMenuCx\"},[_vm._v(_vm._s(_vm.nodoSeleccionado.nombre))]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.crearVinculo('continuacion', _vm.nodoSeleccionado, _vm.esteNodo)}}},[_vm._v(\" Continua aquí \")]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.crearVinculo('continuacion', _vm.esteNodo, _vm.nodoSeleccionado)}}},[_vm._v(\" Continua desde aquí \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.esteNodo.vinculos.some(function (v) { return v.idRef == _vm.nodoSeleccionado.id; })),expression:\"esteNodo.vinculos.some((v) => v.idRef == nodoSeleccionado.id)\"}],staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarVinculo(_vm.esteNodo, _vm.nodoSeleccionado)}}},[_vm._v(\" Desconectar \")])]:_vm._e()],2),_c('div',{ref:\"nombre\",class:{\n      nombreSeleccionado: _vm.seleccionado,\n      nombreNodoAprendido:\n        _vm.nodoAprendido && _vm.yo.atlas.configuracion.modo === 'estudiante',\n      nombreNodoOutreach:\n        !_vm.aprendible &&\n        !_vm.callingPosiciones &&\n        _vm.yo.atlas.configuracion.modo === 'estudiante',\n      nombreNodoAprendible:\n        _vm.aprendible &&\n        !_vm.nodoAprendido &&\n        _vm.yo.atlas.configuracion.modo === 'estudiante',\n      nombreNodoExperto:\n        _vm.usuarioExpertoNodo && _vm.yo.atlas.configuracion.modo === 'experto',\n      nodoStuck: _vm.esteNodo.stuck && _vm.callingPosiciones,\n      deNodoSeleccionado: _vm.seleccionado,\n    },style:([_vm.estiloCartelNombre]),attrs:{\"id\":\"nombre\"}},[_vm._v(\" \"+_vm._s(_vm.callingPosiciones ? _vm.esteNodo.puntaje : _vm.esteNodo.nombre)+\" \")]),(_vm.esteNodo && _vm.esteNodo.descripcion)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado && !_vm.callingPosiciones && _vm.mostrarDescripcion),expression:\"seleccionado && !callingPosiciones && mostrarDescripcion\"}],staticClass:\"cuadritoDescripcionNodo\"},[_c('div',{staticClass:\"descripcionNodo\"},[_vm._v(_vm._s(_vm.esteNodo.descripcion))]),_c('img',{staticClass:\"botonAbrirNodo\",attrs:{\"src\":require(\"@/assets/iconos/ir.png\"),\"alt\":\"Ir\",\"title\":\"Abrir este nodo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.abrirPaginaNodo($event)}}}),_c('div',{staticClass:\"botonEquis\",attrs:{\"id\":\"botonCerrarDescripcion\"},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrarDescripcion = false},\"mousedown\":function($event){$event.stopPropagation();},\"mouseup\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"linea1\"}),_c('div',{staticClass:\"linea2\"})])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"nodoConocimiento\"\r\n    :style=\"[estiloPosicion, estiloSize, estiloZeta]\"\r\n    :class=\"{ escondido }\"\r\n    @mousedown.ctrl.stop=\"arrastrandoNodo = true\"\r\n    @click.ctrl.capture=\"stopProp\"\r\n    @mouseup.left=\"guardarPosicion\"\r\n    @mousemove=\"arrastrarNodo\"\r\n    @mouseleave=\"arrastrandoNodo = false\"\r\n    @dblclick=\"abrirPaginaNodo\"\r\n  >\r\n    <div id=\"zonaArrastre\" v-show=\"arrastrandoNodo\"></div>\r\n\r\n    <div v-if=\"usuarioSuperadministrador\" v-show=\"configuracionAtlas.posicionando\" id=\"fuerzaCentroMasa\" class=\"fuerzaMovimiento\" :style=\"[estiloFuerzaCentroMasa]\"><div class=\"flechitaFuerza\"></div></div>\r\n    <div v-if=\"usuarioSuperadministrador\" v-show=\"configuracionAtlas.posicionando\" id=\"fuerzaColision\" class=\"fuerzaMovimiento\" :style=\"[estiloFuerzaColision]\"><div class=\"flechitaFuerza\"></div></div>\r\n\r\n    <img\r\n      src=\"@/assets/iconos/nodoConocimientoDefault.png\"\r\n      :class=\"{\r\n        fantasmeado:\r\n          usuarioLogeado &&\r\n          !aprendible &&\r\n          yo.atlas.configuracion.modo === 'estudiante' &&\r\n          !callingPosiciones,\r\n        deNodoSeleccionado: seleccionado,\r\n      }\"\r\n      alt=\"\"\r\n      class=\"iconoNodo\"\r\n      ref=\"iconoNodo\"\r\n    />\r\n    <img\r\n      src=\"@/assets/iconos/success.png\"\r\n      alt=\"Completado\"\r\n      title=\"Aprendizaje de este tema completado\"\r\n      v-show=\"nodoAprendido && yo.atlas.configuracion.modo === 'estudiante'\"\r\n      :style=\"[\r\n        {\r\n          width: parseInt(20 * factorZoom) + 'px',\r\n          left: parseInt(-10 * factorZoom) + 'px',\r\n          top: parseInt(-10 * factorZoom) + 'px',\r\n        },\r\n      ]\"\r\n      class=\"imagenAprendido\"\r\n    />\r\n    <img\r\n      src=\"@/assets/iconos/target.png\"\r\n      alt=\"Objetivo\"\r\n      v-show=\"esTarget\"\r\n      class=\"imagenTarget\"\r\n    />\r\n\r\n    <div\r\n      id=\"menuContextual\"\r\n      v-show=\"menuCx\"\r\n      @mousedown.stop=\"\"\r\n      @mouseup.stop=\"\"\r\n    >\r\n      <div class=\"seccionMenuCx\" @click=\"abrirPaginaNodo\">\r\n        {{ esteNodo.nombre }}\r\n      </div>\r\n      <div\r\n        class=\"botonMenuCx\"\r\n        v-if=\"\r\n          usuarioSuperadministrador == true || usuarioAdministradorAtlas == true\r\n        \"\r\n        @click.stop=\"eliminarEsteNodo\"\r\n      >\r\n        Eliminar\r\n      </div>\r\n      <div\r\n        class=\"botonMenuCx\"\r\n        v-if=\"usuarioSuperadministrador\"\r\n        @click.stop=\"copiarId\"\r\n      >\r\n        {{ esteNodo.id }}\r\n      </div>\r\n      <div class=\"botonMenuCx selectorSubseccionMenuCx\" v-show=\"yo.atlas && yo.atlas.colecciones && yo.atlas.colecciones.length>0\">\r\n        Colecciones\r\n        <div class=\"subseccionMenuCx\">\r\n          <div class=\"botonMenuCx\" v-for=\"coleccion of yo.atlas.colecciones\" :key=\"coleccion.id\" @click.stop=\"toggleNodoEnColeccion(coleccion.id)\" :class=\"{enColeccion:coleccion.idsNodos.includes(esteNodo.id)}\">\r\n            {{coleccion.nombre}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- <div\r\n        class=\"botonMenuCx\"\r\n        v-if=\"usuarioLogeado && !esNodoObjetivo\"\r\n        @click.stop=\"setNodoObjetivo(true)\"\r\n      >\r\n        Añadir a objetivos\r\n      </div>\r\n      <div\r\n        class=\"botonMenuCx\"\r\n        v-if=\"usuarioLogeado && esNodoObjetivo\"\r\n        @click.stop=\"setNodoObjetivo(false)\"\r\n      >\r\n        Retirar de objetivos\r\n      </div> -->\r\n      <div\r\n        class=\"botonMenuCx\"\r\n        v-if=\"usuarioLogeado\"\r\n        @click.stop=\"toggleAprendido\"\r\n        v-show=\"aprendible\"\r\n      >\r\n        {{ nodoAprendido ? \"Desm\" : \"M\" }}arcar como aprendido\r\n      </div>\r\n      <template\r\n        v-if=\"\r\n          nodoSeleccionado &&\r\n          nodoSeleccionado.id != esteNodo.id &&\r\n          (usuarioSuperadministrador == true ||\r\n            usuarioAdministradorAtlas == true)\r\n        \"\r\n      >\r\n        <div class=\"seccionMenuCx\">{{ nodoSeleccionado.nombre }}</div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          @click.stop=\"crearVinculo('continuacion', nodoSeleccionado, esteNodo)\"\r\n        >\r\n          Continua aquí\r\n        </div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          @click.stop=\"crearVinculo('continuacion', esteNodo, nodoSeleccionado)\"\r\n        >\r\n          Continua desde aquí\r\n        </div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          v-show=\"esteNodo.vinculos.some((v) => v.idRef == nodoSeleccionado.id)\"\r\n          @click.stop=\"eliminarVinculo(esteNodo, nodoSeleccionado)\"\r\n        >\r\n          Desconectar\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <div\r\n      id=\"nombre\"\r\n      :style=\"[estiloCartelNombre]\"\r\n      ref=\"nombre\"\r\n      :class=\"{\r\n        nombreSeleccionado: seleccionado,\r\n        nombreNodoAprendido:\r\n          nodoAprendido && yo.atlas.configuracion.modo === 'estudiante',\r\n        nombreNodoOutreach:\r\n          !aprendible &&\r\n          !callingPosiciones &&\r\n          yo.atlas.configuracion.modo === 'estudiante',\r\n        nombreNodoAprendible:\r\n          aprendible &&\r\n          !nodoAprendido &&\r\n          yo.atlas.configuracion.modo === 'estudiante',\r\n        nombreNodoExperto:\r\n          usuarioExpertoNodo && yo.atlas.configuracion.modo === 'experto',\r\n        nodoStuck: esteNodo.stuck && callingPosiciones,\r\n        deNodoSeleccionado: seleccionado,\r\n      }\"\r\n    >\r\n      {{ callingPosiciones ? esteNodo.puntaje : esteNodo.nombre }}\r\n    </div>\r\n\r\n    <div\r\n      class=\"cuadritoDescripcionNodo\"\r\n      v-if=\"esteNodo && esteNodo.descripcion\"\r\n      v-show=\"seleccionado && !callingPosiciones && mostrarDescripcion\"\r\n    >\r\n      <div class=\"descripcionNodo\">{{ esteNodo.descripcion }}</div>\r\n      <img\r\n        @click.stop=\"abrirPaginaNodo\"\r\n        src=\"@/assets/iconos/ir.png\"\r\n        alt=\"Ir\"\r\n        title=\"Abrir este nodo\"\r\n        class=\"botonAbrirNodo\"\r\n      />\r\n      <div\r\n        class=\"botonEquis\"\r\n        @click.stop=\"mostrarDescripcion = false\"\r\n        @mousedown.stop=\"\"\r\n        @mouseup.stop=\"\"\r\n        id=\"botonCerrarDescripcion\"\r\n      >\r\n        <div class=\"linea1\"></div>\r\n        <div class=\"linea2\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\n\r\nexport default {\r\n  name: \"NodoConocimiento\",\r\n  data() {\r\n    return {\r\n      arrastrandoNodo: false,\r\n      nombreEditable: false,\r\n      nombreEditandose: false,\r\n\r\n      baseSize: {\r\n        x: 50,\r\n        y: 50,\r\n      },\r\n\r\n      posicion: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n\r\n      estiloNombreBase: {\r\n        minWidth: 20,\r\n        fontSize: 12,\r\n        minHeight: 10,\r\n        padding: 5,\r\n        borderRadius: 4,\r\n      },\r\n      mostrarDescripcion: true,\r\n    };\r\n  },\r\n  props: {\r\n    esteNodo: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    esNodoObjetivo: Boolean,\r\n    esTarget: Boolean,\r\n    yo: Object,\r\n    escondido: Boolean,\r\n    centroVista: Object,\r\n    idNodoMenuCx: String,\r\n    idsNodosAprendidos: Array,\r\n    nodoSeleccionado: Object,\r\n    seleccionado:Boolean,\r\n    usuarioAdministradorAtlas: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    esquinasDiagrama: Object,\r\n    callingPosiciones: Boolean,\r\n    factorZoom: Number,\r\n    configuracionAtlas:Object,\r\n  },\r\n  computed: {\r\n    menuCx() {\r\n      return this.idNodoMenuCx == this.esteNodo.id ? true : false;\r\n    },\r\n    size() {\r\n      let fSize = Object.assign({}, this.baseSize);\r\n      if (this.seleccionado) {\r\n        let baseX = this.baseSize.x;\r\n        let baseY = this.baseSize.y;\r\n        fSize.x = Math.round(baseX * 1.1);\r\n        fSize.y = Math.round(baseY * 1.1);\r\n      }\r\n      return { ...fSize };\r\n    },    \r\n    estiloPosicion() {\r\n      //Posicion ajustada a las esquinas del diagrama:\r\n      const posXAjustada=this.posicion.x-this.esquinasDiagrama.x1;\r\n      const posYAjustada=this.posicion.y-this.esquinasDiagrama.y1;\r\n\r\n      //Posicion absoluta\r\n      const posY = Math.round(\r\n        (posYAjustada - this.size.y / 2) * this.factorZoom\r\n      );\r\n      const posX = Math.round(\r\n        (posXAjustada - this.size.x / 2) * this.factorZoom\r\n      );\r\n\r\n      //Ajustar respecto del centro de la vista\r\n      // posY -= this.centroVista.y;\r\n      // posX -= this.centroVista.x;\r\n      return {\r\n        top: posY + \"px\",\r\n        left: posX + \"px\",\r\n      };\r\n    },\r\n    estiloZeta() {\r\n      let valorZ = 0;\r\n      if (this.arrastrandoNodo || this.seleccionado) {\r\n        valorZ = 10;\r\n      }\r\n      if (this.menuCx) {\r\n        valorZ = 11;\r\n      }\r\n      return {\r\n        zIndex: valorZ,\r\n      };\r\n    },\r\n    estiloSize() {\r\n      return {\r\n        width: this.size.x * this.factorZoom + \"px\",\r\n        height: this.size.y * this.factorZoom + \"px\",\r\n      };\r\n    },\r\n    permisosUsuario: function () {\r\n      return this.$store.state.usuario.permisos;\r\n    },\r\n    aprendible() {\r\n      var idsNecesarios = this.esteNodo.vinculos\r\n        .filter((v) => v.rol == \"target\")\r\n        .map((v) => v.idRef);\r\n      return (\r\n        idsNecesarios.every((id) => this.idsNodosAprendidos.includes(id)) ||\r\n        this.idsNodosAprendidos.includes(this.esteNodo.id) ||\r\n        !this.esteNodo.vinculos.some((v) => v.rol == \"target\")\r\n      );\r\n    },\r\n    fantasmeado() {\r\n      if (\r\n        this.esteNodo.vinculos\r\n          .filter((v) => v.rol == \"target\")\r\n          .some((v) => this.idsNodosAprendidos.includes(v.idRef)) ||\r\n        this.esteNodoAprendido ||\r\n        !this.esteNodo.vinculos.some((v) => v.rol == \"target\")\r\n      ) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    nodoAprendido() {\r\n      return this.idsNodosAprendidos.includes(this.esteNodo.id);\r\n    },\r\n    estiloCartelNombre() {\r\n      return {\r\n        minWidth:\r\n          parseInt(this.estiloNombreBase.minWidth * this.factorZoom) + \"px\",\r\n        fontSize:\r\n          parseInt(this.estiloNombreBase.fontSize * this.factorZoom) + \"px\",\r\n        minHeight:\r\n          parseInt(this.estiloNombreBase.minHeight * this.factorZoom) + \"px\",\r\n        padding:\r\n          parseInt(this.estiloNombreBase.padding * this.factorZoom) + \"px\",\r\n        borderRadius:\r\n          parseInt(this.estiloNombreBase.borderRadius * this.factorZoom) + \"px\",\r\n      };\r\n    },\r\n    usuarioExpertoNodo() {\r\n      if (!this.usuario || !this.usuario.id) return false;\r\n      return this.esteNodo.expertos.includes(this.usuario.id);\r\n    },\r\n    estiloFuerzaCentroMasa(){\r\n      return {\r\n        width: Math.round(this.esteNodo.fuerzaCentroMasa.fuerza*this.factorZoom)+'px',\r\n        height: Math.round(3*this.factorZoom)+\"px\",\r\n        transform: \"rotate(\"+this.esteNodo.fuerzaCentroMasa.direccion+\"rad)\"\r\n        }\r\n    },\r\n    estiloFuerzaColision(){\r\n      return {\r\n        width: Math.round(this.factorZoom*this.esteNodo.fuerzaColision.fuerza)+'px',\r\n        height: Math.round(3*this.factorZoom)+\"px\",\r\n        transform: \"rotate(\"+this.esteNodo.fuerzaColision.direccion+\"rad)\"\r\n        }\r\n    }\r\n  },\r\n  methods: {\r\n    toggleAprendido() {\r\n      var nuevoEstadoAprendido = this.nodoAprendido ? false : true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $nuevoEstadoAprendido: Boolean!) {\r\n              setNodoAtlasAprendidoUsuario(\r\n                idNodo: $idNodo\r\n                nuevoEstadoAprendido: $nuevoEstadoAprendido\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            nuevoEstadoAprendido,\r\n          },\r\n        })\r\n        .then(({ data: { setNodoAtlasAprendidoUsuario } }) => {\r\n          if (setNodoAtlasAprendidoUsuario) {\r\n            this.$emit(\"tengoNuevoValorAprendido\", nuevoEstadoAprendido);\r\n          }\r\n        });\r\n    },\r\n    // setNodoObjetivo(nuevoEstadoObjetivo) {\r\n    //   this.$apollo\r\n    //     .mutate({\r\n    //       mutation: gql`\r\n    //         mutation ($idNodo: ID!, $nuevoEstadoObjetivo: Boolean!) {\r\n    //           setNodoObjetivo(\r\n    //             idNodo: $idNodo\r\n    //             nuevoEstadoObjetivo: $nuevoEstadoObjetivo\r\n    //           )\r\n    //         }\r\n    //       `,\r\n    //       variables: {\r\n    //         idNodo: this.esteNodo.id,\r\n    //         nuevoEstadoObjetivo,\r\n    //       },\r\n    //     })\r\n    //     .then(({ data: { setNodoObjetivo } }) => {\r\n    //       if (setNodoObjetivo) {\r\n    //         this.$emit(\"cambieEstadoObjetivo\", nuevoEstadoObjetivo);\r\n    //       }\r\n    //     });\r\n    // },\r\n    abrirPaginaNodo() {\r\n      if (\r\n        !this.aprendible &&\r\n        !this.usuarioSuperadministrador &&\r\n        this.yo.atlas.configuracion.modo === \"estudiante\"\r\n      )\r\n        return alert(\"¡Aún no puedes estudiar este nodo!\");\r\n      this.$router.push(this.$route.path+\"/nodoConocimiento/\" + this.esteNodo.id);\r\n    },\r\n    copiarId(e) {\r\n      let str = e.target.innerText.trim();\r\n      const el = document.createElement(\"textarea\");\r\n      el.value = str;\r\n      document.body.appendChild(el);\r\n      el.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(el);\r\n    },\r\n    eliminarEsteNodo() {\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministradorAtlas) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.$emit(\"eliminar\", this.esteNodo.id);\r\n    },\r\n    arrastrarNodo(e) {\r\n      if (!this.arrastrandoNodo) {\r\n        return;\r\n      }\r\n      //console.log(`mouse move en ${e.pageX}, ${e.pageY}`);\r\n      let posContenedor = document\r\n        .getElementById(\"contenedorNodos\")\r\n        .getBoundingClientRect();\r\n      let nuevoTop = Math.round(\r\n        (e.clientY - posContenedor.top) / this.factorZoom\r\n      );\r\n      let nuevoLeft = Math.round(\r\n        (e.clientX - posContenedor.left) / this.factorZoom\r\n      );\r\n      this.posicion.y = nuevoTop;\r\n      this.posicion.x = nuevoLeft;\r\n    },\r\n    guardarPosicion() {\r\n      if (!this.arrastrandoNodo) return;\r\n      this.$emit(\"cambioDePosicionManual\", this.esteNodo.id, {\r\n        x: this.posicion.x,\r\n        y: this.posicion.y,\r\n      });\r\n\r\n      this.arrastrandoNodo = false;\r\n    },\r\n    crearVinculo(tipo, nodoFrom, nodoTo) {\r\n      console.log(`Creando vinculo entre ${nodoFrom} y ${nodoTo}`);\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministradorAtlas) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      console.log(\r\n        `creando un vinculo tipo ${tipo} entre ${nodoFrom.nombre} y ${nodoTo.nombre} `\r\n      );\r\n      this.$emit(\"creacionVinculo\", {\r\n        tipo,\r\n        idNodoFrom: nodoFrom.id,\r\n        idNodoTo: nodoTo.id,\r\n      });\r\n    },\r\n    eliminarVinculo(nodoFrom, nodoTo) {\r\n      console.log(`Desconectando`);\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministradorAtlas) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.$emit(\"eliminacionVinculo\", {\r\n        idNodoFrom: nodoFrom.id,\r\n        idNodoTo: nodoTo.id,\r\n      });\r\n    },\r\n    stopProp(e) {\r\n      console.log(`Stopping`);\r\n      e.stopPropagation();\r\n    },\r\n    toggleNodoEnColeccion(idColeccion){\r\n      if(!this.usuario || !this.usuario.id){\r\n        return ;\r\n      }\r\n      this.$apollo.mutate({\r\n        mutation:gql`\r\n          mutation($idNodo:ID!, $idColeccion:ID!, $idUsuario:ID!){\r\n            toggleNodoColeccionNodosAtlasConocimientoUsuario(idNodo: $idNodo, idColeccion:$idColeccion, idUsuario: $idUsuario){\r\n              id\r\n              idsNodos\r\n              nodos{\r\n                id\r\n                nombre\r\n              }\r\n            }\r\n          }\r\n        `,\r\n        variables:{\r\n          idNodo: this.esteNodo.id,\r\n          idColeccion,\r\n          idUsuario: this.usuario.id,\r\n        }\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    esteNodo() {\r\n      this.posicion = { ...this.esteNodo.coords };\r\n    },\r\n    seleccionado(estado) {\r\n      if (estado) {\r\n        this.mostrarDescripcion = true;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.posicion = { ...this.esteNodo.autoCoords };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.iconoNodo {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  pointer-events: none;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n  box-shadow: 2px 2px 2px 2px grey;\r\n  border-radius: 50%;\r\n}\r\n.nodoConocimiento {\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 50%;\r\n  background-size: 100% 100%;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  pointer-events: all;\r\n  background-color: rgba(128, 128, 128, 0.349);\r\n}\r\n#zonaArrastre {\r\n  width: 500px;\r\n  height: 500px;\r\n  position: absolute;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.seleccionado {\r\n  z-index: 10;\r\n}\r\n.fantasmeado {\r\n  opacity: 0.2;\r\n}\r\n.fantasmeado.imgSeleccionado {\r\n  opacity: 0.5;\r\n}\r\n.escondido {\r\n  visibility: hidden;\r\n}\r\n#nombre {\r\n  position: absolute;\r\n  top: 105%;\r\n  text-align: center;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  border-width: 1px;\r\n  border-style: solid;\r\n}\r\n\r\n.nombreNodoOutreach {\r\n  background-color: rgb(127, 190, 192);\r\n  border-color: rgb(53, 110, 112);\r\n  opacity: 0.4;\r\n}\r\n.nombreNodoOutreach:hover {\r\n  opacity: 0.6;\r\n}\r\n.nombreNodoOutreach.deNodoSeleccionado {\r\n  opacity: 0.8;\r\n}\r\n\r\n.nombreNodoAprendible {\r\n  background-color: rgb(221, 236, 91);\r\n  border-color: rgb(189, 120, 16);\r\n}\r\n\r\n.nombreNodoAprendido {\r\n  background-color: rgb(135, 199, 135);\r\n  border-color: rgb(24, 92, 24);\r\n}\r\n\r\n#nombre.nodoStuck {\r\n  background-color: rgb(206, 94, 94);\r\n}\r\n.nombreNodoExperto {\r\n  background-color: rgb(150, 101, 150);\r\n}\r\n#menuContextual {\r\n  position: absolute;\r\n  top: 110%;\r\n  left: 110%;\r\n  min-width: 140px;\r\n  padding: 5px 0px;\r\n  z-index: 10;\r\n  background-color: rgb(177, 177, 159);\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n.botonMenuCx {\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  padding: 3px 6px;\r\n}\r\n.seccionMenuCx {\r\n  font-size: 15px;\r\n  color: rgb(71, 71, 71);\r\n}\r\n.botonMenuCx:hover {\r\n  background-color: gray;\r\n}\r\n.selectorSubseccionMenuCx{\r\n  position: relative;\r\n}\r\n\r\n.subseccionMenuCx{\r\n  position: absolute;\r\n  left: 100%;\r\n  top: 0%;\r\n  display: none;\r\n  background-color: rgb(177, 177, 159);\r\n}\r\n.selectorSubseccionMenuCx:hover>.subseccionMenuCx{\r\n  display: block;\r\n}\r\n.enColeccion{\r\n  background-color: rgb(117, 182, 117);\r\n}\r\n.enColeccion:hover{\r\n    background-color: rgb(136, 168, 136);\r\n\r\n}\r\n.cuadritoDescripcionNodo {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 104%;\r\n  width: 170px;\r\n  transform: translateY(-50%);\r\n  background-color: #ffdbaf;\r\n  border: 1px solid rgb(0, 0, 44);\r\n  border-radius: 10px;\r\n}\r\n\r\n.descripcionNodo {\r\n  font-size: 15px;\r\n  padding: 10px;\r\n  min-height: 30px;\r\n  white-space: pre-wrap;\r\n}\r\n.botonAbrirNodo {\r\n  display: block;\r\n  width: 24px;\r\n  height: 24px;\r\n  cursor: pointer;\r\n  margin: 10px auto;\r\n  border-radius: 50%;\r\n  padding: 10px;\r\n  background-color: rgb(214, 176, 130);\r\n}\r\n.botonAbrirNodo:hover {\r\n  background-color: rgb(190, 145, 88);\r\n}\r\n\r\n.imagenTarget {\r\n  width: 180%;\r\n  position: absolute;\r\n  top: -40%;\r\n  left: -40%;\r\n  z-index: 10;\r\n  opacity: 0.86;\r\n}\r\n.imagenTarget:hover {\r\n  opacity: 0.16;\r\n}\r\n.imagenAprendido {\r\n  position: absolute;\r\n  background-color: rgb(33, 168, 33);\r\n  border-radius: 50%;\r\n}\r\n#botonCerrarDescripcion {\r\n  left: 101%;\r\n  bottom: 101%;\r\n  width: 15px;\r\n  height: 15px;\r\n}\r\n.fuerzaMovimiento{  \r\n  background-color: black;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform-origin: 0% 0%;\r\n  z-index: 200;\r\n}\r\n#fuerzaCentroMasa{\r\n  background-color: blue;\r\n}\r\n#fuerzaColision{\r\n  background-color: red;\r\n}\r\n.flechitaFuerza{\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 100%;\r\n  width: 1px;\r\n  height: 1px;\r\n  border: 5px solid transparent;\r\n  border-left-color: black;\r\n  transform: translate(-50%, -50%);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodoConocimiento.vue?vue&type=template&id=41b7314e&scoped=true&\"\nimport script from \"./NodoConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./NodoConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NodoConocimiento.vue?vue&type=style&index=0&id=41b7314e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41b7314e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"buscadorNodosConocimiento\"}},[_c('img',{class:{ opaco: !_vm.mostrandoInput },attrs:{\"src\":require(\"@/assets/iconos/search.png\"),\"alt\":\"Lupa\",\"title\":\"Buscar nodos de conocimiento\",\"id\":\"imagenLupa\"},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrandoInput = true}}}),_c('transition',{attrs:{\"name\":\"unfold\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.textoBusqueda),expression:\"textoBusqueda\"},{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoInput),expression:\"mostrandoInput\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Buscar\",\"id\":\"inputBuscador\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.textoBusqueda)},on:{\"click\":function($event){$event.stopPropagation();},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.buscarDatabase($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.textoBusqueda=$event.target.value}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.esperandoResultados),expression:\"esperandoResultados\"}],attrs:{\"texto\":\"Buscando\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoLista),expression:\"mostrandoLista\"}],attrs:{\"id\":\"listaResultados\"}},_vm._l((_vm.resultados),function(resultado){return _c('div',{key:resultado.id,staticClass:\"resultado\",on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('nodoSeleccionado', resultado);\n        _vm.mostrandoInput = false;\n        _vm.mostrandoLista = false;}}},[_vm._v(\" \"+_vm._s(resultado.nombre)+\" \")])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\",\"id\":\"iconoLoading\"}}),_c('span',{staticClass:\"textoLoading\",style:([_vm.estiloTexto])},[_vm._v(_vm._s(_vm.texto))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"loading\">\r\n    <img src=\"@/assets/iconos/loading.png\" alt=\"Cargando\" id=\"iconoLoading\" />\r\n    <span :style=\"[estiloTexto]\" class=\"textoLoading\">{{ texto }}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Loading\",\r\n  props: {\r\n    texto: {\r\n      type: String,\r\n      default: \"Cargando...\",\r\n    },\r\n    colorLetra: {\r\n      type: String,\r\n      default: \"black\",\r\n    },\r\n  },\r\n  computed: {\r\n    estiloTexto() {\r\n      return {\r\n        color: this.colorLetra,\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.loading {\r\n  text-align: center;\r\n  pointer-events: none;\r\n  user-select: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-items: center;\r\n  align-items: center;\r\n}\r\n#iconoLoading {\r\n  animation: rotacion 0.9s linear infinite;\r\n  width: 20px;\r\n}\r\n.textoLoading {\r\n  text-align: center;\r\n  font-size: 11px;\r\n  font-style: italic;\r\n}\r\n\r\n@keyframes rotacion {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=504ce92e&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=504ce92e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"504ce92e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"buscadorNodosConocimiento\">\r\n    <img\r\n      src=\"@/assets/iconos/search.png\"\r\n      alt=\"Lupa\"\r\n      title=\"Buscar nodos de conocimiento\"\r\n      id=\"imagenLupa\"\r\n      :class=\"{ opaco: !mostrandoInput }\"\r\n      @click.stop=\"mostrandoInput = true\"\r\n    />\r\n    <transition name=\"unfold\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Buscar\"\r\n        v-model=\"textoBusqueda\"\r\n        id=\"inputBuscador\"\r\n        v-show=\"mostrandoInput\"\r\n        autocomplete=\"off\"\r\n        @click.stop=\"\"\r\n        @keypress.enter=\"buscarDatabase\"\r\n      />\r\n    </transition>\r\n\r\n    <loading texto=\"Buscando\" v-show=\"esperandoResultados\" />\r\n\r\n    <div id=\"listaResultados\" v-show=\"mostrandoLista\">\r\n      <div\r\n        class=\"resultado\"\r\n        :key=\"resultado.id\"\r\n        v-for=\"resultado of resultados\"\r\n        @click.stop=\"\r\n          $emit('nodoSeleccionado', resultado);\r\n          mostrandoInput = false;\r\n          mostrandoLista = false;\r\n        \"\r\n      >\r\n        {{ resultado.nombre }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from '../utilidades/Loading.vue';\r\n// import throttle from \"lodash/throttle\";\r\n// import debounce from \"lodash/debounce\"\r\n\r\n\r\nexport default {\r\n  components: { Loading },\r\n  name: \"BuscadorNodosConocimiento\",\r\n  data() {\r\n    return {\r\n      textoBusqueda: \"\",\r\n      cantidadPalabrasValidas: 0,\r\n      resultados: [],\r\n\r\n      mostrandoInput: false,\r\n      mostrandoLista:false,\r\n\r\n      esperandoResultados:false,\r\n    };\r\n  },\r\n  props: {\r\n    cerrarBusqueda: Number,\r\n  },\r\n  methods: {\r\n    cerrar() {\r\n      this.mostrandoInput = false;\r\n    },\r\n    buscarDatabase() {\r\n      console.log(`******Descargando resultados de búsqueda`);\r\n      this.esperandoResultados=true;\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query($palabrasBuscadas: String!) {\r\n              busquedaAmplia(palabrasBuscadas: $palabrasBuscadas) {\r\n                id\r\n                nombre\r\n                resumen                \r\n                autoCoords{\r\n                  x\r\n                  y\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            palabrasBuscadas: this.textoBusqueda,\r\n          },\r\n          fetchPolicy: \"network-only\",\r\n        })\r\n        .then(({ data: { busquedaAmplia } }) => {\r\n          this.resultados = busquedaAmplia;\r\n          this.esperandoResultados=false;\r\n          this.mostrandoLista=true;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.esperandoResultados=false;\r\n\r\n        });\r\n    },\r\n  },\r\n  watch: {\r\n    textoBusqueda: function () {      \r\n      this.mostrandoLista=false;      \r\n    },\r\n    cerrarBusqueda() {\r\n      this.mostrandoInput = false;\r\n      this.mostrandoLista=false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#inputBuscador {\r\n  font-size: 20px;\r\n  border-radius: 4px;\r\n  width: 280px;\r\n}\r\n\r\n#imagenLupa {\r\n  width: 30px;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  padding: 3px;\r\n  background-color: rgba(128, 128, 128, 0.144);\r\n}\r\n\r\n#imagenLupa:hover {\r\n  background-color: rgb(128, 128, 128);\r\n  opacity: 1;\r\n}\r\n.opaco {\r\n  opacity: 0.5;\r\n}\r\n#listaResultados {\r\n  margin: 2px auto;\r\n  width: 280px;\r\n}\r\n\r\n.resultado {\r\n  padding: 5px 15px;\r\n  font-size: 18px;\r\n  background-color: lightblue;\r\n  cursor: pointer;\r\n}\r\n.resultado:hover {\r\n  background-color: rgb(133, 179, 194);\r\n}\r\n\r\n.unfold-enter {\r\n  width: 0px;\r\n}\r\n.unfold-enter-active {\r\n  transition: width 1s;\r\n}\r\n.unfold-enter-to {\r\n  width: 281px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorNodosConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorNodosConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuscadorNodosConocimiento.vue?vue&type=template&id=eb16d06a&scoped=true&\"\nimport script from \"./BuscadorNodosConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./BuscadorNodosConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuscadorNodosConocimiento.vue?vue&type=style&index=0&id=eb16d06a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb16d06a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:([_vm.offset]),attrs:{\"id\":\"panelConjuntosNodos\"},on:{\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();},\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();},\"touchmove\":function($event){$event.stopPropagation();}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/userNodes.png\"),\"alt\":\"Nodos de usuario\",\"title\":\"Mis nodos\",\"id\":\"grabber\"},on:{\"click\":function($event){$event.stopPropagation();_vm.abierto = !_vm.abierto}}}),_c('div',{attrs:{\"id\":\"barraConjuntos\"}},[_vm._l((_vm.conjuntos),function(conjunto){return _c('div',{key:'selectorConjunto' + conjunto.id,staticClass:\"selectorConjunto\",class:{ seleccionado: conjunto.id === _vm.idConjuntoSeleccionado },on:{\"click\":function($event){return _vm.seleccionarColeccion($event, conjunto.id)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          !_vm.editandoNombreColeccion ||\n          !conjunto.editable ||\n          conjunto.id != _vm.idConjuntoSeleccionado\n        ),expression:\"\\n          !editandoNombreColeccion ||\\n          !conjunto.editable ||\\n          conjunto.id != idConjuntoSeleccionado\\n        \"}],staticClass:\"nombreColeccion\"},[_vm._v(\" \"+_vm._s(conjunto.titulo)+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          conjunto.editable &&\n          conjunto.id === _vm.idConjuntoSeleccionado &&\n          _vm.editandoNombreColeccion\n        ),expression:\"\\n          conjunto.editable &&\\n          conjunto.id === idConjuntoSeleccionado &&\\n          editandoNombreColeccion\\n        \"}],class:{deshabilitado: _vm.enviandoQueryColecciones},attrs:{\"type\":\"text\",\"name\":\"nuevoNombreColeccion\",\"id\":'inputNombreColeccion'+conjunto.id},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoNombreColeccion($event, conjunto.id)},\"blur\":function($event){_vm.editandoNombreColeccion = false}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          !_vm.editandoNombreColeccion &&\n          conjunto.editable &&\n          conjunto.id === _vm.idConjuntoSeleccionado\n        ),expression:\"\\n          !editandoNombreColeccion &&\\n          conjunto.editable &&\\n          conjunto.id === idConjuntoSeleccionado\\n        \"}],staticClass:\"botonEliminarColeccion\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"width\":\"20px\",\"title\":\"Eliminar colección\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarColeccion(conjunto.id)}}})])}),_c('div',{class:{ deshabilitado: _vm.enviandoQueryColecciones },attrs:{\"id\":\"controlesConjuntos\"}},[_c('div',{staticClass:\"botonControlesConjuntos\",on:{\"click\":_vm.crearNuevaColeccion}},[_vm._v(\"Nueva colección\")])])],2),_c('div',{style:([\n      { visibility: _vm.idNodoSeleccionado != null ? 'visible' : 'hidden' } ]),attrs:{\"id\":\"controlesListaNodos\"}},[_c('div',{staticClass:\"controlListaNodos hoverGris\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('centrarEnNodo', _vm.idNodoSeleccionado)}}},[_vm._v(\" Centrar \")]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConjuntoSeleccionado != 1),expression:\"idConjuntoSeleccionado != 1\"}],staticClass:\"controlListaNodos\",class:{ deshabilitado: _vm.enviandoQueryTarget },attrs:{\"src\":require(\"@/assets/iconos/target.png\"),\"alt\":\"Rastrear\",\"title\":\"Rastrear nodo\",\"id\":\"botonRastrearNodo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleNodoTarget(_vm.idNodoSeleccionado)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idNodoSeleccionado),expression:\"idNodoSeleccionado\"}],staticClass:\"botonEliminarNodoColeccion\",class:{deshabilitado: _vm.enviandoQueryNodosSeccion},attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarNodoSeleccionadoSeccionSeleccionada($event)}}})]),(_vm.conjuntoSeleccionado)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.abierto && _vm.conjuntoSeleccionado),expression:\"abierto && conjuntoSeleccionado\"}],key:'listaNodos' + _vm.idConjuntoSeleccionado,attrs:{\"id\":\"listaNodosConjunto\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();_vm.idNodoSeleccionado = null}}},_vm._l((_vm.conjuntoSeleccionado.nodos),function(nodo){return _c('icono-nodo-conocimiento',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.conjuntoSeleccionado),expression:\"conjuntoSeleccionado\"}],key:nodo.id,attrs:{\"esteNodo\":nodo,\"seleccionado\":nodo.id === _vm.idNodoSeleccionado,\"esTarget\":_vm.idNodoTarget === nodo.id},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.idNodoSeleccionado = nodo.id},\"dblclick\":function($event){$event.stopPropagation();return _vm.$emit('centrarEnNodo', nodo.id)}}})}),1):_vm._e(),(_vm.conjuntoSeleccionado)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.conjuntoSeleccionado.nombre === 'nodosConClaseDictada'),expression:\"conjuntoSeleccionado.nombre === 'nodosConClaseDictada'\"}],attrs:{\"id\":\"listaClasesNodo\"}},_vm._l((_vm.clasesDictadasUsuario),function(clase){return _c('div',{key:'infoClase' + clase.id,staticClass:\"infoClase\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('centrarEnNodo', clase.idNodoParent)}}},[_c('img',{staticClass:\"iconoAbrirNodo\",attrs:{\"src\":require(\"@/assets/iconos/nodoConocimientoDefault.png\"),\"alt\":\"Abrir nodo\",\"title\":\"Abrir el nodo de conocimiento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.abrirPaginaNodo(clase.idNodoParent)}}}),_c('div',{staticClass:\"nombreClase\"},[_vm._v(_vm._s(clase.nombre))]),_c('div',{staticClass:\"infoInteresados\"},[_c('div',{staticClass:\"cantidadInteresados\"},[_vm._v(_vm._s(clase.interesados.length))]),_c('img',{staticClass:\"iconoInteresados\",attrs:{\"src\":require(\"@/assets/iconos/raiseHand.png\"),\"alt\":\"Interesados\",\"title\":\"Estudiantes interesados en esta clase\"}})])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoNodoConocimiento\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.esTarget),expression:\"esTarget\"}],staticClass:\"imagenTarget\",attrs:{\"src\":require(\"@/assets/iconos/target.png\"),\"alt\":\"Objetivo\"}}),_c('img',{ref:\"iconoNodo\",staticClass:\"iconoNodo\",attrs:{\"src\":this.serverUrl + '/api/atlas/iconos/' + _vm.esteNodo.id,\"alt\":\"\"}}),_c('div',{ref:\"nombre\",class:{seleccionado: _vm.seleccionado},attrs:{\"id\":\"nombre\"}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.nombre)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"iconoNodoConocimiento\">\r\n    <img\r\n      src=\"@/assets/iconos/target.png\"\r\n      alt=\"Objetivo\"\r\n      v-show=\"esTarget\"\r\n      class=\"imagenTarget\"\r\n    />\r\n    <img\r\n      :src=\"this.serverUrl + '/api/atlas/iconos/' + esteNodo.id\"\r\n      alt=\"\"\r\n      class=\"iconoNodo\"\r\n      ref=\"iconoNodo\"\r\n    />\r\n    <div id=\"nombre\" ref=\"nombre\" :class=\"{seleccionado}\">\r\n      {{ esteNodo.nombre }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"IconoNodoConocimiento\",\r\n  data() {\r\n    return {};\r\n  },\r\n  props:{\r\n      esteNodo:Object,\r\n      esTarget:Boolean,\r\n      seleccionado:Boolean\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.iconoNodoConocimiento {\r\n  width: 30px;\r\n  min-width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background-size: 100% 100%;\r\n  cursor: pointer;  \r\n  position: relative;\r\n  pointer-events: all;\r\n  background-color: rgba(128, 128, 128, 0.349);\r\n  user-select: none;\r\n}\r\n.iconoNodo {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  pointer-events: none;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n  box-shadow: 2px 2px 2px 2px grey;\r\n  border-radius: 50%;\r\n  user-select: none;\r\n}\r\n\r\n#nombre {\r\n  font-size: 11px;\r\n  position: absolute;\r\n  top: 105%;\r\n  min-height: 10px;\r\n  min-width: 20px;\r\n  max-width: 280%;\r\n  text-align: center;\r\n  /* width: 160%; */\r\n  padding: 5px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  border: 1px solid rgb(5, 102, 109);\r\n  border-radius: 3px;\r\n}\r\n#nombre:not(.seleccionado){\r\n  background-color: rgba(173, 216, 230, 0.719);\r\n\r\n}\r\n#nombre.seleccionado{\r\n  background-color: rgb(108, 179, 202);\r\n}\r\n#menuContextual {\r\n  position: absolute;\r\n  top: 110%;\r\n  left: 110%;\r\n  min-width: 140px;\r\n  padding: 5px;\r\n  z-index: 10;\r\n  background-color: rgb(177, 177, 159);\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n.botonMenuCx {\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n.seccionMenuCx {\r\n  font-size: 15px;\r\n  color: rgb(71, 71, 71);\r\n}\r\n.botonMenuCx:hover {\r\n  background-color: gray;\r\n}\r\n\r\n.imagenTarget{\r\n  width: 180%;\r\n  position:absolute;\r\n  top: -40%;\r\n  left: -40%;\r\n  z-index: 10;\r\n  opacity: 0.86;\r\n\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoNodoConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoNodoConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoNodoConocimiento.vue?vue&type=template&id=569edba3&scoped=true&\"\nimport script from \"./IconoNodoConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoNodoConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoNodoConocimiento.vue?vue&type=style&index=0&id=569edba3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"569edba3\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    id=\"panelConjuntosNodos\"\r\n    :style=\"[offset]\"\r\n    @mouseup.left.stop=\"\"\r\n    @mousedown.left.stop=\"\"\r\n    @touchmove.stop=\"\"\r\n  >\r\n    <img\r\n      src=\"@/assets/iconos/userNodes.png\"\r\n      alt=\"Nodos de usuario\"\r\n      title=\"Mis nodos\"\r\n      id=\"grabber\"\r\n      @click.stop=\"abierto = !abierto\"\r\n    />\r\n    <div id=\"barraConjuntos\">\r\n      <div\r\n        class=\"selectorConjunto\"      \r\n        :class=\"{ seleccionado: conjunto.id === idConjuntoSeleccionado }\"\r\n        @click=\"seleccionarColeccion($event, conjunto.id)\"\r\n        v-for=\"conjunto of conjuntos\"\r\n        :key=\"'selectorConjunto' + conjunto.id\"\r\n      >\r\n        <div\r\n          class=\"nombreColeccion\"\r\n          v-show=\"\r\n            !editandoNombreColeccion ||\r\n            !conjunto.editable ||\r\n            conjunto.id != idConjuntoSeleccionado\r\n          \"\r\n        >\r\n          {{ conjunto.titulo }}\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          name=\"nuevoNombreColeccion\"\r\n          :id=\"'inputNombreColeccion'+conjunto.id\"\r\n          v-show=\"\r\n            conjunto.editable &&\r\n            conjunto.id === idConjuntoSeleccionado &&\r\n            editandoNombreColeccion\r\n          \"\r\n          :class=\"{deshabilitado: enviandoQueryColecciones}\"\r\n          @keypress.enter=\"guardarNuevoNombreColeccion($event, conjunto.id)\"\r\n          @blur=\"editandoNombreColeccion = false\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/delete.png\"\r\n          alt=\"Eliminar\"\r\n          width=\"20px\"\r\n          title=\"Eliminar colección\"\r\n          v-show=\"\r\n            !editandoNombreColeccion &&\r\n            conjunto.editable &&\r\n            conjunto.id === idConjuntoSeleccionado\r\n          \"\r\n          class=\"botonEliminarColeccion\"\r\n          @click.stop=\"eliminarColeccion(conjunto.id)\"\r\n        />\r\n      </div>\r\n      <div\r\n        id=\"controlesConjuntos\"\r\n        :class=\"{ deshabilitado: enviandoQueryColecciones }\"        \r\n      >\r\n        <div @click=\"crearNuevaColeccion\" class=\"botonControlesConjuntos\">Nueva colección</div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      id=\"controlesListaNodos\"\r\n      :style=\"[\r\n        { visibility: idNodoSeleccionado != null ? 'visible' : 'hidden' },\r\n      ]\"\r\n    >\r\n      <div\r\n        class=\"controlListaNodos hoverGris\"\r\n        @click.stop=\"$emit('centrarEnNodo', idNodoSeleccionado)\"\r\n      >\r\n        Centrar\r\n      </div>\r\n      <img\r\n        src=\"@/assets/iconos/target.png\"\r\n        alt=\"Rastrear\"\r\n        title=\"Rastrear nodo\"\r\n        class=\"controlListaNodos\"\r\n        :class=\"{ deshabilitado: enviandoQueryTarget }\"\r\n        id=\"botonRastrearNodo\"\r\n        v-show=\"idConjuntoSeleccionado != 1\"\r\n        @click.stop=\"toggleNodoTarget(idNodoSeleccionado)\"\r\n      />\r\n      <img\r\n        src=\"@/assets/iconos/delete.png\"\r\n        alt=\"Eliminar\"\r\n        :class=\"{deshabilitado: enviandoQueryNodosSeccion}\"\r\n        v-show=\"idNodoSeleccionado\"\r\n        class=\"botonEliminarNodoColeccion\"\r\n        @click.stop=\"eliminarNodoSeleccionadoSeccionSeleccionada\"\r\n      />\r\n    </div>\r\n    <div\r\n      id=\"listaNodosConjunto\"\r\n      v-if=\"conjuntoSeleccionado\"\r\n      v-show=\"abierto && conjuntoSeleccionado\"\r\n      :key=\"'listaNodos' + idConjuntoSeleccionado\"\r\n      @click.self.stop=\"idNodoSeleccionado = null\"\r\n    >\r\n      <icono-nodo-conocimiento\r\n        :esteNodo=\"nodo\"\r\n        v-for=\"nodo of conjuntoSeleccionado.nodos\"\r\n        v-show=\"conjuntoSeleccionado\"\r\n        :key=\"nodo.id\"\r\n        :seleccionado=\"nodo.id === idNodoSeleccionado\"\r\n        :esTarget=\"idNodoTarget === nodo.id\"\r\n        @click.native.stop=\"idNodoSeleccionado = nodo.id\"\r\n        @dblclick.native.stop=\"$emit('centrarEnNodo', nodo.id)\"\r\n      />\r\n    </div>\r\n    <div\r\n      id=\"listaClasesNodo\"\r\n      v-if=\"conjuntoSeleccionado\"\r\n      v-show=\"conjuntoSeleccionado.nombre === 'nodosConClaseDictada'\"\r\n    >\r\n      <div\r\n        class=\"infoClase\"\r\n        v-for=\"clase of clasesDictadasUsuario\"\r\n        :key=\"'infoClase' + clase.id\"\r\n        @click.stop=\"$emit('centrarEnNodo', clase.idNodoParent)\"\r\n      >\r\n        <img\r\n          src=\"@/assets/iconos/nodoConocimientoDefault.png\"\r\n          alt=\"Abrir nodo\"\r\n          title=\"Abrir el nodo de conocimiento\"\r\n          @click.stop=\"abrirPaginaNodo(clase.idNodoParent)\"\r\n          class=\"iconoAbrirNodo\"\r\n        />\r\n        <div class=\"nombreClase\">{{ clase.nombre }}</div>\r\n        <div class=\"infoInteresados\">\r\n          <div class=\"cantidadInteresados\">{{ clase.interesados.length }}</div>\r\n          <img\r\n            src=\"@/assets/iconos/raiseHand.png\"\r\n            alt=\"Interesados\"\r\n            class=\"iconoInteresados\"\r\n            title=\"Estudiantes interesados en esta clase\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IconoNodoConocimiento from \"./IconoNodoConocimiento.vue\";\r\nimport gql from \"graphql-tag\";\r\n\r\nconst charProhibidosNombreColeccion = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\r\n\r\nexport default {\r\n  components: { IconoNodoConocimiento },\r\n  name: \"PanelConjuntosNodos\",\r\n  props: {\r\n    yo: Object,\r\n    todosNodos: Array,\r\n    idNodoTarget: String,\r\n  },\r\n  data() {\r\n    return {\r\n      abierto: false,\r\n      idConjuntoSeleccionado: 0,\r\n      editandoNombreColeccion: false,\r\n\r\n      idNodoSeleccionado: null,\r\n\r\n      enviandoQueryTarget: false,\r\n      enviandoQueryColecciones: false,\r\n      enviandoQueryNodosSeccion: false,\r\n    };\r\n  },\r\n  methods: {\r\n    toggleNodoTarget(idNodo) {\r\n      if (!idNodo) return;\r\n      if (this.idNodoTarget == idNodo) {\r\n        this.nulificarNodoTarget();\r\n        return;\r\n      }\r\n\r\n      this.enviandoQueryTarget = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!) {\r\n              setNodoAtlasTarget(idNodo: $idNodo)\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo,\r\n          },\r\n        })\r\n        .then(({ data: { setNodoAtlasTarget } }) => {\r\n          this.enviandoQueryTarget = false;\r\n\r\n          if (setNodoAtlasTarget) {\r\n            this.$emit(\"targetSeleccionado\", idNodo);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryTarget = false;\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n    nulificarNodoTarget() {\r\n      this.enviandoQueryTarget = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation {\r\n              nulificarNodoTargetUsuarioAtlas\r\n            }\r\n          `,\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryTarget = false;\r\n          this.$emit(\"targetSeleccionado\", null);\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryTarget = false;\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n    abrirPaginaNodo(idNodo) {\r\n      if (!idNodo) return;\r\n      this.$router.push(\"/nodoConocimiento/\" + idNodo);\r\n    },\r\n    crearNuevaColeccion() {\r\n      this.enviandoQueryColecciones = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation {\r\n              crearColeccionNodosAtlasConocimientoUsuario {\r\n                id\r\n                atlas {\r\n                  colecciones {\r\n                    id\r\n                    nombre\r\n                    idsNodos\r\n                    nodos {\r\n                      id\r\n                      nombre\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryColecciones = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoQueryColecciones = false;\r\n        });\r\n    },\r\n    seleccionarColeccion(e, idColeccion) {\r\n      if (this.idConjuntoSeleccionado === idColeccion) {\r\n        const nombreColeccion=this.conjuntos.find(c=>c.id===idColeccion).nombre;\r\n        console.log(`Seting value del input a ${nombreColeccion}`);\r\n        this.editandoNombreColeccion = true;\r\n        document.getElementById('inputNombreColeccion'+idColeccion).value=nombreColeccion;\r\n\r\n      } else {\r\n        this.editandoNombreColeccion = false;\r\n      }\r\n      this.idConjuntoSeleccionado = idColeccion;\r\n      this.idNodoSeleccionado = null;\r\n    },\r\n    guardarNuevoNombreColeccion(e, idColeccion) {\r\n      var nuevoNombre = e.target.value;\r\n      console.log(\r\n        `seting nombre de coleccion ${idColeccion} con value: ${nuevoNombre}`\r\n      );\r\n      if (charProhibidosNombreColeccion.test(nuevoNombre)) {\r\n        alert(\"¡El nombre contenía caracteres ilegales!\");\r\n        return true;\r\n      }\r\n      this.enviandoQueryColecciones = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idColeccion: ID!, $nuevoNombre: String!) {\r\n              setNombreColeccionNodosAtlasConocimientoUsuario(\r\n                idColeccion: $idColeccion\r\n                nuevoNombre: $nuevoNombre\r\n              ) {\r\n                id\r\n                atlas {\r\n                  colecciones {\r\n                    id\r\n                    nombre\r\n                    idsNodos\r\n                    nodos {\r\n                      id\r\n                      nombre\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idColeccion,\r\n            nuevoNombre,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryColecciones = false;\r\n          this.editandoNombreColeccion = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoQueryColecciones = false;\r\n        });\r\n    },\r\n    eliminarColeccion(idColeccion) {\r\n      if (\r\n        !confirm(\r\n          \"Confirmar eliminación de colección? (Esta acción no se puede deshacer)\"\r\n        )\r\n      )\r\n        return;\r\n      this.idConjuntoSeleccionado = null;\r\n      this.enviandoQueryColecciones = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idColeccion: ID!) {\r\n              eliminarColeccionNodosAtlasConocimientoUsuario(\r\n                idColeccion: $idColeccion\r\n              ) {\r\n                id\r\n                atlas {\r\n                  colecciones {\r\n                    id\r\n                    idsNodos\r\n                    nodos {\r\n                      id\r\n                      nombre\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idColeccion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryColecciones = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoQueryColecciones = false;\r\n        });\r\n    },\r\n    eliminarNodoSeleccionadoSeccionSeleccionada() {\r\n\r\n      if(!this.idConjuntoSeleccionado || !this.idNodoSeleccionado)return\r\n\r\n      this.enviandoQueryNodosSeccion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idColeccion: ID!, $idNodo: ID!) {\r\n              removeNodoColeccionNodosAtlasConocimientoUsuario(\r\n                idColeccion: $idColeccion\r\n                idNodo: $idNodo\r\n              ) {\r\n                id\r\n                idsNodos\r\n                nodos {\r\n                  id\r\n                  nombre\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables:{\r\n            idColeccion:this.idConjuntoSeleccionado,\r\n            idNodo:this.idNodoSeleccionado\r\n          }\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryNodosSeccion = false;\r\n          this.idNodoSeleccionado=null;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoQueryNodosSeccion = false;\r\n        });\r\n    },    \r\n  },\r\n  computed: {\r\n    offset() {\r\n      if (this.abierto) {\r\n        return {\r\n          right: \"0px\",\r\n        };\r\n      }\r\n      return {\r\n        left: \"100%\",\r\n      };\r\n    },\r\n    idsNodosObjetivos() {\r\n      if (!this.yo || !this.yo.atlas || !this.yo.atlas.datosNodos) {\r\n        return [];\r\n      }\r\n      return this.yo.atlas.datosNodos\r\n        .filter((n) => n.objetivo == true)\r\n        .map((n) => n.idNodo);\r\n    },\r\n    nodosObjetivo() {\r\n      if (!this.yo) return [];\r\n\r\n      return this.todosNodos.filter((n) =>\r\n        this.idsNodosObjetivos.includes(n.id)\r\n      );\r\n    },\r\n    nodosClasesDictadasUsuario() {\r\n      if (!this.usuario || !this.usuario.id) return [];\r\n      return this.todosNodos.filter((n) =>\r\n        n.clases.some((c) => c.idExperto === this.usuario.id)\r\n      );\r\n    },\r\n    clasesDictadasUsuario() {\r\n      if (!this.usuario || !this.usuario.id) return;\r\n      var clasesDictadas = [];\r\n      this.nodosClasesDictadasUsuario.forEach((nodo) => {        \r\n        clasesDictadas = clasesDictadas.concat(\r\n          nodo.clases\r\n            .filter((c) => c.idExperto === this.usuario.id)\r\n            .map((c) => {\r\n              return {\r\n                ...c,\r\n                idNodoParent: nodo.id,\r\n              };\r\n            })\r\n        );\r\n      });\r\n      return clasesDictadas;\r\n    },\r\n    conjuntos() {\r\n      if(this.yo.atlas.configuracion.modo==='experto'){\r\n        return this.conjuntosUsuario.concat([{\r\n          nombre: \"nodosConClaseDictada\",\r\n          titulo: \"Mis clases\",\r\n          id: 1,\r\n          nodos: [],\r\n          modo: \"experto\",\r\n        }])\r\n      }\r\n      return this.conjuntosUsuario\r\n    },\r\n    conjuntoSeleccionado() {\r\n      if (this.idConjuntoSeleccionado === null) return null;\r\n      return this.conjuntos.find((c) => c.id === this.idConjuntoSeleccionado);\r\n    },\r\n    nodoSeleccionado() {\r\n      if (!this.idNodoSeleccionado) return null;\r\n      return this.todosNodos.find((n) => n.id === this.idNodoSeleccionado);\r\n    },\r\n    conjuntosUsuario() {\r\n      if (!this.yo || !this.yo.atlas || !this.yo.atlas.colecciones) {\r\n        return [];\r\n      }\r\n\r\n      var nuevoColecciones=JSON.parse(JSON.stringify(this.yo.atlas.colecciones));\r\n\r\n      nuevoColecciones.forEach((c) => {\r\n        c.titulo = c.nombre;\r\n        c.modo = \"estudiante\";\r\n        c.editable = true;\r\n        c.editandoNombre = false;\r\n      });\r\n\r\n      return nuevoColecciones;\r\n    },\r\n  },\r\n  watch: {\r\n    abierto() {\r\n      this.idNodoSeleccionado = null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#panelConjuntosNodos {\r\n  position: absolute;\r\n  top: 50px;\r\n  box-shadow: 2px 2px 2px 2px rgb(190, 190, 190);\r\n  min-width: 100px;\r\n  min-height: 100px;\r\n  max-height: 80%;\r\n  background-color: whitesmoke;\r\n  width: min(80%, 650px);\r\n}\r\n#grabber {\r\n  width: 30px;\r\n  height: 30px;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 0%;\r\n  right: 100%;\r\n}\r\n#barraConjuntos {\r\n  display: flex;\r\n  width: 100%;\r\n  overflow-x: scroll;\r\n}\r\n.selectorConjunto {\r\n  cursor: pointer;\r\n  background-color: rgba(95, 158, 160, 0.637);\r\n  padding: 3px 5px;\r\n  font-style: italic;\r\n  display: flex;\r\n}\r\n.selectorConjunto.seleccionado {\r\n  background-color: cadetblue;\r\n}\r\n.botonEliminarColeccion {\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  margin-left: 10px;\r\n  width:20px;\r\n  height:20px;\r\n}\r\n.botonEliminarColeccion:hover {\r\n  background-color: rgb(219, 63, 63);\r\n}\r\n#controlesConjuntos {\r\n  margin-left: auto;\r\n}\r\n.botonControlesConjuntos {\r\n  font-size: 14px;\r\n  color: gray;\r\n  cursor: pointer;\r\n}\r\n.botonControlesConjuntos:hover {\r\n  background-color: rgba(128, 128, 128, 0.527);\r\n}\r\n#controlesListaNodos {\r\n  display: flex;\r\n  width: 100%;\r\n  margin: 20px auto;\r\n}\r\n.controlListaNodos {\r\n  padding: 3px 5px;\r\n  font-size: 12px;\r\n  color: gray;\r\n  cursor: pointer;\r\n}\r\n#botonRastrearNodo {\r\n  width: 20px;\r\n  min-width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n}\r\n#botonRastrearNodo:hover {\r\n  background-color: rgba(95, 158, 160, 0.658);\r\n}\r\n\r\n.botonEliminarNodoColeccion {\r\n  width: 20px;\r\n  min-width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  align-self: center;\r\n  border-radius: 50%;\r\n  margin-left: 10px;\r\n}\r\n.botonEliminarNodoColeccion:hover {\r\n  background-color: rgb(236, 68, 68);\r\n}\r\n\r\n#listaNodosConjunto {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  overflow-y: scroll;\r\n  max-height: 55vh;\r\n  padding-top: 10px;\r\n}\r\n.iconoNodoConocimiento {\r\n  margin: 0px 40px;\r\n  margin-bottom: 90px;\r\n}\r\n#listaClasesNodo {\r\n  width: 100%;\r\n}\r\n.infoClase {\r\n  display: flex;\r\n  min-height: 40px;\r\n  padding: 2px 5px;\r\n}\r\n.infoClase:hover {\r\n  background-color: rgba(95, 158, 160, 0.452);\r\n}\r\n.iconoAbrirNodo {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  margin-right: 10px;\r\n}\r\n.infoInteresados {\r\n  margin-left: auto;\r\n  position: relative;\r\n}\r\n.cantidadInteresados {\r\n  position: absolute;\r\n  top: 25%;\r\n  left: 65%;\r\n  transform: translate(-50%, -50%);\r\n  font-size: 10px;\r\n}\r\n.iconoInteresados {\r\n  width: 27px;\r\n  height: 27px;\r\n  cursor: pointer;\r\n  padding: 2px;\r\n  border-radius: 50%;\r\n  border: 1px solid chocolate;\r\n  background-color: rgba(210, 105, 30, 0.438);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelConjuntosNodos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelConjuntosNodos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PanelConjuntosNodos.vue?vue&type=template&id=db15a6ce&scoped=true&\"\nimport script from \"./PanelConjuntosNodos.vue?vue&type=script&lang=js&\"\nexport * from \"./PanelConjuntosNodos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PanelConjuntosNodos.vue?vue&type=style&index=0&id=db15a6ce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"db15a6ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:([_vm.offset]),attrs:{\"id\":\"panelConfiguracionAtlas\"},on:{\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();},\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/settings.png\"),\"alt\":\"Configuración\",\"title\":\"Configuración\",\"id\":\"grabber\"},on:{\"click\":function($event){$event.stopPropagation();_vm.abierto = !_vm.abierto}}}),_c('div',{attrs:{\"id\":\"configuracionesGenerales\"}},[_c('div',{staticClass:\"configuracionGeneral\"},[_c('div',{staticClass:\"labelConfiguracion\"},[_vm._v(\"Modo\")]),_c('img',{staticClass:\"iconoModo\",class:{ activo: _vm.yo.atlas.configuracion.modo === 'estudiante', deshabilitado:_vm.enviandoQueryModo },attrs:{\"src\":require(\"@/assets/iconos/estudiante.png\"),\"alt\":\"Estudiante\",\"title\":\"Cambiar a modo estudiante\"},on:{\"click\":function($event){return _vm.setModo('estudiante')}}}),_c('img',{staticClass:\"iconoModo\",class:{ activo: _vm.yo.atlas.configuracion.modo === 'experto', deshabilitado:_vm.enviandoQueryModo },attrs:{\"src\":require(\"@/assets/iconos/clase.png\"),\"alt\":\"Experto\",\"title\":\"Cambiar a modo experto\"},on:{\"click\":function($event){return _vm.setModo('experto')}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    id=\"panelConfiguracionAtlas\"\r\n    @mouseup.left.stop=\"\"\r\n    @mousedown.left.stop=\"\"\r\n    :style=\"[offset]\"\r\n  >\r\n    <img\r\n      src=\"@/assets/iconos/settings.png\"\r\n      alt=\"Configuración\"\r\n      title=\"Configuración\"\r\n      id=\"grabber\"\r\n      @click.stop=\"abierto = !abierto\"\r\n    />\r\n\r\n    <div id=\"configuracionesGenerales\">\r\n      <div class=\"configuracionGeneral\">\r\n        <div class=\"labelConfiguracion\">Modo</div>\r\n        <img\r\n          src=\"@/assets/iconos/estudiante.png\"\r\n          class=\"iconoModo\"\r\n          alt=\"Estudiante\"\r\n          title=\"Cambiar a modo estudiante\"\r\n          :class=\"{ activo: yo.atlas.configuracion.modo === 'estudiante', deshabilitado:enviandoQueryModo }\"\r\n          @click=\"setModo('estudiante')\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/clase.png\"\r\n          class=\"iconoModo\"\r\n          alt=\"Experto\"\r\n          title=\"Cambiar a modo experto\"\r\n          :class=\"{ activo: yo.atlas.configuracion.modo === 'experto', deshabilitado:enviandoQueryModo }\"\r\n          @click=\"setModo('experto')\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nexport default {\r\n  name: \"PanelConfiguracionAtlas\",\r\n  props: {\r\n    yo: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      abierto: false,\r\n      enviandoQueryModo: false,\r\n    };\r\n  },\r\n  computed: {\r\n    offset() {\r\n      if (this.abierto) {\r\n        return {\r\n          right: \"0px\",\r\n        };\r\n      }\r\n      return {\r\n        left: \"100%\",\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    setModo(modo) {\r\n      if (!this.usuario || !this.usuario.id) return;\r\n      this.enviandoQueryModo = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idUsuario: ID!, $nuevoModo: String!) {\r\n              setModoUsuarioAtlas(idUsuario: $idUsuario, nuevoModo: $nuevoModo){\r\n                  id\r\n                  atlas{\r\n                      configuracion{\r\n                          modo\r\n                      }                    \r\n                  }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idUsuario: this.usuario.id,\r\n            nuevoModo: modo,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryModo = false;\r\n          \r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryModo = false;\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#panelConfiguracionAtlas {\r\n  position: absolute;\r\n  top: 90px;\r\n  box-shadow: 2px 2px 2px 2px rgb(190, 190, 190);\r\n  min-width: 100px;\r\n  min-height: 100px;\r\n  max-height: 80%;\r\n  background-color: whitesmoke;\r\n  width: min(80%, 350px);\r\n}\r\n#grabber {\r\n  width: 30px;\r\n  height: 30px;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 100%;\r\n}\r\n.iconoModo {\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  cursor: pointer;\r\n  opacity: 0.6;\r\n}\r\n\r\n.iconoModo.activo {\r\n  opacity: 1;\r\n  pointer-events: none;\r\n  background-color: cadetblue;\r\n}\r\n\r\n.labelConfiguracion {\r\n  margin-right: 15px;\r\n}\r\n\r\n.configuracionGeneral {\r\n  padding: 5px 10px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelConfiguracionAtlas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelConfiguracionAtlas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PanelConfiguracionAtlas.vue?vue&type=template&id=5c5d6168&scoped=true&\"\nimport script from \"./PanelConfiguracionAtlas.vue?vue&type=script&lang=js&\"\nexport * from \"./PanelConfiguracionAtlas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PanelConfiguracionAtlas.vue?vue&type=style&index=0&id=5c5d6168&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c5d6168\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nodoRender),expression:\"nodoRender\"}],staticClass:\"enlacesNodoConocimiento\",style:([_vm.estiloPosicion])},[_c('transition-group',{attrs:{\"tag\":\"div\"}},_vm._l((_vm.vinculosGrises),function(vinculo){return _c('div',{key:vinculo.id,staticClass:\"vinculo vinculoGris\",style:([vinculo.estilo, _vm.altoVinculos])},[_c('div',{staticClass:\"flechaVinculo\",style:([_vm.sizeFlecha])})])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.callingPosiciones),expression:\"callingPosiciones\"}],staticClass:\"fuerza\",style:([_vm.estiloFuerzaColision, { opacity: _vm.nodoSeleccionado ? 1 : 0.3 }]),attrs:{\"id\":\"fuerzaColision\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.callingPosiciones),expression:\"callingPosiciones\"}],staticClass:\"fuerza\",style:([_vm.estiloFuerzaCentroMasa, { opacity: _vm.nodoSeleccionado ? 1 : 0.3 }]),attrs:{\"id\":\"fuerzaCentroMasa\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"enlacesNodoConocimiento\"\r\n    v-show=\"nodoRender\"\r\n    :style=\"[estiloPosicion]\"\r\n  >\r\n    <transition-group tag=\"div\">\r\n      <div\r\n        class=\"vinculo vinculoGris\"\r\n        v-for=\"vinculo of vinculosGrises\"\r\n        :key=\"vinculo.id\"\r\n        :style=\"[vinculo.estilo, altoVinculos]\"\r\n      >\r\n        <div class=\"flechaVinculo\" :style=\"[sizeFlecha]\"></div>\r\n      </div>\r\n    </transition-group>\r\n    <div\r\n      class=\"fuerza\"\r\n      v-show=\"callingPosiciones\"\r\n      :style=\"[estiloFuerzaColision, { opacity: nodoSeleccionado ? 1 : 0.3 }]\"\r\n      id=\"fuerzaColision\"\r\n    ></div>\r\n    <div\r\n      class=\"fuerza\"\r\n      v-show=\"callingPosiciones\"\r\n      :style=\"[estiloFuerzaCentroMasa, { opacity: nodoSeleccionado ? 1 : 0.3 }]\"\r\n      id=\"fuerzaCentroMasa\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"EnlacesNodoConocimiento\",\r\n  props: {\r\n    yo: Object,\r\n    idNodoSeleccionado: String,\r\n    esteNodo: Object,\r\n    todosNodos: Array,\r\n    factorZoom: Number,\r\n    callingPosiciones: Boolean,\r\n    nodoSeleccionado: Object,\r\n    childSeleccionado: Boolean,\r\n    idsTodosNodosRender: Array,\r\n    esquinasDiagrama: Object,\r\n    transicionarPosicionNodos: Boolean,\r\n    redibujarEnlaces: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      esquinasSeleccionado: {\r\n        x1: 0,\r\n        x2: 0,\r\n        y1: 0,\r\n        y2: 0,\r\n      },\r\n      posicionSeleccionado: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      factorFuerza: 15,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    continuacionDeSeleccionado() {\r\n      if (!this.nodoSeleccionado) return false;\r\n      if (this.nodoSeleccionado.vinculos.some(v=>v.idRef === this.esteNodo.id)) return true;\r\n      return false;\r\n    },\r\n    estiloPosicion() {\r\n\r\n      const posXAjustada=this.esteNodo.autoCoords.x-this.esquinasDiagrama.x1;\r\n      const posYAjustada=this.esteNodo.autoCoords.y-this.esquinasDiagrama.y1;\r\n      return {\r\n        left: posXAjustada * this.factorZoom + \"px\",\r\n        top: posYAjustada * this.factorZoom + \"px\",\r\n      };\r\n    },\r\n    vinculosGrises() {\r\n      var vGrises = JSON.parse(\r\n        JSON.stringify(\r\n          this.esteNodo.vinculos.filter((v) => v.rol==='target' && this.idsTodosNodosRender.includes(v.idRef))\r\n        )\r\n      );\r\n\r\n      vGrises.forEach((v) => {\r\n        const coordsFrom = this.todosNodos.find((n) => n.id === v.idRef).coords;\r\n        const paralelas = {\r\n          x: coordsFrom.x - this.posNodo.x,\r\n          y: coordsFrom.y - this.posNodo.y,\r\n        };\r\n        const angulo = Math.PI + Math.atan2(paralelas.y, paralelas.x);\r\n        const modulo = Math.hypot(paralelas.x, paralelas.y);\r\n        const vSeleccionado = this.idNodoSeleccionado === v.idRef;\r\n\r\n        v.estilo = {\r\n          transform: \"rotate(\" + angulo + \"rad)\",\r\n          top: Math.round((paralelas.y - 1) * this.factorZoom) + \"px\",\r\n          left: Math.round(paralelas.x * this.factorZoom) + \"px\",\r\n          width: Math.round(modulo * this.factorZoom) + \"px\",\r\n          backgroundColor: this.seleccionado\r\n            ? \"#ef7229\"\r\n            : vSeleccionado &&\r\n              (this.continuacionDeSeleccionado )\r\n            ? \"var(--atlasParent)\"\r\n            : \"black\",\r\n          opacity:\r\n            this.seleccionado ||\r\n            (vSeleccionado &&\r\n            this.continuacionDeSeleccionado )\r\n              ? 1\r\n              : !this.nodoSeleccionado\r\n              ? 0.3\r\n              : 0.05,\r\n          borderLeftColor: this.seleccionado\r\n            ? \"#ef7229\"\r\n            : vSeleccionado &&\r\n              (this.continuacionDeSeleccionado)\r\n            ? \"var(--atlasParent)\"\r\n            : \"black\",\r\n        };\r\n      });\r\n\r\n      return vGrises;\r\n    },\r\n\r\n    estiloFuerzaColision() {\r\n      // var paralelas={\r\n      //   x: this.esteNodo.fuerzaColision.fuerza*Math.cos(this.esteNodo.fuerzaColision.direccion),\r\n      //   y: this.esteNodo.fuerzaColision.fuerza*Math.sin(this.esteNodo.fuerzaColision.direccion),\r\n      // }\r\n      return {\r\n        transform: \"rotate(\" + this.esteNodo.fuerzaColision.direccion + \"rad)\",\r\n        // top: Math.round((paralelas.y - 1) * this.factorZoom) + \"px\",\r\n        // left: Math.round(paralelas.x * this.factorZoom) + \"px\",\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n        width:\r\n          Math.ceil(\r\n            this.esteNodo.fuerzaColision.fuerza *\r\n              this.factorFuerza *\r\n              this.factorZoom\r\n          ) + \"px\",\r\n      };\r\n    },\r\n    estiloFuerzaCentroMasa() {\r\n      // var paralelas={\r\n      //   x: this.esteNodo.fuerzaCentroMasa.fuerza*Math.cos(this.esteNodo.fuerzaCentroMasa.direccion),\r\n      //   y: this.esteNodo.fuerzaCentroMasa.fuerza*Math.sin(this.esteNodo.fuerzaCentroMasa.direccion),\r\n      // }\r\n      return {\r\n        transform:\r\n          \"rotate(\" + this.esteNodo.fuerzaCentroMasa.direccion + \"rad)\",\r\n        // top: Math.round((paralelas.y - 1) * this.factorZoom) + \"px\",\r\n        // left: Math.round(paralelas.x * this.factorZoom) + \"px\",\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n        width:\r\n          Math.round(\r\n            this.esteNodo.fuerzaCentroMasa.fuerza *\r\n              this.factorFuerza *\r\n              this.factorZoom\r\n          ) + \"px\",\r\n      };\r\n    },\r\n\r\n    altoVinculos() {\r\n      return {\r\n        height: Math.ceil(1 * this.factorZoom) + \"px\",\r\n      };\r\n    },\r\n    sizeFlecha() {\r\n      return {\r\n        borderWidth: Math.round(7 * this.factorZoom) + \"px\",\r\n      };\r\n    },\r\n\r\n    posNodo() {\r\n      return this.esteNodo.coords;\r\n    },\r\n\r\n    seleccionado() {\r\n      if (!this.nodoSeleccionado) {\r\n        return false;\r\n      }\r\n      return this.nodoSeleccionado.id === this.esteNodo.id;\r\n    },\r\n    desplegado() {\r\n      if (\r\n        !this.usuario ||\r\n        !this.usuario.id ||\r\n        !this.yo ||\r\n        !this.yo.atlasSolidaridad ||\r\n        !this.yo.atlasSolidaridad.idsNodosDesplegados\r\n      )\r\n        return false;\r\n\r\n      return this.yo.atlasSolidaridad.idsNodosDesplegados.includes(\r\n        this.esteNodo.id\r\n      );\r\n    },\r\n    nodoRender() {\r\n      if (this.usuario && this.esteNodo.id === this.usuario.id) return true;\r\n      return this.idsTodosNodosRender.includes(this.esteNodo.id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.enlacesNodoConocimiento {\r\n  position: relative;  \r\n  width:1px;\r\n  overflow: visible;\r\n}\r\n\r\n.enlaces {\r\n  position: absolute;\r\n  pointer-events: none;\r\n}\r\n.vinculo {\r\n  position: absolute;\r\n  transform-origin: 0% 0%;\r\n  /* transition: left 3s, top 3s; */\r\n}\r\n.fuerza {\r\n  position: absolute;\r\n  transform-origin: 0% 0%;\r\n  height: 3px;\r\n}\r\n#fuerzaColision {\r\n  background-color: red;\r\n}\r\n#fuerzaCentroMasa {\r\n  background-color: yellow;\r\n}\r\n.flechaVinculo {\r\n  width: 1px;\r\n  height: 1px;\r\n  border-style: solid;\r\n  border-color: transparent;\r\n  border-left-color: inherit;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.vinculoGris {\r\n  background-color: black;\r\n}\r\n.fade-enter-active {\r\n  animation: fade 0.5s;\r\n}\r\n.fade-leave-active {\r\n  animation: fade 0.5s reverse;\r\n}\r\n\r\n@keyframes fade {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnlacesNodoConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnlacesNodoConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EnlacesNodoConocimiento.vue?vue&type=template&id=77276698&scoped=true&\"\nimport script from \"./EnlacesNodoConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./EnlacesNodoConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EnlacesNodoConocimiento.vue?vue&type=style&index=0&id=77276698&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77276698\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    class=\"atlasConocimiento\"\r\n    :style=\"{overflowY: nodoAbierto? 'scroll':'hidden' }\"\r\n    @mousedown.left.exact.stop=\"panningVista = true\"\r\n    @mouseenter=\"hovered = true\"\r\n    @mouseleave=\"hovered = false\"\r\n    @click=\"\r\n      idNodoMenuCx = null;\r\n      cerrarBusqueda++;\r\n    \"\r\n  >\r\n    <router-view />\r\n    <transition name=\"fadeOut\">\r\n      <div v-show=\"showingZoomInfo\" id=\"infoZoom\">x{{ factorZoom }}</div>\r\n    </transition>\r\n    <div\r\n      id=\"menuContextual\"\r\n      :style=\"[offsetMenuContextual]\"\r\n      v-show=\"mostrandoMenuContextual\"\r\n    >\r\n      <div\r\n        class=\"botonMenuContextual\"\r\n        id=\"botonCrearNuevoNodo\"\r\n        :class=\"{ deshabilitado: posicionCreandoNodo }\"\r\n        @click=\"crearNodoEnMenuContextual\"\r\n      >\r\n        Crear Nodo de conocimiento\r\n      </div>\r\n    </div>\r\n    <div\r\n      id=\"botonCallingPosiciones\"\r\n      v-if=\"usuarioSuperadministrador && usuario.username == 'juanMamian'\"\r\n      @click.stop=\"iniciarCallingPosiciones\"\r\n      :class=\"{ deshabilitado: callingPosiciones }\"\r\n      :style=\"[\r\n        { backgroundColor: callingPosiciones ? 'green' : 'transparent' },\r\n      ]\"\r\n    ></div>\r\n    <buscador-nodos-conocimiento\r\n      @nodoSeleccionado=\"centrarEnNodo\"\r\n      ref=\"buscadorNodos\"\r\n      :cerrarBusqueda=\"cerrarBusqueda\"\r\n    />\r\n\r\n    <panel-conjuntos-nodos\r\n      ref=\"panelConjuntosNodos\"\r\n      :yo=\"yo\"\r\n      :todosNodos=\"todosNodos\"\r\n      :idNodoTarget=\"idNodoTarget\"\r\n      @targetSeleccionado=\"setNodoTargetCache\"\r\n      @centrarEnNodo=\"centrarEnNodo(todosNodos.find((n) => n.id == $event))\"\r\n    />\r\n    <panel-configuracion-atlas ref=\"panelConfiguracionAtlas\" :yo=\"yo\" />\r\n\r\n    <div\r\n      id=\"contenedorDiagrama\"\r\n      ref=\"contenedorDiagrama\"\r\n      @contextmenu.self.exact.prevent=\"abrirMenuContextual\"\r\n      @mouseup.left.self=\"clickFondoAtlas\"\r\n    >\r\n      <div id=\"contenedorVinculosNodos\" :style=\"[offsetContenedorNodos]\">\r\n        <enlaces-nodo-conocimiento\r\n          v-for=\"nodo of nodosConRequerimentos\"\r\n          :key=\"nodo.id\"\r\n          :yo=\"yo\"\r\n          :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n          :esteNodo=\"nodo\"\r\n          :todosNodos=\"todosNodos\"\r\n          :factorZoom=\"factorZoom\"\r\n          :esquinasDiagrama=\"esquinasDiagrama\"\r\n          :nodoSeleccionado=\"nodoSeleccionado\"\r\n          :redibujarEnlaces=\"redibujarEnlacesNodos\"\r\n          :idsTodosNodosRender=\"idsTodosNodosRender\"\r\n          :callingPosiciones=\"callingPosiciones\"\r\n        />\r\n      </div>\r\n      <div\r\n        id=\"contenedorNodos\"\r\n        ref=\"contenedorNodos\"\r\n        :style=\"[offsetContenedorNodos]\"\r\n      >\r\n        <loading\r\n          texto=\"\"\r\n          v-show=\"posicionCreandoNodo\"\r\n          style=\"position: absolute\"\r\n          :style=\"[offsetLoadingCreandoNodo]\"\r\n        />\r\n        <nodo-conocimiento\r\n          :nodoSeleccionado=\"nodoSeleccionado\"\r\n          :todosNodos=\"todosNodos\"\r\n          :idNodoMenuCx=\"idNodoMenuCx\"\r\n          :usuarioAdministradorAtlas=\"usuarioAdministradorAtlas\"\r\n          :yo=\"yo\"\r\n          :key=\"nodo.id\"\r\n          v-for=\"nodo of nodosRender\"\r\n          :esteNodo=\"nodo\"\r\n          :esquinasDiagrama=\"esquinasDiagrama\"\r\n          :centroVista=\"centroVista\"\r\n          :esNodoObjetivo=\"idsNodosObjetivos.includes(nodo.id)\"\r\n          :esTarget=\"idNodoTarget == nodo.id\"\r\n          :idsNodosAprendidos=\"idsNodosAprendidos\"\r\n          :factorZoom=\"factorZoom\"\r\n          :seleccionado=\"idNodoSeleccionado === nodo.id\"\r\n          :escondido=\"\r\n            idNodoTarget &&\r\n            !idsNecesariosParaTarget.includes(nodo.id) &&\r\n            idNodoTarget != nodo.id\r\n          \"\r\n          :configuracionAtlas=\"configuracionAtlas\"\r\n          :callingPosiciones=\"callingPosiciones\"\r\n          @click.right.native.exact.stop.prevent=\"idNodoMenuCx = nodo.id\"\r\n          @click.native.stop=\"seleccionNodo(nodo)\"\r\n          @creacionVinculo=\"crearVinculo\"\r\n          @eliminacionVinculo=\"eliminarVinculo\"\r\n          @cambioDePosicionManual=\"cambiarCoordsManualesNodo\"\r\n          @eliminar=\"eliminarNodo\"\r\n          @cambieEstadoObjetivo=\"setEstadoObjetivoNodoCache($event, nodo.id)\"\r\n          @tengoNuevoValorAprendido=\"setNodoAprendidoCache($event, nodo.id)\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <loading\r\n      id=\"simboloDescargandoNodos\"\r\n      v-show=\"!nodosDescargados\"\r\n      texto=\"descargando nodos de conocimiento\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport NodoConocimiento from \"./NodoConocimiento.vue\";\r\nimport BuscadorNodosConocimiento from \"./BuscadorNodosConocimiento.vue\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport PanelConjuntosNodos from \"./PanelConjuntosNodos.vue\";\r\nimport PanelConfiguracionAtlas from \"./PanelConfiguracionAtlas.vue\";\r\nimport EnlacesNodoConocimiento from \"./EnlacesNodoConocimiento.vue\";\r\nconst debounce = require(\"debounce\");\r\n\r\nconst fragmentoNodoConocimiento = gql`\r\n  fragment fragNodoConocimiento on NodoConocimiento {\r\n    id\r\n    nombre\r\n    descripcion\r\n    expertos\r\n    clases {\r\n      id\r\n      nombre\r\n      idExperto\r\n      interesados\r\n    }\r\n    coordsManuales {\r\n      x\r\n      y\r\n    }\r\n    coords {\r\n      x\r\n      y\r\n    }\r\n    autoCoords {\r\n      x\r\n      y\r\n    }\r\n    centroMasa {\r\n      x\r\n      y\r\n    }\r\n    stuck\r\n    angulo\r\n    puntaje\r\n    vinculos {\r\n      id\r\n      idRef\r\n      rol\r\n      tipo\r\n    }\r\n    fuerzaCentroMasa {\r\n      fuerza\r\n      direccion\r\n    }\r\n    fuerzaColision {\r\n      fuerza\r\n      direccion\r\n    }\r\n  }\r\n`;\r\n\r\nconst QUERY_NODOS = gql`\r\n  query todosNodos {\r\n    todosNodos {\r\n      ...fragNodoConocimiento\r\n    }\r\n  }\r\n  ${fragmentoNodoConocimiento}\r\n`;\r\n\r\nconst QUERY_DATOS_USUARIO_NODOS = gql`\r\n  query {\r\n    yo {\r\n      id\r\n      atlas {\r\n        datosNodos {\r\n          idNodo\r\n          objetivo\r\n          aprendido\r\n        }\r\n        configuracion {\r\n          modo\r\n        }\r\n        idNodoTarget\r\n        colecciones {\r\n          id\r\n          nombre\r\n          idsNodos\r\n          nodos {\r\n            id\r\n            nombre\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default {\r\n  components: {\r\n    NodoConocimiento,\r\n    BuscadorNodosConocimiento,\r\n    Loading,\r\n    PanelConjuntosNodos,\r\n    PanelConfiguracionAtlas,\r\n    EnlacesNodoConocimiento,\r\n  },\r\n  name: \"AtlasConocimiento\",\r\n  apollo: {\r\n    todosNodos: {\r\n      query: QUERY_NODOS,\r\n      result: function () {\r\n        this.dibujarVinculosGrises();\r\n      },\r\n      pollInterval() {\r\n        return this.callingPosiciones ? 5000 : null;\r\n      },\r\n      update({ todosNodos }) {\r\n        this.nodosDescargados = true;\r\n        var nuevoTodosNodos = JSON.parse(JSON.stringify(todosNodos));\r\n        nuevoTodosNodos.forEach((nodo) => {\r\n          nodo.coordsManuales = nodo.autoCoords;\r\n          nodo.coords = nodo.autoCoords;\r\n        });\r\n        return nuevoTodosNodos;\r\n      },\r\n      fetchPolicy: \"cache-and-network\",\r\n    },\r\n    yo: {\r\n      query: QUERY_DATOS_USUARIO_NODOS,\r\n      skip() {\r\n        return !this.usuarioLogeado || this.todosNodos.length < 1;\r\n      },\r\n    },\r\n    configuracionAtlas: {\r\n      query: gql`\r\n        query ($nombreAtlas: String!) {\r\n          configuracionAtlas(nombreAtlas: $nombreAtlas) {\r\n            id\r\n            posicionando\r\n          }\r\n        }\r\n      `,\r\n      variables: {\r\n        nombreAtlas: \"conocimiento\",\r\n      },\r\n      fetchPolicy: \"network-only\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      configuracionAtlas: {\r\n        posicionando: false,\r\n      },\r\n      hovered: false,\r\n      todosNodos: [],\r\n      nodosDescargados: false,\r\n      posicionCreandoNodo: null,\r\n      idNodoSeleccionado: null,\r\n      idNodoMenuCx: null,\r\n      idsNecesariosParaTarget: [],\r\n\r\n      redibujarEnlacesNodos: 0,\r\n\r\n      yo: {\r\n        atlas: {\r\n          datosNodos: [],\r\n          configuracion: {\r\n            modo: \"estudiante\",\r\n          },\r\n        },\r\n      },\r\n\r\n      centroVistaDecimal: {\r\n        x: 218,\r\n        y: 39,\r\n      },\r\n      showingZoomInfo: false,\r\n      zoom: 80,\r\n      minZoom: 20,\r\n      maxZoom: 200,\r\n      pinching: false,\r\n      lastPinchDistance: 0,\r\n      actualizarTrazos: 0,\r\n      panningVista: false,\r\n      vistaPanned: false,\r\n      nodosConectadosAlSeleccionado: {\r\n        listaCompleta: [],\r\n        listaPorNiveles: [],\r\n      },\r\n      profundidadNodosConectadosAlSeleccionado: 1,\r\n      actualizarVinculosGrises: 0,\r\n\r\n      ultimoTouchX: 0,\r\n      ultimoTouchY: 0,\r\n\r\n      cerrarBusqueda: 0,\r\n\r\n      callingPosiciones: false,\r\n\r\n      mostrandoMenuContextual: false,\r\n      offsetMenuContextual: {\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n      },\r\n      enviandoQueryConfiguracionAtlas: false,\r\n    };\r\n  },\r\n  computed: {\r\n    idsNodosObjetivos() {\r\n      if (!this.yo || !this.yo.atlas || !this.yo.atlas.datosNodos) {\r\n        return [];\r\n      }\r\n      return this.yo.atlas.datosNodos\r\n        .filter((n) => n.objetivo == true)\r\n        .map((n) => n.idNodo);\r\n    },\r\n    nodosObjetivo() {\r\n      if (!this.todosNodos) return [];\r\n      return this.todosNodos.filter((n) =>\r\n        this.idsNodosObjetivos.includes(n.id)\r\n      );\r\n    },\r\n    nodoSeleccionado: function () {\r\n      if (!this.idNodoSeleccionado) {\r\n        return null;\r\n      }\r\n      return this.todosNodos.find((n) => n.id === this.idNodoSeleccionado);\r\n    },\r\n    idUsuario: function () {\r\n      return this.$store.state.usuario.id;\r\n    },\r\n    usuarioAdministradorAtlas: function () {\r\n      if (!this.$store.state.usuario.permisos) return false;\r\n      return this.$store.state.usuario.permisos.includes(\"atlasAdministrador\")\r\n        ? true\r\n        : false;\r\n    },\r\n    idNodoTarget() {\r\n      if (!this.yo || !this.yo.atlas) return null;\r\n      return this.yo.atlas.idNodoTarget;\r\n    },\r\n    idsNodosAprendidos() {\r\n      return this.yo.atlas.datosNodos\r\n        .filter((n) => n.aprendido == true)\r\n        .map((n) => n.idNodo);\r\n    },\r\n    centroVista() {\r\n      return {\r\n        x: Math.round(this.centroVistaDecimal.x),\r\n        y: Math.round(this.centroVistaDecimal.y),\r\n      };\r\n    },\r\n    factorZoom() {\r\n      return Number((this.zoom / 100).toFixed(2));\r\n    },\r\n    esquinasDiagrama() {\r\n      const maxX = this.todosNodos.reduce(\r\n        (acc, n) => (n.autoCoords.x > acc ? n.autoCoords.x : acc),\r\n        0\r\n      );\r\n      const maxY = this.todosNodos.reduce(\r\n        (acc, n) => (n.autoCoords.y > acc ? n.autoCoords.y : acc),\r\n        0\r\n      );\r\n      const minX = this.todosNodos.reduce(\r\n        (acc, n) => (n.autoCoords.x < acc ? n.autoCoords.x : acc),\r\n        0\r\n      );\r\n      const minY = this.todosNodos.reduce(\r\n        (acc, n) => (n.autoCoords.y < acc ? n.autoCoords.y : acc),\r\n        0\r\n      );\r\n\r\n      return {\r\n        x1: minX,\r\n        y1: minY,\r\n\r\n        x2: maxX,\r\n        y2: maxY,\r\n      };\r\n    },\r\n    offsetContenedorNodos() {\r\n      const ancho = this.esquinasDiagrama.x2 - this.esquinasDiagrama.x1;\r\n      const alto = this.esquinasDiagrama.y2 - this.esquinasDiagrama.y1;\r\n      return {\r\n        // left: -(this.centroVista.x * this.factorZoom) + \"px\",\r\n        // top: -(this.centroVista.y * this.factorZoom) + \"px\",\r\n\r\n        width: ancho * this.factorZoom + \"px\",\r\n        height: alto * this.factorZoom + \"px\",\r\n      };\r\n    },\r\n    nodosConRequerimentos() {\r\n      var nr = this.todosNodos.filter((n) => n.vinculos.length > 0);\r\n\r\n      return nr;\r\n    },\r\n    nodosRender() {\r\n      if (this.idNodoTarget) {\r\n        return this.todosNodos\r\n          .filter((n) => this.idsNecesariosParaTarget.includes(n.id))\r\n          .concat([this.todosNodos.find((n) => this.idNodoTarget === n.id)]);\r\n      }\r\n      return this.todosNodos;\r\n    },\r\n    idsTodosNodosRender() {\r\n      return this.nodosRender.map((n) => n.id);\r\n    },\r\n    offsetLoadingCreandoNodo() {\r\n      if (!this.posicionCreandoNodo) {\r\n        return null;\r\n      }\r\n      const left =\r\n        (this.posicionCreandoNodo.x - this.esquinasDiagrama.x1) *\r\n        this.factorZoom;\r\n      const top =\r\n        (this.posicionCreandoNodo.y - this.esquinasDiagrama.y1) *\r\n        this.factorZoom;\r\n      return {\r\n        left: left + \"px\",\r\n        top: top + \"px\",\r\n      };\r\n    },\r\n    nodoAbierto(){\r\n      console.log(\"Verificando path name\")\r\n      console.log(this.$route.name);\r\n\r\n      return this.$route.name==='visorNodoConocimiento'\r\n    }\r\n  },\r\n  methods: {\r\n    iniciarCallingPosiciones() {\r\n      var ciclos = prompt(\"¿Cuantos ciclos?\");\r\n      if (isNaN(ciclos)) {\r\n        return;\r\n      }\r\n\r\n      ciclos = Math.round(ciclos);\r\n      if (ciclos < 1) {\r\n        return;\r\n      }\r\n      console.log(`Enviando reposicionamiento de ${ciclos} ciclos`);\r\n      this.callingPosiciones = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($ciclos: Int!) {\r\n              posicionarNodosConocimientoByFuerzas(ciclos: $ciclos)\r\n            }\r\n          `,\r\n          variables: {\r\n            ciclos,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.callingPosiciones = false;\r\n        })\r\n        .catch((error) => {\r\n          this.callingPosiciones = false;\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n    togglePosicionamiento() {\r\n      this.enviandoQueryConfiguracionAtlas = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($nombreAtlas: String!) {\r\n              togglePosicionamientoAutomaticoAtlas(nombreAtlas: $nombreAtlas) {\r\n                id\r\n                posicionando\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            nombreAtlas: \"conocimiento\",\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryConfiguracionAtlas = false;\r\n        })\r\n        .catch(() => {\r\n          this.enviandoQueryConfiguracionAtlas = false;\r\n        });\r\n    },\r\n    abrirMenuContextual(e) {\r\n      let posDiagrama = this.$refs.contenedorDiagrama.getBoundingClientRect();\r\n\r\n      let topClick = Math.round(e.pageY - posDiagrama.top);\r\n      let leftClick = Math.round(e.pageX - posDiagrama.left);\r\n\r\n      this.$set(this.offsetMenuContextual, \"top\", topClick + \"px\");\r\n      this.$set(this.offsetMenuContextual, \"left\", leftClick + \"px\");\r\n      this.mostrandoMenuContextual = true;\r\n      //this.crearNodo({x: leftClick, y: topClick});\r\n    },\r\n    crearNodoEnMenuContextual() {\r\n      const posContenedorNodos =\r\n        this.$refs.contenedorNodos.getBoundingClientRect();\r\n      const distanciaLeftPx =\r\n        parseInt(this.offsetMenuContextual.left) -\r\n        parseInt(posContenedorNodos.left);\r\n      const distanciaTopPx =\r\n        parseInt(this.offsetMenuContextual.top) -\r\n        (parseInt(posContenedorNodos.top) - parseInt(this.$el.offsetTop));\r\n\r\n      const posPxX = distanciaLeftPx;\r\n      const posPxY = distanciaTopPx;\r\n\r\n      console.log(`xPix: ${parseInt(this.offsetMenuContextual.left)}`);\r\n      console.log(\r\n        `posXContenedorNodos: ${parseInt(posContenedorNodos.left)}, ${\r\n          posContenedorNodos.top\r\n        }`\r\n      );\r\n      console.log(`distanciaLeftPx: ${distanciaLeftPx}`);\r\n      console.log(`distanciaTopPx: ${distanciaTopPx}`);\r\n      console.log(\r\n        `Scroll x contenedorDiagrama: ${this.$refs.contenedorDiagrama.scrollLeft}`\r\n      );\r\n\r\n      var posicionNuevoNodo = {\r\n        x: parseInt(posPxX / this.factorZoom + this.esquinasDiagrama.x1),\r\n        y: parseInt(posPxY / this.factorZoom + this.esquinasDiagrama.y1),\r\n      };\r\n\r\n      console.log(`Creando nuevo nodo en ${JSON.stringify(posicionNuevoNodo)}`);\r\n\r\n      this.crearNodo(posicionNuevoNodo);\r\n    },\r\n    encontrarNodosNecesariosDeNodo(idNodo, listaTotal) {\r\n      const elNodo = this.todosNodos.find((n) => n.id == idNodo);\r\n      if (!elNodo) {\r\n        return listaTotal;\r\n      }\r\n      const necesarios = elNodo.vinculos\r\n        .filter((v) => v.rol == \"target\")\r\n        .map((v) => v.idRef);\r\n      necesarios.forEach((necesario) => {\r\n        if (!listaTotal.includes(necesario)) {\r\n          listaTotal.push(necesario);\r\n          listaTotal = this.encontrarNodosNecesariosDeNodo(\r\n            necesario,\r\n            listaTotal\r\n          );\r\n        }\r\n      });\r\n      return listaTotal;\r\n    },\r\n    clickFondoAtlas() {\r\n      console.log(`Click en el fondo del atlas`);\r\n      if (!this.vistaPanned) this.idNodoSeleccionado = null;\r\n      this.panningVista = false;\r\n      this.vistaPanned = false;\r\n      this.$refs.panelConjuntosNodos.abierto = false;\r\n      this.$refs.panelConfiguracionAtlas.abierto = false;\r\n      this.mostrandoMenuContextual = false;\r\n    },\r\n    setEstadoObjetivoNodoCache(nuevoEstado, idNodo) {\r\n      console.log(\r\n        `Seting en cache al nodo ${idNodo} con estado objetivo: ${nuevoEstado}`\r\n      );\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_DATOS_USUARIO_NODOS,\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n\r\n      var indexN = nuevoCache.yo.atlas.datosNodos.findIndex(\r\n        (n) => n.idNodo == idNodo\r\n      );\r\n      if (indexN > -1) {\r\n        nuevoCache.yo.atlas.datosNodos[indexN].objetivo = nuevoEstado;\r\n      } else {\r\n        console.log(`No estaba en caché. Pushing`);\r\n        nuevoCache.yo.atlas.datosNodos.push({\r\n          __typename: \"DatoNodoUsuario\",\r\n          idNodo,\r\n          objetivo: nuevoEstado,\r\n          aprendido: false,\r\n        });\r\n      }\r\n      store.writeQuery({\r\n        query: QUERY_DATOS_USUARIO_NODOS,\r\n        data: nuevoCache,\r\n      });\r\n    },\r\n    setNodoAprendidoCache(nuevoEstado, idNodo) {\r\n      console.log(\r\n        `Seting en cache al nodo ${idNodo} con estado aprendido: ${nuevoEstado}`\r\n      );\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_DATOS_USUARIO_NODOS,\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var indexN = nuevoCache.yo.atlas.datosNodos.findIndex(\r\n        (n) => n.idNodo == idNodo\r\n      );\r\n      if (indexN > -1) {\r\n        nuevoCache.yo.atlas.datosNodos[indexN].aprendido = nuevoEstado;\r\n      } else {\r\n        console.log(`No estaba en caché. Pushing`);\r\n        nuevoCache.yo.atlas.datosNodos.push({\r\n          __typename: \"DatoNodoUsuario\",\r\n          idNodo,\r\n          objetivo: false,\r\n          aprendido: nuevoEstado,\r\n        });\r\n      }\r\n      store.writeQuery({\r\n        query: QUERY_DATOS_USUARIO_NODOS,\r\n        data: nuevoCache,\r\n      });\r\n    },\r\n    setNodoTargetCache(idNodo) {\r\n      console.log(`Seting en cache al nodo ${idNodo} como target`);\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_DATOS_USUARIO_NODOS,\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      nuevoCache.yo.atlas.idNodoTarget = idNodo;\r\n      store.writeQuery({\r\n        query: QUERY_DATOS_USUARIO_NODOS,\r\n        data: nuevoCache,\r\n      });\r\n    },\r\n\r\n    centrarEnNodo(n) {\r\n      const posDiagrama = this.$refs.contenedorDiagrama.getBoundingClientRect();\r\n      const posNodo = {\r\n        x: (n.autoCoords.x - this.esquinasDiagrama.x1) * this.factorZoom,\r\n        y: (n.autoCoords.y - this.esquinasDiagrama.y1) * this.factorZoom,\r\n      };\r\n\r\n      console.log(`posNodo: ${JSON.stringify(posNodo)}`);\r\n\r\n      const posIdealScroll = {\r\n        x: parseInt(posNodo.x - posDiagrama.width / 2),\r\n        y: parseInt(posNodo.y - posDiagrama.height / 2),\r\n      };\r\n\r\n      console.log(`Pos ideal scroll: ${JSON.stringify(posIdealScroll)}`);\r\n\r\n      this.$refs.contenedorDiagrama.scrollLeft = posIdealScroll.x;\r\n      this.$refs.contenedorDiagrama.scrollTop = posIdealScroll.y;\r\n\r\n      this.seleccionNodo(n);\r\n      //this.centroVista=e;\r\n    },\r\n    iniciaMovimientoTouch(e) {\r\n      if (e.touches.length === 2) {\r\n        var dist = Math.hypot(\r\n          e.touches[0].pageX - e.touches[1].pageX,\r\n          e.touches[0].pageY - e.touches[1].pageY\r\n        );\r\n        this.lastPinchDistance = dist;\r\n        this.pinching = true;\r\n        return;\r\n      }\r\n\r\n      this.ultimoTouchX = e.changedTouches[0].clientX;\r\n      this.ultimoTouchY = e.changedTouches[0].clientY;\r\n    },\r\n    finTouch() {\r\n      this.pinching = false;\r\n    },\r\n    cambiarCoordsManualesNodo(idNodo, coordsManuales) {\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministradorAtlas) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.todosNodos[this.todosNodos.findIndex((n) => n.id == idNodo)].coords =\r\n        coordsManuales;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: String, $coordsManuales: CoordsInput) {\r\n              setCoordsManuales(\r\n                idNodo: $idNodo\r\n                coordsManuales: $coordsManuales\r\n              ) {\r\n                modificados {\r\n                  id\r\n                  coordsManuales {\r\n                    x\r\n                    y\r\n                  }\r\n                  coords {\r\n                    x\r\n                    y\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo,\r\n            coordsManuales,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.$refs.canvases.crearImagenTodosVinculos();\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n    eliminarNodo(idNodo) {\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministradorAtlas) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (!confirm(\"¿Seguro de que quieres eliminar este nodo?\")) return;\r\n      console.log(`enviando mutacion de eliminar nodo`);\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!) {\r\n              eliminarNodo(idNodo: $idNodo)\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo,\r\n          },\r\n          update(store, { data: { eliminarNodo } }) {\r\n            console.log(`QUERY: ${JSON.stringify(QUERY_NODOS)}`);\r\n            if (!eliminarNodo) {\r\n              console.log(`Nodo no fue eliminado`);\r\n              return;\r\n            }\r\n            const cache = store.readQuery({\r\n              query: QUERY_NODOS,\r\n            });\r\n            console.log(`Cache QUERY_NODOS: ${JSON.stringify(cache)}`);\r\n            var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n            const indexN = nuevoCache.todosNodos.findIndex(\r\n              (n) => n.id == idNodo\r\n            );\r\n            if (indexN > -1) {\r\n              nuevoCache.todosNodos.splice(indexN, 1);\r\n              store.writeQuery({\r\n                query: QUERY_NODOS,\r\n                data: nuevoCache,\r\n              });\r\n            } else {\r\n              console.log(`El nodo no estaba presente`);\r\n            }\r\n          },\r\n        })\r\n        .then((data) => {\r\n          console.log(`quitando el objeto del array. ${data}`);\r\n        });\r\n    },\r\n    crearNodo(posicion) {\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministradorAtlas) {\r\n        console.log(`Error usuario no autorizado`);\r\n        return;\r\n      }\r\n      console.log(`enviando una mutación de crear nodo`);\r\n\r\n      let infoNodo = {\r\n        coordsManuales: {\r\n          x: posicion.x,\r\n          y: posicion.y,\r\n        },\r\n        coords: {\r\n          x: posicion.x,\r\n          y: posicion.y,\r\n        },\r\n        autoCoords: {\r\n          x: posicion.x,\r\n          y: posicion.y,\r\n        },\r\n      };\r\n      console.log(`en las coordenadas: ${posicion.x}, ${posicion.y} `);\r\n      this.posicionCreandoNodo = {\r\n        x: posicion.x,\r\n        y: posicion.y,\r\n      };\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($infoNodo: NodoConocimientoInput) {\r\n              crearNodo(infoNodo: $infoNodo) {\r\n                ...fragNodoConocimiento\r\n              }\r\n            }\r\n            ${fragmentoNodoConocimiento}\r\n          `,\r\n          variables: {\r\n            infoNodo,\r\n          },\r\n        })\r\n        .then(({ data: { crearNodo } }) => {\r\n          console.log(`Creado ${crearNodo.id}`);\r\n          const store = this.$apollo.provider.defaultClient;\r\n          const cache = store.readQuery({\r\n            query: QUERY_NODOS,\r\n          });\r\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n          console.log(`1`);\r\n          var losNodos = nuevoCache.todosNodos;\r\n          console.log(`2`);\r\n\r\n          const indexN = losNodos.findIndex((n) => n.id === crearNodo.id);\r\n          if (indexN > -1) {\r\n            console.log(`El nodo ya estaba en caché`);\r\n          } else {\r\n            losNodos.push(crearNodo);\r\n            store.writeQuery({\r\n              query: QUERY_NODOS,\r\n              data: nuevoCache,\r\n            });\r\n          }\r\n          this.posicionCreandoNodo = null;\r\n          //this.$router.push(\"/nodoConocimiento/\"+crearNodo.id);\r\n        })\r\n        .catch((error) => {\r\n          this.posicionCreandoNodo = null;\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    descargarCentroVista() {\r\n      let dis = this;\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query {\r\n              yo {\r\n                id\r\n                atlas {\r\n                  centroVista {\r\n                    x\r\n                    y\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idUsuario: this.$store.state.usuario.id,\r\n          },\r\n          fetchPolicy: \"network-only\",\r\n        })\r\n        .then(function ({ data: { yo } }) {\r\n          let coords = yo.atlas.centroVista;\r\n          dis.$set(dis.centroVista, \"x\", coords.x);\r\n          dis.$set(dis.centroVista, \"y\", coords.y);\r\n          dis.$store.commit(\"setCentroVistaAtlas\", coords);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(`error fetching centro vista: ${error}`);\r\n        });\r\n    },\r\n    seleccionNodo(nodo) {\r\n      this.idNodoSeleccionado = nodo.id;\r\n      if (!this.todosNodos.some((n) => n.id == this.idNodoSeleccionado)) {\r\n        console.log(`No encontrado`);\r\n        return null;\r\n      }\r\n\r\n      let profundidad = parseInt(this.profundidadNodosConectadosAlSeleccionado);\r\n      let listaPorNiveles = [];\r\n      let idNodoSel = this.idNodoSeleccionado;\r\n      let listaCompleta = [idNodoSel];\r\n      if (profundidad > 0) {\r\n        for (let i = 0; i < profundidad; i++) {\r\n          listaPorNiveles[i] = [];\r\n        }\r\n        ({ listaCompleta, listaPorNiveles } =\r\n          this.encontrarNodosConectadosRecursivamente(\r\n            idNodoSel,\r\n            [\"target\", \"source\"],\r\n            [\"continuacion\"],\r\n            listaCompleta,\r\n            listaPorNiveles,\r\n            0,\r\n            profundidad\r\n          ));\r\n      }\r\n      this.nodosConectadosAlSeleccionado = {\r\n        listaCompleta,\r\n        listaPorNiveles,\r\n      };\r\n    },\r\n    async eliminarVinculo(args) {\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministradorAtlas) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      console.log(\r\n        `eliminando un vinculo entre ${args.idNodoFrom} y ${args.idNodoTo} `\r\n      );\r\n      await this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodoFrom: ID!, $idNodoTo: ID!) {\r\n              eliminarVinculoFromTo(\r\n                idSource: $idNodoFrom\r\n                idTarget: $idNodoTo\r\n              ) {\r\n                modificados {\r\n                  id\r\n                  vinculos {\r\n                    idRef\r\n                    tipo\r\n                    rol\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodoFrom: args.idNodoFrom,\r\n            idNodoTo: args.idNodoTo,\r\n          },\r\n        })\r\n        .then(() => {})\r\n        .catch((error) => {\r\n          console.log(`error: ${error}`);\r\n        });\r\n    },\r\n    dibujarVinculosGrises() {\r\n      this.actualizarVinculosGrises++;\r\n    },\r\n    async crearVinculo(args) {\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministradorAtlas) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      console.log(`creando un vinculo ${JSON.stringify(args)} `);\r\n      await this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($tipo: String!, $idNodoFrom: ID!, $idNodoTo: ID!) {\r\n              crearVinculo(\r\n                tipo: $tipo\r\n                idSource: $idNodoFrom\r\n                idTarget: $idNodoTo\r\n              ) {\r\n                modificados {\r\n                  id\r\n                  vinculos {\r\n                    idRef\r\n                    rol\r\n                    tipo\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            tipo: \"continuacion\",\r\n            idNodoFrom: args.idNodoFrom,\r\n            idNodoTo: args.idNodoTo,\r\n          },\r\n        })\r\n        .then(() => {})\r\n        .catch((error) => {\r\n          console.log(`error: ${error}`);\r\n        });\r\n    },\r\n    encontrarNodosConectadosRecursivamente(\r\n      idNodo,\r\n      roles,\r\n      tipos,\r\n      listaCompleta,\r\n      listaPorNiveles,\r\n      nivel,\r\n      profundidad\r\n    ) {\r\n      // Rol debe ser un array que incluye los roles validos en esta búsqueda.\r\n      // Tipo deber ser un array que incluye todos los tipos válidos en esta búsqueda\r\n      let nodo = this.todosNodos.find((n) => n.id == idNodo);\r\n      for (let vinculo of nodo.vinculos) {\r\n        if (\r\n          this.todosNodos.some((n) => n.id == vinculo.idRef) &&\r\n          roles.some((r) => r == vinculo.rol) &&\r\n          tipos.some((t) => t == vinculo.tipo) &&\r\n          !listaCompleta.some((idN) => idN == vinculo.idRef)\r\n        ) {\r\n          listaPorNiveles[nivel].push(vinculo.idRef);\r\n          listaCompleta.push(vinculo.idRef);\r\n\r\n          if (nivel + 1 < profundidad) {\r\n            ({ listaCompleta, listaPorNiveles } =\r\n              this.encontrarNodosConectadosRecursivamente(\r\n                vinculo.idRef,\r\n                roles,\r\n                tipos,\r\n                listaCompleta,\r\n                listaPorNiveles,\r\n                nivel + 1,\r\n                profundidad\r\n              ));\r\n          }\r\n        } else {\r\n          console.log(`No`);\r\n        }\r\n      }\r\n      return { listaCompleta, listaPorNiveles };\r\n    },\r\n    zoomVista(deltaZoom) {\r\n      var nuevoZoom = this.zoom + deltaZoom;\r\n      if (nuevoZoom < this.minZoom) {\r\n        this.zoom = this.minZoom;\r\n      } else if (nuevoZoom > this.maxZoom) {\r\n        this.zoom = this.maxZoom;\r\n      } else {\r\n        this.zoom = nuevoZoom;\r\n      }\r\n\r\n      //Pan vista de acuerdo con la posición del mouse respecto del atlas\r\n    },\r\n    zoomWheel(e) {\r\n      if (!this.hovered || !e.ctrlKey) {\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n\r\n      var contenedor = this.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n\r\n      const posZoom = {\r\n        x:\r\n          Math.round((e.clientX - posContenedor.left) / this.factorZoom) +\r\n          this.centroVista.x,\r\n        y:\r\n          Math.round((e.clientY - posContenedor.top) / this.factorZoom) +\r\n          this.centroVista.y,\r\n      };\r\n\r\n      // const proporciones = {\r\n      //   x:\r\n      //     (posZoom.x - this.centroVistaDecimal.x) /\r\n      //     (posContenedor.width / this.factorZoom),\r\n      //   y:\r\n      //     (posZoom.y - this.centroVistaDecimal.y) /\r\n      //     (posContenedor.height / this.factorZoom),\r\n      // };\r\n\r\n      const factorZoom = 0.2;\r\n      this.zoomVista(-Math.round(e.deltaY * factorZoom), {\r\n        x: posZoom.x,\r\n        y: posZoom.y,\r\n      });\r\n    },\r\n    hideZoomInfo: debounce(function () {\r\n      this.showingZoomInfo = false;\r\n    }, 1000),\r\n  },\r\n  watch: {\r\n    nodoSeleccionado: function () {\r\n      this.actualizarTrazos++;\r\n    },\r\n    route: function (to) {\r\n      console.log(`cambio de navegación a ${to.path}`);\r\n    },\r\n    idNodoTarget(idNodoTarget) {\r\n      if (!idNodoTarget) {\r\n        this.idsNecesariosParaTarget = [];\r\n        return;\r\n      }\r\n      console.log(`iniciando busqueda de requeridos de nodo ${idNodoTarget}`);\r\n      this.idsNecesariosParaTarget = this.encontrarNodosNecesariosDeNodo(\r\n        idNodoTarget,\r\n        []\r\n      );\r\n    },\r\n    zoom() {\r\n      this.showingZoomInfo = true;\r\n      this.hideZoomInfo();\r\n    },\r\n  },\r\n  mounted() {\r\n    // if (!this.usuario.atlas || !this.usuario.atlas.centroVista) {\r\n    //   console.log(`No había info de centro vista en la store. Descargando`);\r\n    //   this.descargarCentroVista();\r\n    //   return;\r\n    // }\r\n    // this.$set(this.centroVistaDecimal, \"x\", this.usuario.atlas.centroVista.x);\r\n    // this.$set(this.centroVistaDecimal, \"y\", this.usuario.atlas.centroVista.y);\r\n\r\n    if (screen.width < 600) {\r\n      this.zoom = 70;\r\n    }\r\n  },\r\n  created() {\r\n    window.addEventListener(\"wheel\", this.zoomWheel, { passive: false });\r\n  },\r\n  removed() {\r\n    window.removeEventListener(\"wheel\", this.zoomWheel);\r\n  },\r\n  // beforeRouteLeave(_, __, next) {\r\n  //   console.log(\r\n  //     `enviando nuevo centroVista para el usuario ${\r\n  //       this.usuario.id\r\n  //     }. Centro vista: ${JSON.stringify(this.centroVista)}`\r\n  //   );\r\n  //   this.$store.commit(\"setCentroVistaAtlas\", this.centroVista);\r\n\r\n  //   this.$apollo\r\n  //     .mutate({\r\n  //       mutation: gql`\r\n  //         mutation($idUsuario: ID, $centroVista: CoordsInput) {\r\n  //           setCentroVista(idUsuario: $idUsuario, centroVista: $centroVista)\r\n  //         }\r\n  //       `,\r\n  //       variables: {\r\n  //         idUsuario: this.$store.state.usuario.id,\r\n  //         centroVista: this.centroVista,\r\n  //       },\r\n  //     })\r\n  //     .then(function () {\r\n  //       next();\r\n  //     })\r\n  //     .catch(function (error) {\r\n  //       console.log(`error: ${error}`);\r\n  //       next();\r\n  //     });\r\n  // },\r\n};\r\n</script>\r\n<style>\r\n:root {\r\n  --atlasConocimientoFondo: #f3eff5;\r\n  --atlasConocimientoCheck: #3f7d20;\r\n  --atlasConocimientoAvailable: #e2c044;\r\n}\r\n</style>\r\n<style scoped>\r\n.atlasConocimiento {\r\n  position: relative;\r\n  overflow-x: hidden;\r\n}\r\n#menuContextual {\r\n  position: absolute;\r\n  background-color: gray;\r\n  z-index: 100;\r\n}\r\n.botonMenuContextual {\r\n  font-size: 12px;\r\n  color: rgb(221, 221, 221);\r\n  cursor: pointer;\r\n  padding: 10px;\r\n}\r\n.botonMenuContextual:hover {\r\n  background-color: rgb(68, 68, 68);\r\n}\r\n#contenedorDiagrama {\r\n  position: relative;\r\n  top: 0px;\r\n  left: 0px;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: scroll;\r\n  z-index: 0;\r\n}\r\n#contenedorVinculosNodos {\r\n  position: absolute;\r\n  top: 50px;\r\n  left: 50px;\r\n  user-select: none;\r\n\r\n  pointer-events: none;\r\n}\r\n#contenedorNodos {\r\n  position: absolute;\r\n  top: 50px;\r\n  left: 50px;\r\n  user-select: none;\r\n\r\n  pointer-events: none;\r\n}\r\n#buscadorNodosConocimiento {\r\n  position: absolute;\r\n  top: 1%;\r\n  left: 1%;\r\n  /* transform: translateX(-50%); */\r\n  z-index: 1;\r\n}\r\n#panelConjuntosNodos {\r\n  z-index: 100;\r\n}\r\n#panelConfiguracionAtlas {\r\n  z-index: 100;\r\n}\r\n#panelObjetivos {\r\n  position: absolute;\r\n  top: 2%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  opacity: 0.2;\r\n  z-index: 100;\r\n}\r\n#panelObjetivos:hover {\r\n  opacity: 1;\r\n}\r\n#infoZoom {\r\n  position: absolute;\r\n  top: 2%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 10px;\r\n  display: inline-block;\r\n  font-weight: bold;\r\n  color: rgb(102, 102, 102);\r\n}\r\n#botonCallingPosiciones {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  border: 1px solid black;\r\n  position: absolute;\r\n  top: 1%;\r\n  right: 1%;\r\n  cursor: pointer;\r\n  z-index: 1;\r\n}\r\n\r\n#simboloDescargandoNodos {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 100;\r\n}\r\n\r\n.visorNodoConocimiento {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: 1000;\r\n  background-color: whitesmoke;\r\n}\r\n\r\n.fadeOut-leave-to {\r\n  opacity: 0;\r\n}\r\n.fadeOut-leave-active {\r\n  transition: opacity 1s;\r\n}\r\n.fadeOut-leave {\r\n  opacity: 1;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AtlasConocimiento.vue?vue&type=template&id=e51e1b84&scoped=true&\"\nimport script from \"./AtlasConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./AtlasConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AtlasConocimiento.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./AtlasConocimiento.vue?vue&type=style&index=1&id=e51e1b84&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e51e1b84\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"loginArea\"}},[_c('div',{attrs:{\"id\":\"ventanaCentral\"}},[_c('form',[_c('p',{attrs:{\"id\":\"tituloVentana\"}},[_vm._v(\"¡Bienvenidx!\")]),_c('br'),_c('div',{staticClass:\"instruccion\"},[_vm._v(\"Escribe tus datos de login\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],ref:\"inputUsername\",staticClass:\"inputs\",style:(_vm.colorUsername),attrs:{\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"Nombre de usuario\"},domProps:{\"value\":(_vm.username)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.username=$event.target.value},function($event){_vm.loginFail = false}]}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],ref:\"inputPassword\",staticClass:\"inputs\",attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.password=$event.target.value},function($event){_vm.loginFail = false}],\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.iniciarSesion($event)}}}),_c('br'),_c('br'),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoDatos),expression:\"enviandoDatos\"}],attrs:{\"texto\":'Conectando...'}}),_c('div',{staticClass:\"botonEnviar\",class:{\n          loginFail: _vm.loginFail,\n          desaparecido: _vm.enviandoDatos,\n          deshabilitado: _vm.passIlegal,\n        },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.iniciarSesion($event)}}},[_vm._v(\" \"+_vm._s(_vm.loginFail ? _vm.loginFailMsg : \"Ingresar\")+\" \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"loginArea\">\r\n    <div id=\"ventanaCentral\">\r\n      <form>\r\n        <p id=\"tituloVentana\">¡Bienvenidx!</p>\r\n        <br />\r\n        <div class=\"instruccion\">Escribe tus datos de login</div>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          :style=\"colorUsername\"\r\n          v-model=\"username\"\r\n          ref=\"inputUsername\"\r\n          placeholder=\"Nombre de usuario\"\r\n          class=\"inputs\"\r\n          @input=\"loginFail = false\"\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          ref=\"inputPassword\"\r\n          class=\"inputs\"\r\n          v-model=\"password\"\r\n          placeholder=\"password\"\r\n          @input=\"loginFail = false\"\r\n          @keypress.enter=\"iniciarSesion\"\r\n        />\r\n        <br />\r\n        <br />\r\n        <loading v-show=\"enviandoDatos\" :texto=\"'Conectando...'\" />\r\n        <div\r\n          class=\"botonEnviar\"\r\n          @click.stop.prevent=\"iniciarSesion\"\r\n          :class=\"{\r\n            loginFail,\r\n            desaparecido: enviandoDatos,\r\n            deshabilitado: passIlegal,\r\n          }\"\r\n        >\r\n          {{ loginFail ? loginFailMsg : \"Ingresar\" }}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from \"./utilidades/Loading.vue\";\r\nimport gql from 'graphql-tag';\r\n\r\nvar charProhibidosUsername = /[^a-zA-Z0-9_ñÑ]/g;\r\nconst minPassword = 6;\r\nconst minUsername = 4;\r\n\r\nexport default {\r\n  name: \"LoginArea\",\r\n  components: { Loading },\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      loginFail: false,\r\n      loginFailMsg: \"\",\r\n      enviandoDatos: false,\r\n    };\r\n  },\r\n  computed: {\r\n    usuarioConectado() {\r\n      return this.$store.state.usuario.username != null ? true : false;\r\n    },\r\n    nombreUsuario() {\r\n      return this.$store.state.usuario.username;\r\n    },\r\n    colorUsername() {\r\n      return {\r\n        color:\r\n          charProhibidosUsername.test(this.username) ||\r\n          this.username.length < minUsername\r\n            ? \"red\"\r\n            : \"black\",\r\n      };\r\n    },\r\n    passIlegal() {\r\n      if (this.password.length < minPassword) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    usernameIlegal() {\r\n      if (\r\n        !this.username ||\r\n        charProhibidosUsername.test(this.username) ||\r\n        this.username.length < minUsername\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    iniciarSesion: function () {\r\n      console.log(`Iniciando login`);\r\n      let dis = this;\r\n\r\n      var password = this.$refs.inputPassword.value;\r\n      var username = this.$refs.inputUsername.value;\r\n\r\n      if (this.password.length < minPassword) {\r\n        console.log(`Password ilegal`);\r\n        return;\r\n      }\r\n\r\n      if (\r\n        charProhibidosUsername.test(this.username) ||\r\n        this.username.length < minUsername\r\n      ) {\r\n        console.log(`Username ilegal`);\r\n        return;\r\n      }\r\n\r\n      this.enviandoDatos = true;\r\n\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query ($username: String!, $password: String!) {\r\n              login(username: $username, password: $password)\r\n            }\r\n          `,\r\n          variables: {\r\n            username,\r\n            password,\r\n          },\r\n        })\r\n        .then(({ data: { login } }) => {\r\n          this.$store.commit(\"logearse\", login);\r\n          dis.$router.push(\"/\");\r\n\r\n          this.enviandoDatos = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoDatos = false;\r\n        });\r\n\r\n      // axios\r\n      //   .post(this.serverUrl + \"/api/usuarios/login\", {\r\n      //     username: this.username,\r\n      //     password: this.password,\r\n      //   })\r\n      //   .then(function (respuesta) {\r\n      //     console.log(`Logeado`);\r\n\r\n      //     if (respuesta.data.username == dis.username) {\r\n      //       dis.$store.commit(\"logearse\", respuesta.data.token);\r\n      //       // window.location.href = dis.clienteUrl;\r\n      //       dis.enviandoDatos = false;\r\n      //       dis.$router.push(\"/\");\r\n      //     }\r\n      //   })\r\n      //   .catch(function (error) {\r\n      //     dis.enviandoDatos = false;\r\n      //     dis.$store.commit(\"deslogearse\");\r\n\r\n      //     if (error.response && error.response.data.error) {\r\n      //       if (error.response.data.error == \"badLogin\") {\r\n      //         dis.loginFail = true;\r\n      //         dis.loginFailMsg = \"Datos inválidos\";\r\n      //         return;\r\n      //       }\r\n      //       if (error.response.data.error == \"sebastian\") {\r\n      //         console.log(`Usuario bloqueado temporalmente`);\r\n      //       }\r\n      //     }\r\n      //     if (error.response && error.response.data.msjUsuario) {\r\n      //       alert(error.response.data.msjUsuario);\r\n      //     }\r\n      //     console.log(`error: ${error}`);\r\n      //   });\r\n    },\r\n    deslogearse: function () {\r\n      //Logout en vuex y en apollo\r\n      this.$store.commit(\"deslogearse\");\r\n      window.location.href = this.clienteUrl;\r\n\r\n      /////////\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#tituloVentana {\r\n  font-size: 35px;\r\n  margin: 5px auto;\r\n  text-align: center;\r\n  font-family: sans-serif;\r\n}\r\n.instruccion {\r\n  font-size: 18;\r\n  text-align: center;\r\n  margin: 40px 0px;\r\n  margin-bottom: 0px;\r\n}\r\n.inputs {\r\n  font-size: 20px;\r\n  padding: 10px 20px;\r\n  border-radius: 10px;\r\n  margin-right: auto;\r\n  margin-left: auto;\r\n  margin-top: 15px;\r\n  display: block;\r\n}\r\n#ventanaCentral {\r\n  margin: 5% auto;\r\n  padding: 20px;\r\n  width: min(550px, 90%);\r\n}\r\n.botonEnviar {\r\n  width: min(300px, 90vw);\r\n  text-align: center;\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  font-size: 20px;\r\n  padding: 15px 5px;\r\n  background-color: var(--mainColor);\r\n  border-radius: 30px;\r\n  cursor: pointer;\r\n}\r\n.loginFail {\r\n  color: red;\r\n  pointer-events: none;\r\n  opacity: 0.5;\r\n  font-style: italic;\r\n  font-size: 12px;\r\n}\r\n.desaparecido {\r\n  display: none;\r\n  pointer-events: none;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginArea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginArea.vue?vue&type=template&id=0672fa42&scoped=true&\"\nimport script from \"./LoginArea.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginArea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginArea.vue?vue&type=style&index=0&id=0672fa42&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0672fa42\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.usuarioLogeado)?_c('div',{staticClass:\"perfilPersonal\"},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.esteUsuario.loading),expression:\"$apollo.queries.esteUsuario.loading\"}],attrs:{\"texto\":\"Cargando\"}}),_c('div',{staticClass:\"contenedorControles\",attrs:{\"id\":\"zonaSelectores\"}},[_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Información personal\"},on:{\"click\":function($event){_vm.seccion = 'informacionPersonal'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Informacion\"}})]),_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Cambiar contraseña\"},on:{\"click\":function($event){_vm.seccion = 'cambiarPass'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/key.svg\"),\"alt\":\"Pass\"}})]),_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Mis objetivos y trabajos\"},on:{\"click\":function($event){_vm.seccion = 'misNodos'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/starSolid.svg\"),\"alt\":\"Estrella\"}})]),_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Mi calendario\"},on:{\"click\":function($event){_vm.seccion = 'calendario'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendar.svg\"),\"alt\":\"Calendario\"}})])]),(!_vm.$apollo.queries.esteUsuario.loading)?_c('div',{attrs:{\"id\":\"contenido\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seccion === 'informacionPersonal'),expression:\"seccion === 'informacionPersonal'\"}],attrs:{\"id\":\"zonaInformacionPersonal\"}},[_c('div',{attrs:{\"id\":\"fotografia\"},on:{\"click\":function($event){return _vm.$refs.inputFotoUsuario.click()}}},[_c('img',{attrs:{\"src\":this.serverUrl + '/api/usuarios/fotografias/' + _vm.usuario.id+'?v='+_vm.versionFoto,\"alt\":\"Fotografía\"}}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"inputFotoUsuario\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.uploadNuevaFoto}})]),_c('div',{attrs:{\"id\":\"zonaCamposEditablesInformacionPersonal\"}},[_c('div',{staticClass:\"informacionPersonal\",staticStyle:{\"align-self\":\"center\"},attrs:{\"id\":\"nombres\"}},[_vm._v(\" \"+_vm._s(_vm.esteUsuario.nombres)+\" \")]),_c('div',{staticClass:\"informacionPersonal\",staticStyle:{\"align-self\":\"center\"},attrs:{\"id\":\"apellidos\"}},[_vm._v(\" \"+_vm._s(_vm.esteUsuario.apellidos)+\" \")]),_c('div',{staticClass:\"informacionPersonal\",attrs:{\"id\":\"email\"}},[_c('img',{staticClass:\"iconoInformacionPersonal\",attrs:{\"src\":require(\"@/assets/iconos/envelope.svg\"),\"alt\":\"Mail\",\"title\":\"Correo electrónico\"}}),_c('span',[_vm._v(\" \"+_vm._s(_vm.esteUsuario.email))])]),_c('img',{staticClass:\"iconoInformacionPersonal\",attrs:{\"src\":require(\"@/assets/iconos/whatsapp.svg\"),\"alt\":\"Mail\",\"title\":\"Añdir un número móvil\"}}),_vm._l((_vm.esteUsuario.numerosMovil),function(numeroMovil){return _c('div',{key:numeroMovil.id,staticClass:\"informacionPersonal numeroMovil\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.esteUsuario.numeroMovil)+\" \")])])})],2)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seccion === 'cambiarPass'),expression:\"seccion === 'cambiarPass'\"}],attrs:{\"id\":\"zonaCambiarPass\"}},[_c('div',{staticClass:\"tituloSeccion\"},[_vm._v(\"Cambio de contraseña\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputCurrentPass),expression:\"inputCurrentPass\"}],staticClass:\"inputCambiarPass\",attrs:{\"placeholder\":\"Contraseña actual\",\"type\":\"password\",\"id\":\"inputCurrentPass\"},domProps:{\"value\":(_vm.inputCurrentPass)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputCurrentPass=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newPassIlegal && !_vm.inputCurrentPassIlegal),expression:\"newPassIlegal && !inputCurrentPassIlegal\"}],attrs:{\"id\":\"instruccionesNuevoPass\"}},[_vm._v(\" La contraseña debe tener al menos 8 caracteres y no contener espacios. \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPass),expression:\"newPass\"},{name:\"show\",rawName:\"v-show\",value:(!_vm.inputCurrentPassIlegal),expression:\"!inputCurrentPassIlegal\"}],staticClass:\"inputCambiarPass\",class:{ aprobado: !_vm.newPassIlegal },attrs:{\"placeholder\":\"Nueva contraseña\",\"type\":\"password\",\"id\":\"inputNuevoPass\"},domProps:{\"value\":(_vm.newPass)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPass=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPass2),expression:\"newPass2\"},{name:\"show\",rawName:\"v-show\",value:(!_vm.newPassIlegal),expression:\"!newPassIlegal\"}],staticClass:\"inputCambiarPass\",class:{ aprobado: !_vm.newPassIlegal && !_vm.newPass2Ilegal },attrs:{\"disabled\":_vm.newPassIlegal,\"placeholder\":\"Nueva contraseña (Otra vez)\",\"type\":\"password\",\"id\":\"inputNuevoPass2\"},domProps:{\"value\":(_vm.newPass2)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enviarCambioPass($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.newPass2=$event.target.value}}}),_c('div',{class:{\n          deshabilitado:\n            _vm.newPassIlegal || _vm.newPass2Ilegal || _vm.enviandoCambioPass,\n        },attrs:{\"id\":\"botonEnviarNuevoPass\"},on:{\"click\":_vm.enviarCambioPass}},[_c('span',[_vm._v(\" Enviar\")]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoCambioPass),expression:\"enviandoCambioPass\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{attrs:{\"id\":\"textoResultadoCambioPass\"}},[_vm._v(\" \"+_vm._s(_vm.textoResultadoCambioPass)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seccion === 'misNodos'),expression:\"seccion === 'misNodos'\"}],attrs:{\"id\":\"zonaMisNodos\"}},[_c('div',{staticClass:\"barraSuperiorGeneral\"},[_c('div',{staticClass:\"tituloBloque\"},[_vm._v(\"Mis Nodos\")]),_c('div',{staticClass:\"controlesBloque\",attrs:{\"id\":\"controlesRecursosExternos\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mostrandoOpcionesCrearSubNodo),expression:\"!mostrandoOpcionesCrearSubNodo\"}],staticClass:\"botonBarraSuperiorGeneral\",on:{\"click\":function($event){_vm.mostrandoOpcionesCrearSubNodo = true}}},[_c('img',{class:{ deshabilitado: _vm.creandoSubNodo },attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Nuevo\",\"title\":\"Crear nuevo nodo\"}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoSubNodo),expression:\"creandoSubNodo\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoOpcionesCrearSubNodo),expression:\"mostrandoOpcionesCrearSubNodo\"}],class:{ deshabilitado: _vm.creandoSubNodo },attrs:{\"id\":\"contenedorOpcionesCrear\"}},[_c('img',{staticClass:\"botonBarraSuperiorGeneral opcionCrear\",attrs:{\"src\":require(\"@/assets/iconos/starSolid.svg\"),\"alt\":\"Objetivo\",\"title\":\"Crear nuevo objetivo\"},on:{\"click\":function($event){return _vm.crearNuevoNodoUnder({ tipoNodo: 'objetivo' })}}}),_c('img',{staticClass:\"botonBarraSuperiorGeneral opcionCrear\",attrs:{\"src\":require(\"@/assets/iconos/cog.svg\"),\"alt\":\"Trabajo\",\"title\":\"Crear nuevo trabajo\"},on:{\"click\":function($event){return _vm.crearNuevoNodoUnder({ tipoNodo: 'trabajo' })}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoSubNodo),expression:\"creandoSubNodo\"}],attrs:{\"texto\":\"\"}})],1)])]),_c('ventana-lista',{ref:\"ventanaLista\",attrs:{\"idNodoRoot\":_vm.usuario.id,\"tipoNodoRoot\":\"usuario\"}})],1),(_vm.seccion === 'calendario')?_c('div',{attrs:{\"id\":\"zonaCalendario\"}},[(_vm.usuarioLogeado)?_c('calendario',{attrs:{\"enfasis\":'eventosPersonales',\"idUsuarioTarget\":this.usuario.id}}):_vm._e()],1):_vm._e()]):_vm._e(),_c('router-view')],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const charProhibidosNombresUsuario = /[^ a-zA-ZÀ-ž]/;\r\nexport const charProhibidosUsername = /[^ a-zA-ZÀ-ž0-9_().-]/;            \r\nexport const charProhibidosPassword = /\\s\\s+/;\r\n            \r\n\r\nexport const minLengthNombresUsuario=2;\r\nexport const minLengthApellidosUsuario=2;\r\nexport const minLengthPassword=6;\r\nexport const maxLengthPassword=40;\r\nexport const minLengthEmail=7;\r\nexport const minLengthUsername=7;\r\n\r\n\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ventanaLista\",on:{\"mouseup\":function($event){$event.stopPropagation();},\"mousedown\":function($event){$event.stopPropagation();},\"touchmove\":function($event){$event.stopPropagation();},\"touchstart\":function($event){$event.stopPropagation();},\"touchend\":function($event){$event.stopPropagation();}}},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_c('buscador-nodos',{attrs:{\"listaIdsNodosRelevantes\":_vm.nodosSolidaridad.map(function (n){ return n.id; })}}),_c('div',{attrs:{\"id\":\"bloqueBotonesControl\"}},[_c('div',{staticClass:\"zonaControl\",attrs:{\"id\":\"zonaVerNodos\"}},[_c('div',{staticClass:\"botonVerNodos\",style:({\n            borderColor: _vm.verCompletados ? '#858585' : 'transparent',\n            opacity: _vm.verCompletados ? 1 : 0.3,\n          }),attrs:{\"id\":\"botonVerCompletados\",\"title\":_vm.verCompletados\n              ? 'Ocultar nodos completados'\n              : 'Mostrar nodos completados'},on:{\"click\":function($event){_vm.verCompletados = !_vm.verCompletados}}})]),(_vm.cerrable)?_c('img',{attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"cerrar\",\"title\":\"Cerrar ventana de lista\",\"id\":\"botonCerrar\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('cerrarme')}}}):_vm._e()])],1),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.nodoRoot.loading || _vm.idsNodosNeedingFetchMore.includes(_vm.idNodoRoot)),expression:\"$apollo.queries.nodoRoot.loading || idsNodosNeedingFetchMore.includes(idNodoRoot)\"}]}),_c('lista-nodos',{ref:\"listaNodos\",staticClass:\"lista\",attrs:{\"todosNodos\":_vm.nodosSolidaridad,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"verCompletados\":_vm.verCompletados,\"modoLista\":_vm.modoLista,\"idNodoRoot\":_vm.idNodoRoot,\"tipoNodoRoot\":_vm.tipoNodoRoot,\"nodoRoot\":_vm.nodoRoot,\"idsNodosNeedingFetchMore\":_vm.idsNodosNeedingFetchMore,\"indiceNodosUnder\":_vm.indiceNodosUnder,\"usuarioResponsableAmplioNodoRoot\":_vm.usuarioResponsableAmplioNodoRoot},on:{\"nodoSeleccionado\":function($event){_vm.idNodoSeleccionado = $event},\"nodosRenderizados\":_vm.updateInfoNodosEverRendered,\"nodoEliminado\":function($event){return _vm.removeNodoFromNodosSolidaridad($event)},\"nodoSolidaridadCreado\":function($event){return _vm.addNodoToNodosSolidaridad($event)}},nativeOn:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.idNodoSeleccionado = null}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import gql from \"graphql-tag\"\r\n\r\n\r\nexport const fragmentoPersonaAtlas = gql`\r\n  fragment fragPersonaAtlas on Usuario {\r\n    id\r\n    nombre\r\n    username\r\n    nombres\r\n    apellidos\r\n    vinculos {\r\n      id\r\n      tipo\r\n      idRef\r\n    }\r\n    coords {\r\n      x\r\n      y\r\n    }\r\n    responsables\r\n    responsablesAmplio\r\n    administradores\r\n    fuerzaCentroMasa {\r\n      fuerza\r\n      direccion\r\n    }\r\n    fuerzaColision {\r\n      fuerza\r\n      direccion\r\n    }\r\n  }\r\n`;\r\n\r\nexport const fragmentoRecursoExterno = gql`\r\n fragment fragRecursoExterno on RecursoExternoNodoSolidaridad{\r\n  id\r\n  nombre\r\n  link\r\n  tipo\r\n }\r\n`;\r\n\r\nexport const fragmentoMovimientoDineroNodoSolidaridad=gql`\r\n  fragment fragMovimientoDineroNodoSolidaridad on MovimientoDineroNodoSolidaridad{\r\n    id\r\n    fecha\r\n    articulo,\r\n    unidad,\r\n    cantidad,\r\n    movimientoUnitario,\r\n    movimientoTotal,\r\n    realizado\r\n    informacion\r\n  }\r\n`;\r\n\r\nexport const fragmentoEventoNodoSolidaridad=gql`\r\n  fragment fragEventoNodoSolidaridad on EventoNodoSolidaridad{\r\n    id    \r\n    fecha,\r\n    nombre,\r\n    tipo,\r\n    descripcion,    \r\n  }\r\n`;\r\n\r\n\r\nexport const fragmentoNodoSolidaridad = gql`\r\n  fragment fragNodoSolidaridad on NodoSolidaridad{\r\n    id\r\n    nombre\r\n    descripcion\r\n    tipoNodo\r\n    responsables\r\n    responsablesAmplio    \r\n    posiblesResponsables\r\n    responsablesSolicitados\r\n    administradores\r\n    keywords\r\n    tipoParent\r\n    nodoParent\r\n    publicitado\r\n    recursosExternos{\r\n      ...fragRecursoExterno\r\n    }\r\n    movimientosDinero{\r\n      ...fragMovimientoDineroNodoSolidaridad\r\n    }\r\n    eventos{\r\n      ...fragEventoNodoSolidaridad\r\n    }\r\n    coords {\r\n        x\r\n        y\r\n    }\r\n    autoCoords{\r\n      x\r\n      y\r\n    }\r\n    estadoDesarrollo\r\n    vinculos {\r\n        id\r\n        idRef\r\n        tipo        \r\n    }\r\n    stuck\r\n    angulo\r\n    centroMasa {\r\n        x\r\n        y\r\n    }\r\n    fuerzaCentroMasa{\r\n      fuerza\r\n      direccion\r\n    }\r\n    fuerzaColision{\r\n      fuerza\r\n      direccion  \r\n    }\r\n    puntaje\r\n    nivel\r\n    turnoNivel\r\n    peso\r\n  }\r\n  ${fragmentoMovimientoDineroNodoSolidaridad}\r\n  ${fragmentoEventoNodoSolidaridad}\r\n  ${fragmentoRecursoExterno}\r\n`;","import gql from \"graphql-tag\"\r\nimport debounce from \"debounce\";\r\nimport { fragmentoNodoSolidaridad, fragmentoPersonaAtlas } from \"./frags\";\r\n\r\n\r\nexport const QUERY_NODOS_SOLIDARIDAD = gql`\r\n    query{\r\n      nodosSolidaridad{\r\n        ...fragNodoSolidaridad\r\n      }\r\n    }\r\n    ${fragmentoNodoSolidaridad}\r\n    `\r\n\r\nexport const QUERY_PERSONAS = gql`\r\n    query{\r\n      personas{\r\n        ...fragPersonaAtlas\r\n      }\r\n    }\r\n    ${fragmentoPersonaAtlas}\r\n`\r\n\r\nexport const MixinAtlasSolidaridad = {\r\n  apollo: {\r\n    nodoRoot: {\r\n      query: gql`\r\n        query($idNodo: ID!, $tipoNodo: String!){\r\n          nodoAtlasSolidaridadByIdAndTipo(idNodo:$idNodo, tipoNodo: $tipoNodo){\r\n            nodoSolidaridad{\r\n              ...fragNodoSolidaridad\r\n            }\r\n            persona{\r\n              ...fragPersonaAtlas\r\n            }\r\n          }\r\n        }\r\n        ${fragmentoNodoSolidaridad}\r\n        ${fragmentoPersonaAtlas}\r\n      `,\r\n      variables() {\r\n        return {\r\n          idNodo: this.idNodoRoot,\r\n          tipoNodo: this.tipoNodoRoot\r\n        }\r\n      },\r\n      skip() {\r\n        return !this.idNodoRoot;\r\n      },\r\n      update({ nodoAtlasSolidaridadByIdAndTipo }) {\r\n        var nodosSolidaridad = nodoAtlasSolidaridadByIdAndTipo.nodoSolidaridad ? [nodoAtlasSolidaridadByIdAndTipo.nodoSolidaridad] : []\r\n        var personas = nodoAtlasSolidaridadByIdAndTipo.persona ? [nodoAtlasSolidaridadByIdAndTipo.persona] : []\r\n\r\n        if (!this.cacheNodosInicializado) {\r\n          const store = this.$apollo.provider.defaultClient;\r\n          store.writeQuery({\r\n            query: QUERY_NODOS_SOLIDARIDAD,\r\n            data: { nodosSolidaridad }\r\n          });\r\n          store.writeQuery({\r\n            query: QUERY_PERSONAS,\r\n            data: { personas }\r\n          });\r\n          this.cacheNodosInicializado = true;\r\n        }\r\n       \r\n\r\n        if (nodoAtlasSolidaridadByIdAndTipo.nodoSolidaridad) {\r\n          return nodoAtlasSolidaridadByIdAndTipo.nodoSolidaridad\r\n        }\r\n        else if (nodoAtlasSolidaridadByIdAndTipo.persona) {\r\n          return nodoAtlasSolidaridadByIdAndTipo.persona\r\n        }\r\n        else {\r\n          console.log(`Fallo al obtener nodoRoot`);\r\n          return null;\r\n        }\r\n      },\r\n    },\r\n    nodosSolidaridad: {\r\n      query: QUERY_NODOS_SOLIDARIDAD,\r\n      fetchPolicy: \"cache-only\",\r\n      skip() {\r\n        return !this.nodoRoot\r\n      }\r\n    },\r\n    personas: {\r\n      query: QUERY_PERSONAS,\r\n      fetchPolicy: \"cache-only\",\r\n      skip() {\r\n        return !this.nodoRoot\r\n      }\r\n    },\r\n    $subscribe: {\r\n      nodoEditado: {\r\n        query: gql`\r\n          subscription ($centro: CoordsInput!, $radio: Int!) {\r\n            nodoEditado(centro: $centro, radio: $radio) {\r\n              ...fragNodoSolidaridad\r\n            }\r\n          }\r\n          ${fragmentoNodoSolidaridad}\r\n        `,\r\n        variables() {\r\n          return {\r\n            centro: {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            radio: 0,\r\n          };\r\n        },\r\n        result : function({ data: { nodoEditado } }){    \r\n          console.log(`nodo ${nodoEditado.nombre} editado`);      \r\n        },\r\n      },\r\n      nodoEliminado: {\r\n        query: gql`\r\n          subscription ($centro: CoordsInput!, $radio: Int!) {\r\n            nodoEliminado(centro: $centro, radio: $radio)\r\n          }\r\n        `,\r\n        variables() {\r\n          return {\r\n            centro: {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            radio: 0,\r\n          };\r\n        },\r\n        result({ data: { nodoEliminado } }) {\r\n          console.log(`Eliminando de cache a ${nodoEliminado}`);\r\n          this.eliminarNodoCache(nodoEliminado);\r\n        },\r\n      },\r\n      nodosEliminados: {\r\n        query: gql`\r\n          subscription {\r\n            nodosEliminados\r\n          }\r\n        `,\r\n        result({ data: { nodosEliminados } }) {\r\n          console.log(`Eliminando de cache a ${nodosEliminados}`);\r\n          nodosEliminados.forEach((ne) => {\r\n            this.removeNodoFromNodosSolidaridad(ne);\r\n          });\r\n        },\r\n      },\r\n      \r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      datosYoDescargados: false,\r\n      nodosSolidaridad: [],\r\n      personas: [],\r\n      idsNodosEverPassedToFetchMore: [],\r\n      infoNodosEverRendered: [],\r\n      cacheNodosInicializado:false,\r\n    }\r\n  },\r\n  methods: {\r\n    addNodoToNodosSolidaridad(nuevoNodo){\r\n      console.log(`Adding nuevo nodo a nodosSolidaridad`);\r\n      const store=this.$apollo.provider.defaultClient;\r\n      const cache=store.readQuery({\r\n        query: QUERY_NODOS_SOLIDARIDAD,        \r\n      })\r\n\r\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\r\n      \r\n      const indexN=nuevoCache.nodosSolidaridad.findIndex(n=>n.id===nuevoNodo.id);\r\n      if(indexN===-1){\r\n        nuevoCache.nodosSolidaridad.push(nuevoNodo);\r\n        store.writeQuery({\r\n          query: QUERY_NODOS_SOLIDARIDAD,\r\n          data: nuevoCache,\r\n        })\r\n      }\r\n      this.idNodoSeleccionado=nuevoNodo.id\r\n    },\r\n    removeNodoFromNodosSolidaridad(id){\r\n      if(this.idNodoSeleccionado===id){\r\n        this.idNodoSeleccionado=null;\r\n      }\r\n      const store=this.$apollo.provider.defaultClient;\r\n      const cache=store.readQuery({\r\n        query: QUERY_NODOS_SOLIDARIDAD,        \r\n      })\r\n\r\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\r\n      \r\n      const indexN=nuevoCache.nodosSolidaridad.findIndex(n=>n.id===id);\r\n      if(indexN>-1){\r\n        nuevoCache.nodosSolidaridad.splice(indexN, 1);\r\n        store.writeQuery({\r\n          query: QUERY_NODOS_SOLIDARIDAD,\r\n          data: nuevoCache,\r\n        })\r\n      }\r\n    },\r\n    fetchRelacionesNodosNeedingFetchMore: debounce(function () {\r\n\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query($infoNodos: [InfoNodoDeAtlasSolidaridad!]!) {\r\n              relacionesNodosAtlasByIds(infoNodos: $infoNodos) {\r\n                  nodosSolidaridad {\r\n                    ...fragNodoSolidaridad\r\n                }\r\n                  personas {\r\n                    ...fragPersonaAtlas\r\n                }\r\n              }\r\n            }\r\n            ${fragmentoNodoSolidaridad}\r\n            ${fragmentoPersonaAtlas}\r\n            `,\r\n          variables: {\r\n            infoNodos: this.infoNodosNeedingFetchMore,\r\n          },\r\n          fetchPolicy:\"network-only\"\r\n        })\r\n        .then(({ data: { relacionesNodosAtlasByIds } }) => {\r\n          this.idsNodosEverPassedToFetchMore = arrayUnique(\r\n            this.idsNodosEverPassedToFetchMore.concat(\r\n              this.idsNodosNeedingFetchMore\r\n            )\r\n          );\r\n          //Add to cache de nodosSolidaridad\r\n          const idsActualesNodosSolidaridad = this.nodosSolidaridad.map(ns => ns.id);\r\n\r\n          const store = this.$apollo.provider.defaultClient;\r\n          const cacheNS = store.readQuery({\r\n            query: QUERY_NODOS_SOLIDARIDAD\r\n          });\r\n          var nuevoCacheNS = JSON.parse(JSON.stringify(cacheNS));\r\n          if (!nuevoCacheNS.nodosSolidaridad) nuevoCacheNS.nodosSolidaridad = [];\r\n          nuevoCacheNS.nodosSolidaridad.push(...relacionesNodosAtlasByIds.nodosSolidaridad.filter(ns => !idsActualesNodosSolidaridad.includes(ns.id)))\r\n\r\n          store.writeQuery({\r\n            query: QUERY_NODOS_SOLIDARIDAD,\r\n            data: nuevoCacheNS\r\n          });\r\n\r\n          //Add to cache de personas\r\n          const idsActualesPersonas = this.personas.map(p => p.id);\r\n\r\n          const cacheP = store.readQuery({\r\n            query: QUERY_PERSONAS\r\n          });\r\n          var nuevoCacheP = JSON.parse(JSON.stringify(cacheP));\r\n          if (!nuevoCacheNS.personas) nuevoCacheNS.nodosSolidaridad = [];\r\n          nuevoCacheP.personas.push(...relacionesNodosAtlasByIds.personas.filter(p => !idsActualesPersonas.includes(p.id)))\r\n\r\n          store.writeQuery({\r\n            query: QUERY_PERSONAS,\r\n            data: nuevoCacheP\r\n          });\r\n        });\r\n    }, 2000),\r\n  },\r\n  computed: {\r\n    indiceNodosUnder() {\r\n      if (this.nodosSolidaridad.length + this.personas.length < 1) return null;\r\n      var objetoFinal = {};\r\n\r\n      this.todosNodos.forEach((nodo) => {\r\n        let idsVinculos = nodo.vinculos\r\n          .filter((v) => v.tipo === \"requiere\")\r\n          .map((v) => v.idRef);\r\n        let requeridos = this.nodosSolidaridad\r\n          .filter((n) => idsVinculos.includes(n.id))\r\n          .sort(\r\n            (a, b) => idsVinculos.indexOf(a.id) - idsVinculos.indexOf(b.id)\r\n          );\r\n        let children = requeridos.filter((n) => n.nodoParent === nodo.id);\r\n        let responsables = this.personas.filter((p) =>\r\n          nodo.responsables.includes(p.id)\r\n        );\r\n        objetoFinal[nodo.id] = {\r\n          nodosChildren: children,\r\n          nodosRequeridos: requeridos,\r\n          responsables,\r\n        };\r\n      });\r\n\r\n      return objetoFinal;\r\n    },\r\n    infoNodosNeedingFetchMore() {\r\n      return this.infoNodosEverRendered.filter(\r\n        (i) => !this.idsNodosEverPassedToFetchMore.includes(i.id)\r\n      );\r\n    },\r\n    todosNodos() {\r\n      return this.nodosSolidaridad.concat(this.personas);\r\n    },\r\n    idsNodosNeedingFetchMore() {\r\n      return this.infoNodosNeedingFetchMore.map((info) => info.id);\r\n    },\r\n  },\r\n  watch: {\r\n    idsNodosNeedingFetchMore(nuevo) {\r\n      if (nuevo.length > 0) {\r\n        this.fetchRelacionesNodosNeedingFetchMore();\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nconst arrayUnique = function (array) {\r\n  var a = array.concat();\r\n  for (var i = 0; i < a.length; ++i) {\r\n    for (var j = i + 1; j < a.length; ++j) {\r\n      if (a[i] === a[j]) a.splice(j--, 1);\r\n    }\r\n  }\r\n\r\n  return a;\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"buscadorNodos\"}},[_c('div',{attrs:{\"id\":\"zonaBuscador\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.textoBuscado),expression:\"textoBuscado\"},{name:\"show\",rawName:\"v-show\",value:(_vm.mostrarCuadroBusqueda),expression:\"mostrarCuadroBusqueda\"}],class:{deshabilitado: _vm.buscando},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.textoBuscado)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.buscar($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.textoBuscado=$event.target.value}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.buscando),expression:\"buscando\"}],attrs:{\"texto\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mostrarCuadroBusqueda),expression:\"!mostrarCuadroBusqueda\"}],attrs:{\"src\":require(\"@/assets/iconos/search.svg\"),\"alt\":\"Buscar\",\"title\":\"buscar\",\"id\":\"botonBuscar\"},on:{\"click\":function($event){_vm.mostrarCuadroBusqueda = true}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrarCuadroBusqueda),expression:\"mostrarCuadroBusqueda\"}],attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar búsqueda\",\"id\":\"botonCancelarBusqueda\"},on:{\"click\":function($event){_vm.mostrarCuadroBusqueda = false}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.verResultados && _vm.mostrarCuadroBusqueda),expression:\"verResultados && mostrarCuadroBusqueda\"}],attrs:{\"id\":\"zonaResultados\"}},[_c('div',{attrs:{\"id\":\"listaResultados\"}},_vm._l((_vm.nodosEncontradosRelevantes),function(nodo){return _c('div',{key:nodo.id,staticClass:\"nodoEncontrado\"},[_c('a',{attrs:{\"href\":_vm.clienteUrl + '/#/homeNodoSolidaridad/' + nodo.id}},[_c('div',{staticClass:\"barraPrincipalNodo\"},[_c('div',{attrs:{\"id\":\"zonaIconoNodo\"}},[(nodo.tipoNodo === 'trabajo')?_c('svg',{staticClass:\"svg-inline--fa fa-cog fa-w-16 iconoTipoNodo\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"cog\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"}})]):_c('svg',{staticClass:\"svg-inline--fa fa-star fa-w-18 iconoTipoNodo\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"star\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"}})])]),_c('div',{staticClass:\"nombre\"},[_vm._v(_vm._s(nodo.nombre))]),_c('div',{staticClass:\"zonaBotonesNodoResultado\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('div',{staticClass:\"botonVerDescripcion\",class:{\n                  deshabilitado:\n                    !nodo.descripcion ||\n                    nodo.descripcion.length < 1 ||\n                    nodo.descripcion === 'Sin descripcion' ||\n                    nodo.descripcion === 'Sin descripción',\n                },style:({\n                  borderColor:\n                    _vm.mostrandoDescripcionDe === nodo.id ? 'white' : 'black',\n                }),attrs:{\"title\":_vm.mostrandoDescripcionDe === nodo.id\n                    ? 'Ocultar descripción del nodo'\n                    : 'Mostrar descripción del nodo'},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.mostrandoDescripcionDe =\n                    _vm.mostrandoDescripcionDe === nodo.id ? null : nodo.id}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Descripcion\"}})])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoDescripcionDe === nodo.id),expression:\"mostrandoDescripcionDe === nodo.id\"}],staticClass:\"zonaDescripcion\"},[_c('div',{staticClass:\"descripcion\"},[_vm._v(_vm._s(nodo.descripcion))])])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"buscadorNodos\">\r\n    <div id=\"zonaBuscador\">\r\n      <input\r\n        type=\"text\"\r\n        v-model=\"textoBuscado\"\r\n        v-show=\"mostrarCuadroBusqueda\"\r\n        :class=\"{deshabilitado: buscando}\"\r\n        @keypress.enter=\"buscar\"\r\n      />\r\n      <loading texto=\"\" v-show=\"buscando\"/>\r\n      <img\r\n        src=\"@/assets/iconos/search.svg\"\r\n        alt=\"Buscar\"\r\n        title=\"buscar\"\r\n        id=\"botonBuscar\"\r\n        @click=\"mostrarCuadroBusqueda = true\"\r\n        v-show=\"!mostrarCuadroBusqueda\"\r\n      />\r\n      <img\r\n        src=\"@/assets/iconos/equis.svg\"\r\n        alt=\"Cancelar\"\r\n        title=\"Cancelar búsqueda\"\r\n        id=\"botonCancelarBusqueda\"\r\n        v-show=\"mostrarCuadroBusqueda\"\r\n        @click=\"mostrarCuadroBusqueda = false\"\r\n      />\r\n    </div>\r\n    <div id=\"zonaResultados\" v-show=\"verResultados && mostrarCuadroBusqueda\">\r\n      <div id=\"listaResultados\">\r\n        <div\r\n          class=\"nodoEncontrado\"\r\n          v-for=\"nodo of nodosEncontradosRelevantes\"\r\n          :key=\"nodo.id\"\r\n        >\r\n          <a :href=\"clienteUrl + '/#/homeNodoSolidaridad/' + nodo.id\">\r\n            <div class=\"barraPrincipalNodo\">\r\n              <div id=\"zonaIconoNodo\">\r\n                <svg\r\n                  aria-hidden=\"true\"\r\n                  focusable=\"false\"\r\n                  data-prefix=\"fas\"\r\n                  data-icon=\"cog\"\r\n                  class=\"svg-inline--fa fa-cog fa-w-16 iconoTipoNodo\"\r\n                  role=\"img\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 512 512\"\r\n                  v-if=\"nodo.tipoNodo === 'trabajo'\"\r\n                >\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"\r\n                  ></path>\r\n                </svg>\r\n                <svg\r\n                  aria-hidden=\"true\"\r\n                  focusable=\"false\"\r\n                  data-prefix=\"fas\"\r\n                  data-icon=\"star\"\r\n                  class=\"svg-inline--fa fa-star fa-w-18 iconoTipoNodo\"\r\n                  role=\"img\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 576 512\"\r\n                  v-else\r\n                >\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\r\n                  ></path>\r\n                </svg>\r\n              </div>\r\n              <div class=\"nombre\">{{ nodo.nombre }}</div>\r\n              <div class=\"zonaBotonesNodoResultado\" @click.stop.prevent=\"\">\r\n                <div\r\n                  class=\"botonVerDescripcion\"\r\n                  :title=\"\r\n                    mostrandoDescripcionDe === nodo.id\r\n                      ? 'Ocultar descripción del nodo'\r\n                      : 'Mostrar descripción del nodo'\r\n                  \"\r\n                  @click.stop.prevent=\"\r\n                    mostrandoDescripcionDe =\r\n                      mostrandoDescripcionDe === nodo.id ? null : nodo.id\r\n                  \"\r\n                  :class=\"{\r\n                    deshabilitado:\r\n                      !nodo.descripcion ||\r\n                      nodo.descripcion.length < 1 ||\r\n                      nodo.descripcion === 'Sin descripcion' ||\r\n                      nodo.descripcion === 'Sin descripción',\r\n                  }\"\r\n                  :style=\"{\r\n                    borderColor:\r\n                      mostrandoDescripcionDe === nodo.id ? 'white' : 'black',\r\n                  }\"\r\n                >\r\n                  <img src=\"@/assets/iconos/info.svg\" alt=\"Descripcion\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </a>\r\n          <div\r\n            class=\"zonaDescripcion\"\r\n            v-show=\"mostrandoDescripcionDe === nodo.id\"\r\n          >\r\n            <div class=\"descripcion\">{{ nodo.descripcion }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from '../../utilidades/Loading.vue';\r\nexport default {\r\n  components: { Loading },\r\n  name: \"BuscadorNodos\",\r\n  props: {\r\n    idNodoParent: String,\r\n    listaIdsNodosRelevantes: Array,\r\n  },\r\n  data() {\r\n    return {\r\n      textoBuscado: null,\r\n      buscando:false,\r\n      mostrarCuadroBusqueda: false,\r\n      nodosEncontrados: [],\r\n      verResultados: false,\r\n\r\n      mostrandoDescripcionDe: null,\r\n    };\r\n  },\r\n  methods: {\r\n    buscar() {\r\n      console.log(`Iniciando búsqueda.`);\r\n\r\n      this.buscando = true;\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query ($textoBuscado: String!) {\r\n              busquedaAmpliaNodosSolidaridad(textoBuscado: $textoBuscado) {\r\n                id\r\n                nombre\r\n                tipoNodo\r\n                descripcion\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            textoBuscado: this.textoBuscado,\r\n          },\r\n        })\r\n        .then(({ data: { busquedaAmpliaNodosSolidaridad } }) => {\r\n          this.nodosEncontrados = busquedaAmpliaNodosSolidaridad;\r\n          this.buscando = false;\r\n          this.verResultados = true;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.buscando = false;\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    nodosEncontradosRelevantes() {\r\n      if (!this.listaIdsNodosRelevantes) {\r\n        return this.nodosEncontrados;\r\n      } else {\r\n        return this.nodosEncontrados.filter((ne) =>\r\n          this.listaIdsNodosRelevantes.includes(ne.id)\r\n        );\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#buscadorNodos {\r\n  width: 100%;\r\n}\r\n\r\n#botonCerrar {\r\n  margin-right: 15px;\r\n  margin-left: 5px;\r\n  opacity: 0.7;\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n#zonaBuscador {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0px 10px;\r\n}\r\n\r\n#botonBuscar {\r\n  width: 20px;\r\n  height: 20px;\r\n  opacity: 0.7;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n}\r\n#botonBuscar:hover {\r\n  opacity: 1;\r\n}\r\n#botonCancelarBusqueda {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n  opacity: 0.7;\r\n}\r\n#botonCancelarBusqueda:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.nodoEncontrado {\r\n  padding: 3px 5px;\r\n  cursor: pointer;\r\n  background-color: var(--atlasFondoNodo);\r\n  font-size: 14px;\r\n}\r\n.barraPrincipalNodo {\r\n  display: flex;\r\n}\r\n.barraPrincipalNodo:hover {\r\n  background-color: rgba(0, 0, 0, 0.123);\r\n}\r\n.iconoTipoNodo {\r\n  width: 13px;\r\n  height: 13px;\r\n  filter: inherit;\r\n  margin: 0px 5px;\r\n}\r\n.zonaBotonesNodoResultado {\r\n  margin-left: auto;\r\n  margin-right: 2%;\r\n}\r\n.botonVerDescripcion {\r\n  margin-right: 2%;\r\n  height: 15px;\r\n  width: 15px;\r\n  padding: 2px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-style: solid;\r\n  border-radius: 50%;\r\n  border-width: 1px;\r\n}\r\n\r\n.botonVerDescripcion img {\r\n  width: 90%;\r\n  height: 90%;\r\n}\r\n\r\n.zonaDescripcion {\r\n  border: 1px solid white;\r\n  border-radius: 10px;\r\n  background-color: rgba(255, 255, 255, 0.342);\r\n  padding: 10px;\r\n  margin: 0px 10px;\r\n}\r\n\r\n.descripcion {\r\n  white-space: pre-wrap;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorNodos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorNodos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuscadorNodos.vue?vue&type=template&id=64a2040c&scoped=true&\"\nimport script from \"./BuscadorNodos.vue?vue&type=script&lang=js&\"\nexport * from \"./BuscadorNodos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuscadorNodos.vue?vue&type=style&index=0&id=64a2040c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64a2040c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"listaNodos\"},on:{\"mousedown\":function($event){$event.stopPropagation();},\"touchmove\":function($event){$event.stopPropagation();},\"touchstart\":function($event){$event.stopPropagation();},\"touchend\":function($event){$event.stopPropagation();},\"mouseleave\":function($event){$event.stopPropagation();_vm.idNodoEnArrastre = null; _vm.tipoNodoSourceArrastre=null;},\"mouseup\":function($event){$event.stopPropagation();_vm.idNodoEnArrastre = null; _vm.tipoNodoSourceArrastre=null;}}},[_c('transition-group',{attrs:{\"name\":\"unfoldVertical\",\"tag\":\"div\",\"id\":\"laListaNodos\"}},_vm._l((_vm.nodosPrimerNivel),function(nodoPrimerNivel,index){return _c('nodo-vista-lista',{key:'nodoLista' + nodoPrimerNivel.id,ref:\"nodosEnLista\",refInFor:true,attrs:{\"id\":'nodoEnLista' + nodoPrimerNivel.id,\"esteNodo\":nodoPrimerNivel,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"verCompletados\":_vm.verCompletados,\"verAsumidos\":_vm.verAsumidos,\"verVacios\":_vm.verVacios,\"modoLista\":_vm.modoLista,\"indiceNodosUnder\":_vm.indiceNodosUnder,\"idsNodosNeedingFetchMore\":_vm.idsNodosNeedingFetchMore,\"nodoSiendoArrastrado\":_vm.idNodoEnArrastre,\"usuarioResponsableAmplioNodoOver\":_vm.usuarioResponsableAmplioNodoRoot,\"idNodoOver\":_vm.idNodoRoot,\"tipoNodoOver\":_vm.tipoNodoRoot,\"index\":index},on:{\"nodoSeleccionado\":function($event){return _vm.$emit('nodoSeleccionado', $event)},\"nodosRenderizados\":function($event){return _vm.$emit('nodosRenderizados', $event)},\"inicioArrastre\":function($event){return _vm.iniciarArrastre($event)},\"finDeArrastre\":_vm.finalizarArrastre,\"toggleContenidoTodos\":_vm.toggleContenidoTodos,\"nodoEliminado\":function($event){return _vm.$emit('nodoEliminado', $event)},\"meElimine\":function($event){return _vm.$emit('nodoEliminado', nodoPrimerNivel.id)},\"nodoSolidaridadCreado\":function($event){return _vm.$emit('nodoSolidaridadCreado', $event)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nodoVistaLista\",class:{ deshabilitado: _vm.enviandoQueryGeneral },on:{\"mouseleave\":function($event){_vm.mostrando = _vm.mostrando === 'opcionesCrear' ? null : _vm.mostrando}}},[_c('div',{staticClass:\"elementoLista\",class:{ mostrandoBotonesBarraSuperior: _vm.mostrandoBotonesBarraSuperior }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n        (_vm.modoLista === 'todo' ||\n          (_vm.modoLista === 'usuarioResponsable' &&\n            (_vm.usuarioResponsable || _vm.descendienteUsuarioResponsable))) &&\n        (_vm.visible || _vm.seleccionado)\n      ),expression:\"\\n        (modoLista === 'todo' ||\\n          (modoLista === 'usuarioResponsable' &&\\n            (usuarioResponsable || descendienteUsuarioResponsable))) &&\\n        (visible || seleccionado)\\n      \"}],class:{\n        seleccionado: _vm.seleccionado,\n        mostrandoBotonesBarraSuperior: _vm.mostrandoBotonesBarraSuperior,\n        deshabilitado: _vm.nodoSiendoArrastrado && !_vm.usuarioAdministrador,\n      },style:([\n        _vm.colorBarraSuperior,\n        _vm.estiloRecibiendoArrastrado,\n        { opacity: _vm.siendoArrastrado ? '0.3' : '1' } ]),attrs:{\"id\":\"barraSuperior\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.grabbing($event)},\"mouseup\":function($event){$event.stopPropagation();return _vm.finalizarArrastre($event)},\"mousemove\":_vm.movimientoDeArrastre,\"mouseleave\":function($event){_vm.recibiendoArrastradoEn = null;\n        _vm.grabbed = false;\n        _vm.grabAttempt = 0;},\"click\":function($event){return _vm.$emit(\n          'nodoSeleccionado',\n          _vm.idNodoSeleccionado === _vm.esteNodo.id ? null : _vm.esteNodo.id\n        )}}},[_c('div',{attrs:{\"id\":\"zonaIconoNodo\"},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrandoNodosUnder =\n            _vm.requeridos.length > 0 ? !_vm.mostrandoNodosUnder : false}}},[_c('div',{staticClass:\"trianguloBullet\",class:{\n            waitingFetchChildren: _vm.idsNodosNeedingFetchMore.includes(\n              _vm.esteNodo.id\n            ),\n          },style:([\n            {\n              transform: _vm.mostrandoNodosUnder ? 'rotate(90deg)' : '',\n              visibility: _vm.esteNodo.vinculos.length > 0 ? 'visible' : 'hidden',\n            } ]),attrs:{\"id\":\"trianguloAbrirChildren\",\"title\":_vm.idsNodosNeedingFetchMore.includes(_vm.esteNodo.id)\n              ? 'Descargando nodos...'\n              : _vm.mostrandoNodosUnder\n              ? 'Cerrar subnodos'\n              : 'Abrir subnodos'}}),(_vm.esteNodo.tipoNodo === 'trabajo')?_c('svg',{staticClass:\"svg-inline--fa fa-cog fa-w-16 iconoTipoNodo\",style:({\n            opacity:\n              _vm.idNodoOver && _vm.idNodoOver != _vm.esteNodo.nodoParent ? '0.5' : '1',\n          }),attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"cog\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":_vm.colorIcono,\"d\":\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"}})]):_c('svg',{staticClass:\"svg-inline--fa fa-star fa-w-18 iconoTipoNodo\",style:({\n            opacity:\n              _vm.idNodoOver && _vm.idNodoOver != _vm.esteNodo.nodoParent ? '0.5' : '1',\n          }),attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"star\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":_vm.colorIcono,\"d\":\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNuevoNombre inputNombreCosa\",class:{ deshabilitado: _vm.enviandoNuevoNombre },staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoNombre = false},\"keydown\":_vm.keydownInputNuevoNombre,\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],class:{\n          mostrandoBotonesBarraSuperior: _vm.mostrandoBotonesBarraSuperior,\n          deshabilitado: _vm.enviandoNuevoNombre,\n        },attrs:{\"id\":\"elNombre\"},on:{\"click\":_vm.toggleEditandoNombre}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.nombre)+\" \")]),_c('img',{staticClass:\"boton\",class:{ mostrandoBotonesBarraSuperior: _vm.mostrandoBotonesBarraSuperior },style:({\n          transform: !_vm.mostrandoBotonesBarraSuperior ? 'rotate(90deg)' : '',\n        }),attrs:{\"id\":\"botonAbrirBotonesBarraSuperior\",\"src\":require(\"@/assets/iconos/chevronCircle.svg\"),\"title\":\"Ver opciones\"},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrandoBotonesBarraSuperior = !_vm.mostrandoBotonesBarraSuperior}}}),_c('div',{class:{\n          mostrandoBotonesBarraSuperior: _vm.mostrandoBotonesBarraSuperior,\n          mostrandoOpcionesCrear: _vm.mostrando === 'opcionesCrear',\n        },attrs:{\"id\":\"contenedorBotonesBarraSuperior\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"contenedorBotones\",style:({ visibility: _vm.mostrando != null ? 'visible' : '' }),attrs:{\"id\":\"contenedorBotonesSelectoresContenidoNodo\"}},[_c('div',{staticClass:\"boton botonSelectorContenidoNodo botonBarraSuperior\",class:{\n              deshabilitado:\n                (!_vm.esteNodo.descripcion ||\n                  _vm.esteNodo.descripcion.length < 1 ||\n                  _vm.esteNodo.descripcion === 'Sin descripcion' ||\n                  _vm.esteNodo.descripcion === 'Sin descripción') &&\n                !_vm.usuarioAdministrador,\n            },style:({\n              borderColor: _vm.mostrando === 'descripcion' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'descripcion' ? '' : 'Mostrar descripción'},on:{\"dblclick\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$emit('toggleContenidoTodos', {\n                contenido: 'descripcion',\n                estado: _vm.mostrando != 'descripcion',\n              })},\"click\":function($event){_vm.mostrando = _vm.mostrando === 'descripcion' ? null : 'descripcion'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Descripción\"}})]),_c('div',{staticClass:\"boton botonSelectorContenidoNodo botonBarraSuperior\",style:({\n              borderColor: _vm.mostrando === 'responsables' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'responsables'\n                ? ''\n                : 'Mostrar responsables del nodo'},on:{\"dblclick\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$emit('toggleContenidoTodos', {\n                contenido: 'responsables',\n                estado: _vm.mostrando != 'responsables',\n              })},\"click\":function($event){_vm.mostrando = _vm.mostrando === 'responsables' ? null : 'responsables'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/user.svg\"),\"alt\":\"Responsables\"}})]),(_vm.usuarioAdministrador)?_c('div',{staticClass:\"boton botonSelectorContenidoNodo botonBarraSuperior\",class:{\n              deshabilitado:\n                !_vm.esteNodo.keywords || _vm.esteNodo.keywords.length < 1,\n            },style:({\n              borderColor: _vm.mostrando === 'keywords' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'keywords' ? '' : 'Mostrar palabras clave'},on:{\"dblclick\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$emit('toggleContenidoTodos', {\n                contenido: 'keywords',\n                estado: _vm.mostrando != 'keywords',\n              })},\"click\":function($event){_vm.mostrando = _vm.mostrando === 'keywords' ? null : 'keywords'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/tag.svg\"),\"alt\":\"Keywords\"}})]):_vm._e(),_c('div',{staticClass:\"boton botonSelectorContenidoNodo botonBarraSuperior\",class:{\n              deshabilitado:\n                !_vm.esteNodo.recursosExternos ||\n                _vm.esteNodo.recursosExternos.length < 1,\n            },style:({\n              borderColor:\n                _vm.mostrando === 'recursosExternos' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'recursosExternos'\n                ? ''\n                : 'Mostrar recursosExternos'},on:{\"dblclick\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$emit('toggleContenidoTodos', {\n                contenido: 'recursosExternos',\n                estado: _vm.mostrando != 'recursosExternos',\n              })},\"click\":function($event){_vm.mostrando =\n                _vm.mostrando === 'recursosExternos' ? null : 'recursosExternos'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/link.svg\"),\"alt\":\"Enlace\"}})]),_c('div',{staticClass:\"boton botonSelectorContenidoNodo botonBarraSuperior\",style:({\n              borderColor: _vm.mostrando === 'calendario' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'calendario'\n                ? 'Ocultar calendario'\n                : 'Mostrar en calendario'},on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'calendario' ? null : 'calendario'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendar.svg\"),\"alt\":\"calendario\"}})])]),_c('div',{staticClass:\"contenedorBotones\",attrs:{\"id\":\"botonesAccionesNodo\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioAdministrador || _vm.usuarioSuperadministrador),expression:\"usuarioAdministrador || usuarioSuperadministrador\"}],staticClass:\"boton botonBarraSuperior\",style:([{filter:_vm.esteNodo.publicitado?'var(--atlasFilterVerde)':''}]),attrs:{\"title\":_vm.esteNodo.publicitado ? 'No publicitar' : 'Publicitar'},on:{\"click\":_vm.togglePublicitado}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/productHunt.svg\"),\"alt\":\"P\"}})]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.togglingEstado),expression:\"!togglingEstado\"}],staticClass:\"\\n              svg-inline--fa\\n              fa-check-circle fa-w-16\\n              boton\\n              botonBarraSuperior\\n            \",class:{\n              deshabilitado: _vm.togglingEstado || !_vm.usuarioAdministrador,\n            },attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"far\",\"data-icon\":\"check-circle\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"title\":_vm.esteNodo.estadoDesarrollo === 'completado'\n                ? 'Desmarcar como completado'\n                : 'Marcar como completado',\"id\":\"botonMarcarCompletado\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleEstadoNodo()}}},[_c('path',{attrs:{\"fill\":_vm.esteNodo.estadoDesarrollo === 'completado'\n                  ? 'var(--atlasVerde)'\n                  : '',\"d\":\"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.togglingEstado),expression:\"togglingEstado\"}],attrs:{\"texto\":\"\"}}),_c('div',{class:{\n              deshabilitado: _vm.creandoSubNodo || !_vm.usuarioResponsableAmplio,\n            },attrs:{\"id\":\"botonCrear\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando != 'opcionesCrear'),expression:\"mostrando != 'opcionesCrear'\"}],staticClass:\"boton botonBarraSuperior\",style:([\n                {\n                  borderColor:\n                    _vm.mostrando === 'opcionesCrear' ? 'white' : 'transparent',\n                } ]),attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Mas...\",\"title\":\"Nuevo...\",\"id\":\"botonCrearNuevoNodo\"},on:{\"click\":function($event){_vm.mostrando =\n                  _vm.mostrando === 'opcionesCrear' ? null : 'opcionesCrear'}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'opcionesCrear'),expression:\"mostrando === 'opcionesCrear'\"}],style:([\n                {\n                  borderColor:\n                    _vm.mostrando === 'opcionesCrear' ? 'white' : 'transparent',\n                } ]),attrs:{\"id\":\"contenedorOpcionesCrear\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.esteNodo.tipoNodo === 'objetivo'),expression:\"esteNodo.tipoNodo === 'objetivo'\"}],staticClass:\"boton botonBarraSuperior opcionCrear\",attrs:{\"src\":require(\"@/assets/iconos/starSolid.svg\"),\"alt\":\"Objetivo\",\"title\":\"Crear nuevo objetivo\"},on:{\"click\":function($event){return _vm.crearNuevoNodoUnder({ tipoNodo: 'objetivo' }, _vm.esteNodo.id)}}}),_c('img',{staticClass:\"boton botonBarraSuperior opcionCrear\",attrs:{\"src\":require(\"@/assets/iconos/cog.svg\"),\"alt\":\"Trabajo\",\"title\":\"Crear nuevo trabajo\"},on:{\"click\":function($event){return _vm.crearNuevoNodoUnder({ tipoNodo: 'trabajo' }, _vm.esteNodo.id)}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoSubNodo),expression:\"creandoSubNodo\"}],attrs:{\"texto\":\"\"}})],1)])],1),_c('div',{staticClass:\"contenedorBotones\",attrs:{\"id\":\"botonesEnlacesNodo\"}},[_c('a',{attrs:{\"href\":_vm.clienteUrl + '/#/homeNodoSolidaridad/' + _vm.esteNodo.id}},[_c('img',{staticClass:\"boton botonBarraSuperior\",attrs:{\"src\":require(\"@/assets/iconos/home.svg\"),\"alt\":\"Home\",\"title\":\"Ir a la página de este nodo\",\"id\":\"botonHomeNodo\"}})])]),_c('div',{staticClass:\"contenedorBotones\",attrs:{\"id\":\"botonesEliminarNodo\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioAdministrador),expression:\"usuarioAdministrador\"}],staticClass:\"boton botonBarraSuperior\",attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar este nodo\",\"id\":\"botonEliminarNodo\"},on:{\"click\":_vm.eliminarse}})])])],1),_c('div',{attrs:{\"id\":\"contenidos\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'descripcion'),expression:\"mostrando === 'descripcion'\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"descripcion\"},on:{\"click\":_vm.toggleEditandoDescripcion}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",staticClass:\"inputTextoNodo\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}}),_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionDescripcion\"},on:{\"click\":function($event){_vm.editandoDescripcion = false}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'keywords'),expression:\"mostrando === 'keywords'\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaKeywords\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoKeywords),expression:\"!editandoKeywords\"}],ref:\"keywords\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"keywords\"},on:{\"click\":_vm.toggleEditandoKeywords}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.keywords)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoKeywords),expression:\"nuevoKeywords\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoKeywords),expression:\"editandoKeywords\"}],ref:\"inputNuevoKeywords\",staticClass:\"inputTextoNodo\",class:{ letrasRojas: _vm.nuevoKeywordsIlegal },attrs:{\"id\":\"inputNuevoKeywords\"},domProps:{\"value\":(_vm.nuevoKeywords)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }$event.stopPropagation();_vm.editandoKeywords = false},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.guardarNuevoKeywords($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoKeywords=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoKeywords),expression:\"editandoKeywords\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar palabras clave\",\"id\":\"botonGuardarKeywords\"},on:{\"click\":_vm.guardarNuevoKeywords}}),_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionKeywords\"},on:{\"click\":function($event){_vm.editandoKeywords = false}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoKeywords),expression:\"enviandoNuevoKeywords\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'recursosExternos'),expression:\"mostrando === 'recursosExternos'\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaRecursosExternos\"}},_vm._l((_vm.esteNodo.recursosExternos),function(recursoExterno){return _c('recurso-externo-nodo',{key:recursoExterno.id,attrs:{\"usuarioResponsableAmplio\":_vm.usuarioResponsableAmplio,\"esteRecurso\":recursoExterno,\"idNodo\":_vm.esteNodo.id}})}),1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'responsables'),expression:\"mostrando === 'responsables'\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaResponsables\"}},[_c('div',{staticClass:\"contenedorBotonesZona\",attrs:{\"id\":\"contenedorBotonesResponsables\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n              !_vm.usuarioResponsable &&\n              !_vm.usuarioPosibleResponsable &&\n              !_vm.idResponsableSeleccionado\n            ),expression:\"\\n              !usuarioResponsable &&\\n              !usuarioPosibleResponsable &&\\n              !idResponsableSeleccionado\\n            \"}],staticClass:\"botonControlZona botonControlResponsables\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"src\":require(\"@/assets/iconos/mas.svg\"),\"alt\":\"Entrar\",\"title\":(_vm.esteNodo.responsables.length < 1 &&\n                _vm.esteNodo.tipoParent != 'usuario') ||\n              _vm.usuarioParent\n                ? 'Asumir'\n                : 'Solicitar participación',\"id\":\"botonEntrarResponsables\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.entrarResponsables($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n              (_vm.usuarioResponsable || _vm.usuarioPosibleResponsable) &&\n              !_vm.idResponsableSeleccionado\n            ),expression:\"\\n              (usuarioResponsable || usuarioPosibleResponsable) &&\\n              !idResponsableSeleccionado\\n            \"}],staticClass:\"botonControlZona botonControlResponsables\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"src\":require(\"@/assets/iconos/minus.svg\"),\"alt\":\"Salir\",\"title\":\"Abandonar\",\"id\":\"botonAbandonarResponsables\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.abandonarListaResponsables($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n              _vm.idResponsableSeleccionado &&\n              (_vm.usuarioSuperadministrador || _vm.usuarioParent)\n            ),expression:\"\\n              idResponsableSeleccionado &&\\n              (usuarioSuperadministrador || usuarioParent)\\n            \"}],staticClass:\"boton botonControlZona botonControlResponsables\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"src\":require(\"@/assets/iconos/minus.svg\"),\"alt\":\"Sacar\",\"title\":\"Retirar usuario\",\"id\":\"botonRetirarUsuarioFromResponsables\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.retirarUsuarioFromListaResponsables(_vm.idResponsableSeleccionado)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n              _vm.usuarioResponsableAmplio &&\n              _vm.idResponsableSeleccionado &&\n              !_vm.esteNodo.responsables.includes(_vm.idResponsableSeleccionado)\n            ),expression:\"\\n              usuarioResponsableAmplio &&\\n              idResponsableSeleccionado &&\\n              !esteNodo.responsables.includes(idResponsableSeleccionado)\\n            \"}],staticClass:\"botonControlZona botonControlResponsables\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"src\":require(\"@/assets/iconos/handshake.svg\"),\"alt\":\"Aceptar\",\"title\":\"Aceptar como responsable\",\"id\":\"botonAbandonarResponsables\"},on:{\"click\":function($event){return _vm.aceptarResponsable(_vm.idResponsableSeleccionado)}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoQueryResponsables),expression:\"enviandoQueryResponsables\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{attrs:{\"id\":\"listaResponsables\"},on:{\"click\":function($event){$event.stopPropagation();_vm.idResponsableSeleccionado = null}}},_vm._l((_vm.esteNodo.responsables.concat(\n              _vm.esteNodo.posiblesResponsables\n            )),function(idResponsable){return _c('icono-persona-autonomo',{key:idResponsable,style:({\n              opacity: _vm.esteNodo.posiblesResponsables.includes(idResponsable)\n                ? 0.5\n                : 1,\n            }),attrs:{\"idPersona\":idResponsable,\"seleccionado\":_vm.idResponsableSeleccionado == idResponsable,\"factorEscala\":'0.7'},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.idResponsableSeleccionado = idResponsable}}})}),1)]),(_vm.mostrando === 'calendario')?_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaCalendario\"}},[_c('div',{staticClass:\"contenedorBotonesZona\",staticStyle:{\"flex-direction\":\"row-reverse\"},attrs:{\"id\":\"contenedorBotonesCalendario\"}},[(_vm.usuarioAdministrador)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'calendario' && !_vm.creandoEvento),expression:\"mostrando === 'calendario' && !creandoEvento\"}],staticClass:\"boton botonControlCalendario\",attrs:{\"title\":'Programar una sesión de ' + _vm.esteNodo.nombre},on:{\"click\":_vm.iniciarCreacionEvento}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendarPlus.svg\"),\"alt\":\"Calendario\"}})]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoEvento),expression:\"creandoEvento\"}],staticClass:\"boton\",attrs:{\"title\":\"Cancelar\"},on:{\"click\":function($event){_vm.creandoEvento = false}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/times.svg\"),\"alt\":\"Cancelar\"}})])]),_c('calendario',{ref:\"calendario\",attrs:{\"idUsuarioTarget\":_vm.usuario.id,\"idParent\":_vm.esteNodo.id,\"enfasis\":\"eventosPersonales\",\"tipoParent\":\"nodoSolidaridad\"},on:{\"iniciaCreacionEvento\":function($event){_vm.creandoEvento = false},\"eventoCreado\":function($event){return _vm.responderEventoCreado($event, 'calendario')},\"eventoEliminado\":function($event){return _vm.responderEventoEliminado($event, 'calendario')}}})],1):_vm._e()]),(_vm.requeridos.length > 0)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoNodosUnder),expression:\"mostrandoNodosUnder\"}],attrs:{\"id\":\"sublista\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoNodosUnder),expression:\"mostrandoNodosUnder\"}],attrs:{\"id\":\"lineaLista\"}}),_vm._l((_vm.requeridos),function(nodo,index){return _c('nodo-vista-lista',{key:nodo.id,ref:\"nodosRequeridos\",refInFor:true,attrs:{\"esteNodo\":nodo,\"index\":index,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"id\":'nodoEnLista' + nodo.id,\"mostrarColoresCompletado\":_vm.seleccionado,\"mostrandoNodosCompletados\":_vm.mostrandoNodosCompletados,\"verCompletados\":_vm.verCompletados,\"modoLista\":_vm.modoLista,\"indiceNodosUnder\":_vm.indiceNodosUnder,\"descendienteUsuarioResponsable\":_vm.usuarioResponsable || _vm.descendienteUsuarioResponsable,\"usuarioResponsableAmplioNodoOver\":_vm.usuarioResponsableAmplio,\"idsNodosNeedingFetchMore\":_vm.idsNodosNeedingFetchMore,\"nodoSiendoArrastrado\":_vm.nodoSiendoArrastrado,\"idNodoOver\":_vm.esteNodo.id,\"tipoNodoOver\":\"nodoSolidaridad\",\"underNodoSeleccionado\":(_vm.idNodoSeleccionado && _vm.idNodoSeleccionado === _vm.esteNodo.id) ||\n          _vm.underNodoSeleccionado},on:{\"nodoSeleccionado\":function($event){return _vm.$emit('nodoSeleccionado', $event)},\"nodosRenderizados\":function($event){return _vm.$emit('nodosRenderizados', $event)},\"inicioArrastre\":function($event){return _vm.$emit('inicioArrastre', $event)},\"finDeArrastre\":function($event){return _vm.$emit('finDeArrastre', $event)},\"toggleContenidoTodos\":function($event){return _vm.$emit('toggleContenidoTodos', $event)},\"meElimine\":function($event){return _vm.$emit('nodoEliminado', nodo.id)},\"nodoEliminado\":function($event){return _vm.$emit('nodoEliminado', $event)},\"nodoSolidaridadCreado\":function($event){return _vm.$emit('nodoSolidaridadCreado', $event)}}})}),_c('div',{attrs:{\"id\":\"lineaFinal\"}})],2):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoPersonaAutonomo\",class:{ yo: _vm.soyYo },style:([_vm.offsetIcono])},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fotografiaEnabled),expression:\"fotografiaEnabled\"}],staticClass:\"fotografia\",style:([_vm.offsetFoto]),attrs:{\"src\":this.serverUrl + '/api/usuarios/fotografias/' + _vm.idPersona,\"alt\":\"Usuario\"},on:{\"load\":function($event){_vm.fotografiaEnabled = true}}}),_c('div',{attrs:{\"id\":\"contenedorAlertas\"}},[_vm._t(\"alertas\")],2),_c('div',{staticClass:\"nombres\",class:{ nombreSeleccionado: _vm.seleccionado },style:([{ fontSize: _vm.basicFontSizeNombre * _vm.factor + 'px' }])},[_vm._v(\" \"+_vm._s(_vm.estaPersona.nombres)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuContextual),expression:\"menuContextual\"}],attrs:{\"id\":\"menuCxPersona\"}},[_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.copiarId($event)}}},[_vm._v(_vm._s(_vm.idPersona))]),(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"botonMenuCx\"},[_vm._v(\" \"+_vm._s(_vm.estaPersona.username)+\" \")]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoPermiso),expression:\"nuevoPermiso\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Nuevo permiso\"},domProps:{\"value\":(_vm.nuevoPermiso)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoPermiso=$event.target.value}}}),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addPermisos($event)}}},[_vm._v(\"Dar permiso\")]),_vm._l((_vm.opcionesMenuCx),function(opcionCx,index){return _c('div',{key:index,staticClass:\"botonMenuCx\",on:{\"click\":function($event){return _vm.$emit(opcionCx.evento)}}},[_vm._v(\" \"+_vm._s(opcionCx.textoVisible)+\" \")])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import gql from \"graphql-tag\"\r\n\r\nexport const fragmentoEvento = gql`\r\n  fragment fragEvento on EventoCalendario{\r\n    id\r\n    nombre\r\n    descripcion\r\n    horarioInicio\r\n    horarioFinal\r\n    responsables  \r\n    participantes\r\n    origen\r\n    idOrigen    \r\n  }\r\n`;\r\n\r\nexport const fragmentoResponsables = gql`\r\nfragment fragResponsables on PublicUsuario {\r\n  id\r\n  username\r\n  nombres\r\n  apellidos\r\n  email\r\n  permisos\r\n  numeroTel\r\n  lugarResidencia\r\n}\r\n`;\r\n\r\nexport const fragmentoMinimoPersona = gql`\r\nfragment fragMinimoPersona on PublicUsuario {\r\n  id\r\n  nombres\r\n  apellidos\r\n  username\r\n}\r\n`;\r\n\r\nexport const fragmentoParticipacion = gql`\r\n  fragment fragParticipacion on ParticipacionActividadGrupoEstudiantil{\r\n    id\r\n      fechaUpload\r\n      archivo {\r\n        extension\r\n        nombre\r\n        googleDriveDirectLink,        \r\n      }\r\n      comentario\r\n      enlaceAdjunto\r\n      infoAutor{\r\n        ...fragMinimoPersona\r\n      }\r\n  }\r\n  ${fragmentoMinimoPersona}\r\n`\r\n\r\nexport const fragmentoDesarrollo = gql`\r\nfragment fragDesarrollo on DesarrolloActividadGrupoEstudiantil{\r\n    id\r\n    estado\r\n    leidoPorProfe\r\n    infoEstudiante{\r\n      ...fragMinimoPersona\r\n    }\r\n    participaciones {\r\n      ...fragParticipacion\r\n    }\r\n}\r\n${fragmentoParticipacion}\r\n`;\r\n\r\nexport const fragmentoActividad = gql`\r\nfragment fragActividad on ActividadGrupoEstudiantil {\r\n  id\r\n  nombre\r\n  fechaUpload\r\n  hayGuia\r\n  infoCreador{\r\n    ...fragMinimoPersona\r\n  }\r\n  desarrollos {\r\n    ...fragDesarrollo \r\n  }\r\n}\r\n${fragmentoDesarrollo}\r\n`;\r\n\r\nexport const fragmentoBienProyecto = gql`\r\n  fragment fragBienProyecto on BienProyecto{\r\n    id\r\n      nombre\r\n      descripcion\r\n      unidad\r\n      cantidad\r\n      fechaCierre\r\n      fechaReparticion\r\n      instruccionesRecibir\r\n      listaPeticiones{\r\n        idBeneficiario\r\n        cantidadSolicitada\r\n        cantidadAsignada\r\n      }\r\n  }\r\n`\r\n\r\nexport const fragmentoServicioProyecto = gql`\r\nfragment fragServicioProyecto on ServicioProyecto{\r\n  id\r\n  nombre\r\n  descripcion\r\n  listaPeticiones{\r\n    idBeneficiario\r\n  }\r\n}\r\n`\r\nexport const fragmentoTrabajoProyecto = gql`\r\n  fragment fragTrabajoProyecto on TrabajoDeProyecto{\r\n    id\r\n      nombre\r\n      descripcion\r\n      estadoDesarrollo\r\n      vinculos{\r\n        idRef\r\n        tipo\r\n        tipoRef\r\n      }\r\n      coords{\r\n        x\r\n        y\r\n      }\r\n  }\r\n`;\r\n\r\nexport const fragmentoObjetivoProyecto = gql`\r\n  fragment fragObjetivoProyecto on ObjetivoDeProyecto{\r\n    id\r\n    nombre\r\n    descripcion\r\n    estadoDesarrollo\r\n    vinculos{\r\n      idRef\r\n      tipo\r\n      tipoRef\r\n    }\r\n    coords{\r\n      x\r\n      y\r\n    }\r\n  }\r\n`;\r\n\r\nexport const fragmentoProyecto = gql`\r\n  fragment fragProyecto on Proyecto{\r\n    id\r\n    nombre\r\n    descripcion\r\n    idForo\r\n    responsables\r\n    participantes\r\n    posiblesResponsables    \r\n    objetivos {\r\n      ...fragObjetivoProyecto\r\n    }\r\n    trabajos {\r\n      ...fragTrabajoProyecto\r\n    }\r\n  }  \r\n  ${fragmentoTrabajoProyecto}\r\n  ${fragmentoObjetivoProyecto}\r\n`;\r\n\r\nconst fragmentoQuote =gql`\r\n  fragment fragQuote on Quote{\r\n    mensaje    \r\n    infoAutor{\r\n      id\r\n      nombres\r\n      apellidos\r\n      username\r\n    }\r\n    fecha\r\n  }\r\n`;\r\n\r\nconst fragmentoInterpolacion =gql`\r\n  fragment fragInterpolacion on Interpolacion{\r\n    tipo\r\n    enlaceIframe\r\n    mensaje    \r\n  }\r\n`;\r\n\r\nexport const fragmentoRespuesta = gql`\r\n  fragment fragRespuesta on RespuestaConversacionForo{\r\n    id\r\n    fecha\r\n    mensaje\r\n    interpolaciones{\r\n      ...fragInterpolacion\r\n      quote{\r\n        ...fragQuote\r\n        interpolaciones{\r\n          ...fragInterpolacion\r\n          quote{\r\n            ...fragQuote\r\n            interpolaciones{\r\n              ...fragInterpolacion\r\n              quote{\r\n                ...fragQuote\r\n                interpolaciones{\r\n                  ...fragInterpolacion\r\n                  quote{\r\n                    ...fragQuote\r\n                    interpolaciones{\r\n                      ...fragInterpolacion\r\n                      quote{\r\n                        ...fragQuote\r\n                        interpolaciones{\r\n                          ...fragInterpolacion\r\n                          quote{\r\n                            ...fragQuote\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    enlaceAdjunto\r\n    infoAutor{\r\n      id\r\n      nombres\r\n      apellidos\r\n      username\r\n    }\r\n    archivo{\r\n      googleDriveDirectLink\r\n    }\r\n  }\r\n  ${fragmentoQuote}, \r\n  ${fragmentoInterpolacion}\r\n`;\r\n\r\nexport const fragmentoConversacion = gql`\r\n  fragment fragConversacion on Conversacion{\r\n    id\r\n    titulo    \r\n    estado\r\n    acceso   \r\n    cantidadRespuestas\r\n    infoUltimaRespuesta{\r\n      fecha      \r\n    }\r\n  }\r\n`;","<template>\r\n  <div class=\"iconoPersonaAutonomo\" :class=\"{ yo: soyYo }\" :style=\"[offsetIcono]\">\r\n    <img\r\n      class=\"fotografia\"\r\n      :src=\"this.serverUrl + '/api/usuarios/fotografias/' + idPersona\"\r\n      :style=\"[offsetFoto]\"\r\n      v-show=\"fotografiaEnabled\"\r\n      @load=\"fotografiaEnabled = true\"\r\n      alt=\"Usuario\"\r\n    />\r\n    <div id=\"contenedorAlertas\">\r\n      <slot name=\"alertas\"></slot>\r\n    </div>\r\n    <div\r\n      class=\"nombres\"\r\n      :class=\"{ nombreSeleccionado: seleccionado }\"\r\n      :style=\"[{ fontSize: basicFontSizeNombre * factor + 'px' }]\"\r\n    >\r\n      {{ estaPersona.nombres }}\r\n    </div>\r\n    <div id=\"menuCxPersona\" v-show=\"menuContextual\">\r\n      <div class=\"botonMenuCx\" @click.stop=\"copiarId\">{{ idPersona }}</div>\r\n      <div class=\"botonMenuCx\" v-if=\"usuarioSuperadministrador\">\r\n        {{ estaPersona.username }}\r\n      </div>\r\n      <input type=\"text\" v-model=\"nuevoPermiso\" placeholder=\"Nuevo permiso\" />\r\n      <div class=\"botonMenuCx\" @click.stop=\"addPermisos\">Dar permiso</div>\r\n      <div\r\n        class=\"botonMenuCx\"\r\n        :key=\"index\"\r\n        v-for=\"(opcionCx, index) of opcionesMenuCx\"\r\n        @click=\"$emit(opcionCx.evento)\"\r\n      >\r\n        {{ opcionCx.textoVisible }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport { fragmentoMinimoPersona } from \"../utilidades/recursosGql\";\r\n\r\nconst QUERY_PERSONA = gql`\r\n  query ($idUsuario: ID!) {\r\n    publicUsuario(idUsuario: $idUsuario) {\r\n      ...fragMinimoPersona\r\n    }\r\n  }\r\n  ${fragmentoMinimoPersona}\r\n`;\r\n\r\nexport default {\r\n  name: \"IconoPersonaAutonomo\",\r\n  apollo: {\r\n    estaPersona: {\r\n      query: QUERY_PERSONA,\r\n      variables() {\r\n        return {\r\n          idUsuario: this.idPersona,\r\n        };\r\n      },\r\n      update({ publicUsuario }) {\r\n        return publicUsuario;\r\n      },\r\n      skip() {\r\n        return !this.idPersona;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      estaPersona: {\r\n        permisos: [],\r\n      },\r\n      nuevoPermiso: null,\r\n      mounted: false,\r\n      fotografiaEnabled: false,\r\n\r\n      basicWidthFoto: 70,\r\n      basicFontSizeNombre: 15,\r\n    };\r\n  },\r\n  props: {\r\n    idPersona: String,\r\n    seleccionado: Boolean,\r\n    menuContextual: Boolean,\r\n    factorEscala: {\r\n      type: String,\r\n      default: \"1\",\r\n    },\r\n    opcionesMenuCx: {\r\n      type: Array,\r\n    },\r\n  },\r\n  computed: {\r\n    soyYo() {\r\n      if (this.mounted && this.idPersona && this.$store.state.usuario) {\r\n        return this.$store.state.usuario.id == this.idPersona ? true : false;\r\n      }\r\n      return false;\r\n    },\r\n    offsetFoto() {\r\n      return {\r\n        width: this.basicWidthFoto * this.factor + \"px\",\r\n        height: this.basicWidthFoto * this.factor + \"px\",\r\n      };\r\n    },\r\n    offsetIcono() {\r\n      return {\r\n        width: this.basicWidthFoto * this.factor + \"px\",\r\n      };\r\n    },\r\n    factor() {\r\n      return Number(this.factorEscala);\r\n    },\r\n  },\r\n  methods: {\r\n    addPermisos() {\r\n      console.log(\r\n        `enviando ${this.nuevoPermiso} para el usuario con id ${this.idPersona}`\r\n      );\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($nuevoPermiso: String!, $idUsuario: ID!) {\r\n              addPermisoUsuario(\r\n                nuevoPermiso: $nuevoPermiso\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                permisos\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            nuevoPermiso: this.nuevoPermiso,\r\n            idUsuario: this.idPersona,\r\n          },\r\n        })\r\n        .then(() => {})\r\n        .catch((error) => {\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    copiarId(e) {\r\n      let str = e.target.innerText.trim();\r\n      const el = document.createElement(\"textarea\");\r\n      el.value = str;\r\n      document.body.appendChild(el);\r\n      el.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(el);\r\n    },\r\n    fotografiaCargada() {\r\n      console.log(`Fotografía cargada`);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.mounted = true;\r\n  },\r\n  beforeRouteUpdate() {\r\n    console.log(`Before update`);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.iconoPersonaAutonomo {\r\n  cursor: pointer;\r\n  position: relative;\r\n  border-radius: 50%;\r\n  margin-bottom: 50px;\r\n  user-select: none;\r\n}\r\n\r\n.fotografia {\r\n  border-radius: 50%;\r\n  pointer-events: none;\r\n}\r\n\r\n#contenedorAlertas {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n\r\n.nombres {\r\n  background-color: rgb(243, 216, 204);\r\n  position: absolute;\r\n  top: 105%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  text-align: center;\r\n  border: 1px solid rgb(105, 24, 24);\r\n  padding: 3px 5px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n.nombreSeleccionado {\r\n  background-color: rgb(241, 116, 63);\r\n}\r\n\r\n.botonMenuCx {\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  padding: 3px 7px;\r\n}\r\n.seccionMenuCx {\r\n  font-size: 15px;\r\n  color: rgb(71, 71, 71);\r\n}\r\n.infoMenuCx {\r\n  font-size: 15px;\r\n  color: rgb(107, 107, 107);\r\n}\r\n.botonMenuCx:hover {\r\n  background-color: gray;\r\n}\r\n#menuCxPersona {\r\n  position: absolute;\r\n  top: 110%;\r\n  left: 110%;\r\n  min-width: 140px;\r\n\r\n  z-index: 10;\r\n  background-color: rgb(177, 177, 159);\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoPersonaAutonomo.vue?vue&type=template&id=2c74ba30&scoped=true&\"\nimport script from \"./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoPersonaAutonomo.vue?vue&type=style&index=0&id=2c74ba30&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c74ba30\",\n  null\n  \n)\n\nexport default component.exports","export const charProhibidosNombreCosa = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\r\nexport const charProhibidosTexto =\r\n  /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;","import gql from \"graphql-tag\";\r\nimport { charProhibidosNombreCosa, charProhibidosTexto } from \"./configuracion\";\r\n\r\nimport { fragmentoNodoSolidaridad, fragmentoPersonaAtlas } from \"./frags\";\r\n\r\nexport const charProhibidosNombreNodo = charProhibidosNombreCosa;\r\nexport const charProhibidosDescripcionNodo = charProhibidosTexto\r\nexport const charProhibidosKeywords = /[^ a-zA-Zñ0-9]/;\r\nexport const QUERY_DATOS_USUARIO_ATLAS_SOLIDARIDAD = gql`\r\n  query {\r\n    yo {\r\n      id\r\n      nombre\r\n      coords{\r\n        x\r\n        y\r\n      }\r\n      vinculos{\r\n      id\r\n        tipo\r\n        idRef\r\n      }\r\n      fuerzaCentroMasa{\r\n      fuerza\r\n      direccion\r\n    }\r\n    fuerzaColision{\r\n      fuerza\r\n      direccion  \r\n    }\r\n      atlasSolidaridad {\r\n        id\r\n        coordsVista {\r\n          x\r\n          y\r\n        }\r\n        idsNodosDesplegados\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport var MixinGeneralNodoSolidaridad = {\r\n  data() {\r\n    return {\r\n      enviandoQueryGeneral: false,\r\n    }\r\n  },\r\n  methods: {\r\n    eliminarse() {\r\n      if (!this.usuarioSuperadministrador && !this.usuarioAdministrador) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (\r\n        !confirm(\r\n          \"¿Confirmar eliminación de nodo? (Esta acción no puede deshacerse\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n      this.enviandoQueryGeneral = true;\r\n      const dis = this;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!) {\r\n                    eliminarNodoSolidaridad(idNodo: $idNodo)\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          dis.enviandoQueryGeneral = false;\r\n          this.$emit(\"meElimine\")\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          dis.enviandoQueryGeneral = false;\r\n        });\r\n    },\r\n  }\r\n}\r\n\r\nexport var MixinEdicionNodoSolidaridad = {\r\n  data() {\r\n    return {\r\n      idResponsableSeleccionado: null,\r\n      enviandoQueryResponsables: false,\r\n\r\n      nuevoNombre: \"Nuevo nombre\",\r\n      editandoNombre: false,\r\n      enviandoNuevoNombre: false,\r\n\r\n      nuevoDescripcion: \"Nueva descripcion\",\r\n      editandoDescripcion: false,\r\n      enviandoNuevoDescripcion: false,\r\n\r\n      nuevoKeywords: null,\r\n      editandoKeywords: false,\r\n      enviandoNuevoKeywords: false,\r\n\r\n      togglingEstado: false,\r\n    };\r\n  },\r\n  methods: {\r\n\r\n    guardarNuevoNombre() {\r\n      this.nuevoNombre = this.$refs.inputNuevoNombre.value;\r\n\r\n      if (this.nuevoNombreIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoNombre == this.esteNodo.nombre) {\r\n        this.editandoNombre = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo nombre`);\r\n      this.enviandoNuevoNombre = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!, $nuevoNombre: String!) {\r\n                    editarNombreNodoSolidaridad(\r\n                      idNodo: $idNodo\r\n                      nuevoNombre: $nuevoNombre\r\n                    ) {\r\n                      id\r\n                      nombre\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            nuevoNombre: this.nuevoNombre,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoNombre = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoDescripcion() {\r\n      if (this.nuevoDescripcionIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoDescripcion == this.esteNodo.descripcion) {\r\n        this.editandoDescripcion = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo descripcion`);\r\n      this.enviandoNuevoDescripcion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!, $nuevoDescripcion: String!) {\r\n                    editarDescripcionNodoSolidaridad(\r\n                      idNodo: $idNodo\r\n                      nuevoDescripcion: $nuevoDescripcion\r\n                    ) {\r\n                      id\r\n                      descripcion\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            nuevoDescripcion: this.nuevoDescripcion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          this.editandoDescripcion = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoKeywords() {\r\n      if (this.nuevoKeywordsIlegal) {\r\n        console.log(`Keywords ilegal`);\r\n        return;\r\n      }\r\n      if (this.nuevoKeywords == this.esteNodo.keywords) {\r\n        this.editandoKeywords = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo keywords`);\r\n      this.enviandoNuevoKeywords = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!, $nuevoKeywords: String!) {\r\n                    editarKeywordsNodoSolidaridad(\r\n                      idNodo: $idNodo\r\n                      nuevoKeywords: $nuevoKeywords\r\n                    ) {\r\n                      id\r\n                      keywords\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            nuevoKeywords: this.nuevoKeywords,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoKeywords = false;\r\n          this.editandoKeywords = false;\r\n        })\r\n        .catch(({ graphQLErrors }) => {\r\n          this.enviandoNuevoKeywords = false;\r\n          console.log(`Error. E :${graphQLErrors}`);\r\n        });\r\n    },\r\n    toggleEditandoDescripcion() {\r\n      if (!this.usuarioAdministrador) {\r\n        return;\r\n      }\r\n      this.$refs.inputNuevoDescripcion.style.height =\r\n        this.$refs.descripcion.offsetHeight + \"px\";\r\n      this.editandoDescripcion = !this.editandoDescripcion;\r\n      this.nuevoDescripcion = this.esteNodo.descripcion;\r\n\r\n      if (this.editandoDescripcion) {\r\n        this.$nextTick(() => {\r\n          this.$refs.inputNuevoDescripcion.focus();\r\n        })\r\n      }\r\n    },\r\n    toggleEditandoKeywords() {\r\n      if (!this.usuarioAdministrador) {\r\n        return;\r\n      }\r\n      this.$refs.inputNuevoKeywords.style.height =\r\n        this.$refs.keywords.offsetHeight + \"px\";\r\n      this.editandoKeywords = !this.editandoKeywords;\r\n      this.nuevoKeywords = this.esteNodo.keywords;\r\n\r\n      if (this.editandoKeywords) {\r\n        this.$nextTick(() => {\r\n          this.$refs.inputNuevoKeywords.focus();\r\n        })\r\n      }\r\n    },\r\n    toggleEstadoNodo() {\r\n      if (!this.usuarioAdministrador) return;\r\n      var nuevoEstado = \"noCompletado\";\r\n      if (this.esteNodo.estadoDesarrollo === \"noCompletado\") {\r\n        nuevoEstado = \"completado\";\r\n      }\r\n      this.togglingEstado = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!, $nuevoEstado: String!) {\r\n                    setEstadoNodoSolidaridad(\r\n                      idNodo: $idNodo\r\n                      nuevoEstado: $nuevoEstado\r\n                    ) {\r\n                      id\r\n                      estadoDesarrollo\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            nuevoEstado,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.togglingEstado = false;\r\n          console.log(`toggled`);\r\n        })\r\n        .catch((error) => {\r\n          this.togglingEstado = false;\r\n          console.log(`Error: E:${error}`);\r\n        });\r\n    },\r\n    entrarResponsables() {\r\n      console.log(\r\n        `Enviando peticion de entrar a la lista de responsables del nodo con id ${this.esteNodo.id}`\r\n      );\r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!) {\r\n                    usuarioEntrarResponsableNodoSolidaridad(idNodo: $idNodo) {\r\n                      id\r\n                      responsables\r\n                      posiblesResponsables\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    abandonarListaResponsables() {\r\n      console.log(`Abandonando la responsabilidad en este nodo`);\r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!, $idUsuario: ID!) {\r\n                    removeResponsableNodoSolidaridad(\r\n                      idNodo: $idNodo\r\n                      idUsuario: $idUsuario\r\n                    ) {\r\n                      id\r\n                      responsables\r\n                      posiblesResponsables\r\n                      administradores\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            idUsuario: this.usuario.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n          this.idResponsableSeleccionado=null;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    retirarUsuarioFromListaResponsables(idUsuario) {\r\n      if(!this.usuarioSuperadministrador && !this.usuarioParent){\r\n        return;\r\n      }\r\n      console.log(`Retirando usuario de este nodo`);\r\n      \r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!, $idUsuario: ID!) {\r\n                    removeResponsableNodoSolidaridad(\r\n                      idNodo: $idNodo\r\n                      idUsuario: $idUsuario\r\n                    ) {\r\n                      id\r\n                      responsables\r\n                      posiblesResponsables\r\n                      administradores\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            idUsuario,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n          this.idResponsableSeleccionado=null;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    aceptarResponsable(idPosibleResponsable) {\r\n      console.log(\r\n        `aceptando como responsable al usuario ${idPosibleResponsable}`\r\n      );\r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!, $idUsuario: ID!) {\r\n                    addResponsableNodoSolidaridad(\r\n                      idNodo: $idNodo\r\n                      idUsuario: $idUsuario\r\n                    ) {\r\n                      id\r\n                      responsables\r\n                      posiblesResponsables\r\n                      responsablesSolicitados\r\n                      administradores\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            idUsuario: idPosibleResponsable,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n          this.responsableSeleccionadoEstaAceptado = true;\r\n          this.versionCalendario++;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    toggleEditandoNombre(e) {\r\n      if (!this.seleccionado && !this.noSeleccionable) {\r\n        return\r\n      }\r\n      if (this.usuarioAdministrador) {\r\n        e.stopPropagation();\r\n\r\n        this.editandoNombre = true;\r\n        this.nuevoNombre = this.esteNodo.nombre;\r\n        this.$nextTick(() => {\r\n          this.$refs.inputNuevoNombre.focus();\r\n        })\r\n      }\r\n    },\r\n    keydownInputNuevoNombre(e) {\r\n      if (e.key === \"Escape\") {\r\n        this.$refs.inputNuevoNombre.blur();\r\n      }\r\n    },\r\n    addResponsableManually(idUsuario){\r\n      if(!this.usuarioLogeado || (!this.usuario.permisos.includes(\"maestraVida-profesor\") && !this.usuarioSuperadministrador)){\r\n        return\r\n      }\r\n      console.log(`Adding ${idUsuario} a la lista de responsables`);\r\n      const idPosibleResponsable=idUsuario\r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n                  mutation ($idNodo: ID!, $idUsuario: ID!) {\r\n                    addResponsableNodoSolidaridad(\r\n                      idNodo: $idNodo\r\n                      idUsuario: $idUsuario\r\n                    ) {\r\n                      id\r\n                      responsables\r\n                      posiblesResponsables\r\n                      responsablesSolicitados\r\n                      administradores\r\n                    }\r\n                  }\r\n                `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            idUsuario: idPosibleResponsable,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n          this.versionCalendario++;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    }\r\n\r\n  },\r\n  computed: {\r\n\r\n    nuevoNombreIlegal() {\r\n      if (this.nuevoNombre.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosNombreNodo.test(this.nuevoNombre)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoDescripcionIlegal() {\r\n      if (!this.nuevoDescripcion || this.nuevoDescripcion.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosDescripcionNodo.test(this.nuevoDescripcion)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoKeywordsIlegal() {\r\n      if (!this.nuevoKeywords || this.nuevoKeywords.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosKeywords.test(this.nuevoKeywords)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  watch: {\r\n    mostrando(mostrando) {\r\n      if (mostrando != \"descripcion\") this.editandoDescripcion = false;\r\n      if (mostrando != \"keywords\") this.editandoKeywords = false;\r\n\r\n      if (mostrando === \"descripcion\") {\r\n        if (\r\n          !this.esteNodo.descripcion ||\r\n          this.esteNodo.descripcion.length < 1 ||\r\n          this.esteNodo.descripcion === \"Sin descripción\" ||\r\n          this.esteNodo.descripcion === \"Sin descripcion\"\r\n        ) {\r\n          if (!this.editandoDescripcion) {\r\n            this.toggleEditandoDescripcion();\r\n          }\r\n        }\r\n      }\r\n      else if (mostrando === \"keywords\") {\r\n        if (\r\n          !this.esteNodo.keywords ||\r\n          this.esteNodo.keywords.length < 1\r\n        ) {\r\n          if (!this.editandoKeywords) {\r\n            this.toggleEditandoKeywords();\r\n          }\r\n        }\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nexport var MixinPermisosUsuarioNodoSolidaridad = {\r\n  computed: {\r\n    usuarioResponsable() {\r\n      if (!this.usuarioLogeado || !this.usuario || !this.usuario.id)\r\n        return false;\r\n      return (\r\n        this.esteNodo.responsables &&\r\n        this.esteNodo.responsables.includes(this.usuario.id)\r\n      );\r\n    },\r\n    usuarioResponsableAmplio() {\r\n      if (!this.usuarioLogeado || !this.usuario || !this.usuario.id)\r\n        return false;\r\n      return (\r\n        this.esteNodo.responsablesAmplio &&\r\n        this.esteNodo.responsablesAmplio.includes(this.usuario.id)\r\n      );\r\n    },\r\n    usuarioPosibleResponsable: function () {\r\n      if (!this.esteNodo.posiblesResponsables) return false;\r\n\r\n      if (this.esteNodo.posiblesResponsables.includes(this.usuario.id)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    usuarioAdministrador() {\r\n      if (!this.usuario || !this.usuario.id) return false;\r\n      return this.esteNodo.administradores.includes(this.usuario.id);\r\n    },\r\n    usuarioParent(){\r\n      if(!this.usuarioLogeado)return false;\r\n      return this.esteNodo.tipoParent==='usuario' && this.esteNodo.nodoParent===this.usuario.id;\r\n    }\r\n  }\r\n}\r\n\r\nexport var MixinEdicionVinculosNodoSolidaridad = {\r\n  data() {\r\n    return {\r\n      creandoSubNodo: false,\r\n      enviandoEditVinculos: false,\r\n    }\r\n  },\r\n  methods: {\r\n    crearRequerimento(idNodoRequiriente, tipoRequiriente, idNodoRequerido) {\r\n      console.log(\r\n        `Se fijara que ${idNodoRequiriente} requiere a ${idNodoRequerido}`\r\n      );\r\n      this.enviandoEditVinculos = true;\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n            mutation ($idNodoRequiriente: ID!, $tipoRequiriente: String!, $idNodoRequerido: ID!) {\r\n              crearRequerimentoEntreNodosAtlasSolidaridad(\r\n                idNodoRequiriente: $idNodoRequiriente\r\n                tipoRequiriente:$tipoRequiriente\r\n                idNodoRequerido: $idNodoRequerido\r\n              ) {\r\n                nodosModificados{\r\n                  __typename\r\n                  id\r\n                  vinculos {\r\n                    id\r\n                    idRef\r\n                    tipo                \r\n                  }\r\n                  administradores\r\n                  nodoParent\r\n                }\r\n                usuariosModificados{\r\n                  id\r\n                  vinculos {\r\n                    id\r\n                    idRef\r\n                    tipo                \r\n                  }\r\n                }\r\n                \r\n              }\r\n            }\r\n          `,\r\n        variables: {\r\n          idNodoRequiriente,\r\n          tipoRequiriente,\r\n          idNodoRequerido,\r\n        },\r\n      }).then(() => {\r\n        this.enviandoEditVinculos = false;\r\n      }).catch((error) => {\r\n        this.enviandoEditVinculos = false;\r\n        console.log(`Error: ${error}`);\r\n      });\r\n    },\r\n    crearParenting(idNodoRequiriente, tipoRequiriente, idNodoRequerido) {\r\n      if (!this.usuarioSuperadministrador) {\r\n        console.log(`Opción exclusiva de súperadministrador`);\r\n        return\r\n      }\r\n      console.log(\r\n        `Se fijara que ${idNodoRequiriente} es parent de ${idNodoRequerido}`\r\n      );\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n            mutation ($idNodoRequiriente: ID!, $tipoRequiriente:String!, $idNodoRequerido: ID!) {\r\n              crearParentingEntreNodosAtlasSolidaridad(\r\n                idNodoRequiriente: $idNodoRequiriente\r\n                tipoRequiriente: $tipoRequiriente\r\n                idNodoRequerido: $idNodoRequerido\r\n              ) {\r\n                nodosModificados{\r\n                  id\r\n                  vinculos {\r\n                    id\r\n                    idRef\r\n                    tipo                \r\n                  }\r\n                  administradores\r\n                  nodoParent\r\n                }\r\n                usuariosModificados{\r\n                  id\r\n                  vinculos {\r\n                    id\r\n                    idRef\r\n                    tipo                \r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n        variables: {\r\n          idNodoRequiriente,\r\n          tipoRequiriente,\r\n          idNodoRequerido,\r\n        },\r\n      });\r\n    },\r\n    eliminarRequerimento(idNodoRequiriente, tipoRequiriente, idNodoRequerido) {\r\n      console.log(`Se eliminará el requerimento entre el nodo ${idNodoRequiriente} de tipo ${tipoRequiriente} y el nodo ${idNodoRequerido}`);\r\n      this.enviandoEditVinculos = true;\r\n\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n            mutation ($idNodoRequiriente: ID!, $tipoRequiriente:String!, $idNodoRequerido: ID!) {\r\n              deleteRequerimentoNodosAtlasSolidaridad(\r\n                idNodoRequiriente: $idNodoRequiriente\r\n                tipoRequiriente: $tipoRequiriente\r\n                idNodoRequerido: $idNodoRequerido\r\n              ) {\r\n                  nodosModificados{\r\n                    id\r\n                    vinculos {\r\n                      id\r\n                      idRef\r\n                      tipo                \r\n                    }\r\n                    administradores\r\n                    nodoParent\r\n                  }\r\n                  usuariosModificados{\r\n                    id\r\n                    vinculos {\r\n                      id\r\n                      idRef\r\n                      tipo                \r\n                    }                                        \r\n                  }              \r\n              }\r\n            }\r\n          `,\r\n        variables: {\r\n          idNodoRequiriente,\r\n          tipoRequiriente,\r\n          idNodoRequerido,\r\n        },\r\n      }).then(() => {\r\n        this.enviandoEditVinculos = false;\r\n\r\n      }).catch((error) => {\r\n        console.log(`Error: ${error}`);\r\n        this.enviandoEditVinculos = false;\r\n      });\r\n    },\r\n    afterCrearNodoUnder(nuevoNodo) {\r\n      this.$emit(\"nodoSolidaridadCreado\", nuevoNodo)\r\n    },\r\n    crearNuevoNodoUnder(infoNodo) {\r\n      console.log(`Creando nodo under ${this.esteNodo.__typename}`);\r\n      this.creandoSubNodo = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($infoNodo: NodoSolidaridadInput!, $idNodoParent: ID!, $tipoParent:String!) {\r\n              crearNuevoNodoSolidaridadUnderNodo(\r\n                infoNodo: $infoNodo\r\n                idNodoParent: $idNodoParent\r\n                tipoParent:$tipoParent\r\n              ) {\r\n                nuevoNodo{\r\n                  ...fragNodoSolidaridad\r\n                }\r\n                nodosModificados{\r\n                  ...fragNodoSolidaridad                      \r\n                }\r\n                usuariosModificados{\r\n                  ...fragPersonaAtlas\r\n                }\r\n              }\r\n            }\r\n            ${fragmentoNodoSolidaridad}\r\n            ${fragmentoPersonaAtlas}\r\n          `,\r\n          variables: {\r\n            infoNodo,\r\n            idNodoParent: this.esteNodo.id,\r\n            tipoParent: this.esteNodo.__typename.charAt(0).toLowerCase() + this.esteNodo.__typename.slice(1),\r\n          },\r\n        })\r\n        .then(({ data: { crearNuevoNodoSolidaridadUnderNodo } }) => {\r\n          this.creandoSubNodo = false;\r\n          this.afterCrearNodoUnder(crearNuevoNodoSolidaridadUnderNodo.nuevoNodo);\r\n        })\r\n        .catch((error) => {\r\n          this.creandoSubNodo = false;\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n  }\r\n}\r\n\r\nexport var MixinVisualesNodosSolidaridad = {\r\n  computed: {\r\n    colorIcono() {\r\n\r\n      if (this.esteNodo.estadoDesarrollo === \"completado\") {\r\n        return \"#2c710c\"\r\n      }\r\n      if (this.usuarioResponsableAmplio) {\r\n        return \"var(--atlasMorado)\";\r\n      }\r\n      if (this.usuarioAdministrador) {\r\n        return \"var(--atlasParent)\";\r\n      }\r\n      return \"black\";\r\n\r\n    },\r\n  }\r\n\r\n}\r\n\r\n\r\n//Logica para un nodo desplegadado gráficamente en la red del atlas\r\nexport var MixinNodoAtlas = {\r\n  props: {\r\n    seleccionadoEsResponsable: Boolean,\r\n    esteNodo: Object,\r\n    todosNodos: Array,\r\n    idNodoSeleccionado: String,\r\n    requeridoPorSeleccionado: Boolean,\r\n    requiereAlSeleccionado: Boolean,\r\n    nodoSeleccionado: Object,\r\n    menuCx: Boolean,\r\n    factorZoom: Number,\r\n    callingPosiciones: Boolean,\r\n    transparentoso: Boolean,\r\n    usuarioAdministradorNodoSeleccionado: Boolean,\r\n    usuarioResponsableNodoSeleccionado: Boolean,\r\n    usuarioResponsableAmplioNodoSeleccionado: Boolean,\r\n    childSeleccionado: Boolean,\r\n    idsNodosDesplegados: Array,\r\n    nodoParent: Object,\r\n    idsNodosNeedingFetchMore: Array,\r\n    transicionarPosicionNodos: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      estiloNombreBase: {\r\n        minWidth: 80,\r\n        fontSize: 16,\r\n        minHeight: 15,\r\n        padding: 8,\r\n        borderRadius: 5,\r\n      },\r\n      posicion: this.nodoParent\r\n        ? { x: this.nodoParent.coords.x, y: this.nodoParent.coords.y }\r\n        : { x: 0, y: 0 },\r\n      widthBase: 150,\r\n      heightBase: 100,\r\n      size: {\r\n        x: 30,\r\n        y: 30,\r\n      },\r\n      primeraUbicacionCompletada: false,\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    toggleDesplegar() {\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_DATOS_USUARIO_ATLAS_SOLIDARIDAD,\r\n      });\r\n      const nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      const indexN = nuevoCache.yo.atlasSolidaridad.idsNodosDesplegados.indexOf(\r\n        this.esteNodo.id\r\n      );\r\n      if (indexN > -1 != !this.desplegado) {\r\n        if (indexN === -1) {\r\n          nuevoCache.yo.atlasSolidaridad.idsNodosDesplegados.push(\r\n            this.esteNodo.id\r\n          );\r\n        } else {\r\n          nuevoCache.yo.atlasSolidaridad.idsNodosDesplegados.splice(indexN, 1);\r\n        }\r\n        store.writeQuery({\r\n          query: QUERY_DATOS_USUARIO_ATLAS_SOLIDARIDAD,\r\n          data: nuevoCache,\r\n        });\r\n      } else {\r\n        console.log(`Confusión`);\r\n      }\r\n    },   \r\n  },\r\n  computed: {\r\n    waitingFetchChildren() {\r\n      return this.idsNodosNeedingFetchMore.includes(this.esteNodo.id);\r\n    },\r\n    sizeEfectivo() {\r\n      // const factorAmpliacion = 1.2;\r\n      // if (this.seleccionado) {\r\n      //   return {\r\n      //     x: Math.round(this.size.x * factorAmpliacion),\r\n      //     y: Math.round(this.size.y * factorAmpliacion),\r\n      //   };\r\n      // }\r\n      return this.size;\r\n    },\r\n    estiloPosicion() {\r\n      if (this.montado) {\r\n        return {\r\n          left:\r\n            (this.posicion.x - this.sizeEfectivo.x / 2) * this.factorZoom +\r\n            \"px\",\r\n          top:\r\n            (this.posicion.y - this.sizeEfectivo.y / 2) * this.factorZoom +\r\n            \"px\",\r\n        };\r\n      }\r\n      return {\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n      };\r\n    },\r\n    estiloZeta() {\r\n      let valorZ = 0;\r\n      if (this.arrastrandoNodo > this.umbralArrastreNodo || this.seleccionado) {\r\n        valorZ = 100;\r\n      }\r\n      if (this.menuCx) {\r\n        valorZ = 200;\r\n      }\r\n      return {\r\n        zIndex: valorZ,\r\n      };\r\n    },\r\n    estiloSize() {\r\n      return {\r\n        width: Math.round(this.sizeEfectivo.x * this.factorZoom) + \"px\",\r\n        height: Math.round(this.sizeEfectivo.y * this.factorZoom) + \"px\",\r\n        fontSize: Math.round(14 * this.factorZoom) + \"px\",\r\n      };\r\n    },\r\n    // estiloOpacidad() {\r\n    //   return {\r\n    //     opacity:\r\n    //       transparentoso\r\n    //         ? \"0.2\"\r\n    //         : \"1\",\r\n    //   };\r\n    // },\r\n    seleccionado() {\r\n      return (\r\n        this.idNodoSeleccionado && this.idNodoSeleccionado == this.esteNodo.id\r\n      );\r\n    },\r\n    estiloCartelNombre() {\r\n      return {\r\n        minWidth:\r\n          parseInt(this.estiloNombreBase.minWidth * this.factorZoom) + \"px\",\r\n        fontSize:\r\n          parseInt(this.estiloNombreBase.fontSize * this.factorZoom) + \"px\",\r\n        minHeight:\r\n          parseInt(this.estiloNombreBase.minHeight * this.factorZoom) + \"px\",\r\n        padding:\r\n          parseInt(this.estiloNombreBase.padding * this.factorZoom) + \"px\",\r\n        borderRadius:\r\n          parseInt(this.estiloNombreBase.borderRadius * this.factorZoom) + \"px\",\r\n        // maxHeight: this.seleccionado ? \"\" : \"90%\",\r\n      };\r\n    },\r\n    colorCartelNombre() {\r\n      var color = \"var(--atlasGris)\";\r\n      var borde = \"1px solid black\"\r\n      if (this.usuarioResponsableAmplio) {\r\n        borde = \"1px solid var(--atlasMorado)\"\r\n      }\r\n      if (this.esteNodo.estadoDesarrollo === \"completado\") {\r\n        color = \"rgb(91 146 66)\";\r\n        borde = \"1px solid var(--atlasVerde)\";\r\n      }\r\n\r\n      return {\r\n        backgroundColor: color,\r\n        border: borde\r\n      };\r\n    },\r\n    parentDeSeleccionado() {\r\n      if (!this.nodoSeleccionado) return false;\r\n      if (this.nodoSeleccionado.nodoParent === this.esteNodo.id) return true;\r\n      return false;\r\n    },\r\n    estiloBolita() {\r\n      var elColor = \"rgba(105, 199, 199, 0.9)\";\r\n\r\n      if (this.seleccionado) {\r\n        elColor = \"var(--atlasNaranja)\";\r\n      } else if (this.parentDeSeleccionado) {\r\n        elColor = \"var(--atlasParent)\";\r\n      }\r\n\r\n      var borde = \"\";\r\n\r\n      if (this.usuarioResponsable) {\r\n        borde =\r\n          Math.round(3 * this.factorZoom) + \"px dotted var(--atlasMorado)\";\r\n      }\r\n      if (this.childSeleccionado) {\r\n        borde =\r\n          Math.round(3 * this.factorZoom) + \"px solid var(--atlasNaranja)\";\r\n      }\r\n\r\n      return {\r\n        backgroundColor: elColor,\r\n        border: borde,\r\n      };\r\n    },\r\n    desplegado() {\r\n      return this.idsNodosDesplegados.includes(this.esteNodo.id);\r\n    },\r\n    estiloTransicion() {\r\n      const transicion = '';\r\n      // var transicion='left 0.4s, top 0.4s'\r\n      // if(this.primeraUbicacionCompletada){\r\n      //   transicion='left 5s, right 5s'\r\n      // }\r\n\r\n\r\n      return {\r\n        transition: transicion\r\n      }\r\n\r\n    },\r\n    enVentanita() {\r\n      return this.idNodoPaVentanita && this.idNodoPaVentanita === this.esteNodo.id\r\n    }\r\n  },\r\n  watch: {\r\n    esteNodo() {\r\n      this.$set(this.posicion, \"x\", this.esteNodo.coords.x);\r\n      this.$set(this.posicion, \"y\", this.esteNodo.coords.y);\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.esteNodo.nombre === 'Responder preguntas fundamentales') {\r\n      console.log(`Recien montado, está en ${JSON.stringify(this.posicion)}`);\r\n    }\r\n    this.montado = true;\r\n\r\n\r\n    this.$nextTick(() => {\r\n\r\n      this.$set(this.posicion, \"x\", this.esteNodo.coords.x);\r\n      this.$set(this.posicion, \"y\", this.esteNodo.coords.y);\r\n      if (this.esteNodo.nombre === 'Responder preguntas fundamentales') {\r\n        console.log(`Ahora está en ${JSON.stringify(this.posicion)}`);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        this.primeraUbicacionCompletada = true;\r\n      }, 500)\r\n    });\r\n\r\n\r\n  },\r\n\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recursoExternoNodo\",class:{ deshabilitado: _vm.eliminando, editandose: _vm.editandoRecurso }},[_c('div',{attrs:{\"id\":\"barraSuperior\"},on:{\"click\":_vm.clickEnRecurso}},[(_vm.esteRecurso.tipo === 'enlace')?_c('img',{attrs:{\"id\":\"iconoTipoRecurso\",\"src\":require(\"@/assets/iconos/link.svg\")}}):_c('img',{attrs:{\"id\":\"iconoTipoRecurso\",\"src\":require(\"@/assets/iconos/file.svg\")}}),_c('div',{attrs:{\"id\":\"zonaNombre\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoRecurso),expression:\"editandoRecurso\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNuevoNombre inputNombreCosa\",class:{deshabilitado: _vm.enviandoNuevoNombre},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"click\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoRecurso),expression:\"!editandoRecurso\"}],attrs:{\"id\":\"elNombre\"}},[_vm._v(\" \"+_vm._s(_vm.esteRecurso.nombre)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioResponsableAmplio),expression:\"usuarioResponsableAmplio\"}],attrs:{\"id\":\"zonaBotonesControl\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoRecurso),expression:\"!editandoRecurso\"}],staticClass:\"botonControl\",attrs:{\"src\":require(\"@/assets/iconos/lapiz.svg\"),\"alt\":\"Editar\",\"title\":\"Editar recurso\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarEditandoRecurso($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoRecurso),expression:\"editandoRecurso\"}],staticClass:\"botonControl\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\"},on:{\"click\":function($event){$event.stopPropagation();_vm.editandoRecurso = false}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoRecurso),expression:\"!editandoRecurso\"}],staticClass:\"botonControl\",attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar recurso\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarse($event)}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.eliminando),expression:\"eliminando\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoRecurso),expression:\"editandoRecurso\"}],attrs:{\"id\":\"zonaEdicionRecurso\"}},[_c('div',{attrs:{\"id\":\"bloqueBotonesSetTarget\"}},[_c('div',{staticClass:\"boton botonSetTarget\",style:([\n          { borderColor: _vm.settingTarget === 'file' ? 'white' : 'transparent' } ]),attrs:{\"title\":\"Subir archivo\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/uploadCloud.svg\"),\"alt\":\"Upload\"}})]),_c('div',{staticClass:\"boton botonSetTarget\",style:([\n          { borderColor: _vm.settingTarget === 'link' ? 'white' : 'transparent' } ]),attrs:{\"title\":\"Introducir enlace\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarInputLink($event)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/link.svg\"),\"alt\":\"Enlace\"}})])]),_c('div',{attrs:{\"id\":\"zonaInputNuevoLink\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.settingTarget === 'link'),expression:\"settingTarget === 'link'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoLink),expression:\"nuevoLink\"}],ref:\"inputNuevoLink\",staticClass:\"inputNuevoLink\",class:{deshabilitado:_vm.enviandoNuevoLink},staticStyle:{\"width\":\"90%\"},attrs:{\"type\":\"text\",\"placeholder\":\"Introduce el enlace\"},domProps:{\"value\":(_vm.nuevoLink)},on:{\"click\":function($event){$event.stopPropagation();},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoLink($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoLink=$event.target.value}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"recursoExternoNodo\"\r\n    :class=\"{ deshabilitado: eliminando, editandose: editandoRecurso }\"\r\n  >\r\n    <div id=\"barraSuperior\" @click=\"clickEnRecurso\">\r\n      <img\r\n        id=\"iconoTipoRecurso\"\r\n        src=\"@/assets/iconos/link.svg\"\r\n        v-if=\"esteRecurso.tipo === 'enlace'\"\r\n      />\r\n      <img id=\"iconoTipoRecurso\" src=\"@/assets/iconos/file.svg\" v-else />\r\n      <div id=\"zonaNombre\">\r\n        <input\r\n          @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n          ref=\"inputNuevoNombre\"\r\n          v-model=\"nuevoNombre\"\r\n          v-show=\"editandoRecurso\"\r\n          type=\"text\"\r\n          class=\"inputNuevoNombre inputNombreCosa\"\r\n          :class=\"{deshabilitado: enviandoNuevoNombre}\"\r\n          @click.stop=\"\"\r\n        />\r\n        <div id=\"elNombre\" v-show=\"!editandoRecurso\">\r\n          {{ esteRecurso.nombre }}\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"zonaBotonesControl\" v-show=\"usuarioResponsableAmplio\">\r\n        <img\r\n          src=\"@/assets/iconos/lapiz.svg\"\r\n          alt=\"Editar\"\r\n          title=\"Editar recurso\"\r\n          v-show=\"!editandoRecurso\"\r\n          @click.stop=\"iniciarEditandoRecurso\"\r\n          class=\"botonControl\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/equis.svg\"\r\n          alt=\"Cancelar\"\r\n          title=\"Cancelar edición\"\r\n          v-show=\"editandoRecurso\"\r\n          @click.stop=\"editandoRecurso = false\"\r\n          class=\"botonControl\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/trash.svg\"\r\n          alt=\"Eliminar\"\r\n          title=\"Eliminar recurso\"\r\n          v-show=\"!editandoRecurso\"\r\n          class=\"botonControl\"\r\n          @click.stop=\"eliminarse\"\r\n        />\r\n      </div>\r\n      <loading texto=\"\" v-show=\"eliminando\" />\r\n    </div>\r\n    <div id=\"zonaEdicionRecurso\" v-show=\"editandoRecurso\">\r\n      <div id=\"bloqueBotonesSetTarget\">\r\n        <div\r\n          class=\"boton botonSetTarget\"\r\n          :style=\"[\r\n            { borderColor: settingTarget === 'file' ? 'white' : 'transparent' },\r\n          ]\"\r\n          title=\"Subir archivo\"\r\n        >\r\n          <img src=\"@/assets/iconos/uploadCloud.svg\" alt=\"Upload\" />\r\n        </div>\r\n        <div\r\n          class=\"boton botonSetTarget\"\r\n          @click.stop=\"iniciarInputLink\"\r\n          :style=\"[\r\n            { borderColor: settingTarget === 'link' ? 'white' : 'transparent' },\r\n          ]\"\r\n          title=\"Introducir enlace\"\r\n        >\r\n          <img src=\"@/assets/iconos/link.svg\" alt=\"Enlace\" />\r\n        </div>\r\n      </div>\r\n      <div id=\"zonaInputNuevoLink\">\r\n        <input\r\n          ref=\"inputNuevoLink\"\r\n          @click.stop=\"\"\r\n          @keypress.enter=\"guardarNuevoLink\"\r\n          v-show=\"settingTarget === 'link'\"\r\n          type=\"text\"\r\n          placeholder=\"Introduce el enlace\"\r\n          class=\"inputNuevoLink\"\r\n          style=\"width: 90%\"\r\n          v-model=\"nuevoLink\"\r\n          :class=\"{deshabilitado:enviandoNuevoLink}\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { charProhibidosNombreCosa } from \"../configuracion\";\r\nimport gql from \"graphql-tag\";\r\nimport Loading from \"../../utilidades/Loading.vue\";\r\n\r\nexport default {\r\n  components: { Loading },\r\n  name: \"RecursoExternoNodo\",\r\n  props: {\r\n    esteRecurso: Object,\r\n    seleccionado: Boolean,\r\n    usuarioResponsableAmplio: Boolean,\r\n    idNodo: String,\r\n  },\r\n  data() {\r\n    return {\r\n      nuevoNombre: \"Nuevo nombre\",\r\n      enviandoNuevoNombre: false,\r\n\r\n      nuevoLink: null,\r\n      enviandoNuevoLink: false,\r\n\r\n      editandoRecurso: false,\r\n      eliminando: false,\r\n      settingTarget: null,\r\n    };\r\n  },\r\n  computed: {\r\n    nuevoNombreIlegal() {\r\n      if (this.nuevoNombre.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosNombreCosa.test(this.nuevoNombre)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoLinkIlegal() {\r\n      if (this.nuevoLink.length < 5) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    clickEnRecurso() {\r\n      if(this.editandoRecurso){\r\n        return\r\n      }\r\n      if (this.esteRecurso.tipo === \"enlace\") {\r\n        window.open(this.esteRecurso.link, \"_blank\");\r\n      }\r\n    },\r\n    guardarNuevoNombre() {\r\n      this.nuevoNombre=this.$refs.inputNuevoNombre.value;\r\n\r\n      if (this.nuevoNombreIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoNombre == this.esteRecurso.nombre) {\r\n        this.editando\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo nombre`);\r\n      this.enviandoNuevoNombre = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idRecursoExterno: ID!\r\n              $nuevoNombre: String!\r\n            ) {\r\n              editarNombreRecursoExternoNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idRecursoExterno: $idRecursoExterno\r\n                nuevoNombre: $nuevoNombre\r\n              ) {\r\n                id\r\n                nombre\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n            idRecursoExterno: this.esteRecurso.id,\r\n            nuevoNombre: this.nuevoNombre,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoRecurso = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoLink() {\r\n      if (this.nuevoLinkIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoLink == this.esteRecurso.link) {\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo link`);\r\n      this.enviandoNuevoLink = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idRecursoExterno: ID!\r\n              $nuevoLink: String!\r\n            ) {\r\n              editarLinkRecursoExternoNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idRecursoExterno: $idRecursoExterno\r\n                nuevoLink: $nuevoLink\r\n              ) {\r\n                id\r\n                link\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n            idRecursoExterno: this.esteRecurso.id,\r\n            nuevoLink: this.nuevoLink,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoLink = false;\r\n          this.settingTarget = null;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoLink = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    iniciarEditandoRecurso() {\r\n      this.nuevoNombre = this.esteRecurso.nombre;\r\n      this.editandoRecurso = true;\r\n    },\r\n    eliminarse() {\r\n      if (\r\n        !confirm(\r\n          \"¿Confirmar la eliminación de este elemento? (Esta acción no puede deshacerse)\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n      this.eliminando = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $idRecursoExterno: ID!) {\r\n              eliminarRecursoExternoNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idRecursoExterno: $idRecursoExterno\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n            idRecursoExterno: this.esteRecurso.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.eliminando = false;\r\n          this.$emit('meElimine')\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.eliminando = false;\r\n        });\r\n    },\r\n    iniciarInputLink() {\r\n      this.settingTarget = \"link\";\r\n      this.$nextTick(() => {\r\n        this.$refs.inputNuevoLink.focus();\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    settingTarget(modo, prev) {\r\n      if (modo === \"link\" && prev != \"link\") {\r\n        this.nuevoLink = this.esteRecurso.link;\r\n        this.$refs.inputNuevoLink.focus();\r\n      }\r\n    },\r\n    editandoRecurso(editando) {\r\n      if (!editando) {\r\n        this.settingTarget = null;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.recursoExternoNodo {\r\n  cursor: pointer;\r\n}\r\n.recursoExternoNodo:hover,\r\n.recursoExternoNodo.editandose {\r\n  background-color: rgba(0, 0, 0, 0.062);\r\n}\r\n.recursoExternoNodo #zonaBotonesControl {\r\n  visibility: hidden;\r\n}\r\n\r\n.recursoExternoNodo:hover #zonaBotonesControl {\r\n  visibility: visible;\r\n}\r\n#barraSuperior {\r\n  padding: 2% 5%;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#iconoTipoRecurso {\r\n  height: 15px;\r\n  margin-right: 2%;\r\n}\r\n.inputNuevoNombre{\r\n  width: 80%;\r\n}\r\n#zonaBotonesControl {\r\n  display: flex;\r\n  margin-left: auto;\r\n  position: relative;\r\n}\r\n.botonControl {\r\n  height: 15px;\r\n  opacity: 0.5;\r\n  cursor: pointer;\r\n  margin: 0px 5px;\r\n}\r\n.botonControl:hover {\r\n  opacity: 1;\r\n}\r\n#zonaEdicionRecurso {\r\n  padding-bottom: 10px;\r\n  padding-left: 5%;\r\n}\r\n.botonSetTarget {\r\n  height: 25px;\r\n  margin-right: 2%;\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  border-radius: 50%;\r\n  padding: 3px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.botonSetTarget > img {\r\n  height: 90%;\r\n}\r\n#bloqueBotonesSetTarget {\r\n  display: flex;\r\n}\r\n\r\n@media (hover: none) and (pointer: coarse) {\r\n  .recursoExternoNodo #zonaBotonesControl {\r\n    visibility: visible;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecursoExternoNodo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecursoExternoNodo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecursoExternoNodo.vue?vue&type=template&id=d49aefe0&scoped=true&\"\nimport script from \"./RecursoExternoNodo.vue?vue&type=script&lang=js&\"\nexport * from \"./RecursoExternoNodo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecursoExternoNodo.vue?vue&type=style&index=0&id=d49aefe0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d49aefe0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"calendario\",class:{ eventoSiendoCreado: _vm.eventoSiendoCreado }},[_c('div',{staticClass:\"contenedorControles\",attrs:{\"id\":\"contenedorControlesCalendario\"}},[(\n        _vm.usuarioLogeado &&\n        _vm.usuario.permisos &&\n        _vm.usuario.permisos.includes('maestraVida-profesor')\n      )?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enfasis === 'eventosPublicos'),expression:\"enfasis === 'eventosPublicos'\"}],staticClass:\"boton\",style:({\n        opacity:\n          _vm.modoEventosPublicosExtranjeros === 'invisibles'\n            ? 0.4\n            : _vm.modoEventosPublicosExtranjeros === 'full'\n            ? 1\n            : 0.7,\n      }),attrs:{\"title\":_vm.modoEventosPublicosExtranjeros === 'invisibles'\n          ? 'Mostrar todos los eventos públicos'\n          : _vm.modoEventosPublicosExtranjeros === 'full'\n          ? 'Minimizar otros eventos públicos'\n          : 'Ocultar otros eventos públicos'},on:{\"click\":function($event){_vm.modoEventosPublicosExtranjeros === 'invisibles'\n          ? (_vm.modoEventosPublicosExtranjeros = 'full')\n          : _vm.modoEventosPublicosExtranjeros === 'full'\n          ? (_vm.modoEventosPublicosExtranjeros = 'barra')\n          : (_vm.modoEventosPublicosExtranjeros = 'invisibles')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendarPublic.svg\"),\"alt\":\"Evento publico\"}})]):_vm._e(),(_vm.enfasis === 'eventosPersonales')?_c('div',{staticClass:\"boton\",style:([{ opacity: _vm.usuarioVeEventosPublicos ? 1 : 0.5 }]),attrs:{\"title\":_vm.usuarioVeEventosPublicos\n          ? 'Ocultar eventos públicos'\n          : 'Mostrar eventos públicos'},on:{\"click\":function($event){_vm.usuarioVeEventosPublicos = !_vm.usuarioVeEventosPublicos}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendarPublic.svg\"),\"alt\":\"Evento publico\"}})]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.usuario && _vm.usuario.id===_vm.idUsuarioTarget) || _vm.usuarioSuperadministrador || _vm.usuarioProfe),expression:\"(usuario && usuario.id===idUsuarioTarget) || usuarioSuperadministrador || usuarioProfe\"}],staticClass:\"boton\",style:([{ opacity: _vm.tomandoAccion ? 1 : 0.5 }]),attrs:{\"title\":_vm.tomandoAccion === 'semana'\n          ? 'Cancelar'\n          : _vm.tomandoAccion === 'dia'\n          ? 'Editar semanas'\n          : 'Editar días'},on:{\"click\":function($event){_vm.tomandoAccion =\n          _vm.tomandoAccion === 'semana'\n            ? null\n            : _vm.tomandoAccion === 'dia'\n            ? 'semana'\n            : 'semana'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/thList.svg\"),\"alt\":\"Lista\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.diaSeleccionado),expression:\"!diaSeleccionado\"}],attrs:{\"id\":\"bloqueSelect\"}},[_c('div',{attrs:{\"id\":\"barraFecha\"}},[_c('div',{attrs:{\"id\":\"bloqueMes\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.seleccionandoMes),expression:\"!seleccionandoMes\"}],attrs:{\"id\":\"nombreMes\"},on:{\"click\":_vm.iniciarSeleccionandoMes}},[_vm._v(\" \"+_vm._s(_vm.nombreMesSeleccionado)+\" \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.numeroMesSeleccionado),expression:\"numeroMesSeleccionado\"},{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionandoMes),expression:\"seleccionandoMes\"}],ref:\"selectMes\",attrs:{\"id\":\"selectMes\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.numeroMesSeleccionado=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.nombresMeses),function(mes,index){return _c('option',{key:'selector' + mes,domProps:{\"value\":index}},[_vm._v(\" \"+_vm._s(mes)+\" \")])}),0)]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.cantidadEventosRelevantesMes.loading),expression:\"$apollo.queries.cantidadEventosRelevantesMes.loading\"}],attrs:{\"texto\":\"\"}}),_c('div',{staticStyle:{\"margin-left\":\"auto\"},attrs:{\"id\":\"bloqueYear\"}},[_c('div',{attrs:{\"id\":\"nombreYear\"}},[_vm._v(\" \"+_vm._s(_vm.yearSeleccionado)+\" \")])])],1),_c('div',{attrs:{\"id\":\"barraDiasSemana\"}},_vm._l((7),function(dia){return _c('div',{key:'diaSemana' + dia,staticClass:\"diaSemana\"},[_vm._v(\" \"+_vm._s(_vm.nombresDiasSemana[dia - 1].charAt(0))+\" \")])}),0),_c('div',{attrs:{\"id\":\"contenedorMesh\"}},[_c('div',{style:([_vm.estiloMargenInicio]),attrs:{\"id\":\"margenInicio\"}}),_vm._l((_vm.lengthMonthSeleccionado),function(dia){return _c('div',{key:'selectorDia' + dia,staticClass:\"selectorDia\",class:{\n          hoy:\n            _vm.dateHoy.getFullYear() === _vm.yearSeleccionado &&\n            _vm.dateHoy.getMonth() === parseInt(_vm.numeroMesSeleccionado) &&\n            _vm.dateHoy.getDate() === dia,\n        },on:{\"click\":function($event){_vm.numeroDiaSeleccionado = dia}}},[_c('div',{staticClass:\"numeroDia\"},[_vm._v(_vm._s(dia)+_vm._s(_vm.dateHoy.getFullYear() === _vm.yearSeleccionado && _vm.dateHoy.getMonth() === parseInt(_vm.numeroMesSeleccionado) && _vm.dateHoy.getDate() === dia?' Hoy':''))]),(_vm.cantidadEventosRelevantesMes.some(function (info) { return info.dia === dia; }))?_c('div',{staticClass:\"bolitaCantidadEventosRelevantes\",style:([{opacity: _vm.tomandoAccion==='dia'?0.4:1}])},[_c('div',{staticClass:\"laCantidad\"},[_vm._v(\" \"+_vm._s(_vm.cantidadEventosRelevantesMes.find(function (info) { return info.dia === dia; }) .cantidadEventos)+\" \")])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tomandoAccion === 'dia'),expression:\"tomandoAccion === 'dia'\"}],attrs:{\"id\":\"contenedorBotonesDia\"}},[_vm._m(0,true),_vm._m(1,true)])])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tomandoAccion === 'semana'),expression:\"tomandoAccion === 'semana'\"}],attrs:{\"id\":\"representacionSemanas\"}},_vm._l((_vm.semanasMes),function(semana,index){return _c('div',{key:'semana' + semana,staticClass:\"semana\"},[_c('div',{attrs:{\"id\":\"contenedorBotonesSemana\"}},[_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Repetir los eventos de esta semana\"},on:{\"click\":function($event){return _vm.repetirEventosSemana(index)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/relojArena.svg\"),\"alt\":\"Reloj\"}})]),_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Eliminar todos los eventos de esta semana\"},on:{\"click\":function($event){return _vm.deleteEventosSemana(index)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/broom.svg\"),\"alt\":\"Limpiar\"}})])])])}),0)],2)]),(_vm.diaSeleccionado)?_c('dia-calendario',{key:'dia' + _vm.diaSeleccionado.date.getTime(),attrs:{\"eventoSiendoCreado\":_vm.eventoSiendoCreado,\"hoy\":_vm.dateHoy.getTime() === _vm.diaSeleccionado.date.getTime(),\"esteDia\":_vm.diaSeleccionado,\"horaPx\":_vm.horaPx,\"scrollXCalendario\":_vm.scrollX,\"idParent\":_vm.idParent,\"idEventoSeleccionado\":_vm.idEventoSeleccionado,\"idUsuarioTarget\":_vm.idUsuarioTarget,\"tipoParent\":_vm.tipoParent,\"enfasis\":_vm.enfasis,\"modoEventosPublicosExtranjeros\":_vm.modoEventosPublicosExtranjeros,\"usuarioVeEventosPublicos\":_vm.usuarioVeEventosPublicos},on:{\"regresar\":function($event){_vm.numeroDiaSeleccionado = null},\"iniciaCreacionEvento\":function($event){return _vm.$emit('iniciaCreacionEvento')},\"clickEnEvento\":function($event){_vm.idEventoSeleccionado = $event.id},\"desSeleccionDeEvento\":function($event){_vm.idEventoSeleccionado = null},\"cambioEventos\":_vm.reloadEventosRelevantes}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boton\",attrs:{\"title\":\"Repetir los eventos de este día\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/relojArena.svg\"),\"alt\":\"Reloj\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boton\",attrs:{\"title\":\"Eliminar todos los eventos de este día\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/broom.svg\"),\"alt\":\"Limpiar\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"diaCalendario\",class:{ abierto: _vm.abierto }},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_c('div',{attrs:{\"id\":\"bloqueTituloDia\"},on:{\"click\":function($event){return _vm.$emit('regresar')}}},[_c('div',{class:{ hoy: _vm.hoy },attrs:{\"id\":\"nombreDia\"}},[_vm._v(\" \"+_vm._s(_vm.diaSemana)+\" \")]),_c('div',{attrs:{\"id\":\"fechaDia\"}},[_vm._v(\" \"+_vm._s(_vm.diaYMes)+\" \")]),_c('div',{attrs:{\"id\":\"cantidadesEventos\"}},[_vm._v(\" \"+_vm._s(_vm.cantidadEventosRelevantes ? \"(\" + _vm.cantidadEventosRelevantes + \")\" : \"\")+\" \")])])]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.downloadingData),expression:\"downloadingData\"}],attrs:{\"texto\":\"\"}}),_c('div',{attrs:{\"id\":\"contenedorContenido\"}},[_c('div',{attrs:{\"id\":\"barraHoras\"}},_vm._l((24),function(hora){return _c('div',{key:'hora' + (hora - 1),ref:\"labelsHoras\",refInFor:true,staticClass:\"hora\",style:([_vm.estiloSizeHora])},[_vm._v(\" \"+_vm._s(hora - 1)+\":00 \")])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.downloadingData),expression:\"!downloadingData\"}],ref:\"contenedorEventos\",style:([_vm.estiloSizeContenedorEventos]),attrs:{\"id\":\"contenedorEventos\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.clickContenedorEventos($event)}}},[_vm._l((_vm.eventosPublicosVisibles),function(eventoPublico){return _c('evento-publico-calendario',{key:eventoPublico.id,attrs:{\"horaPx\":_vm.horaPx,\"esteEvento\":eventoPublico,\"extranjero\":(!_vm.idParent || _vm.idParent != eventoPublico.idParent),\"idUsuarioTarget\":_vm.idUsuarioTarget,\"seleccionado\":_vm.idEventoSeleccionado === eventoPublico.id,\"infoOffset\":_vm.indiceOffset[eventoPublico.id],\"diaCalendarioOver\":_vm.esteDia,\"enfasis\":_vm.enfasis,\"idParent\":_vm.idParent,\"tipoParent\":_vm.tipoParent},on:{\"meElimine\":function($event){_vm.deleteEventoCache(eventoPublico); _vm.$emit('cambioEventos')},\"meCambiaronDia\":function($event){_vm.deleteEventoCache(eventoPublico);_vm.$emit('cambioEventos')},\"creadoEventoPersonal\":function($event){_vm.addEventoCache($event);_vm.$emit('cambioEventos');}},nativeOn:{\"click\":function($event){return _vm.$emit('clickEnEvento', eventoPublico)}}})}),_vm._l((_vm.todosEventosPersonalesDia || []),function(eventoPersonal){return _c('evento-personal-calendario',{key:eventoPersonal.id,attrs:{\"horaPx\":_vm.horaPx,\"esteEvento\":eventoPersonal,\"seleccionado\":_vm.idEventoSeleccionado === eventoPersonal.id,\"infoOffset\":_vm.indiceOffset[eventoPersonal.id],\"diaCalendarioOver\":_vm.esteDia,\"enfasis\":_vm.enfasis,\"extranjero\":_vm.idUsuarioTarget != eventoPersonal.idPersona &&\n          !eventoPersonal.idsParticipantes.includes(_vm.idUsuarioTarget)},on:{\"meElimine\":function($event){_vm.deleteEventoCache(eventoPersonal);_vm.$emit('cambioEventos')},\"meCambiaronDia\":function($event){_vm.deleteEventoCache(eventoPersonal);_vm.$emit('cambioEventos');}},nativeOn:{\"click\":function($event){return _vm.$emit('clickEnEvento', eventoPersonal)}}})})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import gql from 'graphql-tag';\r\n\r\nexport const fragmentoEventoPersonal=gql`\r\nfragment fragEventoPersonal on EventoPersonal{\r\n  id\r\n  idPersona\r\n  idsParticipantes\r\n  idParent\r\n  tipoParent\r\n  nombre\r\n  descripcion\r\n  horarioInicio\r\n  horarioFinal\r\n  idEventoMarco\r\n  lugar  \r\n\r\n}\r\n`\r\n\r\nexport const fragmentoEventoPublico=gql`\r\nfragment fragEventoPublico on EventoPublico{\r\n  id\r\n  nombre\r\n  descripcion\r\n  idAdministrador\r\n  limiteDeCupos\r\n  horarioInicio\r\n  horarioFinal\r\n  participantes\r\n  lugar\r\n  idParent\r\n  tipoParent\r\n  eventosEnmarcados{\r\n    ...fragEventoPersonal\r\n    nombresPersona\r\n  }\r\n}\r\n${fragmentoEventoPersonal}\r\n`\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"eventoPublicoCalendario\",class:{\n    deshabilitado: _vm.eliminandose,\n    seleccionado: _vm.seleccionado,\n    bloque: _vm.claseOffset === 'bloque' || _vm.seleccionado,\n    barra: _vm.claseOffset === 'barra' && !_vm.seleccionado,\n  },style:([_vm.estiloPos, _vm.estiloZ])},[_c('div',{class:{ seleccionado: _vm.seleccionado, administrador: _vm.administrador },style:(_vm.estiloSize),attrs:{\"id\":\"barra\"}}),_c('div',{class:{ extranjero: _vm.extranjero, seleccionado: _vm.seleccionado },staticStyle:{\"position\":\"relative\"},style:(_vm.estiloSize),attrs:{\"id\":\"bloque\"}},[_c('div',{attrs:{\"id\":\"zonaNombre\"}},[_c('div',{class:{\n          administrador: _vm.administrador,\n        },attrs:{\"id\":\"elNombre\"}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.nombre)+\" \")])]),(_vm.esteEvento.eventosEnmarcados && _vm.esteEvento.eventosEnmarcados.length>0)?_c('div',{attrs:{\"id\":\"cantidadAsistentes\"}},[_c('img',{staticStyle:{\"height\":\"13px\",\"margin-right\":\"6px\"},attrs:{\"src\":require(\"@/assets/iconos/user.svg\"),\"alt\":\"User\"}}),_vm._v(\" \"+_vm._s(_vm.esteEvento.eventosEnmarcados.length)+_vm._s(_vm.esteEvento.limiteDeCupos?'/'+_vm.esteEvento.limiteDeCupos:'')+\" \")]):_vm._e(),(_vm.idUsuarioTarget!=_vm.esteEvento.idAdministrador)?_c('icono-persona-autonomo',{class:{seleccionado: _vm.seleccionado},staticStyle:{\"margin\":\"0px auto\"},attrs:{\"idPersona\":_vm.esteEvento.idAdministrador,\"factorEscala\":'0.5'}}):_vm._e(),_c('div',{class:{ seleccionado: _vm.seleccionado },attrs:{\"id\":\"contenedorControlesEvento\"}},[(_vm.usuarioLogeado && _vm.idUsuarioTarget!=_vm.esteEvento.idAdministrador)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.creandoEventoPersonalUnder),expression:\"!creandoEventoPersonalUnder\"}],staticClass:\"boton botonControlEvento\",attrs:{\"title\":\"Asistir a este evento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearEventoPersonalUnder($event)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendarPlus.svg\"),\"alt\":\"Asistir\"}})]):_vm._e(),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoEventoPersonalUnder),expression:\"creandoEventoPersonalUnder\"}]}),(_vm.administrador || _vm.usuarioSuperadministrador)?_c('div',{staticClass:\"boton botonControlEvento\",attrs:{\"title\":\"Eliminar este evento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarse($event)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Eliminar\"}})]):_vm._e(),_c('div',{staticClass:\"boton botonControlEvento\",attrs:{\"title\":\"Expandir este evento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$router.push(_vm.$route.path + '/ventanaEventoPublico/' + _vm.esteEvento.id)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/expand.svg\"),\"alt\":\"Expandir\"}})])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const charProhibidosNombreCosa = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\r\nexport const charProhibidosTexto = /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;","import { fragmentoEventoPublico, fragmentoEventoPersonal } from \"./utilidades/fragsCalendario\";\r\nimport { charProhibidosNombreCosa, charProhibidosTexto } from \"./configs\";\r\nimport gql from \"graphql-tag\";\r\nconst diasSemana = [\"Domingo\", \"Lunes\", \"Martes\", \"Miercoles\", \"Jueves\", \"Viernes\", \"Sábado\"];\r\nconst meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\r\n\r\nexport const MixinBasicoEventos = {\r\n\r\n    data() {\r\n        return {\r\n\r\n        }\r\n    },\r\n    computed: {\r\n        tipoEvento() {\r\n            return this.esteEvento.__typename.charAt(0).toLowerCase() + this.esteEvento.__typename.slice(1);\r\n        },\r\n        dateInicio() {\r\n            return new Date(this.esteEvento.horarioInicio);\r\n        },\r\n        fechaInicioFormateada() {\r\n            const dateActualString = this.dateInicio.toISOString().split('T')[0];\r\n            return dateActualString;\r\n        },\r\n        fechaFinalFormateada() {\r\n            const dateActualString = this.dateFinal.toISOString().split('T')[0];\r\n            return dateActualString;\r\n        },\r\n        dateFinal() {\r\n            return new Date(this.esteEvento.horarioFinal)\r\n        },\r\n        horarioInicioFormateado() {\r\n            return (\r\n                this.timesLegibles.horarioInicio.horas +\r\n                \":\" +\r\n                this.timesLegibles.horarioInicio.minutos\r\n            );\r\n        },\r\n        horarioFinalFormateado() {\r\n            return (\r\n                this.timesLegibles.horarioFinal.horas +\r\n                \":\" +\r\n                this.timesLegibles.horarioFinal.minutos\r\n            );\r\n        },\r\n        fechaInicioLegible() {\r\n\r\n            const diaSemana = diasSemana[this.dateInicio.getDay()];\r\n            const diaMes = this.dateInicio.getDate();\r\n            const mes = meses[this.dateInicio.getMonth()];\r\n\r\n            const texto = diaSemana + \" \" + diaMes + \" de \" + mes;\r\n            return texto;\r\n\r\n        },\r\n        horaInicioLegible() {\r\n            var hora = this.dateInicio.getHours();\r\n            var minutos = this.dateInicio.getMinutes();\r\n            if (('' + hora).length < 2) {\r\n                hora = '0' + hora;\r\n            }\r\n            if (('' + minutos).length < 2) {\r\n                minutos = '0' + minutos;\r\n            }\r\n            return hora + ':' + minutos\r\n        },\r\n        dateInicioLegible() {\r\n            const texto = this.fechaInicioLegible + \", \" + this.horaInicioLegible;\r\n            return texto;\r\n        },\r\n        fechaFinalLegible() {\r\n            const diaSemana = diasSemana[this.dateFinal.getDay()];\r\n            const diaMes = this.dateFinal.getDate();\r\n            const mes = meses[this.dateFinal.getMonth()];\r\n\r\n            const texto = diaSemana + \" \" + diaMes + \" de \" + mes;\r\n            return texto;\r\n\r\n        },\r\n        horaFinalLegible() {\r\n            var hora = this.dateFinal.getHours();\r\n            var minutos = this.dateFinal.getMinutes();\r\n            if (('' + hora).length < 2) {\r\n                hora = '0' + hora;\r\n            }\r\n            if (('' + minutos).length < 2) {\r\n                minutos = '0' + minutos;\r\n            }\r\n            return hora + ':' + minutos\r\n        },\r\n        dateFinalLegible() {\r\n\r\n            const texto = this.fechaFinalLegible + \", \" + this.horaFinalLegible;\r\n            return texto;\r\n        },\r\n        timesLegibles() {\r\n            const millisHoyInicio = this.millisInicioLocal % 86400000;\r\n            const millisHoyFinal = this.millisFinalLocal % 86400000;\r\n\r\n            return {\r\n                horarioInicio: {\r\n                    horas: Math.floor(millisHoyInicio / 3600000),\r\n                    minutos: (millisHoyInicio % 3600000) / 60000,\r\n                },\r\n                horarioFinal: {\r\n                    horas: Math.floor(millisHoyFinal / 3600000),\r\n                    minutos: (millisHoyFinal % 3600000) / 60000,\r\n                },\r\n            };\r\n        },\r\n        millisFinalLocal() {\r\n            const fecha = new Date(this.esteEvento.horarioFinal);\r\n            const millis = fecha.getTime();\r\n            const offset = fecha.getTimezoneOffset() * 60000;\r\n            return millis - offset;\r\n        },\r\n        millisInicioLocal() {\r\n            const fecha = new Date(this.esteEvento.horarioInicio);\r\n            const millis = fecha.getTime();\r\n            const offset = fecha.getTimezoneOffset() * 60000;\r\n            return millis - offset;\r\n        },\r\n        duracionMinutos() {\r\n            return Math.round((new Date(this.esteEvento.horarioFinal).getTime() - new Date(this.esteEvento.horarioInicio).getTime()) / 60000);\r\n        },\r\n        duracionLegible() {\r\n            const dias = Math.floor(this.duracionMinutos / 1440);\r\n            const horas = Math.floor((this.duracionMinutos - (dias * 1440)) / 60);\r\n            const minutos = this.duracionMinutos - (dias * 1440) - (horas * 60);\r\n\r\n            var texto = \"\";\r\n            if (minutos > 0 || this.duracionMinutos === 0) {\r\n                texto = minutos + \"min\";\r\n            }\r\n            if (horas > 0) {\r\n                if (texto.length > 0) {\r\n                    texto = \", \" + texto\r\n                }\r\n                texto = horas + \"h\" + texto;\r\n            }\r\n            if (dias > 0) {\r\n                if (texto.length > 0) {\r\n                    texto = \", \" + texto\r\n                }\r\n                texto = dias + \"dias\" + texto;\r\n            }\r\n            return texto;\r\n        }\r\n    }\r\n\r\n}\r\nexport const MixinBasicoEventosPublicos = {\r\n    data() {\r\n        return {\r\n        }\r\n    },\r\n    computed: {\r\n        administrador() {\r\n            if (!this.usuarioLogeado) return false;\r\n\r\n            return this.usuario.id === this.esteEvento.idAdministrador;\r\n        },\r\n    }\r\n}\r\nexport const MixinBasicoEventosPersonales = {\r\n    data() {\r\n        return {\r\n        }\r\n    },\r\n    computed: {\r\n        administrador() {\r\n            if (!this.usuarioLogeado) return false;\r\n\r\n            return this.usuario.id === this.esteEvento.idPersona;\r\n        },\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const MixinEdicionEventos = {\r\n    data() {\r\n        return {\r\n            nuevoNombre: \"Nuevo nombre\",\r\n            editandoNombre: false,\r\n            enviandoNuevoNombre: false,\r\n\r\n            nuevoDescripcion: \"Nueva descripcion\",\r\n            editandoDescripcion: false,\r\n            enviandoNuevoDescripcion: false,\r\n\r\n            editandoFechaInicio: false,\r\n            editandoHoraInicio: false,\r\n            nuevoDuracion: null,\r\n\r\n            enviandoNuevoDateInicio: false,\r\n            enviandoNuevoDateFinal: false,\r\n            enviandoHorarios: false,\r\n            enviandoSomeHorario: false,\r\n\r\n            nuevoLimiteDeCupos: null,\r\n            editandoLimiteDeCupos: false,\r\n            enviandoNuevoLimiteDeCupos: false,\r\n\r\n            minRepetir: 1,\r\n            maxRepetir: 52,\r\n\r\n            enviandoQueryRepetir: false,\r\n        }\r\n    },\r\n    methods: {\r\n        guardarNuevoNombre() {\r\n            this.nuevoNombre = this.$refs.inputNuevoNombre.value;\r\n\r\n            if (this.nuevoNombreIlegal) {\r\n                console.log(`No enviado`);\r\n                return;\r\n            }\r\n            if (this.nuevoNombre == this.esteEvento.nombre) {\r\n                this.editandoNombre = false;\r\n                return;\r\n            }\r\n            console.log(`guardando nuevo nombre`);\r\n            this.enviandoNuevoNombre = true;\r\n            this.$apollo\r\n                .mutate({\r\n                    mutation: gql`\r\n                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoNombre: String!) {\r\n                    editarNombreEvento(\r\n                      idEvento: $idEvento\r\n                      tipoEvento:$tipoEvento\r\n                      nuevoNombre: $nuevoNombre\r\n                    ) {\r\n                    __typename\r\n                    ... on EventoPersonal{\r\n                        id\r\n                      nombre\r\n                    }\r\n                    ... on EventoPublico{\r\n                        id\r\n                        nombre\r\n                    }\r\n                    \r\n                    }\r\n                  }\r\n                `,\r\n                    variables: {\r\n                        idEvento: this.esteEvento.id,\r\n                        tipoEvento: this.tipoEvento,\r\n                        nuevoNombre: this.nuevoNombre,\r\n                    },\r\n                })\r\n                .then(() => {\r\n                    this.enviandoNuevoNombre = false;\r\n                    this.editandoNombre = false;\r\n                })\r\n                .catch((error) => {\r\n                    this.enviandoNuevoNombre = false;\r\n                    console.log(`Error. E :${error}`);\r\n                });\r\n        },\r\n        guardarNuevoLimiteDeCupos() {\r\n            this.nuevoLimiteDeCupos = this.$refs.inputNuevoLimiteDeCupos.value;\r\n\r\n            if (this.nuevoLimiteDeCuposIlegal) {\r\n                console.log(`No enviado`);\r\n                return;\r\n            }\r\n            if (this.nuevoLimiteDeCupos == this.esteEvento.limiteDeCupos) {\r\n                this.editandoLimiteDeCupos = false;\r\n                return;\r\n            }\r\n            console.log(`guardando nuevo limite de cupos`);\r\n            this.enviandonuevoLimiteDeCupos = true;\r\n            this.$apollo\r\n                .mutate({\r\n                    mutation: gql`\r\n                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoLimiteDeCupos: Int!) {\r\n                    editarLimiteDeCuposEvento(\r\n                      idEvento: $idEvento\r\n                      tipoEvento:$tipoEvento\r\n                      nuevoLimiteDeCupos: $nuevoLimiteDeCupos\r\n                    ) {\r\n                        id\r\n                      limiteDeCupos                                      \r\n                    }\r\n                  }\r\n                `,\r\n                    variables: {\r\n                        idEvento: this.esteEvento.id,\r\n                        tipoEvento: this.tipoEvento,\r\n                        nuevoLimiteDeCupos: parseInt(this.nuevoLimiteDeCupos),\r\n                    },\r\n                })\r\n                .then(() => {\r\n                    this.enviandoNuevoLimiteDeCupos = false;\r\n                    this.editandoLimiteDeCupos = false;\r\n                })\r\n                .catch((error) => {\r\n                    this.enviandoNuevoLimiteDeCupos = false;\r\n                    console.log(`Error. E :${error}`);\r\n                });\r\n        },\r\n        guardarNuevoDescripcion() {\r\n            if (this.nuevoDescripcionIlegal) {\r\n                console.log(`No enviado`);\r\n                return;\r\n            }\r\n            if (this.nuevoDescripcion == this.esteEvento.descripcion) {\r\n                this.editandoDescripcion = false;\r\n                return;\r\n            }\r\n            console.log(`guardando nuevo descripcion`);\r\n            this.enviandoNuevoDescripcion = true;\r\n            this.$apollo\r\n                .mutate({\r\n                    mutation: gql`\r\n                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoDescripcion: String!) {\r\n                    editarDescripcionEvento(\r\n                      idEvento: $idEvento\r\n                      tipoEvento: $tipoEvento\r\n                      nuevoDescripcion: $nuevoDescripcion\r\n                    ) {\r\n                        __typename\r\n                        ... on EventoPublico{\r\n                            id\r\n                            descripcion  \r\n                        }\r\n                        ... on EventoPersonal{\r\n                            id\r\n                            descripcion  \r\n                        }\r\n                      \r\n                    }\r\n                  }\r\n                `,\r\n                    variables: {\r\n                        idEvento: this.esteEvento.id,\r\n                        tipoEvento: this.tipoEvento,\r\n                        nuevoDescripcion: this.nuevoDescripcion,\r\n                    },\r\n                })\r\n                .then(() => {\r\n                    this.enviandoNuevoDescripcion = false;\r\n                    this.editandoDescripcion = false;\r\n                })\r\n                .catch((error) => {\r\n                    this.enviandoNuevoDescripcion = false;\r\n                    console.log(`Error. E :${error}`);\r\n                });\r\n        },\r\n        toggleEditandoDescripcion() {\r\n            if (!this.administrador) {\r\n                return;\r\n            }\r\n            this.$refs.inputNuevoDescripcion.style.height =\r\n                this.$refs.descripcion.offsetHeight + \"px\";\r\n            this.editandoDescripcion = !this.editandoDescripcion;\r\n            this.nuevoDescripcion = this.esteEvento.descripcion;\r\n\r\n            if (this.editandoDescripcion) {\r\n                this.$nextTick(() => {\r\n                    this.$refs.inputNuevoDescripcion.focus();\r\n                });\r\n            }\r\n        },\r\n        toggleEditandoNombre(e) {\r\n            if (this.administrador) {\r\n                e.stopPropagation();\r\n\r\n                this.editandoNombre = true;\r\n                this.nuevoNombre = this.esteEvento.nombre;\r\n                this.$nextTick(() => {\r\n                    this.$refs.inputNuevoNombre.focus();\r\n                });\r\n            }\r\n        },\r\n        toggleEditandoLimiteDeCupos(e) {\r\n            if (this.administrador) {\r\n                e.stopPropagation();\r\n\r\n                this.editandoLimiteDeCupos = true;\r\n                this.nuevoLimiteDeCupos = this.esteEvento.limiteDeCupos;\r\n                this.$nextTick(() => {\r\n                    this.$refs.inputNuevoLimiteDeCupos.focus();\r\n                });\r\n            }\r\n        },\r\n        keydownInputNuevoNombre(e) {\r\n            if (e.key === \"Escape\") {\r\n                this.$refs.inputNuevoNombre.blur();\r\n            }\r\n        },\r\n        eliminarse() {\r\n            if (\r\n                !confirm(\r\n                    \"¿Confirmar la eliminación de este evento? (Esta acción no puede deshacerse)\"\r\n                )\r\n            )\r\n                return;\r\n\r\n            if (!this.administrador && !this.usuarioSuperadministrador && !this.usuarioProfe) {\r\n                return;\r\n            }\r\n            this.eliminandose = true;\r\n            this.$apollo\r\n                .mutate({\r\n                    mutation: gql`\r\n                  mutation ($idEvento: ID!, $tipoEvento:String!) {\r\n                    eliminarEvento(idEvento: $idEvento, tipoEvento:$tipoEvento)\r\n                  }\r\n                `,\r\n                    variables: {\r\n                        idEvento: this.esteEvento.id,\r\n                        tipoEvento: this.tipoEvento,\r\n                    },\r\n                })\r\n                .then(() => {\r\n                    this.$emit(\"meElimine\");\r\n                })\r\n                .catch((error) => {\r\n                    console.log(`Error: ${error}`);\r\n                });\r\n        },\r\n        iniciarEdicionDuracion() {            \r\n            this.nuevoDuracion = this.esteEvento.horarioFinal - this.esteEvento.horarioInicio;\r\n            this.editandoDuracion = true;\r\n        },\r\n        repetirEvento(cantidadRepetir, periodoRepetir) {\r\n            if (!this.usuarioSuperadministrador && !this.administrador) {\r\n                return;\r\n            }\r\n            cantidadRepetir = parseInt(cantidadRepetir);\r\n\r\n            if (cantidadRepetir < this.minRepetir || cantidadRepetir > this.maxRepetir) {\r\n                return;\r\n            }\r\n            console.log(`Se hara query de repetir este evento ${cantidadRepetir} veces ${periodoRepetir}`)\r\n            this.enviandoQueryRepetir = true;\r\n            this.$apollo.mutate({\r\n                mutation: gql`\r\n                mutation($periodoRepetir: String, $cantidadRepetir: Int!, $idEvento:ID!, $tipoEvento:String!){\r\n                  repetirEventoPeriodicamente(periodoRepetir:$periodoRepetir, cantidadRepetir: $cantidadRepetir, idEvento: $idEvento, tipoEvento:$tipoEvento){\r\n                    __typename\r\n                    ...on EventoPublico{\r\n                        ...fragEventoPublico\r\n                    }\r\n                    ...on EventoPersonal{\r\n                        ...fragEventoPersonal\r\n                    }\r\n                  }\r\n                } \r\n                ${fragmentoEventoPublico}\r\n                ${fragmentoEventoPersonal}\r\n              `,\r\n                variables: {\r\n                    periodoRepetir: periodoRepetir,\r\n                    cantidadRepetir: cantidadRepetir,\r\n                    idEvento: this.esteEvento.id,\r\n                    tipoEvento: this.tipoEvento,\r\n                }\r\n            }).then(({ data: { repetirEventoPeriodicamente } }) => {\r\n                if (repetirEventoPeriodicamente) {\r\n                    this.$emit('meRepetiPeriodicamente', repetirEventoPeriodicamente);\r\n                    this.mostrandoZonaRepetir = false;\r\n                }\r\n                this.enviandoQueryRepetir = false;\r\n\r\n            }).catch((error) => {\r\n                console.log(`Error: ${error}`);\r\n                this.enviandoQueryRepetir = false;\r\n\r\n            })\r\n        },\r\n    },\r\n    computed: {\r\n        nuevoNombreIlegal() {\r\n            if (this.nuevoNombre.length < 1) {\r\n                return true;\r\n            }\r\n            if (charProhibidosNombreCosa.test(this.nuevoNombre)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        nuevoDescripcionIlegal() {\r\n            if (!this.nuevoDescripcion || this.nuevoDescripcion.length < 1) {\r\n                return true;\r\n            }\r\n            if (charProhibidosTexto.test(this.nuevoDescripcion)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        nuevoLimiteDeCuposIlegal() {\r\n            if (!this.nuevoLimiteDeCupos || this.nuevoLimiteDeCupos < 1) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n    },\r\n    watch: {\r\n        mostrando(mostrando) {\r\n            if (mostrando != \"descripcion\") this.editandoDescripcion = false;\r\n\r\n            if (mostrando === \"descripcion\") {\r\n                if (\r\n                    !this.esteEvento.descripcion ||\r\n                    this.esteEvento.descripcion.length < 1\r\n                ) {\r\n                    if (!this.editandoDescripcion) {\r\n                        this.toggleEditandoDescripcion();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n    },\r\n}\r\nexport const MixinEdicionEventosPublicos = {\r\n    data() {\r\n        return {\r\n\r\n           \r\n        }\r\n    },\r\n    methods: {\r\n\r\n    },\r\n\r\n};\r\n\r\n\r\n\r\nexport const MixinEventoCalendario = {\r\n    props: {\r\n        idEventoSeleccionado: String,\r\n        esteEvento: Object,\r\n        horaPx: Number,\r\n        seleccionado: Boolean,\r\n        infoOffset: Object,\r\n        diaCalendarioOver: Object,\r\n        enfasis: String,\r\n        idUsuarioTarget: String,\r\n    },\r\n    data() {\r\n        return {\r\n            eliminandose: false,\r\n            recogido: false,\r\n        }\r\n    },\r\n    computed: {\r\n        duracionMinutos() {\r\n            return (this.dateFinal.getTime() - this.dateInicio.getTime()) / 60000;\r\n        },\r\n        estiloSize() {\r\n            const anchoPx = (this.duracionMinutos / 60) * this.horaPx;\r\n            return {\r\n                width: anchoPx + \"px\",\r\n            };\r\n        },\r\n        estiloPos() {\r\n            const millisDia = (this.dateInicio.getHours() * 3600000) + (this.dateInicio.getMinutes() * 60000)\r\n            return {\r\n                left: (millisDia / 3600000) * this.horaPx + \"px\",\r\n                top: this.infoOffset ? this.infoOffset.top + 'px' : 0 + \"px\",\r\n            };\r\n        },\r\n        estiloZ() {\r\n            return {\r\n                zIndex: this.seleccionado ? 10 : 0\r\n            }\r\n        },\r\n        claseOffset() {\r\n            return this.infoOffset.clase;\r\n        },\r\n    },\r\n    methods: {\r\n       \r\n    },\r\n    watch: {\r\n        dateInicio(dateInicio) {\r\n            console.log(`Cambio de date inicio. Ahora inicio en ${dateInicio}`);\r\n            if (\r\n                dateInicio < this.diaCalendarioOver.date ||\r\n                dateInicio.getTime() > this.diaCalendarioOver.date.getTime() + 86400000\r\n            ) {\r\n                console.log(`${this.esteEvento.nombre} dice: Me cambiaron de día`);\r\n                this.$emit(\"meCambiaronDia\", this.esteEvento);\r\n            }\r\n        },\r\n    },\r\n}\r\nexport const MixinVentanaEvento = {\r\n    data() {\r\n        return {\r\n            mostrando: null,\r\n            esteEvento: {\r\n                \r\n            },\r\n\r\n            editandoDateInicio: false,\r\n            editandoHorarioFinal: false,\r\n            editandoDuracion: false,\r\n\r\n            mostrandoZonaRepetir: false,\r\n            periodoRepetir: \"diariamente\",\r\n            cantidadRepetir: 1,\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        cerrarVentana() {\r\n            const indexEsteSubpath = this.tipoEvento === 'eventoPublico' ? this.$route.path.search(\"ventanaEventoPublico\") : this.tipoEvento === 'eventoPersonal' ? this.$route.path.search(\"ventanaEventoPersonal\") : null\r\n            if (!indexEsteSubpath) return;\r\n            const pathParent = this.$route.path.substring(0, indexEsteSubpath - 1);\r\n            this.$router.push(pathParent);\r\n        },\r\n        iniciarEdicionFechaInicio() {\r\n            if (!this.administrador && !this.usuarioSuperadministrador && !this.usuarioProfe) return;\r\n\r\n            console.log(\r\n                `Iniciando edicion de fecha inicio con ${this.fechaInicioString}`\r\n            );\r\n            this.$refs.inputFechaInicio.value = this.fechaInicioFormateada;\r\n            this.editandoFechaInicio = true;\r\n            this.$nextTick(() => {\r\n                this.$refs.inputFechaInicio.focus();\r\n            });\r\n        },\r\n        iniciarEdicionHoraInicio() {\r\n            if (!this.administrador && !this.usuarioSuperadministrador && !this.usuarioProfe) return;\r\n\r\n            this.$refs.inputHoraInicio.value = this.horaInicioLegible;\r\n            this.editandoHoraInicio = true;\r\n            this.$nextTick(() => {\r\n                this.$refs.inputHoraInicio.focus();\r\n            });\r\n        },\r\n        iniciarEdicionDuracion() {\r\n            if (!this.administrador && !this.usuarioSuperadministrador && !this.usuarioProfe) return;\r\n\r\n            console.log(`Iniciando edicion de duración con ${this.duracionMinutos}`);\r\n            this.$refs.inputDuracion.value = this.duracionMinutos;\r\n            this.editandoDuracion = true;\r\n            this.$nextTick(() => {\r\n                this.$refs.inputDuracion.focus();\r\n            });\r\n        },\r\n        updateDuracion(nuevaDuracion) {\r\n            console.log(`Updating duración to ${nuevaDuracion} minutos`);\r\n            const nuevoHorarioFinal = new Date(\r\n                this.dateInicio.getTime() + nuevaDuracion * 60000\r\n            );\r\n            this.enviarNuevoHorarioFinal(nuevoHorarioFinal);\r\n        },\r\n        enviarNuevoHorarioFinal(dateFinal) {\r\n            this.enviandoNuevoDateFinal = true;\r\n            this.enviandoSomeHorario = true;\r\n            console.log(`Enviando nuevo horario final: ${dateFinal}`);\r\n            this.$apollo\r\n                .mutate({\r\n                    mutation: gql`\r\n                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {\r\n                        setDateFinalEvento(\r\n                        nuevoDate: $nuevoDate\r\n                        tipoEvento: $tipoEvento\r\n                        idEvento: $idEvento\r\n                        ){\r\n                                __typename\r\n                            ... on EventoPersonal{\r\n                                id\r\n                                horarioInicio\r\n                                horarioFinal\r\n                            }\r\n                            ... on EventoPublico{\r\n                                id\r\n                                horarioInicio\r\n                                horarioFinal\r\n                            }\r\n                        }\r\n                  }\r\n                `,\r\n                    variables: {\r\n                        nuevoDate: dateFinal,\r\n                        tipoEvento: this.esteEvento.__typename.charAt(0).toLowerCase() + this.esteEvento.__typename.slice(1),\r\n                        idEvento: this.esteEvento.id,\r\n                    },\r\n                })\r\n                .then(() => {\r\n\r\n                    this.enviandoNuevoDateFinal = false;\r\n                    this.enviandoSomeHorario = false;\r\n                    this.editandoDuracion = false;\r\n\r\n                })\r\n                .catch((error) => {\r\n                    console.log(`Error: ${error}`);\r\n                    this.enviandoNuevoDateFinal = false;\r\n                    this.enviandoSomeHorario = false;\r\n                });\r\n        },\r\n        updateHorarioInicio(e) {\r\n            const nuevoTime = e.target.value;\r\n            const horas = parseInt(nuevoTime.substring(0, 2));\r\n            const minutos = parseInt(nuevoTime.substring(3));\r\n            console.log(\r\n                `nuevoTime: ${nuevoTime}. ${horas} horas y ${minutos} minutos`\r\n            );\r\n            const actualDateFinal = new Date(this.esteEvento.horarioFinal);\r\n            var dateInicio = new Date(this.esteEvento.horarioInicio);\r\n            console.log(`Actual date: ${dateInicio}`);\r\n            dateInicio.setHours(horas);\r\n            dateInicio.setMinutes(minutos);\r\n            console.log(`Nueva date inicio: ${dateInicio}`);\r\n            if (dateInicio > actualDateFinal) {\r\n                return;\r\n            }\r\n\r\n            this.enviandoNuevoDateInicio = true;\r\n            this.$apollo\r\n                .mutate({\r\n                    mutation: gql`\r\n                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {\r\n                    setDateInicioEvento(\r\n                      nuevoDate: $nuevoDate\r\n                      tipoEvento: $tipoEvento\r\n                      idEvento: $idEvento\r\n                    ){\r\n                        __typename\r\n                      ... on EventoPersonal{\r\n                        id\r\n                        horarioInicio\r\n                        horarioFinal\r\n                      }\r\n                      ... on EventoPublico{\r\n                        id\r\n                        horarioInicio\r\n                        horarioFinal\r\n                      }\r\n                    }\r\n                  }\r\n                `,\r\n                    variables: {\r\n                        nuevoDate: dateInicio,\r\n                        tipoEvento: this.tipoEvento,\r\n                        idEvento: this.esteEvento.id,\r\n                    },\r\n                })\r\n                .then(() => {\r\n                    this.enviandoNuevoDateInicio = false;\r\n                    this.editandoDateInicio = false;\r\n                })\r\n                .catch((error) => {\r\n                    console.log(`Error: ${error}`);\r\n                    this.enviandoNuevoDateInicio = false;\r\n                });\r\n            // const nuevoDate=this.\r\n        },\r\n        iniciarEdicionHorarioFinal() {\r\n            if (!this.administrador && !this.usuarioSuperadministrador && !this.usuarioProfe) return;\r\n            console.log(`Iniciando edicion`);\r\n            this.$refs.inputHorarioFinal.value = this.horaFinalString;\r\n            this.editandoHorarioFinal = true;\r\n            this.$nextTick(() => {\r\n                this.$refs.inputHorarioFinal.focus();\r\n            });\r\n        },\r\n        updateHorarioFinal(e) {\r\n            const nuevoTime = e.target.value;\r\n            const horas = parseInt(nuevoTime.substring(0, 2));\r\n            const minutos = parseInt(nuevoTime.substring(3));\r\n            console.log(\r\n                `nuevoTime: ${nuevoTime}. ${horas} horas y ${minutos} minutos`\r\n            );\r\n            const actualDateInicio = new Date(this.esteEvento.horarioInicio);\r\n            var dateFinal = new Date(this.esteEvento.horarioFinal);\r\n            console.log(`Actual date: ${dateFinal}`);\r\n            dateFinal.setHours(horas);\r\n            dateFinal.setMinutes(minutos);\r\n            console.log(`Nueva date final: ${dateFinal}`);\r\n            if (dateFinal < actualDateInicio) {\r\n                return;\r\n            }\r\n\r\n            this.enviarNuevoHorarioFinal(dateFinal);\r\n            // const nuevoDate=this.\r\n        },\r\n        enviarNuevaDateInicioHoldDuration(nuevaDateInicio) {\r\n            this.enviandoNuevoDateInicio = true;\r\n            this.enviandoSomeHorario = true;\r\n            this.$apollo\r\n                .mutate({\r\n                    mutation: gql`\r\n                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {\r\n                    setDateInicioEventoHoldDuration(\r\n                      nuevoDate: $nuevoDate\r\n                      tipoEvento: $tipoEvento\r\n                      idEvento: $idEvento\r\n                    ) {\r\n                      __typename\r\n                      ... on EventoPersonal{\r\n                        id\r\n                        horarioInicio\r\n                        horarioFinal\r\n                      }\r\n                      ... on EventoPublico{\r\n                        id\r\n                        horarioInicio\r\n                        horarioFinal\r\n                      }\r\n                      \r\n                    }\r\n                  }\r\n                `,\r\n                    variables: {\r\n                        nuevoDate: nuevaDateInicio,\r\n                        tipoEvento: this.tipoEvento,\r\n                        idEvento: this.esteEvento.id,\r\n                    },\r\n                })\r\n                .then(() => {\r\n                    this.$emit(\"eventoCambioFecha\", this.esteEvento);\r\n                    this.enviandoSomeHorario = false;\r\n                    this.enviandoNuevoDateInicio = false;\r\n                    this.editandoFechaInicio = false;\r\n                    this.editandoHoraInicio = false;\r\n                })\r\n                .catch((error) => {\r\n                    console.log(`Error: ${error}`);\r\n                    this.enviandoNuevoDateInicio = false;\r\n                    this.enviandoSomeHorario = false;\r\n                });\r\n        },\r\n        updateFechaInicioHoldDuration(nuevaFechaInicioFormateada) {\r\n            console.log(\r\n                `se hara update de fecha inicio holding duration. ${nuevaFechaInicioFormateada}`\r\n            );\r\n            const datosFecha = new Date(nuevaFechaInicioFormateada);\r\n            const nuevoDiaInicio = datosFecha.getUTCDate();\r\n            const nuevoMesInicio = datosFecha.getUTCMonth();\r\n            const nuevoYearInicio = datosFecha.getUTCFullYear();\r\n\r\n            var nuevaDateInicio = new Date(this.esteEvento.horarioInicio);\r\n            nuevaDateInicio.setDate(nuevoDiaInicio);\r\n            nuevaDateInicio.setMonth(nuevoMesInicio);\r\n            nuevaDateInicio.setFullYear(nuevoYearInicio);\r\n\r\n            console.log(`Quedará: ${nuevaDateInicio}`);\r\n\r\n            this.enviarNuevaDateInicioHoldDuration(nuevaDateInicio);\r\n        },\r\n        updateHoraInicioHoldDuration(nuevaHoraInicioFormateada) {\r\n            console.log(\r\n                `se hara update de hora inicio holding duration. ${nuevaHoraInicioFormateada}`\r\n            );\r\n            const horas = nuevaHoraInicioFormateada.substring(0, 2);\r\n            const minutos = nuevaHoraInicioFormateada.substring(3);\r\n\r\n            var nuevaDateInicio = new Date(this.esteEvento.horarioInicio);\r\n            nuevaDateInicio.setHours(horas);\r\n            nuevaDateInicio.setMinutes(minutos);\r\n\r\n            console.log(`Quedará: ${nuevaDateInicio}`);\r\n            this.enviarNuevaDateInicioHoldDuration(nuevaDateInicio);\r\n        },\r\n    },\r\n    computed: {\r\n        horaInicioString() {\r\n            return new Date(this.esteEvento.horarioInicio)\r\n                .toTimeString()\r\n                .substring(0, 5);\r\n        },\r\n        horaFinalString() {\r\n            return new Date(this.esteEvento.horarioFinal)\r\n                .toTimeString()\r\n                .substring(0, 5);\r\n        },\r\n    },\r\n}\r\n\r\n\r\nexport const MixinEventosPublicosUseEventosPersonalesUnder = {\r\n    props: {\r\n        idParent: String,\r\n        tipoParent: String,\r\n    },\r\n    data() {\r\n        return {\r\n            creandoEventoPersonalUnder: false,\r\n        }\r\n    },\r\n    methods: {\r\n        crearEventoPersonalUnder() {\r\n            console.log(`Creando evento personal under`);\r\n            this.creandoEventoPersonalUnder = true;\r\n\r\n            this.$apollo.mutate({\r\n                mutation: gql`\r\n                    mutation($infoEventoPersonal: InputCrearEventoPersonal){\r\n                        crearEventoPersonal(infoEventoPersonal:$infoEventoPersonal){\r\n                            ...fragEventoPersonal\r\n                        }\r\n                    }\r\n                ${fragmentoEventoPersonal}\r\n                `,\r\n                variables: {\r\n                    infoEventoPersonal: {\r\n                        idPersona: this.idUsuarioTarget,\r\n                        idEventoMarco: this.esteEvento.id,\r\n                        idParent: this.idParent,\r\n                        tipoParent: this.tipoParent\r\n                    }\r\n                }\r\n            }).then(({ data: { crearEventoPersonal } }) => {\r\n                this.creandoEventoPersonalUnder = false;\r\n                this.$emit('creadoEventoPersonal', crearEventoPersonal);\r\n\r\n            }).catch((error) => {\r\n                console.log(`Error: ${error}`);\r\n                this.creandoEventoPersonalUnder = false;\r\n            })\r\n        }\r\n    }\r\n}","<template>\r\n  <div\r\n    class=\"eventoPublicoCalendario\"\r\n    :style=\"[estiloPos, estiloZ]\"\r\n    :class=\"{\r\n      deshabilitado: eliminandose,\r\n      seleccionado,\r\n      bloque: claseOffset === 'bloque' || seleccionado,\r\n      barra: claseOffset === 'barra' && !seleccionado,\r\n    }\"\r\n  >\r\n    <div id=\"barra\" :style=\"estiloSize\" :class=\"{ seleccionado, administrador }\"></div>\r\n    <div id=\"bloque\" :style=\"estiloSize\" :class=\"{ extranjero, seleccionado }\" style=\"position:relative\">\r\n      <div id=\"zonaNombre\">\r\n        <div\r\n          id=\"elNombre\"\r\n          :class=\"{\r\n            administrador,\r\n          }\"\r\n        >\r\n          {{ esteEvento.nombre }}\r\n        </div>\r\n      </div>\r\n      <div id=\"cantidadAsistentes\" v-if=\"esteEvento.eventosEnmarcados && esteEvento.eventosEnmarcados.length>0\">\r\n        <img src=\"@/assets/iconos/user.svg\" alt=\"User\" style=\"height:13px; margin-right: 6px\">\r\n        {{esteEvento.eventosEnmarcados.length}}{{esteEvento.limiteDeCupos?'/'+esteEvento.limiteDeCupos:''}}\r\n      </div>\r\n      <icono-persona-autonomo :class=\"{seleccionado}\" style=\"margin: 0px auto\" v-if=\"idUsuarioTarget!=esteEvento.idAdministrador\" :idPersona=\"esteEvento.idAdministrador\" :factorEscala=\"'0.5'\" />\r\n      <div id=\"contenedorControlesEvento\" :class=\"{ seleccionado }\">\r\n        <div\r\n          class=\"boton botonControlEvento\"\r\n          title=\"Asistir a este evento\"\r\n          v-if=\"usuarioLogeado && idUsuarioTarget!=esteEvento.idAdministrador\"\r\n          v-show=\"!creandoEventoPersonalUnder\"\r\n          @click.stop=\"crearEventoPersonalUnder\"\r\n        >\r\n          <img src=\"@/assets/iconos/calendarPlus.svg\" alt=\"Asistir\" />\r\n        </div>\r\n        <loading v-show=\"creandoEventoPersonalUnder\" />\r\n        <div\r\n          class=\"boton botonControlEvento\"\r\n          title=\"Eliminar este evento\"\r\n          v-if=\"administrador || usuarioSuperadministrador\"\r\n          @click.stop=\"eliminarse\"\r\n        >\r\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Eliminar\" />\r\n        </div>\r\n        <div\r\n          class=\"boton botonControlEvento\"\r\n          title=\"Expandir este evento\"\r\n          @click.stop=\"\r\n            $router.push($route.path + '/ventanaEventoPublico/' + esteEvento.id)\r\n          \"\r\n        >\r\n          <img src=\"@/assets/iconos/expand.svg\" alt=\"Expandir\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  MixinBasicoEventosPublicos,\r\n  MixinEventosPublicosUseEventosPersonalesUnder,\r\n  MixinBasicoEventos,\r\n  MixinEventoCalendario,\r\n} from \"../MixinsEventos\";\r\nimport IconoPersonaAutonomo from '../usuario/IconoPersonaAutonomo.vue';\r\nimport Loading from './Loading.vue';\r\n\r\nexport default {\r\n  name: \"EventoPublicoCalendario\",\r\n  components: {IconoPersonaAutonomo, Loading},\r\n  props: {\r\n    extranjero: Boolean,\r\n  },\r\n  mixins: [\r\n    MixinBasicoEventos,\r\n    MixinBasicoEventosPublicos,\r\n    MixinEventoCalendario,\r\n    MixinEventosPublicosUseEventosPersonalesUnder,\r\n  ],\r\n  data() {\r\n    return {\r\n      mostrando: null,\r\n    };\r\n  },\r\n  methods: {},\r\n  computed: {\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.eventoPublicoCalendario {\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  border-width: 2px;\r\n  border-style: solid;\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  border-color: white;\r\n  color: rgb(48, 48, 48);\r\n}\r\n.eventoPublicoCalendario.seleccionado {\r\n  border-color: var(--calendarioSelect);\r\n}\r\n.eventoPublicoCalendario.barra #bloque {\r\n  display: none;\r\n}\r\n#barra {\r\n  height: 15px;\r\n  background-color: var(--calendarioPublicoStrong);\r\n  opacity: 1;\r\n}\r\n#barra.administrador{\r\n  background-color: var(--calendarioUsuarioStrong);\r\n}\r\n#barra.seleccionado {\r\n  opacity: 1;\r\n}\r\n#bloque {\r\n  height: 100px;\r\n\r\n  background-color: var(--calendarioPublico);\r\n}\r\n#bloque.extranjero {\r\n  opacity: 0.6;\r\n}\r\n#bloque.seleccionado {\r\n  opacity: 1;\r\n}\r\n#cantidadAsistentes{\r\n  display: flex;\r\n  font-size: 11px;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.iconoPersonaAutonomo.seleccionado{\r\n  opacity: 0.4;\r\n}\r\n#contenedorControlesEvento {\r\n  display: flex;\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 50%;\r\n  align-items: center;\r\n  flex-direction: row-reverse;\r\n  transform: translateX(-50%);\r\n  box-sizing: border-box;\r\n  padding: 0px 5%;\r\n}\r\n#contenedorControlesEvento:not(.seleccionado) {\r\n  display: none;\r\n}\r\n#contenedorControlesEvento.seleccionado {\r\n  display: flex;\r\n}\r\n\r\n#contenedorControlesEvento .boton {\r\n  height: 15px;\r\n  margin: 0px 5%;\r\n}\r\n#elNombre {\r\n  text-align: center;\r\n  font-size: 10px;\r\n  padding: 5px 3px;\r\n}\r\n.inputNuevoNombre {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  font-size: 11px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoPublicoCalendario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoPublicoCalendario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventoPublicoCalendario.vue?vue&type=template&id=0f72dd2e&scoped=true&\"\nimport script from \"./EventoPublicoCalendario.vue?vue&type=script&lang=js&\"\nexport * from \"./EventoPublicoCalendario.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventoPublicoCalendario.vue?vue&type=style&index=0&id=0f72dd2e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f72dd2e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"eventoPersonalCalendario\",class:{\n    deshabilitado: _vm.eliminandose,\n    seleccionado: _vm.seleccionado,\n    bloque: _vm.claseOffset === 'bloque' || _vm.seleccionado,\n    barra: _vm.claseOffset === 'barra' && !_vm.seleccionado,\n  },style:([_vm.estiloPos, _vm.estiloZ])},[_c('div',{class:{ seleccionado: _vm.seleccionado, extranjero: _vm.extranjero },style:(_vm.estiloSize),attrs:{\"id\":\"barra\"}}),_c('div',{class:{ extranjero: _vm.extranjero, seleccionado: _vm.seleccionado, deNodoSolidaridad:_vm.esteEvento.tipoParent==='nodoSolidaridad' },style:(_vm.estiloSize),attrs:{\"id\":\"bloque\"}},[_c('div',{attrs:{\"id\":\"zonaNombre\"}},[_c('div',{class:{\n          administrador: _vm.administrador,\n        },attrs:{\"id\":\"elNombre\"}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.nombre)+\" \")])]),_c('div',{class:{ seleccionado: _vm.seleccionado },attrs:{\"id\":\"contenedorControlesEvento\"}},[(_vm.administrador || _vm.usuarioSuperadministrador || _vm.usuarioProfe)?_c('div',{staticClass:\"boton botonControlEvento\",attrs:{\"title\":\"Eliminar este evento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarse($event)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Eliminar\"}})]):_vm._e(),_c('div',{staticClass:\"boton botonControlEvento\",attrs:{\"title\":\"Expandir este evento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$router.push(\n            _vm.$route.path + '/ventanaEventoPersonal/' + _vm.esteEvento.id\n          )}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/expand.svg\"),\"alt\":\"Expandir\"}})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"eventoPersonalCalendario\"\r\n    :style=\"[estiloPos, estiloZ]\"\r\n    :class=\"{\r\n      deshabilitado: eliminandose,\r\n      seleccionado,\r\n      bloque: claseOffset === 'bloque' || seleccionado,\r\n      barra: claseOffset === 'barra' && !seleccionado,\r\n    }\"\r\n  >\r\n    <div\r\n      id=\"barra\"\r\n      :style=\"estiloSize\"\r\n      :class=\"{ seleccionado, extranjero }\"\r\n    ></div>\r\n    <div\r\n      id=\"bloque\"\r\n      :style=\"estiloSize\"\r\n      :class=\"{ extranjero, seleccionado, deNodoSolidaridad:esteEvento.tipoParent==='nodoSolidaridad' }\"\r\n    >\r\n      <div id=\"zonaNombre\">\r\n        <div\r\n          id=\"elNombre\"\r\n          :class=\"{\r\n            administrador,\r\n          }\"\r\n        >\r\n          {{ esteEvento.nombre }}\r\n        </div>\r\n      </div>\r\n      <div id=\"contenedorControlesEvento\" :class=\"{ seleccionado }\">\r\n        <div\r\n          class=\"boton botonControlEvento\"\r\n          title=\"Eliminar este evento\"\r\n          v-if=\"administrador || usuarioSuperadministrador || usuarioProfe\"\r\n          @click.stop=\"eliminarse\"\r\n        >\r\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Eliminar\" />\r\n        </div>\r\n        <div\r\n          class=\"boton botonControlEvento\"\r\n          title=\"Expandir este evento\"\r\n          @click.stop=\"\r\n            $router.push(\r\n              $route.path + '/ventanaEventoPersonal/' + esteEvento.id\r\n            )\r\n          \"\r\n        >\r\n          <img src=\"@/assets/iconos/expand.svg\" alt=\"Expandir\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MixinBasicoEventos, MixinEdicionEventos, MixinEventoCalendario } from \"../MixinsEventos\";\r\n\r\nexport default {\r\n  name: \"eventoPersonalCalendario\",\r\n  components: {},\r\n  props: {\r\n    esteEvento: Object,\r\n    horaPx: Number,\r\n    seleccionado: Boolean,\r\n    infoOffset: Object,\r\n    extranjero: Boolean,\r\n    diaCalendarioOver: Object,\r\n  },\r\n  mixins: [MixinBasicoEventos, MixinEventoCalendario, MixinEdicionEventos],\r\n  data() {\r\n    return {\r\n      mostrando: null,\r\n    };\r\n  },\r\n  methods: {},\r\n  computed: {\r\n    administrador() {\r\n      if (!this.usuarioLogeado) return false;\r\n\r\n      return this.usuario.id === this.esteEvento.idPersona;\r\n    },\r\n    modo() {\r\n      return \"bloque\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.eventoPersonalCalendario {\r\n  position: absolute;\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  box-sizing: border-box;\r\n  border-width: 2px;\r\n  border-style: solid;\r\n  border-color: white;\r\n  color: rgb(27, 27, 27);\r\n}\r\n.eventoPersonalCalendario.seleccionado {\r\n  border-color: var(--calendarioSelect);\r\n  \r\n}\r\n.eventoPersonalCalendario.barra #bloque {\r\n  display: none;\r\n}\r\n#barra {\r\n  height: 15px;\r\n  background-color: var(--calendarioUsuarioStrong);\r\n  opacity: 1;\r\n}\r\n#barra.extranjero{\r\n  background-color: rgb(65, 65, 65);\r\n\r\n}\r\n#bloque {\r\n  height: 100px;  \r\n  background-color: var(--calendarioUsuario);\r\n}\r\n\r\n#bloque.deNodoSolidaridad{\r\n  background-color: var(--calendarioNodoSolidaridad);\r\n}\r\n#bloque.extranjero {\r\n  background-color: gray;\r\n}\r\n#bloque.seleccionado {\r\n  height: 100px;\r\n}\r\n#contenedorControlesEvento {\r\n  display: flex;\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 50%;\r\n  align-items: center;\r\n  flex-direction: row-reverse;\r\n  transform: translateX(-50%);\r\n  box-sizing: border-box;\r\n  padding: 0px 5%;\r\n}\r\n#contenedorControlesEvento:not(.seleccionado) {\r\n  display: none;\r\n}\r\n#contenedorControlesEvento.seleccionado {\r\n  display: flex;\r\n}\r\n\r\n#contenedorControlesEvento .boton {\r\n  height: 15px;\r\n  margin: 0px 5%;\r\n}\r\n#elNombre {\r\n  text-align: center;\r\n  font-size: 10px;\r\n  padding: 5px 3px;\r\n}\r\n.inputNuevoNombre {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  font-size: 11px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoPersonalCalendario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoPersonalCalendario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventoPersonalCalendario.vue?vue&type=template&id=0470dbda&scoped=true&\"\nimport script from \"./EventoPersonalCalendario.vue?vue&type=script&lang=js&\"\nexport * from \"./EventoPersonalCalendario.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventoPersonalCalendario.vue?vue&type=style&index=0&id=0470dbda&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0470dbda\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"diaCalendario\" :class=\"{ abierto }\">\r\n    <div id=\"barraSuperior\">\r\n      <div id=\"bloqueTituloDia\" @click=\"$emit('regresar')\">\r\n        <div id=\"nombreDia\" :class=\"{ hoy }\">\r\n          {{ diaSemana }}\r\n        </div>\r\n        <div id=\"fechaDia\">\r\n          {{ diaYMes }}\r\n        </div>\r\n        <div id=\"cantidadesEventos\">\r\n          {{\r\n            cantidadEventosRelevantes\r\n              ? \"(\" + cantidadEventosRelevantes + \")\"\r\n              : \"\"\r\n          }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <loading texto=\"\" v-show=\"downloadingData\" />\r\n    <div id=\"contenedorContenido\">\r\n      <div id=\"barraHoras\">\r\n        <div\r\n          ref=\"labelsHoras\"\r\n          class=\"hora\"\r\n          :style=\"[estiloSizeHora]\"\r\n          v-for=\"hora of 24\"\r\n          :key=\"'hora' + (hora - 1)\"\r\n        >\r\n          {{ hora - 1 }}:00\r\n        </div>\r\n      </div>\r\n      <div\r\n        id=\"contenedorEventos\"\r\n        ref=\"contenedorEventos\"\r\n        v-show=\"!downloadingData\"\r\n        :style=\"[estiloSizeContenedorEventos]\"\r\n        @click.self=\"clickContenedorEventos\"\r\n      >\r\n        <evento-publico-calendario\r\n          :horaPx=\"horaPx\"\r\n          v-for=\"eventoPublico of eventosPublicosVisibles\"\r\n          :key=\"eventoPublico.id\"\r\n          :esteEvento=\"eventoPublico\"\r\n          :extranjero=\"(!idParent || idParent != eventoPublico.idParent)\"\r\n          :idUsuarioTarget=\"idUsuarioTarget\"\r\n          :seleccionado=\"idEventoSeleccionado === eventoPublico.id\"\r\n          :infoOffset=\"indiceOffset[eventoPublico.id]\"\r\n          :diaCalendarioOver=\"esteDia\"\r\n          :enfasis=\"enfasis\"\r\n          :idParent=\"idParent\"\r\n          :tipoParent=\"tipoParent\"\r\n          @meElimine=\"deleteEventoCache(eventoPublico); $emit('cambioEventos')\"\r\n          @click.native=\"$emit('clickEnEvento', eventoPublico)\"\r\n          @meCambiaronDia=\"deleteEventoCache(eventoPublico);$emit('cambioEventos')\"\r\n          @creadoEventoPersonal=\"addEventoCache($event);$emit('cambioEventos');\"\r\n        />\r\n        <evento-personal-calendario\r\n          :horaPx=\"horaPx\"\r\n          v-for=\"eventoPersonal of todosEventosPersonalesDia || []\"\r\n          :key=\"eventoPersonal.id\"\r\n          :esteEvento=\"eventoPersonal\"\r\n          :seleccionado=\"idEventoSeleccionado === eventoPersonal.id\"\r\n          :infoOffset=\"indiceOffset[eventoPersonal.id]\"\r\n          :diaCalendarioOver=\"esteDia\"\r\n          :enfasis=\"enfasis\"\r\n          :extranjero=\"\r\n            idUsuarioTarget != eventoPersonal.idPersona &&\r\n            !eventoPersonal.idsParticipantes.includes(idUsuarioTarget)\r\n          \"          \r\n          @meElimine=\"deleteEventoCache(eventoPersonal);$emit('cambioEventos')\"\r\n          @click.native=\"$emit('clickEnEvento', eventoPersonal)\"\r\n          @meCambiaronDia=\"\r\n            deleteEventoCache(eventoPersonal);$emit('cambioEventos');            \r\n          \"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport {\r\n  fragmentoEventoPersonal,\r\n  fragmentoEventoPublico,\r\n} from \"./fragsCalendario.js\";\r\nimport EventoPublicoCalendario from \"./EventoPublicoCalendario.vue\";\r\nimport EventoPersonalCalendario from \"./EventoPersonalCalendario.vue\";\r\nimport Loading from \"./Loading.vue\";\r\n\r\nconst QUERY_EVENTOS_PUBLICOS_DIA = gql`\r\n  query ($dateInicioDia: Date!) {\r\n    eventosPublicosDia(dateInicioDia: $dateInicioDia) {\r\n      ...fragEventoPublico\r\n    }\r\n  }\r\n  ${fragmentoEventoPublico}\r\n`;\r\n\r\nconst QUERY_EVENTOS_PERSONALES_DIA = gql`\r\n  query ($dateInicioDia: Date!, $idUsuario: ID!) {\r\n    eventosPersonalesDia(dateInicioDia: $dateInicioDia, idUsuario: $idUsuario) {\r\n      ...fragEventoPersonal\r\n    }\r\n  }\r\n  ${fragmentoEventoPersonal}\r\n`;\r\n\r\nconst QUERY_EVENTOS_COLISIONANTES_DIA = gql`\r\n  query ($dateInicioDia: Date!, $idParent: ID!, $tipoParent: String!) {\r\n    eventosPersonalesDeParentDia(\r\n      dateInicioDia: $dateInicioDia\r\n      idParent: $idParent\r\n      tipoParent: $tipoParent\r\n    ) {\r\n      ...fragEventoPersonal\r\n    }\r\n  }\r\n  ${fragmentoEventoPersonal}\r\n`;\r\n\r\nexport default {\r\n  components: { EventoPublicoCalendario, EventoPersonalCalendario, Loading },\r\n  name: \"DiaCalendario\",\r\n  apollo: {\r\n    eventosPublicosDia: {\r\n      query: QUERY_EVENTOS_PUBLICOS_DIA,\r\n      variables() {\r\n        return {\r\n          dateInicioDia: this.esteDia.date,\r\n        };\r\n      },\r\n      fetchPolicy: \"cache-and-network\",\r\n    },\r\n    eventosPersonalesDia: {\r\n      query: QUERY_EVENTOS_PERSONALES_DIA,\r\n      variables() {\r\n        return {\r\n          dateInicioDia: this.esteDia.date,\r\n          idUsuario: this.idUsuarioTarget,\r\n        };\r\n      },\r\n      skip() {\r\n        return !this.usuarioLogeado;\r\n      },\r\n      fetchPolicy: \"cache-and-network\",\r\n    },\r\n    eventosPersonalesDeParentDia: {\r\n      query: QUERY_EVENTOS_COLISIONANTES_DIA,\r\n      variables() {\r\n        return {\r\n          dateInicioDia: this.esteDia.date,\r\n          idParent: this.idParent,\r\n          tipoParent: this.tipoParent,\r\n        };\r\n      },\r\n      skip() {\r\n        return (\r\n          this.tipoParent != \"nodoSolidaridad\" ||\r\n          !this.usuarioLogeado ||\r\n          !this.idParent\r\n        );\r\n      },\r\n      fetchPolicy: \"cache-and-network\",\r\n    },\r\n  },\r\n  props: {\r\n    hoy: Boolean,\r\n    esteDia: Object,\r\n    eventoSiendoCreado: Object,\r\n    horaPx: Number,\r\n    scrollXCalendario: Number,\r\n    idParent: String,\r\n    idEventoSeleccionado: String,\r\n    idUsuarioTarget: String,\r\n    tipoParent: String,\r\n    enfasis: String,\r\n    modoEventosPublicosExtranjeros: String,\r\n    usuarioVeEventosPublicos: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      eventosPublicosDia: [],\r\n      eventosPersonalesDia: [],\r\n      eventosPersonalesDeParentDia: [],\r\n\r\n      abierto: false,\r\n\r\n      creandoEvento: false,\r\n    };\r\n  },\r\n  methods: {\r\n    clickContenedorEventos(e) {\r\n      console.log(`Click en el contenedor de eventos`);\r\n      if (this.eventoSiendoCreado) {\r\n        const margen = 60 * 60000; //60 minutos\r\n        var infoNuevoEvento = JSON.parse(\r\n          JSON.stringify(this.eventoSiendoCreado)\r\n        );\r\n        this.$emit(\"iniciaCreacionEvento\");\r\n        const posContenedorEventos =\r\n          this.$refs.contenedorEventos.getBoundingClientRect();\r\n        const posX = e.pageX - posContenedorEventos.left;\r\n\r\n        const timeClicked = posX / this.horaPx;\r\n        var minutosClicked = Math.round(\r\n          (timeClicked - Math.floor(timeClicked)) * 60\r\n        );\r\n        minutosClicked = Math.floor(minutosClicked / 15) * 15; ///Set en múltiplos de 15\r\n\r\n        const timeClickedFormatted = {\r\n          horas: Math.floor(timeClicked),\r\n          minutos: minutosClicked,\r\n        };\r\n        const dateClicked =\r\n          this.esteDia.date.getTime() +\r\n          timeClickedFormatted.horas * 60 * 60000 +\r\n          timeClickedFormatted.minutos * 60000;\r\n        console.log(\r\n          `En ${posX} -> ${timeClickedFormatted.horas}: ${timeClickedFormatted.minutos}`\r\n        );\r\n\r\n        console.log(\r\n          `Date centralh: ${\r\n            this.esteDia.date.getTime() +\r\n            timeClickedFormatted.horas +\r\n            timeClickedFormatted.minutos * 60000\r\n          }`\r\n        );\r\n\r\n        var dateInicio = dateClicked;\r\n        var dateFinal = dateClicked + margen;\r\n\r\n        console.log(\r\n          `Quedará entre: ${new Date(dateInicio)} y ${new Date(dateFinal)}`\r\n        );\r\n\r\n        infoNuevoEvento.horarioInicio = new Date(dateInicio);\r\n        infoNuevoEvento.horarioFinal = new Date(dateFinal);\r\n        if (infoNuevoEvento.tipoEvento === \"eventoPublico\") {\r\n          delete infoNuevoEvento.tipoEvento;\r\n          this.crearEventoPublico(infoNuevoEvento);\r\n        } else if (infoNuevoEvento.tipoEvento === \"eventoPersonal\") {\r\n          delete infoNuevoEvento.tipoEvento;\r\n          this.crearEventoPersonal(infoNuevoEvento);\r\n        } else {\r\n          console.log(`Tipo ${infoNuevoEvento.tipoEvento} no reconocido`);\r\n        }\r\n      } else if (this.idEventoSeleccionado) {\r\n        this.$emit(\"desSeleccionDeEvento\");\r\n      }\r\n    },\r\n    addEventoCache(evento) {\r\n      const millisInicioEvento = new Date(evento.horarioInicio).getTime();\r\n      const millisInicioDia = this.esteDia.date.getTime();\r\n      const millisFinalDia = this.esteDia.date.getTime() + 86400000;\r\n\r\n      if (\r\n        millisInicioEvento < millisInicioDia ||\r\n        millisInicioEvento > millisFinalDia\r\n      ) {\r\n        return;\r\n      }\r\n      const tipoEvento =\r\n        evento.__typename.charAt(0).toLowerCase() + evento.__typename.slice(1);\r\n      var infoQuery = null;\r\n      if (tipoEvento === \"eventoPublico\") {\r\n        infoQuery = {\r\n          query: QUERY_EVENTOS_PUBLICOS_DIA,\r\n          variables: {\r\n            dateInicioDia: this.esteDia.date,\r\n          },\r\n        };\r\n      } else if (tipoEvento === \"eventoPersonal\") {\r\n        infoQuery = {\r\n          query: QUERY_EVENTOS_PERSONALES_DIA,\r\n          variables: {\r\n            dateInicioDia: this.esteDia.date,\r\n            idUsuario: this.idUsuarioTarget,\r\n          },\r\n        };\r\n      } else {\r\n        console.log(`Tipo evento ${tipoEvento} no reconocido`);\r\n        return;\r\n      }\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        ...infoQuery,\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var listaEventosCache = null;\r\n      if (tipoEvento === \"eventoPublico\") {\r\n        listaEventosCache = nuevoCache.eventosPublicosDia;\r\n      } else if (tipoEvento === \"eventoPersonal\") {\r\n        listaEventosCache = nuevoCache.eventosPersonalesDia;\r\n      }\r\n      const indexE = listaEventosCache.findIndex((e) => e.id === evento.id);\r\n      if (indexE === -1) {\r\n        listaEventosCache.push(evento);\r\n\r\n        store.writeQuery({\r\n          ...infoQuery,\r\n          data: nuevoCache,\r\n        });\r\n      }\r\n    },\r\n    crearEventoPublico(infoNuevoEvento) {\r\n      console.log(\r\n        `Creando un evento publico con info ${JSON.stringify(infoNuevoEvento)}`\r\n      );\r\n\r\n      this.creandoEvento = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($infoNuevoEvento: InputCrearEventoPublico) {\r\n              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {\r\n                ...fragEventoPublico\r\n              }\r\n            }\r\n            ${fragmentoEventoPublico}\r\n          `,\r\n          variables: {\r\n            infoNuevoEvento,\r\n          },\r\n        })\r\n        .then(({ data: { crearEventoPublico } }) => {\r\n          this.creandoEvento = false;\r\n\r\n          this.addEventoCache(crearEventoPublico);\r\n           this.$emit(\"cambioEventos\");\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.creandoEvento = false;\r\n        });\r\n    },\r\n    crearEventoPersonal(infoNuevoEvento) {\r\n      console.log(\r\n        `Creando un evento personal con info ${JSON.stringify(infoNuevoEvento)}`\r\n      );\r\n      this.creandoEvento = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($infoEventoPersonal: InputCrearEventoPersonal) {\r\n              crearEventoPersonal(infoEventoPersonal: $infoEventoPersonal) {\r\n                ...fragEventoPersonal\r\n              }\r\n            }\r\n            ${fragmentoEventoPersonal}\r\n          `,\r\n          variables: {\r\n            infoEventoPersonal: {\r\n              ...infoNuevoEvento,\r\n              idPersona: this.idUsuarioTarget,\r\n            },\r\n          },\r\n        })\r\n        .then(({ data: { crearEventoPersonal } }) => {\r\n          this.creandoEvento = false;\r\n          this.addEventoCache(crearEventoPersonal);\r\n           this.$emit(\"cambioEventos\");\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.creandoEvento = false;\r\n        });\r\n    },\r\n    deleteEventoCache(evento) {\r\n      const tipoEvento =\r\n        evento.__typename.charAt(0).toLowerCase() + evento.__typename.slice(1);\r\n\r\n      console.log(`Deleting ${tipoEvento} ${evento.nombre} from cache`);\r\n\r\n      var infoQuery = null;\r\n      if (tipoEvento === \"eventoPublico\") {\r\n        infoQuery = {\r\n          query: QUERY_EVENTOS_PUBLICOS_DIA,\r\n          variables: {\r\n            dateInicioDia: this.esteDia.date,\r\n          },\r\n        };\r\n      } else if (tipoEvento === \"eventoPersonal\") {\r\n        infoQuery = {\r\n          query: QUERY_EVENTOS_PERSONALES_DIA,\r\n          variables: {\r\n            dateInicioDia: this.esteDia.date,\r\n            idUsuario: this.idUsuarioTarget,\r\n          },\r\n        };\r\n      } else {\r\n        console.log(`Tipo evento ${tipoEvento} no reconocido`);\r\n        return;\r\n      }\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        ...infoQuery,\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var listaEventosCache = null;\r\n      if (tipoEvento === \"eventoPublico\") {\r\n        listaEventosCache = nuevoCache.eventosPublicosDia;\r\n      } else if (tipoEvento === \"eventoPersonal\") {\r\n        listaEventosCache = nuevoCache.eventosPersonalesDia;\r\n      }\r\n      const indexE = listaEventosCache.findIndex((e) => e.id === evento.id);\r\n      if (indexE > -1) {\r\n        listaEventosCache.splice(indexE, 1);\r\n        store.writeQuery({\r\n          ...infoQuery,\r\n          data: nuevoCache,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    diaSemana() {\r\n      const nombres = [\r\n        \"Domingo\",\r\n        \"Lunes\",\r\n        \"Martes\",\r\n        \"Miércoles\",\r\n        \"Jueves\",\r\n        \"Viernes\",\r\n        \"Sábado\",\r\n        \"Domingo\",\r\n      ];\r\n      return nombres[this.esteDia.date.getDay()];\r\n    },\r\n    diaYMes() {\r\n      const meses = [\r\n        \"Enero\",\r\n        \"Febrero\",\r\n        \"Marzo\",\r\n        \"Abril\",\r\n        \"Mayo\",\r\n        \"Junio\",\r\n        \"Julio\",\r\n        \"Agosto\",\r\n        \"Septiembre\",\r\n        \"Octubre\",\r\n        \"Noviembre\",\r\n        \"Diciembre\",\r\n      ];\r\n\r\n      return (\r\n        this.esteDia.date.getDate() +\r\n        \" de \" +\r\n        meses[this.esteDia.date.getMonth()]\r\n      );\r\n    },\r\n    eventosPublicosVisibles() {\r\n      if (this.enfasis === \"eventosPublicos\") {\r\n        if (this.modoEventosPublicosExtranjeros === \"invisibles\") {\r\n          return this.eventosPublicosDia.filter(\r\n            (e) =>\r\n              e.idParent === this.idParent ||\r\n              e.idAdministrador === this.idUsuarioTarget\r\n          );\r\n        } else {\r\n          return this.eventosPublicosDia;\r\n        }\r\n      } else if (this.enfasis === \"eventosPersonales\") {\r\n        if (this.usuarioVeEventosPublicos) {\r\n          return this.eventosPublicosDia;\r\n        } else {\r\n          // return this.eventosPublicosDia.filter((ev) =>\r\n          //   this.eventosPersonalesDia.some((ep) => ep.idEventoMarco === ev.id)\r\n          // );\r\n          return this.eventosPublicosDia.filter(\r\n            (ep) => ep.idAdministrador === this.idUsuarioTarget\r\n          );\r\n        }\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n    eventosPublicosUsuarioTarget() {\r\n      return this.eventosPublicosDia.filter(\r\n        (ev) => ev.idAdministrador === this.idUsuarioTarget\r\n      );\r\n    },\r\n    estiloSizeContenedorEventos() {\r\n      const alturaEventos = Object.values(this.indiceOffset).reduce(\r\n        (acc, a) => (a.top + a.height > acc ? a.top + a.height : acc),\r\n        0\r\n      );\r\n\r\n      return {\r\n        width: this.horaPx * 24 + \"px\",\r\n        height: alturaEventos + 45 + \"px\",\r\n      };\r\n    },\r\n    cantidadEventosPublicos() {\r\n      return this.eventosPublicosDia.length;\r\n    },\r\n    cantidadEventosRelevantes() {\r\n      if (this.enfasis === \"eventosPublicos\") {\r\n        if (!this.idParent) {\r\n          return this.cantidadEventosPublicos;\r\n        } else {\r\n          return this.eventosPublicosDia.filter(\r\n            (p) => p.idParent === this.idParent\r\n          ).length;\r\n        }\r\n      } else if (this.enfasis === \"eventosPersonales\") {\r\n        if (this.idParent) {\r\n          return this.eventosPersonalesDia.filter(\r\n            (ev) => ev.idParent === this.idParent\r\n          ).length;\r\n        }\r\n        return (\r\n          this.eventosPersonalesDia.length +\r\n          this.eventosPublicosUsuarioTarget.length\r\n        );\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n    indiceOffset() {\r\n      const sizeBarra = 15;\r\n      const sizeBloque = 100;\r\n      const marginRows = 5;\r\n      const lineaEventosPublicosAsistidos = 30;\r\n      // console.log(\r\n      //   `%c Iniciando calculo de indice de offset`,\r\n      //   \"background: #222; color: #bada55\"\r\n      // );\r\n      var indice = {};\r\n\r\n      if (!this.usuarioLogeado) {\r\n        console.log(`Cancelando índice offset`);\r\n        return null;\r\n      }\r\n\r\n      this.todosEventosPersonalesDia.forEach((ev) => {\r\n        let heightEvento = sizeBloque;\r\n        let claseEvento = \"bloque\";\r\n        let top = marginRows;\r\n\r\n        if (this.enfasis === \"eventosPersonales\") {\r\n          if (this.idParent) {\r\n            if (ev.idParent != this.idParent) {\r\n              heightEvento = sizeBarra;\r\n              claseEvento = \"barra\";\r\n            }\r\n          }\r\n        } else {\r\n          heightEvento = sizeBarra;\r\n          claseEvento = \"barra\";\r\n        }\r\n\r\n        indice[ev.id] = {\r\n          evento: ev,\r\n          top,\r\n          height: heightEvento,\r\n          bordeBot: top + heightEvento,\r\n          clase: claseEvento,\r\n        };\r\n      });\r\n\r\n      var listaEventosPublicos = JSON.parse(\r\n        JSON.stringify(this.eventosPublicosVisibles)\r\n      );\r\n      listaEventosPublicos.sort((a, b) => {\r\n        var res = 0;\r\n        if (a.idAdministrador === this.idUsuarioTarget) {\r\n          res++;\r\n        } else if (\r\n          this.eventosPersonalesDia.some((e) => e.idEventoMarco === a.id)\r\n        ) {\r\n          res++;\r\n        }\r\n        if (b.idAdministrador === this.idUsuarioTarget) {\r\n          res--;\r\n        } else if (\r\n          this.eventosPersonalesDia.some((e) => e.idEventoMarco === b.id)\r\n        ) {\r\n          res--;\r\n        }\r\n        return -res;\r\n      });\r\n      // console.log(\r\n      //   `Eventos sorted: ${listaEventosPublicos.map((e) => e.nombre)}`\r\n      // );\r\n\r\n      listaEventosPublicos.forEach((ev) => {\r\n        // console.log(`Iterando en ${ev.nombre}`);\r\n        let eventoAsisteUsuarioTarget = this.eventosPersonalesDia.some(\r\n          (ep) => ep.idEventoMarco === ev.id\r\n        );\r\n        let heightEvento = sizeBloque;\r\n        let claseEvento = \"bloque\";\r\n        if (\r\n          this.enfasis === \"eventosPublicos\" &&\r\n          ev.idParent != this.idParent &&\r\n          this.modoEventosPublicosExtranjeros != \"full\"\r\n        ) {\r\n          heightEvento = sizeBarra;\r\n          claseEvento = \"barra\";\r\n        }\r\n        // console.log(\r\n        //   `cantidad de entries en el indice ${\r\n        //     Object.entries(indice).map((e) => e[1]).length\r\n        //   }`\r\n        // );\r\n\r\n        let top = 0;\r\n        if (this.enfasis === \"eventosPersonales\" && eventoAsisteUsuarioTarget) {\r\n          top = lineaEventosPublicosAsistidos;\r\n        } else {\r\n          let eventosColision = Object.entries(indice)\r\n            .map((e) => e[1])\r\n            .filter((t) => {\r\n              // console.log(`Comparando con ${t.evento.nombre}`);\r\n              const inicioDentro =\r\n                t.evento.horarioInicio > ev.horarioInicio &&\r\n                t.evento.horarioInicio < ev.horarioFinal;\r\n              const finalDentro =\r\n                t.evento.horarioFinal > ev.horarioInicio &&\r\n                t.evento.horarioFinal < ev.horarioFinal;\r\n\r\n              const sobrepone =\r\n                t.evento.horarioInicio <= ev.horarioInicio &&\r\n                t.evento.horarioFinal >= ev.horarioFinal;\r\n\r\n              // console.log(`Inicio dentro: ${inicioDentro}`);\r\n              // console.log(`Final dentro: ${finalDentro}`);\r\n\r\n              const colision = inicioDentro || finalDentro || sobrepone;\r\n              // if (colision) {\r\n              //   console.log(`colision`);\r\n              // }\r\n              return colision;\r\n            });\r\n\r\n          // console.log(`${eventosColision.length} eventos en colisión`);\r\n\r\n          let bordeBotColision = eventosColision.reduce(\r\n            (acc, e) => (e.bordeBot > acc ? e.bordeBot : acc),\r\n            0\r\n          );\r\n\r\n          top = bordeBotColision + marginRows;\r\n        }\r\n\r\n        // console.log(`Queda en ${top} + ${heightEvento}`);\r\n        indice[ev.id] = {\r\n          evento: ev,\r\n          top: top,\r\n          height: heightEvento,\r\n          bordeBot: top + heightEvento + sizeBarra,\r\n          clase: claseEvento,\r\n        };\r\n      });\r\n      return indice;\r\n    },\r\n    todosEventosPersonalesDia() {\r\n      return this.eventosPersonalesDia.concat(\r\n        this.eventosPersonalesDeParentDia.filter(\r\n          (epp) =>\r\n            !this.eventosPersonalesDia.map((ep) => ep.id).includes(epp.id)\r\n        )\r\n      );\r\n    },\r\n    estiloSizeHora() {\r\n      return {\r\n        width: this.horaPx + \"px\",\r\n      };\r\n    },\r\n    downloadingData() {\r\n      return (\r\n        (this.$apollo.queries.eventosPersonalesDeParentDia &&\r\n          this.$apollo.queries.eventosPersonalesDeParentDia.loading) ||\r\n        (this.$apollo.queries.eventosPublicosDia &&\r\n          this.$apollo.queries.eventosPublicosDia.loading) ||\r\n        (this.$apollo.queries.eventosPersonalesDia &&\r\n          this.$apollo.queries.eventosPersonalesDia.loading)\r\n      );\r\n    },\r\n  },\r\n  watch: {},\r\n  mounted() {\r\n    const horaActual = new Date().getHours();\r\n    console.log(`Scrolling into ${horaActual}`);\r\n    this.$nextTick(() => {\r\n      this.$refs.labelsHoras[8].scrollIntoView({\r\n        block: \"nearest\",\r\n        inline: \"start\",\r\n      });\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#contenedorEventos {\r\n  min-height: 100px;\r\n  background-color: var(--grisHover);\r\n  padding: 20px 0px;\r\n  position: relative;\r\n}\r\n#barraSuperior {\r\n  display: flex;\r\n  font-family: Salsa, cursive;\r\n  align-items: center;\r\n  height: 25px;\r\n}\r\n#contenedorContenido {\r\n  width: 100%;\r\n  overflow: scroll;\r\n  height: 80vh;\r\n}\r\n#barraHoras {\r\n  display: flex;\r\n  overflow: visible;\r\n  padding: 14px 0px;\r\n}\r\n#barraHoras .hora {\r\n  font-size: 10px;\r\n  opacity: 0.4;\r\n  position: relative;\r\n  overflow: visible;\r\n  flex-shrink: 0;\r\n}\r\n#bloqueTituloDia {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 1vw;\r\n}\r\n#nombreDia {\r\n  margin-right: 2vw;\r\n  font-size: 10px;\r\n}\r\n#nombreDia.hoy {\r\n  color: red;\r\n}\r\n#fechaDia {\r\n  font-size: 10px;\r\n  opacity: 0.5;\r\n}\r\n#cantidadesEventos {\r\n  margin-left: 10px;\r\n  font-size: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiaCalendario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiaCalendario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiaCalendario.vue?vue&type=template&id=5d15a120&scoped=true&\"\nimport script from \"./DiaCalendario.vue?vue&type=script&lang=js&\"\nexport * from \"./DiaCalendario.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DiaCalendario.vue?vue&type=style&index=0&id=5d15a120&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d15a120\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"calendario\" :class=\"{ eventoSiendoCreado }\">\r\n    <div id=\"contenedorControlesCalendario\" class=\"contenedorControles\">\r\n      <div\r\n        class=\"boton\"\r\n        v-show=\"enfasis === 'eventosPublicos'\"\r\n        v-if=\"\r\n          usuarioLogeado &&\r\n          usuario.permisos &&\r\n          usuario.permisos.includes('maestraVida-profesor')\r\n        \"\r\n        @click=\"\r\n          modoEventosPublicosExtranjeros === 'invisibles'\r\n            ? (modoEventosPublicosExtranjeros = 'full')\r\n            : modoEventosPublicosExtranjeros === 'full'\r\n            ? (modoEventosPublicosExtranjeros = 'barra')\r\n            : (modoEventosPublicosExtranjeros = 'invisibles')\r\n        \"\r\n        :style=\"{\r\n          opacity:\r\n            modoEventosPublicosExtranjeros === 'invisibles'\r\n              ? 0.4\r\n              : modoEventosPublicosExtranjeros === 'full'\r\n              ? 1\r\n              : 0.7,\r\n        }\"\r\n        :title=\"\r\n          modoEventosPublicosExtranjeros === 'invisibles'\r\n            ? 'Mostrar todos los eventos públicos'\r\n            : modoEventosPublicosExtranjeros === 'full'\r\n            ? 'Minimizar otros eventos públicos'\r\n            : 'Ocultar otros eventos públicos'\r\n        \"\r\n      >\r\n        <img src=\"@/assets/iconos/calendarPublic.svg\" alt=\"Evento publico\" />\r\n      </div>\r\n\r\n      <div\r\n        class=\"boton\"\r\n        v-if=\"enfasis === 'eventosPersonales'\"\r\n        @click=\"usuarioVeEventosPublicos = !usuarioVeEventosPublicos\"\r\n        :title=\"\r\n          usuarioVeEventosPublicos\r\n            ? 'Ocultar eventos públicos'\r\n            : 'Mostrar eventos públicos'\r\n        \"\r\n        :style=\"[{ opacity: usuarioVeEventosPublicos ? 1 : 0.5 }]\"\r\n      >\r\n        <img src=\"@/assets/iconos/calendarPublic.svg\" alt=\"Evento publico\" />\r\n      </div>\r\n\r\n      <div\r\n        class=\"boton\"\r\n        v-show=\"(usuario && usuario.id===idUsuarioTarget) || usuarioSuperadministrador || usuarioProfe\"\r\n        :title=\"\r\n          tomandoAccion === 'semana'\r\n            ? 'Cancelar'\r\n            : tomandoAccion === 'dia'\r\n            ? 'Editar semanas'\r\n            : 'Editar días'\r\n        \"\r\n        @click=\"\r\n          tomandoAccion =\r\n            tomandoAccion === 'semana'\r\n              ? null\r\n              : tomandoAccion === 'dia'\r\n              ? 'semana'\r\n              : 'semana'\r\n        \"\r\n        :style=\"[{ opacity: tomandoAccion ? 1 : 0.5 }]\"\r\n      >\r\n        <img src=\"@/assets/iconos/thList.svg\" alt=\"Lista\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"bloqueSelect\" v-show=\"!diaSeleccionado\">\r\n      <div id=\"barraFecha\">\r\n        <div id=\"bloqueMes\">\r\n          <div\r\n            id=\"nombreMes\"\r\n            v-show=\"!seleccionandoMes\"\r\n            @click=\"iniciarSeleccionandoMes\"\r\n          >\r\n            {{ nombreMesSeleccionado }}\r\n          </div>\r\n          <select\r\n            ref=\"selectMes\"\r\n            id=\"selectMes\"\r\n            v-model=\"numeroMesSeleccionado\"\r\n            v-show=\"seleccionandoMes\"\r\n          >\r\n            <option\r\n              :value=\"index\"\r\n              v-for=\"(mes, index) of nombresMeses\"\r\n              :key=\"'selector' + mes\"\r\n            >\r\n              {{ mes }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <loading texto=\"\" v-show=\"$apollo.queries.cantidadEventosRelevantesMes.loading\" />\r\n\r\n        <div id=\"bloqueYear\" style=\"margin-left: auto\">\r\n          <div id=\"nombreYear\">\r\n            {{ yearSeleccionado }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"barraDiasSemana\">\r\n        <div class=\"diaSemana\" v-for=\"dia of 7\" :key=\"'diaSemana' + dia\">\r\n          {{ nombresDiasSemana[dia - 1].charAt(0) }}\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"contenedorMesh\">\r\n        <div id=\"margenInicio\" :style=\"[estiloMargenInicio]\"></div>\r\n        <div\r\n          class=\"selectorDia\"\r\n          v-for=\"dia of lengthMonthSeleccionado\"\r\n          :key=\"'selectorDia' + dia\"\r\n          :class=\"{\r\n            hoy:\r\n              dateHoy.getFullYear() === yearSeleccionado &&\r\n              dateHoy.getMonth() === parseInt(numeroMesSeleccionado) &&\r\n              dateHoy.getDate() === dia,\r\n          }\"\r\n          @click=\"numeroDiaSeleccionado = dia\"\r\n        >\r\n          <div class=\"numeroDia\" >{{ dia }}{{dateHoy.getFullYear() === yearSeleccionado &&\r\n              dateHoy.getMonth() === parseInt(numeroMesSeleccionado) &&\r\n              dateHoy.getDate() === dia?' Hoy':''}}</div>\r\n          <div\r\n            class=\"bolitaCantidadEventosRelevantes\"\r\n            v-if=\"cantidadEventosRelevantesMes.some((info) => info.dia === dia)\"\r\n            :style=\"[{opacity: tomandoAccion==='dia'?0.4:1}]\"\r\n          >\r\n            <div class=\"laCantidad\">\r\n              {{\r\n                cantidadEventosRelevantesMes.find((info) => info.dia === dia)\r\n                  .cantidadEventos\r\n              }}\r\n            </div>\r\n          </div>\r\n          <div id=\"contenedorBotonesDia\" v-show=\"tomandoAccion === 'dia'\">\r\n            <div class=\"boton\" title=\"Repetir los eventos de este día\">\r\n              <img src=\"@/assets/iconos/relojArena.svg\" alt=\"Reloj\" />\r\n            </div>\r\n            <div class=\"boton\" title=\"Eliminar todos los eventos de este día\">\r\n              <img src=\"@/assets/iconos/broom.svg\" alt=\"Limpiar\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div id=\"representacionSemanas\" v-show=\"tomandoAccion === 'semana'\">\r\n          <div\r\n            class=\"semana\"\r\n            v-for=\"(semana, index) of semanasMes\"\r\n            :key=\"'semana' + semana\"\r\n          >\r\n            <div id=\"contenedorBotonesSemana\">\r\n              <div\r\n                class=\"boton\"\r\n                title=\"Repetir los eventos de esta semana\"\r\n                @click=\"repetirEventosSemana(index)\"\r\n              >\r\n                <img src=\"@/assets/iconos/relojArena.svg\" alt=\"Reloj\" />\r\n              </div>\r\n              <div\r\n                class=\"boton\"\r\n                title=\"Eliminar todos los eventos de esta semana\"\r\n                @click=\"deleteEventosSemana(index)\"\r\n              >\r\n                <img src=\"@/assets/iconos/broom.svg\" alt=\"Limpiar\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <dia-calendario\r\n      v-if=\"diaSeleccionado\"\r\n      :eventoSiendoCreado=\"eventoSiendoCreado\"\r\n      :hoy=\"dateHoy.getTime() === diaSeleccionado.date.getTime()\"\r\n      :key=\"'dia' + diaSeleccionado.date.getTime()\"\r\n      :esteDia=\"diaSeleccionado\"\r\n      :horaPx=\"horaPx\"\r\n      :scrollXCalendario=\"scrollX\"\r\n      :idParent=\"idParent\"\r\n      :idEventoSeleccionado=\"idEventoSeleccionado\"\r\n      :idUsuarioTarget=\"idUsuarioTarget\"\r\n      :tipoParent=\"tipoParent\"\r\n      :enfasis=\"enfasis\"\r\n      :modoEventosPublicosExtranjeros=\"modoEventosPublicosExtranjeros\"\r\n      :usuarioVeEventosPublicos=\"usuarioVeEventosPublicos\"\r\n      @regresar=\"numeroDiaSeleccionado = null\"\r\n      @iniciaCreacionEvento=\"$emit('iniciaCreacionEvento')\"\r\n      @clickEnEvento=\"idEventoSeleccionado = $event.id\"\r\n      @desSeleccionDeEvento=\"idEventoSeleccionado = null\"\r\n      @cambioEventos=\"reloadEventosRelevantes\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\n// import gql from 'graphql-tag';\r\nimport DiaCalendario from \"./DiaCalendario.vue\";\r\nimport debounce from \"debounce\";\r\nimport Loading from './Loading.vue';\r\n\r\nexport default {\r\n  components: { DiaCalendario, Loading },\r\n  name: \"Calendario\",\r\n  props: {\r\n    idParent: String,\r\n    idUsuarioTarget: String,\r\n    tipoParent: String,\r\n    enfasis: String,\r\n  },\r\n  apollo: {\r\n    cantidadEventosRelevantesMes: {\r\n      query: gql`\r\n        query (\r\n          $year: Int!\r\n          $mes: Int!\r\n          $idParent: ID!\r\n          $tipoParent: String!\r\n          $timeZoneOffset: Int!\r\n        ) {\r\n          cantidadEventosRelevantesMes(\r\n            year: $year\r\n            mes: $mes\r\n            idParent: $idParent\r\n            tipoParent: $tipoParent\r\n            timeZoneOffset: $timeZoneOffset\r\n          ) {\r\n            dia\r\n            cantidadEventos\r\n          }\r\n        }\r\n      `,\r\n      variables() {\r\n        return {\r\n          year: this.yearSeleccionado,\r\n          mes: parseInt(this.numeroMesSeleccionado),\r\n          idParent: this.idParent ? this.idParent : this.idUsuarioTarget,\r\n          tipoParent: this.tipoParent ? this.tipoParent : \"usuario\",\r\n          timeZoneOffset: new Date().getTimezoneOffset(),\r\n        };\r\n      },\r\n      fetchPolicy: \"cache-and-network\",\r\n    },\r\n  },\r\n  data() {\r\n    const dateHoy = new Date(Date.now());\r\n    dateHoy.setHours(0);\r\n    dateHoy.setMinutes(0);\r\n    dateHoy.setSeconds(0);\r\n\r\n    return {\r\n      cantidadEventosRelevantesMes: [],\r\n      nombresDiasSemana: [\r\n        \"Lunes\",\r\n        \"Martes\",\r\n        \"Miércoles\",\r\n        \"Jueves\",\r\n        \"Viernes\",\r\n        \"Sabado\",\r\n        \"Domingo\",\r\n      ],\r\n\r\n      nombresMeses: [\r\n        \"Enero\",\r\n        \"Febrero\",\r\n        \"Marzo\",\r\n        \"Abril\",\r\n        \"Mayo\",\r\n        \"Junio\",\r\n        \"Julio\",\r\n        \"Agosto\",\r\n        \"Septiembre\",\r\n        \"Octubre\",\r\n        \"Noviembre\",\r\n        \"Diciembre\",\r\n      ],\r\n\r\n      dateHoy,\r\n      primerDia: {\r\n        date: dateHoy,\r\n        horaActual: new Date(Date.now()).getHours(),\r\n      },\r\n      numeroMesSeleccionado: dateHoy.getMonth(),\r\n      seleccionandoMes: false,\r\n      yearSeleccionado: dateHoy.getFullYear(),\r\n      numeroDiaSeleccionado: null,\r\n\r\n      eventoSiendoCreado: null,\r\n\r\n      horaPx: 100,\r\n      scrollX: 0,\r\n\r\n      idEventoSeleccionado: null,\r\n      modoEventosPublicosExtranjeros: \"invisibles\",\r\n\r\n      diasRendered: [{ date: dateHoy }],\r\n\r\n      usuarioVeEventosPublicos: false,\r\n\r\n      tomandoAccion: null,\r\n      enviandoAccionIntervalo: false,\r\n    };\r\n  },\r\n  computed: {\r\n    tipoEventoSiendoCreado() {\r\n      if (!this.eventoSiendoCreado) return null;\r\n\r\n      return this.eventoSiendoCreado.tipoEvento;\r\n    },\r\n    offsetScroll() {\r\n      const left = 10 + this.scrollX;\r\n      return {\r\n        left: left + \"px\",\r\n      };\r\n    },\r\n    nombreMesSeleccionado() {\r\n      return this.nombresMeses[parseInt(this.numeroMesSeleccionado)];\r\n    },\r\n    lengthMonthSeleccionado() {\r\n      return new Date(\r\n        this.yearSeleccionado,\r\n        parseInt(this.numeroMesSeleccionado + 1),\r\n        0\r\n      ).getDate();\r\n    },\r\n    diasMargenInicio() {\r\n      return new Date(\r\n        this.yearSeleccionado,\r\n        parseInt(this.numeroMesSeleccionado),\r\n        0\r\n      ).getDay();\r\n    },\r\n    estiloMargenInicio() {\r\n      return {\r\n        width: this.diasMargenInicio * 14 + \"%\",\r\n      };\r\n    },\r\n    diaSeleccionado() {\r\n      if (!this.numeroDiaSeleccionado) return null;\r\n      const dateDiaSeleccionado = new Date(\r\n        this.yearSeleccionado,\r\n        parseInt(this.numeroMesSeleccionado),\r\n        this.numeroDiaSeleccionado,\r\n        0\r\n      );\r\n      return {\r\n        date: dateDiaSeleccionado,\r\n      };\r\n    },\r\n    semanasMes() {\r\n      console.log(`Calculando semanasMes`);\r\n      const diaSemana = new Date(\r\n        this.yearSeleccionado,\r\n        parseInt(this.numeroMesSeleccionado),\r\n        1\r\n      ).getDay();\r\n      console.log(`Dia semana inicio de mes: ${diaSemana}`);\r\n      const diaSemanaCorregido=diaSemana===0?7:diaSemana;\r\n      const semanasCompletas = Math.floor(this.lengthMonthSeleccionado / 7);\r\n      console.log(`${semanasCompletas} semanas completas`);\r\n      const diasSobrantes = this.lengthMonthSeleccionado - semanasCompletas * 7;\r\n      console.log(`${diasSobrantes} dias sobrantes`);\r\n      var semanasTotales = semanasCompletas;\r\n      if (diaSemanaCorregido > 1) {\r\n        semanasTotales++;\r\n      }\r\n\r\n      if (\r\n        diasSobrantes + diaSemanaCorregido > 7 ||\r\n        (diasSobrantes > 0 && diaSemanaCorregido === 1)\r\n      ) {\r\n        semanasTotales++;\r\n      }\r\n      return semanasTotales;\r\n    },\r\n  },\r\n  methods: {\r\n    iniciarSeleccionandoMes() {\r\n      this.seleccionandoMes = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.selectMes.click();\r\n      });\r\n    },\r\n    repetirEventosSemana(numSemana) {\r\n      console.log(`Se repetirán los eventos de la semana ${numSemana}`);\r\n      var numRepeticiones = parseInt(\r\n        prompt(\"¿Cuantas veces quieres repetir el horario de esta semana?\", 0)\r\n      );\r\n\r\n      if (numRepeticiones < 1 || numRepeticiones > 52) {\r\n        console.log(`Valor de repeticiones inválido`);\r\n        return;\r\n      }\r\n      const millisDia = 1000 * 60 * 60 * 24;\r\n      const primerDiaMes = new Date(\r\n        this.yearSeleccionado,\r\n        parseInt(this.numeroMesSeleccionado),\r\n        1\r\n      ).getDay();\r\n      console.log(`Primer dia mes: ${primerDiaMes}`);\r\n      const primerDiaMesCorregido=primerDiaMes===0?7:primerDiaMes;\r\n\r\n      const dateFrom = new Date(\r\n        new Date(\r\n          this.yearSeleccionado,\r\n          parseInt(this.numeroMesSeleccionado),\r\n          1\r\n        ).getTime() +\r\n          millisDia * 7 * numSemana -\r\n          (primerDiaMesCorregido - 1) * millisDia\r\n      );\r\n      const dateTo = new Date(dateFrom.getTime() + millisDia * 7);\r\n      this.repetirEventosInterval(\r\n        dateFrom,\r\n        dateTo,\r\n        this.idParent ? this.idParent : this.idUsuarioTarget,\r\n        this.tipoParent ? this.tipoParent : \"usuario\",\r\n        this.idUsuarioTarget,\r\n        numRepeticiones\r\n      );\r\n    },\r\n    repetirEventosInterval(\r\n      dateFrom,\r\n      dateTo,\r\n      idParent,\r\n      tipoParent,\r\n      idUsuario,\r\n      numRepeticiones\r\n    ) {\r\n      console.log(\r\n        `Se repetiran los eventos que están entre ${dateFrom} y ${dateTo}, ${numRepeticiones} veces`\r\n      );\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idParent: ID!\r\n              $tipoParent: String!\r\n              $idUsuario: ID!\r\n              $numRepeticiones: Int!\r\n              $dateFrom: Date!\r\n              $dateTo: Date!\r\n            ) {\r\n              repetirEventosTroughInterval(\r\n                idParent: $idParent\r\n                tipoParent: $tipoParent\r\n                idUsuario: $idUsuario\r\n                numRepeticiones: $numRepeticiones\r\n                dateFrom: $dateFrom\r\n                dateTo: $dateTo\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idParent: this.idParent ? this.idParent : this.idUsuarioTarget,\r\n            tipoParent: this.tipoParent ? this.tipoParent : \"usuario\",\r\n            idUsuario: this.idUsuarioTarget,\r\n            numRepeticiones,\r\n            dateFrom,\r\n            dateTo,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.reloadEventosRelevantes();\r\n          alert(\"Operación completada\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoAccionIntervalo = false;\r\n        });\r\n    },\r\n    deleteEventosSemana(numSemana) {\r\n      console.log(`Se eliminaran los eventos de la semana ${numSemana}`);\r\n      if (\r\n        !confirm(\r\n          \"¿Confirmar la eliminación de los eventos de esta semana? (Esta acción no puede deshacerse)\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      const millisDia = 1000 * 60 * 60 * 24;\r\n      const primerDiaMes = new Date(\r\n        this.yearSeleccionado,\r\n        parseInt(this.numeroMesSeleccionado),\r\n        1\r\n      ).getDay();\r\n      console.log(`Primer dia mes: ${primerDiaMes}`);\r\n      const primerDiaMesCorregido=primerDiaMes===0?7:primerDiaMes;\r\n      console.log(`Primer dia mes corregido: ${primerDiaMesCorregido}`);\r\n\r\n      const dateFrom = new Date(\r\n        new Date(\r\n          this.yearSeleccionado,\r\n          parseInt(this.numeroMesSeleccionado),\r\n          1\r\n        ).getTime() +\r\n          millisDia * 7 * numSemana -\r\n          (primerDiaMesCorregido - 1) * millisDia\r\n      );\r\n      const dateTo = new Date(dateFrom.getTime() + millisDia * 7);\r\n      this.deleteEventosInterval(\r\n        dateFrom,\r\n        dateTo,\r\n        this.idParent ? this.idParent : this.idUsuarioTarget,\r\n        this.tipoParent ? this.tipoParent : \"usuario\",\r\n        this.idUsuarioTarget\r\n      );\r\n    },\r\n    deleteEventosInterval(dateFrom, dateTo, idParent, tipoParent, idUsuario) {\r\n      console.log(\r\n        `Se eliminarán los eventos que están entre ${dateFrom} y ${dateTo}`\r\n      );\r\n      this.enviandoAccionIntervalo = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idParent: ID!\r\n              $tipoParent: String!\r\n              $idUsuario: ID!\r\n              $dateFrom: Date!\r\n              $dateTo: Date!\r\n            ) {\r\n              deleteEventosTroughInterval(\r\n                idParent: $idParent\r\n                tipoParent: $tipoParent\r\n                idUsuario: $idUsuario\r\n                dateFrom: $dateFrom\r\n                dateTo: $dateTo\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idParent,\r\n            tipoParent,\r\n            idUsuario,\r\n            dateFrom,\r\n            dateTo,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.reloadEventosRelevantes();\r\n          this.enviandoAccionIntervalo = false;\r\n          alert(\"Operación completada\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoAccionIntervalo = false;\r\n        });\r\n    },\r\n    reloadEventosRelevantes: debounce(function () {\r\n      console.log(`Reloading cantidades mes`);\r\n      this.$apollo.queries.cantidadEventosRelevantesMes.refetch();\r\n    }, 1000),\r\n  },\r\n  watch: {\r\n    numeroMesSeleccionado() {\r\n      this.seleccionandoMes = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.calendario {\r\n  width: min(100vw, 900px);\r\n  background-color: #ecebe4;\r\n  position: relative;\r\n  max-height: 100vh;\r\n  margin: 0px auto;\r\n}\r\n.calendario.eventoSiendoCreado {\r\n  border: 1px solid var(--paletaSelect);\r\n}\r\n#contenedorControlesCalendario .boton{\r\nmargin: 0px 10px;\r\n}\r\n\r\n#barraFecha {\r\n  display: flex;\r\n  color: #6d6d6d;\r\n}\r\n#barraDiasSemana {\r\n  margin-top: 25px;\r\n  display: flex;\r\n  width: 100%;\r\n  color: #6d6d6d;\r\n}\r\n.diaSemana {\r\n  width: 14.3%;\r\n  text-align: center;\r\n}\r\n.numeroDia {\r\n  font-size: 11px;\r\n  color: #6d6d6d;\r\n}\r\n#contenedorMesh {\r\n  margin-top: 15px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  position: relative;\r\n}\r\n#margenInicio {\r\n  height: 10px;\r\n}\r\n.selectorDia {\r\n  width: 14%;\r\n  height: 12vh;\r\n  border: 0.5px solid rgb(204, 204, 204);\r\n  flex-shrink: 0;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n}\r\n.selectorDia:hover {\r\n  background-color: var(--paletaMain);\r\n}\r\n.selectorDia.hoy {\r\n  background-color: var(--paletaSelect);\r\n}\r\n.selectorDia.hoy .numeroDia{\r\n  color: white;\r\n}\r\n\r\n.bolitaCantidadEventosRelevantes {\r\n  border-radius: 50%;\r\n  width: 25px;\r\n  height: 25px;\r\n  background-color: var(--mainColor);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n#contenedorDias {\r\n  margin-top: 50px;\r\n  max-height: 90vh;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  width: 100%;\r\n  max-height: 60vh;\r\n}\r\n.lineaIndicadora {\r\n  height: 100vh;\r\n  position: absolute;\r\n  top: 0px;\r\n  transform: translateX(-50%);\r\n  width: 2px;\r\n  background-color: rgba(0, 0, 0, 0.473);\r\n}\r\n\r\n.hora:not(:hover) .lineaIndicadora {\r\n  display: none;\r\n}\r\n\r\n.hora:hover .lineaIndicadora {\r\n  display: block;\r\n}\r\n\r\n.diaCalendario {\r\n  margin-bottom: 45px;\r\n}\r\n#representacionSemanas {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  background-color: rgba(221, 221, 221, 0.623);\r\n}\r\n.semana {\r\n  height: 12vh;\r\n  width: 98%;\r\n  border: 0.5px solid rgb(109, 109, 109);\r\n  flex-shrink: 0;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n}\r\n#contenedorBotonesDia {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  flex-direction: column;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n#contenedorBotonesSemana {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n#contenedorBotonesSemana .boton {\r\n  margin: 0px 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendario.vue?vue&type=template&id=abd7a930&scoped=true&\"\nimport script from \"./Calendario.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendario.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendario.vue?vue&type=style&index=0&id=abd7a930&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"abd7a930\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    class=\"nodoVistaLista\"\r\n    @mouseleave=\"mostrando = mostrando === 'opcionesCrear' ? null : mostrando\"\r\n    :class=\"{ deshabilitado: enviandoQueryGeneral }\"\r\n  >\r\n    <div class=\"elementoLista\" :class=\"{ mostrandoBotonesBarraSuperior }\">\r\n      <div\r\n        id=\"barraSuperior\"\r\n        :class=\"{\r\n          seleccionado,\r\n          mostrandoBotonesBarraSuperior,\r\n          deshabilitado: nodoSiendoArrastrado && !usuarioAdministrador,\r\n        }\"\r\n        @mousedown.stop=\"grabbing\"\r\n        @mouseup.stop=\"finalizarArrastre\"\r\n        @mousemove=\"movimientoDeArrastre\"\r\n        @mouseleave=\"\r\n          recibiendoArrastradoEn = null;\r\n          grabbed = false;\r\n          grabAttempt = 0;\r\n        \"\r\n        @click=\"\r\n          $emit(\r\n            'nodoSeleccionado',\r\n            idNodoSeleccionado === esteNodo.id ? null : esteNodo.id\r\n          )\r\n        \"\r\n        :style=\"[\r\n          colorBarraSuperior,\r\n          estiloRecibiendoArrastrado,\r\n          { opacity: siendoArrastrado ? '0.3' : '1' },\r\n        ]\"\r\n        v-show=\"\r\n          (modoLista === 'todo' ||\r\n            (modoLista === 'usuarioResponsable' &&\r\n              (usuarioResponsable || descendienteUsuarioResponsable))) &&\r\n          (visible || seleccionado)\r\n        \"\r\n      >\r\n        <div\r\n          id=\"zonaIconoNodo\"\r\n          @click.stop=\"\r\n            mostrandoNodosUnder =\r\n              requeridos.length > 0 ? !mostrandoNodosUnder : false\r\n          \"\r\n        >\r\n          <div\r\n            id=\"trianguloAbrirChildren\"\r\n            class=\"trianguloBullet\"\r\n            :class=\"{\r\n              waitingFetchChildren: idsNodosNeedingFetchMore.includes(\r\n                esteNodo.id\r\n              ),\r\n            }\"\r\n            :title=\"\r\n              idsNodosNeedingFetchMore.includes(esteNodo.id)\r\n                ? 'Descargando nodos...'\r\n                : mostrandoNodosUnder\r\n                ? 'Cerrar subnodos'\r\n                : 'Abrir subnodos'\r\n            \"\r\n            :style=\"[\r\n              {\r\n                transform: mostrandoNodosUnder ? 'rotate(90deg)' : '',\r\n                visibility: esteNodo.vinculos.length > 0 ? 'visible' : 'hidden',\r\n              },\r\n            ]\"\r\n          ></div>\r\n\r\n          <svg\r\n            aria-hidden=\"true\"\r\n            focusable=\"false\"\r\n            data-prefix=\"fas\"\r\n            data-icon=\"cog\"\r\n            class=\"svg-inline--fa fa-cog fa-w-16 iconoTipoNodo\"\r\n            role=\"img\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 512 512\"\r\n            v-if=\"esteNodo.tipoNodo === 'trabajo'\"\r\n            :style=\"{\r\n              opacity:\r\n                idNodoOver && idNodoOver != esteNodo.nodoParent ? '0.5' : '1',\r\n            }\"\r\n          >\r\n            <path\r\n              :fill=\"colorIcono\"\r\n              d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"\r\n            ></path>\r\n          </svg>\r\n          <svg\r\n            aria-hidden=\"true\"\r\n            focusable=\"false\"\r\n            data-prefix=\"fas\"\r\n            data-icon=\"star\"\r\n            class=\"svg-inline--fa fa-star fa-w-18 iconoTipoNodo\"\r\n            role=\"img\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 576 512\"\r\n            v-else\r\n            :style=\"{\r\n              opacity:\r\n                idNodoOver && idNodoOver != esteNodo.nodoParent ? '0.5' : '1',\r\n            }\"\r\n          >\r\n            <path\r\n              :fill=\"colorIcono\"\r\n              d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\r\n            ></path>\r\n          </svg>\r\n        </div>\r\n        <input\r\n          @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n          ref=\"inputNuevoNombre\"\r\n          v-model=\"nuevoNombre\"\r\n          style=\"width: 250px\"\r\n          @click.stop=\"\"\r\n          @blur=\"editandoNombre = false\"\r\n          @keydown=\"keydownInputNuevoNombre\"\r\n          v-show=\"editandoNombre\"\r\n          type=\"text\"\r\n          class=\"inputNuevoNombre inputNombreCosa\"\r\n          :class=\"{ deshabilitado: enviandoNuevoNombre }\"\r\n        />\r\n        <loading texto=\"\" v-show=\"enviandoNuevoNombre\" />\r\n        <div\r\n          id=\"elNombre\"\r\n          :class=\"{\r\n            mostrandoBotonesBarraSuperior,\r\n            deshabilitado: enviandoNuevoNombre,\r\n          }\"\r\n          v-show=\"!editandoNombre\"\r\n          @click=\"toggleEditandoNombre\"\r\n        >\r\n          {{ esteNodo.nombre }}\r\n        </div>\r\n        <img\r\n          id=\"botonAbrirBotonesBarraSuperior\"\r\n          class=\"boton\"\r\n          src=\"@/assets/iconos/chevronCircle.svg\"\r\n          title=\"Ver opciones\"\r\n          :class=\"{ mostrandoBotonesBarraSuperior }\"\r\n          :style=\"{\r\n            transform: !mostrandoBotonesBarraSuperior ? 'rotate(90deg)' : '',\r\n          }\"\r\n          @click.stop=\"\r\n            mostrandoBotonesBarraSuperior = !mostrandoBotonesBarraSuperior\r\n          \"\r\n        />\r\n        <div\r\n          id=\"contenedorBotonesBarraSuperior\"\r\n          :class=\"{\r\n            mostrandoBotonesBarraSuperior,\r\n            mostrandoOpcionesCrear: mostrando === 'opcionesCrear',\r\n          }\"\r\n          @click.stop=\"\"\r\n        >\r\n          <div\r\n            class=\"contenedorBotones\"\r\n            id=\"contenedorBotonesSelectoresContenidoNodo\"\r\n            :style=\"{ visibility: mostrando != null ? 'visible' : '' }\"\r\n          >\r\n            <div\r\n              class=\"boton botonSelectorContenidoNodo botonBarraSuperior\"\r\n              :class=\"{\r\n                deshabilitado:\r\n                  (!esteNodo.descripcion ||\r\n                    esteNodo.descripcion.length < 1 ||\r\n                    esteNodo.descripcion === 'Sin descripcion' ||\r\n                    esteNodo.descripcion === 'Sin descripción') &&\r\n                  !usuarioAdministrador,\r\n              }\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'descripcion' ? 'white' : 'black',\r\n              }\"\r\n              @dblclick.stop.prevent=\"\r\n                $emit('toggleContenidoTodos', {\r\n                  contenido: 'descripcion',\r\n                  estado: mostrando != 'descripcion',\r\n                })\r\n              \"\r\n              @click=\"\r\n                mostrando = mostrando === 'descripcion' ? null : 'descripcion'\r\n              \"\r\n              :title=\"mostrando === 'descripcion' ? '' : 'Mostrar descripción'\"\r\n            >\r\n              <img src=\"@/assets/iconos/info.svg\" alt=\"Descripción\" />\r\n            </div>\r\n            <div\r\n              class=\"boton botonSelectorContenidoNodo botonBarraSuperior\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'responsables' ? 'white' : 'black',\r\n              }\"\r\n              @dblclick.stop.prevent=\"\r\n                $emit('toggleContenidoTodos', {\r\n                  contenido: 'responsables',\r\n                  estado: mostrando != 'responsables',\r\n                })\r\n              \"\r\n              @click=\"\r\n                mostrando = mostrando === 'responsables' ? null : 'responsables'\r\n              \"\r\n              :title=\"\r\n                mostrando === 'responsables'\r\n                  ? ''\r\n                  : 'Mostrar responsables del nodo'\r\n              \"\r\n            >\r\n              <img src=\"@/assets/iconos/user.svg\" alt=\"Responsables\" />\r\n            </div>\r\n            <div\r\n              class=\"boton botonSelectorContenidoNodo botonBarraSuperior\"\r\n              v-if=\"usuarioAdministrador\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'keywords' ? 'white' : 'black',\r\n              }\"\r\n              :class=\"{\r\n                deshabilitado:\r\n                  !esteNodo.keywords || esteNodo.keywords.length < 1,\r\n              }\"\r\n              @dblclick.stop.prevent=\"\r\n                $emit('toggleContenidoTodos', {\r\n                  contenido: 'keywords',\r\n                  estado: mostrando != 'keywords',\r\n                })\r\n              \"\r\n              @click=\"mostrando = mostrando === 'keywords' ? null : 'keywords'\"\r\n              :title=\"mostrando === 'keywords' ? '' : 'Mostrar palabras clave'\"\r\n            >\r\n              <img src=\"@/assets/iconos/tag.svg\" alt=\"Keywords\" />\r\n            </div>\r\n            <div\r\n              class=\"boton botonSelectorContenidoNodo botonBarraSuperior\"\r\n              @dblclick.stop.prevent=\"\r\n                $emit('toggleContenidoTodos', {\r\n                  contenido: 'recursosExternos',\r\n                  estado: mostrando != 'recursosExternos',\r\n                })\r\n              \"\r\n              @click=\"\r\n                mostrando =\r\n                  mostrando === 'recursosExternos' ? null : 'recursosExternos'\r\n              \"\r\n              :style=\"{\r\n                borderColor:\r\n                  mostrando === 'recursosExternos' ? 'white' : 'black',\r\n              }\"\r\n              :class=\"{\r\n                deshabilitado:\r\n                  !esteNodo.recursosExternos ||\r\n                  esteNodo.recursosExternos.length < 1,\r\n              }\"\r\n              :title=\"\r\n                mostrando === 'recursosExternos'\r\n                  ? ''\r\n                  : 'Mostrar recursosExternos'\r\n              \"\r\n            >\r\n              <img src=\"@/assets/iconos/link.svg\" alt=\"Enlace\" />\r\n            </div>\r\n            <div\r\n              class=\"boton botonSelectorContenidoNodo botonBarraSuperior\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'calendario' ? 'white' : 'black',\r\n              }\"\r\n              @click=\"\r\n                mostrando = mostrando === 'calendario' ? null : 'calendario'\r\n              \"\r\n              :title=\"\r\n                mostrando === 'calendario'\r\n                  ? 'Ocultar calendario'\r\n                  : 'Mostrar en calendario'\r\n              \"\r\n            >\r\n              <img src=\"@/assets/iconos/calendar.svg\" alt=\"calendario\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"contenedorBotones\" id=\"botonesAccionesNodo\">\r\n            <div\r\n              class=\"boton botonBarraSuperior\"\r\n              v-show=\"usuarioAdministrador || usuarioSuperadministrador\"\r\n              :title=\"esteNodo.publicitado ? 'No publicitar' : 'Publicitar'\"\r\n              :style=\"[{filter:esteNodo.publicitado?'var(--atlasFilterVerde)':''}]\"\r\n              @click=\"togglePublicitado\"\r\n              \r\n            >\r\n              <img src=\"@/assets/iconos/productHunt.svg\" alt=\"P\" />\r\n            </div>\r\n            <svg\r\n              aria-hidden=\"true\"\r\n              focusable=\"false\"\r\n              data-prefix=\"far\"\r\n              data-icon=\"check-circle\"\r\n              class=\"\r\n                svg-inline--fa\r\n                fa-check-circle fa-w-16\r\n                boton\r\n                botonBarraSuperior\r\n              \"\r\n              role=\"img\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 512 512\"\r\n              :title=\"\r\n                esteNodo.estadoDesarrollo === 'completado'\r\n                  ? 'Desmarcar como completado'\r\n                  : 'Marcar como completado'\r\n              \"\r\n              id=\"botonMarcarCompletado\"\r\n              :class=\"{\r\n                deshabilitado: togglingEstado || !usuarioAdministrador,\r\n              }\"\r\n              v-show=\"!togglingEstado\"\r\n              @click.stop=\"toggleEstadoNodo()\"\r\n            >\r\n              <path\r\n                :fill=\"\r\n                  esteNodo.estadoDesarrollo === 'completado'\r\n                    ? 'var(--atlasVerde)'\r\n                    : ''\r\n                \"\r\n                d=\"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"\r\n              ></path>\r\n            </svg>\r\n\r\n            <loading texto=\"\" v-show=\"togglingEstado\" />\r\n            <div\r\n              id=\"botonCrear\"\r\n              :class=\"{\r\n                deshabilitado: creandoSubNodo || !usuarioResponsableAmplio,\r\n              }\"\r\n            >\r\n              <img\r\n                src=\"@/assets/iconos/plusCircle.svg\"\r\n                alt=\"Mas...\"\r\n                title=\"Nuevo...\"\r\n                id=\"botonCrearNuevoNodo\"\r\n                class=\"boton botonBarraSuperior\"\r\n                :style=\"[\r\n                  {\r\n                    borderColor:\r\n                      mostrando === 'opcionesCrear' ? 'white' : 'transparent',\r\n                  },\r\n                ]\"\r\n                v-show=\"mostrando != 'opcionesCrear'\"\r\n                @click=\"\r\n                  mostrando =\r\n                    mostrando === 'opcionesCrear' ? null : 'opcionesCrear'\r\n                \"\r\n              />\r\n              <div\r\n                id=\"contenedorOpcionesCrear\"\r\n                v-show=\"mostrando === 'opcionesCrear'\"\r\n                :style=\"[\r\n                  {\r\n                    borderColor:\r\n                      mostrando === 'opcionesCrear' ? 'white' : 'transparent',\r\n                  },\r\n                ]\"\r\n              >\r\n                <img\r\n                  src=\"@/assets/iconos/starSolid.svg\"\r\n                  alt=\"Objetivo\"\r\n                  title=\"Crear nuevo objetivo\"\r\n                  class=\"boton botonBarraSuperior opcionCrear\"\r\n                  v-show=\"esteNodo.tipoNodo === 'objetivo'\"\r\n                  @click=\"\r\n                    crearNuevoNodoUnder({ tipoNodo: 'objetivo' }, esteNodo.id)\r\n                  \"\r\n                />\r\n                <img\r\n                  src=\"@/assets/iconos/cog.svg\"\r\n                  alt=\"Trabajo\"\r\n                  title=\"Crear nuevo trabajo\"\r\n                  class=\"boton botonBarraSuperior opcionCrear\"\r\n                  @click=\"\r\n                    crearNuevoNodoUnder({ tipoNodo: 'trabajo' }, esteNodo.id)\r\n                  \"\r\n                />\r\n                <loading texto=\"\" v-show=\"creandoSubNodo\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"contenedorBotones\" id=\"botonesEnlacesNodo\">\r\n            <a :href=\"clienteUrl + '/#/homeNodoSolidaridad/' + esteNodo.id\">\r\n              <img\r\n                src=\"@/assets/iconos/home.svg\"\r\n                alt=\"Home\"\r\n                title=\"Ir a la página de este nodo\"\r\n                id=\"botonHomeNodo\"\r\n                class=\"boton botonBarraSuperior\"\r\n              />\r\n            </a>\r\n          </div>\r\n\r\n          <div class=\"contenedorBotones\" id=\"botonesEliminarNodo\">\r\n            <img\r\n              src=\"@/assets/iconos/trash.svg\"\r\n              alt=\"Eliminar\"\r\n              title=\"Eliminar este nodo\"\r\n              id=\"botonEliminarNodo\"\r\n              class=\"boton botonBarraSuperior\"\r\n              v-show=\"usuarioAdministrador\"\r\n              @click=\"eliminarse\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Campos de contenidos nodo -->\r\n      <div id=\"contenidos\">\r\n        <div\r\n          id=\"zonaDescripcion\"\r\n          class=\"zonaPrimerNivel\"\r\n          v-show=\"mostrando === 'descripcion'\"\r\n        >\r\n          <div\r\n            id=\"descripcion\"\r\n            class=\"contenidoTexto\"\r\n            ref=\"descripcion\"\r\n            v-show=\"!editandoDescripcion\"\r\n            @click=\"toggleEditandoDescripcion\"\r\n          >\r\n            {{ esteNodo.descripcion }}\r\n          </div>\r\n\r\n          <textarea\r\n            id=\"inputNuevoDescripcion\"\r\n            ref=\"inputNuevoDescripcion\"\r\n            class=\"inputTextoNodo\"\r\n            :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n            v-model=\"nuevoDescripcion\"\r\n            v-show=\"editandoDescripcion\"\r\n          />\r\n          <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\r\n            <img\r\n              src=\"@/assets/iconos/save.svg\"\r\n              class=\"botonGuardarCampo\"\r\n              alt=\"Guardar\"\r\n              title=\"Guardar descripción\"\r\n              id=\"botonGuardarDescripcion\"\r\n              @click=\"guardarNuevoDescripcion\"\r\n            />\r\n            <img\r\n              src=\"@/assets/iconos/equis.svg\"\r\n              class=\"botonGuardarCampo\"\r\n              alt=\"Cancelar\"\r\n              title=\"Cancelar edición\"\r\n              id=\"botonCancelarEdicionDescripcion\"\r\n              @click=\"editandoDescripcion = false\"\r\n            />\r\n          </div>\r\n          <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n        </div>\r\n\r\n        <div\r\n          id=\"zonaKeywords\"\r\n          class=\"zonaPrimerNivel\"\r\n          v-show=\"mostrando === 'keywords'\"\r\n        >\r\n          <div\r\n            id=\"keywords\"\r\n            class=\"contenidoTexto\"\r\n            ref=\"keywords\"\r\n            v-show=\"!editandoKeywords\"\r\n            @click=\"toggleEditandoKeywords\"\r\n          >\r\n            {{ esteNodo.keywords }}\r\n          </div>\r\n\r\n          <textarea\r\n            id=\"inputNuevoKeywords\"\r\n            ref=\"inputNuevoKeywords\"\r\n            class=\"inputTextoNodo\"\r\n            :class=\"{ letrasRojas: nuevoKeywordsIlegal }\"\r\n            v-model=\"nuevoKeywords\"\r\n            v-show=\"editandoKeywords\"\r\n            @keydown.esc.stop=\"editandoKeywords = false\"\r\n            @keydown.enter.prevent.stop=\"guardarNuevoKeywords\"\r\n          />\r\n          <div class=\"contenedorBotonesCampo\" v-show=\"editandoKeywords\">\r\n            <img\r\n              src=\"@/assets/iconos/save.svg\"\r\n              class=\"botonGuardarCampo\"\r\n              alt=\"Guardar\"\r\n              title=\"Guardar palabras clave\"\r\n              id=\"botonGuardarKeywords\"\r\n              @click=\"guardarNuevoKeywords\"\r\n            />\r\n            <img\r\n              src=\"@/assets/iconos/equis.svg\"\r\n              class=\"botonGuardarCampo\"\r\n              alt=\"Cancelar\"\r\n              title=\"Cancelar edición\"\r\n              id=\"botonCancelarEdicionKeywords\"\r\n              @click=\"editandoKeywords = false\"\r\n            />\r\n          </div>\r\n          <loading v-show=\"enviandoNuevoKeywords\" texto=\"Enviando...\" />\r\n        </div>\r\n\r\n        <div\r\n          id=\"zonaRecursosExternos\"\r\n          class=\"zonaPrimerNivel\"\r\n          v-show=\"mostrando === 'recursosExternos'\"\r\n        >\r\n          <recurso-externo-nodo\r\n            v-for=\"recursoExterno of esteNodo.recursosExternos\"\r\n            :key=\"recursoExterno.id\"\r\n            :usuarioResponsableAmplio=\"usuarioResponsableAmplio\"\r\n            :esteRecurso=\"recursoExterno\"\r\n            :idNodo=\"esteNodo.id\"\r\n          />\r\n        </div>\r\n\r\n        <div\r\n          id=\"zonaResponsables\"\r\n          class=\"zonaPrimerNivel\"\r\n          v-show=\"mostrando === 'responsables'\"\r\n        >\r\n          <div class=\"contenedorBotonesZona\" id=\"contenedorBotonesResponsables\">\r\n            <img\r\n              src=\"@/assets/iconos/mas.svg\"\r\n              alt=\"Entrar\"\r\n              :title=\"\r\n                (esteNodo.responsables.length < 1 &&\r\n                  esteNodo.tipoParent != 'usuario') ||\r\n                usuarioParent\r\n                  ? 'Asumir'\r\n                  : 'Solicitar participación'\r\n              \"\r\n              id=\"botonEntrarResponsables\"\r\n              class=\"botonControlZona botonControlResponsables\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-show=\"\r\n                !usuarioResponsable &&\r\n                !usuarioPosibleResponsable &&\r\n                !idResponsableSeleccionado\r\n              \"\r\n              @click.stop=\"entrarResponsables\"\r\n            />\r\n            <img\r\n              src=\"@/assets/iconos/minus.svg\"\r\n              alt=\"Salir\"\r\n              title=\"Abandonar\"\r\n              id=\"botonAbandonarResponsables\"\r\n              class=\"botonControlZona botonControlResponsables\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-show=\"\r\n                (usuarioResponsable || usuarioPosibleResponsable) &&\r\n                !idResponsableSeleccionado\r\n              \"\r\n              @click.stop=\"abandonarListaResponsables\"\r\n            />\r\n            <img\r\n              src=\"@/assets/iconos/minus.svg\"\r\n              alt=\"Sacar\"\r\n              title=\"Retirar usuario\"\r\n              id=\"botonRetirarUsuarioFromResponsables\"\r\n              class=\"boton botonControlZona botonControlResponsables\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-show=\"\r\n                idResponsableSeleccionado &&\r\n                (usuarioSuperadministrador || usuarioParent)\r\n              \"\r\n              @click.stop=\"\r\n                retirarUsuarioFromListaResponsables(idResponsableSeleccionado)\r\n              \"\r\n            />\r\n            <img\r\n              src=\"@/assets/iconos/handshake.svg\"\r\n              alt=\"Aceptar\"\r\n              title=\"Aceptar como responsable\"\r\n              id=\"botonAbandonarResponsables\"\r\n              class=\"botonControlZona botonControlResponsables\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-show=\"\r\n                usuarioResponsableAmplio &&\r\n                idResponsableSeleccionado &&\r\n                !esteNodo.responsables.includes(idResponsableSeleccionado)\r\n              \"\r\n              @click=\"aceptarResponsable(idResponsableSeleccionado)\"\r\n            />\r\n            <loading texto=\"\" v-show=\"enviandoQueryResponsables\" />\r\n          </div>\r\n          <div\r\n            id=\"listaResponsables\"\r\n            @click.stop=\"idResponsableSeleccionado = null\"\r\n          >\r\n            <icono-persona-autonomo\r\n              v-for=\"idResponsable of esteNodo.responsables.concat(\r\n                esteNodo.posiblesResponsables\r\n              )\"\r\n              :style=\"{\r\n                opacity: esteNodo.posiblesResponsables.includes(idResponsable)\r\n                  ? 0.5\r\n                  : 1,\r\n              }\"\r\n              :key=\"idResponsable\"\r\n              :idPersona=\"idResponsable\"\r\n              :seleccionado=\"idResponsableSeleccionado == idResponsable\"\r\n              :factorEscala=\"'0.7'\"\r\n              @click.native.stop=\"idResponsableSeleccionado = idResponsable\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          id=\"zonaCalendario\"\r\n          class=\"zonaPrimerNivel\"\r\n          v-if=\"mostrando === 'calendario'\"\r\n        >\r\n          <div\r\n            class=\"contenedorBotonesZona\"\r\n            id=\"contenedorBotonesCalendario\"\r\n            style=\"flex-direction: row-reverse\"\r\n          >\r\n            <div\r\n              class=\"boton botonControlCalendario\"\r\n              v-if=\"usuarioAdministrador\"\r\n              v-show=\"mostrando === 'calendario' && !creandoEvento\"\r\n              :title=\"'Programar una sesión de ' + esteNodo.nombre\"\r\n              @click=\"iniciarCreacionEvento\"\r\n            >\r\n              <img src=\"@/assets/iconos/calendarPlus.svg\" alt=\"Calendario\" />\r\n            </div>\r\n            <div\r\n              class=\"boton\"\r\n              title=\"Cancelar\"\r\n              @click=\"creandoEvento = false\"\r\n              v-show=\"creandoEvento\"\r\n            >\r\n              <img src=\"@/assets/iconos/times.svg\" alt=\"Cancelar\" />\r\n            </div>\r\n          </div>\r\n          <calendario\r\n            :idUsuarioTarget=\"usuario.id\"\r\n            ref=\"calendario\"\r\n            :idParent=\"esteNodo.id\"\r\n            enfasis=\"eventosPersonales\"\r\n            tipoParent=\"nodoSolidaridad\"\r\n            @iniciaCreacionEvento=\"creandoEvento = false\"\r\n            @eventoCreado=\"responderEventoCreado($event, 'calendario')\"\r\n            @eventoEliminado=\"responderEventoEliminado($event, 'calendario')\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <!-- Lista de nodos children -->\r\n      <div\r\n        id=\"sublista\"\r\n        v-if=\"requeridos.length > 0\"\r\n        v-show=\"mostrandoNodosUnder\"\r\n      >\r\n        <div id=\"lineaLista\" v-show=\"mostrandoNodosUnder\"></div>\r\n\r\n        <nodo-vista-lista\r\n          v-for=\"(nodo, index) of requeridos\"\r\n          ref=\"nodosRequeridos\"\r\n          :key=\"nodo.id\"\r\n          :esteNodo=\"nodo\"\r\n          :index=\"index\"\r\n          :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n          :id=\"'nodoEnLista' + nodo.id\"\r\n          :mostrarColoresCompletado=\"seleccionado\"\r\n          :mostrandoNodosCompletados=\"mostrandoNodosCompletados\"\r\n          :verCompletados=\"verCompletados\"\r\n          :modoLista=\"modoLista\"\r\n          :indiceNodosUnder=\"indiceNodosUnder\"\r\n          :descendienteUsuarioResponsable=\"\r\n            usuarioResponsable || descendienteUsuarioResponsable\r\n          \"\r\n          :usuarioResponsableAmplioNodoOver=\"usuarioResponsableAmplio\"\r\n          :idsNodosNeedingFetchMore=\"idsNodosNeedingFetchMore\"\r\n          :nodoSiendoArrastrado=\"nodoSiendoArrastrado\"\r\n          :idNodoOver=\"esteNodo.id\"\r\n          tipoNodoOver=\"nodoSolidaridad\"\r\n          :underNodoSeleccionado=\"\r\n            (idNodoSeleccionado && idNodoSeleccionado === esteNodo.id) ||\r\n            underNodoSeleccionado\r\n          \"\r\n          @nodoSeleccionado=\"$emit('nodoSeleccionado', $event)\"\r\n          @nodosRenderizados=\"$emit('nodosRenderizados', $event)\"\r\n          @inicioArrastre=\"$emit('inicioArrastre', $event)\"\r\n          @finDeArrastre=\"$emit('finDeArrastre', $event)\"\r\n          @toggleContenidoTodos=\"$emit('toggleContenidoTodos', $event)\"\r\n          @meElimine=\"$emit('nodoEliminado', nodo.id)\"\r\n          @nodoEliminado=\"$emit('nodoEliminado', $event)\"\r\n          @nodoSolidaridadCreado=\"$emit('nodoSolidaridadCreado', $event)\"\r\n        />\r\n        <div id=\"lineaFinal\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IconoPersonaAutonomo from \"../../usuario/IconoPersonaAutonomo.vue\";\r\nimport {\r\n  MixinEdicionNodoSolidaridad,\r\n  MixinEdicionVinculosNodoSolidaridad,\r\n  MixinGeneralNodoSolidaridad,\r\n  MixinPermisosUsuarioNodoSolidaridad,\r\n  MixinVisualesNodosSolidaridad,\r\n} from \"../ConfiguracionNodoSolidaridad\";\r\nimport Loading from \"../../utilidades/Loading.vue\";\r\nimport RecursoExternoNodo from \"../homeNodo/RecursoExternoNodo.vue\";\r\nimport Calendario from \"../../utilidades/Calendario.vue\";\r\nimport gql from 'graphql-tag';\r\n\r\nexport default {\r\n  name: \"NodoVistaLista\",\r\n  components: {\r\n    IconoPersonaAutonomo,\r\n    Loading,\r\n    RecursoExternoNodo,\r\n    Calendario,\r\n  },\r\n  props: {\r\n    idNodoOver: String,\r\n    tipoNodoOver: String,\r\n    underNodoSeleccionado: Boolean,\r\n    index: Number,\r\n    usuarioResponsableAmplioNodoOver: Boolean,\r\n    nodoSiendoArrastrado: String,\r\n    esteNodo: Object,\r\n    indiceNodosUnder: Object,\r\n    idNodoSeleccionado: String,\r\n    mostrarColoresCompletado: Boolean,\r\n    mostrandoNodosCompletados: Boolean,\r\n    verCompletados: Boolean,\r\n    modoLista: String,\r\n    descendienteUsuarioResponsable: Boolean,\r\n    idsNodosNeedingFetchMore: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  mixins: [\r\n    MixinEdicionNodoSolidaridad,\r\n    MixinEdicionVinculosNodoSolidaridad,\r\n    MixinPermisosUsuarioNodoSolidaridad,\r\n    MixinGeneralNodoSolidaridad,\r\n    MixinVisualesNodosSolidaridad,\r\n  ],\r\n  data() {\r\n    return {\r\n      grabbed: false,\r\n      grabAttempt: 0,\r\n      recibiendoArrastradoEn: null,\r\n      mostrandoNodosUnder: false,\r\n\r\n      mostrando: null,\r\n      montado: false,\r\n\r\n      mostrandoBotonesBarraSuperior: false,\r\n\r\n      creandoEvento: false,\r\n      settingPublicitado:false,\r\n    };\r\n  },\r\n  methods: {\r\n    desplegarIfTargetUnder(idTarget) {\r\n      var desplegar = false;\r\n      (this.$refs.nodosRequeridos || []).forEach((nodo) => {\r\n        if (\r\n          nodo.desplegarIfTargetUnder(idTarget) ||\r\n          nodo.esteNodo.id === idTarget\r\n        ) {\r\n          this.mostrandoNodosUnder = true;\r\n          desplegar = true;\r\n        }\r\n      });\r\n\r\n      return desplegar;\r\n    },\r\n    grabbing() {\r\n      if (this.usuarioResponsableAmplioNodoOver) {\r\n        this.grabbed = true;\r\n      }\r\n    },\r\n    movimientoDeArrastre(e) {\r\n      if (this.grabbed) {\r\n        this.attemptToGrab(e);\r\n      }\r\n      if (\r\n        this.nodoSiendoArrastrado &&\r\n        !this.siendoArrastrado &&\r\n        this.usuarioAdministrador\r\n      ) {\r\n        const posContenedor = this.$el.getBoundingClientRect();\r\n        const topPixeles = e.clientY - posContenedor.top;\r\n        const heightContenedor = posContenedor.bottom - posContenedor.top;\r\n        const topPercentage = (topPixeles * 100) / heightContenedor;\r\n        const umbralTop = 20;\r\n        const umbralBottom = 80;\r\n        if (topPercentage < umbralTop) {\r\n          this.recibiendoArrastradoEn = \"antes\";\r\n        } else if (topPercentage > umbralBottom) {\r\n          this.recibiendoArrastradoEn = \"despues\";\r\n        } else {\r\n          this.recibiendoArrastradoEn = \"dentro\";\r\n        }\r\n      }\r\n    },\r\n    attemptToGrab(e) {\r\n      if (!this.grabbed) {\r\n        return;\r\n      }\r\n      const distanciaMinima = 15;\r\n      const distancia = Math.abs(e.movementX) + Math.abs(e.movementY);\r\n      this.grabAttempt += distancia;\r\n      if (this.grabAttempt > distanciaMinima && !this.siendoArrastrado) {\r\n        this.$emit(\"inicioArrastre\", {\r\n          idNodoArrastrado: this.esteNodo.id,\r\n          idNodoSource: this.idNodoOver,\r\n          tipoNodoSource: this.tipoNodoOver,\r\n        });\r\n        this.grabbed = false;\r\n        this.grabAttempt = 0;\r\n      }\r\n    },\r\n    finalizarArrastre() {\r\n      this.grabbed = false;\r\n      this.grabAttempt = 0;\r\n\r\n      const infoDrop = {\r\n        idNodoTarget:\r\n          this.recibiendoArrastradoEn === \"dentro\"\r\n            ? this.esteNodo.id\r\n            : this.idNodoOver,\r\n        tipoNodoTarget:\r\n          this.recibiendoArrastradoEn === \"dentro\"\r\n            ? \"nodoSolidaridad\"\r\n            : this.tipoNodoOver,\r\n        index:\r\n          this.recibiendoArrastradoEn === \"antes\"\r\n            ? this.index\r\n            : this.recibiendoArrastradoEn === \"despues\"\r\n            ? this.index + 1\r\n            : this.esteNodo.vinculos.length,\r\n      };\r\n      this.$emit(\"finDeArrastre\", infoDrop);\r\n    },\r\n    afterCrearNodoUnder(nuevoNodo) {\r\n      this.mostrandoNodosUnder = true;\r\n      this.$emit(\"nodoSolidaridadCreado\", nuevoNodo);\r\n    },\r\n    globalSetMostrarContenido(contenido, estado) {\r\n      if (estado) {\r\n        if (this.esteNodo[contenido]) {\r\n          if (\r\n            this.esteNodo[contenido].length < 1 &&\r\n            (contenido === \"descripcion\" ||\r\n              contenido === \"keywords\" ||\r\n              contenido === \"recursosExternos\")\r\n          ) {\r\n            //no se muestra\r\n          } else {\r\n            this.mostrando = contenido;\r\n          }\r\n        }\r\n      } else {\r\n        if (this.mostrando === contenido) {\r\n          this.mostrando = null;\r\n        }\r\n      }\r\n      if (this.$refs.nodosRequeridos && this.$refs.nodosRequeridos.length > 0) {\r\n        this.$refs.nodosRequeridos.forEach((n) =>\r\n          n.globalSetMostrarContenido(contenido, estado)\r\n        );\r\n      }\r\n    },\r\n    iniciarCreacionEvento() {\r\n      this.creandoEvento = true;\r\n    },\r\n    responderEventoCreado() {\r\n      console.log(`...`);\r\n    },\r\n    responderEventoEliminado() {\r\n      console.log(`...`);\r\n    },\r\n    togglePublicitado(){\r\n      const nuevoEstado=!this.esteNodo.publicitado;\r\n      console.log(`Setting publicitado en ${nuevoEstado}`);\r\n      \r\n      this.settingPublicitado=true;\r\n\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n          mutation($idNodo:ID!, $nuevoEstado: Boolean!){\r\n            setPublicitadoNodoSolidaridad(idNodo: $idNodo, nuevoEstado:$nuevoEstado){\r\n              id\r\n              publicitado\r\n            }\r\n          } \r\n        `,\r\n        variables:{\r\n          idNodo:this.esteNodo.id,\r\n          nuevoEstado\r\n        }\r\n      }).then(()=>{\r\n        this.settingPublicitado=false;\r\n      }).catch((error)=>{\r\n        console.log(`Error: ${error}`);\r\n        this.settingPublicitado=false;        \r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    siendoArrastrado() {\r\n      return this.nodoSiendoArrastrado === this.esteNodo.id;\r\n    },\r\n    estiloRecibiendoArrastrado() {\r\n      if (this.recibiendoArrastradoEn === \"antes\") {\r\n        return {\r\n          borderTop: \"2px solid black\",\r\n        };\r\n      } else if (this.recibiendoArrastradoEn === \"despues\") {\r\n        return {\r\n          borderBottom: \"2px solid black\",\r\n        };\r\n      } else if (this.recibiendoArrastradoEn === \"dentro\") {\r\n        return {\r\n          border: \"2px solid black\",\r\n        };\r\n      }\r\n      return {};\r\n    },\r\n    colorBarraSuperior() {\r\n      var backgroundColor = \"transparent\";\r\n      if (this.seleccionado) {\r\n        backgroundColor = \"var(--atlasNaranja)\";\r\n      } else if (this.underNodoSeleccionado) {\r\n        backgroundColor = \"#ef72299c\";\r\n      }\r\n      return { backgroundColor };\r\n    },\r\n    seleccionado() {\r\n      return (\r\n        this.idNodoSeleccionado && this.esteNodo.id === this.idNodoSeleccionado\r\n      );\r\n    },\r\n    visible() {\r\n      var visto =\r\n        this.esteNodo.estadoDesarrollo != \"completado\" || this.verCompletados;\r\n\r\n      return visto;\r\n    },\r\n    children() {\r\n      const item = this.indiceNodosUnder[this.esteNodo.id];\r\n      if (!item) {\r\n        return [];\r\n      }\r\n      return item.nodosChildren || [];\r\n    },\r\n    requeridos() {\r\n      const item = this.indiceNodosUnder[this.esteNodo.id];\r\n      if (!item) {\r\n        return [];\r\n      }\r\n\r\n      return item.nodosRequeridos || [];\r\n    },\r\n  },\r\n  watch: {\r\n    seleccionado(seleccionado) {\r\n      if (!seleccionado) {\r\n        this.editandoNombre = false;\r\n      }\r\n    },\r\n\r\n    mostrandoNodosUnder(mostrando) {\r\n      if (mostrando) {\r\n        this.$emit(\r\n          \"nodosRenderizados\",\r\n          this.esteNodo.vinculos.map((v) => v.idRef)\r\n        );\r\n      }\r\n    },\r\n    nodoSiendoArrastrado(nodo) {\r\n      if (!nodo) {\r\n        this.recibiendoArrastradoEn = null;\r\n      }\r\n    },\r\n    creandoEvento(creando) {\r\n      if (creando) {\r\n        this.$refs.calendario.eventoSiendoCreado = {\r\n          idParent: this.esteNodo.id,\r\n          tipoParent: \"nodoSolidaridad\",\r\n          tipoEvento: \"eventoPersonal\",\r\n        };\r\n      } else {\r\n        this.$refs.calendario.eventoSiendoCreado = null;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.montado = true;\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n@import \"../estilosNodoSolidaridad.css\";\r\n</style>\r\n<style scoped>\r\n.nodoVistaLista {\r\n  position: relative;\r\n  user-select: none;\r\n}\r\n.nodoVistaLista:hover {\r\n  z-index: 1;\r\n}\r\n#barraSuperior {\r\n  cursor: pointer;\r\n  padding: 3px 0px;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 1;\r\n  min-height: 45px;\r\n}\r\n#barraSuperior #contenedorBotonesBarraSuperior {\r\n  visibility: hidden;\r\n}\r\n#barraSuperior:hover #contenedorBotonesBarraSuperior {\r\n  visibility: visible;\r\n}\r\n\r\n#botonAbrirBotonesBarraSuperior {\r\n  display: none;\r\n}\r\n#zonaIconoNodo {\r\n  padding: 0px 10px;\r\n  padding-right: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#trianguloAbrirChildren {\r\n  display: block;\r\n  border-left-color: rgb(48, 48, 48);\r\n}\r\n#trianguloAbrirChildren.waitingFetchChildren {\r\n  opacity: 0.6;\r\n}\r\n.iconoTipoNodo {\r\n  width: 20px;\r\n  height: 20px;\r\n  filter: inherit;\r\n}\r\n#contenedorBotonesBarraSuperior {\r\n  display: flex;\r\n  margin-left: auto;\r\n  flex-shrink: 0;\r\n  flex-wrap: wrap;\r\n}\r\n.contenedorBotones {\r\n  margin: 0px 14px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n#botonesAccionesNodo {\r\n  display: flex;\r\n  position: relative;\r\n}\r\n#contenedorOpcionesCrear {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-radius: 4px;\r\n  padding: 0px 4px;\r\n  margin-left: 3px;\r\n  flex-wrap: wrap;\r\n}\r\n.opcionCrear {\r\n  cursor: pointer;\r\n  display: block;\r\n  margin: 0px 3px;\r\n}\r\n#contenedorBotonesSelectoresContenidoNodo > .botonBarraSuperior {\r\n  border-width: 1px;\r\n  border-style: solid;\r\n}\r\n.botonBarraSuperior.mostrando {\r\n  border-color: white;\r\n}\r\n.botonBarraSuperior:not(.mostrando) {\r\n  border-color: transparent;\r\n}\r\n.botonBarraSuperior {\r\n  width: 19px;\r\n  height: 19px;\r\n  margin-left: 10px;\r\n}\r\n.botonSelectorContenidoNodo {\r\n  padding: 2px;\r\n}\r\n\r\n.zonaPrimerNivel {\r\n  border: 1px solid white;\r\n  border-radius: 20px;\r\n  background-color: rgba(255, 255, 255, 0.342);\r\n  padding: 20px;\r\n  margin: 0px 10px;\r\n}\r\n.contenedorBotonesCampo {\r\n  margin: 5px auto;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.botonGuardarCampo {\r\n  width: 15px;\r\n  cursor: pointer;\r\n  margin: 0px 5px;\r\n  opacity: 0.8;\r\n}\r\n\r\n#zonaResponsables {\r\n  padding: 20px 0px;\r\n}\r\n#zonaRecursosExternos {\r\n  padding: 0px;\r\n  border-radius: 0px;\r\n}\r\n.contenedorBotonesZona {\r\n  display: flex;\r\n  padding: 5px;\r\n}\r\n.botonControlZona {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  margin: 0px 5px;\r\n}\r\n#listaResponsables {\r\n  margin-top: 10px;\r\n}\r\n#elNombre {\r\n  max-width: 70%;\r\n  font-size: max(12px, 0.8vw);\r\n}\r\n.iconoPersonaAutonomo {\r\n  position: relative;\r\n  margin: 0px 15px;\r\n}\r\n\r\n#inputNuevoDescripcion {\r\n  display: block;\r\n  resize: vertical;\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  background-color: transparent;\r\n}\r\n#sublista {\r\n  padding-left: 21px;\r\n  position: relative;\r\n}\r\n#lineaLista {\r\n  width: 1px;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 20px;\r\n  background-color: rgba(70, 70, 70, 0.685);\r\n}\r\n#lineaFinal {\r\n  width: 40%;\r\n  height: 1px;\r\n  background-color: rgba(70, 70, 70, 0.685);\r\n  position: relative;\r\n  left: -1px;\r\n}\r\n.calendario {\r\n  width: 100%;\r\n}\r\n@media only screen and (max-width: 1300px) {\r\n  .elementoLista.mostrandoBotonesBarraSuperior {\r\n    background-color: rgba(128, 128, 128, 0.233);\r\n  }\r\n  .nodoVistaLista {\r\n    font-size: 12px;\r\n  }\r\n  #barraSuperior {\r\n    flex-wrap: wrap;\r\n    position: relative;\r\n  }\r\n  #barraSuperior.mostrandoBotonesBarraSuperior {\r\n    background-color: rgba(128, 128, 128, 0.144);\r\n  }\r\n\r\n  .iconoTipoNodo {\r\n    width: min(4vw, 22px);\r\n    height: min(4vw, 22px);\r\n  }\r\n\r\n  #elNombre {\r\n    max-width: 70%;\r\n    font-size: 14px;\r\n  }\r\n  #barraSuperior #contenedorBotonesBarraSuperior {\r\n    visibility: visible;\r\n    width: 100%;\r\n    padding-top: 10px;\r\n  }\r\n  #contenedorBotonesBarraSuperior:not(.mostrandoBotonesBarraSuperior) {\r\n    display: none;\r\n  }\r\n  .contenedorBotones {\r\n    width: 30px;\r\n    flex-direction: column;\r\n  }\r\n  #contenedorBotonesSelectoresContenidoNodo {\r\n    margin-left: 26px;\r\n  }\r\n  #contenedorOpcionesCrear {\r\n    width: 100%;\r\n    margin: 0px;\r\n    margin-left: 0px;\r\n    border-color: transparent;\r\n    padding: 2px 0px;\r\n  }\r\n  #botonesEliminarNodo {\r\n    margin-left: auto;\r\n  }\r\n  .botonBarraSuperior {\r\n    width: 25px;\r\n    height: 25px;\r\n    margin: 10px 0px;\r\n  }\r\n  .botonSelectorContenidoNodo {\r\n    padding: 4px;\r\n  }\r\n  #botonAbrirBotonesBarraSuperior {\r\n    width: 25px;\r\n    height: 25px;\r\n\r\n    cursor: pointer;\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: 10px;\r\n    transition: transform 0.1s;\r\n  }\r\n  .botonControlZona {\r\n    width: 22px;\r\n    height: 22px;\r\n  }\r\n}\r\n\r\n@media (hover: none) and (pointer: coarse) {\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoVistaLista.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoVistaLista.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodoVistaLista.vue?vue&type=template&id=4c5f3b9a&scoped=true&\"\nimport script from \"./NodoVistaLista.vue?vue&type=script&lang=js&\"\nexport * from \"./NodoVistaLista.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NodoVistaLista.vue?vue&type=style&index=0&id=4c5f3b9a&scoped=true&lang=css&\"\nimport style1 from \"./NodoVistaLista.vue?vue&type=style&index=1&id=4c5f3b9a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c5f3b9a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    id=\"listaNodos\"\r\n    @mousedown.stop=\"\"\r\n    @touchmove.stop=\"\"\r\n    @touchstart.stop=\"\"\r\n    @touchend.stop=\"\"\r\n    @mouseleave.stop=\"idNodoEnArrastre = null; tipoNodoSourceArrastre=null;\"\r\n    @mouseup.stop=\"idNodoEnArrastre = null; tipoNodoSourceArrastre=null;\"\r\n  >\r\n    <transition-group name=\"unfoldVertical\" tag=\"div\" id=\"laListaNodos\">\r\n      <nodo-vista-lista\r\n        v-for=\"(nodoPrimerNivel, index) of nodosPrimerNivel\"\r\n        ref=\"nodosEnLista\"\r\n        :id=\"'nodoEnLista' + nodoPrimerNivel.id\"\r\n        :key=\"'nodoLista' + nodoPrimerNivel.id\"\r\n        :esteNodo=\"nodoPrimerNivel\"\r\n        :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n        :verCompletados=\"verCompletados\"\r\n        :verAsumidos=\"verAsumidos\"\r\n        :verVacios=\"verVacios\"\r\n        :modoLista=\"modoLista\"\r\n        :indiceNodosUnder=\"indiceNodosUnder\"\r\n        :idsNodosNeedingFetchMore=\"idsNodosNeedingFetchMore\"\r\n        :nodoSiendoArrastrado=\"idNodoEnArrastre\"\r\n        :usuarioResponsableAmplioNodoOver=\"usuarioResponsableAmplioNodoRoot\"\r\n        :idNodoOver=\"idNodoRoot\"\r\n        :tipoNodoOver=\"tipoNodoRoot\"\r\n        :index=\"index\"\r\n        @nodoSeleccionado=\"$emit('nodoSeleccionado', $event)\"\r\n        @nodosRenderizados=\"$emit('nodosRenderizados', $event)\"\r\n        @inicioArrastre=\"iniciarArrastre($event)\"\r\n        @finDeArrastre=\"finalizarArrastre\"\r\n        @toggleContenidoTodos=\"toggleContenidoTodos\"\r\n        @nodoEliminado=\"$emit('nodoEliminado', $event)\"\r\n        @meElimine=\"$emit('nodoEliminado', nodoPrimerNivel.id)\"\r\n        @nodoSolidaridadCreado=\"$emit('nodoSolidaridadCreado', $event)\"\r\n      />\r\n    </transition-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport { fragmentoNodoSolidaridad, fragmentoPersonaAtlas } from \"../frags\";\r\nimport NodoVistaLista from \"./NodoVistaLista.vue\";\r\nexport default {\r\n  components: { NodoVistaLista },\r\n  name: \"ListaNodos\",\r\n  props: {\r\n    usuarioResponsableAmplioNodoRoot: Boolean,\r\n    idNodoSeleccionado: String,\r\n    todosNodos: Array,\r\n    verCompletados: Boolean,\r\n    verAsumidos: Boolean,\r\n    verVacios: Boolean,\r\n    idNodoRoot: String,\r\n    tipoNodoRoot:String,\r\n    nodoRoot:Object,\r\n    indiceNodosUnder: Object,\r\n    modoLista: {\r\n      type: String,\r\n      default: \"todo\",\r\n    },\r\n    idsNodosNeedingFetchMore: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      idNodoEnArrastre: null,\r\n      idNodoSourceArrastre: null,\r\n      tipoNodoSourceArrastre:null,\r\n    };\r\n  },\r\n  methods: {\r\n    guardarChildren(nodo) {\r\n      nodo.children = this.nodosTodos.filter((n) => n.nodoParent === nodo.id);\r\n    },\r\n    desplegarCascadaHaciaNodo(idNodoTarget) {\r\n      this.$refs.nodosEnLista.forEach((nodo) => {\r\n        nodo.desplegarIfTargetUnder(idNodoTarget);\r\n      });\r\n    },\r\n    scrollToNodo(idNodo) {\r\n      const domSeleccionado = document.getElementById(\"nodoEnLista\" + idNodo);\r\n      const topSeleccionado =\r\n        domSeleccionado.getBoundingClientRect().top -\r\n        this.$el.getBoundingClientRect().top;\r\n      this.$el.scrollTop = topSeleccionado;\r\n    },\r\n    centrarEnItem(idNodo) {\r\n      this.desplegarCascadaHaciaNodo(idNodo);\r\n      this.$nextTick(() => {\r\n        this.scrollToNodo(idNodo);\r\n        if (this.idNodoSeleccionado != idNodo) {\r\n          this.$emit(\"nodoSeleccionado\", idNodo);\r\n        }\r\n      });\r\n    },\r\n    iniciarArrastre({ idNodoArrastrado, idNodoSource, tipoNodoSource }) {\r\n      this.idNodoEnArrastre = idNodoArrastrado;\r\n      this.idNodoSourceArrastre = idNodoSource;\r\n      this.tipoNodoSourceArrastre=tipoNodoSource;\r\n    },\r\n    finalizarArrastre({ idNodoTarget, tipoNodoTarget, index }) {\r\n      if (!this.idNodoEnArrastre || !this.tipoNodoSourceArrastre) {\r\n        return;\r\n      }\r\n\r\n      const infoArrastre = {\r\n        idNodoRequerido: this.idNodoEnArrastre,\r\n        idNodoSource: this.idNodoSourceArrastre,\r\n        tipoNodoSource: this.tipoNodoSourceArrastre,\r\n        idNodoTarget,\r\n        tipoNodoTarget,\r\n        index,\r\n      };\r\n      this.idNodoEnArrastre = null;\r\n      this.tipoNodoSourceArrastre=null;\r\n      \r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodoRequerido: ID!\r\n              $idNodoSource: ID!\r\n              $tipoNodoSource: String!\r\n              $idNodoTarget: ID!\r\n              $tipoNodoTarget: String!\r\n              $index: Int\r\n            ) {\r\n              transferirRequerimentoBetweenNodosSolidaridad(\r\n                idNodoRequerido: $idNodoRequerido\r\n                idNodoSource: $idNodoSource\r\n                tipoNodoSource: $tipoNodoSource\r\n                idNodoTarget: $idNodoTarget\r\n                tipoNodoTarget: $tipoNodoTarget\r\n                index: $index\r\n              ) {\r\n                nodosModificados{\r\n                  ...fragNodoSolidaridad                \r\n                }\r\n                usuariosModificados{\r\n                  ...fragPersonaAtlas\r\n                }\r\n              }\r\n            }\r\n            ${fragmentoNodoSolidaridad}\r\n            ${fragmentoPersonaAtlas}\r\n          `,\r\n          variables: infoArrastre,\r\n        })\r\n        .then(() => {\r\n          this.$emit(\"nodoSeleccionado\", infoArrastre.idNodoRequerido);\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n    toggleContenidoTodos({ contenido, estado }) {\r\n      console.log(`Setting en todos ${contenido}. Mostrar: ${estado}`);\r\n      this.$refs.nodosEnLista.forEach((n) =>\r\n        n.globalSetMostrarContenido(contenido, estado)\r\n      );\r\n    },\r\n  },\r\n  computed: {    \r\n    nodosPrimerNivel() {\r\n      var nodosPrimerNivel = this.todosNodos.filter(\r\n        (n) =>\r\n          this.nodoRoot.vinculos.map(v=>v.idRef).includes(n.id)\r\n      ).sort((a, b)=>this.nodoRoot.vinculos.findIndex(v=>v.idRef===a.id) - this.nodoRoot.vinculos.findIndex(v=>v.idRef===b.id));      \r\n      return nodosPrimerNivel;\r\n    },\r\n  },\r\n  watch: {\r\n    idNodoEnArrastre(idNodoEnArrastre) {\r\n      if (!idNodoEnArrastre) {\r\n        this.idNodoSourceArrastre = null;\r\n        this.tipoNodoSourceArrastre=null;\r\n      }\r\n    },\r\n    nodosPrimerNivel(nodos){\r\n      this.$emit(\"nodosRenderizados\", nodos.map(n=>n.id))\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#listaNodos {\r\n  left: 0%;\r\n  position: relative;\r\n  overflow: scroll;\r\n}\r\n#botonAbrir {\r\n  cursor: pointer;\r\n  opacity: 0.5;\r\n}\r\n#botonAbrir:hover {\r\n  opacity: 1;\r\n}\r\n\r\n#activarNodosUsuarioResponsable {\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n#barraConfiguracionListaNodos {\r\n  padding: 3px 10px;\r\n}\r\n.botonConfiguracion {\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  border: 1px solid green;\r\n  background-color: green;\r\n  cursor: pointer;\r\n}\r\n\r\n.unfoldVertical-enter,\r\n.unfoldVertical-leave-to {\r\n  height: 0px;\r\n}\r\n.unfoldVertical-enter-active,\r\n.unfoldVertical-leave-active {\r\n  transition: height 0.1s;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListaNodos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListaNodos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListaNodos.vue?vue&type=template&id=56ca3b09&scoped=true&\"\nimport script from \"./ListaNodos.vue?vue&type=script&lang=js&\"\nexport * from \"./ListaNodos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListaNodos.vue?vue&type=style&index=0&id=56ca3b09&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56ca3b09\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    class=\"ventanaLista\"\r\n    @mouseup.stop=\"\"\r\n    @mousedown.stop=\"\"\r\n    @touchmove.stop=\"\"\r\n    @touchstart.stop=\"\"\r\n    @touchend.stop=\"\"\r\n  >\r\n    <div id=\"barraSuperior\">\r\n      <buscador-nodos :listaIdsNodosRelevantes=\"nodosSolidaridad.map(n=>n.id)\"/>\r\n      <div id=\"bloqueBotonesControl\">\r\n        <div id=\"zonaVerNodos\" class=\"zonaControl\">\r\n          <div\r\n            class=\"botonVerNodos\"\r\n            @click=\"verCompletados = !verCompletados\"\r\n            id=\"botonVerCompletados\"\r\n            :title=\"\r\n              verCompletados\r\n                ? 'Ocultar nodos completados'\r\n                : 'Mostrar nodos completados'\r\n            \"\r\n            :style=\"{\r\n              borderColor: verCompletados ? '#858585' : 'transparent',\r\n              opacity: verCompletados ? 1 : 0.3,\r\n            }\"\r\n          ></div>\r\n        </div>\r\n        <img\r\n          src=\"@/assets/iconos/equis.svg\"\r\n          alt=\"cerrar\"\r\n          title=\"Cerrar ventana de lista\"\r\n          id=\"botonCerrar\"\r\n          v-if=\"cerrable\"\r\n          @click.stop=\"$emit('cerrarme')\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <loading v-show=\"$apollo.queries.nodoRoot.loading || idsNodosNeedingFetchMore.includes(idNodoRoot)\"/>\r\n    <lista-nodos\r\n      :todosNodos=\"nodosSolidaridad\"\r\n      class=\"lista\"\r\n      ref=\"listaNodos\"\r\n      :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n      :verCompletados=\"verCompletados\"\r\n      :modoLista=\"modoLista\"\r\n      :idNodoRoot=\"idNodoRoot\"\r\n      :tipoNodoRoot=\"tipoNodoRoot\"\r\n      :nodoRoot=\"nodoRoot\"\r\n      :idsNodosNeedingFetchMore=\"idsNodosNeedingFetchMore\"\r\n      :indiceNodosUnder=\"indiceNodosUnder\"\r\n      :usuarioResponsableAmplioNodoRoot=\"usuarioResponsableAmplioNodoRoot\"\r\n      @nodoSeleccionado=\"idNodoSeleccionado = $event\"\r\n      @click.native.self=\"idNodoSeleccionado = null\"\r\n      @nodosRenderizados=\"updateInfoNodosEverRendered\"\r\n      @nodoEliminado=\"removeNodoFromNodosSolidaridad($event)\"\r\n      @nodoSolidaridadCreado=\"addNodoToNodosSolidaridad($event)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from '../../utilidades/Loading.vue';\r\nimport { MixinAtlasSolidaridad } from '../MixinAtlasSolidaridad';\r\nimport BuscadorNodos from \"./BuscadorNodos.vue\";\r\nimport ListaNodos from \"./ListaNodos.vue\";\r\n\r\nexport default {\r\n  components: { ListaNodos, BuscadorNodos, Loading },\r\n  name: \"VentanaLista\",\r\n  props: {    \r\n    idNodoRoot: String,\r\n    tipoNodoRoot:String,\r\n    cerrable: Boolean,        \r\n  },  \r\n  mixins:[MixinAtlasSolidaridad],  \r\n  data() {\r\n    return {\r\n      idNodoSeleccionado: null,\r\n      listaSeleccionada: null,\r\n      verCompletados: true,\r\n      modoLista: \"todo\",      \r\n    };\r\n  },\r\n  methods: {\r\n    desplegarCascadaHaciaNodo(idNodo) {\r\n      this.$refs.listaNodos.desplegarCascadaHaciaNodo(idNodo);\r\n    },\r\n    \r\n    updateInfoNodosEverRendered(idsNodosRendered){\r\n      const nuevos=idsNodosRendered.filter(id=>!this.infoNodosEverRendered.map(ner=>ner.id).includes(id));\r\n      const nuevosInfos=nuevos.map(id=>{return {id, tipo:'nodoSolidaridad'}})\r\n      this.infoNodosEverRendered.push(...nuevosInfos)\r\n    },       \r\n  },\r\n  computed: {\r\n    nodoSeleccionado() {\r\n      if (!this.idNodoSeleccionado) return null;\r\n      return this.todosNodos.find((n) => n.id === this.idNodoSeleccionado);\r\n    },\r\n    descendientesNodoSeleccionado() {\r\n      if (!this.nodoSeleccionado) return null;\r\n      const maxNesting = 5;\r\n      var nesting = 0;\r\n      var idNodosCurrentNivel = [this.nodoSeleccionado.id];\r\n      var nodosDescendientes = [];\r\n      while (idNodosCurrentNivel.length > 0 && nesting < maxNesting) {\r\n        console.log(`Descendientes`);\r\n        nesting++;\r\n        let nodosCurrentNivel = this.todosNodos.filter((n) =>\r\n          idNodosCurrentNivel.includes(n.id)\r\n        );\r\n        var requerimentos = [];\r\n        nodosCurrentNivel.forEach((currentNodo) => {\r\n          currentNodo.vinculos\r\n            .filter((v) => v.tipo === \"requiere\")\r\n            .map((v) => v.idRef)\r\n            .forEach((idV) => {\r\n              let indexV = requerimentos.indexOf(idV);\r\n              if (indexV === -1) {\r\n                requerimentos.push(idV);\r\n              }\r\n            });\r\n        });\r\n        nodosDescendientes = nodosDescendientes.concat(requerimentos);\r\n        idNodosCurrentNivel = requerimentos;\r\n      }\r\n      return nodosDescendientes;\r\n    },   \r\n    usuarioResponsableAmplioNodoRoot(){\r\n      if (!this.usuarioLogeado || !this.usuario || !this.usuario.id || !this.nodoRoot)\r\n        return false;\r\n      return (\r\n        this.nodoRoot.responsablesAmplio &&\r\n        this.nodoRoot.responsablesAmplio.includes(this.usuario.id)\r\n      );\r\n    }\r\n  },\r\n  watch:{\r\n    nodoRoot(){\r\n      if(this.nodoRoot){\r\n        var nuevoInfo={\r\n          id:this.nodoRoot.id,\r\n          tipo: this.nodoRoot.__typename.charAt(0).toLowerCase()+ this.nodoRoot.__typename.slice(1)\r\n        }\r\n        this.infoNodosEverRendered.push(nuevoInfo)\r\n      }\r\n    }\r\n  }\r\n  \r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ventanaLista {\r\n  top: 0;\r\n  overflow-y: hidden;\r\n  z-index: 50;\r\n  min-height: 100px;\r\n  min-width: 50%;\r\n  max-height: 100%;\r\n\r\n  font-family: Poppins, Helvetica, Arial, sans-serif;\r\n  display: grid;\r\n  grid-template-rows: auto 1fr;\r\n  row-gap: 0px;\r\n}\r\n#buscadorNodos {\r\n  z-index: 1;\r\n}\r\n#barraSuperior {\r\n  display: flex;\r\n  padding-top: 20px;\r\n  box-sizing: border-box;\r\n  align-items:flex-start;\r\n  min-height: 60px;\r\n}\r\n#bloqueBotonesControl{\r\n  margin-left: auto;\r\n  margin-top: 0px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#botonCerrar {\r\n  margin-right: 15px;\r\n  margin-left: 5px;\r\n  opacity: 0.7;\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n#botonCerrar:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.zonaControl {\r\n  margin-right: 5px;\r\n  padding: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.botonVerNodos {\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  margin: 0px 10px;\r\n  cursor: pointer;\r\n  border-style: solid;\r\n  border-width: 1px;\r\n}\r\n\r\n#botonVerCompletados {\r\n  background-color: var(--atlasVerde);\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventanaLista.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventanaLista.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ventanaLista.vue?vue&type=template&id=c163ef22&scoped=true&\"\nimport script from \"./ventanaLista.vue?vue&type=script&lang=js&\"\nexport * from \"./ventanaLista.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ventanaLista.vue?vue&type=style&index=0&id=c163ef22&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c163ef22\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"perfilPersonal\" v-if=\"usuarioLogeado\">\r\n    <loading texto=\"Cargando\" v-show=\"$apollo.queries.esteUsuario.loading\" />\r\n    <div id=\"zonaSelectores\" class=\"contenedorControles\">\r\n      <div\r\n        class=\"boton\"\r\n        title=\"Información personal\"\r\n        @click=\"seccion = 'informacionPersonal'\"\r\n      >\r\n        <img src=\"@/assets/iconos/info.svg\" alt=\"Informacion\" />\r\n      </div>\r\n      <div\r\n        class=\"boton\"\r\n        title=\"Cambiar contraseña\"\r\n        @click=\"seccion = 'cambiarPass'\"\r\n      >\r\n        <img src=\"@/assets/iconos/key.svg\" alt=\"Pass\" />\r\n      </div>\r\n      <div\r\n        class=\"boton\"\r\n        title=\"Mis objetivos y trabajos\"\r\n        @click=\"seccion = 'misNodos'\"\r\n      >\r\n        <img src=\"@/assets/iconos/starSolid.svg\" alt=\"Estrella\" />\r\n      </div>\r\n      <div class=\"boton\" title=\"Mi calendario\" @click=\"seccion = 'calendario'\">\r\n        <img src=\"@/assets/iconos/calendar.svg\" alt=\"Calendario\" />\r\n      </div>\r\n    </div>\r\n    <div id=\"contenido\" v-if=\"!$apollo.queries.esteUsuario.loading\">\r\n      <div\r\n        id=\"zonaInformacionPersonal\"\r\n        v-show=\"seccion === 'informacionPersonal'\"\r\n      >\r\n        <div id=\"fotografia\" @click=\"$refs.inputFotoUsuario.click()\">\r\n          <img\r\n            :src=\"this.serverUrl + '/api/usuarios/fotografias/' + usuario.id+'?v='+versionFoto\"\r\n            alt=\"Fotografía\"\r\n          />\r\n          <input\r\n            type=\"file\"\r\n            ref=\"inputFotoUsuario\"\r\n            v-show=\"false\"\r\n            @change=\"uploadNuevaFoto\"\r\n          />\r\n        </div>\r\n        <div id=\"zonaCamposEditablesInformacionPersonal\">\r\n          <div\r\n            class=\"informacionPersonal\"\r\n            id=\"nombres\"\r\n            style=\"align-self: center\"\r\n          >\r\n            {{ esteUsuario.nombres }}\r\n          </div>\r\n          <div\r\n            class=\"informacionPersonal\"\r\n            id=\"apellidos\"\r\n            style=\"align-self: center\"\r\n          >\r\n            {{ esteUsuario.apellidos }}\r\n          </div>\r\n          <div class=\"informacionPersonal\" id=\"email\">\r\n            <img\r\n              src=\"@/assets/iconos/envelope.svg\"\r\n              alt=\"Mail\"\r\n              class=\"iconoInformacionPersonal\"\r\n              title=\"Correo electrónico\"\r\n            />\r\n            <span> {{ esteUsuario.email }}</span>\r\n          </div>\r\n          <img\r\n            src=\"@/assets/iconos/whatsapp.svg\"\r\n            alt=\"Mail\"\r\n            class=\"iconoInformacionPersonal\"\r\n            title=\"Añdir un número móvil\"\r\n          />\r\n          <div\r\n            class=\"informacionPersonal numeroMovil\"\r\n            v-for=\"numeroMovil of esteUsuario.numerosMovil\"\r\n            :key=\"numeroMovil.id\"\r\n          >\r\n            <span>\r\n              {{ esteUsuario.numeroMovil }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"zonaCambiarPass\" v-show=\"seccion === 'cambiarPass'\">\r\n        <div class=\"tituloSeccion\">Cambio de contraseña</div>\r\n        <input\r\n          v-model=\"inputCurrentPass\"\r\n          placeholder=\"Contraseña actual\"\r\n          type=\"password\"\r\n          id=\"inputCurrentPass\"\r\n          class=\"inputCambiarPass\"\r\n        />\r\n        <div\r\n          id=\"instruccionesNuevoPass\"\r\n          v-show=\"newPassIlegal && !inputCurrentPassIlegal\"\r\n        >\r\n          La contraseña debe tener al menos 8 caracteres y no contener espacios.\r\n        </div>\r\n        <input\r\n          v-model=\"newPass\"\r\n          v-show=\"!inputCurrentPassIlegal\"\r\n          placeholder=\"Nueva contraseña\"\r\n          type=\"password\"\r\n          id=\"inputNuevoPass\"\r\n          class=\"inputCambiarPass\"\r\n          :class=\"{ aprobado: !newPassIlegal }\"\r\n        />\r\n        <input\r\n          :disabled=\"newPassIlegal\"\r\n          v-model=\"newPass2\"\r\n          v-show=\"!newPassIlegal\"\r\n          placeholder=\"Nueva contraseña (Otra vez)\"\r\n          type=\"password\"\r\n          id=\"inputNuevoPass2\"\r\n          class=\"inputCambiarPass\"\r\n          :class=\"{ aprobado: !newPassIlegal && !newPass2Ilegal }\"\r\n          @keypress.enter=\"enviarCambioPass\"\r\n        />\r\n\r\n        <div\r\n          id=\"botonEnviarNuevoPass\"\r\n          @click=\"enviarCambioPass\"\r\n          :class=\"{\r\n            deshabilitado:\r\n              newPassIlegal || newPass2Ilegal || enviandoCambioPass,\r\n          }\"\r\n        >\r\n          <span> Enviar</span><loading texto=\"\" v-show=\"enviandoCambioPass\" />\r\n        </div>\r\n\r\n        <div id=\"textoResultadoCambioPass\">\r\n          {{ textoResultadoCambioPass }}\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"zonaMisNodos\" v-show=\"seccion === 'misNodos'\">\r\n        <div class=\"barraSuperiorGeneral\">\r\n          <div class=\"tituloBloque\">Mis Nodos</div>\r\n          <div class=\"controlesBloque\" id=\"controlesRecursosExternos\">\r\n            <div\r\n              class=\"botonBarraSuperiorGeneral\"\r\n              @click=\"mostrandoOpcionesCrearSubNodo = true\"\r\n              v-show=\"!mostrandoOpcionesCrearSubNodo\"\r\n            >\r\n              <img\r\n                src=\"@/assets/iconos/plusCircle.svg\"\r\n                alt=\"Nuevo\"\r\n                title=\"Crear nuevo nodo\"\r\n                :class=\"{ deshabilitado: creandoSubNodo }\"\r\n              />\r\n              <loading texto=\"\" v-show=\"creandoSubNodo\" />\r\n            </div>\r\n            <div\r\n              id=\"contenedorOpcionesCrear\"\r\n              v-show=\"mostrandoOpcionesCrearSubNodo\"\r\n              :class=\"{ deshabilitado: creandoSubNodo }\"\r\n            >\r\n              <img\r\n                src=\"@/assets/iconos/starSolid.svg\"\r\n                alt=\"Objetivo\"\r\n                title=\"Crear nuevo objetivo\"\r\n                class=\"botonBarraSuperiorGeneral opcionCrear\"\r\n                @click=\"crearNuevoNodoUnder({ tipoNodo: 'objetivo' })\"\r\n              />\r\n              <img\r\n                src=\"@/assets/iconos/cog.svg\"\r\n                alt=\"Trabajo\"\r\n                title=\"Crear nuevo trabajo\"\r\n                class=\"botonBarraSuperiorGeneral opcionCrear\"\r\n                @click=\"crearNuevoNodoUnder({ tipoNodo: 'trabajo' })\"\r\n              />\r\n              <loading texto=\"\" v-show=\"creandoSubNodo\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ventana-lista\r\n          ref=\"ventanaLista\"\r\n          :idNodoRoot=\"usuario.id\"\r\n          tipoNodoRoot=\"usuario\"\r\n        />\r\n      </div>\r\n\r\n      <div id=\"zonaCalendario\" v-if=\"seccion === 'calendario'\">\r\n        <calendario\r\n          v-if=\"usuarioLogeado\"\r\n          :enfasis=\"'eventosPersonales'\"\r\n          :idUsuarioTarget=\"this.usuario.id\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  minLengthPassword,\r\n  maxLengthPassword,\r\n  charProhibidosPassword,\r\n} from \"./configuracion\";\r\nimport axios from \"axios\";\r\nimport gql from \"graphql-tag\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport VentanaLista from \"../atlasSolidaridad/ventanaLista/ventanaLista.vue\";\r\nimport {\r\n  fragmentoNodoSolidaridad,\r\n  fragmentoPersonaAtlas,\r\n} from \"../atlasSolidaridad/frags\";\r\nimport Calendario from \"../utilidades/Calendario.vue\";\r\nexport default {\r\n  components: { Loading, VentanaLista, Calendario },\r\n  name: \"PerfilPersonal\",\r\n  apollo: {\r\n    esteUsuario: {\r\n      query: gql`\r\n        query {\r\n          yo {\r\n            nombres\r\n            apellidos\r\n            username\r\n            email\r\n            numeroTel\r\n          }\r\n        }\r\n      `,\r\n      update({ yo }) {\r\n        return yo;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      seccion: \"informacionPersonal\",\r\n      esteUsuario: {\r\n        permisos: [],\r\n        id: null,\r\n      },\r\n\r\n      inputCurrentPass: null,\r\n      newPass: null,\r\n      newPass2: null,\r\n      enviandoCambioPass: false,\r\n\r\n      textoResultadoCambioPass: null,\r\n\r\n      mostrandoOpcionesCrearSubNodo: false,\r\n      creandoSubNodo: false,\r\n      versionFoto:0,\r\n    };\r\n  },\r\n  computed: {\r\n    inputCurrentPassIlegal() {\r\n      return (\r\n        !this.inputCurrentPass ||\r\n        this.inputCurrentPass.length < minLengthPassword\r\n      );\r\n    },\r\n    newPassIlegal() {\r\n      if (\r\n        !this.newPass ||\r\n        this.newPass.length < minLengthPassword ||\r\n        this.newPass.length > maxLengthPassword ||\r\n        charProhibidosPassword.test(this.newPass)\r\n      ) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    },\r\n    newPass2Ilegal() {\r\n      if (!this.newPass2 || !this.newPass || this.newPass != this.newPass2) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    enviarCambioPass() {\r\n      if (this.newPassIlegal || this.newPass2Ilegal) {\r\n        return;\r\n      }\r\n      this.textoResultadoCambioPass = null;\r\n\r\n      if (this.newPass === this.inputCurrentPass) {\r\n        return;\r\n      }\r\n\r\n      this.enviandoCambioPass = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($dizqueCurrentPassword: String!, $newPassword: String!) {\r\n              cambiarPassword(\r\n                dizqueCurrentPassword: $dizqueCurrentPassword\r\n                newPassword: $newPassword\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            dizqueCurrentPassword: this.inputCurrentPass,\r\n            newPassword: this.newPass,\r\n          },\r\n        })\r\n        .then(({ data: { cambiarPassword } }) => {\r\n          if (cambiarPassword) {\r\n            alert(\"Contraseña cambiada\");\r\n          }\r\n          this.enviandoCambioPass = false;\r\n          this.inputCurrentPass = null;\r\n          this.newPass = null;\r\n          this.newPass2 = null;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error cambiando pass: ${error}`);\r\n          this.enviandoCambioPass = false;\r\n          this.textoResultadoCambioPass = \"Error\";\r\n        });\r\n    },\r\n    afterCrearNodoUnder(nuevoNodo) {\r\n      this.$refs.ventanaLista.addNodoToNodosSolidaridad(nuevoNodo);\r\n    },\r\n    crearNuevoNodoUnder(infoNodo) {\r\n      console.log(`Creando nodo under yo`);\r\n      this.creandoSubNodo = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $infoNodo: NodoSolidaridadInput!\r\n              $idNodoParent: ID!\r\n              $tipoParent: String!\r\n            ) {\r\n              crearNuevoNodoSolidaridadUnderNodo(\r\n                infoNodo: $infoNodo\r\n                idNodoParent: $idNodoParent\r\n                tipoParent: $tipoParent\r\n              ) {\r\n                nuevoNodo {\r\n                  ...fragNodoSolidaridad\r\n                }\r\n                nodosModificados {\r\n                  ...fragNodoSolidaridad\r\n                }\r\n                usuariosModificados {\r\n                  ...fragPersonaAtlas\r\n                }\r\n              }\r\n            }\r\n            ${fragmentoNodoSolidaridad}\r\n            ${fragmentoPersonaAtlas}\r\n          `,\r\n          variables: {\r\n            infoNodo,\r\n            idNodoParent: this.usuario.id,\r\n            tipoParent: \"usuario\",\r\n          },\r\n        })\r\n        .then(({ data: { crearNuevoNodoSolidaridadUnderNodo } }) => {\r\n          this.creandoSubNodo = false;\r\n          this.afterCrearNodoUnder(\r\n            crearNuevoNodoSolidaridadUnderNodo.nuevoNodo\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          this.creandoSubNodo = false;\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n    uploadNuevaFoto(e) {\r\n      console.log(`Uploading foto`);\r\n      const inputArchivo = e.target;\r\n      var datos = new FormData();\r\n      const nuevoArchivo = inputArchivo.files[0];\r\n\r\n      datos.append(\"nuevaFoto\", nuevoArchivo);\r\n      this.subiendoNuevaFoto = true;\r\n      axios({\r\n        method: \"post\",\r\n        url: this.serverUrl + \"/api/usuarios/updateFoto\",\r\n        data: datos,\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: \"Bearer \" + this.$store.state.token,\r\n        },\r\n      })\r\n        .then(({ data: { resultado } }) => {\r\n          this.subiendoNuevaFoto = false;          \r\n          if(resultado){\r\n            console.log(`Foto actualizada`);\r\n            this.versionFoto++;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.subiendoNuevaFoto = false;          \r\n          console.log(`Error subiendo archivo. E: ${error}`);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.perfilPersonal {\r\n}\r\n\r\n#contenido {\r\n  width: 100%;\r\n}\r\n#zonaInformacionPersonal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n#fotografia {\r\n  width: 200px;\r\n  height: 200px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  margin: 8vh 0px;\r\n  margin-bottom: 2vh;\r\n}\r\n#fotografia img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#apellidos {\r\n  margin-bottom: 30px;\r\n}\r\n#zonaCamposEditablesInformacionPersonal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: min(300px, 90vw);\r\n}\r\n.informacionPersonal {\r\n  margin: 10px 0px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#nombres {\r\n  margin-bottom: 0px;\r\n}\r\n.iconoInformacionPersonal {\r\n  width: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n#zonaSelectores .boton {\r\n  margin: 0px min(10px, 2%);\r\n}\r\n\r\n.tituloSeccion {\r\n  font-size: 22px;\r\n  text-align: center;\r\n  margin-bottom: 8vh;\r\n}\r\n\r\n#zonaCambiarPass {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 5vh;\r\n}\r\n#instruccionesNuevoPass {\r\n  font-size: 11px;\r\n  font-style: italic;\r\n  color: rgb(78, 78, 78);\r\n  text-align: center;\r\n}\r\n.inputCambiarPass {\r\n  margin: 15px auto;\r\n  font-size: 20px;\r\n  width: min(300px, 90%);\r\n  font-family: Poppins, Helvetica, Arial, sans-serif;\r\n  border-radius: 7px;\r\n  padding: 3px 10px;\r\n}\r\n.inputCambiarPass.aprobado {\r\n  border-color: var(--mainColorLight);\r\n  border-style: solid;\r\n  background-color: #6da83236;\r\n}\r\n.inputCambiarPass.aprobado:active {\r\n  border-color: var(--mainColorDark) !important;\r\n}\r\n#inputCurrentPass {\r\n  margin-bottom: 50px;\r\n}\r\n#textoResultadoCambioPass {\r\n  font-size: 13px;\r\n  font-style: italic;\r\n  text-align: center;\r\n}\r\n#botonEnviarNuevoPass {\r\n  border-radius: 30px;\r\n  height: 60px;\r\n  width: 200px;\r\n  background-color: var(--mainColorLight);\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 60px auto;\r\n  color: whitesmoke;\r\n}\r\n#botonEnviarNuevoPass:hover {\r\n  background-color: var(--mainColorDark);\r\n}\r\n\r\n#zonaMisNodos {\r\n  width: min(900px, 90%);\r\n  margin: 10px auto;\r\n}\r\n.tituloBloque {\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n}\r\n.barraSuperiorGeneral {\r\n  height: 30px;\r\n  display: flex;\r\n  padding: 5px 20px;\r\n}\r\n.botonBarraSuperiorGeneral {\r\n  opacity: 0.7;\r\n  height: 15px;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  cursor: pointer;\r\n}\r\n.botonBarraSuperiorGeneral:hover {\r\n  opacity: 1;\r\n}\r\n.botonBarraSuperiorGeneral img {\r\n  height: 100%;\r\n}\r\n.opcionCrear {\r\n  margin: 0px 5px;\r\n}\r\n.controlesBloque {\r\n  margin-left: auto;\r\n  display: flex;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerfilPersonal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerfilPersonal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PerfilPersonal.vue?vue&type=template&id=271cf279&scoped=true&\"\nimport script from \"./PerfilPersonal.vue?vue&type=script&lang=js&\"\nexport * from \"./PerfilPersonal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PerfilPersonal.vue?vue&type=style&index=0&id=271cf279&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"271cf279\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"visorNodoConocimiento\"},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.esteNodo.loading),expression:\"$apollo.queries.esteNodo.loading\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$apollo.queries.esteNodo.loading),expression:\"!$apollo.queries.esteNodo.loading\"}],attrs:{\"id\":\"zonaTitulo\"}},[_vm._m(0),_c('div',{attrs:{\"id\":\"zonaNombre\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],attrs:{\"id\":\"nombre\"},on:{\"click\":_vm.iniciarEdicionNombre}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.nombre)+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNombreCosa\",staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"text\",\"id\":\"inputNuevoNombre\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"blur\":_vm.guardarNuevoNombre}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$apollo.queries.esteNodo.loading),expression:\"!$apollo.queries.esteNodo.loading\"}],attrs:{\"id\":\"zonaSelectoresContenido\"}},[_c('div',{staticClass:\"boton selectorContenido selector\",class:{ activo: _vm.mostrandoContenido === 'estudiar' },attrs:{\"title\":_vm.mostrandoContenido != 'estudiar' ? 'Mostrar contenido' : ''},on:{\"click\":function($event){_vm.mostrandoContenido = 'estudiar'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/readme.svg\"),\"alt\":\"Readme\"}})]),_c('div',{staticClass:\"boton selectorContenido selector\",class:{ activo: _vm.mostrandoContenido === 'expertos' },attrs:{\"title\":_vm.mostrandoContenido != 'expertos' ? 'Mostrar expertos' : ''},on:{\"click\":function($event){_vm.mostrandoContenido = 'expertos'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/teacher.svg\"),\"alt\":\"Teacher\"}})]),_c('div',{staticClass:\"boton selectorContenido selector\",class:{ activo: _vm.mostrandoContenido === 'foros' },attrs:{\"title\":_vm.mostrandoContenido != 'foros' ? 'Mostrar foros' : ''},on:{\"click\":function($event){_vm.mostrandoContenido = 'foros'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/comments.svg\"),\"alt\":\"Readme\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$apollo.queries.esteNodo.loading),expression:\"!$apollo.queries.esteNodo.loading\"}],attrs:{\"id\":\"zonaContenidos\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoContenido === 'estudiar'),expression:\"mostrandoContenido === 'estudiar'\"}],attrs:{\"id\":\"zonaSecciones\"}},[_c('div',{attrs:{\"id\":\"zonaTituloSeccion\"}},[_c('div',{attrs:{\"id\":\"nombreSeccionSeleccionada\"},on:{\"click\":function($event){_vm.mostrandoMenuSecciones = true}}},[_vm._v(\" \"+_vm._s(_vm.seccionSeleccionada ? _vm.seccionSeleccionada.nombre : \"Descripción\")+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoMenuSecciones),expression:\"mostrandoMenuSecciones\"}],attrs:{\"id\":\"contenedorSelectoresSeccion\"},on:{\"click\":function($event){_vm.mostrandoMenuSecciones = false}}},[_c('div',{staticClass:\"contenedorControles\"},[(_vm.usuarioExperto)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.creandoNuevaSeccion),expression:\"!creandoNuevaSeccion\"}],staticClass:\"boton\",attrs:{\"title\":\"Crear nueva sección\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevaSeccion($event)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Plus\"}})]):_vm._e(),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoNuevaSeccion),expression:\"creandoNuevaSeccion\"}],attrs:{\"text\":\"\"}})],1),_c('div',{staticClass:\"selectorSeccion\",on:{\"click\":function($event){_vm.mostrandoSeccion = null}}},[_vm._v(\" Descripcion \")]),_vm._l((_vm.esteNodo.secciones),function(seccion){return _c('div',{key:seccion.id,staticClass:\"selectorSeccion\",on:{\"click\":function($event){_vm.mostrandoSeccion = seccion.id}}},[_c('div',{staticClass:\"nombreSeccionSelector\"},[_vm._v(\" \"+_vm._s(seccion.nombre)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioExperto),expression:\"usuarioExperto\"}],staticClass:\"boton\",attrs:{\"title\":\"Eliminar\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarSeccion(seccion.id)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Eliminar\"}})])])})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.seccionSeleccionada && !_vm.mostrandoMenuSecciones),expression:\"!seccionSeleccionada && !mostrandoMenuSecciones\"}],attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"descripcion\"},on:{\"click\":_vm.toggleEditandoDescripcion}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",staticClass:\"inputTextoNodo\",attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}}),_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionDescripcion\"},on:{\"click\":function($event){_vm.editandoDescripcion = false}}})])]),(_vm.esteNodo.id && _vm.seccionSeleccionada)?_c('seccion-nodo-conocimiento',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seccionSeleccionada && !_vm.mostrandoMenuSecciones),expression:\"seccionSeleccionada && !mostrandoMenuSecciones\"}],key:_vm.seccionSeleccionada.id,attrs:{\"idNodo\":_vm.esteNodo.id,\"estaSeccion\":_vm.seccionSeleccionada,\"usuarioExperto\":_vm.usuarioExperto},on:{\"subiArchivo\":function($event){return _vm.addArchivoSeccionCache($event, _vm.seccionSeleccionada.id)},\"archivoEliminado\":function($event){return _vm.deleteArchivoSeccionCache($event, _vm.seccionSeleccionada.id)},\"tengoNuevoPrimario\":function($event){return _vm.setPrimarioSeccionCache($event, _vm.seccionSeleccionada.id)}}}):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoContenido === 'expertos'),expression:\"mostrandoContenido === 'expertos'\"}],attrs:{\"id\":\"zonaExpertos\"}},[_c('div',{staticClass:\"contenedorControles\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            !_vm.enviandoQueryExpertos &&\n            !_vm.idExpertoSeleccionado &&\n            !_vm.usuarioExperto\n          ),expression:\"\\n            !enviandoQueryExpertos &&\\n            !idExpertoSeleccionado &&\\n            !usuarioExperto\\n          \"}],staticClass:\"boton\",attrs:{\"title\":_vm.esteNodo.expertos.length < 1\n              ? 'Asumir'\n              : 'Quiero aportar como experto en este tema'},on:{\"click\":function($event){return _vm.intentarEntrarExpertos(_vm.usuario.id)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/mas.svg\"),\"alt\":\"Mas\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            !_vm.enviandoQueryExpertos &&\n            _vm.idExpertoSeleccionado &&\n            ((_vm.esteNodo.posiblesExpertos.includes(_vm.idExpertoSeleccionado) &&\n              _vm.usuarioExperto) ||\n              _vm.usuarioSuperadministrador ||\n              _vm.usuarioAdministradorAtlas)\n          ),expression:\"\\n            !enviandoQueryExpertos &&\\n            idExpertoSeleccionado &&\\n            ((esteNodo.posiblesExpertos.includes(idExpertoSeleccionado) &&\\n              usuarioExperto) ||\\n              usuarioSuperadministrador ||\\n              usuarioAdministradorAtlas)\\n          \"}],staticClass:\"boton\",attrs:{\"title\":\"Aceptar como experto\"},on:{\"click\":function($event){return _vm.intentarEntrarExpertos(_vm.idExpertoSeleccionado)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/handshake.svg\"),\"alt\":\"Handshake\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            !_vm.enviandoQueryExpertos &&\n            !_vm.idExpertoSeleccionado &&\n            (_vm.usuarioExperto ||\n              _vm.esteNodo.posiblesExpertos.includes(_vm.idExpertoSeleccionado))\n          ),expression:\"\\n            !enviandoQueryExpertos &&\\n            !idExpertoSeleccionado &&\\n            (usuarioExperto ||\\n              esteNodo.posiblesExpertos.includes(idExpertoSeleccionado))\\n          \"}],staticClass:\"boton\",attrs:{\"title\":\"abandonar\"},on:{\"click\":function($event){return _vm.abandonarListaExpertos(_vm.usuario.id)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/minus.svg\"),\"alt\":\"Menos\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoQueryExpertos),expression:\"enviandoQueryExpertos\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{attrs:{\"id\":\"listaExpertos\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.idExpertoSeleccionado = null}}},_vm._l((_vm.esteNodo.expertos.concat(\n            _vm.esteNodo.posiblesExpertos\n          )),function(idExperto){return _c('icono-persona-autonomo',{key:idExperto,style:({\n            opacity: _vm.esteNodo.posiblesExpertos.includes(idExperto) ? 0.5 : 1,\n          }),attrs:{\"texto\":\"\",\"seleccionado\":_vm.idExpertoSeleccionado === idExperto,\"factorEscala\":\"0.8\",\"idPersona\":idExperto},nativeOn:{\"click\":function($event){_vm.idExpertoSeleccionado = idExperto}}})}),1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoContenido == 'foros'),expression:\"mostrandoContenido == 'foros'\"}],ref:\"zonaForos\",attrs:{\"id\":\"zonaForos\"}},[(_vm.usuarioExperto)?_c('div',{staticClass:\"nombreForo\"},[_vm._v(\"Foro expertos\")]):_vm._e(),(_vm.usuarioExperto)?_c('foro',{attrs:{\"parent\":_vm.infoAsParent,\"idForo\":_vm.esteNodo.idForoExpertos}}):_vm._e(),(_vm.usuarioExperto)?_c('br'):_vm._e(),_c('div',{staticClass:\"nombreForo\"},[_vm._v(\"Foro público\")]),_c('foro',{attrs:{\"parent\":_vm.infoAsParent,\"idForo\":_vm.esteNodo.idForoPublico}})],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"iconoNodo\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/lightbulb.svg\"),\"alt\":\"Idea\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"seccionNodoConocimiento\"},[_c('div',{staticClass:\"contenedorControles\"},[(_vm.usuarioExperto)?_c('div',{staticClass:\"boton\",on:{\"click\":function($event){_vm.editando = !_vm.editando}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/edit.svg\"),\"alt\":\"Editar\"}})]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editando),expression:\"!editando\"}],key:_vm.versionArchivo,staticClass:\"frontDeSeccion\",attrs:{\"id\":\"zonaFront\"}},[(_vm.estaSeccion.tipoPrimario.substring(0,5)!='image')?_c('iframe',{attrs:{\"id\":\"iframeSeccion\",\"src\":_vm.direccionNodo + '/' + _vm.estaSeccion.id + '/?v=' + _vm.versionArchivo,\"frameborder\":\"0\"}}):_vm._e(),(_vm.estaSeccion.tipoPrimario.substring(0,5)==='image')?_c('img',{attrs:{\"src\":_vm.direccionNodo + '/' + _vm.estaSeccion.id + '/?v=' + _vm.versionArchivo}}):_vm._e()]),(_vm.usuarioExperto)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editando),expression:\"editando\"}],attrs:{\"id\":\"zonaAdministracion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],attrs:{\"id\":\"nombre\"},on:{\"click\":_vm.iniciarEdicionNombre}},[_vm._v(\" \"+_vm._s(_vm.estaSeccion.nombre)+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",class:{deshabilitado: _vm.enviandoNuevoNombre},attrs:{\"type\":\"text\",\"name\":\"\",\"id\":\"inputNuevoNombre\"},domProps:{\"value\":_vm.estaSeccion.nombre},on:{\"blur\":_vm.guardarNuevoNombre,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoNombre($event)}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"\"}}),_c('div',{staticClass:\"contenedorControles\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.subiendoArchivo),expression:\"!subiendoArchivo\"}],staticClass:\"boton\",attrs:{\"title\":\"Subir un archivo\"},on:{\"click\":function($event){return _vm.$refs.inputArchivoContenido.click()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Plus\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.subiendoArchivo),expression:\"subiendoArchivo\"}],attrs:{\"texto\":\"\"}}),_c('div',{staticClass:\"boton\",attrs:{\"title\":_vm.estaSeccion.modo === 'archivo'\n            ? 'Cambiar modo a enlace'\n            : 'Cambiar modo a archivo'}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.estaSeccion.modo === 'archivo'),expression:\"estaSeccion.modo === 'archivo'\"}],attrs:{\"src\":require(\"@/assets/iconos/file.svg\"),\"alt\":\"Archivo\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.estaSeccion.modo === 'enlace'),expression:\"estaSeccion.modo === 'enlace'\"}],attrs:{\"src\":require(\"@/assets/iconos/link.svg\"),\"alt\":\"Archivo\"}})])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.estaSeccion.modo === 'archivo'),expression:\"estaSeccion.modo === 'archivo'\"}],attrs:{\"id\":\"listaArchivos\"}},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"inputArchivoContenido\",staticClass:\"inputArchivoContenido\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.subirArchivoContenido($event)}}}),_vm._l((_vm.archivosOrdenados),function(archivo){return _c('archivo-seccion-nodo',{key:archivo.id,attrs:{\"esteArchivo\":archivo,\"usuarioExperto\":_vm.usuarioExperto,\"idNodo\":_vm.idNodo,\"idSeccion\":_vm.estaSeccion.id},on:{\"meElimine\":function($event){return _vm.$emit('archivoEliminado', archivo.nombre)},\"soyPrimario\":function($event){_vm.$emit('tengoNuevoPrimario', archivo.nombre);\n          _vm.versionArchivo++;}}})})],2)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"archivoSeccionNodo\",class:{deshabilitado: _vm.eliminandose}},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_vm._m(0),_c('div',{attrs:{\"id\":\"nombre\"}},[_vm._v(\" \"+_vm._s(_vm.esteArchivo.nombre)+\" \")]),_c('div',{staticClass:\"contenedorControles\",staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"10px\"}},[_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Eliminar\"},on:{\"click\":_vm.eliminarse}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Basura\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.esteArchivo.primario && !_vm.marcandoPrimario),expression:\"!esteArchivo.primario && !marcandoPrimario\"}],staticClass:\"boton\",on:{\"click\":_vm.marcarPrimario}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/arrowUp.svg\"),\"alt\":\"Subir\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.marcandoPrimario),expression:\"marcandoPrimario\"}],attrs:{\"texto\":\"\"}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"icono\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/file.svg\"),\"alt\":\"Archivo\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"archivoSeccionNodo\" :class=\"{deshabilitado: eliminandose}\">\r\n    <div id=\"barraSuperior\">\r\n      <div id=\"icono\">\r\n        <img src=\"@/assets/iconos/file.svg\" alt=\"Archivo\" />\r\n      </div>\r\n      <div id=\"nombre\">\r\n        {{ esteArchivo.nombre }}\r\n      </div>\r\n\r\n      <div\r\n        class=\"contenedorControles\"\r\n        style=\"margin-left: auto; margin-right: 10px\"\r\n      >\r\n        <div class=\"boton\" title=\"Eliminar\" @click=\"eliminarse\">\r\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Basura\" />\r\n        </div>\r\n        <div class=\"boton\" @click=\"marcarPrimario\" v-show=\"!esteArchivo.primario && !marcandoPrimario\">\r\n          <img src=\"@/assets/iconos/arrowUp.svg\" alt=\"Subir\" />\r\n        </div>\r\n        <loading texto=\"\" v-show=\"marcandoPrimario\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from '../utilidades/Loading.vue';\r\nexport default {\r\n  components: { Loading },\r\n  name: \"ArchivoSeccionNodo\",\r\n  props: {\r\n    esteArchivo: Object,\r\n    usuarioExperto: Boolean,\r\n    idNodo: String,\r\n    idSeccion: String,\r\n  },\r\n  data() {\r\n    return {\r\n      eliminandose: false,\r\n      marcandoPrimario:false,\r\n    };\r\n  },\r\n  methods: {\r\n    eliminarse() {\r\n      if (!this.usuarioExperto) {\r\n        return;\r\n      }\r\n      if (!confirm(\"Borrando archivo ¿Continuar?\")) {\r\n        console.log(`Cancelado`);\r\n        return;\r\n      }\r\n      this.eliminandose = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $idSeccion: ID!, $nombreArchivo: String!) {\r\n              eliminarArchivoSeccionNodo(\r\n                idNodo: $idNodo\r\n                idSeccion: $idSeccion\r\n                nombreArchivo: $nombreArchivo\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n            idSeccion: this.idSeccion,\r\n            nombreArchivo: this.esteArchivo.nombre,\r\n          },\r\n        })\r\n        .then(({ data: { eliminarArchivoSeccionNodo } }) => {\r\n          this.eliminandose = false;\r\n\r\n          if (!eliminarArchivoSeccionNodo) {\r\n            console.log(`Archivo no eliminado`);\r\n            return;\r\n          }\r\n          this.$emit(\"meElimine\");\r\n        })\r\n        .catch((error) => {\r\n          this.eliminandose = false;\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    marcarPrimario(){\r\n      this.marcandoPrimario=true;\r\n      this.$apollo.mutate({\r\n        mutation:gql`\r\n          mutation($idNodo:ID!, $idSeccion: ID!, $nombreArchivo:String!){\r\n            marcarPrimarioArchivoSeccionNodo(idNodo:$idNodo, idSeccion:$idSeccion, nombreArchivo: $nombreArchivo)\r\n          }\r\n        `,\r\n        variables:{\r\n          idNodo: this.idNodo,\r\n          idSeccion:this.idSeccion,\r\n          nombreArchivo:this.esteArchivo.nombre\r\n        }\r\n      }).then(()=>{\r\n        this.marcandoPrimario=false;\r\n        this.$emit('soyPrimario');\r\n      }).catch(()=>{\r\n        this.marcandoPrimario=false;\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.archivoSeccionNodo {\r\n}\r\n#barraSuperior {\r\n  padding: 10px 0px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#icono {\r\n  margin-left: 30px;\r\n  width: 15px;\r\n  height: 15px;\r\n}\r\n#icono img {\r\n  height: 100%;\r\n  opacity: 0.7;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./archivoSeccionNodo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./archivoSeccionNodo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./archivoSeccionNodo.vue?vue&type=template&id=2d92d1e9&scoped=true&\"\nimport script from \"./archivoSeccionNodo.vue?vue&type=script&lang=js&\"\nexport * from \"./archivoSeccionNodo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./archivoSeccionNodo.vue?vue&type=style&index=0&id=2d92d1e9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d92d1e9\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"seccionNodoConocimiento\">\r\n    <div class=\"contenedorControles\">\r\n      <div class=\"boton\" v-if=\"usuarioExperto\" @click=\"editando = !editando\">\r\n        <img src=\"@/assets/iconos/edit.svg\" alt=\"Editar\" />\r\n      </div>\r\n    </div>\r\n    <div id=\"zonaFront\" class=\"frontDeSeccion\" v-show=\"!editando\" :key=\"versionArchivo\">\r\n      <iframe\r\n        id=\"iframeSeccion\"\r\n        :src=\"direccionNodo + '/' + estaSeccion.id + '/?v=' + versionArchivo\"\r\n        v-if=\"estaSeccion.tipoPrimario.substring(0,5)!='image'\"\r\n        frameborder=\"0\"\r\n      ></iframe>\r\n      <img\r\n      :src=\"direccionNodo + '/' + estaSeccion.id + '/?v=' + versionArchivo\"\r\n      v-if=\"estaSeccion.tipoPrimario.substring(0,5)==='image'\"\r\n      />\r\n    </div>\r\n\r\n    <div id=\"zonaAdministracion\" v-if=\"usuarioExperto\" v-show=\"editando\">\r\n      <div id=\"nombre\" v-show=\"!editandoNombre\" @click=\"iniciarEdicionNombre\">\r\n        {{ estaSeccion.nombre }}\r\n      </div>\r\n      <input\r\n        v-show=\"editandoNombre\"\r\n        type=\"text\"\r\n        name=\"\"\r\n        :value=\"estaSeccion.nombre\"\r\n        id=\"inputNuevoNombre\"\r\n        ref=\"inputNuevoNombre\"\r\n        :class=\"{deshabilitado: enviandoNuevoNombre}\"\r\n        @blur=\"guardarNuevoNombre\"\r\n        @keypress.enter=\"guardarNuevoNombre\"\r\n      />\r\n      <loading texto=\"\" v-show=\"enviandoNuevoNombre\"/>\r\n      <div class=\"contenedorControles\">\r\n        <div\r\n          class=\"boton\"\r\n          title=\"Subir un archivo\"\r\n          @click=\"$refs.inputArchivoContenido.click()\"\r\n          v-show=\"!subiendoArchivo\"\r\n        >\r\n          <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Plus\" />\r\n        </div>\r\n        <loading texto=\"\" v-show=\"subiendoArchivo\" />\r\n\r\n        <div\r\n          class=\"boton\"\r\n          :title=\"\r\n            estaSeccion.modo === 'archivo'\r\n              ? 'Cambiar modo a enlace'\r\n              : 'Cambiar modo a archivo'\r\n          \"\r\n        >\r\n          <img\r\n            src=\"@/assets/iconos/file.svg\"\r\n            v-show=\"estaSeccion.modo === 'archivo'\"\r\n            alt=\"Archivo\"\r\n          />\r\n          <img\r\n            src=\"@/assets/iconos/link.svg\"\r\n            v-show=\"estaSeccion.modo === 'enlace'\"\r\n            alt=\"Archivo\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"listaArchivos\" v-show=\"estaSeccion.modo === 'archivo'\">\r\n        <input\r\n          type=\"file\"\r\n          class=\"inputArchivoContenido\"\r\n          ref=\"inputArchivoContenido\"\r\n          v-show=\"false\"\r\n          @change=\"subirArchivoContenido($event)\"\r\n        />\r\n        <archivo-seccion-nodo\r\n          :esteArchivo=\"archivo\"\r\n          :usuarioExperto=\"usuarioExperto\"\r\n          :idNodo=\"idNodo\"\r\n          :idSeccion=\"estaSeccion.id\"\r\n          v-for=\"archivo of archivosOrdenados\"\r\n          :key=\"archivo.id\"\r\n          @meElimine=\"$emit('archivoEliminado', archivo.nombre)\"\r\n          @soyPrimario=\"\r\n            $emit('tengoNuevoPrimario', archivo.nombre);\r\n            versionArchivo++;\r\n          \"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nimport ArchivoSeccionNodo from \"./archivoSeccionNodo.vue\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport { charProhibidosNombreCosa } from \"../configs\";\r\nimport gql from \"graphql-tag\";\r\n\r\nexport default {\r\n  props: {\r\n    estaSeccion: Object,\r\n    idNodo: String,\r\n    usuarioExperto: Boolean,\r\n  },\r\n  components: {\r\n    ArchivoSeccionNodo,\r\n    Loading,\r\n  },\r\n  name: \"SeccionNodoConocimiento\",\r\n  data() {\r\n    return {\r\n      editando: false,\r\n      subiendoArchivo: false,\r\n      versionArchivo: 0,\r\n\r\n      editandoNombre: false,\r\n      enviandoNuevoNombre: false,\r\n    };\r\n  },\r\n  methods: {\r\n    subirArchivoContenido(e) {\r\n      const inputArchivo = e.target;\r\n      var datos = new FormData();\r\n      const nuevoArchivo = inputArchivo.files[0];\r\n\r\n      datos.append(\"nuevoArchivo\", nuevoArchivo);\r\n      datos.append(\"idNodo\", this.idNodo);\r\n      datos.append(\"idSeccion\", this.estaSeccion.id);\r\n      this.subiendoArchivo = true;\r\n      axios({\r\n        method: \"post\",\r\n        url: this.serverUrl + \"/api/atlas/subirArchivoContenidoSeccionNodo\",\r\n        data: datos,\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: \"Bearer \" + this.$store.state.token,\r\n        },\r\n      })\r\n        .then(({ data: { infoArchivo } }) => {\r\n          this.subiendoArchivo = false;\r\n          this.versionArchivo++;\r\n          this.$emit(\"subiArchivo\", infoArchivo);\r\n        })\r\n        .catch((error) => {\r\n          this.subiendoArchivo = false;\r\n\r\n          console.log(`Error subiendo archivo. E: ${error}`);\r\n        });\r\n    },\r\n    iniciarEdicionNombre() {\r\n      this.$refs.inputNuevoNombre.value = this.estaSeccion.nombre;\r\n      this.editandoNombre = true;\r\n    },\r\n    guardarNuevoNombre() {\r\n      var nuevoNombre = this.$refs.inputNuevoNombre.value.trim();\r\n      if (nuevoNombre == this.estaSeccion.nombre) {\r\n        this.editandoNombre = false;\r\n        return;\r\n      }\r\n\r\n      if (nuevoNombre.length < 1) {\r\n        return;\r\n      }\r\n      if (charProhibidosNombreCosa.test(nuevoNombre)) {\r\n        console.log(`Caracteres ilegales`);\r\n        return;\r\n      }\r\n\r\n      console.log(`guardando nuevo nombre`);\r\n      this.enviandoNuevoNombre = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idSeccion: ID!\r\n              $nuevoNombre: String!\r\n            ) {\r\n              editarNombreSeccionNodoConocimiento(\r\n                idNodo: $idNodo\r\n                idSeccion: $idSeccion\r\n                nuevoNombre: $nuevoNombre\r\n              ) {\r\n                id\r\n                nombre\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n            idSeccion: this.estaSeccion.id,\r\n            nuevoNombre: nuevoNombre,\r\n          },\r\n        })\r\n        .then((data) => {\r\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoNombre = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    direccionNodo: function () {\r\n      return this.serverUrl + \"/assetsAtlas/contenidosNodos/\" + this.idNodo;\r\n    },\r\n    archivosOrdenados() {\r\n      var archivos = JSON.parse(JSON.stringify(this.estaSeccion.archivos));\r\n      archivos.sort((a) => {\r\n        if (a.primario) return -1;\r\n        return 0;\r\n      });\r\n      return archivos;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.seccionNodoConocimiento {\r\n  width: 100%;  \r\n}\r\n#zonaFront{  \r\n  max-width:100vw;\r\n  margin: 5px auto;\r\n}\r\n#zonaFront iframe{\r\n  \r\n  width: 100%;\r\n}\r\n#zonaFront img{\r\n  max-width: 100%;\r\n  margin: 0px auto;\r\n  display:block;\r\n}\r\n#iframeSeccion {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n#zonaAdministracion {\r\n  width: min(500px, 90vw);\r\n  border-radius: 10px;\r\n  margin: 0px auto;\r\n  background-color: var(--paletaMain);\r\n  padding: 10px 0px;\r\n  min-height: 300px;\r\n}\r\n#nombre {\r\n  text-align: center;\r\n}\r\n#inputNuevoNombre {\r\n  display: block;\r\n  margin: 15px auto;\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  color: rgb(48, 48, 48);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeccionNodoConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeccionNodoConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SeccionNodoConocimiento.vue?vue&type=template&id=7dad90d3&scoped=true&\"\nimport script from \"./SeccionNodoConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./SeccionNodoConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SeccionNodoConocimiento.vue?vue&type=style&index=0&id=7dad90d3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7dad90d3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"foro\"},[_c('div',{staticClass:\"barraSuperiorForo\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacionSeleccionada === null),expression:\"idConversacionSeleccionada === null\"}],attrs:{\"id\":\"anuncio\"}},[_vm._v(\" Conversaciones \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacionSeleccionada != null),expression:\"idConversacionSeleccionada != null\"}],attrs:{\"id\":\"bRegresarConversaciones\"},on:{\"click\":function($event){_vm.idConversacionSeleccionada = null;\n        _vm.$apollo.queries.numPaginas.refetch();}}},[_vm._v(\" Volver a conversaciones \")]),_c('div',{attrs:{\"id\":\"controlesForo\"}},[(\n          _vm.usuarioLogeado &&\n          (_vm.esteForo.acceso == 'publico' || _vm.usuarioMiembro == true) &&\n          _vm.esteForo.id\n        )?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.conversacionAbierta),expression:\"!conversacionAbierta\"}],staticClass:\"controlesForo botonesControles\",attrs:{\"id\":\"bCrearConversacion\"},on:{\"click\":function($event){_vm.creandoConversacion = !_vm.creandoConversacion}}},[_vm._v(\" \"+_vm._s(_vm.creandoConversacion ? \"Cancelar\" : \"Crear conversación\")+\" \")]):_vm._e()])]),_c('div',{staticClass:\"zonaConversaciones\"},[(\n        _vm.usuarioLogeado &&\n        (_vm.esteForo.acceso == 'publico' || _vm.usuarioMiembro == true) &&\n        _vm.esteForo.id\n      )?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoConversacion),expression:\"creandoConversacion\"}],attrs:{\"id\":\"zonaCrearConversacion\"}},[_c('center',[_c('h3',[_vm._v(\"Creando conversación\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tituloNuevaConversacion),expression:\"tituloNuevaConversacion\"}],class:{ letrasRojas: _vm.tituloNuevaConversacionIlegal },attrs:{\"type\":\"text\",\"id\":\"inputTituloNuevaConversacion\",\"placeholder\":\"Titulo de la nueva conversación\"},domProps:{\"value\":(_vm.tituloNuevaConversacion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tituloNuevaConversacion=$event.target.value}}}),_c('cuadro-responder',{class:{ deshabilitado: _vm.tituloNuevaConversacionIlegal },attrs:{\"idForo\":_vm.esteForo.id,\"parent\":_vm.parent,\"tituloNuevaConversacion\":_vm.tituloNuevaConversacion},on:{\"hiceConversacion\":function($event){return _vm.addConversacion($event)}}})],1):_vm._e(),(_vm.numPaginas && !_vm.conversacionAbierta)?_c('div',{staticClass:\"zonaSelectorPagina\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"selectorPagina\",class:{ selectorSeleccionado: index == _vm.numPaginaSeleccionada },on:{\"click\":function($event){_vm.numPaginaSeleccionada = index}}},[_vm._v(\" \"+_vm._s(index)+\" \")])}),0):_vm._e(),(_vm.numPaginas)?_c('div',{staticClass:\"zonaPaginasConversaciones\"},[_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"paginaConversaciones\"})}),_vm._l((_vm.conversacionesPorPagina[_vm.numPaginaSeleccionada]),function(conversacion){return _c('conversacion',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.idConversacionSeleccionada == conversacion.id ||\n          !_vm.conversacionAbierta\n        ),expression:\"\\n          idConversacionSeleccionada == conversacion.id ||\\n          !conversacionAbierta\\n        \"}],key:conversacion.id,attrs:{\"estaConversacion\":conversacion,\"seleccionado\":_vm.idConversacionSeleccionada == conversacion.id,\"usuarioMiembro\":_vm.usuarioMiembro,\"idForo\":_vm.idForo,\"parent\":_vm.parent},on:{\"meAbrieron\":function($event){return _vm.setTodaConversacionLeida(conversacion.id)},\"meElimine\":_vm.refreshPagina,\"respuestaPublicada\":function($event){return _vm.setTodaConversacionLeida(\n            conversacion.id,\n            conversacion.cantidadRespuestas\n          )}},nativeOn:{\"click\":function($event){_vm.idConversacionSeleccionada = conversacion.id}}})})],2):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"conversacion\",class:{\n    seleccionado: _vm.seleccionado,\n    deshabilitado: _vm.seleccionado && _vm.loading,\n    conRespuestasNoLeidas:\n      _vm.estaConversacion.cantidadRespuestas > _vm.cantidadRespuestasLeidasUsuario,\n  }},[_c('div',{staticClass:\"infoConversacion\"},[_vm._v(\" \"+_vm._s(_vm.estaConversacion.cantidadRespuestas)+\" publicacion\"+_vm._s(_vm.estaConversacion.cantidadRespuestas > 1 ? \"es\" : \"\")+\". Última publicación en \"+_vm._s(_vm.fechaFormateada)+\" \")]),_c('div',{staticClass:\"tituloConversacion\"},[_c('img',{staticClass:\"imagenConversacion\",attrs:{\"src\":require(\"@/assets/iconos/conversacion.png\"),\"alt\":\"Conversacion\"}}),_vm._v(\" \"+_vm._s(_vm.estaConversacion.titulo)+\" \"),_c('span',{staticClass:\"datosConversacion\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.estaConversacion.cantidadRespuestas >\n          _vm.cantidadRespuestasLeidasUsuario\n        ),expression:\"\\n          estaConversacion.cantidadRespuestas >\\n          cantidadRespuestasLeidasUsuario\\n        \"}],staticClass:\"dato datoRespuestasNoLeidas\",attrs:{\"title\":\"Respuestas nuevas en esta conversación\"}},[_vm._v(\" \"+_vm._s(_vm.estaConversacion.cantidadRespuestas - _vm.cantidadRespuestasLeidasUsuario)+\" \")])])]),(_vm.numPaginas > 0)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"zonaSelectorPaginas\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"selectorPagina\",class:{ selectorSeleccionado: index == _vm.numPaginaSeleccionada },on:{\"click\":function($event){_vm.numPaginaSeleccionada = index}}},[_vm._v(\" \"+_vm._s(index)+\" \")])}),0):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"zonaRespuestas\"},[_c('div',{staticClass:\"zonaPaginas\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.numPaginaSeleccionada == index),expression:\"numPaginaSeleccionada == index\"}],key:'pagina' + index,staticClass:\"pagina\"},_vm._l((_vm.respuestasPorPagina[index]),function(respuesta){return _c('respuesta',{key:respuesta.id,attrs:{\"idConversacion\":_vm.estaConversacion.id,\"estaRespuesta\":respuesta},on:{\"meQuierenCitar\":_vm.citarRespuesta,\"meElimine\":function($event){return _vm.updateRespuestaEliminada(respuesta.id, index)}}})}),1)}),0),(\n        _vm.usuarioLogeado &&\n        (_vm.estaConversacion.acceso == 'publico' || _vm.usuarioMiembro == true) &&\n        _vm.estaConversacion.id\n      )?_c('cuadro-responder',{ref:\"cuadroResponder\",attrs:{\"parent\":_vm.parent,\"idConversacion\":_vm.estaConversacion.id},on:{\"hiceRespuesta\":function($event){return _vm.addRespuesta($event)}}}):_vm._e()],1),_c('div',{staticClass:\"controlesConversacion\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroResponder\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacion),expression:\"idConversacion\"}],attrs:{\"id\":\"barraSuperior\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/mensaje.png\"),\"alt\":\"Contestar\",\"title\":\"Contestar en esta conversación\",\"id\":\"imgMensaje\"},on:{\"click\":_vm.toggleCuadroAbierto}}),_c('span',{attrs:{\"id\":\"tituloCuadro\"}},[_vm._v(\"Envía una respuesta\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],attrs:{\"id\":\"zonaMensaje\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mensaje),expression:\"mensaje\"}],ref:\"inputMensaje\",class:{ letrasRojas: _vm.mensajeIlegal },attrs:{\"name\":\"inputMensaje\",\"id\":\"inputMensaje\",\"rows\":\"2\"},domProps:{\"value\":(_vm.mensaje)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.mensaje=$event.target.value},_vm.checkHeight]}}),_vm._l((_vm.interpolaciones),function(interpolacion,index){return _c('creador-interpolacion',{key:index,ref:'creadoresInterpolacion',refInFor:true,attrs:{\"estaInterpolacion\":interpolacion},on:{\"eliminarse\":function($event){return _vm.eliminarInterpolacion($event, index)},\"enlaceIframeSet\":function($event){return _vm.setEnlaceIframeInterpolacion($event, index)}}})})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],attrs:{\"id\":\"zonaInsertar\"}},[_c('img',{staticClass:\"bInsertar\",attrs:{\"src\":require(\"@/assets/iconos/video.png\"),\"alt\":\"Video\",\"title\":\"Insertar un enlace a un video\"},on:{\"click\":function($event){return _vm.insertarCreadorInterpolacion('video')}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],attrs:{\"id\":\"adjuntarArchivo\"}},[_c('input',{ref:\"inputArchivoAdjunto\",attrs:{\"type\":\"file\",\"id\":\"inputArchivoAdjunto\"},on:{\"change\":_vm.actualizarNombreDeArchivo}}),_c('img',{attrs:{\"src\":require(\"@/assets/iconos/adjuntar.png\"),\"alt\":\"Ajuntar archivo\",\"id\":\"imgAdjuntar\",\"title\":\"adjuntar un archivo\"},on:{\"click\":_vm.abrirSelectorDeArchivos}}),_c('br'),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nombreArchivoSeleccionado),expression:\"nombreArchivoSeleccionado\"}],attrs:{\"id\":\"nombreArchivoSeleccionado\"}},[_vm._v(\" \"+_vm._s(_vm.nombreArchivoSeleccionado)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],staticClass:\"bloqueAdjuntar\",attrs:{\"id\":\"bloqueAdjuntarEnlace\"}},[_c('div',{attrs:{\"id\":\"zonaIntroducirEnlace\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/hypervinculo.png\"),\"alt\":\"Ajuntar enlace\",\"id\":\"imgAdjuntarEnlace\",\"title\":\"adjuntar un enlace\"},on:{\"click\":function($event){_vm.introduciendoEnlace = true}}}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.introduciendoEnlace === true),expression:\"introduciendoEnlace === true\"},{name:\"model\",rawName:\"v-model\",value:(_vm.enlaceAdjuntable),expression:\"enlaceAdjuntable\"}],staticClass:\"inputAdjuntarEnlace\",attrs:{\"type\":\"text\",\"placeholder\":\"escribe o pega el enlace\"},domProps:{\"value\":(_vm.enlaceAdjuntable)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.enlaceAdjuntable=$event.target.value}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.introduciendoEnlace && !_vm.enlaceAdjuntableIlegal),expression:\"introduciendoEnlace && !enlaceAdjuntableIlegal\"}],attrs:{\"src\":require(\"@/assets/iconos/success.png\"),\"alt\":\"Confirmar\",\"id\":\"bAceptarAdjuntarEnlace\"},on:{\"click\":function($event){$event.stopPropagation();_vm.enlaceAdjunto.push(_vm.enlaceAdjuntable);\n          _vm.enlaceAdjuntable = null;\n          _vm.introduciendoEnlace = false;}}})]),_vm._l((_vm.enlaceAdjunto),function(enlace,index){return _c('div',{key:index,staticClass:\"enlaceAdjuntado\"},[_c('div',{attrs:{\"id\":\"nombreEnlaceAdjuntado\"}},[_c('span',[_vm._v(_vm._s(enlace))])]),_c('div',{attrs:{\"id\":\"bCancelarEnlaceAdjunto\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.enlaceAdjunto.splice(index, 1)}}},[_vm._m(0,true)])])})],2),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto && !_vm.enviandoRespuesta),expression:\"cuadroAbierto && !enviandoRespuesta\"}],class:{ deshabilitado: _vm.mensajeIlegal },attrs:{\"src\":require(\"@/assets/iconos/enviar.png\"),\"alt\":\"Enviar\",\"title\":\"Enviar respuesta\",\"id\":\"bEnviar\"},on:{\"click\":_vm.evaluarAdjunto}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoRespuesta),expression:\"enviandoRespuesta\"}],attrs:{\"texto\":\"Enviando respuesta...\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"linea1\"},[_c('div',{staticClass:\"linea2\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"creadorInterpolacion\"},[_c('div',{staticClass:\"bEliminarInterpolacion bolitaX\",on:{\"click\":function($event){return _vm.$emit('eliminarse', _vm.mensaje)}}},[_c('div',{staticClass:\"rayaX1\"}),_c('div',{staticClass:\"rayaX2\"})]),(_vm.estaInterpolacion.tipo == 'video')?_c('div',{attrs:{\"id\":\"bloqueIframe\"}},[(_vm.estaInterpolacion.tipo == 'video')?_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.estaInterpolacion.enlaceIframe),expression:\"estaInterpolacion.enlaceIframe\"}],attrs:{\"id\":\"elIframe\",\"src\":_vm.estaInterpolacion.enlaceIframe,\"frameborder\":\"0\"}}):_vm._e(),_c('div',{attrs:{\"id\":\"zonaInputEnlace\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enlaceIframe),expression:\"enlaceIframe\"}],attrs:{\"type\":\"text\",\"id\":\"inputEnlace\",\"placeholder\":\"Introduce el enlace\"},domProps:{\"value\":(_vm.enlaceIframe)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.enlaceIframe=$event.target.value},function($event){_vm.enlaceAceptado = false}],\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.setEnlaceIframe($event)},\"paste\":_vm.onPasteEnlace}}),_c('img',{staticClass:\"bAceptar\",staticStyle:{\"cursor\":\"pointer\"},style:([{ backgroundColor: _vm.enlaceAceptado ? 'green' : '' }]),attrs:{\"src\":require(\"@/assets/iconos/success.png\"),\"width\":\"17px\",\"alt\":\"Ok\",\"title\":\"Aceptar\"},on:{\"click\":_vm.setEnlaceIframe}})])]):_vm._e(),(_vm.estaInterpolacion.tipo == 'quote')?_c('div',{attrs:{\"id\":\"bloqueQuote\"}},[_c('div',{attrs:{\"id\":\"infoQuote\"}},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.quote.infoAutor.nombres)+\" escribio: \")]),_c('div',{attrs:{\"id\":\"quote\"}},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.quote.mensaje)+\" \"),_vm._l((_vm.estaInterpolacion.quote.interpolaciones),function(interpolacion){return _c('interpolacion',{key:interpolacion.id,attrs:{\"estaInterpolacion\":interpolacion}})})],2)]):_vm._e(),_c('div',{attrs:{\"id\":\"zonaMensaje\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mensaje),expression:\"mensaje\"}],ref:\"inputMensaje\",class:{ letrasRojas: _vm.mensajeIlegal },attrs:{\"name\":\"inputMensaje\",\"id\":\"inputMensaje\"},domProps:{\"value\":(_vm.mensaje)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.mensaje=$event.target.value},_vm.checkHeight]}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"interpolacion\"},[(_vm.estaInterpolacion.tipo == 'video')?_c('div',{attrs:{\"id\":\"bloqueIframe\"}},[_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.estaInterpolacion.enlaceIframe),expression:\"estaInterpolacion.enlaceIframe\"}],ref:\"elIframe\",style:([_vm.altoIframe]),attrs:{\"id\":\"elIframe\",\"src\":_vm.estaInterpolacion.enlaceIframe,\"frameborder\":\"0\"}})]):_vm._e(),(_vm.estaInterpolacion.tipo == 'quote')?_c('div',{attrs:{\"id\":\"bloqueQuote\"}},[_c('div',{attrs:{\"id\":\"infoQuote\"}},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.quote.infoAutor.nombres)+\" escribio: \")]),_c('div',{staticClass:\"quote\"},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.quote.mensaje)+\" \"),_vm._l((_vm.estaInterpolacion.quote.interpolaciones),function(interpolacion){return _c('interpolacion',{key:interpolacion.id,attrs:{\"estaInterpolacion\":interpolacion}})})],2)]):_vm._e(),_c('div',{attrs:{\"id\":\"bloqueMensaje\"}},[_c('div',{attrs:{\"id\":\"elMensaje\"}},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.mensaje)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"interpolacion\">\r\n    <div id=\"bloqueIframe\" v-if=\"estaInterpolacion.tipo == 'video'\">\r\n      <iframe\r\n        id=\"elIframe\"\r\n        ref=\"elIframe\"\r\n        :src=\"estaInterpolacion.enlaceIframe\"\r\n        :style=\"[altoIframe]\"\r\n        frameborder=\"0\"\r\n        v-show=\"estaInterpolacion.enlaceIframe\"\r\n      ></iframe>\r\n    </div>\r\n\r\n    <div id=\"bloqueQuote\" v-if=\"estaInterpolacion.tipo == 'quote'\">\r\n      <div id=\"infoQuote\">\r\n        {{ estaInterpolacion.quote.infoAutor.nombres }} escribio:\r\n      </div>\r\n      <div class=\"quote\">\r\n        {{ estaInterpolacion.quote.mensaje }}\r\n        <interpolacion\r\n          v-for=\"interpolacion of estaInterpolacion.quote.interpolaciones\"\r\n          :key=\"interpolacion.id\"\r\n          :estaInterpolacion=\"interpolacion\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"bloqueMensaje\">\r\n      <div id=\"elMensaje\">\r\n        {{ estaInterpolacion.mensaje }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Interpolacion\",\r\n  props: {\r\n    estaInterpolacion: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      altoIframe: {\r\n        height: \"200px\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    if (this.estaInterpolacion.tipo == \"video\") {\r\n      this.$set(\r\n        this.altoIframe,\r\n        \"height\",\r\n        this.$refs.elIframe.offsetWidth / 1.77 + \"px\"\r\n      );\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#elIframe {\r\n  width: min(500px, 80%);\r\n  margin: 0px auto;\r\n  display: block;\r\n}\r\n#elMensaje {\r\n  width: 100%;\r\n  font-size: 20px;\r\n  resize: none;\r\n  white-space: pre-wrap;\r\n  margin-top: 15px;\r\n  margin-bottom: 15px;\r\n}\r\n#infoQuote {\r\n  font-size: 11px;\r\n  font-style: italic;\r\n  color: gray;\r\n  width: 90%;\r\n  margin: 5px auto;\r\n}\r\n\r\n.quote {\r\n  border: 1px solid gray;\r\n  background-color: rgb(197, 144, 107);\r\n  width: 90%;\r\n  margin: 5px auto;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Interpolacion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Interpolacion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Interpolacion.vue?vue&type=template&id=4df81ef6&scoped=true&\"\nimport script from \"./Interpolacion.vue?vue&type=script&lang=js&\"\nexport * from \"./Interpolacion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Interpolacion.vue?vue&type=style&index=0&id=4df81ef6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4df81ef6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"creadorInterpolacion\">\r\n    <div\r\n      class=\"bEliminarInterpolacion bolitaX\"\r\n      @click=\"$emit('eliminarse', mensaje)\"\r\n    >\r\n      <div class=\"rayaX1\"></div>\r\n      <div class=\"rayaX2\"></div>\r\n    </div>\r\n    <div id=\"bloqueIframe\" v-if=\"estaInterpolacion.tipo == 'video'\">\r\n      <iframe\r\n        id=\"elIframe\"\r\n        :src=\"estaInterpolacion.enlaceIframe\"\r\n        frameborder=\"0\"\r\n        v-if=\"estaInterpolacion.tipo == 'video'\"\r\n        v-show=\"estaInterpolacion.enlaceIframe\"\r\n      ></iframe>\r\n      <div id=\"zonaInputEnlace\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"inputEnlace\"\r\n          v-model=\"enlaceIframe\"\r\n          @input=\"enlaceAceptado = false\"\r\n          @keypress.enter=\"setEnlaceIframe\"\r\n          @paste=\"onPasteEnlace\"\r\n          placeholder=\"Introduce el enlace\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/success.png\"\r\n          width=\"17px\"\r\n          style=\"cursor: pointer\"\r\n          :style=\"[{ backgroundColor: enlaceAceptado ? 'green' : '' }]\"\r\n          alt=\"Ok\"\r\n          title=\"Aceptar\"\r\n          class=\"bAceptar\"\r\n          @click=\"setEnlaceIframe\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"bloqueQuote\" v-if=\"estaInterpolacion.tipo == 'quote'\">\r\n      <div id=\"infoQuote\">\r\n        {{ estaInterpolacion.quote.infoAutor.nombres }} escribio:\r\n      </div>\r\n      <div id=\"quote\">\r\n        {{ estaInterpolacion.quote.mensaje }}\r\n        <interpolacion\r\n          v-for=\"interpolacion of estaInterpolacion.quote.interpolaciones\"\r\n          :key=\"interpolacion.id\"\r\n          :estaInterpolacion=\"interpolacion\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"zonaMensaje\">\r\n      <textarea\r\n        name=\"inputMensaje\"\r\n        id=\"inputMensaje\"\r\n        ref=\"inputMensaje\"\r\n        :class=\"{ letrasRojas: mensajeIlegal }\"\r\n        v-model=\"mensaje\"\r\n        @input=\"checkHeight\"\r\n      ></textarea>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Interpolacion from \"./Interpolacion.vue\";\r\nvar charProhibidosMensaje = /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;\r\n\r\nexport default {\r\n  components: { Interpolacion },\r\n  name: \"CreadorInterpolacion\",\r\n  props: {\r\n    estaInterpolacion: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      mensaje: null,\r\n      enlaceIframe: null,\r\n      enlaceIframeSet: null,\r\n\r\n      enlaceAceptado: false,\r\n    };\r\n  },\r\n  methods: {\r\n    onPasteEnlace() {\r\n      this.enlaceAceptado = false;\r\n      console.log(`Paste`);\r\n      // setTimeout(() => {\r\n      //   console.log(`Seting con url ${this.enlaceIframe}`);\r\n      //   this.setEnlaceIframe();\r\n      // }, 300);\r\n    },\r\n    setEnlaceIframe() {\r\n      if (!this.enlaceIframe || this.enlaceIframe.substr(0, 8) != \"https://\") {\r\n        return;\r\n      }\r\n      if (this.enlaceIframe.substr(12, 17) == \"youtube.com/watch\") {\r\n        this.enlaceIframe =\r\n          this.enlaceIframe.substr(0, 24) +\r\n          \"embed/\" +\r\n          this.enlaceIframe.substr(32);\r\n      }\r\n\r\n      if (this.enlaceIframe.substr(0, 24) != \"https://www.youtube.com/\") {\r\n        console.log(`Enlace no válido`);\r\n        this.enlaceIframe.alert(\"Enlace no válido\");\r\n        return;\r\n      }\r\n\r\n      this.enlaceIframeSet = this.enlaceIframe;\r\n      this.$emit(\"enlaceIframeSet\", this.enlaceIframeSet);\r\n      this.enlaceAceptado = true;\r\n    },\r\n    checkHeight() {\r\n      while (\r\n        this.$refs.inputMensaje.scrollHeight >\r\n        this.$refs.inputMensaje.offsetHeight\r\n      ) {\r\n        this.$refs.inputMensaje.rows++;\r\n      }\r\n    },\r\n    addToMensaje(mensaje) {\r\n      if (!mensaje) return;\r\n      this.mensaje += \"\\n\\n\" + mensaje;\r\n\r\n      this.$nextTick(() => {\r\n        this.checkHeight();\r\n      });\r\n    },\r\n    temp() {\r\n      console.log(`1`);\r\n    },\r\n  },\r\n  computed: {\r\n    mensajeIlegal() {\r\n      if (!this.mensaje || this.mensaje.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosMensaje.test(this.mensaje)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.creadorInterpolacion {\r\n  position: relative;\r\n}\r\n#infoQuote {\r\n  font-size: 11px;\r\n  font-style: italic;\r\n  color: gray;\r\n  width: 90%;\r\n  margin: 5px auto;\r\n}\r\n\r\n#quote {\r\n  border: 1px solid gray;\r\n  background-color: rgb(197, 144, 107);\r\n  width: 90%;\r\n  margin: 5px auto;\r\n}\r\n\r\n#bloqueIframe {\r\n  border: 2px solid rgb(219, 87, 87);\r\n  width: min(600px, 95%);\r\n  margin: 0px auto;\r\n  border-radius: 10px;\r\n}\r\n#elIframe {\r\n  display: block;\r\n  width: 560px;\r\n  height: 315px;\r\n  margin: 2px auto;\r\n}\r\n#zonaInputEnlace {\r\n  display: block;\r\n  margin: 2px auto;\r\n  width: 280px;\r\n}\r\n.bAceptar {\r\n  border-radius: 50%;\r\n}\r\n.bAceptar:hover {\r\n  background-color: green;\r\n}\r\n#inputEnlace {\r\n  font-size: 19px;\r\n  border-radius: 5px;\r\n  width: 250px;\r\n  margin-right: 5px;\r\n}\r\n#zonaMensaje {\r\n  margin-top: 15px;\r\n}\r\n#inputMensaje {\r\n  width: 100%;\r\n  background-color: transparent;\r\n  border: none;\r\n  outline: none;\r\n  font-size: 20px;\r\n  resize: none;\r\n}\r\n\r\n.bolitaX {\r\n  width: 15px;\r\n  height: 15px;\r\n  border-radius: 50%;\r\n  background-color: chocolate;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.bEliminarInterpolacion {\r\n  position: absolute;\r\n  top: 1%;\r\n  right: 1%;\r\n}\r\n\r\n.rayaX1 {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  background-color: black;\r\n\r\n  transform: translate(-50%, -50%) rotate(45deg);\r\n  height: 2px;\r\n  width: 80%;\r\n}\r\n.rayaX2 {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  background-color: black;\r\n  transform: translate(-50%, -50%) rotate(-45deg);\r\n  height: 2px;\r\n  width: 80%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreadorInterpolacion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreadorInterpolacion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreadorInterpolacion.vue?vue&type=template&id=1244a928&scoped=true&\"\nimport script from \"./CreadorInterpolacion.vue?vue&type=script&lang=js&\"\nexport * from \"./CreadorInterpolacion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreadorInterpolacion.vue?vue&type=style&index=0&id=1244a928&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1244a928\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"cuadroResponder\">\r\n    <div id=\"barraSuperior\" v-show=\"idConversacion\">\r\n      <img\r\n        src=\"@/assets/iconos/mensaje.png\"\r\n        alt=\"Contestar\"\r\n        title=\"Contestar en esta conversación\"\r\n        id=\"imgMensaje\"\r\n        @click=\"toggleCuadroAbierto\"\r\n      />\r\n      <span id=\"tituloCuadro\">Envía una respuesta</span>\r\n    </div>\r\n\r\n    <div id=\"zonaMensaje\" v-show=\"cuadroAbierto\">\r\n      <textarea\r\n        name=\"inputMensaje\"\r\n        id=\"inputMensaje\"\r\n        ref=\"inputMensaje\"\r\n        :class=\"{ letrasRojas: mensajeIlegal }\"\r\n        v-model=\"mensaje\"\r\n        rows=\"2\"\r\n        @input=\"checkHeight\"\r\n      ></textarea>\r\n\r\n      <creador-interpolacion\r\n        v-for=\"(interpolacion, index) of interpolaciones\"\r\n        :ref=\"'creadoresInterpolacion'\"\r\n        :key=\"index\"\r\n        :estaInterpolacion=\"interpolacion\"\r\n        @eliminarse=\"eliminarInterpolacion($event, index)\"\r\n        @enlaceIframeSet=\"setEnlaceIframeInterpolacion($event, index)\"\r\n      />\r\n    </div>\r\n    <div id=\"zonaInsertar\" v-show=\"cuadroAbierto\">\r\n      <img\r\n        src=\"@/assets/iconos/video.png\"\r\n        alt=\"Video\"\r\n        @click=\"insertarCreadorInterpolacion('video')\"\r\n        class=\"bInsertar\"\r\n        title=\"Insertar un enlace a un video\"\r\n      />\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div id=\"adjuntarArchivo\" v-show=\"cuadroAbierto\">\r\n      <input\r\n        type=\"file\"\r\n        id=\"inputArchivoAdjunto\"\r\n        ref=\"inputArchivoAdjunto\"\r\n        @change=\"actualizarNombreDeArchivo\"\r\n      />\r\n      <img\r\n        src=\"@/assets/iconos/adjuntar.png\"\r\n        alt=\"Ajuntar archivo\"\r\n        id=\"imgAdjuntar\"\r\n        title=\"adjuntar un archivo\"\r\n        @click=\"abrirSelectorDeArchivos\"\r\n      />\r\n      <br />\r\n      <div id=\"nombreArchivoSeleccionado\" v-show=\"nombreArchivoSeleccionado\">\r\n        {{ nombreArchivoSeleccionado }}\r\n      </div>\r\n    </div>\r\n    <!--  -->\r\n    <div\r\n      id=\"bloqueAdjuntarEnlace\"\r\n      class=\"bloqueAdjuntar\"\r\n      v-show=\"cuadroAbierto\"\r\n    >\r\n      <div id=\"zonaIntroducirEnlace\">\r\n        <img\r\n          src=\"@/assets/iconos/hypervinculo.png\"\r\n          alt=\"Ajuntar enlace\"\r\n          id=\"imgAdjuntarEnlace\"\r\n          title=\"adjuntar un enlace\"\r\n          @click=\"introduciendoEnlace = true\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          v-show=\"introduciendoEnlace === true\"\r\n          class=\"inputAdjuntarEnlace\"\r\n          placeholder=\"escribe o pega el enlace\"\r\n          v-model=\"enlaceAdjuntable\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/success.png\"\r\n          alt=\"Confirmar\"\r\n          id=\"bAceptarAdjuntarEnlace\"\r\n          v-show=\"introduciendoEnlace && !enlaceAdjuntableIlegal\"\r\n          @click.stop=\"\r\n            enlaceAdjunto.push(enlaceAdjuntable);\r\n            enlaceAdjuntable = null;\r\n            introduciendoEnlace = false;\r\n          \"\r\n        />\r\n      </div>\r\n      <div\r\n        class=\"enlaceAdjuntado\"\r\n        v-for=\"(enlace, index) of enlaceAdjunto\"\r\n        :key=\"index\"\r\n      >\r\n        <div id=\"nombreEnlaceAdjuntado\">\r\n          <span>{{ enlace }}</span>\r\n        </div>\r\n        <div\r\n          id=\"bCancelarEnlaceAdjunto\"\r\n          @click.stop=\"enlaceAdjunto.splice(index, 1)\"\r\n        >\r\n          <div class=\"linea1\"><div class=\"linea2\"></div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n\r\n    <img\r\n      v-show=\"cuadroAbierto && !enviandoRespuesta\"\r\n      :class=\"{ deshabilitado: mensajeIlegal }\"\r\n      src=\"@/assets/iconos/enviar.png\"\r\n      alt=\"Enviar\"\r\n      title=\"Enviar respuesta\"\r\n      id=\"bEnviar\"\r\n      @click=\"evaluarAdjunto\"\r\n    />\r\n\r\n    <loading texto=\"Enviando respuesta...\" v-show=\"enviandoRespuesta\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport {\r\n  fragmentoConversacion,\r\n  fragmentoRespuesta,\r\n} from \"../utilidades/recursosGql\";\r\nimport axios from \"axios\";\r\nimport CreadorInterpolacion from \"./CreadorInterpolacion.vue\";\r\n\r\nexport var charProhibidosMensaje = /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;\r\n\r\nexport default {\r\n  components: { Loading, CreadorInterpolacion },\r\n  name: \"CuadroResponder\",\r\n  props: {\r\n    tituloNuevaConversacion: String,\r\n    idConversacion: String,\r\n    idForo: String,\r\n    parent: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      mensaje: null,\r\n      cuadroAbierto: false,\r\n      enviandoRespuesta: false,\r\n      nombreArchivoSeleccionado: null,\r\n\r\n      introduciendoEnlace: false,\r\n      enlaceAdjuntable: null,\r\n      enlaceAdjunto: [],\r\n\r\n      interpolaciones: [],\r\n    };\r\n  },\r\n  methods: {\r\n    evaluarAdjunto() {\r\n      if (this.mensajeIlegal) {\r\n        return;\r\n      }\r\n      this.enviandoRespuesta = true;\r\n      let inputArchivoAdjunto = this.$refs.inputArchivoAdjunto;\r\n      var datos = new FormData();\r\n      this.setInterpolacionesData();\r\n\r\n      if (!inputArchivoAdjunto.value) {\r\n        let nuevaRespuesta = {\r\n          infoArchivo: null,\r\n          mensaje: this.mensaje,\r\n          interpolaciones: this.interpolaciones\r\n        };\r\n        if (this.enlaceAdjunto && this.enlaceAdjunto.length > 0) {\r\n          nuevaRespuesta.enlaceAdjunto = this.enlaceAdjunto;\r\n        }\r\n        if (!this.idConversacion) {\r\n          this.crearConversacionConRespuesta(nuevaRespuesta);\r\n        } else {\r\n          this.enviarNuevaRespuesta(nuevaRespuesta);\r\n        }\r\n      } else {\r\n        const archivoAdjunto = inputArchivoAdjunto.files[0];\r\n        const fileType = archivoAdjunto[\"type\"];\r\n        console.log(`subiendo un ${fileType}`);\r\n        datos.append(\"archivoAdjunto\", archivoAdjunto);\r\n        var dis = this;\r\n        axios({\r\n          method: \"post\",\r\n          url: this.serverUrl + \"/api/foros/adjuntarArchivoParaRespuesta\",\r\n          data: datos,\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: \"Bearer \" + this.$store.state.token,\r\n          },\r\n        })\r\n          .then(({ data: { infoArchivo } }) => {\r\n            //Se ha subido el archivo. Ahora publicar la respuesta\r\n\r\n            //Creando la nueva participacion\r\n\r\n            let nuevaRespuesta = {\r\n              infoArchivo: {\r\n                idGoogleDrive: infoArchivo.idGoogleDrive,\r\n                googleDriveDirectLink: infoArchivo.googleDriveDirectLink,\r\n                extension: infoArchivo.extensionDeArchivo,\r\n                nombre: infoArchivo.extensionDeArchivo,\r\n              },\r\n              mensaje: dis.mensaje,\r\n              interpolaciones:this.interpolaciones,\r\n            };\r\n            if (this.enlaceAdjunto && this.enlaceAdjunto.length > 0) {\r\n              nuevaRespuesta.enlaceAdjunto = this.enlaceAdjunto;\r\n            }\r\n            if (!this.idConversacion) {\r\n              this.crearConversacionConRespuesta(nuevaRespuesta);\r\n            } else {\r\n              this.enviarNuevaRespuesta(nuevaRespuesta);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.enviandoRespuesta = false;\r\n            console.log(`Errores: ${error}`);\r\n            if (error.response) {\r\n              if (error.response.data.msjUsuario) {\r\n                alert(error.response.data.msjUsuario);\r\n              }\r\n            }\r\n          });\r\n      }\r\n    },\r\n    crearConversacionConRespuesta(nuevaRespuesta) {\r\n      if (!this.tituloNuevaConversacion) {\r\n        return;\r\n      }\r\n      var input = {\r\n        titulo: this.tituloNuevaConversacion,\r\n        primeraRespuesta: nuevaRespuesta,\r\n      };\r\n      this.enviandoRespuesta = true;\r\n      var dis = this;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idForo: ID!\r\n              $input: InputIniciarConversacion\r\n              $parent: InputParent\r\n            ) {\r\n              iniciarConversacionConPrimerMensajeForo(\r\n                idForo: $idForo\r\n                input: $input\r\n                parent: $parent\r\n              ) {\r\n                ...fragConversacion\r\n              }\r\n            }\r\n            ${fragmentoConversacion}\r\n          `,\r\n          variables: {\r\n            idForo: dis.idForo,\r\n            input,\r\n            parent: dis.parent,\r\n          },\r\n        })\r\n        .then(({ data: { iniciarConversacionConPrimerMensajeForo } }) => {\r\n          dis.enviandoRespuesta = false;\r\n          dis.$emit(\r\n            \"hiceConversacion\",\r\n            iniciarConversacionConPrimerMensajeForo\r\n          );\r\n          this.reset();\r\n        })\r\n        .catch((error) => {\r\n          dis.enviandoRespuesta = false;\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    enviarNuevaRespuesta(nuevaRespuesta) {\r\n      if (this.mensajeIlegal) {\r\n        return;\r\n      }\r\n      var dis = this;\r\n      this.enviandoRespuesta = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idConversacion: ID!\r\n              $nuevaRespuesta: InputNuevaRespuesta\r\n              $parent: InputParent\r\n            ) {\r\n              postRespuestaConversacion(\r\n                idConversacion: $idConversacion\r\n                nuevaRespuesta: $nuevaRespuesta\r\n                parent: $parent\r\n              ) {\r\n                ...fragRespuesta\r\n              }\r\n            }\r\n            ${fragmentoRespuesta}\r\n          `,\r\n          variables: {\r\n            idConversacion: dis.idConversacion,\r\n            nuevaRespuesta,\r\n            parent: dis.parent,\r\n          },\r\n        })\r\n        .then(({ data: { postRespuestaConversacion } }) => {\r\n          dis.enviandoRespuesta = false;\r\n          this.$emit(\"hiceRespuesta\", postRespuestaConversacion);\r\n          this.cerrarse();\r\n        })\r\n        .catch((error) => {\r\n          dis.enviandoRespuesta = false;\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    toggleCuadroAbierto() {\r\n      this.cuadroAbierto = !this.cuadroAbierto;\r\n    },\r\n    cerrarse() {\r\n      this.reset();\r\n      this.cuadroAbierto = false;\r\n    },\r\n    actualizarNombreDeArchivo() {\r\n      if (!this.$refs.inputArchivoAdjunto.value) {\r\n        console.log(`Nullificando el nombre de archivo seleccionado`);\r\n        this.nombreArchivoSeleccionado = null;\r\n        return;\r\n      }\r\n      this.nombreArchivoSeleccionado = this.$refs.inputArchivoAdjunto.files[0].name;\r\n    },\r\n    abrirSelectorDeArchivos() {\r\n      this.$refs.inputArchivoAdjunto.click();\r\n    },\r\n    reset() {\r\n      this.nombreArchivoSeleccionado = null;\r\n      this.$refs.inputArchivoAdjunto.value = null;\r\n      this.mensaje = null;\r\n      this.interpolaciones=[];\r\n      (this.enlaceAdjuntable = null), (this.enlaceAdjunto = []);\r\n    },\r\n    interpolarQuote(quote){\r\n      var nuevaInterpolacion={\r\n        tipo:\"quote\",\r\n        quote,\r\n      }\r\n\r\n      this.interpolaciones.push(nuevaInterpolacion);\r\n      if(!this.cuadroAbierto)this.cuadroAbierto=true;\r\n      this.$nextTick(()=>{\r\n        this.$el.scrollIntoView({behavior:\"smooth\"});\r\n      })\r\n    },\r\n    insertarCreadorInterpolacion(tipo) {\r\n      var nuevaInterpolacion = {\r\n        tipo,\r\n      };\r\n\r\n      this.interpolaciones.push(nuevaInterpolacion);\r\n    },\r\n    checkHeight() {\r\n      console.log(\r\n        `El textarea tiene un height de ${this.$refs.inputMensaje.offsetHeight} pero un scroll height de ${this.$refs.inputMensaje.scrollHeight}`\r\n      );\r\n      while (\r\n        this.$refs.inputMensaje.scrollHeight >\r\n        this.$refs.inputMensaje.offsetHeight\r\n      ) {\r\n        this.$refs.inputMensaje.rows++;\r\n      }\r\n    },\r\n    eliminarInterpolacion(mensaje, index) {\r\n      if (mensaje) {\r\n        if (index == 0) {\r\n          if (!this.mensaje) {\r\n            this.mensaje = mensaje;\r\n          } else {\r\n            this.mensaje += \"\\n\\n\" + mensaje;\r\n            this.$nextTick(() => {\r\n              this.checkHeight();\r\n            });\r\n          }\r\n        } else {\r\n          \r\n          \r\n          console.log(\r\n            `añadiendo el mensaje ${mensaje} al creador de interpolacion ${\r\n              (index-1)\r\n            }`\r\n          );\r\n          this.$refs.creadoresInterpolacion[index-1].addToMensaje(\r\n            mensaje\r\n          );\r\n        }\r\n      }\r\n      this.interpolaciones.splice(index, 1);\r\n    },\r\n    setEnlaceIframeInterpolacion(enlace, index){\r\n      console.log(`Seting enlace iframe en el array de interpolaciones`);\r\n      this.$set(this.interpolaciones[index], \"enlaceIframe\", enlace);\r\n      \r\n    },\r\n    retirarTypeName(arrayInterpolaciones){\r\n      console.log(`Retirando typenames`);\r\n      arrayInterpolaciones.forEach(interpolacion=>{\r\n        delete interpolacion.__typename        \r\n        if(interpolacion.quote){\r\n          delete interpolacion.quote.__typename\r\n          if(interpolacion.quote.infoAutor){\r\n            delete interpolacion.quote.infoAutor.__typename\r\n          }\r\n          if(interpolacion.quote.interpolaciones){\r\n            interpolacion.quote.interpolaciones=this.retirarTypeName(interpolacion.quote.interpolaciones)\r\n          }\r\n        }\r\n      });\r\n      return arrayInterpolaciones\r\n    },\r\n    setInterpolacionesData(){\r\n      this.interpolaciones.forEach((interpolacion, index)=>{\r\n        interpolacion.mensaje=this.$refs.creadoresInterpolacion[index].mensaje;\r\n      });\r\n      this.interpolaciones=this.retirarTypeName(this.interpolaciones);\r\n    }\r\n  },\r\n  computed: {\r\n    mensajeIlegal() {\r\n      var mensajeTotal=this.mensaje?this.mensaje:'';\r\n      \r\n      this.interpolaciones.forEach(interpolacion=>{\r\n        if(interpolacion.mensaje){\r\n          mensajeTotal+=interpolacion.mensaje;\r\n        }\r\n      })\r\n\r\n      if (charProhibidosMensaje.test(mensajeTotal)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    enlaceAdjuntableIlegal() {\r\n      if (!this.enlaceAdjuntable) return true;\r\n      if (this.enlaceAdjuntable.substr(0, 8) != \"https://\") {\r\n        console.log(\r\n          `El inicio ${this.enlaceAdjuntable.substr(0, 8)} difiere del esperado`\r\n        );\r\n        return true;\r\n      }\r\n\r\n      if (this.enlaceAdjuntable.length < 7) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  mounted() {\r\n    console.log(`Revisando si hay idConversacion`);\r\n    if (!this.idConversacion) {\r\n      this.cuadroAbierto = true;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cuadroResponder {\r\n  border: 2px solid white;\r\n  margin: 5px;\r\n  border-radius: 10px;\r\n  background-color: #ffcda4;\r\n}\r\n#barraSuperior {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#imgMensaje {\r\n  margin: 5px;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-color: #e2a03d;\r\n}\r\n\r\n#zonaMensaje {\r\n  border: 2px solid black;\r\n  width: 80%;\r\n  margin: 5px auto;\r\n}\r\n\r\n#inputMensaje {\r\n  width: 100%;\r\n  display: block;\r\n  margin: 5px auto;\r\n  font-size: 20px;\r\n  background-color: transparent;\r\n  border: none;\r\n  outline: none;\r\n  resize: none;\r\n}\r\n#zonaInsertar {\r\n  width: 80%;\r\n  margin: 0px auto;\r\n}\r\n.bInsertar {\r\n  width: 30px;\r\n  cursor: pointer;\r\n  border: 1px solid black;\r\n  border-radius: 50%;\r\n}\r\n#inputArchivoAdjunto {\r\n  display: none;\r\n}\r\n#imgAdjuntar {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  background-color: #f5a25f;\r\n}\r\n#imgAdjuntar:hover {\r\n  background-color: #f7760e;\r\n}\r\n#nombreArchivoSeleccionado {\r\n  background-color: #55b95c;\r\n  padding: 3px;\r\n  border-radius: 10px;\r\n  display: inline-block;\r\n}\r\n\r\n#zonaIntroducirEnlace {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#imgAdjuntarEnlace {\r\n  border-radius: 50%;\r\n  padding: 3px;\r\n  background-color: #f5a25f;\r\n  width: 45px;\r\n  height: 45px;\r\n  cursor: pointer;\r\n}\r\n#imgAdjuntarEnlace:hover {\r\n  background-color: #f7760e;\r\n}\r\n.inputAdjuntarEnlace {\r\n  margin-left: 20px;\r\n  width: 350px;\r\n  padding: 3px 5px;\r\n  border-radius: 10px;\r\n}\r\n.enlaceAdjuntado {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 3px;\r\n}\r\n#nombreEnlaceAdjuntado {\r\n  width: 400px;\r\n  margin-left: 20px;\r\n  border-radius: 15px;\r\n  background-color: rgba(129, 66, 129, 0.349);\r\n  padding: 5px;\r\n}\r\n#nombreEnlaceAdjuntado:hover {\r\n  background-color: rgba(129, 66, 129, 0.733);\r\n}\r\n#nombreEnlaceAdjuntado > span {\r\n  font-style: italic;\r\n  font-size: 14px;\r\n  word-wrap: break-word;\r\n\r\n  padding: 3px 5px;\r\n}\r\n#bCancelarEnlaceAdjunto {\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n  background-color: rgb(219, 74, 74);\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  margin-left: 10px;\r\n}\r\n#bCancelarEnlaceAdjunto:hover {\r\n  background-color: red;\r\n}\r\n#bCancelarEnlaceAdjunto > .linea1 {\r\n  width: 90%;\r\n  height: 2px;\r\n  border-radius: 1px;\r\n  position: absolute;\r\n  top: 48%;\r\n  left: 5%;\r\n  background-color: black;\r\n  transform: rotate(45deg);\r\n}\r\n#bCancelarEnlaceAdjunto > .linea1 > .linea2 {\r\n  background-color: black;\r\n  width: 100%;\r\n  height: 2px;\r\n  border-radius: 1px;\r\n  transform: rotate(90deg);\r\n}\r\n#bAceptarAdjuntarEnlace {\r\n  margin-left: 10px;\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  background-color: rgb(138, 192, 194);\r\n  cursor: pointer;\r\n}\r\n#bAceptarAdjuntarEnlace:hover {\r\n  background-color: cadetblue;\r\n}\r\n#bEnviar {\r\n  display: block;\r\n  margin: 5px auto;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  background-color: #f5a25f;\r\n}\r\n#bEnviar:hover {\r\n  background-color: #f7760e;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroResponder.vue?vue&type=template&id=1cc9b412&scoped=true&\"\nimport script from \"./CuadroResponder.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroResponder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroResponder.vue?vue&type=style&index=0&id=1cc9b412&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cc9b412\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"respuesta\"},[_c('div',{staticClass:\"infoRespuesta\"},[_vm._v(_vm._s(_vm.fechaFormateada))]),_c('img',{staticClass:\"caritaAutor\",attrs:{\"src\":this.serverUrl +\n      '/api/usuarios/fotografias/' +\n      _vm.estaRespuesta.infoAutor.id,\"alt\":_vm.estaRespuesta.infoAutor.nombre}}),_c('div',{attrs:{\"id\":\"zonaCuerpoMensaje\"}},[_c('div',{staticClass:\"mensajeRespuesta\"},[_vm._v(\" \"+_vm._s(_vm.estaRespuesta.mensaje)+\" \")]),_vm._l((_vm.estaRespuesta.interpolaciones),function(interpolacion){return _c('interpolacion',{key:interpolacion.id,attrs:{\"estaInterpolacion\":interpolacion}})})],2),(\n      _vm.estaRespuesta.archivo && _vm.estaRespuesta.archivo.googleDriveDirectLink\n    )?_c('div',{attrs:{\"id\":\"archivo\"}},[_c('a',{attrs:{\"href\":_vm.estaRespuesta.archivo.googleDriveDirectLink}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/downloadFile.png\"),\"alt\":\"Descargar archivo\",\"id\":\"imgDownloadArchivo\"}})])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n      _vm.estaRespuesta.enlaceAdjunto && _vm.estaRespuesta.enlaceAdjunto.length > 0\n    ),expression:\"\\n      estaRespuesta.enlaceAdjunto && estaRespuesta.enlaceAdjunto.length > 0\\n    \"}],staticClass:\"enlacesAdjuntos\"},_vm._l((_vm.estaRespuesta.enlaceAdjunto),function(enlace,index){return _c('a',{key:index,attrs:{\"target\":\"_blank\",\"href\":enlace}},[_c('div',{staticClass:\"enlaceAdjunto\"},[_vm._v(\" \"+_vm._s(enlace)+\" \")])])}),0),_c('div',{staticClass:\"controles\"},[_c('img',{staticClass:\"botonInsertar\",attrs:{\"src\":require(\"@/assets/iconos/quote.png\"),\"alt\":\"Cita\",\"title\":\"Citar esta respuesta\"},on:{\"click\":_vm.emitirSolicitudCita}}),(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"controlRespuesta\",attrs:{\"id\":\"bEliminar\"},on:{\"click\":_vm.eliminarse}},[_vm._v(\" Eliminar \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"respuesta\">\r\n    <div class=\"infoRespuesta\">{{ fechaFormateada }}</div>\r\n    <img\r\n      :src=\"\r\n        this.serverUrl +\r\n        '/api/usuarios/fotografias/' +\r\n        estaRespuesta.infoAutor.id\r\n      \"\r\n      :alt=\"estaRespuesta.infoAutor.nombre\"\r\n      class=\"caritaAutor\"\r\n    />\r\n    <div id=\"zonaCuerpoMensaje\">\r\n      <div class=\"mensajeRespuesta\">\r\n        {{ estaRespuesta.mensaje }}\r\n      </div>\r\n      <interpolacion\r\n        v-for=\"interpolacion of estaRespuesta.interpolaciones\"\r\n        :key=\"interpolacion.id\"\r\n        :estaInterpolacion=\"interpolacion\"\r\n      />\r\n    </div>\r\n\r\n    <div\r\n      id=\"archivo\"\r\n      v-if=\"\r\n        estaRespuesta.archivo && estaRespuesta.archivo.googleDriveDirectLink\r\n      \"\r\n    >\r\n      <a :href=\"estaRespuesta.archivo.googleDriveDirectLink\">\r\n        <img\r\n          src=\"@/assets/iconos/downloadFile.png\"\r\n          alt=\"Descargar archivo\"\r\n          id=\"imgDownloadArchivo\"\r\n        />\r\n      </a>\r\n    </div>\r\n\r\n    <div\r\n      class=\"enlacesAdjuntos\"\r\n      v-show=\"\r\n        estaRespuesta.enlaceAdjunto && estaRespuesta.enlaceAdjunto.length > 0\r\n      \"\r\n    >\r\n      <a\r\n        target=\"_blank\"\r\n        :href=\"enlace\"\r\n        :key=\"index\"\r\n        v-for=\"(enlace, index) of estaRespuesta.enlaceAdjunto\"\r\n      >\r\n        <div class=\"enlaceAdjunto\">\r\n          {{ enlace }}\r\n        </div>\r\n      </a>\r\n    </div>\r\n\r\n    <div class=\"controles\">\r\n      <img\r\n        src=\"@/assets/iconos/quote.png\"\r\n        alt=\"Cita\"\r\n        title=\"Citar esta respuesta\"\r\n        class=\"botonInsertar\"\r\n        @click=\"emitirSolicitudCita\"\r\n      />\r\n      <div\r\n        class=\"controlRespuesta\"\r\n        id=\"bEliminar\"\r\n        v-if=\"usuarioSuperadministrador\"\r\n        @click=\"eliminarse\"\r\n      >\r\n        Eliminar\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Interpolacion from \"./Interpolacion.vue\";\r\nexport default {\r\n  components: { Interpolacion },\r\n  name: \"Respuesta\",\r\n  props: {\r\n    estaRespuesta: {\r\n      type: Object,\r\n    },\r\n    idConversacion: String,\r\n  },\r\n  computed: {\r\n    fechaFormateada: function () {\r\n      let laFecha = new Date(this.estaRespuesta.fecha).toString();\r\n      let indexParentesis = laFecha.indexOf(\"(\");\r\n      let fechaCorta = laFecha.substr(0, indexParentesis);\r\n      let indexGMT = fechaCorta.indexOf(\"GMT\");\r\n      if (indexGMT > -1) {\r\n        fechaCorta = fechaCorta.substr(0, indexGMT);\r\n      }\r\n      return fechaCorta;\r\n    },\r\n    usuarioAutor: function () {\r\n      if (this.usuario.id == this.estaRespuesta.infoAutor.id) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    emitirSolicitudCita(){\r\n      var quote={\r\n        mensaje: this.estaRespuesta.mensaje,\r\n        interpolaciones:this.estaRespuesta.interpolaciones,\r\n        infoAutor:this.estaRespuesta.infoAutor,\r\n        fecha:this.estaRespuesta.fecha \r\n      }\r\n\r\n      quote.interpolaciones.forEach(interpolacion=>{\r\n        delete interpolacion.__typename;\r\n      })\r\n      delete quote.infoAutor.__typename;\r\n\r\n      this.$emit('meQuierenCitar', quote)\r\n    },\r\n    eliminarse() {\r\n      let dis = this;\r\n      if (!confirm(\"Eliminando respuesta ¿Continuar?\")) {\r\n        return;\r\n      }\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n          mutation($idRespuesta: ID!, $idConversacion: ID!) {\r\n            eliminarRespuesta(\r\n              idRespuesta: $idRespuesta\r\n              idConversacion: $idConversacion\r\n            )\r\n          }\r\n        `,\r\n        variables: {\r\n          idRespuesta: this.estaRespuesta.id,\r\n          idConversacion: this.idConversacion,\r\n        },\r\n        update(store, { data: { eliminarRespuesta } }) {\r\n          if (eliminarRespuesta) {\r\n            console.log(`Respuesta eliminada`);\r\n            dis.$emit(\"meElimine\");\r\n          }\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.respuesta {\r\n  background-color: rgb(255 205 164);\r\n\r\n  border-radius: 15px;\r\n  display: grid;\r\n  grid-template-areas:\r\n    \"info info info\"\r\n    \"autor mensaje adjunto\"\r\n    \"... enlaceAdjunto enlaceAdjunto\"\r\n    \"controles controles controles\";\r\n  grid-template-columns: 100px 1fr 60px;\r\n  grid-template-rows: 50px 1fr min-content 15px;\r\n  row-gap: 10px;\r\n  align-items: center;\r\n  justify-items: center;\r\n  padding: 10px;\r\n}\r\n.infoRespuesta {\r\n  font-size: 10px;\r\n  margin: 5px 5px;\r\n  color: gray;\r\n  grid-area: info;\r\n  width: 100%;\r\n}\r\n#zonaCuerpoMensaje {\r\n  grid-area: mensaje;\r\n  width: 100%;\r\n  padding: 10px;\r\n  height: 100%;\r\n}\r\n.mensajeRespuesta {\r\n  white-space: pre-wrap;\r\n  margin-bottom: 15px;\r\n  font-size: 20px;\r\n}\r\n.caritaAutor {\r\n  width: 70px;\r\n  height: 70px;\r\n  border-radius: 50%;\r\n  grid-area: autor;\r\n  align-self: flex-start;\r\n}\r\n.controles {\r\n  grid-area: controles;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: row-reverse;\r\n  font-size: 13px;\r\n}\r\n.controlRespuesta {\r\n  padding: 3px;\r\n  cursor: pointer;\r\n}\r\n.controlRespuesta:hover {\r\n  background-color: red;\r\n}\r\n#archivo {\r\n  padding: 5px;\r\n}\r\n\r\n#imgDownloadArchivo {\r\n  grid-area: adjunto;\r\n  width: 45px;\r\n  height: 45px;\r\n  border-radius: 50%;\r\n  background-color: #4bb36b;\r\n}\r\n\r\n.enlacesAdjuntos {\r\n  grid-area: enlaceAdjunto;\r\n  justify-self: left;\r\n}\r\n.enlaceAdjunto {\r\n  font-style: italic;\r\n  font-size: 14px;\r\n  word-wrap: break-word;\r\n  border-radius: 15px;\r\n  background-color: rgba(129, 66, 129, 0.349);\r\n  padding: 3px 5px;\r\n  cursor: pointer;\r\n  max-width: 600px;\r\n  margin: 3px;\r\n}\r\n.enlaceAdjunto:hover {\r\n  background-color: rgba(129, 66, 129, 0.733);\r\n}\r\n.botonInsertar {\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n.botonInsertar:hover {\r\n  background-color: gray;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Respuesta.vue?vue&type=template&id=02ceacf0&scoped=true&\"\nimport script from \"./Respuesta.vue?vue&type=script&lang=js&\"\nexport * from \"./Respuesta.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Respuesta.vue?vue&type=style&index=0&id=02ceacf0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02ceacf0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    class=\"conversacion\"\r\n    :class=\"{\r\n      seleccionado,\r\n      deshabilitado: seleccionado && loading,\r\n      conRespuestasNoLeidas:\r\n        estaConversacion.cantidadRespuestas > cantidadRespuestasLeidasUsuario,\r\n    }\"\r\n  >\r\n    <div class=\"infoConversacion\">\r\n      {{ estaConversacion.cantidadRespuestas }} publicacion{{\r\n        estaConversacion.cantidadRespuestas > 1 ? \"es\" : \"\"\r\n      }}. Última publicación en {{ fechaFormateada }}\r\n    </div>\r\n    <div class=\"tituloConversacion\">\r\n      <img\r\n        src=\"@/assets/iconos/conversacion.png\"\r\n        alt=\"Conversacion\"\r\n        class=\"imagenConversacion\"\r\n      />\r\n      {{ estaConversacion.titulo }}\r\n      <span class=\"datosConversacion\">\r\n        <span\r\n          class=\"dato datoRespuestasNoLeidas\"\r\n          title=\"Respuestas nuevas en esta conversación\"\r\n          v-show=\"\r\n            estaConversacion.cantidadRespuestas >\r\n            cantidadRespuestasLeidasUsuario\r\n          \"\r\n        >\r\n          {{\r\n            estaConversacion.cantidadRespuestas -\r\n            cantidadRespuestasLeidasUsuario\r\n          }}\r\n        </span>\r\n      </span>\r\n    </div>\r\n\r\n    <div\r\n      class=\"zonaSelectorPaginas\"\r\n      v-if=\"numPaginas > 0\"\r\n      v-show=\"seleccionado\"\r\n    >\r\n      <div\r\n        class=\"selectorPagina\"\r\n        :class=\"{ selectorSeleccionado: index == numPaginaSeleccionada }\"\r\n        v-for=\"index in numPaginas\"\r\n        :key=\"index\"\r\n        @click=\"numPaginaSeleccionada = index\"\r\n      >\r\n        {{ index }}\r\n      </div>\r\n    </div>\r\n    <div class=\"zonaRespuestas\" v-show=\"seleccionado\">\r\n      <div class=\"zonaPaginas\">\r\n        <div\r\n          class=\"pagina\"\r\n          v-for=\"index in numPaginas\"\r\n          :key=\"'pagina' + index\"\r\n          v-show=\"numPaginaSeleccionada == index\"\r\n        >\r\n          <respuesta\r\n            v-for=\"respuesta of respuestasPorPagina[index]\"\r\n            :key=\"respuesta.id\"\r\n            :idConversacion=\"estaConversacion.id\"\r\n            :estaRespuesta=\"respuesta\"\r\n            @meQuierenCitar=\"citarRespuesta\"\r\n            @meElimine=\"updateRespuestaEliminada(respuesta.id, index)\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <cuadro-responder\r\n        ref=\"cuadroResponder\"\r\n        :parent=\"parent\"\r\n        v-if=\"\r\n          usuarioLogeado &&\r\n          (estaConversacion.acceso == 'publico' || usuarioMiembro == true) &&\r\n          estaConversacion.id\r\n        \"        \r\n        :idConversacion=\"estaConversacion.id\"\r\n        @hiceRespuesta=\"addRespuesta($event)\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"controlesConversacion\">\r\n      <!-- <div class=\"bEliminarConversacion\">Eliminar</div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport CuadroResponder from \"./CuadroResponder.vue\";\r\nimport Respuesta from \"./Respuesta.vue\";\r\nimport { fragmentoRespuesta } from \"../utilidades/recursosGql\";\r\n\r\nconst QUERY_RESPUESTAS = gql`\r\n  query($idConversacion: ID!, $pagina: Int!) {\r\n    respuestasPaginaDeConversacion(\r\n      idConversacion: $idConversacion\r\n      pagina: $pagina\r\n    ) {\r\n      pagina\r\n      numPaginas\r\n      respuestas {\r\n        ...fragRespuesta\r\n      }\r\n    }\r\n  }\r\n  ${fragmentoRespuesta}\r\n`;\r\n\r\nexport default {\r\n  components: { Respuesta, CuadroResponder },\r\n  name: \"Conversacion\",\r\n  apollo: {\r\n    numPaginas: {\r\n      query: QUERY_RESPUESTAS,\r\n      variables() {\r\n        return {\r\n          idConversacion: this.estaConversacion.id,\r\n          pagina: this.numPaginaSeleccionada,\r\n        };\r\n      },\r\n      update({\r\n        respuestasPaginaDeConversacion: { pagina, numPaginas, respuestas },\r\n      }) {        \r\n        this.$set(this.respuestasPorPagina, pagina, respuestas);\r\n        if (this.numPaginaSeleccionada != pagina) {\r\n          this.numPaginaSeleccionada = pagina;\r\n        }\r\n        this.loading = false;\r\n        return numPaginas;\r\n      },\r\n      skip() {\r\n        return !this.seleccionado;\r\n      },\r\n      fetchPolicy: \"no-cache\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      numPaginas: 0,\r\n      numPaginaSeleccionada: 0,\r\n      respuestasPorPagina: {},\r\n      loading: true,\r\n    };\r\n  },\r\n  props: {\r\n    estaConversacion: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          respuestas: [],\r\n        };\r\n      },\r\n    },\r\n    idForo: String,\r\n    parent: Object,\r\n    seleccionado: Boolean,\r\n    usuarioMiembro: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  methods: {\r\n    addRespuesta(nuevaRespuesta) {\r\n      var targetPagina = this.numPaginas;\r\n      if (\r\n        this.respuestasPorPagina[targetPagina].length >= 5 ||\r\n        targetPagina < 1\r\n      ) {\r\n        targetPagina++;\r\n        if (!this.respuestasPorPagina[targetPagina]) {\r\n          this.$set(this.respuestasPorPagina, targetPagina, []);\r\n        }\r\n      }\r\n      this.respuestasPorPagina[targetPagina].push(nuevaRespuesta);\r\n      this.$refs.cuadroResponder.cerrarse();\r\n      if (this.numPaginaSeleccionada != targetPagina) {\r\n        this.numPaginaSeleccionada = targetPagina;\r\n      }\r\n      console.log(`Emitiendo 'respuesta publicada'`);\r\n      this.$emit(\"respuestaPublicada\");\r\n    },\r\n    updateRespuestaEliminada(idRespuesta, pagina) {\r\n      console.log(`Respuesta ${idRespuesta} eliminada de la pagina ${pagina}`);\r\n      if (this.numPaginas == 1 && this.respuestasPorPagina[1].length < 2) {\r\n        console.log(`Era la ultima respuesta`);\r\n        this.$emit(\"meElimine\");\r\n      } else {\r\n        console.log(`Refreshing respuestas pagina`);\r\n        this.$apollo.queries.numPaginas.refresh();\r\n      }\r\n    },\r\n    citarRespuesta(quote){\r\n      this.$refs.cuadroResponder.interpolarQuote(quote);\r\n    }\r\n  },\r\n  computed: {\r\n    cantidadRespuestasLeidasUsuario() {\r\n      if (this.usuario && this.usuario.foros) {\r\n        const infoForo = this.usuario.foros.find(\r\n          (f) => f.idForo == this.idForo\r\n        );\r\n        if (!infoForo) {\r\n          return 0;\r\n        }\r\n        const infoConversacion = infoForo.conversaciones.find(\r\n          (c) => c.idConversacion == this.estaConversacion.id\r\n        );\r\n        if (!infoConversacion) {\r\n          return 0;\r\n        }\r\n        return infoConversacion.respuestasLeidas;\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n    fechaFormateada: function () {\r\n      if (\r\n        !this.estaConversacion.infoUltimaRespuesta ||\r\n        !this.estaConversacion.infoUltimaRespuesta.fecha\r\n      ) {\r\n        return \"Fecha desconocida\";\r\n      }\r\n      let laFecha = new Date(\r\n        this.estaConversacion.infoUltimaRespuesta.fecha\r\n      ).toString();\r\n      let indexParentesis = laFecha.indexOf(\"(\");\r\n      let fechaCorta = laFecha.substr(0, indexParentesis);\r\n      let indexGMT = fechaCorta.indexOf(\"GMT\");\r\n      if (indexGMT > -1) {\r\n        fechaCorta = fechaCorta.substr(0, indexGMT);\r\n      }\r\n      return fechaCorta;\r\n    },\r\n  },\r\n  watch:{\r\n    seleccionado(nuevo, viejo){\r\n      if(nuevo && !viejo){\r\n        this.$emit(\"meAbrieron\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.conversacion {\r\n  background-color: #fdc190;\r\n  border: 1px solid white;\r\n  padding: 0px 0px;\r\n}\r\n.conversacion:hover {\r\n  background-color: #f7b57f;\r\n}\r\n.conRespuestasNoLeidas {\r\n  background-color: #f8cca8;\r\n}\r\n.seleccionado {\r\n  background-color: #f7b57f;\r\n}\r\n.infoConversacion {\r\n  font-size: 10px;\r\n  font-style: italic;\r\n  color: gray;\r\n  text-align: right;\r\n}\r\n.respuesta {\r\n  margin: 5px;\r\n}\r\n.conversacion:not(.seleccionado) {\r\n  cursor: pointer;\r\n}\r\n.tituloConversacion {\r\n  padding: 15px 0px;\r\n  margin: 5px;\r\n  font-weight: bold;\r\n  display: grid;\r\n  align-items: center;\r\n  grid-template-columns: 35px 1fr 50px;\r\n  color: #9c1a1a;\r\n}\r\n.imagenConversacion {\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-right: 10px;\r\n}\r\n.datosConversacion {\r\n  padding: 10px 0px;\r\n}\r\n.dato {\r\n  margin: 0px 3px;\r\n  cursor: pointer;\r\n  border-radius: 10px;\r\n  padding: 3px;\r\n  text-align: center;\r\n  font-size: 12px;\r\n}\r\n\r\n.datoRespuestasNoLeidas {\r\n  border: 1px solid chocolate;\r\n  background-color: rgb(243, 206, 180);\r\n}\r\n\r\n.datoCantidadRespuestas {\r\n  border: 1px solid rgb(75, 73, 73);\r\n}\r\n.zonaRespuestas {\r\n  padding-left: 0px;\r\n}\r\n.controlesConversacion {\r\n  display: flex;\r\n  flex-flow: row-reverse;\r\n}\r\n.bEliminarConversacion {\r\n  padding: 3px;\r\n}\r\n.bEliminarConversacion:hover {\r\n  padding: 3px;\r\n  background-color: red;\r\n  cursor: pointer;\r\n}\r\n.zonaSelectorPaginas {\r\n  display: flex;\r\n  padding: 2px 10px;\r\n}\r\n.selectorPagina {\r\n  border: 1px solid black;\r\n  padding: 3px 5px;\r\n  margin: 2px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  background-color: #f7b57f;\r\n}\r\n\r\n.selectorPagina:hover {\r\n  background-color: #ffd0aa;\r\n}\r\n.selectorSeleccionado {\r\n  background-color: #ffd0aa;\r\n\r\n  pointer-events: none;\r\n  font-weight: bold;\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n  .tituloConversacion {\r\n    padding: 15px 10px;\r\n    margin: 5px;\r\n    font-weight: bold;\r\n    display: grid;\r\n    align-items: center;\r\n    grid-template-columns: 65px 1fr 90px;\r\n    color: #9c1a1a;\r\n  }\r\n  .imagenConversacion {\r\n    width: 50px;\r\n    height: 50px;\r\n    margin-right: 10px;\r\n  }\r\n  .dato {\r\n    margin: 0px 4px;\r\n    cursor: pointer;\r\n    border-radius: 10px;\r\n    padding: 6px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Conversacion.vue?vue&type=template&id=9e3ce0f2&scoped=true&\"\nimport script from \"./Conversacion.vue?vue&type=script&lang=js&\"\nexport * from \"./Conversacion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Conversacion.vue?vue&type=style&index=0&id=9e3ce0f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e3ce0f2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"foro\">\r\n    <div class=\"barraSuperiorForo\">\r\n      <div id=\"anuncio\" v-show=\"idConversacionSeleccionada === null\">\r\n        Conversaciones\r\n      </div>\r\n      <div\r\n        id=\"bRegresarConversaciones\"\r\n        v-show=\"idConversacionSeleccionada != null\"\r\n        @click=\"\r\n          idConversacionSeleccionada = null;\r\n          $apollo.queries.numPaginas.refetch();\r\n        \"\r\n      >\r\n        Volver a conversaciones\r\n      </div>\r\n      <div id=\"controlesForo\">\r\n        <div\r\n          class=\"controlesForo botonesControles\"\r\n          id=\"bCrearConversacion\"\r\n          v-if=\"\r\n            usuarioLogeado &&\r\n            (esteForo.acceso == 'publico' || usuarioMiembro == true) &&\r\n            esteForo.id\r\n          \"\r\n          v-show=\"!conversacionAbierta\"\r\n          @click=\"creandoConversacion = !creandoConversacion\"\r\n        >\r\n          {{ creandoConversacion ? \"Cancelar\" : \"Crear conversación\" }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"zonaConversaciones\">\r\n      <!-- <creador-conversacion\r\n        v-if=\"\r\n          usuarioLogeado &&\r\n          (esteForo.acceso == 'publico' || usuarioMiembro == true) &&\r\n          esteForo.id\r\n        \"\r\n        :idForo=\"esteForo.id\"\r\n        :parent=\"parent\"\r\n        v-show=\"creandoConversacion\"\r\n        @hiceConversacion=\"addConversacion($event)\"\r\n      /> -->\r\n      <div\r\n        id=\"zonaCrearConversacion\"\r\n        v-if=\"\r\n          usuarioLogeado &&\r\n          (esteForo.acceso == 'publico' || usuarioMiembro == true) &&\r\n          esteForo.id\r\n        \"\r\n        v-show=\"creandoConversacion\"\r\n      >\r\n        <center><h3>Creando conversación</h3></center>\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"tituloNuevaConversacion\"\r\n          id=\"inputTituloNuevaConversacion\"\r\n          placeholder=\"Titulo de la nueva conversación\"\r\n          :class=\"{ letrasRojas: tituloNuevaConversacionIlegal }\"\r\n        />\r\n        <cuadro-responder\r\n          :idForo=\"esteForo.id\"\r\n          :parent=\"parent\"\r\n          :tituloNuevaConversacion=\"tituloNuevaConversacion\"\r\n          :class=\"{ deshabilitado: tituloNuevaConversacionIlegal }\"\r\n          @hiceConversacion=\"addConversacion($event)\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"zonaSelectorPagina\" v-if=\"numPaginas && !conversacionAbierta\">\r\n        <div\r\n          class=\"selectorPagina\"\r\n          v-for=\"index in numPaginas\"\r\n          :key=\"index\"\r\n          :class=\"{ selectorSeleccionado: index == numPaginaSeleccionada }\"\r\n          @click=\"numPaginaSeleccionada = index\"\r\n        >\r\n          {{ index }}\r\n        </div>\r\n      </div>\r\n      <div class=\"zonaPaginasConversaciones\" v-if=\"numPaginas\">\r\n        <div\r\n          class=\"paginaConversaciones\"\r\n          :key=\"index\"\r\n          v-for=\"index in numPaginas\"\r\n        ></div>\r\n        <conversacion\r\n          v-for=\"conversacion of conversacionesPorPagina[numPaginaSeleccionada]\"\r\n          :key=\"conversacion.id\"\r\n          :estaConversacion=\"conversacion\"\r\n          :seleccionado=\"idConversacionSeleccionada == conversacion.id\"\r\n          :usuarioMiembro=\"usuarioMiembro\"\r\n          :idForo=\"idForo\"\r\n          :parent=\"parent\"\r\n          v-show=\"\r\n            idConversacionSeleccionada == conversacion.id ||\r\n            !conversacionAbierta\r\n          \"\r\n          @click.native=\"idConversacionSeleccionada = conversacion.id\"\r\n          @meAbrieron=\"\r\n            setTodaConversacionLeida(conversacion.id)\r\n          \"\r\n          @meElimine=\"refreshPagina\"\r\n          @respuestaPublicada=\"\r\n            setTodaConversacionLeida(\r\n              conversacion.id,\r\n              conversacion.cantidadRespuestas\r\n            )\r\n          \"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\n// import CreadorConversacion from \"./foros/CreadorConversacion.vue\";\r\nimport { fragmentoConversacion } from \"./utilidades/recursosGql\";\r\nimport Conversacion from \"./foros/Conversacion.vue\";\r\nimport CuadroResponder from \"./foros/CuadroResponder.vue\";\r\n\r\nconst charProhibidosTituloNuevaConversacion = /[^ a-zA-ZÀ-ž0-9_():.,-¡!¿?]/;\r\n\r\nconst QUERY_FORO = gql`\r\n  query($idForo: ID!) {\r\n    foro(idForo: $idForo) {\r\n      id\r\n      acceso\r\n      miembros\r\n    }\r\n  }\r\n`;\r\n\r\nconst QUERY_CONVERSACIONES_PAGINA = gql`\r\n  query($idForo: ID!, $pagina: Int!) {\r\n    conversacionesPaginaForo(idForo: $idForo, pagina: $pagina) {\r\n      pagina\r\n      numPaginas\r\n      conversaciones {\r\n        ...fragConversacion\r\n      }\r\n    }\r\n  }\r\n  ${fragmentoConversacion}\r\n`;\r\n\r\nexport default {\r\n  components: { Conversacion, CuadroResponder },\r\n  name: \"Foro\",\r\n  apollo: {\r\n    esteForo: {\r\n      query: QUERY_FORO,\r\n      variables() {\r\n        return {\r\n          idForo: this.idForo,\r\n        };\r\n      },\r\n      fetchPolicy: \"cache-and-network\",\r\n      update: (data) => {\r\n        return data.foro;\r\n      },\r\n      skip() {\r\n        return !this.idForo;\r\n      },\r\n    },\r\n    numPaginas: {\r\n      query: QUERY_CONVERSACIONES_PAGINA,\r\n      variables() {\r\n        return {\r\n          idForo: this.idForo,\r\n          pagina: this.numPaginaSeleccionada,\r\n        };\r\n      },\r\n      fetchPolicy: \"no-cache\",\r\n      skip() {\r\n        return !this.idForo;\r\n      },\r\n      update({\r\n        conversacionesPaginaForo: { conversaciones, pagina, numPaginas },\r\n      }) {\r\n        if (this.numPaginaSeleccionada != pagina) {\r\n          this.numPaginaSeleccionada = pagina;\r\n        }\r\n        this.$set(this.conversacionesPorPagina, pagina, conversaciones);\r\n        return numPaginas;\r\n      },\r\n    },\r\n  },\r\n  props: {\r\n    idForo: String,\r\n    parent: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      esteForo: {\r\n        miembros: [],\r\n        conversaciones: [],\r\n      },\r\n      idConversacionSeleccionada: null,\r\n      creandoConversacion: false,\r\n      numPaginaSeleccionada: 0,\r\n      conversacionesPorPagina: {},\r\n\r\n      tituloNuevaConversacion: null,\r\n    };\r\n  },\r\n  methods: {\r\n    addConversacion(nuevaConversacion) {\r\n      this.creandoConversacion = false;\r\n      // var targetPagina = this.numPaginas;\r\n      // console.log(`Target página: ${targetPagina}`);\r\n      // if (\r\n      //   this.conversacionesPorPagina[targetPagina].length >= 6 ||\r\n      //   targetPagina < 1\r\n      // ) {\r\n      //   targetPagina++;\r\n      //   if (!this.conversacionesPorPagina[targetPagina]) {\r\n      //     this.$set(this.conversacionesPorPagina, targetPagina, []);\r\n      //   }\r\n      // }\r\n      // console.log(`Pushing en targetPagina ${targetPagina}`);\r\n      // this.conversacionesPorPagina[targetPagina].push(nuevaConversacion);\r\n      this.setTodaConversacionLeida(nuevaConversacion.id);\r\n\r\n      // if (this.numPaginaSeleccionada != targetPagina) {\r\n      //   this.numPaginaSeleccionada = targetPagina;\r\n      // }\r\n      this.tituloNuevaConversacion = null;\r\n      this.numPaginaSeleccionada=1;\r\n      this.$apollo.queries.numPaginas.refetch();\r\n\r\n\r\n    },\r\n    refreshPagina() {\r\n      //let store = this.$apollo.provider.defaultClient;\r\n      this.idConversacionSeleccionada = null;\r\n      this.$apollo.queries.numPaginas.refresh();\r\n    },    \r\n    setTodaConversacionLeida(idConversacion) {\r\n      if (!this.usuario || !this.usuario.id) {\r\n        return;\r\n      } else {\r\n        console.log(`Setting toda conversación leida`);\r\n\r\n        this.$apollo\r\n          .mutate({\r\n            mutation: gql`\r\n              mutation($idUsuario: ID!, $idForo: ID!, $idConversacion: ID!) {\r\n                setTodasRespuestasConversacionLeidasPorUsuario(\r\n                  idUsuario: $idUsuario\r\n                  idForo: $idForo\r\n                  idConversacion: $idConversacion\r\n                )\r\n              }\r\n            `,\r\n            variables: {\r\n              idUsuario: this.usuario.id,\r\n              idForo: this.idForo,\r\n              idConversacion,\r\n            },\r\n          })\r\n          .then(\r\n            ({ data: { setTodasRespuestasConversacionLeidasPorUsuario } }) => {\r\n              console.log(\r\n                `Resultado: ${setTodasRespuestasConversacionLeidasPorUsuario}`\r\n              );\r\n\r\n              this.$store.commit(\"setRespuestasLeidasConversacionUsuario\", {\r\n                idForo: this.idForo,\r\n                idConversacion,\r\n                respuestasLeidas: setTodasRespuestasConversacionLeidasPorUsuario,\r\n              });\r\n            }\r\n          )\r\n          .catch((error) => {\r\n            console.log(`Error. E: ${error}`);\r\n          });\r\n      }\r\n    },\r\n    setConversacionLeida(idConversacion, cantidadRespuestasLeidas) {\r\n      if (!this.usuario || !this.usuario.id) {\r\n        return;\r\n      } else {\r\n        console.log(`Setting conversación leida`);\r\n\r\n        this.$apollo\r\n          .mutate({\r\n            mutation: gql`\r\n              mutation(\r\n                $idUsuario: ID!\r\n                $idForo: ID!\r\n                $idConversacion: ID!\r\n                $cantidadRespuestasLeidas: Int!\r\n              ) {\r\n                setCantidadRespuestasConversacionLeidasPorUsuario(\r\n                  idUsuario: $idUsuario\r\n                  idForo: $idForo\r\n                  idConversacion: $idConversacion\r\n                  cantidadRespuestasLeidas: $cantidadRespuestasLeidas\r\n                )\r\n              }\r\n            `,\r\n            variables: {\r\n              idUsuario: this.usuario.id,\r\n              idForo: this.idForo,\r\n              idConversacion,\r\n              cantidadRespuestasLeidas: parseInt(cantidadRespuestasLeidas),\r\n            },\r\n          })\r\n          .then(\r\n            ({\r\n              data: { setCantidadRespuestasConversacionLeidasPorUsuario },\r\n            }) => {\r\n              console.log(\r\n                `Resultado: ${setCantidadRespuestasConversacionLeidasPorUsuario}`\r\n              );\r\n              if (setCantidadRespuestasConversacionLeidasPorUsuario) {\r\n                this.$store.commit(\"setRespuestasLeidasConversacionUsuario\", {\r\n                  idForo: this.idForo,\r\n                  idConversacion,\r\n                  respuestasLeidas: cantidadRespuestasLeidas,\r\n                });\r\n              }\r\n            }\r\n          )\r\n          .catch((error) => {\r\n            console.log(`Error. E: ${error}`);\r\n          });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    usuarioMiembro() {\r\n      if (this.esteForo.acceso == \"publico\") {\r\n        return true;\r\n      } else if (this.esteForo.acceso == \"privado\") {\r\n        if (this.esteForo.miembros.includes(this.$store.state.usuario.id)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    conversacionAbierta() {\r\n      return this.idConversacionSeleccionada;\r\n    },\r\n    tituloNuevaConversacionIlegal() {\r\n      if (\r\n        !this.tituloNuevaConversacion ||\r\n        this.tituloNuevaConversacion.length < 1\r\n      ) {\r\n        return true;\r\n      }\r\n      if (\r\n        charProhibidosTituloNuevaConversacion.test(this.tituloNuevaConversacion)\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.foro {\r\n  border: 2px solid white;\r\n  background-color: rgb(239 158 93);\r\n  margin: 0px auto;\r\n}\r\n#nombreForo {\r\n  text-align: center;\r\n  font-size: 22px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.barraSuperiorForo {\r\n  display: grid;\r\n  grid-template-columns: 1fr 100px 1fr;\r\n}\r\n\r\n#bRegresarConversaciones {\r\n  padding: 15px 5px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  border-radius: 7px;\r\n  grid-column: 2/3;\r\n  justify-self: center;\r\n  align-self: center;\r\n  border: 1px solid black;\r\n  margin: 10px;\r\n  background-color: #f5a25f;\r\n}\r\n#bRegresarConversaciones:hover {\r\n  background-color: #f8cba6;\r\n}\r\n#controlesForo {\r\n  margin-left: auto;\r\n  display: flex;\r\n  flex-flow: row-reverse;\r\n  grid-column: 3/4;\r\n}\r\n.controlesForo {\r\n  margin-left: 10px;\r\n}\r\n.botonesControles {\r\n  padding: 3px 5px;\r\n  cursor: pointer;\r\n}\r\n.botonesControles:hover {\r\n  background-color: #f8cba6;\r\n}\r\n.zonaConversaciones {\r\n  padding-left: 0px;\r\n}\r\n\r\n.zonaSelectorPagina {\r\n  display: flex;\r\n  padding: 2px 10px;\r\n}\r\n.selectorPagina {\r\n  border: 1px solid black;\r\n  padding: 3px 5px;\r\n  margin: 2px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  background-color: #f7b57f;\r\n}\r\n\r\n.selectorPagina:hover {\r\n  background-color: #ffd0aa;\r\n}\r\n.selectorSeleccionado {\r\n  background-color: #ffd0aa;\r\n  pointer-events: none;\r\n  font-weight: bold;\r\n}\r\n#anuncio {\r\n  padding: 5px 5px;\r\n}\r\n#zonaCrearConversacion {\r\n  border: 2px solid cadetblue;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  background-color: rgba(95, 158, 160, 0.329);\r\n}\r\n#inputTituloNuevaConversacion {\r\n  font-size: 20px;\r\n  padding: 3px 5px;\r\n  width: min(80%, 500px);\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Foro.vue?vue&type=template&id=bfb90dd8&scoped=true&\"\nimport script from \"./Foro.vue?vue&type=script&lang=js&\"\nexport * from \"./Foro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Foro.vue?vue&type=style&index=0&id=bfb90dd8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bfb90dd8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"visorNodoConocimiento\">\r\n    <loading texto=\"\" v-show=\"$apollo.queries.esteNodo.loading\" />\r\n    <div id=\"zonaTitulo\" v-show=\"!$apollo.queries.esteNodo.loading\">\r\n      <div id=\"iconoNodo\">\r\n        <img src=\"@/assets/iconos/lightbulb.svg\" alt=\"Idea\" />\r\n      </div>\r\n      <div id=\"zonaNombre\">\r\n        <div id=\"nombre\" v-show=\"!editandoNombre\" @click=\"iniciarEdicionNombre\">\r\n          {{ esteNodo.nombre }}\r\n        </div>\r\n        <input\r\n          @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n          ref=\"inputNuevoNombre\"\r\n          style=\"width: 250px\"\r\n          @blur=\"guardarNuevoNombre\"\r\n          v-show=\"editandoNombre\"\r\n          type=\"text\"\r\n          class=\"inputNombreCosa\"\r\n          id=\"inputNuevoNombre\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      id=\"zonaSelectoresContenido\"\r\n      v-show=\"!$apollo.queries.esteNodo.loading\"\r\n    >\r\n      <div\r\n        class=\"boton selectorContenido selector\"\r\n        :class=\"{ activo: mostrandoContenido === 'estudiar' }\"\r\n        :title=\"mostrandoContenido != 'estudiar' ? 'Mostrar contenido' : ''\"\r\n        @click=\"mostrandoContenido = 'estudiar'\"\r\n      >\r\n        <img src=\"@/assets/iconos/readme.svg\" alt=\"Readme\" />\r\n      </div>\r\n      <div\r\n        class=\"boton selectorContenido selector\"\r\n        :class=\"{ activo: mostrandoContenido === 'expertos' }\"\r\n        :title=\"mostrandoContenido != 'expertos' ? 'Mostrar expertos' : ''\"\r\n        @click=\"mostrandoContenido = 'expertos'\"\r\n      >\r\n        <img src=\"@/assets/iconos/teacher.svg\" alt=\"Teacher\" />\r\n      </div>\r\n      <div\r\n        class=\"boton selectorContenido selector\"\r\n        :class=\"{ activo: mostrandoContenido === 'foros' }\"\r\n        :title=\"mostrandoContenido != 'foros' ? 'Mostrar foros' : ''\"\r\n        @click=\"mostrandoContenido = 'foros'\"\r\n      >\r\n        <img src=\"@/assets/iconos/comments.svg\" alt=\"Readme\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"zonaContenidos\" v-show=\"!$apollo.queries.esteNodo.loading\">\r\n      <div id=\"zonaSecciones\" v-show=\"mostrandoContenido === 'estudiar'\">\r\n        <div id=\"zonaTituloSeccion\">\r\n          <div\r\n            id=\"nombreSeccionSeleccionada\"\r\n            @click=\"mostrandoMenuSecciones = true\"\r\n          >\r\n            {{\r\n              seccionSeleccionada ? seccionSeleccionada.nombre : \"Descripción\"\r\n            }}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          id=\"contenedorSelectoresSeccion\"\r\n          v-show=\"mostrandoMenuSecciones\"\r\n          @click=\"mostrandoMenuSecciones = false\"\r\n        >\r\n          <div class=\"contenedorControles\">\r\n            <div\r\n              class=\"boton\"\r\n              title=\"Crear nueva sección\"\r\n              v-if=\"usuarioExperto\"\r\n              v-show=\"!creandoNuevaSeccion\"\r\n              @click.stop=\"crearNuevaSeccion\"\r\n            >\r\n              <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Plus\" />\r\n            </div>\r\n            <loading text=\"\" v-show=\"creandoNuevaSeccion\" />\r\n          </div>\r\n          <div class=\"selectorSeccion\" @click=\"mostrandoSeccion = null\">\r\n            Descripcion\r\n          </div>\r\n          <div\r\n            class=\"selectorSeccion\"\r\n            @click=\"mostrandoSeccion = seccion.id\"\r\n            v-for=\"seccion of esteNodo.secciones\"\r\n            :key=\"seccion.id\"\r\n          >\r\n            <div class=\"nombreSeccionSelector\">\r\n              {{ seccion.nombre }}\r\n            </div>\r\n            <div\r\n              class=\"boton\"\r\n              title=\"Eliminar\"\r\n              v-show=\"usuarioExperto\"\r\n              @click.stop=\"eliminarSeccion(seccion.id)\"\r\n            >\r\n              <img src=\"@/assets/iconos/trash.svg\" alt=\"Eliminar\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          id=\"zonaDescripcion\"\r\n          v-show=\"!seccionSeleccionada && !mostrandoMenuSecciones\"\r\n        >\r\n          <div\r\n            id=\"descripcion\"\r\n            class=\"contenidoTexto\"\r\n            ref=\"descripcion\"\r\n            v-show=\"!editandoDescripcion\"\r\n            @click=\"toggleEditandoDescripcion\"\r\n          >\r\n            {{ esteNodo.descripcion }}\r\n          </div>\r\n\r\n          <textarea\r\n            id=\"inputNuevoDescripcion\"\r\n            ref=\"inputNuevoDescripcion\"\r\n            class=\"inputTextoNodo\"\r\n            v-model=\"nuevoDescripcion\"\r\n            v-show=\"editandoDescripcion\"\r\n          />\r\n          <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\r\n            <img\r\n              src=\"@/assets/iconos/save.svg\"\r\n              class=\"botonGuardarCampo\"\r\n              alt=\"Guardar\"\r\n              title=\"Guardar descripción\"\r\n              id=\"botonGuardarDescripcion\"\r\n              @click=\"guardarNuevoDescripcion\"\r\n            />\r\n            <img\r\n              src=\"@/assets/iconos/equis.svg\"\r\n              class=\"botonGuardarCampo\"\r\n              alt=\"Cancelar\"\r\n              title=\"Cancelar edición\"\r\n              id=\"botonCancelarEdicionDescripcion\"\r\n              @click=\"editandoDescripcion = false\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <seccion-nodo-conocimiento\r\n          :key=\"seccionSeleccionada.id\"\r\n          v-show=\"seccionSeleccionada && !mostrandoMenuSecciones\"\r\n          v-if=\"esteNodo.id && seccionSeleccionada\"\r\n          :idNodo=\"esteNodo.id\"\r\n          :estaSeccion=\"seccionSeleccionada\"\r\n          :usuarioExperto=\"usuarioExperto\"\r\n          @subiArchivo=\"addArchivoSeccionCache($event, seccionSeleccionada.id)\"\r\n          @archivoEliminado=\"\r\n            deleteArchivoSeccionCache($event, seccionSeleccionada.id)\r\n          \"\r\n          @tengoNuevoPrimario=\"\r\n            setPrimarioSeccionCache($event, seccionSeleccionada.id)\r\n          \"\r\n        />\r\n      </div>\r\n\r\n      <div id=\"zonaExpertos\" v-show=\"mostrandoContenido === 'expertos'\">\r\n        <div class=\"contenedorControles\">\r\n          <div\r\n            class=\"boton\"\r\n            v-show=\"\r\n              !enviandoQueryExpertos &&\r\n              !idExpertoSeleccionado &&\r\n              !usuarioExperto\r\n            \"\r\n            :title=\"\r\n              esteNodo.expertos.length < 1\r\n                ? 'Asumir'\r\n                : 'Quiero aportar como experto en este tema'\r\n            \"\r\n            @click=\"intentarEntrarExpertos(usuario.id)\"\r\n          >\r\n            <img src=\"@/assets/iconos/mas.svg\" alt=\"Mas\" />\r\n          </div>\r\n          <div\r\n            class=\"boton\"\r\n            v-show=\"\r\n              !enviandoQueryExpertos &&\r\n              idExpertoSeleccionado &&\r\n              ((esteNodo.posiblesExpertos.includes(idExpertoSeleccionado) &&\r\n                usuarioExperto) ||\r\n                usuarioSuperadministrador ||\r\n                usuarioAdministradorAtlas)\r\n            \"\r\n            title=\"Aceptar como experto\"\r\n            @click=\"intentarEntrarExpertos(idExpertoSeleccionado)\"\r\n          >\r\n            <img src=\"@/assets/iconos/handshake.svg\" alt=\"Handshake\" />\r\n          </div>\r\n          <div\r\n            class=\"boton\"\r\n            v-show=\"\r\n              !enviandoQueryExpertos &&\r\n              !idExpertoSeleccionado &&\r\n              (usuarioExperto ||\r\n                esteNodo.posiblesExpertos.includes(idExpertoSeleccionado))\r\n            \"\r\n            title=\"abandonar\"\r\n            @click=\"abandonarListaExpertos(usuario.id)\"\r\n          >\r\n            <img src=\"@/assets/iconos/minus.svg\" alt=\"Menos\" />\r\n          </div>\r\n          <loading texto=\"\" v-show=\"enviandoQueryExpertos\" />\r\n        </div>\r\n        <div id=\"listaExpertos\" @click.self=\"idExpertoSeleccionado = null\">\r\n          <icono-persona-autonomo\r\n            texto=\"\"\r\n            v-for=\"idExperto of esteNodo.expertos.concat(\r\n              esteNodo.posiblesExpertos\r\n            )\"\r\n            :seleccionado=\"idExpertoSeleccionado === idExperto\"\r\n            :key=\"idExperto\"\r\n            factorEscala=\"0.8\"\r\n            :style=\"{\r\n              opacity: esteNodo.posiblesExpertos.includes(idExperto) ? 0.5 : 1,\r\n            }\"\r\n            :idPersona=\"idExperto\"\r\n            @click.native=\"idExpertoSeleccionado = idExperto\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        id=\"zonaForos\"\r\n        ref=\"zonaForos\"\r\n        v-show=\"mostrandoContenido == 'foros'\"\r\n      >\r\n        <div class=\"nombreForo\" v-if=\"usuarioExperto\">Foro expertos</div>\r\n        <foro\r\n          :parent=\"infoAsParent\"\r\n          v-if=\"usuarioExperto\"\r\n          :idForo=\"esteNodo.idForoExpertos\"\r\n        />\r\n        <br v-if=\"usuarioExperto\" />\r\n        <div class=\"nombreForo\">Foro público</div>\r\n        <foro :parent=\"infoAsParent\" :idForo=\"esteNodo.idForoPublico\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport SeccionNodoConocimiento from \"./SeccionNodoConocimiento.vue\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport IconoPersonaAutonomo from \"../usuario/IconoPersonaAutonomo.vue\";\r\nimport Foro from \"../Foro.vue\";\r\nimport { charProhibidosNombreCosa } from \"../configs\";\r\n\r\nconst QUERY_NODO = gql`\r\n  query ($idNodo: ID!) {\r\n    nodo(idNodo: $idNodo) {\r\n      nombre\r\n      id\r\n      descripcion\r\n      clases {\r\n        id\r\n        nombre\r\n        idExperto\r\n        descripcion\r\n        interesados\r\n      }\r\n      keywords\r\n      expertos\r\n      posiblesExpertos\r\n      clases {\r\n        id\r\n      }\r\n      idForoPublico\r\n      idForoExpertos\r\n      secciones {\r\n        id\r\n        nombre\r\n        modo\r\n        archivos {\r\n          nombre\r\n          primario\r\n        }\r\n        tipoPrimario\r\n      }\r\n      vinculos {\r\n        idRef\r\n        rol\r\n        tipo\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default {\r\n  components: { SeccionNodoConocimiento, Loading, IconoPersonaAutonomo, Foro },\r\n  name: \"VisorNodoConocimiento\",\r\n  apollo: {\r\n    esteNodo: {\r\n      query: QUERY_NODO,\r\n      variables() {\r\n        return {\r\n          idNodo: this.$route.params.idNodo,\r\n        };\r\n      },\r\n      update({ nodo }) {\r\n        return nodo;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      esteNodo: {\r\n        expertos: [],\r\n        posiblesExpertos: [],\r\n      },\r\n      mostrandoContenido: \"estudiar\",\r\n      mostrandoSeccion: null,\r\n      mostrandoMenuSecciones: false,\r\n      creandoNuevaSeccion: false,\r\n      idExpertoSeleccionado: null,\r\n      enviandoQueryExpertos: false,\r\n\r\n      editandoNombre: false,\r\n      enviandoNuevoNombre: false,\r\n\r\n      nuevoDescripcion: null,\r\n      editandoDescripcion: false,\r\n    };\r\n  },\r\n  methods: {\r\n    deleteArchivoSeccionCache(nombreArchivo, idSeccion) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n\r\n      const cache = store.readQuery({\r\n        query: QUERY_NODO,\r\n        variables: {\r\n          idNodo: this.esteNodo.id,\r\n        },\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n\r\n      var laSeccion = nuevoCache.nodo.secciones.find((s) => s.id == idSeccion);\r\n      if (!laSeccion) {\r\n        console.log(`Seccion no encontrada`);\r\n        return;\r\n      }\r\n\r\n      var indexA = laSeccion.archivos.findIndex(\r\n        (a) => a.nombre === nombreArchivo\r\n      );\r\n      if (indexA > -1) {\r\n        laSeccion.archivos.splice(indexA, 1);\r\n        store.writeQuery({\r\n          query: QUERY_NODO,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n          },\r\n          data: nuevoCache,\r\n        });\r\n      } else {\r\n        console.log(`Archivo no encontrado`);\r\n      }\r\n    },\r\n    addArchivoSeccionCache(infoArchivo, idSeccion) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_NODO,\r\n        variables: {\r\n          idNodo: this.esteNodo.id,\r\n        },\r\n      });\r\n\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var laSeccion = nuevoCache.nodo.secciones.find((s) => s.id == idSeccion);\r\n      laSeccion.archivos.push(infoArchivo);\r\n      store.writeQuery({\r\n        query: QUERY_NODO,\r\n        variables: {\r\n          idNodo: this.esteNodo.id,\r\n        },\r\n        data: nuevoCache,\r\n      });\r\n    },\r\n    eliminarSeccion(idSeccion) {\r\n      if (!this.usuarioExperto) {\r\n        return;\r\n      }\r\n      if (\r\n        !confirm(\r\n          \"Eliminando esta sección con todos sus contenidos. ¿Continuar?\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n      console.log(`Enviando mutación de eliminar seccion ${idSeccion}`);\r\n      const dis = this;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $idSeccion: ID!) {\r\n              eliminarSeccionNodoConocimiento(\r\n                idNodo: $idNodo\r\n                idSeccion: $idSeccion\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            idSeccion,\r\n          },\r\n        })\r\n        .then(({ data: { eliminarSeccionNodoConocimiento } }) => {\r\n          console.log(`resultado: ${eliminarSeccionNodoConocimiento}`);\r\n          if (eliminarSeccionNodoConocimiento) {\r\n            let store = dis.$apollo.provider.defaultClient;\r\n            const cache = store.readQuery({\r\n              query: QUERY_NODO,\r\n              variables: { idNodo: dis.esteNodo.id },\r\n            });\r\n            var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n\r\n            const indexS = nuevoCache.nodo.secciones.findIndex(\r\n              (s) => s.id == idSeccion\r\n            );\r\n            if (indexS > -1) {\r\n              nuevoCache.nodo.secciones.splice(indexS, 1);\r\n              store.writeQuery({\r\n                query: QUERY_NODO,\r\n                variables: {\r\n                  idNodo: dis.esteNodo.id,\r\n                },\r\n                data: nuevoCache,\r\n              });\r\n            } else {\r\n              console.log(`Seccion no encontrada`);\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: E: ${error}`);\r\n        });\r\n    },\r\n    crearNuevaSeccion() {\r\n      if (!this.usuarioExperto) {\r\n        return;\r\n      }\r\n      this.creandoNuevaSeccion = true;\r\n      const dis = this;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!) {\r\n              crearNuevaSeccionNodoConocimiento(idNodo: $idNodo) {\r\n                id\r\n                nombre\r\n                modo\r\n                archivos {\r\n                  nombre\r\n                  primario\r\n                }\r\n                tipoPrimario\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n          },\r\n        })\r\n        .then(({ data: { crearNuevaSeccionNodoConocimiento } }) => {\r\n          let store = dis.$apollo.provider.defaultClient;\r\n          const cache = store.readQuery({\r\n            query: QUERY_NODO,\r\n            variables: { idNodo: dis.esteNodo.id },\r\n          });\r\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n          nuevoCache.nodo.secciones.push(crearNuevaSeccionNodoConocimiento);\r\n\r\n          store.writeQuery({\r\n            query: QUERY_NODO,\r\n            variables: { idNodo: dis.esteNodo.id },\r\n            data: nuevoCache,\r\n          });\r\n\r\n          this.creandoNuevaSeccion = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error. E: ${error}`);\r\n          this.creandoNuevaSeccion = false;\r\n        });\r\n    },\r\n    setPrimarioSeccionCache(nombreNuevoPrimario, idSeccion) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n\r\n      const cache = store.readQuery({\r\n        query: QUERY_NODO,\r\n        variables: {\r\n          idNodo: this.esteNodo.id,\r\n        },\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n\r\n      var laSeccion = nuevoCache.nodo.secciones.find((s) => s.id == idSeccion);\r\n      if (!laSeccion) {\r\n        console.log(`Seccion no encontrada`);\r\n        return;\r\n      }\r\n\r\n      var indexA = laSeccion.archivos.findIndex(\r\n        (a) => a.nombre === nombreNuevoPrimario\r\n      );\r\n\r\n      laSeccion.archivos.forEach((a) => (a.primario = false));\r\n      laSeccion.archivos[indexA].primario = true;\r\n\r\n      store.writeQuery({\r\n        query: QUERY_NODO,\r\n        variables: {\r\n          idNodo: this.esteNodo.id,\r\n        },\r\n        data: nuevoCache,\r\n      });\r\n    },\r\n    intentarEntrarExpertos(idCandidato) {\r\n      console.log(\r\n        `enviando id ${this.$store.state.usuario.id} para entrar a expertos del nodo con id ${this.esteNodo.id}`\r\n      );\r\n      this.enviandoQueryExpertos = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $idUsuario: ID!) {\r\n              addExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {\r\n                id\r\n                expertos\r\n                posiblesExpertos\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            idUsuario: idCandidato,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryExpertos = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryExpertos = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    abandonarListaExpertos(idCandidato) {\r\n      console.log(`Abandonando la responsabilidad en este nodo`);\r\n      if (\r\n        !this.usuarioExperto &&\r\n        !this.esteNodo.posiblesExpertos.includes(this.usuario.id)\r\n      ) {\r\n        return;\r\n      }\r\n      this.enviandoQueryExpertos = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $idUsuario: ID!) {\r\n              removeExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {\r\n                id\r\n                expertos\r\n                posiblesExpertos\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            idUsuario: idCandidato,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryExpertos = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryExpertos = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    iniciarEdicionNombre() {\r\n      if (\r\n        !this.usuarioExperto &&\r\n        !this.usuarioAdministradorAtlas &&\r\n        !this.usuarioSuperadministrador\r\n      ) {\r\n        return;\r\n      }\r\n      this.$refs.inputNuevoNombre.value = this.esteNodo.nombre;\r\n      this.editandoNombre = true;\r\n    },\r\n    guardarNuevoNombre() {\r\n      var nuevoNombre = this.$refs.inputNuevoNombre.value.trim();\r\n      if (nuevoNombre == this.esteNodo.nombre) {\r\n        this.editandoNombre = false;\r\n        return;\r\n      }\r\n\r\n      if (nuevoNombre.length < 1) {\r\n        return;\r\n      }\r\n      if (charProhibidosNombreCosa.test(nuevoNombre)) {\r\n        console.log(`Caracteres ilegales`);\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo nombre`);\r\n      this.enviandoNuevoNombre = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $nuevoNombre: String!) {\r\n              editarNombreNodo(idNodo: $idNodo, nuevoNombre: $nuevoNombre) {\r\n                modificados {\r\n                  id\r\n                  nombre\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            nuevoNombre: nuevoNombre,\r\n          },\r\n        })\r\n        .then((data) => {\r\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoNombre = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    toggleEditandoDescripcion() {\r\n      if (\r\n        !this.usuarioExperto &&\r\n        !this.usuarioSuperadministrador &&\r\n        !this.usuarioAdministradorAtlas\r\n      ) {\r\n        return;\r\n      }\r\n      this.$refs.inputNuevoDescripcion.style.height =\r\n        this.$refs.descripcion.offsetHeight + \"px\";\r\n      this.editandoDescripcion = !this.editandoDescripcion;\r\n      this.nuevoDescripcion = this.esteNodo.descripcion;\r\n\r\n      if (this.editandoDescripcion) {\r\n        this.$nextTick(() => {\r\n          this.$refs.inputNuevoDescripcion.focus();\r\n        });\r\n      }\r\n    },\r\n    guardarNuevoDescripcion() {      \r\n      var nuevoDescripcion=this.$refs.inputNuevoDescripcion.value;\r\n      if (nuevoDescripcion == this.esteNodo.descripcion) {\r\n        this.editandoDescripcion = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo descripcion`);\r\n      this.enviandoNuevoDescripcion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $nuevoDescripcion: String!\r\n            ) {\r\n              editarDescripcionNodoConocimiento(\r\n                idNodo: $idNodo\r\n                nuevoDescripcion: $nuevoDescripcion\r\n              ) {\r\n                id\r\n                descripcion\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            nuevoDescripcion: nuevoDescripcion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          this.editandoDescripcion = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    seccionSeleccionada() {\r\n      if (!this.mostrandoSeccion) return null;\r\n      return this.esteNodo.secciones.find(\r\n        (s) => s.id === this.mostrandoSeccion\r\n      );\r\n    },\r\n    usuarioExperto: function () {\r\n      if (!this.esteNodo.expertos || !this.usuarioLogeado) return false;\r\n\r\n      if (this.esteNodo.expertos.includes(this.usuario.id)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    usuarioAdministradorAtlas: function () {\r\n      if (!this.$store.state.usuario.permisos) return false;\r\n      return this.$store.state.usuario.permisos.includes(\"atlasAdminstrador\")\r\n        ? true\r\n        : false;\r\n    },\r\n    infoAsParent() {\r\n      return {\r\n        id: this.esteNodo.id,\r\n        tipo: \"nodoConocimiento\",\r\n        nombre: this.esteNodo.nombre,\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.visorNodoConocimiento {\r\n  font-family: Salsa, cursive;\r\n  \r\n}\r\n#zonaTitulo {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 25px 0px;\r\n}\r\n\r\n#iconoNodo {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n#iconoNodo img {\r\n  height: 100%;\r\n}\r\n\r\n#zonaSelectoresContenido {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n#zonaSelectoresContenido .boton {\r\n  height: 35px;\r\n  width: 35px;\r\n  margin: 0px 20px;\r\n  padding: 5px;\r\n}\r\n\r\n#zonaTituloSeccion {\r\n  padding: 25px 0px;\r\n}\r\n#nombreSeccionSeleccionada {\r\n  text-align: center;\r\n  border-bottom: 2px solid var(--paletaMain);\r\n  width: min(300px, 50vw);\r\n  margin: 0px auto;\r\n}\r\n#contenedorSelectoresSeccion {\r\n  width: min(400px, 90vw);\r\n  margin: 0px auto;\r\n  background-color: var(--paletaMain);\r\n  border-radius: 10px;\r\n  position: relative;\r\n}\r\n.selectorSeccion {\r\n  padding: 15px 0px;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n.nombreSeccionSelector {\r\n  margin: 0px auto;\r\n  text-align: center;\r\n  width: 80%;\r\n  margin-left: 10%;\r\n}\r\n.selectorSeccion .boton {\r\n  margin-left: auto;\r\n  margin-right: 10px;\r\n}\r\n\r\n#descripcion {\r\n  background-color: var(--paletaMain);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  width: min(300px, 90vw);\r\n  margin: 0px auto;\r\n}\r\n\r\n#zonaExpertos {\r\n  width: min(800px, 90vw);\r\n  margin: 0px auto;\r\n}\r\n#listaExpertos {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  max-height: 80vh;\r\n  overflow-y: scroll;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisorNodoConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisorNodoConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VisorNodoConocimiento.vue?vue&type=template&id=7f40d774&scoped=true&\"\nimport script from \"./VisorNodoConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./VisorNodoConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VisorNodoConocimiento.vue?vue&type=style&index=0&id=7f40d774&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f40d774\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"proyectos\"}},[_c('center',[_c('h3',[_vm._v(\"Grupos\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],attrs:{\"id\":\"controles\"}},[(_vm.usuarioLogeado)?_c('div',{staticClass:\"controles hoverGris\",attrs:{\"id\":\"crearProyecto\"},on:{\"click\":_vm.crearNuevoProyecto}},[_vm._v(\" Crear nuevo grupo \")]):_vm._e(),(\n        _vm.usuarioSuperadministrador &&\n        _vm.proyectos.some(function (p) { return p.id == _vm.idProyectoSeleccionado; })\n      )?_c('div',{staticClass:\"controles hoverGris\",attrs:{\"id\":\"bEliminarProyecto\"},on:{\"click\":function($event){return _vm.eliminarProyecto(_vm.idProyectoSeleccionado)}}},[_vm._v(\" Eliminar grupo \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaProyectos\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.idProyectoSeleccionado=null}}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"texto\":\"Cargando lista de grupos...\"}}),_vm._l((_vm.proyectosOrdenadosSegunUsuario),function(proyecto){return _c('icono-proyecto',{key:proyecto.id,attrs:{\"esteProyecto\":proyecto,\"seleccionado\":_vm.idProyectoSeleccionado == proyecto.id},nativeOn:{\"click\":function($event){_vm.idProyectoSeleccionado = proyecto.id}}})})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoProyecto\",class:{ proyectoPropio: _vm.usuarioResponsableProyecto, seleccionado: _vm.seleccionado },on:{\"dblclick\":_vm.navegarAlProyecto}},[_c('p',{ref:\"nombre\",attrs:{\"id\":\"nombre\"}},[_vm._v(\" \"+_vm._s(_vm.esteProyecto.nombre)+\" \")]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"src\":require(\"@/assets/iconos/enviar.png\"),\"alt\":\"entrar\",\"title\":\"Entrar a este proyecto\",\"id\":\"bEntrarProyecto\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.navegarAlProyecto($event)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"iconoProyecto\"\r\n    :class=\"{ proyectoPropio: usuarioResponsableProyecto, seleccionado }\"\r\n    @dblclick=\"navegarAlProyecto\"\r\n  >\r\n    <p\r\n      id=\"nombre\"\r\n      ref=\"nombre\"      \r\n    >\r\n      {{ esteProyecto.nombre }}\r\n    </p>\r\n    <img @click.stop=\"navegarAlProyecto\" v-show=\"seleccionado\" src=\"@/assets/iconos/enviar.png\" alt=\"entrar\" title=\"Entrar a este proyecto\" id=\"bEntrarProyecto\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"IconoProyecto\",\r\n  props: {\r\n    esteProyecto: Object,\r\n    seleccionado:Boolean\r\n  },\r\n  data() {\r\n    return {\r\n      nombreEditandose: false,\r\n    };\r\n  },\r\n  computed: {    \r\n    usuarioResponsableProyecto: function () {\r\n      if (!this.esteProyecto.responsables) return false;\r\n\r\n      if (this.esteProyecto.responsables.includes(this.usuario.id)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    \r\n  },\r\n  methods: {    \r\n    navegarAlProyecto(){\r\n      this.$router.push(\"/proyecto/\"+this.esteProyecto.id)\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.iconoProyecto {\r\n  width: 160px;\r\n  height: 200px;\r\n  margin: 15px;\r\n  box-shadow: 2px 2px 2px 2px rgb(190, 190, 190);\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  padding: 1px 5px;\r\n  border-radius: 5px;\r\n  background-color: burlywood;\r\n}\r\n.iconoProyecto:hover {\r\n  box-shadow: 2px 2px 2px 2px grey;\r\n}\r\n#nombre {\r\n  text-align: center;\r\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n}\r\n#bEntrarProyecto{\r\n  width: 45px;\r\n  height: 45px;\r\n  display: block;\r\n  margin: 10px auto;\r\n  background-color: gray;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n}\r\n.proyectoPropio {\r\n  border-bottom: 2px solid purple;\r\n}\r\n.seleccionado{\r\n  background-color: rgb(187, 132, 60);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoProyecto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoProyecto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoProyecto.vue?vue&type=template&id=71c5f02f&scoped=true&\"\nimport script from \"./IconoProyecto.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoProyecto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoProyecto.vue?vue&type=style&index=0&id=71c5f02f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71c5f02f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"proyectos\">\r\n    <center><h3>Grupos</h3></center>\r\n    <div id=\"controles\" v-show=\"!loading\">\r\n      <div\r\n        v-if=\"usuarioLogeado\"\r\n        id=\"crearProyecto\"\r\n        class=\"controles hoverGris\"\r\n        @click=\"crearNuevoProyecto\"\r\n      >\r\n        Crear nuevo grupo\r\n      </div>\r\n      <div\r\n        v-if=\"\r\n          usuarioSuperadministrador &&\r\n          proyectos.some((p) => p.id == idProyectoSeleccionado)\r\n        \"\r\n        id=\"bEliminarProyecto\"\r\n        class=\"controles hoverGris\"\r\n        @click=\"eliminarProyecto(idProyectoSeleccionado)\"\r\n      >\r\n        Eliminar grupo\r\n      </div>\r\n    </div>\r\n    <div id=\"listaProyectos\" @click.self=\"idProyectoSeleccionado=null\">\r\n      <loading texto=\"Cargando lista de grupos...\" v-show=\"loading\"/>\r\n      <icono-proyecto\r\n        v-for=\"proyecto of proyectosOrdenadosSegunUsuario\"\r\n        :key=\"proyecto.id\"\r\n        :esteProyecto=\"proyecto\"\r\n        :seleccionado=\"idProyectoSeleccionado == proyecto.id\"\r\n        @click.native=\"idProyectoSeleccionado = proyecto.id\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport IconoProyecto from \"./proyectos/IconoProyecto.vue\";\r\nimport Loading from './utilidades/Loading.vue';\r\n\r\nconst QUERY_PROYECTOS=gql`\r\nquery {\r\n    proyectos {\r\n      id\r\n      nombre\r\n      responsables\r\n    }\r\n  }\r\n`;\r\n\r\nexport default {\r\n  components: { IconoProyecto, Loading },\r\n  name: \"Proyectos\",\r\n  apollo: {\r\n    proyectos: {\r\n      query: QUERY_PROYECTOS,\r\n      fetchPolicy: \"cache-and-network\",\r\n      update:function({proyectos}){\r\n        return proyectos.sort((a, b)=>{\r\n          let res=0;\r\n          if(a.responsables.some(r=>r.id==this.$store.state.usuario.id)){\r\n            res--;\r\n          }\r\n          if(b.responsables.some(r=>r.id==this.$store.state.usuario.id)){\r\n            res++;\r\n          }\r\n          this.loading=false;\r\n          return res;\r\n        })\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      proyectos: [],\r\n      idProyectoSeleccionado:null,\r\n      loading:true,\r\n    };\r\n  },\r\n  methods:{\r\n    crearNuevoProyecto(){\r\n      console.log(`Creando nuevo proyecto`);\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n          mutation{\r\n            crearProyecto{\r\n              id\r\n              nombre\r\n              responsables              \r\n            }\r\n          }\r\n        `,\r\n      }).then(({data:{crearProyecto}})=>{\r\n        this.$router.push('/proyecto/'+crearProyecto.id);\r\n      }).catch((error)=>{\r\n        console.log(`Error: ${error.errors}`);\r\n      });\r\n    },\r\n    eliminarProyecto(idProyecto){\r\n      if(!confirm(\"¿Confirmar la eliminación del grupo? (Esta acción no se puede deshacer)\"))return\r\n      console.log(`Eliminando proyecto ${idProyecto}`);\r\n      this.$apollo.mutate({\r\n        mutation:gql`\r\n          mutation($idProyecto:ID!){\r\n            eliminarProyecto(idProyecto: $idProyecto)\r\n          }\r\n        `,\r\n        variables:{\r\n          idProyecto\r\n        },\r\n        update: (store, {data:{eliminarProyecto}})=>{\r\n          console.log(`Actualizando cache`);\r\n          if(eliminarProyecto){\r\n            let cache=store.readQuery({query: QUERY_PROYECTOS});\r\n            let nuevoCache=JSON.parse(JSON.stringify(cache));\r\n            let indexP=nuevoCache.proyectos.findIndex(p=>p.id==idProyecto);\r\n            if(indexP>-1){\r\n              nuevoCache.proyectos.splice(indexP, 1);\r\n              store.writeQuery({query: QUERY_PROYECTOS, data: nuevoCache});\r\n              console.log(`Caché actualizado`);\r\n            }\r\n            else{\r\n              console.log(`No existía ese proyecto en el cache`);\r\n            }\r\n            \r\n          }\r\n        }\r\n      }).then(()=>{\r\n\r\n      }).catch((error)=>{\r\n        console.log(`Error. E:${error}`);\r\n      })\r\n    }\r\n  },\r\n  computed:{\r\n    username:function(){\r\n      return this.$store.state.usuario.username;\r\n    },\r\n    proyectosOrdenadosSegunUsuario(){\r\n      if(!this.usuario || !this.usuario.id)return this.proyectos;\r\n\r\n      return [...this.proyectos].sort((a, b)=>{\r\n        var resp=0;\r\n        if(a.responsables.includes(this.usuario.id))resp--;\r\n        if(b.responsables.includes(this.usuario.id))resp++;\r\n        return resp;\r\n      })\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.loading{\r\n  margin: 20px auto;\r\n}\r\n#listaProyectos {\r\n  display: flex;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n  max-width: 100%;\r\n  flex-flow: row wrap;\r\n}\r\n\r\n#controles {\r\n  display: flex;\r\n}\r\n.controles {\r\n  padding: 5px;\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyectos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyectos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Proyectos.vue?vue&type=template&id=5afa1db9&scoped=true&\"\nimport script from \"./Proyectos.vue?vue&type=script&lang=js&\"\nexport * from \"./Proyectos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Proyectos.vue?vue&type=style&index=0&id=5afa1db9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5afa1db9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"proyecto\"},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"texto\":\"Cargando grupo...\"}}),(!_vm.loading)?[_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaNombre\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioResponsableProyecto),expression:\"usuarioResponsableProyecto\"}],staticClass:\"controlesZona\"},[_c('img',{staticClass:\"bEditar\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarrNombre\",\"title\":\"Editar nombre del proyecto\"},on:{\"click\":_vm.toggleEditandoNombre}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre == true && _vm.nuevoNombreIlegal == false),expression:\"editandoNombre == true && nuevoNombreIlegal == false\"}],staticClass:\"bGuardar\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoNombre\"},on:{\"click\":_vm.guardarNuevoNombre}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],attrs:{\"id\":\"nombreProyecto\"}},[_vm._v(\" \"+_vm._s(_vm.esteProyecto.nombre)+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],class:{ letrasRojas: _vm.nuevoNombreIlegal },attrs:{\"type\":\"text\",\"id\":\"inputNuevoNombre\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoNombre($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"Enviando...\"}}),_c('img',{attrs:{\"src\":require(\"@/assets/iconos/foro.png\"),\"alt\":\"Enlace al foro\",\"id\":\"enlaceForo\",\"title\":\"Ir al foro de este proyecto\"},on:{\"click\":_vm.navegarAlForo}})],1),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{staticClass:\"barraSuperiorZona\"},[_c('div',{staticClass:\"nombreZona\",on:{\"click\":function($event){_vm.mostrandoDescripcion = !_vm.mostrandoDescripcion}}},[_c('div',{staticClass:\"trianguloBullet\",style:({\n              transform: _vm.mostrandoDescripcion\n                ? 'rotateZ(90deg)'\n                : 'rotateZ(0deg)',\n            })}),_vm._v(\" Descripcion \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoDescripcion),expression:\"mostrandoDescripcion\"}]},[(_vm.usuarioResponsableProyecto)?_c('div',{staticClass:\"controlesZona\"},[_c('img',{staticClass:\"bEditar\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarrDescripcion\",\"title\":\"Editar descripcion del proyecto\"},on:{\"click\":_vm.toggleEditandoDescripcion}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n              _vm.editandoDescripcion == true && _vm.nuevoDescripcionIlegal == false\n            ),expression:\"\\n              editandoDescripcion == true && nuevoDescripcionIlegal == false\\n            \"}],staticClass:\"bGuardar\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}})]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",attrs:{\"id\":\"descripcion\"}},[_vm._v(\" \"+_vm._s(_vm.esteProyecto.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1)]),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaResponsables\"}},[_c('div',{staticClass:\"barraSuperiorZona\"},[_c('div',{staticClass:\"nombreZona\",on:{\"click\":function($event){_vm.mostrandoResponsables = !_vm.mostrandoResponsables}}},[_c('div',{staticClass:\"trianguloBullet\",style:({\n              transform: _vm.mostrandoResponsables\n                ? 'rotateZ(90deg)'\n                : 'rotateZ(0deg)',\n            })}),_vm._v(\" \"+_vm._s(_vm.esteProyecto.responsables.length === 1 ? \"Coordinador\" : \"Coordinadores\")+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoResponsables),expression:\"mostrandoResponsables\"}]},[_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesResponsables\"}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoQueryResponsables),expression:\"enviandoQueryResponsables\"}],attrs:{\"texto\":\"Esperando...\"}}),(\n              _vm.usuarioLogeado == true && _vm.esteProyecto.responsables.length < 1\n            )?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"id\":\"asumirResponsable\"},on:{\"click\":_vm.asumirComoResponsable}},[_vm._v(\" Asumir \")]):_vm._e(),(\n              _vm.usuarioLogeado == true &&\n              _vm.usuarioResponsableProyecto &&\n              _vm.responsablesSolicitados < 1\n            )?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"id\":\"solicitarResponsable\"},on:{\"click\":function($event){return _vm.setResponsablesSolicitados(1)}}},[_vm._v(\" Solicitar responsable \")]):_vm._e(),(\n              _vm.usuarioLogeado &&\n              !_vm.usuarioResponsableProyecto &&\n              !_vm.usuarioPosibleResponsableProyecto &&\n              _vm.esteProyecto.responsables.length > 0\n            )?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"id\":\"botonAddResponsable\"},on:{\"click\":_vm.entrarListaPosiblesResponsables}},[_vm._v(\" Quiero hacerme responsable \")]):_vm._e(),(\n              _vm.usuarioLogeado == true &&\n              (_vm.usuarioResponsableProyecto == true ||\n                _vm.usuarioPosibleResponsableProyecto == true)\n            )?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",class:{ deshabilitado: _vm.enviandoQueryResponsables },on:{\"click\":_vm.abandonarListaResponsables}},[_vm._v(\" Abandonar \")]):_vm._e(),(\n              _vm.usuarioLogeado == true && _vm.usuarioResponsableProyecto == true\n            )?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n              _vm.idResponsableSeleccionado != null &&\n              _vm.responsableSeleccionadoEstaAceptado == false\n            ),expression:\"\\n              idResponsableSeleccionado != null &&\\n              responsableSeleccionadoEstaAceptado == false\\n            \"}],staticClass:\"controlesResponsables hoverGris botonesControles\",class:{ deshabilitado: _vm.enviandoQueryResponsables },on:{\"click\":function($event){return _vm.aceptarResponsable(_vm.idResponsableSeleccionado)}}},[_vm._v(\" Aceptar como responsable \")]):_vm._e()],1),_c('div',{attrs:{\"id\":\"listaResponsables\"}},[_vm._l((_vm.esteProyecto.responsables),function(idPersona){return _c('icono-persona-autonomo',{key:idPersona,attrs:{\"idPersona\":idPersona,\"seleccionado\":_vm.idResponsableSeleccionado == idPersona},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.idResponsableSeleccionado = idPersona;\n              _vm.responsableSeleccionadoEstaAceptado = true;}}})}),_vm._l((_vm.esteProyecto.posiblesResponsables),function(idPersona){return _c('icono-persona-autonomo',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n              _vm.usuarioResponsableProyecto ||\n              (_vm.usuario && _vm.usuario.id && _vm.usuario.id === idPersona)\n            ),expression:\"\\n              usuarioResponsableProyecto ||\\n              (usuario && usuario.id && usuario.id === idPersona)\\n            \"}],key:idPersona,staticClass:\"personaPosibleResponsable\",attrs:{\"idPersona\":idPersona,\"seleccionado\":_vm.idResponsableSeleccionado == idPersona},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.idResponsableSeleccionado = idPersona;\n              _vm.responsableSeleccionadoEstaAceptado = false;},\"dblclick\":function($event){if(!$event.shiftKey){ return null; }return _vm.aceptarResponsable(idPersona)}}})}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.responsablesSolicitados > 0),expression:\"responsablesSolicitados > 0\"}],staticClass:\"iconoResponsablesSolicitados\"},[_c('img',{staticClass:\"imagenResponsablesSolicitados\",attrs:{\"src\":require(\"@/assets/iconos/user.png\"),\"alt\":\"Usuario solicitado\",\"title\":\"Personas adicionales solicitadas\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.responsablesSolicitados),expression:\"responsablesSolicitados\"}],style:([\n                {\n                  backgroundColor:\n                    _vm.esteProyecto.responsablesSolicitados !=\n                    _vm.responsablesSolicitados\n                      ? 'orange'\n                      : 'white',\n                } ]),attrs:{\"type\":\"number\",\"id\":\"inputResponsablesSolicitados\",\"readonly\":_vm.usuarioResponsableProyecto ? false : true},domProps:{\"value\":(_vm.responsablesSolicitados)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.responsablesSolicitados=$event.target.value}}})])],2)])]),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaParticipantes\"}},[_c('div',{staticClass:\"barraSuperiorZona\"},[_c('div',{staticClass:\"nombreZona\",on:{\"click\":function($event){_vm.mostrandoParticipantes = !_vm.mostrandoParticipantes}}},[_c('div',{staticClass:\"trianguloBullet\",style:({\n              transform: _vm.mostrandoParticipantes\n                ? 'rotateZ(90deg)'\n                : 'rotateZ(0deg)',\n            })}),_vm._v(\" \"+_vm._s(_vm.esteProyecto.participantes.length === 1 ? \"Participante\" : \"Participantes\")+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoParticipantes),expression:\"mostrandoParticipantes\"}]},[_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesParticipantes\"}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoQueryParticipantes),expression:\"enviandoQueryParticipantes\"}],attrs:{\"texto\":\"Esperando...\"}}),(\n              _vm.usuarioLogeado == true &&\n              !_vm.usuarioParticipanteProyecto &&\n              !_vm.usuarioResponsableProyecto\n            )?_c('div',{staticClass:\"controlesParticipantes hoverGris botonesControles\",class:{ deshabilitado: _vm.enviandoQueryParticipantes },on:{\"click\":function($event){return _vm.entrarListaParticipantes()}}},[_vm._v(\" Participar \")]):_vm._e(),(_vm.usuarioLogeado == true && _vm.usuarioParticipanteProyecto)?_c('div',{staticClass:\"controlesParticipantes hoverGris botonesControles\",class:{ deshabilitado: _vm.enviandoQueryParticipantes },on:{\"click\":function($event){return _vm.abandonarListaParticipantes()}}},[_vm._v(\" Abandonar \")]):_vm._e()],1),_c('div',{attrs:{\"id\":\"listaParticipantes\"}},_vm._l((_vm.esteProyecto.participantes),function(idPersona){return _c('icono-persona-autonomo',{key:'participante' + idPersona,attrs:{\"idPersona\":idPersona,\"seleccionado\":_vm.idParticipanteSeleccionado == idPersona},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.idParticipanteSeleccionado = idPersona;\n              _vm.participanteSeleccionadoEstaAceptado = true;}}})}),1)])]),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaEventos\"}},[_c('div',{staticClass:\"barraSuperiorZona\"},[_c('div',{staticClass:\"nombreZona\",on:{\"click\":function($event){_vm.mostrandoEventos = !_vm.mostrandoEventos}}},[_c('div',{staticClass:\"trianguloBullet\",style:({\n              transform: _vm.mostrandoEventos\n                ? 'rotateZ(90deg)'\n                : 'rotateZ(0deg)',\n            })}),_vm._v(\" Eventos \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoEventos),expression:\"mostrandoEventos\"}]},[_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesEventos\"}}),_c('calendario',{key:'calendario' + _vm.versionCalendario,attrs:{\"configCalendario\":{ tipo: 'club', id: _vm.esteProyecto.id },\"creacionEventosDisallowed\":_vm.usuarioResponsableProyecto?false:true}})],1)]),_c('div',{ref:\"zonaDiagramaFlujo\",staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaDiagramaFlujo\"}},[_c('div',{staticClass:\"barraSuperiorZona\"},[_c('div',{staticClass:\"nombreZona\",on:{\"click\":function($event){_vm.mostrandoDiagramaFlujo = !_vm.mostrandoDiagramaFlujo}}},[_c('div',{staticClass:\"trianguloBullet\",style:({\n              transform: _vm.mostrandoDiagramaFlujo\n                ? 'rotateZ(90deg)'\n                : 'rotateZ(0deg)',\n            })}),_vm._v(\" Diagrama de flujo \")])]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesObjetivos\"}}),(_vm.mostrandoDiagramaFlujo)?_c('diagrama-flujo',{attrs:{\"idProyecto\":_vm.esteProyecto.id,\"objetivos\":_vm.esteProyecto.objetivos,\"trabajos\":_vm.esteProyecto.trabajos,\"usuarioResponsableProyecto\":_vm.usuarioResponsableProyecto,\"activo\":_vm.idNodoAbierto == null,\"deshabilitar\":_vm.realizandoOperacionDiagrama},on:{\"crearTrabajoEnPosicion\":_vm.crearNuevoTrabajo,\"crearObjetivoEnPosicion\":_vm.crearNuevoObjetivo,\"nodoAbierto\":_vm.abrirNodo},nativeOn:{\"click\":function($event){_vm.idNodoAbierto = null}}}):_vm._e()],1),_c('div',{ref:\"zonaForo\",staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaForo\"}},[_c('div',{staticClass:\"barraSuperiorZona\"},[_c('div',{staticClass:\"nombreZona\",on:{\"click\":function($event){_vm.mostrandoForo = !_vm.mostrandoForo}}},[_c('div',{staticClass:\"trianguloBullet\",style:({\n              transform: _vm.mostrandoForo ? 'rotateZ(90deg)' : 'rotateZ(0deg)',\n            })}),_vm._v(\" foro \")])]),(_vm.usuarioResponsableProyecto || _vm.usuarioParticipanteProyecto)?_c('foro',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoForo),expression:\"mostrandoForo\"}],attrs:{\"parent\":_vm.infoAsParent,\"idForo\":_vm.esteProyecto.idForo}}):_vm._e()],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"diagramaFlujo\",class:{ deshabilitado: _vm.deshabilitar },style:([_vm.opacidad, {backgroundColor:_vm.hovered?'rgb(225, 229, 241)':'white'}]),attrs:{\"id\":\"diagramaFlujo\"},on:{\"mouseenter\":function($event){_vm.hovered=true},\"mouseleave\":function($event){_vm.hovered=false},\"contextmenu\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.preventDefault();return _vm.abrirMenuCx($event)},\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }if($event.target !== $event.currentTarget){ return null; }_vm.panningVista=true},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }if($event.target !== $event.currentTarget){ return null; }return _vm.mouseUpFondo($event)},\"mousemove\":_vm.panVista}},[_c('canvas-diagrama-flujo',{style:([_vm.posicionCanvasFlechas]),attrs:{\"todosNodos\":_vm.todosNodos,\"factorZoom\":_vm.factorZoom}}),_c('div',{attrs:{\"id\":\"contenedorNodos\"}},[_vm._l((_vm.trabajos),function(trabajo){return _c('nodo-trabajo',{key:trabajo.id,attrs:{\"esteTrabajo\":trabajo,\"idProyecto\":_vm.idProyecto,\"usuarioResponsableProyecto\":_vm.usuarioResponsableProyecto,\"seleccionado\":_vm.idNodoSeleccionado == trabajo.id,\"posDummy\":_vm.posDummy,\"menuCx\":_vm.idNodoClickDerecho === trabajo.id,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"centroVista\":_vm.centroVista,\"factorZoom\":Number(_vm.factorZoom.toFixed(2))},on:{\"meAbrieron\":function($event){return _vm.$emit('nodoAbierto', trabajo.id)},\"miInfo\":function($event){return _vm.actualizarInfoTrabajos(trabajo.id, $event)},\"crearRequerimento\":function($event){return _vm.crearRequerimento('trabajo', $event)},\"eliminarVinculo\":function($event){return _vm.eliminarVinculo('trabajo', $event)}},nativeOn:{\"click\":function($event){_vm.idNodoSeleccionado = trabajo.id;\n      _vm.tipoNodoSeleccionado = 'trabajo';},\"dblclick\":function($event){_vm.idNodoPaVentanita=trabajo.id},\"contextmenu\":function($event){$event.preventDefault();_vm.idNodoClickDerecho = trabajo.id}}})}),_vm._l((_vm.objetivos),function(objetivo){return _c('nodo-objetivo',{key:objetivo.id,attrs:{\"idProyecto\":_vm.idProyecto,\"esteObjetivo\":objetivo,\"usuarioResponsableProyecto\":_vm.usuarioResponsableProyecto,\"seleccionado\":_vm.idNodoSeleccionado == objetivo.id,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"posDummy\":_vm.posDummy,\"menuCx\":_vm.idNodoClickDerecho === objetivo.id,\"centroVista\":_vm.centroVista,\"factorZoom\":_vm.factorZoom},on:{\"meAbrieron\":function($event){return _vm.$emit('nodoAbierto', objetivo.id)},\"crearRequerimento\":function($event){return _vm.crearRequerimento('objetivo', $event)},\"eliminarVinculo\":function($event){return _vm.eliminarVinculo('objetivo', $event)}},nativeOn:{\"click\":function($event){_vm.idNodoSeleccionado = objetivo.id;\n      _vm.tipoNodoSeleccionado = 'objetivo';},\"dblclick\":function($event){_vm.idNodoPaVentanita=objetivo.id},\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();_vm.idNodoClickDerecho = objetivo.id}}})})],2),(_vm.idNodoPaVentanita && _vm.objetivoEnVentanita)?_c('ventanita-objetivo',{key:'ventanita'+_vm.objetivoEnVentanita.id,staticClass:\"ventanitaNodo\",attrs:{\"usuarioResponsableProyecto\":_vm.usuarioResponsableProyecto,\"esteObjetivo\":_vm.objetivoEnVentanita,\"idProyecto\":_vm.idProyecto}}):_vm._e(),(_vm.idNodoPaVentanita && _vm.trabajoEnVentanita)?_c('ventanita-trabajo',{key:'ventanita'+_vm.trabajoEnVentanita.id,staticClass:\"ventanitaNodo\",attrs:{\"usuarioResponsableProyecto\":_vm.usuarioResponsableProyecto,\"esteTrabajo\":_vm.trabajoEnVentanita,\"idProyecto\":_vm.idProyecto}}):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoMenuCx),expression:\"mostrandoMenuCx\"}],style:(_vm.posMenuCx),attrs:{\"id\":\"menuCx\"}},[_c('div',{staticClass:\"itemMenuCx\",on:{\"click\":_vm.crearTrabajoAqui}},[_vm._v(\"Crear trabajo aquí\")]),_c('div',{staticClass:\"itemMenuCx\",on:{\"click\":_vm.crearObjetivoAqui}},[_vm._v(\" Crear objetivo aquí \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"canvasDiagramaFlujo\"}},[_c('canvas',{ref:\"canvasTodosVinculos\",staticClass:\"canvas\",style:([_vm.offsetCanvasTodosVinculos]),attrs:{\"id\":\"canvasTodosVinculos\"}}),_c('canvas',{ref:\"canvasVinculosSeleccionado\",staticClass:\"canvas\",style:([_vm.sizeCanvasTodosVinculos]),attrs:{\"id\":\"canvasVinculosSeleccionado\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"canvasDiagramaFlujo\">\r\n    <canvas\r\n      id=\"canvasTodosVinculos\"\r\n      ref=\"canvasTodosVinculos\"\r\n      :style=\"[offsetCanvasTodosVinculos]\"\r\n      class=\"canvas\"\r\n    ></canvas>\r\n    <canvas\r\n      id=\"canvasVinculosSeleccionado\"\r\n      ref=\"canvasVinculosSeleccionado\"\r\n      :style=\"[sizeCanvasTodosVinculos]\"\r\n      class=\"canvas\"\r\n    ></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CanvasDiagramaFlujo\",\r\n  props: {\r\n    todosNodos: Array,\r\n    factorZoom:Number,\r\n    nodoSeleccionado: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      sizeCanvasTodosVinculos: {\r\n        width: 0,\r\n        height: 0,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    crearImagenTodosVinculos: function () {\r\n      console.log(`Creando imagen todos vínculos`);\r\n      if (this.todosNodos.length <= 1) return;\r\n      var lapiz = this.$refs.canvasTodosVinculos.getContext(\"2d\");\r\n      //Calcular el tamaño del diagrama      \r\n      const posicionCanvas={\r\n        x: this.esquinasCanvasTodosVinculos.x1,\r\n        y: this.esquinasCanvasTodosVinculos.y1,\r\n      }\r\n\r\n      lapiz.canvas.width = this.esquinasCanvasTodosVinculos.x2 - this.esquinasCanvasTodosVinculos.x1;\r\n      lapiz.canvas.height = this.esquinasCanvasTodosVinculos.y2 - this.esquinasCanvasTodosVinculos.y1;   \r\n\r\n      lapiz.lineWidth = 1;\r\n      lapiz.clearRect(0, 0, lapiz.canvas.width, lapiz.canvas.height);\r\n      lapiz.beginPath();\r\n      lapiz.strokeStyle = \"#b3b3b3\";\r\n      for (let nodo of this.todosNodos) {\r\n        for (let vinculo of nodo.vinculos) {\r\n          if (!this.todosNodos.some((n) => n.id == vinculo.idRef)) continue;\r\n\r\n          this.dibujarLineaEntreNodos(\r\n            this.todosNodos.find((nodo) => nodo.id == vinculo.idRef),\r\n            nodo,\r\n            lapiz,\r\n            posicionCanvas\r\n          );\r\n        }\r\n      }\r\n      lapiz.stroke();\r\n    },\r\n    crearImagenVinculosSeleccionado: function () {\r\n      this.lapiz = this.$refs.canvasVinculosSeleccionado.getContext(\"2d\");\r\n      this.lapiz.clearRect(\r\n        0,\r\n        0,\r\n        this.lapiz.canvas.width,\r\n        this.lapiz.canvas.height\r\n      );\r\n\r\n      if (this.todosNodos.some((n) => n.id == this.nodoSeleccionado.id)) {\r\n        //Lineas verdes de posiblidades\r\n        this.lapiz.beginPath();\r\n        this.lapiz.lineWidth = 2;\r\n        this.lapiz.strokeStyle = \"#008000\";\r\n\r\n        //Lineas verdes de salida\r\n        for (let vinculo of this.nodoSeleccionado.vinculos) {\r\n          if (!this.todosNodos.some((n) => n.id == vinculo.idRef)) {\r\n            console.log(`ALERTA. Vinculo a ${vinculo.idRef} huerfano`);\r\n            continue;\r\n          }\r\n\r\n          let otroNodo = this.todosNodos.find((n) => n.id == vinculo.idRef);\r\n          this.dibujarLineaEntreNodos(otroNodo, this.nodoSeleccionado);\r\n        }\r\n        this.lapiz.stroke();\r\n        //Lineas rojas de dependencias\r\n\r\n        \r\n      }\r\n    },\r\n    dibujarLineaEntreNodos(nodoFrom, nodoTo, lapiz, posicionCanvas) {\r\n      let inicio = {\r\n        x: (nodoFrom.coords.x*this.factorZoom)-posicionCanvas.x,\r\n        y: (nodoFrom.coords.y*this.factorZoom)-posicionCanvas.y,\r\n      };\r\n      let final = {\r\n        x: (nodoTo.coords.x*this.factorZoom)-posicionCanvas.x,\r\n        y: (nodoTo.coords.y*this.factorZoom)-posicionCanvas.y,\r\n      };\r\n\r\n      const distanciaVertical=final.y-inicio.y;\r\n      const largoCodo=Math.round(distanciaVertical*0.5);\r\n\r\n      const primeraEsquina={\r\n        x:inicio.x,\r\n        y:inicio.y+largoCodo\r\n      }\r\n\r\n      const segundaEsquina={\r\n        x:final.x,\r\n        y:final.y-largoCodo\r\n      }\r\n\r\n      lapiz.moveTo(inicio.x, inicio.y);\r\n      lapiz.lineTo(primeraEsquina.x, primeraEsquina.y);\r\n      lapiz.lineTo(segundaEsquina.x, segundaEsquina.y);\r\n      lapiz.lineTo(final.x, final.y);\r\n      //ahora la flechita\r\n      // let centro = {\r\n      //   x: (final.x + inicio.x) / 2,\r\n      //   y: (final.y + inicio.y) / 2,\r\n      // };\r\n      // let longitudAla = 7;\r\n      // let anguloVinculo = Math.atan(\r\n      //   (final.y - inicio.y) / (final.x - inicio.x)\r\n      // );\r\n      // if (final.y - inicio.y < 0 && final.x - inicio.x < 0)\r\n      //   anguloVinculo += Math.PI;\r\n      // if (final.y - inicio.y > 0 && final.x - inicio.x < 0)\r\n      //   anguloVinculo += Math.PI;\r\n      // //anguloVinculo=anguloVinculo*180/Math.PI;\r\n\r\n      // let puntaAlaIzquierda = {\r\n      //   x: centro.x + longitudAla * Math.cos(anguloVinculo - (3 * Math.PI) / 4),\r\n      //   y: centro.y + longitudAla * Math.sin(anguloVinculo - (3 * Math.PI) / 4),\r\n      // };\r\n      // let puntaAlaDerecha = {\r\n      //   x: centro.x + longitudAla * Math.cos(anguloVinculo + (3 * Math.PI) / 4),\r\n      //   y: centro.y + longitudAla * Math.sin(anguloVinculo + (3 * Math.PI) / 4),\r\n      // };\r\n      // this.lapiz.moveTo(centro.x, centro.y);\r\n      // this.lapiz.lineTo(puntaAlaIzquierda.x, puntaAlaIzquierda.y);\r\n      // this.lapiz.moveTo(centro.x, centro.y);\r\n      // this.lapiz.lineTo(puntaAlaDerecha.x, puntaAlaDerecha.y);\r\n    },\r\n  },\r\n  computed:{\r\n    esquinasCanvasTodosVinculos(){\r\n      var nodosRelevantes=this.todosNodos;\r\n\r\n      if (nodosRelevantes.length <= 1) return {\r\n        x1: 0,\r\n        y1: 0,\r\n        x2: 0,\r\n        y2: 0,        \r\n      };\r\n\r\n      let bordes = {};\r\n      bordes.top = nodosRelevantes.reduce((acc, n) => {\r\n        //console.log(`Reduciendo ${n.nombre} con coords: ${n.posicion}`);\r\n        return n.coords.y > acc ? n.coords.y : acc;\r\n      }, 0);\r\n      bordes.bot = nodosRelevantes.reduce((acc, n) => {\r\n        return n.coords.y < acc ? n.coords.y : acc;\r\n      }, 0);\r\n      bordes.left = nodosRelevantes.reduce((acc, n) => {\r\n        return n.coords.x < acc ? n.coords.x : acc;\r\n      }, 0);\r\n      bordes.right = nodosRelevantes.reduce((acc, n) => {\r\n        return n.coords.x > acc ? n.coords.x : acc;\r\n      }, 0);\r\n\r\n      return {\r\n        x1: bordes.left*this.factorZoom,\r\n        y1: bordes.bot*this.factorZoom,\r\n        x2: (bordes.right+2)*this.factorZoom,\r\n        y2: (bordes.top+2)*this.factorZoom\r\n      }\r\n    },\r\n    offsetCanvasTodosVinculos(){\r\n      return {\r\n        left:  this.esquinasCanvasTodosVinculos.x1 + \"px\",\r\n        top: this.esquinasCanvasTodosVinculos.y1 + \"px\",\r\n\r\n        width: (this.esquinasCanvasTodosVinculos.x2-this.esquinasCanvasTodosVinculos.x1) + \"px\",\r\n        height: (this.esquinasCanvasTodosVinculos.y2-this.esquinasCanvasTodosVinculos.y1) + \"px\",\r\n      }\r\n    }\r\n\r\n  },\r\n  watch: {\r\n    todosNodos: function () {\r\n      if (this.todosNodos.length < 1) return;\r\n      this.crearImagenTodosVinculos();\r\n      this.crearImagenVinculosSeleccionado();\r\n    },\r\n    nodoSeleccionado: function () {\r\n      this.crearImagenVinculosSeleccionado();\r\n    },\r\n    factorZoom(){\r\n      this.crearImagenTodosVinculos();\r\n      this.crearImagenVinculosSeleccionado();\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n    this.montado = true;\r\n    this.crearImagenTodosVinculos();\r\n    this.crearImagenVinculosSeleccionado();    \r\n  },\r\n  \r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#canvasDiagramaFlujo{\r\n  position: relative;\r\n}\r\n.canvas{\r\n  position: absolute\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasDiagramaFlujo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasDiagramaFlujo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CanvasDiagramaFlujo.vue?vue&type=template&id=b4555e88&scoped=true&\"\nimport script from \"./CanvasDiagramaFlujo.vue?vue&type=script&lang=js&\"\nexport * from \"./CanvasDiagramaFlujo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CanvasDiagramaFlujo.vue?vue&type=style&index=0&id=b4555e88&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b4555e88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nodoObjetivo\",class:{ seleccionado: _vm.seleccionado },style:([_vm.estiloPosicion, _vm.estiloZeta, _vm.estiloSize]),on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }_vm.agarrado = true},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.guardarPosicion($event)},\"mousemove\":_vm.arrastrarNodo}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"bAbrirNodo\",attrs:{\"src\":require(\"@/assets/iconos/maximizar.png\"),\"alt\":\"abrir\",\"title\":\"Ampliar información\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.$emit('meAbrieron')}}}),_c('div',{staticClass:\"zonaNombre\"},[_c('div',{attrs:{\"id\":\"nombre\",\"draggable\":\"false\"}},[_c('img',{staticClass:\"iconoObjetivo\",class:{\n          iconoCompletado: _vm.esteObjetivo.estado === 'cumplido',\n        },style:({width: Math.round(17*_vm.factorZoom)+'px'}),attrs:{\"src\":require(\"@/assets/iconos/estrella.png\"),\"alt\":\"\",\"draggable\":\"false\"}}),_vm._v(_vm._s(_vm.esteObjetivo.nombre)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuCx),expression:\"menuCx\"}],attrs:{\"id\":\"menuContextual\"}},[(\n        _vm.idNodoSeleccionado != null &&\n        _vm.idNodoSeleccionado != _vm.esteObjetivo.id &&\n        (_vm.usuarioSuperadministrador == true || _vm.usuarioResponsableProyecto)\n      )?[_c('div',{staticClass:\"seccionMenuCx\"},[_vm._v(\"El elemento seleccionado...\")]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.crearRequerimento(_vm.idNodoSeleccionado, _vm.esteObjetivo.id)}}},[_vm._v(\" Requiere este elemento \")]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarVinculo(_vm.idNodoSeleccionado, _vm.esteObjetivo.id)}}},[_vm._v(\" Desconectar \")])]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"nodoObjetivo\"\r\n    :class=\"{ seleccionado }\"\r\n    :style=\"[estiloPosicion, estiloZeta, estiloSize]\"\r\n    @mousedown.left=\"agarrado = true\"\r\n    @mouseup.left=\"guardarPosicion\"\r\n    @mousemove=\"arrastrarNodo\"\r\n  >\r\n    <img\r\n      src=\"@/assets/iconos/maximizar.png\"\r\n      alt=\"abrir\"\r\n      class=\"bAbrirNodo\"\r\n      title=\"Ampliar información\"\r\n      v-show=\"seleccionado\"\r\n      @click.left.stop=\"$emit('meAbrieron')\"\r\n    />\r\n    <div class=\"zonaNombre\">\r\n      <div id=\"nombre\" draggable=\"false\">\r\n        <img\r\n          src=\"@/assets/iconos/estrella.png\"\r\n          alt=\"\"\r\n          class=\"iconoObjetivo\"\r\n          draggable=\"false\"\r\n          :style=\"{width: Math.round(17*factorZoom)+'px'}\"\r\n          :class=\"{\r\n            iconoCompletado: esteObjetivo.estado === 'cumplido',\r\n          }\"\r\n        />{{ esteObjetivo.nombre }}\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"menuContextual\" v-show=\"menuCx\">\r\n      <template\r\n        v-if=\"\r\n          idNodoSeleccionado != null &&\r\n          idNodoSeleccionado != esteObjetivo.id &&\r\n          (usuarioSuperadministrador == true || usuarioResponsableProyecto)\r\n        \"\r\n      >\r\n        <div class=\"seccionMenuCx\">El elemento seleccionado...</div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          @click.stop=\"crearRequerimento(idNodoSeleccionado, esteObjetivo.id)\"\r\n        >\r\n          Requiere este elemento\r\n        </div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          @click.stop=\"eliminarVinculo(idNodoSeleccionado, esteObjetivo.id)\"\r\n        >\r\n          Desconectar\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nexport default {\r\n  name: \"NodoObjetivo\",\r\n  props: {\r\n    esteObjetivo: Object,\r\n    idProyecto: String,\r\n    usuarioResponsableProyecto: Boolean,\r\n    seleccionado: Boolean,\r\n    idNodoSeleccionado: String,\r\n    posDummy: Object,\r\n    menuCx: Boolean,\r\n    centroVista:Object,\r\n    factorZoom:Number,\r\n  },\r\n  data() {\r\n    return {\r\n      agarrado: false,\r\n      arrastrandoNodo: 0,\r\n      umbralArrastreNodo: 10,\r\n      posicion: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      montado: false,\r\n      widthBase:150,\r\n      heightBase:100\r\n    };\r\n  },\r\n  methods: {\r\n    arrastrarNodo(e) {\r\n      if (\r\n        !this.agarrado ||\r\n        (this.usuarioResponsableProyecto === false &&\r\n          this.usuarioSuperadministrador === false)\r\n      ) {\r\n        return;\r\n      }\r\n      this.arrastrandoNodo =\r\n        this.arrastrandoNodo + Math.abs(e.movementX) + Math.abs(e.movementY);\r\n      if (this.arrastrandoNodo < this.umbralArrastreNodo) {\r\n        return;\r\n      }\r\n      var contenedor = this.$parent.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n      let nuevoTop = Math.round(\r\n        ((e.clientY - posContenedor.top)/this.factorZoom)+this.centroVista.y\r\n      );\r\n      let nuevoLeft = Math.round(\r\n        ((e.clientX - posContenedor.left)/this.factorZoom)+this.centroVista.x\r\n      );\r\n\r\n      const stepPosx = 25;\r\n      const stepPosy = 15;      \r\n\r\n      nuevoLeft = nuevoLeft-(nuevoLeft%stepPosx);\r\n      nuevoTop = nuevoTop - (nuevoTop%stepPosy);\r\n\r\n      this.$set(this.posicion, \"x\", nuevoLeft);\r\n      this.$set(this.posicion, \"y\", nuevoTop);\r\n\r\n      \r\n    },\r\n    guardarPosicion() {\r\n      if (this.arrastrandoNodo < this.umbralArrastreNodo) {\r\n        this.agarrado = false;\r\n        return;\r\n      }\r\n      this.arrastrandoNodo = 0;\r\n      this.agarrado = false;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idObjetivo: ID!\r\n              $idProyecto: ID!\r\n              $nuevaPosicion: CoordsInput\r\n            ) {\r\n              setPosicionObjetivoProyecto(\r\n                idProyecto: $idProyecto\r\n                idObjetivo: $idObjetivo\r\n                nuevaPosicion: $nuevaPosicion\r\n              ) {\r\n                id\r\n                coords{\r\n                  x\r\n                  y                  \r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idObjetivo: this.esteObjetivo.id,\r\n            nuevaPosicion: this.posicion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          console.log(`Posición guardada`);\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    crearRequerimento(idNodoRequiere, idNodoRequerido) {\r\n      console.log(\r\n        `Se fijara que ${idNodoRequiere} requiere a ${idNodoRequerido}`\r\n      );\r\n      this.$emit(\"crearRequerimento\", { idNodoRequiere, idNodoRequerido });\r\n    },\r\n    eliminarVinculo(idNodoRequiere, idNodoRequerido) {\r\n      console.log(\r\n        `Se fijara que ${idNodoRequiere} ya no requiere a ${idNodoRequerido}`\r\n      );\r\n      this.$emit(\"eliminarVinculo\", { idNodoRequiere, idNodoRequerido });\r\n    },\r\n  },\r\n  computed: {\r\n    estiloPosicion() {\r\n      if (this.montado) {\r\n        return {\r\n          top: ((this.posicion.y -this.centroVista.y)*this.factorZoom) - this.$el.offsetHeight / 2 + \"px\",\r\n          left: ((this.posicion.x - this.centroVista.x)*this.factorZoom) - this.$el.offsetWidth / 2 + \"px\",\r\n        };\r\n      }\r\n      return {\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n      };\r\n    },\r\n    estiloZeta() {\r\n      let valorZ = 0;\r\n      if (this.arrastrandoNodo > this.umbralArrastreNodo || this.seleccionado) {\r\n        valorZ = 100;\r\n      }\r\n      if (this.menuCx) {\r\n        valorZ = 200;\r\n      }\r\n      return {\r\n        zIndex: valorZ,\r\n      };\r\n    },\r\n    estiloSize(){\r\n      return {\r\n        width: Math.round(this.widthBase*(this.factorZoom))+\"px\",\r\n        height: Math.round(this.heightBase*(this.factorZoom))+\"px\",\r\n        fontSize:Math.round(14*this.factorZoom)+\"px\",\r\n        padding:Math.round(5*this.factorZoom)+'px'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    esteObjetivo() {\r\n      console.log(`Seteando posicion from network`);\r\n      this.$set(\r\n        this.posicion,\r\n        \"x\",\r\n        this.esteObjetivo.coords.x\r\n      );\r\n      this.$set(\r\n        this.posicion,\r\n        \"y\",\r\n        this.esteObjetivo.coords.y\r\n      );\r\n    },\r\n  },\r\n  mounted() {\r\n    this.montado = true;\r\n    this.$set(\r\n      this.posicion,\r\n      \"x\",\r\n      this.esteObjetivo.coords.x\r\n    );\r\n    this.$set(\r\n      this.posicion,\r\n      \"y\",\r\n      this.esteObjetivo.coords.y\r\n    );\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nodoObjetivo {\r\n  \r\n  position: absolute;\r\n  border-radius: 5px;\r\n  border: 1px solid rgb(82, 2, 26);  \r\n  background-color: rgb(238, 117, 117);\r\n  cursor: pointer;\r\n}\r\n.seleccionado {\r\n  border-width: 2px;\r\n  border-color: purple;\r\n}\r\n#nombre {  \r\n  user-select: none;\r\n}\r\n.iconoObjetivo {\r\n  \r\n  border-radius: 50%;\r\n  padding: 3px;\r\n}\r\n.iconoCompletado {\r\n  background-color: rgb(44, 136, 44);\r\n}\r\n#menuContextual {\r\n  position: absolute;\r\n  top: 110%;\r\n  left: 110%;\r\n  min-width: 140px;\r\n  z-index: 10;\r\n  background-color: rgb(177, 177, 159);\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n.botonMenuCx {\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  padding: 5px 10px;\r\n}\r\n.seccionMenuCx {\r\n  font-size: 15px;\r\n  color: rgb(71, 71, 71);\r\n  padding: 5px 10px;\r\n}\r\n.botonMenuCx:hover {\r\n  background-color: gray;\r\n}\r\n.bAbrirNodo {\r\n  padding: 3px;\r\n  background-color: rgb(168, 221, 223);\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 105%;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n  width: 25px;\r\n  height: 25px;\r\n}\r\n.bAbrirNodo:hover {\r\n  background-color: cadetblue;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoObjetivo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoObjetivo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodoObjetivo.vue?vue&type=template&id=ba6a15a8&scoped=true&\"\nimport script from \"./NodoObjetivo.vue?vue&type=script&lang=js&\"\nexport * from \"./NodoObjetivo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NodoObjetivo.vue?vue&type=style&index=0&id=ba6a15a8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba6a15a8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nodoTrabajo\",class:{ seleccionado: _vm.seleccionado },style:([_vm.estiloPosicion, _vm.estiloZeta, _vm.estiloSize]),on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }_vm.agarrado = true},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.guardarPosicion($event)},\"mousemove\":_vm.arrastrarNodo}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"bAbrirNodo\",attrs:{\"src\":require(\"@/assets/iconos/maximizar.png\"),\"alt\":\"abrir\",\"title\":\"Ampliar información\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.$emit('meAbrieron')}}}),_c('div',{staticClass:\"zonaNombre\"},[_c('div',{attrs:{\"id\":\"nombre\"}},[_c('img',{staticClass:\"iconoTrabajo\",class:{\n          iconoCompletado: _vm.esteTrabajo.estadoDesarrollo === 'completado',\n        },style:({width: Math.round(17*_vm.factorZoom)+'px'}),attrs:{\"src\":require(\"@/assets/iconos/iconoTrabajo.png\"),\"alt\":\"\",\"draggable\":\"false\"}}),_vm._v(\" \"+_vm._s(_vm.esteTrabajo.nombre)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuCx),expression:\"menuCx\"}],attrs:{\"id\":\"menuContextual\"}},[(\n        _vm.idNodoSeleccionado != null &&\n        _vm.idNodoSeleccionado != _vm.esteTrabajo.id &&\n        (_vm.usuarioSuperadministrador == true || _vm.usuarioResponsableProyecto)\n      )?[_c('div',{staticClass:\"seccionMenuCx\"},[_vm._v(\"El elemento seleccionado...\")]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.crearRequerimento(_vm.idNodoSeleccionado, _vm.esteTrabajo.id)}}},[_vm._v(\" Requiere este elemento \")]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarVinculo(_vm.idNodoSeleccionado, _vm.esteTrabajo.id)}}},[_vm._v(\" Desconectar \")])]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"nodoTrabajo\"\r\n    :class=\"{ seleccionado }\"\r\n    :style=\"[estiloPosicion, estiloZeta, estiloSize]\"\r\n    @mousedown.left=\"agarrado = true\"\r\n    @mouseup.left=\"guardarPosicion\"\r\n    @mousemove=\"arrastrarNodo\"\r\n  >\r\n    <img\r\n      src=\"@/assets/iconos/maximizar.png\"\r\n      alt=\"abrir\"\r\n      class=\"bAbrirNodo\"\r\n      title=\"Ampliar información\"\r\n      v-show=\"seleccionado\"\r\n      @click.left.stop=\"$emit('meAbrieron')\"\r\n    />\r\n\r\n    <div class=\"zonaNombre\">\r\n      <div id=\"nombre\">\r\n        <img\r\n          src=\"@/assets/iconos/iconoTrabajo.png\"\r\n          alt=\"\"\r\n          class=\"iconoTrabajo\"\r\n          draggable=\"false\"\r\n          :style=\"{width: Math.round(17*factorZoom)+'px'}\"\r\n          :class=\"{\r\n            iconoCompletado: esteTrabajo.estadoDesarrollo === 'completado',\r\n          }\"\r\n        />\r\n        {{ esteTrabajo.nombre }}\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"menuContextual\" v-show=\"menuCx\">\r\n      <template\r\n        v-if=\"\r\n          idNodoSeleccionado != null &&\r\n          idNodoSeleccionado != esteTrabajo.id &&\r\n          (usuarioSuperadministrador == true || usuarioResponsableProyecto)\r\n        \"\r\n      >\r\n        <div class=\"seccionMenuCx\">El elemento seleccionado...</div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          @click.stop=\"crearRequerimento(idNodoSeleccionado, esteTrabajo.id)\"\r\n        >\r\n          Requiere este elemento\r\n        </div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          @click.stop=\"eliminarVinculo(idNodoSeleccionado, esteTrabajo.id)\"\r\n        >\r\n          Desconectar\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\n\r\nexport default {\r\n  name: \"NodoTrabajo\",  \r\n  data() {\r\n    return {     \r\n      agarrado: false,\r\n      arrastrandoNodo: 0,\r\n      umbralArrastreNodo: 10,\r\n      posicion: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      montado: false,\r\n\r\n      widthBase:150,\r\n      heightBase:100,\r\n    };\r\n  },\r\n  props: {\r\n    esteTrabajo: Object,\r\n    idProyecto: String,\r\n    idNodoSeleccionado: String,\r\n    usuarioResponsableProyecto: Boolean,\r\n    seleccionado: Boolean,\r\n    posDummy: Object,\r\n    menuCx: Boolean,\r\n    centroVista:Object,\r\n    factorZoom:Number,\r\n  },\r\n  methods: {\r\n    arrastrarNodo(e) {\r\n      if (\r\n        !this.agarrado ||\r\n        (this.usuarioResponsableProyecto === false &&\r\n          this.usuarioSuperadministrador === false)\r\n      ) {\r\n        return;\r\n      }\r\n      this.arrastrandoNodo =\r\n        this.arrastrandoNodo + Math.abs(e.movementX) + Math.abs(e.movementY);\r\n      if (this.arrastrandoNodo < this.umbralArrastreNodo) {\r\n        return;\r\n      }\r\n      var contenedor = this.$parent.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n      let nuevoTop = Math.round(\r\n        ((e.clientY - posContenedor.top)/this.factorZoom)+this.centroVista.y\r\n      );\r\n      let nuevoLeft = Math.round(\r\n        ((e.clientX - posContenedor.left)/this.factorZoom)+this.centroVista.x\r\n      );\r\n\r\n      const stepPosx = 25;\r\n      const stepPosy = 15;      \r\n\r\n      nuevoLeft = nuevoLeft-(nuevoLeft%stepPosx);\r\n      nuevoTop = nuevoTop - (nuevoTop%stepPosy);\r\n\r\n\r\n      this.$set(this.posicion, \"x\", nuevoLeft);\r\n      this.$set(this.posicion, \"y\", nuevoTop);\r\n\r\n     \r\n    },\r\n    guardarPosicion() {\r\n      if (this.arrastrandoNodo < this.umbralArrastreNodo) {\r\n        this.agarrado = false;\r\n        return;\r\n      }\r\n      this.arrastrandoNodo = 0;\r\n      this.agarrado = false;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idTrabajo: ID!\r\n              $idProyecto: ID!\r\n              $nuevaPosicion: CoordsInput\r\n            ) {\r\n              setPosicionTrabajoProyecto(\r\n                idProyecto: $idProyecto\r\n                idTrabajo: $idTrabajo\r\n                nuevaPosicion: $nuevaPosicion\r\n              ) {\r\n                id\r\n                coords {                  \r\n                  x\r\n                  y                  \r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idTrabajo: this.esteTrabajo.id,\r\n            nuevaPosicion: this.posicion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          console.log(`Posición guardada`);\r\n          this.emitirMiInfo();\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    emitirMiInfo() {\r\n      var info = {\r\n        id: this.esteTrabajo.id,\r\n        posicion: this.esteTrabajo.coords,\r\n        vinculos: this.esteTrabajo.vinculos,\r\n      };\r\n      this.$emit(\"miInfo\", info);\r\n    },\r\n    crearRequerimento(idNodoRequiere, idNodoRequerido) {\r\n      console.log(\r\n        `Se fijara que ${idNodoRequiere} requiere a ${idNodoRequerido}`\r\n      );\r\n      this.$emit(\"crearRequerimento\", { idNodoRequiere, idNodoRequerido });\r\n    },\r\n    eliminarVinculo(idNodoRequiere, idNodoRequerido) {\r\n      console.log(\r\n        `Se fijara que ${idNodoRequiere} ya no requiere a ${idNodoRequerido}`\r\n      );\r\n      this.$emit(\"eliminarVinculo\", { idNodoRequiere, idNodoRequerido });\r\n    },\r\n  },\r\n  computed: {\r\n    estiloPosicion() {\r\n      if (this.montado) {\r\n        return {\r\n          top: ((this.posicion.y -this.centroVista.y)*this.factorZoom) - this.$el.offsetHeight / 2 + \"px\",\r\n          left: ((this.posicion.x - this.centroVista.x)*this.factorZoom) - this.$el.offsetWidth / 2 + \"px\",\r\n        };\r\n      }\r\n      return {\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n      };\r\n    },\r\n    estiloZeta() {\r\n      let valorZ = 0;\r\n\r\n      if (this.arrastrandoNodo == true || this.seleccionado == true) {\r\n        valorZ = 100;\r\n      }\r\n      if (this.menuCx) {\r\n        valorZ = 200;\r\n      }\r\n      return {\r\n        zIndex: valorZ,\r\n      };\r\n    },\r\n    estiloSize(){\r\n      return {\r\n        width: Math.round(this.widthBase*(this.factorZoom))+\"px\",\r\n        height: Math.round(this.heightBase*(this.factorZoom))+\"px\",\r\n        fontSize:Math.round(14*this.factorZoom)+\"px\",\r\n        padding:Math.round(5*this.factorZoom)+'px'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    esteTrabajo() {\r\n      this.$set(\r\n        this.posicion,\r\n        \"x\",\r\n        this.esteTrabajo.coords.x\r\n      );\r\n      this.$set(\r\n        this.posicion,\r\n        \"y\",\r\n        this.esteTrabajo.coords.y\r\n      );\r\n    },\r\n  },\r\n  mounted() {\r\n    this.montado = true;\r\n    this.$set(\r\n        this.posicion,\r\n        \"x\",\r\n        this.esteTrabajo.coords.x\r\n      );\r\n      this.$set(\r\n        this.posicion,\r\n        \"y\",\r\n        this.esteTrabajo.coords.y\r\n      );\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nodoTrabajo {\r\n  \r\n  position: absolute;\r\n  border-radius: 5px;\r\n  border: 1px solid rgb(0, 94, 94);  \r\n  background-color: rgb(230, 247, 247);\r\n  cursor: pointer;\r\n  \r\n}\r\n.seleccionado {\r\n  border-width: 2px;\r\n  border-color: purple;\r\n}\r\n#nombre {  \r\n  user-select: none;\r\n  \r\n}\r\n.iconoTrabajo {\r\n \r\n  border-radius: 50%;\r\n  padding: 3px;\r\n}\r\n.iconoCompletado {\r\n  background-color: rgb(44, 136, 44);\r\n}\r\n#menuContextual {\r\n  position: absolute;\r\n  top: 110%;\r\n  left: 110%;\r\n  min-width: 140px;\r\n  z-index: 10;\r\n  background-color: rgb(177, 177, 159);\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n.botonMenuCx {\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  padding: 5px 10px;\r\n}\r\n.seccionMenuCx {\r\n  font-size: 15px;\r\n  color: rgb(71, 71, 71);\r\n  padding: 5px 10px;\r\n}\r\n.botonMenuCx:hover {\r\n  background-color: gray;\r\n}\r\n.bAbrirNodo {\r\n  padding: 3px;\r\n  background-color: rgb(168, 221, 223);\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 105%;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n  width: 25px;\r\n  height: 25px;\r\n}\r\n.bAbrirNodo:hover {\r\n  background-color: cadetblue;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoTrabajo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoTrabajo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodoTrabajo.vue?vue&type=template&id=81dfd8d2&scoped=true&\"\nimport script from \"./NodoTrabajo.vue?vue&type=script&lang=js&\"\nexport * from \"./NodoTrabajo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NodoTrabajo.vue?vue&type=style&index=0&id=81dfd8d2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81dfd8d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ventanitaObjetivo\",class:{ seleccionado: _vm.seleccionado }},[_c('div',{staticClass:\"zonaPrimerNivel\",class:{ bordeAbajo: _vm.seleccionado },attrs:{\"id\":\"zonaNombre\"}},[_c('div',{attrs:{\"id\":\"nombre\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],attrs:{\"id\":\"elPropioNombre\"}},[_vm._v(\" \"+_vm._s(_vm.esteObjetivo.nombre)+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],staticClass:\"inputNuevoNombre\",class:{ letrasRojas: _vm.nuevoNombreIlegal },attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoNombre($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),(_vm.usuarioResponsableProyecto)?_c('div',{staticClass:\"controlesLateralesZona\"},[_c('img',{staticClass:\"bEditar\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarrNombre\",\"title\":\"Editar nombre del objetivo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleEditandoNombre($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre == true && _vm.nuevoNombreIlegal == false),expression:\"editandoNombre == true && nuevoNombreIlegal == false\"}],staticClass:\"bGuardar\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoNombre\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoNombre($event)}}})]):_vm._e()]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"Enviando...\"}}),_c('img',{class:{ iconoCompletado: _vm.esteObjetivo.estado === 'cumplido', deshabilitado:_vm.togglingEstado },attrs:{\"src\":require(\"@/assets/iconos/estrella.png\"),\"alt\":\"\",\"id\":\"imagenIcono\"},on:{\"click\":function($event){_vm.usuarioResponsableProyecto? _vm.toggleEstadoObjetivo():null}}})],1),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{staticClass:\"barraSuperiorZona\"},[_c('span',{staticClass:\"nombreZona\"},[_vm._v(\"Descripcion\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioResponsableProyecto),expression:\"usuarioResponsableProyecto\"}],staticClass:\"controlesZona\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioResponsableProyecto),expression:\"usuarioResponsableProyecto\"}],staticClass:\"bEditar\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarDescripcion\",\"title\":\"Editar descripcion del objetivo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleEditandoDescripcion($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            _vm.editandoDescripcion == true && _vm.nuevoDescripcionIlegal == false\n          ),expression:\"\\n            editandoDescripcion == true && nuevoDescripcionIlegal == false\\n          \"}],staticClass:\"bGuardar\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoDescripcion\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoDescripcion($event)}}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",attrs:{\"id\":\"descripcion\"}},[_vm._v(\" \"+_vm._s(_vm.esteObjetivo.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{attrs:{\"id\":\"controlesObjetivo\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioResponsableProyecto || _vm.usuarioSuperadministrador),expression:\"usuarioResponsableProyecto || usuarioSuperadministrador\"}],staticClass:\"controlesObjetivo hoverGris bEliminar\",on:{\"click\":_vm.eliminarse}},[_vm._v(\" Eliminar \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ventanitaObjetivo\" :class=\"{ seleccionado }\">\r\n    <div\r\n      id=\"zonaNombre\"\r\n      :class=\"{ bordeAbajo: seleccionado }\"\r\n      class=\"zonaPrimerNivel\"\r\n    >\r\n      <div id=\"nombre\">\r\n        <div id=\"elPropioNombre\" v-show=\"!editandoNombre\">\r\n          {{ esteObjetivo.nombre }}\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          class=\"inputNuevoNombre\"\r\n          :class=\"{ letrasRojas: nuevoNombreIlegal }\"\r\n          v-model=\"nuevoNombre\"\r\n          v-show=\"editandoNombre\"\r\n          @keypress.enter=\"guardarNuevoNombre\"\r\n        />\r\n        <div class=\"controlesLateralesZona\" v-if=\"usuarioResponsableProyecto\">\r\n          <img\r\n            src=\"@/assets/iconos/editar.png\"\r\n            alt=\"Editar\"\r\n            id=\"bEditarrNombre\"\r\n            class=\"bEditar\"\r\n            title=\"Editar nombre del objetivo\"\r\n            @click.stop=\"toggleEditandoNombre\"\r\n          />\r\n          <img\r\n            src=\"@/assets/iconos/guardar.png\"\r\n            alt=\"Guardar\"\r\n            title=\"guardar\"\r\n            class=\"bGuardar\"\r\n            id=\"bGuardarNuevoNombre\"\r\n            v-show=\"editandoNombre == true && nuevoNombreIlegal == false\"\r\n            @click.stop=\"guardarNuevoNombre\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <loading v-show=\"enviandoNuevoNombre\" texto=\"Enviando...\" />\r\n      <img\r\n        src=\"@/assets/iconos/estrella.png\"\r\n        alt=\"\"\r\n        id=\"imagenIcono\"\r\n        :class=\"{ iconoCompletado: esteObjetivo.estado === 'cumplido', deshabilitado:togglingEstado }\"\r\n        @click=\"usuarioResponsableProyecto? toggleEstadoObjetivo():null\"\r\n      />\r\n    </div>\r\n    <div id=\"zonaDescripcion\" class=\"zonaPrimerNivel\">\r\n      <div class=\"barraSuperiorZona\">\r\n        <span class=\"nombreZona\">Descripcion</span>\r\n        <div class=\"controlesZona\" v-show=\"usuarioResponsableProyecto\">\r\n          <img\r\n            src=\"@/assets/iconos/editar.png\"\r\n            alt=\"Editar\"\r\n            id=\"bEditarDescripcion\"\r\n            class=\"bEditar\"\r\n            title=\"Editar descripcion del objetivo\"\r\n            v-show=\"usuarioResponsableProyecto\"\r\n            @click.stop=\"toggleEditandoDescripcion\"\r\n          />\r\n          <img\r\n            src=\"@/assets/iconos/guardar.png\"\r\n            alt=\"Guardar\"\r\n            title=\"guardar\"\r\n            class=\"bGuardar\"\r\n            id=\"bGuardarNuevoDescripcion\"\r\n            v-show=\"\r\n              editandoDescripcion == true && nuevoDescripcionIlegal == false\r\n            \"\r\n            @click.stop=\"guardarNuevoDescripcion\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"descripcion\" ref=\"descripcion\" v-show=\"!editandoDescripcion\">\r\n        {{ esteObjetivo.descripcion }}\r\n      </div>\r\n\r\n      <textarea\r\n        id=\"inputNuevoDescripcion\"\r\n        ref=\"inputNuevoDescripcion\"\r\n        :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n        v-model=\"nuevoDescripcion\"\r\n        v-show=\"editandoDescripcion\"\r\n      />\r\n      <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n    </div>\r\n    <div id=\"controlesObjetivo\">\r\n      <div\r\n        class=\"controlesObjetivo hoverGris bEliminar\"\r\n        @click=\"eliminarse\"\r\n        v-show=\"usuarioResponsableProyecto || usuarioSuperadministrador\"\r\n      >\r\n        Eliminar\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\n\r\nconst charProhibidosNombreObjetivo = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\r\nconst charProhibidosDescripcionObjetivo = /[^\\n\\r a-zA-ZÀ-ž0-9_():;.,+¡!¿?@=-]/;\r\n\r\nexport default {\r\n  name: \"VentanitaObjetivo\",\r\n  components: { Loading },\r\n  data() {\r\n    return {\r\n      deshabilitado: false,\r\n\r\n      nuevoNombre: \"Nuevo nombre\",\r\n      editandoNombre: false,\r\n      enviandoNuevoNombre: false,\r\n\r\n      nuevoDescripcion: \"Nueva descripcion\",\r\n      editandoDescripcion: false,\r\n      enviandoNuevoDescripcion: false,\r\n\r\n      togglingEstado:false,\r\n    };\r\n  },\r\n  props: {\r\n    idProyecto: String,\r\n    esteObjetivo: Object,\r\n    seleccionado: Boolean,\r\n    usuarioResponsableProyecto: Boolean,\r\n  },\r\n  computed: {\r\n    nuevoNombreIlegal() {\r\n      if (this.nuevoNombre.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosNombreObjetivo.test(this.nuevoNombre)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoDescripcionIlegal() {\r\n      if (this.nuevoDescripcion.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosDescripcionObjetivo.test(this.nuevoDescripcion)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    guardarNuevoNombre() {\r\n      if (this.nuevoNombreIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoNombre == this.esteObjetivo.nombre) {\r\n        this.editandoNombre = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo nombre`);\r\n      this.enviandoNuevoNombre = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idProyecto: ID!\r\n              $idObjetivo: ID!\r\n              $nuevoNombre: String!\r\n            ) {\r\n              editarNombreObjetivoProyecto(\r\n                idProyecto: $idProyecto\r\n                idObjetivo: $idObjetivo\r\n                nuevoNombre: $nuevoNombre\r\n              ) {\r\n                id\r\n                nombre\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idObjetivo: this.esteObjetivo.id,\r\n            idProyecto: this.idProyecto,\r\n            nuevoNombre: this.nuevoNombre,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoNombre = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoDescripcion() {\r\n      if (this.nuevoDescripcionIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoDescripcion == this.esteObjetivo.descripcion) {\r\n        this.editandoDescripcion = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo descripcion`);\r\n      this.enviandoNuevoDescripcion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idProyecto: ID!\r\n              $idObjetivo: ID!\r\n              $nuevoDescripcion: String!\r\n            ) {\r\n              editarDescripcionObjetivoProyecto(\r\n                idProyecto: $idProyecto\r\n                idObjetivo: $idObjetivo\r\n                nuevoDescripcion: $nuevoDescripcion\r\n              ) {\r\n                id\r\n                descripcion\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idObjetivo: this.esteObjetivo.id,\r\n            nuevoDescripcion: this.nuevoDescripcion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          this.editandoDescripcion = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    toggleEditandoNombre() {\r\n      this.editandoNombre = !this.editandoNombre;\r\n      this.nuevoNombre = this.esteObjetivo.nombre;\r\n    },\r\n    toggleEditandoDescripcion() {\r\n      this.$refs.inputNuevoDescripcion.style.height =\r\n        this.$refs.descripcion.offsetHeight + \"px\";\r\n      this.editandoDescripcion = !this.editandoDescripcion;\r\n      this.nuevoDescripcion = this.esteObjetivo.descripcion;\r\n    },\r\n    eliminarse() {\r\n      console.log(`Objetivo eliminandose`);\r\n      if (!confirm(\"¿Seguro de eliminar este objetivo?\")) {\r\n        return;\r\n      }\r\n      this.deshabilitado = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation($idProyecto: ID!, $idObjetivo: ID!) {\r\n              eliminarObjetivoDeProyecto(\r\n                idProyecto: $idProyecto\r\n                idObjetivo: $idObjetivo\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idObjetivo: this.esteObjetivo.id,\r\n          },\r\n        })\r\n        .then(({ data: { eliminarObjetivoDeProyecto } }) => {\r\n          this.deshabilitado = false;\r\n          console.log(`Resultado: ${eliminarObjetivoDeProyecto}`);\r\n          this.$emit(\"meElimine\");\r\n        })\r\n        .catch((error) => {\r\n          this.deshabilitado = false;\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    toggleEstadoObjetivo(){\r\n      var nuevoEstado=\"noCumplido\";\r\n      if(this.esteObjetivo.estado===\"noCumplido\"){\r\n        nuevoEstado=\"cumplido\";\r\n      }\r\n\r\n      this.togglingEstado=true;\r\n\r\n      this.$apollo.mutate({\r\n        mutation:gql`\r\n          mutation($idProyecto:ID!, $idObjetivo:ID!, $nuevoEstado:String!){\r\n            setEstadoObjetivoProyecto(idProyecto:$idProyecto, idObjetivo:$idObjetivo, nuevoEstado:$nuevoEstado){\r\n              id\r\n              estado\r\n            }\r\n          }\r\n        `,\r\n        variables:{\r\n          idProyecto:this.idProyecto,\r\n          idObjetivo:this.esteObjetivo.id,\r\n          nuevoEstado,\r\n        }\r\n      }).then(()=>{\r\n      this.togglingEstado=false;\r\n        console.log(`toggled`);\r\n      }).catch((error)=>{\r\n        this.togglingEstado=false;\r\n        console.log(`Error: E:${error}`);\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ventanitaObjetivo {\r\n  border: 2px solid #b4b4bd;\r\n  border-radius: 5px;\r\n  min-height: 10px;\r\n\r\n  position: relative;\r\n  padding: 5px 10px;\r\n  padding-bottom: 10px;\r\n  background-color: rgb(231, 182, 182);\r\n}\r\n.ventanitaObjetivo:not(.seleccionado) {\r\n  cursor: pointer;\r\n}\r\n\r\n.seleccionado {\r\n  box-shadow: 2px 2px 2px 2px rgb(54, 54, 54);\r\n  padding-bottom: 25px;\r\n}\r\n\r\n#controlesObjetivo {\r\n  position: absolute;\r\n  bottom: 0px;\r\n  right: 0px;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n}\r\n.controlesObjetivo {\r\n  padding: 3px 5px;\r\n  cursor: pointer;\r\n}\r\n#descripcion {\r\n  min-width: 100px;\r\n  min-height: 50px;\r\n  border: 2px solid pink;\r\n  padding: 3px 30px;\r\n}\r\n#imagenIcono {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n}\r\n\r\n#imagenIcono:hover {\r\n  background-color: cadetblue;\r\n}\r\n.iconoCompletado {\r\n  background-color: rgb(44, 136, 44);\r\n}\r\n\r\n.zonaPrimerNivel {\r\n  position: relative;\r\n  min-height: 50px;\r\n}\r\n.barraSuperiorZona {\r\n  display: flex;\r\n}\r\n.nombreZona {\r\n  font-size: 18px;\r\n  padding: 5px 20px;\r\n}\r\n#nombre {\r\n  margin-top: 15px;\r\n  font-size: 19px;\r\n  padding: 5px 20px;\r\n  display: grid;\r\n  grid-template-columns: 1fr 5fr 1fr;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n#elPropioNombre {\r\n  font-size: 19px;\r\n  padding: 5px;\r\n  font-weight: bolder;\r\n  text-align: center;\r\n  grid-column: 2/3;\r\n}\r\n\r\n.inputNuevoNombre {\r\n  font-size: 23px;\r\n  display: block;\r\n  margin: 10px auto;\r\n  grid-column: 2/3;\r\n  width: 100%;\r\n}\r\n#descripcion {\r\n  font-size: 19px;\r\n  width: 95%;\r\n  margin: 10px auto;\r\n  padding: 10px;\r\n  min-height: 100px;\r\n  resize: vertical;\r\n  border: none;\r\n  background-color: transparent;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n#inputNuevoDescripcion {\r\n  width: 95%;\r\n  font-size: 19px;\r\n  height: 70px;\r\n  display: block;\r\n  margin: 10px auto;\r\n  resize: vertical;\r\n}\r\n\r\n.bEditar {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n\r\n  cursor: pointer;\r\n}\r\n.bEditar:hover {\r\n  background-color: rgb(209, 209, 209);\r\n}\r\n.bGuardar {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n.bGuardar:hover {\r\n  background-color: rgb(209, 209, 209);\r\n}\r\n.bEliminar:hover {\r\n  background-color: red;\r\n}\r\n.controlesLateralesZona {\r\n  grid-column: 3/4;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n}\r\n.controlesZona {\r\n  margin-left: auto;\r\n  display: flex;\r\n  font-size: 13px;\r\n  flex-direction: row-reverse;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanitaObjetivo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanitaObjetivo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VentanitaObjetivo.vue?vue&type=template&id=0d4091b8&scoped=true&\"\nimport script from \"./VentanitaObjetivo.vue?vue&type=script&lang=js&\"\nexport * from \"./VentanitaObjetivo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VentanitaObjetivo.vue?vue&type=style&index=0&id=0d4091b8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d4091b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ventanitaTrabajo\"},[_c('img',{class:{\n      iconoCompletado: _vm.esteTrabajo.estadoDesarrollo === 'completado',\n      deshabilitado: _vm.togglingEstado,\n    },attrs:{\"src\":require(\"@/assets/iconos/iconoTrabajo.png\"),\"alt\":\"\",\"id\":\"imagenIcono\"},on:{\"click\":function($event){_vm.usuarioResponsableProyecto ? _vm.toggleEstadoTrabajo() : null}}}),_c('div',{class:{ bordeAbajo: _vm.seleccionado },attrs:{\"id\":\"zonaNombre\"}},[_c('div',{attrs:{\"id\":\"nombre\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],attrs:{\"id\":\"elPropioNombre\"}},[_vm._v(\" \"+_vm._s(_vm.esteTrabajo.nombre)+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],staticClass:\"inputNuevoNombre\",class:{ letrasRojas: _vm.nuevoNombreIlegal },attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoNombre($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),(_vm.usuarioResponsableProyecto)?_c('div',{staticClass:\"controlesLateralesZona\"},[_c('img',{staticClass:\"bEditar\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarrNombre\",\"title\":\"Editar nombre del trabajo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleEditandoNombre($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre == true && _vm.nuevoNombreIlegal == false),expression:\"editandoNombre == true && nuevoNombreIlegal == false\"}],staticClass:\"bGuardar\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoNombre\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoNombre($event)}}})]):_vm._e()]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{staticClass:\"barraSuperiorZona\"},[_c('span',{staticClass:\"nombreZona\"},[_vm._v(\"Descripcion\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioResponsableProyecto),expression:\"usuarioResponsableProyecto\"}],staticClass:\"controlesZona\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioResponsableProyecto),expression:\"usuarioResponsableProyecto\"}],staticClass:\"bEditar\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarDescripcion\",\"title\":\"Editar descripcion del trabajo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleEditandoDescripcion($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            _vm.editandoDescripcion == true && _vm.nuevoDescripcionIlegal == false\n          ),expression:\"\\n            editandoDescripcion == true && nuevoDescripcionIlegal == false\\n          \"}],staticClass:\"bGuardar\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoDescripcion\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoDescripcion($event)}}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",attrs:{\"id\":\"descripcion\"}},[_vm._v(\" \"+_vm._s(_vm.esteTrabajo.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1),(false)?_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaResponsables\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Responsables\")]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesResponsables\"}},[(_vm.usuarioLogeado == true && _vm.usuarioResponsableTrabajo == false)?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",attrs:{\"id\":\"botonParticipar\"},on:{\"click\":_vm.asumirComoResponsable}},[_vm._v(\" Participar \")]):_vm._e(),(_vm.usuarioResponsableTrabajo == true)?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",on:{\"click\":_vm.abandonarListaResponsables}},[_vm._v(\" Abandonar \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaResponsables\"}},_vm._l((_vm.esteTrabajo.responsables),function(idPersona){return _c('icono-persona-autonomo',{key:idPersona,attrs:{\"idPersona\":idPersona,\"aceptado\":true}})}),1)]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaNodosConocimiento\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Nodos de conocimiento involucrados\")]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesNodosConocimiento\"}},[(_vm.usuarioResponsableProyecto == true)?_c('div',{staticClass:\"controlesNodosConocimiento hoverGris botonesControles\"},[_vm._v(\" Añadir \")]):_vm._e(),(\n          _vm.usuarioResponsableProyecto == true &&\n          _vm.idNodoSeleccionado != null &&\n          _vm.esteTrabajo.nodosConocimiento.some(\n            function (n) { return n.id == _vm.idNodoSeleccionado; }\n          )\n        )?_c('div',{staticClass:\"controlesNodosConocimiento hoverGris botonesControles\"},[_vm._v(\" Remover \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaNodosConocimiento\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.idNodoSeleccionado = null}}},[_vm._l((_vm.esteTrabajo.nodosConocimiento),function(nodo){return _c('icono-nodo-conocimiento',{key:nodo.id,attrs:{\"esteNodo\":nodo},nativeOn:{\"click\":function($event){_vm.idNodoSeleccionado = nodo.id}}})}),_c('buscador-nodos-conocimiento')],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ventanitaTrabajo\">\r\n    <img\r\n      src=\"@/assets/iconos/iconoTrabajo.png\"\r\n      alt=\"\"\r\n      id=\"imagenIcono\"\r\n      :class=\"{\r\n        iconoCompletado: esteTrabajo.estadoDesarrollo === 'completado',\r\n        deshabilitado: togglingEstado,\r\n      }\"\r\n      @click=\"usuarioResponsableProyecto ? toggleEstadoTrabajo() : null\"\r\n    />\r\n    <div id=\"zonaNombre\" :class=\"{ bordeAbajo: seleccionado }\">\r\n      <div id=\"nombre\">\r\n        <div id=\"elPropioNombre\" v-show=\"!editandoNombre\">\r\n          {{ esteTrabajo.nombre }}\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          class=\"inputNuevoNombre\"\r\n          :class=\"{ letrasRojas: nuevoNombreIlegal }\"\r\n          v-model=\"nuevoNombre\"\r\n          v-show=\"editandoNombre\"\r\n          @keypress.enter=\"guardarNuevoNombre\"\r\n        />\r\n        <div class=\"controlesLateralesZona\" v-if=\"usuarioResponsableProyecto\">\r\n          <img\r\n            src=\"@/assets/iconos/editar.png\"\r\n            alt=\"Editar\"\r\n            id=\"bEditarrNombre\"\r\n            class=\"bEditar\"\r\n            title=\"Editar nombre del trabajo\"\r\n            @click.stop=\"toggleEditandoNombre\"\r\n          />\r\n          <img\r\n            src=\"@/assets/iconos/guardar.png\"\r\n            alt=\"Guardar\"\r\n            title=\"guardar\"\r\n            class=\"bGuardar\"\r\n            id=\"bGuardarNuevoNombre\"\r\n            v-show=\"editandoNombre == true && nuevoNombreIlegal == false\"\r\n            @click.stop=\"guardarNuevoNombre\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <loading v-show=\"enviandoNuevoNombre\" texto=\"Enviando...\" />\r\n    </div>\r\n    <div id=\"zonaDescripcion\" class=\"zonaPrimerNivel\">\r\n      <div class=\"barraSuperiorZona\">\r\n        <span class=\"nombreZona\">Descripcion</span>\r\n        <div class=\"controlesZona\" v-show=\"usuarioResponsableProyecto\">\r\n          <img\r\n            src=\"@/assets/iconos/editar.png\"\r\n            alt=\"Editar\"\r\n            id=\"bEditarDescripcion\"\r\n            class=\"bEditar\"\r\n            title=\"Editar descripcion del trabajo\"\r\n            v-show=\"usuarioResponsableProyecto\"\r\n            @click.stop=\"toggleEditandoDescripcion\"\r\n          />\r\n          <img\r\n            src=\"@/assets/iconos/guardar.png\"\r\n            alt=\"Guardar\"\r\n            title=\"guardar\"\r\n            class=\"bGuardar\"\r\n            id=\"bGuardarNuevoDescripcion\"\r\n            v-show=\"\r\n              editandoDescripcion == true && nuevoDescripcionIlegal == false\r\n            \"\r\n            @click.stop=\"guardarNuevoDescripcion\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"descripcion\" ref=\"descripcion\" v-show=\"!editandoDescripcion\">\r\n        {{ esteTrabajo.descripcion }}\r\n      </div>\r\n\r\n      <textarea\r\n        id=\"inputNuevoDescripcion\"\r\n        ref=\"inputNuevoDescripcion\"\r\n        :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n        v-model=\"nuevoDescripcion\"\r\n        v-show=\"editandoDescripcion\"\r\n      />\r\n      <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n    </div>\r\n\r\n    <div id=\"zonaResponsables\" class=\"zonaPrimerNivel\" v-if=\"false\">\r\n      <div class=\"nombreZona\">Responsables</div>\r\n      <div id=\"controlesResponsables\" class=\"controlesZona\">\r\n        <div\r\n          class=\"controlesResponsables hoverGris botonesControles\"\r\n          v-if=\"usuarioLogeado == true && usuarioResponsableTrabajo == false\"\r\n          id=\"botonParticipar\"\r\n          @click=\"asumirComoResponsable\"\r\n        >\r\n          Participar\r\n        </div>\r\n\r\n        <div\r\n          class=\"controlesResponsables hoverGris botonesControles\"\r\n          v-if=\"usuarioResponsableTrabajo == true\"\r\n          @click=\"abandonarListaResponsables\"\r\n        >\r\n          Abandonar\r\n        </div>\r\n      </div>\r\n      <div id=\"listaResponsables\">\r\n        <icono-persona-autonomo\r\n          :idPersona=\"idPersona\"\r\n          :aceptado=\"true\"\r\n          :key=\"idPersona\"\r\n          v-for=\"idPersona of esteTrabajo.responsables\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"zonaNodosConocimiento\" class=\"zonaPrimerNivel\" v-show=\"false\">\r\n      <div class=\"nombreZona\">Nodos de conocimiento involucrados</div>\r\n      <div id=\"controlesNodosConocimiento\" class=\"controlesZona\">\r\n        <div\r\n          class=\"controlesNodosConocimiento hoverGris botonesControles\"\r\n          v-if=\"usuarioResponsableProyecto == true\"\r\n        >\r\n          Añadir\r\n        </div>\r\n        <div\r\n          class=\"controlesNodosConocimiento hoverGris botonesControles\"\r\n          v-if=\"\r\n            usuarioResponsableProyecto == true &&\r\n            idNodoSeleccionado != null &&\r\n            esteTrabajo.nodosConocimiento.some(\r\n              (n) => n.id == idNodoSeleccionado\r\n            )\r\n          \"\r\n        >\r\n          Remover\r\n        </div>\r\n      </div>\r\n      <div id=\"listaNodosConocimiento\" @click.self=\"idNodoSeleccionado = null\">\r\n        <icono-nodo-conocimiento\r\n          :esteNodo=\"nodo\"\r\n          :key=\"nodo.id\"\r\n          v-for=\"nodo of esteTrabajo.nodosConocimiento\"\r\n          @click.native=\"idNodoSeleccionado = nodo.id\"\r\n        />\r\n        <buscador-nodos-conocimiento />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div\r\n      id=\"zonaKeywords\"\r\n      class=\"zonaPrimerNivel\"\r\n      v-show=\"usuarioResponsableProyecto\"\r\n    >\r\n      <div class=\"barraSuperiorZona\">\r\n        <span class=\"nombreZona\">Palabras clave</span>\r\n        <div class=\"controlesZona\">\r\n          <img\r\n            src=\"@/assets/iconos/editar.png\"\r\n            alt=\"Editar\"\r\n            id=\"bEditarKeywords\"\r\n            class=\"bEditar\"\r\n            title=\"Editar palabras clave del trabajo\"\r\n            @click.stop=\"toggleEditandoKeywords\"\r\n          />\r\n          <img\r\n            src=\"@/assets/iconos/guardar.png\"\r\n            alt=\"Guardar\"\r\n            title=\"guardar\"\r\n            class=\"bGuardar\"\r\n            id=\"bGuardarNuevoKeywords\"\r\n            v-show=\"editandoKeywords == true && nuevoKeywordsIlegal == false\"\r\n            @click.stop=\"guardarNuevoKeywords\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"keywords\" ref=\"keywords\" v-show=\"!editandoKeywords\">\r\n        {{ esteTrabajo.keywords }}\r\n      </div>\r\n\r\n      <textarea\r\n        id=\"inputNuevoKeywords\"\r\n        ref=\"inputNuevoKeywords\"\r\n        :class=\"{ letrasRojas: nuevoKeywordsIlegal }\"\r\n        v-model=\"nuevoKeywords\"\r\n        v-show=\"editandoKeywords\"\r\n        @keypress.enter.prevent=\"guardarNuevoKeywords\"\r\n      />\r\n      <loading v-show=\"enviandoNuevoKeywords\" texto=\"Enviando...\" />\r\n    </div> -->\r\n\r\n     <!-- <img\r\n        src=\"@/assets/iconos/abrirLink.png\"\r\n        class=\"botonIr\"\r\n        @click.stop=\"navegarAlTrabajo\"\r\n        title=\"Abrir la página de este trabajo\"\r\n      /> -->\r\n\r\n    <!-- <div id=\"controlesTrabajo\">     \r\n      <div\r\n        class=\"controlesTrabajo hoverGris bEliminar\"\r\n        @click=\"eliminarse\"\r\n        v-if=\"usuarioResponsableProyecto == true\"\r\n      >\r\n        Eliminar\r\n      </div>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport BuscadorNodosConocimiento from \"../atlasConocimiento/BuscadorNodosConocimiento.vue\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport IconoPersonaAutonomo from \"../usuario/IconoPersonaAutonomo.vue\";\r\n\r\nconst charProhibidosNombreTrabajo = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\r\nconst charProhibidosDescripcionTrabajo = /[^\\n\\r a-zA-ZÀ-ž0-9_():;.,+¡!¿?@=-]/;\r\nconst charProhibidosKeywordsTrabajo = /[^ a-zA-Zñ,]/;\r\n\r\n\r\nexport default {\r\n  name: \"VentanitaTrabajo\",\r\n  components: {\r\n    BuscadorNodosConocimiento,\r\n    Loading,\r\n    IconoPersonaAutonomo,\r\n  },  \r\n  data() {\r\n    return {      \r\n\r\n      idNodoSeleccionado: null,\r\n      deshabilitado: false,\r\n\r\n      nuevoNombre: \"Nuevo nombre\",\r\n      editandoNombre: false,\r\n      enviandoNuevoNombre: false,\r\n\r\n      nuevoDescripcion: \"Nueva descripcion\",\r\n      editandoDescripcion: false,\r\n      enviandoNuevoDescripcion: false,\r\n\r\n      nuevoKeywords: \"palabras clave\",\r\n      editandoKeywords: false,\r\n      enviandoNuevoKeywords: false,\r\n\r\n      togglingEstado: false,\r\n    };\r\n  },\r\n  props: {\r\n    idProyecto: String,\r\n    seleccionado: Boolean,\r\n    usuarioResponsableProyecto: {\r\n      type: Boolean,\r\n      defaul: false,\r\n    },\r\n    idTrabajo: String,\r\n    esteTrabajo:Object\r\n  },\r\n  computed: {\r\n    usuarioResponsableTrabajo: function () {\r\n      return this.esteTrabajo.responsables.includes(this.usuario.id);\r\n    },\r\n    nuevoNombreIlegal() {\r\n      if (this.nuevoNombre.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosNombreTrabajo.test(this.nuevoNombre)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoDescripcionIlegal() {\r\n      if (this.nuevoDescripcion.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosDescripcionTrabajo.test(this.nuevoDescripcion)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoKeywordsIlegal() {\r\n      if (this.nuevoKeywords.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosKeywordsTrabajo.test(this.nuevoKeywords)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    infoAsParent() {\r\n      return {\r\n        id: this.esteTrabajo.id,\r\n        tipo: \"trabajo\",\r\n        nombre: this.esteTrabajo.nombre,\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    guardarNuevoNombre() {\r\n      if (this.nuevoNombreIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoNombre == this.esteTrabajo.nombre) {\r\n        this.editandoNombre = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo nombre`);\r\n      this.enviandoNuevoNombre = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation($idProyecto: ID!, $idTrabajo: ID!, $nuevoNombre: String!) {\r\n              editarNombreTrabajoProyecto(\r\n                idProyecto: $idProyecto\r\n                idTrabajo: $idTrabajo\r\n                nuevoNombre: $nuevoNombre\r\n              ) {\r\n                id\r\n                nombre\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idTrabajo: this.esteTrabajo.id,\r\n            idProyecto: this.idProyecto,\r\n            nuevoNombre: this.nuevoNombre,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoNombre = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoDescripcion() {\r\n      if (this.nuevoDescripcionIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoDescripcion == this.esteTrabajo.descripcion) {\r\n        this.editandoDescripcion = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo descripcion en proyecto con id ${this.idProyecto}`);\r\n      this.enviandoNuevoDescripcion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idProyecto: ID!\r\n              $idTrabajo: ID!\r\n              $nuevoDescripcion: String!\r\n            ) {\r\n              editarDescripcionTrabajoProyecto(\r\n                idProyecto: $idProyecto\r\n                idTrabajo: $idTrabajo\r\n                nuevoDescripcion: $nuevoDescripcion\r\n              ) {\r\n                id\r\n                descripcion\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idTrabajo: this.esteTrabajo.id,\r\n            nuevoDescripcion: this.nuevoDescripcion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          this.editandoDescripcion = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoKeywords() {\r\n      if (this.nuevoKeywordsIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoKeywords == this.esteTrabajo.keywords) {\r\n        this.editandoKeywords = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo keywords`);\r\n      this.enviandoNuevoKeywords = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idProyecto: ID!\r\n              $idTrabajo: ID!\r\n              $nuevoKeywords: String!\r\n            ) {\r\n              editarKeywordsTrabajoProyecto(\r\n                idProyecto: $idProyecto\r\n                idTrabajo: $idTrabajo\r\n                nuevoKeywords: $nuevoKeywords\r\n              ) {\r\n                id\r\n                keywords\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idTrabajo: this.esteTrabajo.id,\r\n            nuevoKeywords: this.nuevoKeywords,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoKeywords = false;\r\n          this.editandoKeywords = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoKeywords = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    toggleEditandoNombre() {\r\n      this.editandoNombre = !this.editandoNombre;\r\n      this.nuevoNombre = this.esteTrabajo.nombre;\r\n    },\r\n    toggleEditandoDescripcion() {\r\n      this.$refs.inputNuevoDescripcion.style.height =\r\n        this.$refs.descripcion.offsetHeight + \"px\";\r\n      this.editandoDescripcion = !this.editandoDescripcion;\r\n      this.nuevoDescripcion = this.esteTrabajo.descripcion;\r\n    },\r\n    toggleEditandoKeywords() {\r\n      this.$refs.inputNuevoKeywords.style.height =\r\n        this.$refs.keywords.offsetHeight + \"px\";\r\n      this.editandoKeywords = !this.editandoKeywords;\r\n      this.nuevoKeywords = this.esteTrabajo.keywords;\r\n    },\r\n    asumirComoResponsable() {\r\n      console.log(\r\n        `enviando id ${this.usuario.id} para la lista de responsables del trabajo con id ${this.esteTrabajo.id} en el proyecto con id ${this.idProyecto}`\r\n      );\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation($idTrabajo: ID!, $idUsuario: ID!) {\r\n              addResponsableTrabajo(\r\n                idTrabajo: $idTrabajo\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                responsables\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idTrabajo: this.esteTrabajo.id,\r\n            idUsuario: this.$store.state.usuario.id,\r\n          },\r\n        })\r\n        .then(() => {})\r\n        .catch((error) => {\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    abandonarListaResponsables() {\r\n      console.log(`Abandonando este trabajo`);\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation($idTrabajo: ID!, $idUsuario: ID!) {\r\n              removeResponsableTrabajo(\r\n                idTrabajo: $idTrabajo\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                responsables\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idTrabajo: this.esteTrabajo.id,\r\n            idUsuario: this.$store.state.usuario.id,\r\n          },\r\n        })\r\n        .then(() => {})\r\n        .catch((error) => {\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    eliminarse() {\r\n      console.log(`Trabajo eliminandose`);\r\n      if (!confirm(\"¿Seguro de eliminar este trabajo?\")) {\r\n        return;\r\n      }\r\n      this.deshabilitado = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation($idProyecto: ID!, $idTrabajo: ID!) {\r\n              eliminarTrabajoDeProyecto(\r\n                idProyecto: $idProyecto\r\n                idTrabajo: $idTrabajo\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idTrabajo: this.esteTrabajo.id,\r\n          },\r\n        })\r\n        .then(({ data: { eliminarTrabajoDeProyecto } }) => {\r\n          this.deshabilitado = false;\r\n          console.log(`Resultado: ${eliminarTrabajoDeProyecto}`);\r\n          this.$emit(\"meElimine\");\r\n        })\r\n        .catch((error) => {\r\n          this.deshabilitado = false;\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    navegarAlTrabajo() {\r\n      this.$router.push(\"/trabajo/\" + this.idTrabajo);\r\n    },\r\n    toggleEstadoTrabajo() {\r\n      var nuevoEstado = \"noCompletado\";\r\n      if (this.esteTrabajo.estadoDesarrollo === \"noCompletado\") {\r\n        nuevoEstado = \"completado\";\r\n      }\r\n\r\n      this.togglingEstado = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation($idProyecto: ID!, $idTrabajo: ID!, $nuevoEstado: String!) {\r\n              setEstadoTrabajoProyecto(\r\n                idProyecto: $idProyecto\r\n                idTrabajo: $idTrabajo\r\n                nuevoEstado: $nuevoEstado\r\n              ) {\r\n                id\r\n                estadoDesarrollo\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idTrabajo: this.esteTrabajo.id,\r\n            nuevoEstado,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.togglingEstado = false;\r\n          console.log(`toggled`);\r\n        })\r\n        .catch((error) => {\r\n          this.togglingEstado = false;\r\n          console.log(`Error: E:${error}`);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ventanitaTrabajo {\r\n  border: 2px solid #0b8794;\r\n  border-radius: 5px;\r\n  min-height: 50px;\r\n  position: relative;\r\n  padding: 5px 10px;\r\n  padding-bottom: 40px;\r\n  background-color: rgb(230, 247, 247);\r\n}\r\n\r\n.ventanitaTrabajo:not(.seleccionado) {\r\n  cursor: pointer;\r\n}\r\n\r\n.seleccionado {\r\n  padding-bottom: 40px;\r\n  box-shadow: 2px 2px 2px 2px rgb(54, 54, 54);\r\n}\r\n\r\n#controlesTrabajo {\r\n  position: absolute;\r\n  bottom: 0px;\r\n  right: 0px;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n}\r\n.controlesTrabajo {\r\n  padding: 3px 5px;\r\n  cursor: pointer;\r\n}\r\n#descripcion {\r\n  min-width: 100px;\r\n  min-height: 50px;\r\n  border: 2px solid pink;\r\n  padding: 3px 30px;\r\n  white-space: pre-wrap;\r\n}\r\n#imagenIcono {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  padding: 3px;\r\n}\r\n\r\n#imagenIcono:hover {\r\n  background-color: cadetblue;\r\n}\r\n.iconoCompletado {\r\n  background-color: rgb(44, 136, 44);\r\n}\r\n\r\n.zonaPrimerNivel {\r\n  position: relative;\r\n  min-height: 50px;\r\n  border-bottom: 2px solid black;\r\n}\r\n.barraSuperiorZona {\r\n  display: flex;\r\n}\r\n.nombreZona {\r\n  font-size: 18px;\r\n  padding: 5px 20px;\r\n}\r\n#zonaNombre {\r\n  position: relative;\r\n  min-height: 50px;\r\n}\r\n#nombre {\r\n  margin-top: 15px;\r\n  font-size: 19px;\r\n  padding: 5px 20px;\r\n  display: grid;\r\n  grid-template-columns: 1fr 5fr 1fr;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n#elPropioNombre {\r\n  font-size: 19px;\r\n  padding: 5px;\r\n  font-weight: bolder;\r\n  text-align: center;\r\n  grid-column: 2/3;\r\n}\r\n\r\n.inputNuevoNombre {\r\n  font-size: 23px;\r\n  display: block;\r\n  margin: 10px auto;\r\n  grid-column: 2/3;\r\n  width: 100%;\r\n}\r\n#descripcion {\r\n  font-size: 19px;\r\n  width: 95%;\r\n  margin: 10px auto;\r\n  padding: 10px;\r\n  min-height: 100px;\r\n  resize: vertical;\r\n  border: none;\r\n  background-color: transparent;\r\n}\r\n\r\n#inputNuevoDescripcion {\r\n  width: 95%;\r\n  font-size: 19px;\r\n  height: 70px;\r\n  display: block;\r\n  margin: 10px auto;\r\n  resize: vertical;\r\n}\r\n#zonaKeywords {\r\n  min-height: 100px;\r\n}\r\n#keywords {\r\n  font-size: 19px;\r\n  width: 95%;\r\n  margin: 10px auto;\r\n  padding: 10px;\r\n  min-height: 80px;\r\n  resize: vertical;\r\n  border: none;\r\n  background-color: transparent;\r\n}\r\n\r\n#inputNuevoKeywords {\r\n  width: 95%;\r\n  font-size: 19px;\r\n  height: 70px;\r\n  display: block;\r\n  margin: 10px auto;\r\n  resize: vertical;\r\n  resize: none;\r\n}\r\n.bEditar {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n\r\n  cursor: pointer;\r\n}\r\n.bEditar:hover {\r\n  background-color: rgb(209, 209, 209);\r\n}\r\n.bGuardar {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n.bGuardar:hover {\r\n  background-color: rgb(209, 209, 209);\r\n}\r\n.controlesLateralesZona {\r\n  grid-column: 3/4;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n}\r\n.controlesZona {\r\n  margin-left: auto;\r\n  display: flex;\r\n  font-size: 13px;\r\n  flex-direction: row-reverse;\r\n}\r\n.botonesControles {\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  padding: 3px 5px;\r\n}\r\n.bEliminar:hover {\r\n  background-color: red;\r\n}\r\n#listaResponsables {\r\n  display: flex;\r\n  padding: 10px 20px;\r\n  padding-bottom: 65px;\r\n}\r\n.iconoPersonaAutonomo {\r\n  margin-right: 25px;\r\n  margin-left: 5px;\r\n  vertical-align: middle;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n}\r\n.botonIr {\r\n  \r\n  cursor: pointer;\r\n  z-index: 10;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  padding: 5px;\r\n  margin: 6px auto;\r\n  display: block;\r\n  background-color: chocolate;\r\n}\r\n\r\n.botonIr:hover {\r\n  background-color: rgb(223, 141, 82);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanitaTrabajo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanitaTrabajo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VentanitaTrabajo.vue?vue&type=template&id=f6f3cf26&scoped=true&\"\nimport script from \"./VentanitaTrabajo.vue?vue&type=script&lang=js&\"\nexport * from \"./VentanitaTrabajo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VentanitaTrabajo.vue?vue&type=style&index=0&id=f6f3cf26&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6f3cf26\",\n  null\n  \n)\n\nexport default component.exports","<template> \r\n  <div\r\n    class=\"diagramaFlujo\"\r\n    :class=\"{ deshabilitado: deshabilitar }\"\r\n    id=\"diagramaFlujo\"\r\n    :style=\"[opacidad, {backgroundColor:hovered?'rgb(225, 229, 241)':'white'}]\"\r\n    @mouseenter=\"hovered=true\"\r\n    @mouseleave=\"hovered=false\"\r\n    @click.right.self.prevent=\"abrirMenuCx\"\r\n    @mousedown.left.self=\"panningVista=true\"\r\n    @mouseup.left.self=\"mouseUpFondo\"\r\n    @mousemove=\"panVista\"\r\n    \r\n  >\r\n    <canvas-diagrama-flujo :todosNodos=\"todosNodos\" :style=\"[posicionCanvasFlechas]\" :factorZoom=\"factorZoom\" />\r\n    <div id=\"contenedorNodos\">\r\n    <nodo-trabajo\r\n      v-for=\"trabajo of trabajos\"\r\n      :key=\"trabajo.id\"      \r\n      :esteTrabajo=\"trabajo\"\r\n      :idProyecto=\"idProyecto\"\r\n      :usuarioResponsableProyecto=\"usuarioResponsableProyecto\"\r\n      :seleccionado=\"idNodoSeleccionado == trabajo.id\"\r\n      :posDummy=\"posDummy\"\r\n      :menuCx=\"idNodoClickDerecho === trabajo.id\"\r\n      :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n      :centroVista=\"centroVista\"\r\n      :factorZoom=\"Number(factorZoom.toFixed(2))\"\r\n      @click.native=\"\r\n        idNodoSeleccionado = trabajo.id;\r\n        tipoNodoSeleccionado = 'trabajo';\r\n      \"\r\n      @dblclick.native=\"idNodoPaVentanita=trabajo.id\"\r\n      @meAbrieron=\"$emit('nodoAbierto', trabajo.id)\"            \r\n      @miInfo=\"actualizarInfoTrabajos(trabajo.id, $event)\"\r\n      @crearRequerimento=\"crearRequerimento('trabajo', $event)\"\r\n      @eliminarVinculo=\"eliminarVinculo('trabajo', $event)\"\r\n      @click.right.native.prevent=\"idNodoClickDerecho = trabajo.id\"\r\n    />\r\n    <nodo-objetivo\r\n      v-for=\"objetivo of objetivos\"\r\n      :key=\"objetivo.id\"\r\n      :idProyecto=\"idProyecto\"\r\n      :esteObjetivo=\"objetivo\"\r\n      :usuarioResponsableProyecto=\"usuarioResponsableProyecto\"\r\n      :seleccionado=\"idNodoSeleccionado == objetivo.id\"\r\n      :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n      :posDummy=\"posDummy\"\r\n      :menuCx=\"idNodoClickDerecho === objetivo.id\"\r\n      :centroVista=\"centroVista\"\r\n      :factorZoom=\"factorZoom\"\r\n      @click.native=\"\r\n        idNodoSeleccionado = objetivo.id;\r\n        tipoNodoSeleccionado = 'objetivo';\r\n      \"      \r\n      @dblclick.native=\"idNodoPaVentanita=objetivo.id\"\r\n      @meAbrieron=\"$emit('nodoAbierto', objetivo.id)\"      \r\n      @crearRequerimento=\"crearRequerimento('objetivo', $event)\"\r\n      @eliminarVinculo=\"eliminarVinculo('objetivo', $event)\"\r\n      @click.right.native.prevent.stop=\"idNodoClickDerecho = objetivo.id\"\r\n    />       \r\n    </div>\r\n\r\n    <ventanita-objetivo\r\n      v-if=\"idNodoPaVentanita && objetivoEnVentanita\"\r\n      class=\"ventanitaNodo\"\r\n      :usuarioResponsableProyecto=\"usuarioResponsableProyecto\"\r\n      :key=\"'ventanita'+objetivoEnVentanita.id\"\r\n      :esteObjetivo=\"objetivoEnVentanita\"\r\n      :idProyecto=\"idProyecto\"\r\n    />\r\n    <ventanita-trabajo\r\n      v-if=\"idNodoPaVentanita && trabajoEnVentanita\"\r\n      class=\"ventanitaNodo\"\r\n      :usuarioResponsableProyecto=\"usuarioResponsableProyecto\"\r\n      :key=\"'ventanita'+trabajoEnVentanita.id\"\r\n      :esteTrabajo=\"trabajoEnVentanita\"\r\n      :idProyecto=\"idProyecto\"\r\n    />\r\n\r\n    <div id=\"menuCx\" :style=\"posMenuCx\" v-show=\"mostrandoMenuCx\">\r\n      <div class=\"itemMenuCx\" @click=\"crearTrabajoAqui\">Crear trabajo aquí</div>\r\n      <div class=\"itemMenuCx\" @click=\"crearObjetivoAqui\">\r\n        Crear objetivo aquí\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport CanvasDiagramaFlujo from \"./CanvasDiagramaFlujo.vue\";\r\nimport NodoObjetivo from \"./NodoObjetivo.vue\";\r\nimport NodoTrabajo from \"./NodoTrabajo.vue\";\r\nimport VentanitaObjetivo from \"./VentanitaObjetivo.vue\"\r\nimport VentanitaTrabajo from \"./VentanitaTrabajo.vue\"\r\n\r\nexport default {\r\n  components: { NodoObjetivo, NodoTrabajo, CanvasDiagramaFlujo, VentanitaObjetivo, VentanitaTrabajo },\r\n  name: \"DiagramaFlujo\",\r\n  props: {\r\n    trabajos: Array,\r\n    objetivos: Array,\r\n    idProyecto: String,\r\n    usuarioResponsableProyecto: Boolean,\r\n    activo: Boolean,\r\n    deshabilitar: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      posicionMenuCx: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      mostrandoMenuCx: false,\r\n      idNodoSeleccionado: null,\r\n      idNodoPaVentanita:null,\r\n      tipoNodoSeleccionado: null,\r\n      posDummy: {\r\n        x: 300,\r\n        y: 300,\r\n      },\r\n      infoTrabajos: [],\r\n      idNodoClickDerecho: null,\r\n\r\n      centroVistaDecimal:{\r\n        x:0,\r\n        y:0\r\n      },      \r\n\r\n      hovered:false,\r\n\r\n      zoom:100,\r\n      maxZoom:200,\r\n      minZoom:50,\r\n    };\r\n  },\r\n  computed: {\r\n    posMenuCx() {\r\n      return {\r\n        top: this.posicionMenuCx.y + \"px\",\r\n        left: this.posicionMenuCx.x + \"px\",\r\n      };\r\n    },\r\n    opacidad() {\r\n      return {\r\n        opacity: this.activo ? 1 : 0.4,\r\n      };\r\n    },\r\n    infoObjetivos() {\r\n      return this.objetivos.map((objetivo) => {\r\n        return {\r\n          id: objetivo.id,\r\n          posicion: objetivo.coords,\r\n          vinculos: objetivo.vinculos,\r\n        };\r\n      });\r\n    },    \r\n    posicionCanvasFlechas(){\r\n      return {\r\n        top: Math.round(-this.centroVista.y*this.factorZoom)+\"px\",\r\n        left: Math.round(-this.centroVista.x*this.factorZoom)+\"px\"\r\n      }\r\n    },\r\n    centroVista(){\r\n      return {\r\n        x: Math.round(this.centroVistaDecimal.x),\r\n        y: Math.round(this.centroVistaDecimal.y),\r\n      }\r\n    },\r\n    factorZoom(){\r\n      return Number((this.zoom/100).toFixed(2));\r\n    },\r\n    todosNodos(){\r\n      return this.objetivos.concat(this.trabajos);\r\n    },\r\n    objetivoEnVentanita() {\r\n      if (!this.idNodoPaVentanita) return null;\r\n      return this.objetivos.find((o) => o.id == this.idNodoPaVentanita);\r\n    },\r\n    trabajoEnVentanita() {\r\n      if (!this.idNodoPaVentanita) return null;\r\n      return this.trabajos.find((t) => t.id == this.idNodoPaVentanita);\r\n    },\r\n    nodoSeleccionado() {\r\n      return this.todosNodos.find((n) => n.id === this.idNodoSeleccionado);\r\n    },\r\n  },\r\n  methods: {\r\n    abrirMenuCx(e) {\r\n      var contenedor = this.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n      this.$set(\r\n        this.posicionMenuCx,\r\n        \"x\",\r\n        Math.round(e.clientX - posContenedor.left + contenedor.scrollLeft)\r\n      );\r\n      this.$set(\r\n        this.posicionMenuCx,\r\n        \"y\",\r\n        Math.round(e.clientY - posContenedor.top + contenedor.scrollTop)\r\n      );\r\n\r\n      this.mostrandoMenuCx = true;\r\n    },\r\n    crearTrabajoAqui(e) {\r\n      var posicion = {\r\n        x: 0,\r\n        y: 0,\r\n      };\r\n\r\n      var contenedor = this.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();      \r\n\r\n      posicion.x = Math.round(\r\n        ((e.clientX - posContenedor.left)/this.factorZoom)+this.centroVista.x                \r\n      );\r\n      posicion.y = Math.round(\r\n        ((e.clientY - posContenedor.top)/this.factorZoom)+this.centroVista.y\r\n      );\r\n      this.mostrandoMenuCx=false;\r\n      this.$emit(\"crearTrabajoEnPosicion\", posicion);\r\n    },\r\n    crearObjetivoAqui(e) {\r\n      var posicion = {\r\n        x: 0,\r\n        y: 0,\r\n      };\r\n\r\n      var contenedor = this.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n      posicion.x = Math.round(\r\n        e.clientX + this.centroVista.x - posContenedor.left \r\n      );\r\n      posicion.y = Math.round(\r\n        e.clientY + this.centroVista.y - posContenedor.top \r\n      );\r\n      this.mostrandoMenuCx=false;\r\n      this.$emit(\"crearObjetivoEnPosicion\", posicion);\r\n    },   \r\n    actualizarInfoTrabajos(idTrabajo, info) {\r\n      const indexT = this.infoTrabajos.findIndex((t) => t.id === idTrabajo);\r\n      if (indexT > -1) {\r\n        this.infoTrabajos.splice(indexT, 1);\r\n      }\r\n      this.infoTrabajos.push(info);\r\n    },\r\n    crearRequerimento(tipoNodoRequerido, { idNodoRequiere, idNodoRequerido }) {\r\n      console.log(\r\n        `Preparando mutación para setear que ${idNodoRequiere} requiere a ${idNodoRequerido} de tipo ${tipoNodoRequerido}`\r\n      );\r\n      const tipoNodoRequiere = this.tipoNodoSeleccionado;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idProyecto: ID!\r\n              $idNodoRequiere: ID!\r\n              $idNodoRequerido: ID!\r\n              $tipoNodoRequiere: String!\r\n              $tipoNodoRequerido: String!\r\n            ) {\r\n              crearRequerimentoEntreNodosProyecto(\r\n                idProyecto: $idProyecto\r\n                idNodoRequiere: $idNodoRequiere\r\n                idNodoRequerido: $idNodoRequerido\r\n                tipoNodoRequiere: $tipoNodoRequiere\r\n                tipoNodoRequerido: $tipoNodoRequerido\r\n              ) {\r\n                nodo {\r\n                  ... on ObjetivoDeProyecto {\r\n                    id\r\n                    vinculos {\r\n                      idRef\r\n                      tipoRef\r\n                      tipo\r\n                    }\r\n                  }\r\n                  ... on TrabajoDeProyecto {\r\n                    id\r\n                    vinculos {\r\n                      idRef\r\n                      tipoRef\r\n                      tipo\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idNodoRequiere,\r\n            idNodoRequerido,\r\n            tipoNodoRequiere,\r\n            tipoNodoRequerido,\r\n          },\r\n        })\r\n        .then(({ data: { crearRequerimentoEntreNodosProyecto } }) => {\r\n          console.log(\r\n            `Requerimento creado: ${JSON.stringify(\r\n              crearRequerimentoEntreNodosProyecto\r\n            )}`\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error`, error.message);\r\n        });\r\n    },\r\n    eliminarVinculo(tipoNodoRequerido, { idNodoRequiere, idNodoRequerido }) {\r\n      console.log(\r\n        `Preparando mutación para setear que ${idNodoRequiere} ya no está vinculado a ${idNodoRequerido} de tipo ${tipoNodoRequerido}`\r\n      );\r\n      const tipoNodoRequiere = this.tipoNodoSeleccionado;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation(\r\n              $idProyecto: ID!\r\n              $idNodoRequiere: ID!\r\n              $idNodoRequerido: ID!\r\n              $tipoNodoRequiere: String!\r\n              $tipoNodoRequerido: String!\r\n            ) {\r\n              desvincularNodosProyecto(\r\n                idProyecto: $idProyecto\r\n                idNodoRequiere: $idNodoRequiere\r\n                idNodoRequerido: $idNodoRequerido\r\n                tipoNodoRequiere: $tipoNodoRequiere\r\n                tipoNodoRequerido: $tipoNodoRequerido\r\n              ) {\r\n                nodo {\r\n                  ... on ObjetivoDeProyecto {\r\n                    id\r\n                    vinculos {\r\n                      idRef\r\n                      tipoRef\r\n                      tipo\r\n                    }\r\n                  }\r\n                  ... on TrabajoDeProyecto {\r\n                    id\r\n                    vinculos {\r\n                      idRef\r\n                      tipoRef\r\n                      tipo\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.idProyecto,\r\n            idNodoRequiere,\r\n            idNodoRequerido,\r\n            tipoNodoRequiere,\r\n            tipoNodoRequerido,\r\n          },\r\n        })\r\n        .then(() => {\r\n          console.log(`Vinculo eliminado`);\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error`, error.message);\r\n        });\r\n    },  \r\n    desplazarVista(deltaX, deltaY) {\r\n      this.$set(this.centroVistaDecimal, \"x\",this.centroVistaDecimal.x - deltaX);\r\n      this.$set(this.centroVistaDecimal, \"y\",this.centroVistaDecimal.y - deltaY);\r\n      //this.actualizarTrazos++;\r\n    },\r\n    panVista(e){\r\n      if(!this.panningVista){\r\n        return\r\n      }      \r\n      this.desplazarVista((e.movementX/this.factorZoom), (e.movementY/this.factorZoom));\r\n      e.preventDefault();\r\n      this.vistaPanned = true;\r\n    },\r\n    mouseUpFondo(){\r\n      if(!this.vistaPanned){    \r\n        this.idNodoSeleccionado = null;\r\n        this.idNodoPaVentanita=null;\r\n        this.mostrandoMenuCx = false;\r\n        this.idNodoClickDerecho = null;\r\n      }\r\n      this.vistaPanned=false;\r\n      this.panningVista=false;\r\n    },\r\n    zoomVista(e){\r\n      if(!this.hovered || !e.ctrlKey){\r\n        return\r\n      }\r\n      e.preventDefault();      \r\n      \r\n      var contenedor = this.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n\r\n      const proporciones={\r\n        x: (e.clientX-posContenedor.left)/posContenedor.width,\r\n        y: (e.clientY-posContenedor.top)/posContenedor.height,\r\n      }\r\n\r\n      const posZoom={\r\n        x: Math.round((e.clientX-posContenedor.left)/this.factorZoom)+this.centroVista.x,\r\n        y: Math.round((e.clientY-posContenedor.top)/this.factorZoom)+this.centroVista.y\r\n      }\r\n\r\n\r\n      const factorZoom=0.2;\r\n      var nuevoZoom=this.zoom-Math.round(e.deltaY*factorZoom);\r\n      if(nuevoZoom<this.minZoom){\r\n        this.zoom=this.minZoom;\r\n      }\r\n      else if(nuevoZoom>this.maxZoom){\r\n        this.zoom=this.maxZoom\r\n      }\r\n      else{\r\n        this.zoom=nuevoZoom;\r\n      }\r\n\r\n      //Pan vista de acuerdo con la posición del mouse respecto del atlas                       \r\n\r\n      this.$set(this.centroVistaDecimal, \"x\", posZoom.x-((posContenedor.width/this.factorZoom)*proporciones.x) );\r\n      this.$set(this.centroVistaDecimal, \"y\", posZoom.y-((posContenedor.height/this.factorZoom)*proporciones.y) );\r\n\r\n    }\r\n  },\r\n  mount() {\r\n    this.$set(\r\n      this.sizeDiagrama,\r\n      \"w\",\r\n      this.$$parent.$refs.zonaDiagramaFlujo.offsetWidth\r\n    );\r\n    this.$set(\r\n      this.sizeDiagrama,\r\n      \"h\",\r\n      this.$$parent.$refs.zonaDiagramaFlujo.offsetHeight\r\n    );\r\n  },\r\n  created(){\r\n    window.addEventListener(\"wheel\", this.zoomVista, {passive:false});\r\n  },\r\n  removed(){\r\n    window.removeEventListener(\"wheel\", this.zoomVista);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.diagramaFlujo {\r\n  width: 100%;\r\n  height: 800px;\r\n  position: relative;\r\n  overflow: scroll;\r\n  background-color: rgb(225, 229, 241);\r\n  overflow: hidden;\r\n  z-index: 0;\r\n}\r\n#canvasDiagramaFlujo {\r\n  position: absolute;\r\n  top: 0%;\r\n  left: 0%;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n}\r\n#dummy {\r\n  position: absolute;\r\n  width: 30px;\r\n  height: 30px;\r\n  pointer-events: none;\r\n}\r\n\r\n#menuCx {\r\n  position: absolute;\r\n  z-index: 100;\r\n}\r\n\r\n.itemMenuCx {\r\n  padding: 5px 10px;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n  background-color: azure;\r\n}\r\n.itemMenuCx:hover {\r\n  background-color: rgb(141, 158, 158);\r\n}\r\n\r\n#contenedorNodos{\r\n  z-index: 0;\r\n}\r\n\r\n.ventanitaNodo {\r\n  width: min(400px, 90%);\r\n  position: absolute;\r\n  top: 50px;\r\n  left: 50px;\r\n  z-index: 1000;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramaFlujo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramaFlujo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiagramaFlujo.vue?vue&type=template&id=e9d97e16&scoped=true&\"\nimport script from \"./DiagramaFlujo.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramaFlujo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DiagramaFlujo.vue?vue&type=style&index=0&id=e9d97e16&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9d97e16\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"proyecto\">\r\n    <loading texto=\"Cargando grupo...\" v-show=\"loading\" />\r\n    <template v-if=\"!loading\">\r\n      <div id=\"zonaNombre\" class=\"zonaPrimerNivel\">\r\n        <div class=\"controlesZona\" v-show=\"usuarioResponsableProyecto\">\r\n          <img\r\n            src=\"@/assets/iconos/editar.png\"\r\n            alt=\"Editar\"\r\n            id=\"bEditarrNombre\"\r\n            class=\"bEditar\"\r\n            title=\"Editar nombre del proyecto\"\r\n            @click=\"toggleEditandoNombre\"\r\n          />\r\n          <img\r\n            src=\"@/assets/iconos/guardar.png\"\r\n            alt=\"Guardar\"\r\n            title=\"guardar\"\r\n            class=\"bGuardar\"\r\n            id=\"bGuardarNuevoNombre\"\r\n            v-show=\"editandoNombre == true && nuevoNombreIlegal == false\"\r\n            @click=\"guardarNuevoNombre\"\r\n          />\r\n        </div>\r\n        <div id=\"nombreProyecto\" v-show=\"!editandoNombre\">\r\n          {{ esteProyecto.nombre }}\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          id=\"inputNuevoNombre\"\r\n          :class=\"{ letrasRojas: nuevoNombreIlegal }\"\r\n          v-model=\"nuevoNombre\"\r\n          v-show=\"editandoNombre\"\r\n          @keypress.enter=\"guardarNuevoNombre\"\r\n        />\r\n        <loading v-show=\"enviandoNuevoNombre\" texto=\"Enviando...\" />\r\n        <img\r\n          src=\"@/assets/iconos/foro.png\"\r\n          alt=\"Enlace al foro\"\r\n          id=\"enlaceForo\"\r\n          title=\"Ir al foro de este proyecto\"\r\n          @click=\"navegarAlForo\"\r\n        />\r\n      </div>\r\n      <div id=\"zonaDescripcion\" class=\"zonaPrimerNivel\">\r\n        <div class=\"barraSuperiorZona\">\r\n          <div\r\n            class=\"nombreZona\"\r\n            @click=\"mostrandoDescripcion = !mostrandoDescripcion\"\r\n          >\r\n            <div\r\n              class=\"trianguloBullet\"\r\n              :style=\"{\r\n                transform: mostrandoDescripcion\r\n                  ? 'rotateZ(90deg)'\r\n                  : 'rotateZ(0deg)',\r\n              }\"\r\n            ></div>\r\n            Descripcion\r\n          </div>\r\n        </div>\r\n        <div v-show=\"mostrandoDescripcion\">\r\n          <div class=\"controlesZona\" v-if=\"usuarioResponsableProyecto\">\r\n            <img\r\n              src=\"@/assets/iconos/editar.png\"\r\n              alt=\"Editar\"\r\n              id=\"bEditarrDescripcion\"\r\n              class=\"bEditar\"\r\n              title=\"Editar descripcion del proyecto\"\r\n              @click=\"toggleEditandoDescripcion\"\r\n            />\r\n            <img\r\n              src=\"@/assets/iconos/guardar.png\"\r\n              alt=\"Guardar\"\r\n              title=\"guardar\"\r\n              class=\"bGuardar\"\r\n              id=\"bGuardarNuevoDescripcion\"\r\n              v-show=\"\r\n                editandoDescripcion == true && nuevoDescripcionIlegal == false\r\n              \"\r\n              @click=\"guardarNuevoDescripcion\"\r\n            />\r\n          </div>\r\n          <div id=\"descripcion\" ref=\"descripcion\" v-show=\"!editandoDescripcion\">\r\n            {{ esteProyecto.descripcion }}\r\n          </div>\r\n\r\n          <textarea\r\n            id=\"inputNuevoDescripcion\"\r\n            ref=\"inputNuevoDescripcion\"\r\n            :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n            v-model=\"nuevoDescripcion\"\r\n            v-show=\"editandoDescripcion\"\r\n          />\r\n          <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"zonaResponsables\" class=\"zonaPrimerNivel\">\r\n        <div class=\"barraSuperiorZona\">\r\n          <div\r\n            class=\"nombreZona\"\r\n            @click=\"mostrandoResponsables = !mostrandoResponsables\"\r\n          >\r\n            <div\r\n              class=\"trianguloBullet\"\r\n              :style=\"{\r\n                transform: mostrandoResponsables\r\n                  ? 'rotateZ(90deg)'\r\n                  : 'rotateZ(0deg)',\r\n              }\"\r\n            ></div>\r\n            {{\r\n              esteProyecto.responsables.length === 1\r\n                ? \"Coordinador\"\r\n                : \"Coordinadores\"\r\n            }}\r\n          </div>\r\n        </div>\r\n\r\n        <div v-show=\"mostrandoResponsables\">\r\n          <div id=\"controlesResponsables\" class=\"controlesZona\">\r\n            <loading v-show=\"enviandoQueryResponsables\" texto=\"Esperando...\" />\r\n            <div\r\n              class=\"controlesResponsables hoverGris botonesControles\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-if=\"\r\n                usuarioLogeado == true && esteProyecto.responsables.length < 1\r\n              \"\r\n              id=\"asumirResponsable\"\r\n              @click=\"asumirComoResponsable\"\r\n            >\r\n              Asumir\r\n            </div>\r\n            <div\r\n              class=\"controlesResponsables hoverGris botonesControles\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-if=\"\r\n                usuarioLogeado == true &&\r\n                usuarioResponsableProyecto &&\r\n                responsablesSolicitados < 1\r\n              \"\r\n              id=\"solicitarResponsable\"\r\n              @click=\"setResponsablesSolicitados(1)\"\r\n            >\r\n              Solicitar responsable\r\n            </div>\r\n            <div\r\n              class=\"controlesResponsables hoverGris botonesControles\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-if=\"\r\n                usuarioLogeado &&\r\n                !usuarioResponsableProyecto &&\r\n                !usuarioPosibleResponsableProyecto &&\r\n                esteProyecto.responsables.length > 0\r\n              \"\r\n              id=\"botonAddResponsable\"\r\n              @click=\"entrarListaPosiblesResponsables\"\r\n            >\r\n              Quiero hacerme responsable\r\n            </div>\r\n            <div\r\n              class=\"controlesResponsables hoverGris botonesControles\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-if=\"\r\n                usuarioLogeado == true &&\r\n                (usuarioResponsableProyecto == true ||\r\n                  usuarioPosibleResponsableProyecto == true)\r\n              \"\r\n              @click=\"abandonarListaResponsables\"\r\n            >\r\n              Abandonar\r\n            </div>\r\n            <div\r\n              class=\"controlesResponsables hoverGris botonesControles\"\r\n              :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n              v-if=\"\r\n                usuarioLogeado == true && usuarioResponsableProyecto == true\r\n              \"\r\n              v-show=\"\r\n                idResponsableSeleccionado != null &&\r\n                responsableSeleccionadoEstaAceptado == false\r\n              \"\r\n              @click=\"aceptarResponsable(idResponsableSeleccionado)\"\r\n            >\r\n              Aceptar como responsable\r\n            </div>\r\n          </div>\r\n          <div id=\"listaResponsables\">\r\n            <icono-persona-autonomo\r\n              :idPersona=\"idPersona\"\r\n              :key=\"idPersona\"\r\n              v-for=\"idPersona of esteProyecto.responsables\"\r\n              :seleccionado=\"idResponsableSeleccionado == idPersona\"\r\n              @click.native.stop=\"\r\n                idResponsableSeleccionado = idPersona;\r\n                responsableSeleccionadoEstaAceptado = true;\r\n              \"\r\n            />\r\n\r\n            <icono-persona-autonomo\r\n              class=\"personaPosibleResponsable\"\r\n              :idPersona=\"idPersona\"\r\n              :key=\"idPersona\"\r\n              v-for=\"idPersona of esteProyecto.posiblesResponsables\"\r\n              v-show=\"\r\n                usuarioResponsableProyecto ||\r\n                (usuario && usuario.id && usuario.id === idPersona)\r\n              \"\r\n              :seleccionado=\"idResponsableSeleccionado == idPersona\"\r\n              @click.native.stop=\"\r\n                idResponsableSeleccionado = idPersona;\r\n                responsableSeleccionadoEstaAceptado = false;\r\n              \"\r\n              @dblclick.native.shift=\"aceptarResponsable(idPersona)\"\r\n            />\r\n\r\n            <div\r\n              class=\"iconoResponsablesSolicitados\"\r\n              v-show=\"responsablesSolicitados > 0\"\r\n            >\r\n              <img\r\n                src=\"@/assets/iconos/user.png\"\r\n                alt=\"Usuario solicitado\"\r\n                class=\"imagenResponsablesSolicitados\"\r\n                title=\"Personas adicionales solicitadas\"\r\n              />\r\n\r\n              <input\r\n                type=\"number\"\r\n                id=\"inputResponsablesSolicitados\"\r\n                v-model=\"responsablesSolicitados\"\r\n                :readonly=\"usuarioResponsableProyecto ? false : true\"\r\n                :style=\"[\r\n                  {\r\n                    backgroundColor:\r\n                      esteProyecto.responsablesSolicitados !=\r\n                      responsablesSolicitados\r\n                        ? 'orange'\r\n                        : 'white',\r\n                  },\r\n                ]\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"zonaParticipantes\" class=\"zonaPrimerNivel\">\r\n        <div class=\"barraSuperiorZona\">\r\n          <div\r\n            class=\"nombreZona\"\r\n            @click=\"mostrandoParticipantes = !mostrandoParticipantes\"\r\n          >\r\n            <div\r\n              class=\"trianguloBullet\"\r\n              :style=\"{\r\n                transform: mostrandoParticipantes\r\n                  ? 'rotateZ(90deg)'\r\n                  : 'rotateZ(0deg)',\r\n              }\"\r\n            ></div>\r\n            {{\r\n              esteProyecto.participantes.length === 1\r\n                ? \"Participante\"\r\n                : \"Participantes\"\r\n            }}\r\n          </div>\r\n        </div>\r\n\r\n        <div v-show=\"mostrandoParticipantes\">\r\n          <div id=\"controlesParticipantes\" class=\"controlesZona\">\r\n            <loading v-show=\"enviandoQueryParticipantes\" texto=\"Esperando...\" />\r\n            <div\r\n              class=\"controlesParticipantes hoverGris botonesControles\"\r\n              :class=\"{ deshabilitado: enviandoQueryParticipantes }\"\r\n              v-if=\"\r\n                usuarioLogeado == true &&\r\n                !usuarioParticipanteProyecto &&\r\n                !usuarioResponsableProyecto\r\n              \"\r\n              @click=\"entrarListaParticipantes()\"\r\n            >\r\n              Participar\r\n            </div>\r\n            <div\r\n              class=\"controlesParticipantes hoverGris botonesControles\"\r\n              :class=\"{ deshabilitado: enviandoQueryParticipantes }\"\r\n              v-if=\"usuarioLogeado == true && usuarioParticipanteProyecto\"\r\n              @click=\"abandonarListaParticipantes()\"\r\n            >\r\n              Abandonar\r\n            </div>\r\n          </div>\r\n          <div id=\"listaParticipantes\">\r\n            <icono-persona-autonomo\r\n              :idPersona=\"idPersona\"\r\n              :key=\"'participante' + idPersona\"\r\n              v-for=\"idPersona of esteProyecto.participantes\"\r\n              :seleccionado=\"idParticipanteSeleccionado == idPersona\"\r\n              @click.native.stop=\"\r\n                idParticipanteSeleccionado = idPersona;\r\n                participanteSeleccionadoEstaAceptado = true;\r\n              \"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"zonaEventos\" class=\"zonaPrimerNivel\">\r\n        <div class=\"barraSuperiorZona\">\r\n          <div class=\"nombreZona\" @click=\"mostrandoEventos = !mostrandoEventos\">\r\n            <div\r\n              class=\"trianguloBullet\"\r\n              :style=\"{\r\n                transform: mostrandoEventos\r\n                  ? 'rotateZ(90deg)'\r\n                  : 'rotateZ(0deg)',\r\n              }\"\r\n            ></div>\r\n            Eventos\r\n          </div>\r\n        </div>\r\n        <div v-show=\"mostrandoEventos\">\r\n          <div id=\"controlesEventos\" class=\"controlesZona\"></div>\r\n\r\n          <calendario\r\n            :configCalendario=\"{ tipo: 'club', id: esteProyecto.id }\"\r\n            :creacionEventosDisallowed=\"usuarioResponsableProyecto?false:true\"\r\n            :key=\"'calendario' + versionCalendario\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <!-- \r\n      <div id=\"zonaBienesServicios\" class=\"zonaPrimerNivel\">\r\n        <div class=\"barraSuperiorZona\">\r\n          <div\r\n            class=\"nombreZona\"\r\n            @click=\"mostrandoBienesServicios = !mostrandoBienesServicios\"\r\n          >\r\n            <div\r\n              class=\"trianguloBullet\"\r\n              :style=\"{\r\n                transform: mostrandoBienesServicios\r\n                  ? 'rotateZ(90deg)'\r\n                  : 'rotateZ(0deg)',\r\n              }\"\r\n            ></div>\r\n            Bienes y servicios\r\n          </div>\r\n        </div>\r\n        <div v-show=\"mostrandoBienesServicios\">\r\n          <div id=\"controlesBienesServicios\" class=\"controlesZona\">\r\n            <loading\r\n              v-show=\"enviandoQueryBienesServicios\"\r\n              texto=\"Esperando...\"\r\n            />\r\n            <div\r\n              class=\"controlesResponsables hoverGris botonesControles\"              \r\n              v-if=\"usuarioLogeado && usuarioResponsableProyecto\"\r\n              id=\"botonAdministrarBienesServicios\"\r\n              @click=\"administrandoBienesServicios=!administrandoBienesServicios\"\r\n            >\r\n              {{administrandoBienesServicios?'Vista normal':'Vista administrador'}}\r\n            </div>\r\n            <div\r\n              class=\"controlesResponsables hoverGris botonesControles\"\r\n              :class=\"{ deshabilitado: enviandoQueryBienesServicios }\"\r\n              v-if=\"usuarioLogeado && usuarioResponsableProyecto && administrandoBienesServicios\"\r\n              id=\"botonCrearProductoRepartir\"\r\n              @click=\"crearProductoRepartir\"\r\n            >\r\n              Crear producto para repartir\r\n            </div>\r\n            \r\n          </div>\r\n\r\n          <div\r\n            id=\"listaBienesServicios\"\r\n            v-show=\"\r\n              esteProyecto.bienes.length > 0 ||\r\n              esteProyecto.servicios.length > 0\r\n            \"\r\n          >\r\n            <bien-repartir-admin\r\n              :idProyecto=\"esteProyecto.id\"\r\n              :esteBien=\"bien\"\r\n              v-for=\"bien of esteProyecto.bienes\"\r\n              :key=\"bien.id\"\r\n              v-show=\"administrandoBienesServicios\"\r\n              @meElimine=\"eliminarBienDeCache(bien.id)\"\r\n            />\r\n\r\n            <bien-ofrecido v-for=\"bien of esteProyecto.bienes\" :key=\"'bienOfrecido'+bien.id\"\r\n            :esteBien=\"bien\" :idProyecto=\"esteProyecto.id\"\r\n            v-show=\"!administrandoBienesServicios\"\r\n            @nuevaPeticionCreada=\"addPeticionBienCache($event, bien.id)\"\r\n\r\n            />\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n\r\n      <div\r\n        id=\"zonaDiagramaFlujo\"\r\n        class=\"zonaPrimerNivel\"\r\n        ref=\"zonaDiagramaFlujo\"\r\n      >\r\n        <div class=\"barraSuperiorZona\">\r\n          <div\r\n            class=\"nombreZona\"\r\n            @click=\"mostrandoDiagramaFlujo = !mostrandoDiagramaFlujo\"\r\n          >\r\n            <div\r\n              class=\"trianguloBullet\"\r\n              :style=\"{\r\n                transform: mostrandoDiagramaFlujo\r\n                  ? 'rotateZ(90deg)'\r\n                  : 'rotateZ(0deg)',\r\n              }\"\r\n            ></div>\r\n            Diagrama de flujo\r\n          </div>\r\n        </div>\r\n        <div id=\"controlesObjetivos\" class=\"controlesZona\"></div>\r\n        <diagrama-flujo\r\n          :idProyecto=\"esteProyecto.id\"\r\n          :objetivos=\"esteProyecto.objetivos\"\r\n          :trabajos=\"esteProyecto.trabajos\"\r\n          :usuarioResponsableProyecto=\"usuarioResponsableProyecto\"\r\n          :activo=\"idNodoAbierto == null\"\r\n          :deshabilitar=\"realizandoOperacionDiagrama\"\r\n          v-if=\"mostrandoDiagramaFlujo\"\r\n          @crearTrabajoEnPosicion=\"crearNuevoTrabajo\"\r\n          @crearObjetivoEnPosicion=\"crearNuevoObjetivo\"\r\n          @nodoAbierto=\"abrirNodo\"\r\n          @click.native=\"idNodoAbierto = null\"\r\n        />\r\n      </div>\r\n      <div id=\"zonaForo\" ref=\"zonaForo\" class=\"zonaPrimerNivel\">\r\n        <div class=\"barraSuperiorZona\">\r\n          <div class=\"nombreZona\" @click=\"mostrandoForo = !mostrandoForo\">\r\n            <div\r\n              class=\"trianguloBullet\"\r\n              :style=\"{\r\n                transform: mostrandoForo ? 'rotateZ(90deg)' : 'rotateZ(0deg)',\r\n              }\"\r\n            ></div>\r\n            foro\r\n          </div>\r\n        </div>\r\n        <foro\r\n          :parent=\"infoAsParent\"\r\n          :idForo=\"esteProyecto.idForo\"\r\n          v-if=\"usuarioResponsableProyecto || usuarioParticipanteProyecto\"\r\n          v-show=\"mostrandoForo\"\r\n        />\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport {\r\n  fragmentoObjetivoProyecto,\r\n  // fragmentoBienProyecto,\r\n  fragmentoProyecto,\r\n  // fragmentoObjetivoProyecto,\r\n  fragmentoTrabajoProyecto,\r\n} from \"./utilidades/recursosGql\";\r\nimport Loading from \"./utilidades/Loading.vue\";\r\nimport Foro from \"./Foro.vue\";\r\nimport IconoPersonaAutonomo from \"./usuario/IconoPersonaAutonomo.vue\";\r\nimport DiagramaFlujo from \"./proyecto/DiagramaFlujo.vue\";\r\nimport debounce from \"debounce\";\r\nimport Calendario from \"./utilidades/Calendario.vue\";\r\n// import BienRepartirAdmin from \"./proyecto/BienRepartirAdmin.vue\";\r\n// import BienOfrecido from \"./proyecto/BienOfrecido.vue\";\r\n\r\nconst QUERY_PROYECTO = gql`\r\n  query ($idProyecto: ID!) {\r\n    proyecto(idProyecto: $idProyecto) {\r\n      ...fragProyecto\r\n    }\r\n  }\r\n  ${fragmentoProyecto}\r\n`;\r\nconst charProhibidosNombreProyecto = /[^ a-zA-ZÀ-ž0-9_():.,-]/;\r\nconst charProhibidosDescripcionProyecto = /[^\\n\\r a-zA-ZÀ-ž0-9_():;.,+¡!¿?@=-]/;\r\n\r\nexport default {\r\n  components: {\r\n    Loading,\r\n    Foro,\r\n    IconoPersonaAutonomo,\r\n    DiagramaFlujo,\r\n    Calendario,\r\n    // BienRepartirAdmin,\r\n    // BienOfrecido,\r\n  },\r\n  name: \"proyecto\",\r\n  apollo: {\r\n    esteProyecto: {\r\n      query: QUERY_PROYECTO,\r\n      variables() {\r\n        return {\r\n          idProyecto: this.$route.params.idProyecto,\r\n        };\r\n      },\r\n      update(respuesta) {\r\n        this.loading = false;\r\n        this.responsablesSolicitados =\r\n          respuesta.proyecto.responsablesSolicitados;\r\n        return respuesta.proyecto;\r\n      },\r\n      fetchPolicy: \"network-only\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n\r\n      esteProyecto: {\r\n        responsables: [],\r\n        posiblesResponsables: [],\r\n        participantes: [],\r\n        trabajos: [],\r\n        objetivos: [],\r\n      },\r\n      responsablesSolicitados: 0,\r\n      idResponsableSeleccionado: null,\r\n      idParticipanteSeleccionado: null,\r\n      responsableSeleccionadoEstaAceptado: false,\r\n\r\n      creandoTrabajo: false,\r\n      creandoObjetivo: false,\r\n\r\n      idTrabajoSeleccionado: null,\r\n      idObjetivoSeleccionado: null,\r\n\r\n      nuevoNombre: \"Nuevo nombre\",\r\n      editandoNombre: false,\r\n      enviandoNuevoNombre: false,\r\n\r\n      nuevoDescripcion: \"Nueva descripcion\",\r\n      editandoDescripcion: false,\r\n      enviandoNuevoDescripcion: false,\r\n\r\n      enviandoQueryResponsables: false,\r\n      enviandoQueryBienesServicios: false,\r\n      enviandoQueryParticipantes: false,\r\n      enviandoQueryEventos: false,\r\n\r\n      idNodoAbierto: null,\r\n\r\n      mostrandoDescripcion: true,\r\n      mostrandoResponsables: true,\r\n      mostrandoParticipantes: true,\r\n      mostrandoEventos: true,\r\n      mostrandoDiagramaFlujo: false,\r\n      mostrandoForo: true,\r\n      mostrandoBienesServicios: false,\r\n      administrandoBienesServicios: false,\r\n\r\n      versionCalendario: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    usuarioResponsableProyecto: function () {\r\n      if (!this.esteProyecto.responsables) return false;\r\n\r\n      if (\r\n        this.esteProyecto.responsables.includes(this.$store.state.usuario.id)\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    usuarioParticipanteProyecto: function () {\r\n      if (!this.esteProyecto.participantes) return false;\r\n\r\n      if (\r\n        this.esteProyecto.participantes.includes(this.$store.state.usuario.id)\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    usuarioPosibleResponsableProyecto: function () {\r\n      if (!this.esteProyecto.posiblesResponsables) return false;\r\n\r\n      if (this.esteProyecto.posiblesResponsables.includes(this.usuario.id)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    permisosEdicion: function () {\r\n      if (\r\n        this.usuarioResponsableProyecto ||\r\n        this.$store.state.usuario.permisos == \"superadministrador\"\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoNombreIlegal() {\r\n      if (!this.nuevoNombre || this.nuevoNombre.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosNombreProyecto.test(this.nuevoNombre)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoDescripcionIlegal() {\r\n      if (!this.nuevoDescripcion || this.nuevoDescripcion.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosDescripcionProyecto.test(this.nuevoDescripcion)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    infoAsParent() {\r\n      return {\r\n        id: this.esteProyecto.id,\r\n        tipo: \"proyecto\",\r\n        nombre: this.esteProyecto.nombre,\r\n      };\r\n    },\r\n    realizandoOperacionDiagrama() {\r\n      return this.creandoTrabajo || this.creandoObjetivo;\r\n    },\r\n  },\r\n  methods: {\r\n    guardarNuevoNombre() {\r\n      if (this.nuevoNombreIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoNombre == this.esteProyecto.nombre) {\r\n        this.editandoNombre = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo nombre`);\r\n      this.enviandoNuevoNombre = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $nuevoNombre: String!) {\r\n              editarNombreProyecto(\r\n                idProyecto: $idProyecto\r\n                nuevoNombre: $nuevoNombre\r\n              ) {\r\n                id\r\n                nombre\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            nuevoNombre: this.nuevoNombre,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoNombre = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoDescripcion() {\r\n      if (this.nuevoDescripcionIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoDescripcion == this.esteProyecto.descripcion) {\r\n        this.editandoDescripcion = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo descripcion`);\r\n      this.enviandoNuevoDescripcion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $nuevoDescripcion: String!) {\r\n              editarDescripcionProyecto(\r\n                idProyecto: $idProyecto\r\n                nuevoDescripcion: $nuevoDescripcion\r\n              ) {\r\n                id\r\n                descripcion\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            nuevoDescripcion: this.nuevoDescripcion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          this.editandoDescripcion = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    toggleEditandoNombre() {\r\n      this.editandoNombre = !this.editandoNombre;\r\n      this.nuevoNombre = this.esteProyecto.nombre;\r\n    },\r\n    toggleEditandoDescripcion() {\r\n      this.$refs.inputNuevoDescripcion.style.height =\r\n        this.$refs.descripcion.offsetHeight + \"px\";\r\n      this.editandoDescripcion = !this.editandoDescripcion;\r\n      this.nuevoDescripcion = this.esteProyecto.descripcion;\r\n    },\r\n    abandonarListaResponsables() {\r\n      console.log(`Abandonando la responsabilidad en este proyecto`);\r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $idUsuario: ID!) {\r\n              removeResponsableProyecto(\r\n                idProyecto: $idProyecto\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                responsables\r\n                posiblesResponsables\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            idUsuario: this.usuario.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n          this.versionCalendario++;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    aceptarResponsable(idPosibleResponsable) {\r\n      console.log(\r\n        `aceptando como responsable al usuario ${idPosibleResponsable}`\r\n      );\r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $idUsuario: ID!) {\r\n              addResponsableProyecto(\r\n                idProyecto: $idProyecto\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                responsables\r\n                posiblesResponsables\r\n                responsablesSolicitados\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            idUsuario: idPosibleResponsable,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n          this.responsableSeleccionadoEstaAceptado = true;\r\n          this.versionCalendario++;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    entrarListaPosiblesResponsables() {\r\n      console.log(\r\n        `Enviando peticion de entrar a la lista de posibles responsables del proyecto con id ${this.esteProyecto.id}`\r\n      );\r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $idUsuario: ID!) {\r\n              addPosibleResponsableProyecto(\r\n                idProyecto: $idProyecto\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                posiblesResponsables\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            idUsuario: this.$store.state.usuario.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    asumirComoResponsable() {\r\n      console.log(\r\n        `enviando id ${this.$store.state.usuario.id} para la lista de responsables del proyecto con id ${this.esteProyecto.id}`\r\n      );\r\n      this.enviandoQueryResponsables = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $idUsuario: ID!) {\r\n              addResponsableProyecto(\r\n                idProyecto: $idProyecto\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                responsables\r\n                posiblesResponsables\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            idUsuario: this.$store.state.usuario.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryResponsables = false;\r\n          this.versionCalendario++;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryResponsables = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    entrarListaParticipantes() {\r\n      console.log(\r\n        `Enviando peticion de entrar a la lista de participantes del proyecto con id ${this.esteProyecto.id}`\r\n      );\r\n      this.enviandoQueryParticipantes = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $idUsuario: ID!) {\r\n              addParticipanteProyecto(\r\n                idProyecto: $idProyecto\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                participantes\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            idUsuario: this.$store.state.usuario.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryParticipantes = false;\r\n          this.versionCalendario++;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryParticipantes = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    abandonarListaParticipantes() {\r\n      console.log(`Abandonando la participación en este proyecto`);\r\n      this.enviandoQueryParticipantes = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $idUsuario: ID!) {\r\n              removeParticipanteProyecto(\r\n                idProyecto: $idProyecto\r\n                idUsuario: $idUsuario\r\n              ) {\r\n                id\r\n                participantes\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            idUsuario: this.usuario.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoQueryParticipantes = false;\r\n          this.versionCalendario++;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryParticipantes = false;\r\n          console.log(\"error: \" + error);\r\n        });\r\n    },\r\n    crearNuevoTrabajo(posicion) {\r\n      console.log(`enviando mutacion de crear nuevo trabajo`);\r\n      this.creandoTrabajo = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $posicion: CoordsInput) {\r\n              crearTrabajoEnProyecto(\r\n                idProyecto: $idProyecto\r\n                posicion: $posicion\r\n              ) {\r\n                ...fragTrabajoProyecto\r\n              }\r\n            }\r\n            ${fragmentoTrabajoProyecto}\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            posicion,\r\n          },\r\n          update: (store, { data: { crearTrabajoEnProyecto } }) => {\r\n            console.log(`respuesta: ${JSON.stringify(crearTrabajoEnProyecto)}`);\r\n            const nuevoTrabajo = crearTrabajoEnProyecto;\r\n            try {\r\n              const cache = store.readQuery({\r\n                query: QUERY_PROYECTO,\r\n                variables: { idProyecto: this.esteProyecto.id },\r\n              });\r\n              console.log(\r\n                `Trabajos en cache: ${cache.proyecto.trabajos.length}`\r\n              );\r\n              const nuevoCache = JSON.parse(JSON.stringify(cache));\r\n              nuevoCache.proyecto.trabajos.push(nuevoTrabajo);\r\n\r\n              store.writeQuery({\r\n                query: QUERY_PROYECTO,\r\n                variables: { idProyecto: this.esteProyecto.id },\r\n                data: nuevoCache,\r\n              });\r\n              console.log(`cache actualizado`);\r\n              console.log(\r\n                `Trabajos en cache: ${nuevoCache.proyecto.trabajos.length}`\r\n              );\r\n            } catch (error) {\r\n              console.log(`Error actualizando cache: ${error}`);\r\n              return;\r\n            }\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.creandoTrabajo = false;\r\n        })\r\n        .catch((error) => {\r\n          this.creandoTrabajo = false;\r\n          console.log(`error: ${error}`);\r\n        });\r\n    },\r\n    crearNuevoObjetivo(posicion) {\r\n      console.log(`enviando mutacion de crear nuevo objetivo`);\r\n      this.creandoObjetivo = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idProyecto: ID!, $posicion: CoordsInput) {\r\n              crearObjetivoEnProyecto(\r\n                idProyecto: $idProyecto\r\n                posicion: $posicion\r\n              ) {\r\n                ...fragObjetivoProyecto\r\n              }\r\n            }\r\n            ${fragmentoObjetivoProyecto}\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            posicion,\r\n          },\r\n          update: (store, { data: { crearObjetivoEnProyecto } }) => {\r\n            console.log(\r\n              `respuesta: ${JSON.stringify(\r\n                JSON.stringify(crearObjetivoEnProyecto)\r\n              )}`\r\n            );\r\n            const nuevoObjetivo = crearObjetivoEnProyecto;\r\n            try {\r\n              const cache = store.readQuery({\r\n                query: QUERY_PROYECTO,\r\n                variables: { idProyecto: this.esteProyecto.id },\r\n              });\r\n\r\n              var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n              nuevoCache.proyecto.objetivos.push(nuevoObjetivo);\r\n\r\n              store.writeQuery({\r\n                query: QUERY_PROYECTO,\r\n                variables: { idProyecto: this.esteProyecto.id },\r\n                data: nuevoCache,\r\n              });\r\n              console.log(`cache actualizado`);\r\n            } catch (error) {\r\n              console.log(`Error actualizando cache: ${error}`);\r\n              return;\r\n            }\r\n          },\r\n        })\r\n        .then((respuesta) => {\r\n          console.log(`respuesta. ${respuesta}`);\r\n          this.creandoObjetivo = false;\r\n        })\r\n        .catch((error) => {\r\n          this.creandoObjetivo = false;\r\n          console.log(`error: ${error}`);\r\n        });\r\n    },\r\n    // crearProductoRepartir() {\r\n    //   console.log(`Creando producto para repartir...`);\r\n    //   this.enviandoQueryBienesServicios = true;\r\n\r\n    //   this.$apollo\r\n    //     .mutate({\r\n    //       mutation: gql`\r\n    //         mutation ($idProyecto: ID!) {\r\n    //           crearBienRepartirVacioProyecto(idProyecto: $idProyecto) {\r\n    //             ...fragBienProyecto\r\n    //           }\r\n    //         }\r\n    //         ${fragmentoBienProyecto}\r\n    //       `,\r\n    //       variables: {\r\n    //         idProyecto: this.esteProyecto.id,\r\n    //       },\r\n    //     })\r\n    //     .then(({ data: { crearBienRepartirVacioProyecto } }) => {\r\n    //       this.enviandoQueryBienesServicios = false;\r\n    //       const store = this.$apollo.provider.defaultClient;\r\n    //       const cache = store.readQuery({\r\n    //         query: QUERY_PROYECTO,\r\n    //         variables: {\r\n    //           idProyecto: this.esteProyecto.id,\r\n    //         },\r\n    //       });\r\n    //       const iBien = cache.proyecto.bienes.findIndex(\r\n    //         (b) => b.id == crearBienRepartirVacioProyecto.id\r\n    //       );\r\n    //       if (iBien > -1) {\r\n    //         console.log(`El bien ya estaba en caché`);\r\n    //       } else {\r\n    //         var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n    //         nuevoCache.proyecto.bienes.push(crearBienRepartirVacioProyecto);\r\n    //         store.writeQuery({\r\n    //           query: QUERY_PROYECTO,\r\n    //           variables: {\r\n    //             idProyecto: this.esteProyecto.id,\r\n    //           },\r\n    //           data: nuevoCache,\r\n    //         });\r\n    //       }\r\n    //     })\r\n    //     .catch((error) => {\r\n    //       console.log(`Error: ${error}`);\r\n    //       this.enviandoQueryBienesServicios = false;\r\n    //     });\r\n    // },\r\n    eliminarTrabajoDeCache(idTrabajo) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_PROYECTO,\r\n        variables: {\r\n          idProyecto: this.esteProyecto.id,\r\n        },\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      let indexT = nuevoCache.proyecto.trabajos.indexOf(idTrabajo);\r\n      if (indexT > -1) {\r\n        nuevoCache.proyecto.idsTrabajos.splice(indexT, 1);\r\n      } else {\r\n        console.log(`El trabajo no existía en el proyecto`);\r\n      }\r\n      store.writeQuery({\r\n        query: QUERY_PROYECTO,\r\n        variables: {\r\n          idProyecto: this.esteProyecto.id,\r\n        },\r\n        data: nuevoCache,\r\n      });\r\n    },\r\n    eliminarObjetivoDeCache(idObjetivo) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_PROYECTO,\r\n        variables: {\r\n          idProyecto: this.esteProyecto.id,\r\n        },\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      let indexT = nuevoCache.proyecto.objetivos.findIndex(\r\n        (t) => t.id == idObjetivo\r\n      );\r\n      if (indexT > -1) {\r\n        nuevoCache.proyecto.objetivos.splice(indexT, 1);\r\n      } else {\r\n        console.log(`El objetivo no existía en el proyecto`);\r\n      }\r\n      store.writeQuery({\r\n        query: QUERY_PROYECTO,\r\n        variables: {\r\n          idProyecto: this.esteProyecto.id,\r\n        },\r\n        data: nuevoCache,\r\n      });\r\n    },\r\n    // eliminarBienDeCache(idBien) {\r\n    //   const store = this.$apollo.provider.defaultClient;\r\n    //   const cache = store.readQuery({\r\n    //     query: QUERY_PROYECTO,\r\n    //     variables: {\r\n    //       idProyecto: this.esteProyecto.id,\r\n    //     },\r\n    //   });\r\n    //   var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n    //   let indexB = nuevoCache.proyecto.bienes.findIndex((b) => b.id == idBien);\r\n    //   if (indexB > -1) {\r\n    //     nuevoCache.proyecto.bienes.splice(indexB, 1);\r\n    //   } else {\r\n    //     console.log(`El bien no existía en el proyecto`);\r\n    //   }\r\n    //   store.writeQuery({\r\n    //     query: QUERY_PROYECTO,\r\n    //     variables: {\r\n    //       idProyecto: this.esteProyecto.id,\r\n    //     },\r\n    //     data: nuevoCache,\r\n    //   });\r\n    // },\r\n    // addPeticionBienCache(nuevaPeticion, idBien){\r\n    //   console.log(`Introduciendo la peticion ${JSON.stringify(nuevaPeticion)} en el cache para el bien ${idBien}`);\r\n    //   const store = this.$apollo.provider.defaultClient;\r\n    //   const cache = store.readQuery({\r\n    //     query: QUERY_PROYECTO,\r\n    //     variables: {\r\n    //       idProyecto: this.esteProyecto.id,\r\n    //     },\r\n    //   });\r\n    //   var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n    //   var elBien=nuevoCache.proyecto.bienes.find(b=>b.id==idBien)\r\n    //   if(!elBien){\r\n    //     console.log(`Tratando de introducir una nueva peticion en un bien que no estaba en el caché`);\r\n    //     return\r\n    //   }\r\n\r\n    //   const indexP = elBien.listaPeticiones.findIndex((b) => b.idBeneficiario == nuevaPeticion.idBeneficiario);\r\n    //   if (indexP > -1) {\r\n    //     elBien.listaPeticiones.splice(indexP, 1);\r\n    //   }\r\n    //   if(nuevaPeticion.cantidadSolicitada>0){\r\n    //     elBien.listaPeticiones.push(nuevaPeticion);\r\n    //   }\r\n    //   store.writeQuery({\r\n    //     query: QUERY_PROYECTO,\r\n    //     variables: {\r\n    //       idProyecto: this.esteProyecto.id,\r\n    //     },\r\n    //     data: nuevoCache,\r\n    //   });\r\n    // },\r\n    navegarAlForo() {\r\n      console.log(`Navegando al foro de este proyecto`);\r\n      this.$refs.zonaForo.scrollIntoView();\r\n    },\r\n    abrirNodo(idNodo) {\r\n      console.log(`Abriendo nodo ${idNodo}`);\r\n      this.idNodoAbierto = idNodo;\r\n    },\r\n    debounceSetResponsablesSolicitados: debounce(function () {\r\n      this.setResponsablesSolicitados(parseInt(this.responsablesSolicitados));\r\n    }, 2000),\r\n    setResponsablesSolicitados(cantidad) {\r\n      if (cantidad < 0) cantidad = 0;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idProyecto: ID!\r\n              $nuevoCantidadResponsablesSolicitados: Int!\r\n            ) {\r\n              setResponsablesSolicitadosProyecto(\r\n                idProyecto: $idProyecto\r\n                nuevoCantidadResponsablesSolicitados: $nuevoCantidadResponsablesSolicitados\r\n              ) {\r\n                id\r\n                responsablesSolicitados\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idProyecto: this.esteProyecto.id,\r\n            nuevoCantidadResponsablesSolicitados: cantidad,\r\n          },\r\n        })\r\n        .then(() => {})\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n  },\r\n  watch: {\r\n    responsablesSolicitados(nuevo) {\r\n      if (nuevo === this.esteProyecto.responsablesSolicitados) return;\r\n      console.log(`Cambio en responsables solicitados`);\r\n      this.debounceSetResponsablesSolicitados();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.proyecto {\r\n  margin: 5px auto;\r\n  width: min(93%, 1300px);\r\n  padding: 5px 20px;\r\n  padding-bottom: 300px;\r\n}\r\n\r\n#nombreProyecto {\r\n  margin-top: 15px;\r\n  font-size: 23px;\r\n  font-weight: bolder;\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n#inputNuevoNombre {\r\n  font-size: 23px;\r\n  display: block;\r\n  margin: 10px auto;\r\n}\r\n#enlaceForo {\r\n  display: block;\r\n  margin: 10px auto;\r\n  cursor: pointer;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  padding: 5px;\r\n}\r\n#enlaceForo:hover {\r\n  background-color: rgb(197, 197, 197);\r\n}\r\n#descripcion {\r\n  font-size: 19px;\r\n  width: 95%;\r\n  margin: 10px auto;\r\n  padding: 10px;\r\n  min-height: 100px;\r\n  resize: vertical;\r\n  border: none;\r\n  background-color: transparent;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n#inputNuevoDescripcion {\r\n  width: 95%;\r\n  font-size: 19px;\r\n  height: 70px;\r\n  display: block;\r\n  margin: 10px auto;\r\n  resize: vertical;\r\n}\r\n\r\n.bEditar {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n.bEditar:hover {\r\n  background-color: rgb(209, 209, 209);\r\n}\r\n.bGuardar {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n.bGuardar:hover {\r\n  background-color: rgb(209, 209, 209);\r\n}\r\n#zonaResponsables {\r\n  align-items: center;\r\n}\r\n.zonaPrimerNivel {\r\n  border: 2px solid black;\r\n  position: relative;\r\n  min-height: 10px;\r\n}\r\n\r\n#listaTrabajos {\r\n  padding: 10px 25px;\r\n}\r\n.iconoTrabajo {\r\n  margin-bottom: 30px;\r\n}\r\n.opacar {\r\n  opacity: 0.3;\r\n}\r\n#listaObjetivos {\r\n  padding: 10px 25px;\r\n}\r\n.iconoObjetivo {\r\n  margin-bottom: 30px;\r\n}\r\n.controlesZona {\r\n  display: flex;\r\n  font-size: 13px;\r\n  flex-direction: row-reverse;\r\n}\r\n.botonesControles {\r\n  padding: 3px 5px;\r\n  cursor: pointer;\r\n}\r\n.barraSuperiorZona {\r\n  display: flex;\r\n  background-color: teal;\r\n}\r\n.nombreZona {\r\n  font-size: 18px;\r\n  padding: 3px 5px;\r\n  cursor: pointer;\r\n}\r\n#listaResponsables {\r\n  display: flex;\r\n  padding: 10px 20px;\r\n  padding-bottom: 65px;\r\n  flex-wrap: wrap;\r\n}\r\n#listaParticipantes {\r\n  display: flex;\r\n  padding: 10px 20px;\r\n  padding-bottom: 65px;\r\n  flex-wrap: wrap;\r\n}\r\n.iconoPersonaAutonomo {\r\n  margin-right: 20px;\r\n  margin-left: 15px;\r\n  vertical-align: middle;\r\n  margin-top: 5px;\r\n  margin-bottom: 55px;\r\n}\r\n.personaPosibleResponsable {\r\n  opacity: 0.5;\r\n}\r\n.iconoResponsablesSolicitados {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n}\r\n#inputResponsablesSolicitados {\r\n  height: 20px;\r\n  width: 40px;\r\n  margin: 5px auto;\r\n  display: block;\r\n}\r\n.imagenResponsablesSolicitados {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#zonaDiagramaFlujo {\r\n  position: relative;\r\n  overflow: hidden;\r\n  user-select: none;\r\n  min-height: 0px;\r\n}\r\n.ventanaNodo {\r\n  width: min(450px, 90%);\r\n  height: min(800px, 90%);\r\n  left: 4%;\r\n  top: 5%;\r\n  position: absolute;\r\n  overflow-y: scroll;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.trianguloBullet {\r\n  border: 10px solid transparent;\r\n  border-left: 10px solid black;\r\n  display: inline-block;\r\n  margin-right: 10px;\r\n  margin-left: 10px;\r\n  transform-origin: left center;\r\n  transition: transform 0.2s;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyecto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyecto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Proyecto.vue?vue&type=template&id=73860f95&scoped=true&\"\nimport script from \"./Proyecto.vue?vue&type=script&lang=js&\"\nexport * from \"./Proyecto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Proyecto.vue?vue&type=style&index=0&id=73860f95&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73860f95\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"registro\"},[_c('form',[_c('div',{attrs:{\"id\":\"zonaDatosPersonales\"}},[_c('h3',[_vm._v(\"Información Personal\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.nombres),expression:\"datosRegistro.nombres\"}],attrs:{\"type\":\"text\",\"name\":\"nombres\",\"placeholder\":\"Nombres\"},domProps:{\"value\":(_vm.datosRegistro.nombres)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"nombres\", $event.target.value)}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.apellidos),expression:\"datosRegistro.apellidos\"}],attrs:{\"type\":\"text\",\"name\":\"apellidos\",\"placeholder\":\"Apellidos\"},domProps:{\"value\":(_vm.datosRegistro.apellidos)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"apellidos\", $event.target.value)}}}),_c('br'),_c('br'),_c('label',{attrs:{\"for\":\"fechaNacimiento\"}},[_vm._v(\"Fecha de nacimiento\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.fechaNacimiento),expression:\"datosRegistro.fechaNacimiento\"}],attrs:{\"type\":\"date\",\"name\":\"fechaNacimiento\"},domProps:{\"value\":(_vm.datosRegistro.fechaNacimiento)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"fechaNacimiento\", $event.target.value)}}}),_c('br')]),_c('div',{attrs:{\"id\":\"zonaContacto\"}},[_c('h3',[_vm._v(\"Datos de contacto\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.email),expression:\"datosRegistro.email\"}],attrs:{\"type\":\"email\",\"placeholder\":\"Correo electrónico\"},domProps:{\"value\":(_vm.datosRegistro.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"email\", $event.target.value)}}}),_c('br'),_c('br'),_c('label',{attrs:{\"for\":\"numeroTel\"}},[_vm._v(\"Número telefónico\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.numeroTel),expression:\"datosRegistro.numeroTel\"}],attrs:{\"type\":\"text\",\"name\":\"numeroTel\"},domProps:{\"value\":(_vm.datosRegistro.numeroTel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"numeroTel\", $event.target.value)}}}),_c('br'),_c('br'),_c('label',{attrs:{\"for\":\"lugarResidencia\"}},[_vm._v(\"Lugar de residencia\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.lugarResidencia),expression:\"datosRegistro.lugarResidencia\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Lugar de residencia\"},domProps:{\"value\":(_vm.datosRegistro.lugarResidencia)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"lugarResidencia\", $event.target.value)}}})]),_c('div',{attrs:{\"id\":\"zonaLogin\"}},[_c('h3',[_vm._v(\"Datos de login\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.username),expression:\"datosRegistro.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"nombre de usuario\",\"name\":\"username\"},domProps:{\"value\":(_vm.datosRegistro.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"username\", $event.target.value)}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.password),expression:\"datosRegistro.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"password\",\"name\":\"password\"},domProps:{\"value\":(_vm.datosRegistro.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"password\", $event.target.value)}}}),_c('br')]),_c('button',{on:{\"click\":function($event){$event.preventDefault();return _vm.enviarRegistro($event)}}},[_vm._v(\"Enviar\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var charProhibidos = /[^ a-zA-ZÀ-ž0-9_():.,-]/g;\r\nvar charProhibidosNombre = /[^ a-zA-ZÀ-žñÑ]/g;\r\nvar charProhibidosNumeroTel = /[^0-9+-]/g;\r\nvar emailChars = /\\S+@\\S+\\.\\S+/;\r\nvar dateChars = /[12][90][0-9][0-9]-[01][0-9]-[0-3][0-9]/;\r\nvar charProhibidosPassword = /[^a-zA-Z0-9ñÑ*@_-]/g;\r\n\r\nexport const validarDatosUsuario = function (datosUsuario) {\r\n    var errores = [];\r\n\r\n    for (let dato in datosUsuario) {\r\n\r\n        if(!datosUsuario[dato]){\r\n            errores.push(`Falta ${dato}`);\r\n            return errores;\r\n        }\r\n        \r\n        datosUsuario[dato]=datosUsuario[dato].trim();\r\n\r\n        if (dato == \"nombres\") {\r\n            if (datosUsuario.nombres.length < 2) {\r\n                errores.push(\"Tu nombre es muy corto\");\r\n            }\r\n            if (charProhibidosNombre.test(datosUsuario.nombres)) {\r\n                errores.push(\"Tu nombre contiene caracteres no permitidos\");\r\n            }\r\n        }\r\n        else if (dato == \"apellidos\") {\r\n            if (datosUsuario.apellidos.length < 2) {\r\n                errores.push(\"Tu apellido es muy corto\");\r\n            }\r\n            if (charProhibidosNombre.test(datosUsuario.apellidos)) {\r\n                errores.push(\"Tu apellido contiene caracteres no permitidos\");\r\n            }\r\n        }\r\n\r\n        else if (dato == \"fechaNacimiento\") {\r\n            if (!dateChars.test(datosUsuario.fechaNacimiento)) {\r\n                errores.push(\"Tu fecha de nacimiento es incorrecta\");\r\n            }\r\n        }\r\n\r\n        else if (dato == \"email\") {\r\n            if (datosUsuario.email.length > 0 && !emailChars.test(datosUsuario.email)) {\r\n                errores.push(\"Tu e-mail no es válido\");\r\n            }\r\n        }\r\n\r\n        else if (dato == \"numeroTel\") {\r\n            if (charProhibidosNumeroTel.test(datosUsuario.numeroTel)) {\r\n                errores.push(\"Tu número telefónico no es válido\");\r\n            }\r\n        }\r\n\r\n        else if (dato == \"lugarResidencia\") {\r\n            if (datosUsuario.lugarResidencia.length < 2) {\r\n                errores.push(\"Tu lugar de residencia es muy corto\");\r\n            }\r\n            if (charProhibidos.test(datosUsuario.lugarResidencia)) {\r\n                errores.push(\r\n                    \"Tu lugar de residencia contiene caracteres no permitidos\"\r\n                );\r\n            }\r\n        }\r\n        else if (dato == \"username\") {\r\n            if (datosUsuario.username.length < 4) {\r\n                errores.push(\"Tu nombre de usuario es muy corto\");\r\n            }\r\n            if (charProhibidos.test(datosUsuario.username)) {\r\n                errores.push(\"Tu nombre de usuario contiene caracteres no permitidos\");\r\n            }\r\n        }\r\n        else if (dato == \"password\") {\r\n            if (datosUsuario.password.length < 6 || datosUsuario.password.length > 32) {\r\n                errores.push(\"Tu contraseña debe contener entre 6 y 32 caracteres\");\r\n            }\r\n            if (charProhibidosPassword.test(datosUsuario.password)) {\r\n                errores.push(\"Tu password contiene caracteres no permitidos\");\r\n            }\r\n        }\r\n        else {\r\n            errores.push(`El dato ${dato} no tenía lógica de validación. Informa al administrador del sistema por favor`);\r\n        }\r\n    }\r\n\r\n    return errores;\r\n}","<template>\r\n  <div class=\"registro\">\r\n    <form>\r\n      <div id=\"zonaDatosPersonales\">\r\n        <h3>Información Personal</h3>\r\n        <input\r\n          v-model=\"datosRegistro.nombres\"\r\n          type=\"text\"\r\n          name=\"nombres\"\r\n          placeholder=\"Nombres\"\r\n        /><br />\r\n        <input\r\n          v-model=\"datosRegistro.apellidos\"\r\n          type=\"text\"\r\n          name=\"apellidos\"\r\n          placeholder=\"Apellidos\"\r\n        /><br /><br />\r\n        <label for=\"fechaNacimiento\">Fecha de nacimiento</label><br />\r\n        <input\r\n          v-model=\"datosRegistro.fechaNacimiento\"\r\n          type=\"date\"\r\n          name=\"fechaNacimiento\"\r\n        /><br />\r\n      </div>\r\n\r\n      <div id=\"zonaContacto\">\r\n        <h3>Datos de contacto</h3>\r\n        <input\r\n          v-model=\"datosRegistro.email\"\r\n          type=\"email\"\r\n          placeholder=\"Correo electrónico\"\r\n        /><br /><br />\r\n        <label for=\"numeroTel\">Número telefónico</label><br />\r\n        <input\r\n          v-model=\"datosRegistro.numeroTel\"\r\n          type=\"text\"\r\n          name=\"numeroTel\"\r\n        /><br /><br />\r\n        <label for=\"lugarResidencia\">Lugar de residencia</label><br />\r\n        <input\r\n          v-model=\"datosRegistro.lugarResidencia\"\r\n          type=\"text\"\r\n          placeholder=\"Lugar de residencia\"\r\n        />\r\n      </div>\r\n\r\n      <div id=\"zonaLogin\">\r\n        <h3>Datos de login</h3>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"nombre de usuario\"\r\n          name=\"username\"\r\n          v-model=\"datosRegistro.username\"\r\n        /><br />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          name=\"password\"\r\n          v-model=\"datosRegistro.password\"\r\n        /><br />\r\n      </div>\r\n\r\n      <button @click.prevent=\"enviarRegistro\">Enviar</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { validarDatosUsuario } from \"./utilidades/validacionDatosUsuario\";\r\n\r\nexport default {\r\n  name: \"Registro\",\r\n  data() {\r\n    return {\r\n      datosRegistro: {\r\n        nombres: null,\r\n        apellidos: null,\r\n        fechaNacimiento: null,\r\n        email: null,\r\n        numeroTel: null,\r\n        lugarResidencia: null,\r\n        username: null,\r\n        password: null,\r\n      },\r\n      camposObligatorios: [\"nombres\", \"apellidos\", \"username\", \"password\"],\r\n    };\r\n  },\r\n  methods: {\r\n    enviarRegistro() {\r\n      let datosIntroducidos = new Object();\r\n      if(!this.datosRegistro.username){\r\n        this.datosRegistro.username = this.datosRegistro.nombres.split(' ')[0] + this.datosRegistro.apellidos.split(' ')[0]\r\n      }\r\n      if(!this.datosRegistro.password){\r\n        this.datosRegistro.password =this.datosRegistro.nombres.split(' ')[0] + this.datosRegistro.apellidos.split(' ')[0]\r\n      }\r\n\r\n\r\n      for (let campo in this.datosRegistro) {\r\n        if (!this.datosRegistro[campo]) {\r\n          console.log(`campo ${campo} vacio`);\r\n        } else {\r\n          datosIntroducidos[campo] = this.datosRegistro[campo];\r\n        }\r\n      }\r\n\r\n      this.camposObligatorios.forEach((campoObligatorio) => {\r\n        if (!datosIntroducidos[campoObligatorio]) {\r\n          console.log(`Faltaba el campo ${campoObligatorio}`);\r\n          return;\r\n        }\r\n      });\r\n      let dis = this;\r\n\r\n      let errores = validarDatosUsuario(datosIntroducidos);\r\n      if (errores.length < 1) {\r\n        axios\r\n          .post(this.serverUrl + \"/api/usuarios/registro\", {\r\n            usuario: datosIntroducidos,\r\n          })\r\n          .then(function (respuesta) {\r\n            console.log(`respuesta: ${JSON.stringify(respuesta.data)}`);\r\n            if (respuesta.data.registro) {\r\n              alert(\"Registro ok\");\r\n            }\r\n            dis.vaciarCampos();\r\n          })\r\n          .catch(function (error) {\r\n            console.log(`error: ${error}`);\r\n          });\r\n      } else {\r\n        console.log(`Errores: ${errores}`);\r\n      }\r\n    },\r\n    vaciarCampos() {\r\n      console.log(`Vaciando campos`);\r\n      this.datosRegistro = {\r\n        nombres: null,\r\n        apellidos: null,\r\n        fechaNacimiento: null,\r\n        email: null,\r\n        numeroTel: null,\r\n        lugarResidencia: null,\r\n        username: null,\r\n        password: null,\r\n      };\r\n    },\r\n    alertar(msj) {\r\n      console.log(msj);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.registro {\r\n  padding-left: 15%;\r\n  padding-top: 5%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Registro.vue?vue&type=template&id=725d119a&scoped=true&\"\nimport script from \"./Registro.vue?vue&type=script&lang=js&\"\nexport * from \"./Registro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Registro.vue?vue&type=style&index=0&id=725d119a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"725d119a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"personas\"},[_c('router-view'),_c('div',{attrs:{\"id\":\"zonaBuscar\"}},[_c('div',{staticClass:\"barraSuperior\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.textoBuscar),expression:\"textoBuscar\"},{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoInputBuscar),expression:\"mostrandoInputBuscar\"}],ref:\"inputBuscar\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.textoBuscar)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.textoBuscar=$event.target.value},_vm.calcularBuscados]}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mostrandoInputBuscar),expression:\"!mostrandoInputBuscar\"}],staticClass:\"boton\",on:{\"click\":_vm.iniciarBuscar}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/search.svg\"),\"alt\":\"Lupa\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoInputBuscar),expression:\"mostrandoInputBuscar\"}],staticClass:\"boton\",attrs:{\"title\":\"Cancelar\"},on:{\"click\":_vm.cancelarBusqueda}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Equis\"}})])])]),_c('div',{staticClass:\"contenedorControles\",attrs:{\"id\":\"controlesPersonas\"}},[_c('div',{staticClass:\"boton\",on:{\"click\":function($event){_vm.mostrarPersonas = _vm.mostrarPersonas === 'todos' ? 'profes' : 'todos'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrarPersonas === 'todos'),expression:\"mostrarPersonas === 'todos'\"}],attrs:{\"src\":require(\"@/assets/iconos/users.svg\"),\"alt\":\"Todos\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrarPersonas === 'profes'),expression:\"mostrarPersonas === 'profes'\"}],attrs:{\"src\":require(\"@/assets/iconos/teacher.svg\"),\"alt\":\"Profes\"}})])]),_c('div',{attrs:{\"id\":\"listaPersonas\"},on:{\"click\":function($event){_vm.idPersonaMenuCx = null}}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingPersonas),expression:\"loadingPersonas\"}],attrs:{\"texto\":\"Cargando lista de personas...\"}}),_vm._l((_vm.personasVisibles),function(persona){return _c('persona-vista-lista',{key:persona.id,attrs:{\"seleccionado\":_vm.idPersonaSeleccionada === persona.id,\"estaPersona\":persona,\"nodosSolidaridadPublicitados\":_vm.nodosSolidaridadPublicitados},nativeOn:{\"click\":function($event){_vm.idPersonaSeleccionada = persona.id}}})})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"personaVistaLista\",class:{ seleccionado: _vm.seleccionado }},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_c('div',{staticClass:\"iconoPersona\"},[(_vm.estaPersona.permisos.includes('maestraVida-profesor'))?_c('img',{attrs:{\"src\":require(\"@/assets/iconos/teacher.svg\"),\"alt\":\"Profesor\"}}):_vm._e(),(_vm.estaPersona.permisos.includes('maestraVida-estudiante'))?_c('img',{attrs:{\"src\":require(\"@/assets/iconos/graduationCap.svg\"),\"alt\":\"CapGraduacion\"},on:{\"click\":function($event){_vm.usuarioSuperadministrador\n            ? _vm.togglePermiso('maestraVida-estudiante')\n            : ''}}}):_vm._e(),(\n          !_vm.estaPersona.permisos.includes('maestraVida-profesor') &&\n          !_vm.estaPersona.permisos.includes('maestraVida-estudiante')\n        )?_c('img',{attrs:{\"src\":require(\"@/assets/iconos/user.svg\"),\"alt\":\"Usuario\"},on:{\"click\":function($event){_vm.usuarioSuperadministrador\n            ? _vm.togglePermiso('maestraVida-estudiante')\n            : ''}}}):_vm._e()]),_c('div',{attrs:{\"id\":\"zonaNombres\"}},[_c('div',{attrs:{\"id\":\"nombres\"}},[_vm._v(_vm._s(_vm.estaPersona.nombres))])]),_c('div',{attrs:{\"id\":\"zonaApellidos\"}},[_c('div',{attrs:{\"id\":\"apellidos\"}},[_vm._v(_vm._s(_vm.estaPersona.apellidos))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"contenedorControles\",attrs:{\"id\":\"contenedorControlesPersona\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.usuario &&\n          (_vm.usuarioProfe ||\n            _vm.usuario.id === _vm.estaPersona.id ||\n            _vm.usuarioSuperadministrador)\n        ),expression:\"\\n          usuario &&\\n          (usuarioProfe ||\\n            usuario.id === estaPersona.id ||\\n            usuarioSuperadministrador)\\n        \"}],staticClass:\"boton selector\",class:{ activo: _vm.mostrando === 'calendario' },attrs:{\"title\":_vm.mostrando === 'calendario'\n            ? 'Ocultar calendario'\n            : 'Mostrar calendario'},on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'calendario' ? null : 'calendario'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendar.svg\"),\"alt\":\"calendario\"}})]),(_vm.usuarioSuperadministrador || _vm.usuarioProfe)?_c('div',{staticClass:\"boton selector\",class:{ activo: _vm.mostrando === 'nodosSolidaridadPublicitados' },attrs:{\"title\":_vm.mostrando === 'nodosSolidaridadPublicitados'\n            ? 'Ocultar nodosSolidaridadPublicitados'\n            : 'Mostrar nodosSolidaridadPublicitados'},on:{\"click\":function($event){_vm.mostrando =\n            _vm.mostrando === 'nodosSolidaridadPublicitados'\n              ? null\n              : 'nodosSolidaridadPublicitados'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/productHunt.svg\"),\"alt\":\"P\"}})]):_vm._e(),(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"boton selector\",class:{ activo: _vm.mostrando === 'administracion' },attrs:{\"title\":_vm.mostrando === 'administracion'\n            ? 'Ocultar administracion'\n            : 'Mostrar administracion'},on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'administracion' ? null : 'administracion'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/cog.svg\"),\"alt\":\"Cog\"}})]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioProfe || _vm.usuarioAdministrador),expression:\"usuarioProfe || usuarioAdministrador\"}],staticClass:\"boton\",attrs:{\"title\":\"alienar\"},on:{\"click\":_vm.alienar}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/alienar.svg\"),\"alt\":\"Virus\"}})]),(_vm.usuarioLogeado)?_c('div',{staticClass:\"boton selector\",class:{ activo: _vm.mostrando === 'objetivos' },attrs:{\"title\":_vm.mostrando === 'objetivos'\n            ? 'Ocultar objetivos'\n            : 'Mostrar objetivos'},on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'objetivos' ? null : 'objetivos'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/starSolid.svg\"),\"alt\":\"Cog\"}})]):_vm._e()])]),_c('div',{attrs:{\"id\":\"zonaContenidosMostrando\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'administracion'),expression:\"mostrando === 'administracion'\"}],attrs:{\"id\":\"zonaAdministracion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"id\":\"barraInfoAdicional\"}},[(_vm.usuarioSuperadministrador)?_c('div',{attrs:{\"id\":\"username\"}},[_vm._v(\" \"+_vm._s(_vm.estaPersona.username)+\" \")]):_vm._e()]),_c('div',{staticClass:\"contenedorControles\",attrs:{\"id\":\"contenedorAcciones\"}},[(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"boton selector\",class:{ activo: _vm.mostrandoPermisos },attrs:{\"title\":_vm.mostrandoPermisos ? 'Ocultar permisos' : 'Mostrar permisos'},on:{\"click\":function($event){_vm.mostrandoPermisos = !_vm.mostrandoPermisos}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/idBadge.svg\"),\"alt\":\"Id\"}})]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.reseteandoPassword),expression:\"!reseteandoPassword\"}],staticClass:\"boton\",attrs:{\"title\":\"Restaurar password (123456)\"},on:{\"click\":_vm.resetearPassword}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/key.svg\"),\"alt\":\"Llave\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.reseteandoPassword),expression:\"reseteandoPassword\"}],attrs:{\"texto\":\"\"}})],1),(_vm.usuarioSuperadministrador)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoPermisos),expression:\"mostrandoPermisos\"}],class:{ deshabilitado: _vm.togglingPermiso },attrs:{\"id\":\"listaPermisos\"}},_vm._l((_vm.permisosPosibles),function(permiso){return _c('div',{key:permiso + 'permiso',staticClass:\"activadorPermiso\",class:{ permisoGranted: _vm.estaPersona.permisos.includes(permiso) },on:{\"click\":function($event){return _vm.togglePermiso(permiso)}}},[_vm._v(\" \"+_vm._s(permiso)+\" \")])}),0):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'nodosSolidaridadPublicitados'),expression:\"mostrando === 'nodosSolidaridadPublicitados'\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaNodosSolidaridadPublicitados\"}},_vm._l((_vm.nodosSolidaridadPublicitados),function(nodoSolidaridadPublicitado){return _c('div',{key:nodoSolidaridadPublicitado.id,staticClass:\"selectorNodoSolidaridad\",class:{ deshabilitado: _vm.settingPresenciaNodoSolidaridad, activo: nodoSolidaridadPublicitado.responsables.includes(_vm.estaPersona.id) },on:{\"click\":function($event){return _vm.toggleResponsableNodoSolidaridad(nodoSolidaridadPublicitado)}}},[_vm._v(\" \"+_vm._s(nodoSolidaridadPublicitado.nombre)+\" \")])}),0),(_vm.mostrando === 'calendario')?_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaCalendario\"}},[_c('calendario',{ref:\"calendario\",attrs:{\"idUsuarioTarget\":_vm.estaPersona.id,\"enfasis\":\"eventosPersonales\"}})],1):_vm._e(),(_vm.mostrando === 'objetivos')?_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaObjetivos\"}},[_c('ventana-lista',{ref:\"ventanaLista\",attrs:{\"idNodoRoot\":_vm.estaPersona.id,\"tipoNodoRoot\":\"usuario\"}})],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"personaVistaLista\" :class=\"{ seleccionado }\">\r\n    <div id=\"barraSuperior\">\r\n      <div class=\"iconoPersona\">\r\n        <img\r\n          src=\"@/assets/iconos/teacher.svg\"\r\n          alt=\"Profesor\"\r\n          v-if=\"estaPersona.permisos.includes('maestraVida-profesor')\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/graduationCap.svg\"\r\n          alt=\"CapGraduacion\"\r\n          @click=\"\r\n            usuarioSuperadministrador\r\n              ? togglePermiso('maestraVida-estudiante')\r\n              : ''\r\n          \"\r\n          v-if=\"estaPersona.permisos.includes('maestraVida-estudiante')\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/user.svg\"\r\n          alt=\"Usuario\"\r\n          @click=\"\r\n            usuarioSuperadministrador\r\n              ? togglePermiso('maestraVida-estudiante')\r\n              : ''\r\n          \"\r\n          v-if=\"\r\n            !estaPersona.permisos.includes('maestraVida-profesor') &&\r\n            !estaPersona.permisos.includes('maestraVida-estudiante')\r\n          \"\r\n        />\r\n      </div>\r\n      <div id=\"zonaNombres\">\r\n        <div id=\"nombres\">{{ estaPersona.nombres }}</div>\r\n      </div>\r\n      <div id=\"zonaApellidos\">\r\n        <div id=\"apellidos\">{{ estaPersona.apellidos }}</div>\r\n      </div>\r\n\r\n      <div\r\n        id=\"contenedorControlesPersona\"\r\n        class=\"contenedorControles\"\r\n        v-show=\"seleccionado\"\r\n      >\r\n        <div\r\n          class=\"boton selector\"\r\n          :title=\"\r\n            mostrando === 'calendario'\r\n              ? 'Ocultar calendario'\r\n              : 'Mostrar calendario'\r\n          \"\r\n          :class=\"{ activo: mostrando === 'calendario' }\"\r\n          v-show=\"\r\n            usuario &&\r\n            (usuarioProfe ||\r\n              usuario.id === estaPersona.id ||\r\n              usuarioSuperadministrador)\r\n          \"\r\n          @click=\"mostrando = mostrando === 'calendario' ? null : 'calendario'\"\r\n        >\r\n          <img src=\"@/assets/iconos/calendar.svg\" alt=\"calendario\" />\r\n        </div>\r\n        <div\r\n          class=\"boton selector\"\r\n          v-if=\"usuarioSuperadministrador || usuarioProfe\"\r\n          :title=\"\r\n            mostrando === 'nodosSolidaridadPublicitados'\r\n              ? 'Ocultar nodosSolidaridadPublicitados'\r\n              : 'Mostrar nodosSolidaridadPublicitados'\r\n          \"\r\n          :class=\"{ activo: mostrando === 'nodosSolidaridadPublicitados' }\"\r\n          @click=\"\r\n            mostrando =\r\n              mostrando === 'nodosSolidaridadPublicitados'\r\n                ? null\r\n                : 'nodosSolidaridadPublicitados'\r\n          \"\r\n        >\r\n          <img src=\"@/assets/iconos/productHunt.svg\" alt=\"P\" />\r\n        </div>\r\n        <div\r\n          class=\"boton selector\"\r\n          v-if=\"usuarioSuperadministrador\"\r\n          :title=\"\r\n            mostrando === 'administracion'\r\n              ? 'Ocultar administracion'\r\n              : 'Mostrar administracion'\r\n          \"\r\n          :class=\"{ activo: mostrando === 'administracion' }\"\r\n          @click=\"\r\n            mostrando = mostrando === 'administracion' ? null : 'administracion'\r\n          \"\r\n        >\r\n          <img src=\"@/assets/iconos/cog.svg\" alt=\"Cog\" />\r\n        </div>\r\n        <div\r\n          class=\"boton\"\r\n          @click=\"alienar\"\r\n          title=\"alienar\"\r\n          v-show=\"usuarioProfe || usuarioAdministrador\"\r\n        >\r\n          <img src=\"@/assets/iconos/alienar.svg\" alt=\"Virus\" />\r\n        </div>\r\n        <div\r\n          class=\"boton selector\"\r\n          v-if=\"usuarioLogeado\"\r\n          :title=\"\r\n            mostrando === 'objetivos'\r\n              ? 'Ocultar objetivos'\r\n              : 'Mostrar objetivos'\r\n          \"\r\n          @click=\"mostrando = mostrando === 'objetivos' ? null : 'objetivos'\"\r\n          :class=\"{ activo: mostrando === 'objetivos' }\"\r\n        >\r\n          <img src=\"@/assets/iconos/starSolid.svg\" alt=\"Cog\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"zonaContenidosMostrando\">\r\n      <div id=\"zonaAdministracion\" v-show=\"mostrando === 'administracion'\">\r\n        <div id=\"barraInfoAdicional\" v-show=\"seleccionado\">\r\n          <div id=\"username\" v-if=\"usuarioSuperadministrador\">\r\n            {{ estaPersona.username }}\r\n          </div>\r\n        </div>\r\n        <div id=\"contenedorAcciones\" class=\"contenedorControles\">\r\n          <div\r\n            class=\"boton selector\"\r\n            v-if=\"usuarioSuperadministrador\"\r\n            :class=\"{ activo: mostrandoPermisos }\"\r\n            @click=\"mostrandoPermisos = !mostrandoPermisos\"\r\n            :title=\"mostrandoPermisos ? 'Ocultar permisos' : 'Mostrar permisos'\"\r\n          >\r\n            <img src=\"@/assets/iconos/idBadge.svg\" alt=\"Id\" />\r\n          </div>\r\n          <div\r\n            class=\"boton\"\r\n            title=\"Restaurar password (123456)\"\r\n            v-show=\"!reseteandoPassword\"\r\n            @click=\"resetearPassword\"\r\n          >\r\n            <img src=\"@/assets/iconos/key.svg\" alt=\"Llave\" />\r\n          </div>\r\n          <loading texto=\"\" v-show=\"reseteandoPassword\" />\r\n        </div>\r\n        <div\r\n          id=\"listaPermisos\"\r\n          v-if=\"usuarioSuperadministrador\"\r\n          v-show=\"mostrandoPermisos\"\r\n          :class=\"{ deshabilitado: togglingPermiso }\"\r\n        >\r\n          <div\r\n            class=\"activadorPermiso\"\r\n            @click=\"togglePermiso(permiso)\"\r\n            :class=\"{ permisoGranted: estaPersona.permisos.includes(permiso) }\"\r\n            v-for=\"permiso of permisosPosibles\"\r\n            :key=\"permiso + 'permiso'\"\r\n          >\r\n            {{ permiso }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        v-show=\"mostrando === 'nodosSolidaridadPublicitados'\"\r\n        id=\"zonaNodosSolidaridadPublicitados\"\r\n        class=\"zonaPrimerNivel\"\r\n      >\r\n        <div\r\n          class=\"selectorNodoSolidaridad\"\r\n          :class=\"{ deshabilitado: settingPresenciaNodoSolidaridad, activo: nodoSolidaridadPublicitado.responsables.includes(estaPersona.id) }\"\r\n          @click=\"toggleResponsableNodoSolidaridad(nodoSolidaridadPublicitado)\"\r\n          v-for=\"nodoSolidaridadPublicitado of nodosSolidaridadPublicitados\"\r\n          :key=\"nodoSolidaridadPublicitado.id\"\r\n        >\r\n          {{ nodoSolidaridadPublicitado.nombre }}\r\n        </div>\r\n      </div>\r\n      <div\r\n        id=\"zonaCalendario\"\r\n        class=\"zonaPrimerNivel\"\r\n        v-if=\"mostrando === 'calendario'\"\r\n      >\r\n        <calendario\r\n          :idUsuarioTarget=\"estaPersona.id\"\r\n          ref=\"calendario\"\r\n          enfasis=\"eventosPersonales\"\r\n        />\r\n      </div>\r\n      <div\r\n        id=\"zonaObjetivos\"\r\n        class=\"zonaPrimerNivel\"\r\n        v-if=\"mostrando === 'objetivos'\"\r\n      >\r\n        <ventana-lista\r\n          ref=\"ventanaLista\"\r\n          :idNodoRoot=\"estaPersona.id\"\r\n          tipoNodoRoot=\"usuario\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Calendario from \"../utilidades/Calendario.vue\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport VentanaLista from \"../atlasSolidaridad/ventanaLista/ventanaLista.vue\";\r\nexport default {\r\n  components: { Calendario, Loading, VentanaLista },\r\n  props: {\r\n    estaPersona: Object,\r\n    seleccionado: Boolean,\r\n    nodosSolidaridadPublicitados: Array,\r\n  },\r\n  name: \"PersonaVistaLista\",\r\n  data() {\r\n    return {\r\n      permisosPosibles: [\r\n        \"usuario\",\r\n        \"administrador\",\r\n        \"atlasAdministrador\",\r\n        \"superadministrador\",\r\n        \"maestraVida\",\r\n        \"maestraVida-estudiante\",\r\n        \"maestraVida-profesor\",\r\n        \"maestraVida-acompañante\",\r\n      ],\r\n\r\n      mostrando: null,\r\n      reseteandoPassword: false,\r\n      alienando: false,\r\n\r\n      mostrandoPermisos: false,\r\n      togglingPermiso: false,\r\n\r\n      settingPresenciaNodoSolidaridad: false,\r\n    };\r\n  },\r\n  methods: {\r\n    resetearPassword() {\r\n      if (\r\n        !confirm(\r\n          \"¿Confirmar resetear el password de \" + this.estaPersona.nombres + \"?\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n      console.log(`Reseteando password usuario`);\r\n      this.reseteandoPassword = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idUsuario: ID!) {\r\n              resetearPasswordUsuario(idUsuario: $idUsuario)\r\n            }\r\n          `,\r\n          variables: {\r\n            idUsuario: this.estaPersona.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.reseteandoPassword = false;\r\n          alert(\"Contraseña reseteada\");\r\n        })\r\n        .catch(() => {\r\n          this.reseteandoPassword = false;\r\n        });\r\n    },\r\n    alienar() {\r\n      if (!this.usuarioProfe && !this.usuarioSuperadministrador) {\r\n        return;\r\n      }\r\n\r\n      this.alienando = true;\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query ($idAlienado: ID!) {\r\n              alienarUsuario(idAlienado: $idAlienado)\r\n            }\r\n          `,\r\n          variables: {\r\n            idAlienado: this.estaPersona.id,\r\n          },\r\n        })\r\n        .then(({ data: { alienarUsuario } }) => {\r\n          console.log(`Alienando`);\r\n          this.alienando = true;\r\n          this.$store.commit(\"logearse\", alienarUsuario);\r\n          this.$router.push(\"/miPerfil\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.alienando = false;\r\n        });\r\n    },\r\n    togglePermiso(permiso) {\r\n      if (!this.usuarioSuperadministrador) {\r\n        return;\r\n      }\r\n      this.togglingPermiso = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($permiso: String!, $idUsuario: ID!) {\r\n              togglePermisoUsuario(permiso: $permiso, idUsuario: $idUsuario) {\r\n                id\r\n                permisos\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            permiso,\r\n            idUsuario: this.estaPersona.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.togglingPermiso = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.togglingPermiso = false;\r\n        });\r\n    },\r\n    toggleResponsableNodoSolidaridad(nodo) {\r\n      console.log(\r\n        `Setting presencia de ${this.estaPersona.id} en el nodo ${nodo.id}`\r\n      );\r\n      const personaEnResponsables = nodo.responsables.includes(\r\n        this.estaPersona.id\r\n      );\r\n\r\n      if (personaEnResponsables) {\r\n        console.log(`Sacándolo`);\r\n\r\n        this.settingPresenciaNodoSolidaridad = true;\r\n        this.$apollo\r\n          .mutate({\r\n            mutation: gql`\r\n              mutation ($idNodo: ID!, $idUsuario: ID!) {\r\n                removeResponsableNodoSolidaridad(\r\n                  idNodo: $idNodo\r\n                  idUsuario: $idUsuario\r\n                ) {\r\n                  id\r\n                  responsables\r\n                }\r\n              }\r\n            `,\r\n            variables: {\r\n              idNodo: nodo.id,\r\n              idUsuario: this.estaPersona.id,\r\n            },\r\n          })\r\n          .then(() => {\r\n            this.settingPresenciaNodoSolidaridad = false;\r\n          })\r\n          .catch((error) => {\r\n            console.log(`Error: ${error}`);\r\n            this.settingPresenciaNodoSolidaridad = false;\r\n          });\r\n      } else {\r\n        console.log(`Dentrándolo`);\r\n        this.settingPresenciaNodoSolidaridad = true;\r\n\r\n        this.$apollo\r\n          .mutate({\r\n            mutation: gql`\r\n              mutation ($idNodo: ID!, $idUsuario: ID!) {\r\n                addResponsableNodoSolidaridad(\r\n                  idNodo: $idNodo\r\n                  idUsuario: $idUsuario\r\n                ) {\r\n                  id\r\n                  responsables\r\n                }\r\n              }\r\n            `,\r\n            variables: {\r\n              idNodo: nodo.id,\r\n              idUsuario: this.estaPersona.id,\r\n            },\r\n          })\r\n          .then(() => {\r\n            this.settingPresenciaNodoSolidaridad = false;\r\n          })\r\n          .catch((error) => {\r\n            console.log(`Error: ${error}`);\r\n            this.settingPresenciaNodoSolidaridad = false;\r\n          });\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    seleccionado(seleccionado) {\r\n      if (!seleccionado) {\r\n        this.mostrando = null;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.personaVistaLista {\r\n  width: 100%;\r\n  font-family: Salsa, cursive;\r\n  color: gray;\r\n}\r\n.personaVistaLista.seleccionado {\r\n  background-color: rgba(128, 128, 128, 0.342);\r\n}\r\n#barraSuperior {\r\n  display: flex;\r\n  font-size: 15px;\r\n  padding: 25px 15px;\r\n  flex-wrap: wrap;\r\n  width: 100%;\r\n}\r\n.iconoPersona {\r\n  height: 20px;\r\n  width: 20px;\r\n}\r\n.iconoPersona img {\r\n  height: 100%;\r\n}\r\n#zonaNombres {\r\n  margin: 0px 15px;\r\n}\r\n#barraInfoAdicional {\r\n  display: flex;\r\n}\r\n#contenedorControlesPersona {\r\n  margin-left: auto;\r\n}\r\n#listaPermisos {\r\n  max-width: 150px;\r\n  margin-left: auto;\r\n}\r\n.activadorPermiso {\r\n  padding: 5px 15px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n}\r\n.activadorPermiso.permisoGranted {\r\n  background-color: var(--paletaSelect);\r\n  color: whitesmoke;\r\n}\r\n.selectorNodoSolidaridad {\r\n  padding: 5px 15px;\r\n  cursor: pointer;\r\n}\r\n.selectorNodoSolidaridad.activo {\r\n  background-color: var(--paletaSelect);\r\n  color: white;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./personaVistaLista.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./personaVistaLista.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./personaVistaLista.vue?vue&type=template&id=ac534e5a&scoped=true&\"\nimport script from \"./personaVistaLista.vue?vue&type=script&lang=js&\"\nexport * from \"./personaVistaLista.vue?vue&type=script&lang=js&\"\nimport style0 from \"./personaVistaLista.vue?vue&type=style&index=0&id=ac534e5a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac534e5a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"personas\">\r\n    <router-view> </router-view>\r\n    <div id=\"zonaBuscar\">\r\n      <div class=\"barraSuperior\">\r\n        <input\r\n          type=\"text\"\r\n          ref=\"inputBuscar\"\r\n          v-model=\"textoBuscar\"\r\n          @input=\"calcularBuscados\"\r\n          v-show=\"mostrandoInputBuscar\"\r\n        />\r\n        <div\r\n          class=\"boton\"\r\n          @click=\"iniciarBuscar\"\r\n          v-show=\"!mostrandoInputBuscar\"\r\n        >\r\n          <img src=\"@/assets/iconos/search.svg\" alt=\"Lupa\" />\r\n        </div>\r\n\r\n        <div\r\n          class=\"boton\"\r\n          title=\"Cancelar\"\r\n          @click=\"cancelarBusqueda\"\r\n          v-show=\"mostrandoInputBuscar\"\r\n        >\r\n          <img src=\"@/assets/iconos/equis.svg\" alt=\"Equis\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"controlesPersonas\" class=\"contenedorControles\">\r\n      <div\r\n        class=\"boton\"\r\n        @click=\"\r\n          mostrarPersonas = mostrarPersonas === 'todos' ? 'profes' : 'todos'\r\n        \"\r\n      >\r\n        <img\r\n          src=\"@/assets/iconos/users.svg\"\r\n          alt=\"Todos\"\r\n          v-show=\"mostrarPersonas === 'todos'\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/teacher.svg\"\r\n          alt=\"Profes\"\r\n          v-show=\"mostrarPersonas === 'profes'\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div id=\"listaPersonas\" @click=\"idPersonaMenuCx = null\">\r\n      <loading v-show=\"loadingPersonas\" texto=\"Cargando lista de personas...\" />\r\n      <persona-vista-lista\r\n        :seleccionado=\"idPersonaSeleccionada === persona.id\"\r\n        @click.native=\"idPersonaSeleccionada = persona.id\"\r\n        :estaPersona=\"persona\"\r\n        :nodosSolidaridadPublicitados=\"nodosSolidaridadPublicitados\"\r\n        v-for=\"persona of personasVisibles\"\r\n        :key=\"persona.id\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from \"./utilidades/Loading.vue\";\r\nimport PersonaVistaLista from \"./usuario/personaVistaLista.vue\";\r\nimport debounce from \"debounce\";\r\n// import { similarity } from \"./utilidades/funciones\";\r\n\r\nconst charProhibidosPermiso = /[^ a-zA-Z-]/;\r\n\r\nconst QUERY_PERSONAS = gql`\r\n  query {\r\n    todosUsuarios {\r\n      id\r\n      nombres\r\n      apellidos\r\n      permisos\r\n      username\r\n    }\r\n  }\r\n`;\r\n\r\nexport default {\r\n  name: \"Personas\",\r\n  components: {\r\n    Loading,\r\n    PersonaVistaLista,\r\n  },\r\n  apollo: {\r\n    personas: {\r\n      query: QUERY_PERSONAS,\r\n      update: function ({ todosUsuarios }) {\r\n        this.loadingPersonas = false;\r\n        return todosUsuarios;\r\n      },\r\n    },\r\n    nodosSolidaridadPublicitados:{\r\n      query:gql`\r\n        query{\r\n          nodosSolidaridadPublicitados{\r\n            id\r\n            nombre       \r\n            responsables     \r\n          }\r\n        }\r\n      `,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      personas: [],\r\n      nodosSolidaridadPublicitados:[],\r\n      idPersonaMenuCx: null,\r\n      idPersonaSeleccionada: null,\r\n      loadingPersonas: true,\r\n      mostrarPersonas: \"todos\",\r\n\r\n      permisoInput: \"\",\r\n      textoBuscar: null,\r\n      textoBusquedaUsado: null,\r\n      mostrandoInputBuscar: false,\r\n      buscados: [],\r\n\r\n      debouncingBusqueda: false,\r\n    };\r\n  },\r\n  methods: {\r\n    copiarId(e) {\r\n      let str = e.target.innerText.trim();\r\n      const el = document.createElement(\"textarea\");\r\n      el.value = str;\r\n      document.body.appendChild(el);\r\n      el.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(el);\r\n    },\r\n    eliminarPersonaDeDatabase(idPersona) {\r\n      if (confirm(\"¿Seguro de eliminar a este individuo?\")) {\r\n        console.log(\r\n          `Se eliminara una persona con id ${idPersona} de la base de datos`\r\n        );\r\n      }\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idUsuario: ID!) {\r\n              eliminarUsuario(idUsuario: $idUsuario)\r\n            }\r\n          `,\r\n          variables: {\r\n            idUsuario: idPersona,\r\n          },\r\n          update: (store, { data: { eliminarUsuario } }) => {\r\n            console.log(`Data: ${eliminarUsuario}`);\r\n            if (eliminarUsuario) {\r\n              try {\r\n                let cache = store.readQuery({\r\n                  query: QUERY_PERSONAS,\r\n                  variables: { idUsuario: idPersona },\r\n                });\r\n                console.log(`cache: ${cache}`);\r\n\r\n                let indexE = cache.todosUsuarios.findIndex(\r\n                  (p) => p.id == idPersona\r\n                );\r\n                if (indexE > -1) {\r\n                  cache.todosUsuarios.splice(indexE, 1);\r\n                }\r\n                console.log(`cache: ${cache}`);\r\n                store.writeQuery({\r\n                  query: QUERY_PERSONAS,\r\n                  variables: { idUsuario: idPersona },\r\n                  data: cache,\r\n                });\r\n              } catch (error) {\r\n                console.log(`Error actualizando cache. E:${error}`);\r\n              }\r\n            }\r\n          },\r\n        })\r\n        .then((res) => {\r\n          console.log(`Res: ${JSON.stringify(res)}`);\r\n          if (res.data) {\r\n            console.log(`Usuario eliminado exitosamente`);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error eliminando usuario: E: ${error}`);\r\n        });\r\n    },\r\n    asignarPermisoTodos() {\r\n      if (this.permisoIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n\r\n      if (!confirm(\"¿Asignar este permiso a todas las personas?\")) return;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($nuevoPermiso: String!) {\r\n              asignarPermisoTodosUsuarios(nuevoPermiso: $nuevoPermiso)\r\n            }\r\n          `,\r\n          variables: {\r\n            nuevoPermiso: this.permisoInput,\r\n          },\r\n        })\r\n        .then(() => {\r\n          alert(\r\n            \"Permiso \" + this.permisoInput + \" asignado para todos los usuarios\"\r\n          );\r\n        });\r\n    },\r\n    iniciarBuscar() {\r\n      this.mostrandoInputBuscar = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.inputBuscar.focus();\r\n      });\r\n    },\r\n    cancelarBusqueda() {\r\n      this.buscados = [];\r\n      this.textoBuscar = null;\r\n      this.mostrandoInputBuscar = false;\r\n      this.textoBusquedaUsado = null;\r\n    },\r\n    calcularBuscados: debounce(function () {\r\n      console.log(`Setting textoBusquedaUsado`);\r\n      this.textoBusquedaUsado = this.textoBuscar;\r\n      // console.log(`Calculando buscados`);\r\n      // if (!this.textoBuscar) return;\r\n      // var lista = [];\r\n      // var texto = this.textoBuscar.trim();\r\n      // var campoPersonas =\r\n      //   this.mostrarPersonas === \"profes\"\r\n      //     ? this.personas.filter((p) =>\r\n      //         p.permisos.includes(\"maestraVida-profesor\")\r\n      //       )\r\n      //     : this.personas;\r\n\r\n      // campoPersonas.forEach((persona) => {\r\n      //   // console.log(`Buscando ${texto} en ${nombreLargo}`);\r\n      //   var puntajeSimilaridad=similarity(texto, nombreLargo);\r\n      //   var obj={};\r\n      //   obj[persona.id]=puntajeSimilaridad;\r\n      //   lista.push({obj});\r\n      //   console.log(`BINGO`);\r\n      // });\r\n\r\n      // this.buscados=lista;\r\n    }, 800),\r\n  },\r\n  computed: {\r\n    opcionesEspecialesPersona: function () {\r\n      let opciones = [];\r\n      if (this.usuarioSuperadministrador) {\r\n        opciones = opciones.concat([\r\n          {\r\n            textoVisible: \"Eliminar de la base de datos\",\r\n            evento: \"eliminandoseDeDatabase\",\r\n          },\r\n          {\r\n            textoVisible: \"resetear contraseña (123456)\",\r\n            evento: \"reseteandoPass\",\r\n          },\r\n        ]);\r\n      }\r\n      return opciones;\r\n    },\r\n    permisoIlegal() {\r\n      if (this.permisoInput.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosPermiso.test(this.permisoInput)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    personasVisibles() {\r\n      var visibles = JSON.parse(JSON.stringify(this.personas));\r\n      if (this.mostrarPersonas === \"profes\") {\r\n        visibles = visibles.filter((p) =>\r\n          p.permisos.includes(\"maestraVida-profesor\")\r\n        );\r\n      }\r\n      if (this.textoBusquedaUsado) {\r\n        const textoBusquedaStripped=this.textoBusquedaUsado.normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\");\r\n\r\n        visibles.sort((a, b) => {\r\n          var res = 0;\r\n          var aStripped=(a.nombres + \" \" + a.apellidos).normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\");\r\n          var bStripped=(b.nombres + \" \" + b.apellidos).normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\");\r\n          if (\r\n            (aStripped).toLowerCase().search(textoBusquedaStripped.toLowerCase()) > -1\r\n          ) {\r\n            res++;\r\n          }\r\n          if (\r\n            (bStripped).toLowerCase().search(textoBusquedaStripped.toLowerCase()) > -1\r\n          ) {\r\n            res--;\r\n          }\r\n          return -res;\r\n        });\r\n      }\r\n\r\n      return visibles;\r\n    },\r\n  },\r\n  watch: {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#listaPersonas {\r\n  display: flex;\r\n  padding-bottom: 50px;\r\n  flex-flow: row wrap;\r\n}\r\n\r\n#zonaBuscar {\r\n  padding: 10px 5px;\r\n}\r\n#zonaBuscar .barraSuperior {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#zonaBuscar .barraSuperior input {\r\n  font-size: 20px;\r\n  border: 2px solid gray;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.personaVistaLista {\r\n}\r\n.personaVistaLista:hover {\r\n  background-color: rgba(128, 128, 128, 0.178);\r\n}\r\n\r\n.loading {\r\n  margin: 20px auto;\r\n}\r\n.botonPermisos {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  padding: 3px;\r\n  cursor: pointer;\r\n}\r\n\r\n.botonPermisos:hover {\r\n  background-color: rgba(128, 128, 128, 0.726);\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Personas.vue?vue&type=template&id=4a1f7944&scoped=true&\"\nimport script from \"./Personas.vue?vue&type=script&lang=js&\"\nexport * from \"./Personas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Personas.vue?vue&type=style&index=0&id=4a1f7944&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a1f7944\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:_vm.$route.params.id,staticClass:\"homeNodo\"},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.esteNodo.loading),expression:\"$apollo.queries.esteNodo.loading\"}]}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$apollo.queries.esteNodo.loading),expression:\"!$apollo.queries.esteNodo.loading\"}],attrs:{\"id\":\"barraSuperior\"}},[(_vm.esteNodo.nodoParent)?_c('a',{attrs:{\"href\":_vm.clienteUrl + '/#/homeNodoSolidaridad/' + _vm.esteNodo.nodoParent}},[_c('img',{staticClass:\"boton\",attrs:{\"src\":require(\"@/assets/iconos/doubleUp.svg\"),\"alt\":\"Up\",\"title\":\"Navegar al nodo parent\",\"id\":\"botonIrNodoParent\"}})]):_vm._e(),_c('div',{attrs:{\"id\":\"zonaTituloNodo\"}},[(_vm.esteNodo.tipoNodo === 'trabajo')?_c('svg',{staticClass:\"svg-inline--fa fa-cog fa-w-16 iconoNodo\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"cog\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":_vm.colorIcono,\"d\":\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"}})]):_vm._e(),(_vm.esteNodo.tipoNodo === 'objetivo')?_c('svg',{staticClass:\"svg-inline--fa fa-star fa-w-18 iconoNodo\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"star\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":_vm.colorIcono,\"d\":\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"}})]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],attrs:{\"id\":\"titulo\"},on:{\"click\":_vm.toggleEditandoNombre}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.nombre)+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNombreCosa\",staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"text\",\"id\":\"inputNuevoNombre\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"blur\":function($event){_vm.editandoNombre = false},\"keydown\":_vm.keydownInputNuevoNombre,\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}})]),_c('div',{attrs:{\"id\":\"zonaControlesNodo\"}},[_c('div',{staticClass:\"bloqueControlNodo\",attrs:{\"id\":\"zonaPorcentajeCompletado\",\"title\":_vm.usuarioResponsable\n            ? 'Definir progreso del nodo'\n            : 'Progreso del nodo'}},[_c('div',{attrs:{\"id\":\"porcentajeCompletado\"}}),_c('img',{staticClass:\"boton botonControlNodo\",attrs:{\"src\":require(\"@/assets/iconos/relojArena.svg\"),\"alt\":\"Progreso\"}})]),_c('div',{staticClass:\"bloqueControlNodo\",attrs:{\"id\":\"zonaTiempoEstimado\",\"title\":_vm.usuarioResponsable\n            ? 'Definir tiempo estimado para completar este nodo'\n            : 'Tiempo estimado para completar este nodo'}},[_c('div',{attrs:{\"id\":\"tiempoEstimado\"}}),_c('img',{staticClass:\"boton botonControlNodo\",attrs:{\"src\":require(\"@/assets/iconos/calendar.svg\"),\"alt\":\"Calendario\"}})]),_c('div',{staticClass:\"bloqueControlNodo\",attrs:{\"id\":\"bloqueMarcarNodoCompletado\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.togglingEstado),expression:\"!togglingEstado\"}],staticClass:\"boton botonControlNodo\",style:({\n            filter:\n              _vm.esteNodo.estadoDesarrollo === 'completado'\n                ? 'var(--atlasFilterVerde)'\n                : '',\n          }),attrs:{\"src\":require(\"@/assets/iconos/check.svg\"),\"alt\":\"Check\",\"title\":_vm.esteNodo.estadoDesarrollo === 'completado'\n              ? 'Desmarcar este nodo como completado'\n              : 'Marcar este nodo como completado',\"id\":\"botonMarcarNodoCompletado\"},on:{\"click\":_vm.toggleEstadoNodo}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.togglingEstado),expression:\"togglingEstado\"}],attrs:{\"texto\":\"\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$apollo.queries.esteNodo.loading),expression:\"!$apollo.queries.esteNodo.loading\"}],attrs:{\"id\":\"contenidoNodo\"}},[_c('div',{attrs:{\"id\":\"primeraRow\"}},[_c('div',{staticClass:\"bloqueContenido\",attrs:{\"id\":\"bloqueInformacion\"}},[_c('div',{staticClass:\"barraSuperiorGeneral\"},[_c('div',{staticClass:\"boton botonBarraSuperiorGeneral botonSelectorContenidoNodo\",class:{\n              deshabilitado:\n                (!_vm.esteNodo.descripcion ||\n                  _vm.esteNodo.descripcion.length < 1 ||\n                  _vm.esteNodo.descripcion === 'Sin descripcion' ||\n                  _vm.esteNodo.descripcion === 'Sin descripción') &&\n                !_vm.usuarioAdministrador,\n            },style:({\n              borderColor: _vm.mostrando === 'descripcion' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'descripcion' ? '' : 'Mostrar descripción'},on:{\"click\":function($event){_vm.mostrando = 'descripcion'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Descripción\"}})]),_c('div',{staticClass:\"boton botonBarraSuperiorGeneral botonSelectorContenidoNodo\",style:({\n              borderColor: _vm.mostrando === 'responsables' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'responsables'\n                ? ''\n                : 'Mostrar responsables del nodo'},on:{\"click\":function($event){_vm.mostrando = 'responsables'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/user.svg\"),\"alt\":\"Responsables\"}})]),_c('div',{staticClass:\"boton botonBarraSuperiorGeneral botonSelectorContenidoNodo\",class:{\n              deshabilitado:\n                (!_vm.esteNodo.keywords || _vm.esteNodo.keywords.length < 1) &&\n                !_vm.usuarioAdministrador,\n            },style:({\n              borderColor: _vm.mostrando === 'keywords' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'keywords' ? '' : 'Mostrar palabras clave'},on:{\"click\":function($event){_vm.mostrando = 'keywords'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/tag.svg\"),\"alt\":\"Keywords\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'descripcion'),expression:\"mostrando === 'descripcion'\"}],staticClass:\"zonaInformacion\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"descripcion\"},on:{\"click\":_vm.toggleEditandoDescripcion}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",staticClass:\"inputTextoNodo\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"boton botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}}),_c('img',{staticClass:\"boton botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionDescripcion\"},on:{\"click\":function($event){_vm.editandoDescripcion = false}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'keywords'),expression:\"mostrando === 'keywords'\"}],staticClass:\"zonaInformacion\",attrs:{\"id\":\"zonaKeywords\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoKeywords),expression:\"!editandoKeywords\"}],ref:\"keywords\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"keywords\"},on:{\"click\":_vm.toggleEditandoKeywords}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.keywords)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoKeywords),expression:\"nuevoKeywords\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoKeywords),expression:\"editandoKeywords\"}],ref:\"inputNuevoKeywords\",staticClass:\"inputTextoNodo\",class:{ letrasRojas: _vm.nuevoKeywordsIlegal },attrs:{\"id\":\"inputNuevoKeywords\"},domProps:{\"value\":(_vm.nuevoKeywords)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }$event.stopPropagation();_vm.editandoKeywords = false},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.guardarNuevoKeywords($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoKeywords=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoKeywords),expression:\"editandoKeywords\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"boton botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar palabras clave\",\"id\":\"botonGuardarKeywords\"},on:{\"click\":_vm.guardarNuevoKeywords}}),_c('img',{staticClass:\"boton botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionKeywords\"},on:{\"click\":function($event){_vm.editandoKeywords = false}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoKeywords),expression:\"enviandoNuevoKeywords\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'responsables'),expression:\"mostrando === 'responsables'\"}],staticClass:\"zonaInformacion\",attrs:{\"id\":\"zonaResponsables\"}},[_c('div',{staticClass:\"contenedorBotonesZona\",attrs:{\"id\":\"contenedorBotonesResponsables\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.usuarioResponsable && !_vm.usuarioPosibleResponsable && !_vm.idResponsableSeleccionado),expression:\"!usuarioResponsable && !usuarioPosibleResponsable && !idResponsableSeleccionado\"}],staticClass:\"boton botonControlZona botonControlResponsables\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"src\":require(\"@/assets/iconos/mas.svg\"),\"alt\":\"Entrar\",\"title\":_vm.esteNodo.responsables.length < 1 || _vm.usuarioParent\n                  ? 'Asumir'\n                  : 'Solicitar participación',\"id\":\"botonEntrarResponsables\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.entrarResponsables($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n                (_vm.usuarioResponsable || _vm.usuarioPosibleResponsable) &&\n                (!_vm.idResponsableSeleccionado ||\n                  _vm.idResponsableSeleccionado === _vm.usuario.id)\n              ),expression:\"\\n                (usuarioResponsable || usuarioPosibleResponsable) &&\\n                (!idResponsableSeleccionado ||\\n                  idResponsableSeleccionado === usuario.id)\\n              \"}],staticClass:\"boton botonControlZona botonControlResponsables\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"src\":require(\"@/assets/iconos/minus.svg\"),\"alt\":\"Salir\",\"title\":\"Abandonar\",\"id\":\"botonAbandonarResponsables\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.abandonarListaResponsables($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idResponsableSeleccionado && (_vm.usuarioSuperadministrador || _vm.usuarioParent)),expression:\"idResponsableSeleccionado && (usuarioSuperadministrador || usuarioParent)\"}],staticClass:\"boton botonControlZona botonControlResponsables\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"src\":require(\"@/assets/iconos/minus.svg\"),\"alt\":\"Sacar\",\"title\":\"Retirar usuario\",\"id\":\"botonRetirarUsuarioFromResponsables\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.retirarUsuarioFromListaResponsables(_vm.idResponsableSeleccionado)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n                _vm.usuarioResponsableAmplio &&\n                _vm.idResponsableSeleccionado &&\n                !_vm.esteNodo.responsables.includes(_vm.idResponsableSeleccionado)\n              ),expression:\"\\n                usuarioResponsableAmplio &&\\n                idResponsableSeleccionado &&\\n                !esteNodo.responsables.includes(idResponsableSeleccionado)\\n              \"}],staticClass:\"boton botonControlZona botonControlResponsables\",class:{ deshabilitado: _vm.enviandoQueryResponsables },attrs:{\"src\":require(\"@/assets/iconos/handshake.svg\"),\"alt\":\"Aceptar\",\"title\":\"Aceptar como responsable\",\"id\":\"botonAceptarResponsables\"},on:{\"click\":function($event){return _vm.aceptarResponsable(_vm.idResponsableSeleccionado)}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoQueryResponsables),expression:\"enviandoQueryResponsables\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{attrs:{\"id\":\"listaResponsables\"},on:{\"click\":function($event){$event.stopPropagation();_vm.idResponsableSeleccionado = null}}},[_vm._l((_vm.esteNodo.responsables.concat(\n                _vm.esteNodo.posiblesResponsables\n              )),function(idResponsable){return _c('icono-persona-autonomo',{key:idResponsable,style:({\n                opacity: _vm.esteNodo.posiblesResponsables.includes(idResponsable)\n                  ? 0.5\n                  : 1,\n              }),attrs:{\"idPersona\":idResponsable,\"seleccionado\":_vm.idResponsableSeleccionado == idResponsable,\"factorEscala\":'0.7'},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.idResponsableSeleccionado = idResponsable}}})}),_c('buscador-personas',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.usuarioParent && _vm.usuarioProfe) || _vm.usuarioSuperadministrador),expression:\"(usuarioParent && usuarioProfe) || usuarioSuperadministrador\"}],on:{\"clickEnResultado\":function($event){return _vm.addResponsableManually($event)}}})],2)])]),_c('div',{staticClass:\"bloqueContenido\",attrs:{\"id\":\"bloqueSubNodos\"},on:{\"mouseleave\":function($event){_vm.mostrandoOpcionesCrearSubNodo = false}}},[_c('div',{staticClass:\"barraSuperiorGeneral\"},[_c('div',{staticClass:\"tituloBloque\"},[_vm._v(\"Nodos\")]),_c('div',{staticClass:\"controlesBloque\",attrs:{\"id\":\"controlesRecursosExternos\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n                !_vm.mostrandoOpcionesCrearSubNodo && _vm.usuarioResponsableAmplio\n              ),expression:\"\\n                !mostrandoOpcionesCrearSubNodo && usuarioResponsableAmplio\\n              \"}],staticClass:\"boton botonBarraSuperiorGeneral\",on:{\"click\":function($event){_vm.mostrandoOpcionesCrearSubNodo = true}}},[_c('img',{class:{ deshabilitado: _vm.creandoSubNodo },attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Nuevo\",\"title\":\"Crear nuevo nodo\"}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoSubNodo),expression:\"creandoSubNodo\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoOpcionesCrearSubNodo),expression:\"mostrandoOpcionesCrearSubNodo\"}],class:{ deshabilitado: _vm.creandoSubNodo },attrs:{\"id\":\"contenedorOpcionesCrear\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.esteNodo.tipoNodo === 'objetivo'),expression:\"esteNodo.tipoNodo === 'objetivo'\"}],staticClass:\"boton botonBarraSuperiorGeneral opcionCrear\",attrs:{\"src\":require(\"@/assets/iconos/starSolid.svg\"),\"alt\":\"Objetivo\",\"title\":\"Crear nuevo objetivo\"},on:{\"click\":function($event){return _vm.crearNuevoNodoUnder({ tipoNodo: 'objetivo' }, _vm.esteNodo.id)}}}),_c('img',{staticClass:\"boton botonBarraSuperiorGeneral opcionCrear\",attrs:{\"src\":require(\"@/assets/iconos/cog.svg\"),\"alt\":\"Trabajo\",\"title\":\"Crear nuevo trabajo\"},on:{\"click\":function($event){return _vm.crearNuevoNodoUnder({ tipoNodo: 'trabajo' }, _vm.esteNodo.id)}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoSubNodo),expression:\"creandoSubNodo\"}],attrs:{\"texto\":\"\"}})],1)])]),_c('ventana-lista',{ref:\"ventanaLista\",attrs:{\"idNodoRoot\":_vm.$route.params.id,\"tipoNodoRoot\":\"nodoSolidaridad\"}})],1),_c('div',{staticClass:\"bloqueContenido\",attrs:{\"id\":\"bloqueRecursosExternos\"}},[_c('div',{staticClass:\"barraSuperiorGeneral\"},[_c('div',{staticClass:\"tituloBloque\"},[_vm._v(\"Recursos externos\")]),_c('div',{staticClass:\"controlesBloque\",attrs:{\"id\":\"controlesRecursosExternos\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.creandoRecursoExterno),expression:\"!creandoRecursoExterno\"}],staticClass:\"boton botonBarraSuperiorGeneral\",class:{ deshabilitado: _vm.creandoRecursoExterno }},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioResponsableAmplio),expression:\"usuarioResponsableAmplio\"}],attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Nuevo\",\"title\":\"Crear nuevo recurso externo\"},on:{\"click\":_vm.crearNuevoRecursoExterno}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoRecursoExterno),expression:\"creandoRecursoExterno\"}],attrs:{\"texto\":\"\"}})],1)]),_c('div',{attrs:{\"id\":\"listaRecursosExternos\"}},_vm._l((_vm.esteNodo.recursosExternos),function(recurso){return _c('recurso-externo-nodo',{key:recurso.id,attrs:{\"esteRecurso\":recurso,\"seleccionado\":_vm.idRecursoExternoSeleccionado === recurso.id,\"usuarioResponsableAmplio\":_vm.usuarioResponsableAmplio,\"idNodo\":_vm.esteNodo.id},on:{\"click\":function($event){_vm.idRecursoExternoSeleccionado = recurso.id},\"meElimine\":function($event){return _vm.eliminarRecursoExternoCache(recurso.id)}}})}),1)])]),_c('div',{staticClass:\"bloqueContenido\",attrs:{\"id\":\"bloqueDatos\"}},[_c('div',{attrs:{\"id\":\"barraLateralDatos\"}},[_c('div',{staticClass:\"barraSuperiorGeneral\"},[_c('div',{staticClass:\"tituloBloque\"},[_vm._v(\"Datos\")]),_c('div',{staticClass:\"controlesBloque\",attrs:{\"id\":\"controlesRecursosExternos\"}},[_c('div',{staticClass:\"botonBarraSuperiorGeneral\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Nuevo\",\"title\":\"Crear nuevo dato\"}})])])]),_c('div',{attrs:{\"id\":\"listaDatos\"},on:{\"click\":function($event){_vm.idDatoSeleccionado = null;\n            _vm.datoSeleccionado = null;}}},[_c('div',{staticClass:\"selectorDato\",class:{ seleccionado: _vm.idDatoSeleccionado === 'administracion' },on:{\"click\":function($event){$event.stopPropagation();_vm.idDatoSeleccionado = 'administracion'}}},[_c('div',{staticClass:\"nombreDato\"},[_vm._v(\"Administración\")])]),_vm._l((_vm.esteNodo.datos),function(dato){return _c('div',{key:dato.id,staticClass:\"selectorDato\",class:{ seleccionado: _vm.idDatoSeleccionado === dato.id },on:{\"click\":function($event){$event.stopPropagation();_vm.idDatoSeleccionado = dato.id;\n              _vm.datoSeleccionado = dato;}}},[_c('div',{staticClass:\"nombreDato\"},[_vm._v(_vm._s(dato.nombre))]),_vm._m(0,true)])})],2)]),_c('div',{attrs:{\"id\":\"zonaDetallesDato\"}},[_c('div',{staticClass:\"barraSuperiorGeneral\"},[_c('img',{staticClass:\"botonBarraSuperiorGeneral\",class:{ deshabilitado: _vm.datoVer === 'grafica' },attrs:{\"src\":require(\"@/assets/iconos/chart.svg\"),\"alt\":\"Grafica\",\"title\":\"Ver gráfica\"},on:{\"click\":function($event){_vm.datoVer = 'grafica'}}}),_c('img',{staticClass:\"botonBarraSuperiorGeneral\",class:{ deshabilitado: _vm.datoVer === 'tabla' },attrs:{\"src\":require(\"@/assets/iconos/thList.svg\"),\"alt\":\"Tabla\",\"title\":\"Ver tabla\"},on:{\"click\":function($event){_vm.datoVer = 'tabla'}}})]),_c('div',{attrs:{\"id\":\"graficaDatoSeleccionado\"}}),(_vm.idDatoSeleccionado && _vm.idDatoSeleccionado != 'administracion')?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.datoVer === 'tabla'),expression:\"datoVer === 'tabla'\"}],attrs:{\"id\":\"tablaDatoSeleccionado\"}},[_c('div',{staticClass:\"controlesBloque\",attrs:{\"id\":\"controlesTablaDatos\"}},[_c('div',{staticClass:\"botonBarraSuperiorGeneral\"},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Nuevo\",\"title\":'Crear nuevo item'},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevoItemDato($event)}}})])]),_c('tabla-dato',{key:'tablaDe' + _vm.datoSeleccionado.id,attrs:{\"esteDato\":_vm.datoSeleccionado}})],1):_vm._e(),_c('tabla-administracion',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            _vm.datoVer === 'tabla' && _vm.idDatoSeleccionado === 'administracion'\n          ),expression:\"\\n            datoVer === 'tabla' && idDatoSeleccionado === 'administracion'\\n          \"}],attrs:{\"eventos\":_vm.esteNodo.eventos,\"movimientos\":_vm.esteNodo.movimientosDinero,\"idNodo\":_vm.esteNodo.id,\"usuarioResponsableAmplioNodo\":_vm.usuarioResponsableAmplio,\"subNodos\":_vm.subNodos}})],1)])]),_c('router-view')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"controlesDato\"},[_c('img',{staticClass:\"botonControlElementoLista\",attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar dato\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tablaDato\"},[_c('div',{attrs:{\"id\":\"camposDatoTabla\"}},[_c('table',[_c('tr',_vm._l((_vm.esteDato.campos),function(campo){return _c('th',{key:'nombreCampo' + campo,staticClass:\"nombreCampo\"},[_vm._v(\" \"+_vm._s(campo)+\" \")])}),0),_vm._l((_vm.esteDato.items),function(item){return _c('tr',{key:item.id},_vm._l((_vm.esteDato.campos),function(campo){return _c('td',{key:item.id+'valorCampo'+campo},[_vm._v(\" \"+_vm._s(item[campo])+\" \")])}),0)})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tablaDato\">\r\n    <div id=\"camposDatoTabla\">\r\n      <table>\r\n        <tr>\r\n          <th\r\n            class=\"nombreCampo\"\r\n            v-for=\"campo of esteDato.campos\"\r\n            :key=\"'nombreCampo' + campo\"\r\n          >\r\n            {{ campo }}\r\n          </th>\r\n        </tr>\r\n        <tr v-for=\"item of esteDato.items\" :key=\"item.id\">\r\n            <td v-for=\"campo of esteDato.campos\" :key=\"item.id+'valorCampo'+campo\">\r\n                {{item[campo]}}\r\n            </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TablaDato\",\r\n  props: {\r\n    esteDato: Object,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tablaDato {\r\n  width: 100%;\r\n  overflow-x: scroll;\r\n}\r\n#camposDatoTabla {\r\n  display: flex;\r\n}\r\n.nombreCampo {\r\n  padding: 2px 10px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablaDato.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablaDato.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TablaDato.vue?vue&type=template&id=820867f8&scoped=true&\"\nimport script from \"./TablaDato.vue?vue&type=script&lang=js&\"\nexport * from \"./TablaDato.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TablaDato.vue?vue&type=style&index=0&id=820867f8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"820867f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"tablaAdministracion\"}},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_c('div',{attrs:{\"id\":\"contenedorBotonesCrear\"}},[_c('div',{staticClass:\"bloqueCrearItems\",attrs:{\"id\":\"bloqueMovimientosDinero\"}},[_c('div',{staticClass:\"botonBarraSuperior boton\",style:({ opacity: _vm.mostrarMovimientosDinero ? 1 : 0.5 }),attrs:{\"title\":_vm.mostrarMovimientosDinero\n              ? 'Ocultar movimientos de dinero'\n              : 'Mostrar movimientos de dinero'},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrarMovimientosDinero = !_vm.mostrarMovimientosDinero}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/receipt.svg\"),\"alt\":\"Factura\"}})]),_c('div',{staticClass:\"botonBarraSuperior boton\",style:({ opacity: _vm.mostrarMovimientosArbol ? 1 : 0.5 }),attrs:{\"title\":_vm.mostrarMovimientosDinero\n              ? 'Ocultar movimientos de sub-nodos'\n              : 'Mostrar movimientos de sub-nodos'},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrarMovimientosArbol = !_vm.mostrarMovimientosArbol}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/network.svg\"),\"alt\":\"Arbol\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.creandoNuevoMovimiento),expression:\"!creandoNuevoMovimiento\"}],staticClass:\"botonBarraSuperior boton\"},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Mas\",\"title\":\"Crear nuevo movimiento de dinero\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevoItemMovimientoDinero($event)}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoNuevoMovimiento),expression:\"creandoNuevoMovimiento\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{staticClass:\"bloqueCrearItems\",attrs:{\"id\":\"bloqueEventos\"}},[_c('div',{staticClass:\"botonBarraSuperior boton\",style:({ opacity: _vm.mostrarEventos ? 1 : 0.5 }),attrs:{\"title\":_vm.mostrarEventos ? 'Ocultar eventos' : 'Mostrar eventos'},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrarEventos = !_vm.mostrarEventos}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/exclamationCircle.svg\"),\"alt\":\"Exclamación\"}})]),_c('div',{staticClass:\"botonBarraSuperior boton\",style:({ opacity: _vm.mostrarEventosArbol ? 1 : 0.5 }),attrs:{\"title\":_vm.mostrarEventos\n              ? 'Ocultar eventos de sub-nodos'\n              : 'Mostrar eventos de sub-nodos'},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrarEventosArbol = !_vm.mostrarEventosArbol}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/network.svg\"),\"alt\":\"Arbol\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.creandoNuevoEvento),expression:\"!creandoNuevoEvento\"}],staticClass:\"botonBarraSuperior boton\"},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Mas\",\"title\":\"Crear nuevo evento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevoItemEvento($event)}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoNuevoEvento),expression:\"creandoNuevoEvento\"}],attrs:{\"texto\":\"\"}})],1)])]),_c('div',{attrs:{\"id\":\"laTabla\"}},_vm._l((_vm.items),function(item){return _c('div',{key:item.id,staticClass:\"campoItem\"},[(item.__typename === 'MovimientoDineroNodoSolidaridad')?_c('item-tabla-movimiento-dinero',{attrs:{\"usuarioResponsableAmplioNodo\":_vm.usuarioResponsableAmplioNodo,\"idNodo\":_vm.idNodo,\"esteMovimiento\":item},on:{\"meElimine\":function($event){return _vm.eliminarMovimientoCache(item.id)}}}):_vm._e(),(item.__typename === 'EventoNodoSolidaridad')?_c('item-tabla-evento',{attrs:{\"esteEvento\":item,\"usuarioResponsableAmplioNodo\":_vm.usuarioResponsableAmplioNodo,\"idNodo\":_vm.idNodo,\"esteMovimiento\":item},on:{\"meElimine\":function($event){return _vm.eliminarEventoCache(item.id)}}}):_vm._e()],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"itemTablaMovimientoDinero\",class:{ deshabilitado: _vm.eliminandose }},[_c('div',{attrs:{\"id\":\"barraPrincipal\"}},[_c('img',{staticClass:\"iconoItem\",attrs:{\"src\":require(\"@/assets/iconos/receipt.svg\"),\"alt\":\"Receta\",\"title\":\"Movimiento de dinero\"}}),_c('div',{staticClass:\"celdaCampo\",attrs:{\"id\":\"celdaFecha\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoFecha),expression:\"nuevoFecha\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoFecha),expression:\"editandoFecha\"}],ref:\"inputNuevoFecha\",staticClass:\"inputNuevoFecha\",class:{ deshabilitado: _vm.enviandoNuevoFecha },attrs:{\"id\":\"inputNuevoFecha\",\"type\":\"date\"},domProps:{\"value\":(_vm.nuevoFecha)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();return _vm.guardarNuevoFecha('next')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$refs.inputNuevoFecha.blur()}],\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoFecha($event)},\"change\":_vm.guardarNuevoFecha,\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoFecha = false},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoFecha=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoFecha),expression:\"!editandoFecha\"}],staticClass:\"contenidoCampo\",class:{ deshabilitado: _vm.enviandoNuevoFecha },attrs:{\"id\":\"fecha\"},on:{\"click\":_vm.toggleEditandoFecha}},[_vm._v(\" \"+_vm._s(_vm.fechaFormateada)+\" \")])]),_c('div',{staticClass:\"celdaCampo\",attrs:{\"title\":\"Articulo\",\"id\":\"celdaArticulo\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoArticulo),expression:\"nuevoArticulo\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoArticulo),expression:\"editandoArticulo\"}],ref:\"inputNuevoArticulo\",staticClass:\"inputNuevoArticulo inputNombreCosa\",class:{ deshabilitado: _vm.enviandoNuevoArticulo },attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoArticulo)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();return _vm.guardarNuevoArticulo('cantidad')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$refs.inputNuevoArticulo.blur()}],\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoArticulo($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoArticulo = false},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoArticulo=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoArticulo),expression:\"!editandoArticulo\"}],staticClass:\"contenidoCampo\",class:{\n          deshabilitado: _vm.enviandoNuevoArticulo,\n        },attrs:{\"id\":\"articulo\"},on:{\"click\":_vm.toggleEditandoArticulo}},[_vm._v(\" \"+_vm._s(_vm.esteMovimiento.articulo)+\" \")])]),_c('div',{staticClass:\"celdaCampo\",attrs:{\"id\":\"celdaCantidad\",\"title\":\"Cantidad\"},on:{\"click\":_vm.toggleEditandoCantidad}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoCantidad),expression:\"nuevoCantidad\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoCantidad),expression:\"editandoCantidad\"}],ref:\"inputNuevoCantidad\",staticClass:\"inputNuevoCantidad\",class:{\n          deshabilitado: _vm.enviandoNuevoCantidad || _vm.enviandoNuevoNumeros,\n        },attrs:{\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.nuevoCantidad)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNumeros($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoCantidad = false;\n          _vm.nuevoCantidad = _vm.esteMovimiento.cantidad;},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$refs.inputNuevoCantidad.blur()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNumeros('movimientoUnitario')}],\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoCantidad=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoCantidad),expression:\"!editandoCantidad\"}],staticClass:\"contenidoCampo\",class:{\n          deshabilitado: _vm.enviandoNuevoCantidad,\n        },attrs:{\"id\":\"cantidad\"}},[_vm._v(\" \"+_vm._s(_vm.esteMovimiento.cantidad)+\" \")])]),_c('div',{staticClass:\"celdaCampo\",attrs:{\"title\":\"Valor unitario\"},on:{\"click\":_vm.toggleEditandoMovimientoUnitario}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoMovimientoUnitario),expression:\"nuevoMovimientoUnitario\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoMovimientoUnitario),expression:\"editandoMovimientoUnitario\"}],ref:\"inputNuevoMovimientoUnitario\",staticClass:\"inputNuevoMovimientoUnitario\",class:{\n          deshabilitado:\n            _vm.enviandoNuevoMovimientoUnitario || _vm.enviandoNuevoNumeros,\n        },attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.nuevoMovimientoUnitario)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNumeros($event)},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNumeros('movimientoTotal')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$refs.inputNuevoMovimientoUnitario.blur()}],\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoMovimientoUnitario = false;\n          _vm.nuevoMovimientoUnitario = _vm.esteMovimiento.movimientoUnitario;},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoMovimientoUnitario=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          !_vm.editandoMovimientoUnitario && _vm.movimientoDependiente != 'unitario'\n        ),expression:\"\\n          !editandoMovimientoUnitario && movimientoDependiente != 'unitario'\\n        \"}],staticClass:\"contenidoCampo contenidoCampoDinero\",class:{\n          deshabilitado: _vm.enviandoNuevoMovimientoUnitario,\n        },attrs:{\"id\":\"movimientoUnitario\"}},[_vm._v(\" \"+_vm._s(_vm.esteMovimiento.movimientoUnitario)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          !_vm.editandoMovimientoUnitario && _vm.movimientoDependiente === 'unitario'\n        ),expression:\"\\n          !editandoMovimientoUnitario && movimientoDependiente === 'unitario'\\n        \"}],staticClass:\"contenidoCampo contenidoCampoDinero movimientoDependiente\",class:{\n          deshabilitado: _vm.enviandoNuevoMovimientoUnitario,\n        },attrs:{\"id\":\"movimientoUnitarioDependiente\"}},[_vm._v(\" \"+_vm._s(_vm.nuevoMovimientoUnitario)+\" \")])]),_c('div',{staticClass:\"celdaCampo\",attrs:{\"title\":\"Valor total\"},on:{\"click\":_vm.toggleEditandoMovimientoTotal}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoMovimientoTotal),expression:\"nuevoMovimientoTotal\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoMovimientoTotal),expression:\"editandoMovimientoTotal\"}],ref:\"inputNuevoMovimientoTotal\",staticClass:\"inputNuevoMovimientoTotal\",class:{\n          deshabilitado: _vm.enviandoNuevoMovimientoTotal || _vm.enviandoNuevoNumeros,\n        },attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.nuevoMovimientoTotal)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNumeros($event)},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNumeros()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$refs.inputNuevoMovimientoTotal.blur()}],\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoMovimientoTotal = false;\n          _vm.nuevoMovimientoTotal = _vm.esteMovimiento.movimientoTotal;},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoMovimientoTotal=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoMovimientoTotal && _vm.movimientoDependiente != 'total'),expression:\"!editandoMovimientoTotal && movimientoDependiente != 'total'\"}],staticClass:\"contenidoCampo contenidoCampoDinero\",class:{\n          deshabilitado: _vm.enviandoNuevoMovimientoTotal,\n        },attrs:{\"id\":\"movimientoTotal\"}},[_vm._v(\" \"+_vm._s(_vm.esteMovimiento.movimientoTotal)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoMovimientoTotal && _vm.movimientoDependiente === 'total'),expression:\"!editandoMovimientoTotal && movimientoDependiente === 'total'\"}],staticClass:\"contenidoCampo contenidoCampoDinero movimientoDependiente\",class:{\n          deshabilitado: _vm.enviandoNuevoMovimientoTotal,\n        },attrs:{\"id\":\"movimientoTotalDependiente\"}},[_vm._v(\" \"+_vm._s(_vm.nuevoMovimientoTotal)+\" \")])]),_c('div',{staticClass:\"controlesItem\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.togglingMovimientoRealizado),expression:\"!togglingMovimientoRealizado\"}],staticClass:\"boton\",class:{ deshabilitado: _vm.togglingMovimientoRealizado },style:({\n          filter: _vm.esteMovimiento.realizado ? 'var(--atlasFilterVerde)' : '',\n        }),attrs:{\"src\":require(\"@/assets/iconos/check.svg\"),\"alt\":\"Check\",\"title\":_vm.esteMovimiento.realizado\n            ? 'Marcar que el movimiento no ha sido realizado'\n            : 'Marcar quue el movimiento fue realizado'},on:{\"click\":_vm.toggleMovimientoRealizado}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.togglingMovimientoRealizado),expression:\"togglingMovimientoRealizado\"}],attrs:{\"texto\":\"\"}}),_c('div',{staticClass:\"boton\",class:{\n          deshabilitado:\n            (!_vm.esteMovimiento.informacion ||\n              _vm.esteMovimiento.informacion.length === 0) &&\n            !_vm.usuarioResponsableAmplioNodo,\n        },attrs:{\"title\":\"Ver información de este movimiento\",\"id\":\"botonVerInformacion\"},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrandoInformacion = !_vm.mostrandoInformacion}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Informacion\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.eliminandose),expression:\"!eliminandose\"}],staticClass:\"boton\",attrs:{\"title\":\"Eliminar este movimiento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarse($event)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Delete\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.eliminandose),expression:\"eliminandose\"}],attrs:{\"texto\":\"\"}})],1)]),(_vm.esteMovimiento.nodoOwner)?_c('div',{attrs:{\"id\":\"infoNodoOwner\"}},[(_vm.esteMovimiento.nodoOwner.tipoNodo === 'trabajo')?_c('svg',{staticClass:\"svg-inline--fa fa-cog fa-w-16 iconoNodoOwner\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"cog\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"}})]):_vm._e(),(_vm.esteMovimiento.nodoOwner.tipoNodo === 'objetivo')?_c('svg',{staticClass:\"svg-inline--fa fa-star fa-w-18 iconoNodoOwner\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"star\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"}})]):_vm._e(),_c('div',{attrs:{\"id\":\"nombreNodoOwner\"}},[_vm._v(_vm._s(_vm.esteMovimiento.nodoOwner.nombre))])]):_vm._e(),_c('div',{attrs:{\"id\":\"contenidoSeleccionado\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoInformacion),expression:\"mostrandoInformacion\"}],staticClass:\"zonaContenidoSeleccionado\",attrs:{\"id\":\"zonaInformacion\"},on:{\"click\":_vm.toggleEditandoInformacion}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoInformacion),expression:\"!editandoInformacion\"}],ref:\"informacion\",attrs:{\"id\":\"informacion\"}},[_vm._v(\" \"+_vm._s(_vm.esteMovimiento.informacion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoInformacion),expression:\"nuevoInformacion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoInformacion),expression:\"editandoInformacion\"}],ref:\"inputNuevoInformacion\",staticClass:\"inputTextoNodo\",class:{ deshabilitado: _vm.enviandoNuevoInformacion },attrs:{\"id\":\"inputNuevoInformacion\"},domProps:{\"value\":(_vm.nuevoInformacion)},on:{\"click\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoInformacion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoInformacion),expression:\"editandoInformacion\"}],staticClass:\"contenedorBotonesCampo\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enviandoNuevoInformacion),expression:\"!enviandoNuevoInformacion\"}],staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarInformacion\"},on:{\"click\":_vm.guardarNuevoInformacion}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoInformacion),expression:\"enviandoNuevoInformacion\"}],attrs:{\"texto\":\"\"}}),_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionInformacion\"},on:{\"click\":function($event){_vm.editandoInformacion = false}}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"itemTablaMovimientoDinero\"\r\n    :class=\"{ deshabilitado: eliminandose }\"\r\n  >\r\n    <div id=\"barraPrincipal\">\r\n      <img\r\n        src=\"@/assets/iconos/receipt.svg\"\r\n        alt=\"Receta\"\r\n        title=\"Movimiento de dinero\"\r\n        class=\"iconoItem\"\r\n      />\r\n\r\n      <!-- Fecha -->\r\n\r\n      <div class=\"celdaCampo\" id=\"celdaFecha\">\r\n        <input\r\n          id=\"inputNuevoFecha\"\r\n          class=\"inputNuevoFecha\"\r\n          @keydown.tab.prevent=\"guardarNuevoFecha('next')\"\r\n          @keypress.enter.prevent=\"guardarNuevoFecha\"\r\n          @change=\"guardarNuevoFecha\"\r\n          ref=\"inputNuevoFecha\"\r\n          v-model=\"nuevoFecha\"\r\n          @click.stop=\"\"\r\n          @blur=\"editandoFecha = false\"\r\n          @keydown.esc=\"$refs.inputNuevoFecha.blur()\"\r\n          v-show=\"editandoFecha\"\r\n          type=\"date\"\r\n          :class=\"{ deshabilitado: enviandoNuevoFecha }\"\r\n        />\r\n        <div\r\n          id=\"fecha\"\r\n          class=\"contenidoCampo\"\r\n          v-show=\"!editandoFecha\"\r\n          :class=\"{ deshabilitado: enviandoNuevoFecha }\"\r\n          @click=\"toggleEditandoFecha\"\r\n        >\r\n          {{ fechaFormateada }}\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Articulo -->\r\n      <div class=\"celdaCampo\" title=\"Articulo\" id=\"celdaArticulo\">\r\n        <input\r\n          @keydown.tab.prevent=\"guardarNuevoArticulo('cantidad')\"\r\n          @keypress.enter.prevent=\"guardarNuevoArticulo\"\r\n          ref=\"inputNuevoArticulo\"\r\n          v-model=\"nuevoArticulo\"\r\n          @click.stop=\"\"\r\n          @blur=\"editandoArticulo = false\"\r\n          @keydown.esc=\"$refs.inputNuevoArticulo.blur()\"\r\n          v-show=\"editandoArticulo\"\r\n          type=\"text\"\r\n          class=\"inputNuevoArticulo inputNombreCosa\"\r\n          :class=\"{ deshabilitado: enviandoNuevoArticulo }\"\r\n        />\r\n        <div\r\n          id=\"articulo\"\r\n          class=\"contenidoCampo\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoArticulo,\r\n          }\"\r\n          v-show=\"!editandoArticulo\"\r\n          @click=\"toggleEditandoArticulo\"\r\n        >\r\n          {{ esteMovimiento.articulo }}\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Cantidad -->\r\n      <div\r\n        class=\"celdaCampo\"\r\n        id=\"celdaCantidad\"\r\n        title=\"Cantidad\"\r\n        @click=\"toggleEditandoCantidad\"\r\n      >\r\n        <input\r\n          @keypress.enter.prevent=\"guardarNuevoNumeros\"\r\n          ref=\"inputNuevoCantidad\"\r\n          v-model=\"nuevoCantidad\"\r\n          @click.stop=\"\"\r\n          @blur=\"\r\n            editandoCantidad = false;\r\n            nuevoCantidad = esteMovimiento.cantidad;\r\n          \"\r\n          @keydown.esc=\"$refs.inputNuevoCantidad.blur()\"\r\n          @keydown.tab.prevent=\"guardarNuevoNumeros('movimientoUnitario')\"\r\n          v-show=\"editandoCantidad\"\r\n          type=\"number\"\r\n          min=\"0\"\r\n          class=\"inputNuevoCantidad\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoCantidad || enviandoNuevoNumeros,\r\n          }\"\r\n        />\r\n        <div\r\n          id=\"cantidad\"\r\n          class=\"contenidoCampo\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoCantidad,\r\n          }\"\r\n          v-show=\"!editandoCantidad\"\r\n        >\r\n          {{ esteMovimiento.cantidad }}\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Movimiento unitario -->\r\n      <div\r\n        class=\"celdaCampo\"\r\n        title=\"Valor unitario\"\r\n        @click=\"toggleEditandoMovimientoUnitario\"\r\n      >\r\n        <input\r\n          @keypress.enter.prevent=\"guardarNuevoNumeros\"\r\n          @keydown.tab.prevent=\"guardarNuevoNumeros('movimientoTotal')\"\r\n          ref=\"inputNuevoMovimientoUnitario\"\r\n          v-model=\"nuevoMovimientoUnitario\"\r\n          @click.stop=\"\"\r\n          @blur=\"\r\n            editandoMovimientoUnitario = false;\r\n            nuevoMovimientoUnitario = esteMovimiento.movimientoUnitario;\r\n          \"\r\n          @keydown.esc=\"$refs.inputNuevoMovimientoUnitario.blur()\"\r\n          v-show=\"editandoMovimientoUnitario\"\r\n          type=\"number\"\r\n          class=\"inputNuevoMovimientoUnitario\"\r\n          :class=\"{\r\n            deshabilitado:\r\n              enviandoNuevoMovimientoUnitario || enviandoNuevoNumeros,\r\n          }\"\r\n        />\r\n        <div\r\n          id=\"movimientoUnitario\"\r\n          class=\"contenidoCampo contenidoCampoDinero\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoMovimientoUnitario,\r\n          }\"\r\n          v-show=\"\r\n            !editandoMovimientoUnitario && movimientoDependiente != 'unitario'\r\n          \"\r\n        >\r\n          {{ esteMovimiento.movimientoUnitario }}\r\n        </div>\r\n        <div\r\n          id=\"movimientoUnitarioDependiente\"\r\n          class=\"contenidoCampo contenidoCampoDinero movimientoDependiente\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoMovimientoUnitario,\r\n          }\"\r\n          v-show=\"\r\n            !editandoMovimientoUnitario && movimientoDependiente === 'unitario'\r\n          \"\r\n        >\r\n          {{ nuevoMovimientoUnitario }}\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Movimiento total -->\r\n      <div\r\n        class=\"celdaCampo\"\r\n        title=\"Valor total\"\r\n        @click=\"toggleEditandoMovimientoTotal\"\r\n      >\r\n        <input\r\n          @keypress.enter.prevent=\"guardarNuevoNumeros\"\r\n          @keydown.tab.prevent=\"guardarNuevoNumeros()\"\r\n          ref=\"inputNuevoMovimientoTotal\"\r\n          v-model=\"nuevoMovimientoTotal\"\r\n          @click.stop=\"\"\r\n          @blur=\"\r\n            editandoMovimientoTotal = false;\r\n            nuevoMovimientoTotal = esteMovimiento.movimientoTotal;\r\n          \"\r\n          @keydown.esc=\"$refs.inputNuevoMovimientoTotal.blur()\"\r\n          v-show=\"editandoMovimientoTotal\"\r\n          type=\"number\"\r\n          class=\"inputNuevoMovimientoTotal\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoMovimientoTotal || enviandoNuevoNumeros,\r\n          }\"\r\n        />\r\n        <div\r\n          id=\"movimientoTotal\"\r\n          class=\"contenidoCampo contenidoCampoDinero\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoMovimientoTotal,\r\n          }\"\r\n          v-show=\"!editandoMovimientoTotal && movimientoDependiente != 'total'\"\r\n        >\r\n          {{ esteMovimiento.movimientoTotal }}\r\n        </div>\r\n        <div\r\n          id=\"movimientoTotalDependiente\"\r\n          class=\"contenidoCampo contenidoCampoDinero movimientoDependiente\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoMovimientoTotal,\r\n          }\"\r\n          v-show=\"!editandoMovimientoTotal && movimientoDependiente === 'total'\"\r\n        >\r\n          {{ nuevoMovimientoTotal }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"controlesItem\">\r\n        <img\r\n          src=\"@/assets/iconos/check.svg\"\r\n          alt=\"Check\"\r\n          :title=\"\r\n            esteMovimiento.realizado\r\n              ? 'Marcar que el movimiento no ha sido realizado'\r\n              : 'Marcar quue el movimiento fue realizado'\r\n          \"\r\n          class=\"boton\"\r\n          :class=\"{ deshabilitado: togglingMovimientoRealizado }\"\r\n          :style=\"{\r\n            filter: esteMovimiento.realizado ? 'var(--atlasFilterVerde)' : '',\r\n          }\"\r\n          v-show=\"!togglingMovimientoRealizado\"\r\n          @click=\"toggleMovimientoRealizado\"\r\n        />\r\n        <loading texto=\"\" v-show=\"togglingMovimientoRealizado\" />\r\n        <div\r\n          title=\"Ver información de este movimiento\"\r\n          @click.stop=\"mostrandoInformacion = !mostrandoInformacion\"\r\n          :class=\"{\r\n            deshabilitado:\r\n              (!esteMovimiento.informacion ||\r\n                esteMovimiento.informacion.length === 0) &&\r\n              !usuarioResponsableAmplioNodo,\r\n          }\"\r\n          id=\"botonVerInformacion\"\r\n          class=\"boton\"\r\n        >\r\n          <img src=\"@/assets/iconos/info.svg\" alt=\"Informacion\" />\r\n        </div>\r\n\r\n        <div\r\n          title=\"Eliminar este movimiento\"\r\n          @click.stop=\"eliminarse\"\r\n          class=\"boton\"\r\n          v-show=\"!eliminandose\"\r\n        >\r\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Delete\" />\r\n        </div>\r\n        <loading texto=\"\" v-show=\"eliminandose\" />\r\n      </div>\r\n    </div>\r\n    <div id=\"infoNodoOwner\" v-if=\"esteMovimiento.nodoOwner\">\r\n      <svg\r\n        aria-hidden=\"true\"\r\n        focusable=\"false\"\r\n        data-prefix=\"fas\"\r\n        data-icon=\"cog\"\r\n        class=\"svg-inline--fa fa-cog fa-w-16 iconoNodoOwner\"\r\n        v-if=\"esteMovimiento.nodoOwner.tipoNodo === 'trabajo'\"\r\n        role=\"img\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 512 512\"\r\n      >\r\n        <path\r\n          fill=\"currentColor\"\r\n          d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"\r\n        ></path>\r\n      </svg>\r\n      <svg\r\n        aria-hidden=\"true\"\r\n        focusable=\"false\"\r\n        data-prefix=\"fas\"\r\n        data-icon=\"star\"\r\n        class=\"svg-inline--fa fa-star fa-w-18 iconoNodoOwner\"\r\n        v-if=\"esteMovimiento.nodoOwner.tipoNodo === 'objetivo'\"\r\n        role=\"img\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 576 512\"\r\n      >\r\n        <path\r\n          fill=\"currentColor\"\r\n          d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\r\n        ></path>\r\n      </svg>\r\n      <div id=\"nombreNodoOwner\">{{ esteMovimiento.nodoOwner.nombre }}</div>\r\n    </div>\r\n    <div id=\"contenidoSeleccionado\">\r\n      <div\r\n        id=\"zonaInformacion\"\r\n        class=\"zonaContenidoSeleccionado\"\r\n        v-show=\"mostrandoInformacion\"\r\n        @click=\"toggleEditandoInformacion\"\r\n      >\r\n        <div id=\"informacion\" ref=\"informacion\" v-show=\"!editandoInformacion\">\r\n          {{ esteMovimiento.informacion }}\r\n        </div>\r\n\r\n        <textarea\r\n          id=\"inputNuevoInformacion\"\r\n          class=\"inputTextoNodo\"\r\n          ref=\"inputNuevoInformacion\"\r\n          :class=\"{ deshabilitado: enviandoNuevoInformacion }\"\r\n          v-model=\"nuevoInformacion\"\r\n          v-show=\"editandoInformacion\"\r\n          @click.stop=\"\"\r\n        />\r\n        <div\r\n          class=\"contenedorBotonesCampo\"\r\n          @click.stop=\"\"\r\n          v-show=\"editandoInformacion\"\r\n        >\r\n          <img\r\n            src=\"@/assets/iconos/save.svg\"\r\n            class=\"botonGuardarCampo\"\r\n            alt=\"Guardar\"\r\n            title=\"Guardar descripción\"\r\n            id=\"botonGuardarInformacion\"\r\n            @click=\"guardarNuevoInformacion\"\r\n            v-show=\"!enviandoNuevoInformacion\"\r\n          />\r\n          <loading texto=\"\" v-show=\"enviandoNuevoInformacion\" />\r\n          <img\r\n            src=\"@/assets/iconos/equis.svg\"\r\n            class=\"botonGuardarCampo\"\r\n            alt=\"Cancelar\"\r\n            title=\"Cancelar edición\"\r\n            id=\"botonCancelarEdicionInformacion\"\r\n            @click=\"editandoInformacion = false\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport {\r\n  charProhibidosNombreCosa,\r\n  charProhibidosTexto,\r\n} from \"../../configuracion\";\r\nimport Loading from \"../../../utilidades/Loading.vue\";\r\nexport default {\r\n  components: { Loading },\r\n  name: \"ItemTablaMovimientoDinero\",\r\n  props: {\r\n    esteMovimiento: Object,\r\n    idNodo: String,\r\n    usuarioResponsableAmplioNodo: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      eliminandose: false,\r\n      mostrandoInformacion: false,\r\n\r\n      movimientoDependiente: null,\r\n\r\n      nuevoFecha: Date.now(),\r\n      editandoFecha: false,\r\n      enviandoNuevoFecha: false,\r\n\r\n      nuevoArticulo: \"Nuevo articulo\",\r\n      editandoArticulo: false,\r\n      enviandoNuevoArticulo: false,\r\n\r\n      nuevoInformacion: \"Informacion\",\r\n      editandoInformacion: false,\r\n      enviandoNuevoInformacion: false,\r\n\r\n      nuevoCantidad: \"1\",\r\n      editandoCantidad: false,\r\n      enviandoNuevoCantidad: false,\r\n\r\n      nuevoMovimientoUnitario: \"10000\",\r\n      editandoMovimientoUnitario: false,\r\n      enviandoNuevoMovimientoUnitario: false,\r\n\r\n      nuevoMovimientoTotal: \"10000\",\r\n      editandoMovimientoTotal: false,\r\n      enviandoNuevoMovimientoTotal: false,\r\n\r\n      enviandoNuevoNumeros: false,\r\n\r\n      togglingMovimientoRealizado: false,\r\n    };\r\n  },\r\n  computed: {\r\n    fechaFormateada() {\r\n      return this.esteMovimiento.fecha.substr(0, 10);\r\n    },\r\n    nuevoFechaIlegal() {\r\n      if (this.nuevoFecha.length < 1) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoArticuloIlegal() {\r\n      if (this.nuevoArticulo.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosNombreCosa.test(this.nuevoArticulo)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoInformacionIlegal() {\r\n      if (!this.nuevoInformacion || this.nuevoInformacion.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosTexto.test(this.nuevoInformacion)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoCantidadIlegal() {\r\n      if (!this.nuevoCantidad || !this.nuevoCantidad > 0) return true;\r\n      return false;\r\n    },\r\n    nuevoMovimientoUnitarioIlegal() {\r\n      if (\r\n        !this.nuevoMovimientoUnitario ||\r\n        !Math.abs(Number(this.nuevoMovimientoUnitario)) > 0\r\n      )\r\n        return true;\r\n      return false;\r\n    },\r\n    nuevoMovimientoTotalIlegal() {\r\n      if (\r\n        !this.nuevoMovimientoTotal ||\r\n        !Math.abs(Number(this.nuevoMovimientoTotal)) > 0\r\n      )\r\n        return true;\r\n      return false;\r\n    },\r\n  },\r\n  methods: {\r\n    eliminarse() {\r\n      if (\r\n        !confirm(\r\n          \"¿Confirmar la eliminación de este movimiento? (Esta acción no puede deshacerse)\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n      this.eliminandose = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $idMovimientoDinero: ID!) {\r\n              eliminarMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.$emit(\"meElimine\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.eliminandose = false;\r\n        });\r\n    },\r\n    guardarNuevoFecha(next) {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (this.nuevoFechaIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoFecha == this.esteMovimiento.fecha) {\r\n        this.editandoFecha = false;\r\n        if (this.next === \"next\") {\r\n          this.toggleEditandoArticulo();\r\n        }\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo fecha`);\r\n      this.enviandoNuevoFecha = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idMovimientoDinero: ID!\r\n              $nuevoFecha: Date!\r\n            ) {\r\n              editarFechaMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n                nuevoFecha: $nuevoFecha\r\n              ) {\r\n                id\r\n                fecha\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoFecha: this.nuevoFecha,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoFecha = false;\r\n          this.editandoFecha = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoFecha = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n\r\n      if (next === \"next\") {\r\n        this.toggleEditandoArticulo();\r\n      }\r\n    },\r\n    guardarNuevoArticulo(next) {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.nuevoArticulo = this.$refs.inputNuevoArticulo.value;\r\n      if (this.nuevoArticuloIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoArticulo == this.esteMovimiento.articulo) {\r\n        this.editandoArticulo = false;\r\n        if (next === \"cantidad\") {\r\n          this.toggleEditandoCantidad();\r\n        }\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo articulo`);\r\n      this.enviandoNuevoArticulo = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idMovimientoDinero: ID!\r\n              $nuevoArticulo: String!\r\n            ) {\r\n              editarArticuloMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n                nuevoArticulo: $nuevoArticulo\r\n              ) {\r\n                id\r\n                articulo\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoArticulo: this.nuevoArticulo,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoArticulo = false;\r\n          this.editandoArticulo = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoArticulo = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n\r\n      if (next === \"cantidad\") {\r\n        this.toggleEditandoCantidad();\r\n      }\r\n    },\r\n    guardarNuevoInformacion() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (this.nuevoInformacionIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoInformacion == this.esteMovimiento.informacion) {\r\n        this.editandoInformacion = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo informacion`);\r\n      this.enviandoNuevoInformacion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idMovimientoDinero: ID!\r\n              $nuevoInformacion: String!\r\n            ) {\r\n              editarInformacionMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n                nuevoInformacion: $nuevoInformacion\r\n              ) {\r\n                id\r\n                informacion\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoInformacion: this.nuevoInformacion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoInformacion = false;\r\n          this.editandoInformacion = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoInformacion = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoCantidad(siguienteCampo) {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (this.nuevoCantidadIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoCantidad == this.esteMovimiento.cantidad) {\r\n        this.editandoCantidad = false;\r\n        this.toggleEditandoMovimientoUnitario();\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo cantidad`);\r\n      this.enviandoNuevoCantidad = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idMovimientoDinero: ID!\r\n              $nuevoCantidad: Float!\r\n            ) {\r\n              editarCantidadMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n                nuevoCantidad: $nuevoCantidad\r\n              ) {\r\n                id\r\n                cantidad\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoCantidad: Number(this.nuevoCantidad),\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoCantidad = false;\r\n          this.editandoCantidad = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoCantidad = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n\r\n      if (siguienteCampo === \"movimientoUnitario\") {\r\n        this.toggleEditandoMovimientoUnitario();\r\n      }\r\n    },\r\n    guardarNuevoMovimientoUnitario() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (this.nuevoMovimientoUnitarioIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (\r\n        this.nuevoMovimientoUnitario == this.esteMovimiento.movimientoUnitario\r\n      ) {\r\n        this.editandoMovimientoUnitario = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo movimientoUnitario`);\r\n      this.enviandoNuevoMovimientoUnitario = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idMovimientoDinero: ID!\r\n              $nuevoMovimientoUnitario: Float!\r\n            ) {\r\n              editarMovimientoUnitarioMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n                nuevoMovimientoUnitario: $nuevoMovimientoUnitario\r\n              ) {\r\n                id\r\n                movimientoUnitario\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoMovimientoUnitario: Number(this.nuevoMovimientoUnitario),\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoMovimientoUnitario = false;\r\n          this.editandoMovimientoUnitario = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoMovimientoUnitario = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoMovimientoTotal() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (this.nuevoMovimientoTotalIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoMovimientoTotal == this.esteMovimiento.movimientoTotal) {\r\n        this.editandoMovimientoTotal = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo movimientoTotal del movimiento`);\r\n      this.enviandoNuevoMovimientoTotal = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idMovimientoDinero: ID!\r\n              $nuevoMovimientoTotal: Float!\r\n            ) {\r\n              editarNumerosMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n                nuevoMovimientoTotal: $nuevoMovimientoTotal\r\n              ) {\r\n                id\r\n                movimientoTotal\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoMovimientoTotal: Number(this.nuevoMovimientoTotal),\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoMovimientoTotal = false;\r\n          this.editandoMovimientoTotal = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoMovimientoTotal = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoNumeros(next) {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (\r\n        this.nuevoMovimientoTotalIlegal ||\r\n        this.nuevoMovimientoUnitarioIlegal ||\r\n        this.nuevoCantidadIlegal\r\n      ) {\r\n        console.log(\r\n          `Valores ilegales Cantidad: ${this.nuevoCantidad}, valorUnitario: ${this.nuevoMovimientoUnitario}, MovTotal: ${this.nuevoMovimientoTotal}. No enviado`\r\n        );\r\n        return;\r\n      }\r\n      if (\r\n        this.nuevoMovimientoTotal == this.esteMovimiento.movimientoTotal &&\r\n        this.nuevoCantidad === this.esteMovimiento.cantidad &&\r\n        this.nuevoMovimientoUnitario === this.esteMovimiento.movimientoUnitario\r\n      ) {\r\n        this.editandoMovimientoTotal = false;\r\n        this.editandoMovimientoUnitario = false;\r\n        this.editandoCantidad = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo numeros`);\r\n      this.enviandoNuevoNumeros = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idMovimientoDinero: ID!\r\n              $nuevoMovimientoTotal: Float!\r\n              $nuevoMovimientoUnitario: Float!\r\n              $nuevoCantidad: Float!\r\n            ) {\r\n              editarNumerosMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n                nuevoMovimientoTotal: $nuevoMovimientoTotal\r\n                nuevoMovimientoUnitario: $nuevoMovimientoUnitario\r\n                nuevoCantidad: $nuevoCantidad\r\n              ) {\r\n                id\r\n                movimientoTotal\r\n                cantidad\r\n                movimientoUnitario\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoMovimientoTotal: Number(this.nuevoMovimientoTotal),\r\n            nuevoMovimientoUnitario: Number(this.nuevoMovimientoUnitario),\r\n            nuevoCantidad: Number(this.nuevoCantidad),\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoNumeros = false;\r\n          this.editandoMovimientoTotal = false;\r\n          this.editandoMovimientoUnitario = false;\r\n          this.editandoCantidad = false;\r\n          if (next === \"movimientoUnitario\") {\r\n            this.toggleEditandoMovimientoUnitario();\r\n          } else if (next === \"movimientoTotal\") {\r\n            this.toggleEditandoMovimientoTotal();\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNumeros = false;\r\n          this.editandoMovimientoTotal = false;\r\n          this.editandoMovimientoUnitario = false;\r\n          this.editandoCantidad = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    toggleEditandoFecha() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.editandoFecha = !this.editandoFecha;\r\n      this.nuevoFecha = this.esteMovimiento.fecha.substr(0, 10);\r\n\r\n      this.$nextTick(() => {\r\n        this.$refs.inputNuevoFecha.click();\r\n      });\r\n    },\r\n    toggleEditandoArticulo() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.editandoArticulo = !this.editandoArticulo;\r\n      this.nuevoArticulo = this.esteMovimiento.articulo;\r\n\r\n      this.$nextTick(() => {\r\n        this.$refs.inputNuevoArticulo.focus();\r\n      });\r\n    },\r\n    toggleEditandoCantidad() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.editandoCantidad = !this.editandoCantidad;\r\n      this.nuevoCantidad = this.esteMovimiento.cantidad;\r\n      this.nuevoMovimientoUnitario = this.esteMovimiento.movimientoUnitario;\r\n      this.nuevoMovimientoTotal = this.esteMovimiento.movimientoTotal;\r\n\r\n      this.$nextTick(() => {\r\n        this.$refs.inputNuevoCantidad.focus();\r\n      });\r\n    },\r\n    toggleEditandoInformacion() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      console.log(`toggling edit de información`);\r\n      this.$refs.inputNuevoInformacion.style.height =\r\n        this.$refs.informacion.offsetHeight + \"px\";\r\n      this.editandoInformacion = !this.editandoInformacion;\r\n      this.nuevoInformacion = this.esteMovimiento.informacion;\r\n\r\n      if (this.editandoInformacion === true) {\r\n        this.$nextTick(() => {\r\n          this.$refs.inputNuevoInformacion.focus();\r\n        });\r\n      }\r\n    },\r\n    toggleEditandoMovimientoUnitario() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.movimientoDependiente = \"total\";\r\n\r\n      this.editandoMovimientoUnitario = !this.editandoMovimientoUnitario;\r\n      this.nuevoCantidad = this.esteMovimiento.cantidad;\r\n      this.nuevoMovimientoUnitario = this.esteMovimiento.movimientoUnitario;\r\n      this.nuevoMovimientoTotal = this.esteMovimiento.movimientoTotal;\r\n\r\n      this.$nextTick(() => {\r\n        this.$refs.inputNuevoMovimientoUnitario.focus();\r\n      });\r\n    },\r\n    toggleEditandoMovimientoTotal() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.movimientoDependiente = \"unitario\";\r\n\r\n      this.editandoMovimientoTotal = !this.editandoMovimientoTotal;\r\n      this.nuevoCantidad = this.esteMovimiento.cantidad;\r\n      this.nuevoMovimientoUnitario = this.esteMovimiento.movimientoUnitario;\r\n      this.nuevoMovimientoTotal = this.esteMovimiento.movimientoTotal;\r\n\r\n      this.$nextTick(() => {\r\n        this.$refs.inputNuevoMovimientoTotal.focus();\r\n      });\r\n    },\r\n    toggleMovimientoRealizado() {\r\n      if (!this.usuarioResponsableAmplioNodo) return;\r\n      console.log(`Toggling`);\r\n      this.togglingMovimientoRealizado = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idMovimientoDinero: ID!\r\n              $nuevoRealizado: Boolean!\r\n            ) {\r\n              setRealizadoMovimientoDineroNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idMovimientoDinero: $idMovimientoDinero\r\n                nuevoRealizado: $nuevoRealizado\r\n              ) {\r\n                id\r\n                realizado\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n            idMovimientoDinero: this.esteMovimiento.id,\r\n            nuevoRealizado: !this.esteMovimiento.realizado,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.togglingMovimientoRealizado = false;\r\n          console.log(`toggled`);\r\n        })\r\n        .catch((error) => {\r\n          this.togglingMovimientoRealizado = false;\r\n          console.log(`Error: E:${error}`);\r\n        });\r\n    },\r\n  },\r\n  watch: {\r\n    nuevoMovimientoUnitario(movimientoUnitario) {\r\n      if (this.movimientoDependiente === \"unitario\") {\r\n        return;\r\n      }\r\n\r\n      this.nuevoMovimientoTotal =\r\n        Number(this.nuevoCantidad) * Number(movimientoUnitario);\r\n    },\r\n    nuevoMovimientoTotal(movimientoTotal) {\r\n      if (this.movimientoDependiente === \"total\") {\r\n        return;\r\n      }\r\n      if (Number(this.nuevoCantidad) <= 0) {\r\n        this.nuevoMovimientoUnitario = null;\r\n      } else {\r\n        this.nuevoMovimientoUnitario =\r\n          Number(movimientoTotal) / Number(this.nuevoCantidad);\r\n      }\r\n    },\r\n    nuevoCantidad() {\r\n      if (this.movimientoDependiente === \"unitario\") {\r\n        if (Number(this.nuevoCantidad) <= 0) {\r\n          this.nuevoMovimientoUnitario = null;\r\n        } else {\r\n          this.nuevoMovimientoUnitario =\r\n            Number(this.nuevoMovimientoTotal) / Number(this.nuevoCantidad);\r\n        }\r\n      } else if (this.movimientoDependiente === \"total\") {\r\n        console.log(`Calculando movimiento total`);\r\n        this.nuevoMovimientoTotal =\r\n          Number(this.nuevoCantidad) * Number(this.nuevoMovimientoUnitario);\r\n      }\r\n    },\r\n    esteMovimiento: {\r\n      handler: function (mov) {\r\n        this.nuevoCantidad = mov.cantidad;\r\n        this.nuevoMovimientoTotal = mov.movimientoTotal;\r\n        this.nuevoMovimientoUnitario = mov.movimientoUnitario;\r\n      },\r\n      inmediate: true,\r\n    },\r\n    mostrandoInformacion(mostrando) {\r\n      console.log(`Se abre info`);\r\n      if (mostrando) {\r\n        if (\r\n          !this.esteMovimiento.informacion ||\r\n          this.esteMovimiento.informacion.length < 1\r\n        ) {\r\n          console.log(`Editar`);\r\n          this.toggleEditandoInformacion();\r\n        }\r\n      } else {\r\n        this.editandoInformacion = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.itemTablaMovimientoDinero {\r\n  min-height: 10px;\r\n}\r\n.itemTablaMovimientoDinero:hover {\r\n  background-color: rgba(128, 128, 128, 0.233);\r\n}\r\n#barraPrincipal {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 10px;\r\n}\r\n\r\n.iconoItem {\r\n  height: 20px;\r\n}\r\n.celdaCampo {\r\n  padding: 3px 7px;\r\n  min-width: 10px;\r\n  height: 100%;\r\n  flex: 1 1;\r\n}\r\n\r\n.celdaCampo input {\r\n  width: 100%;\r\n}\r\n#celdaArticulo {\r\n  flex: 2;\r\n  font-size: 14px;\r\n}\r\n#celdaFecha {\r\n  width: 120px;\r\n  font-size: 14px;\r\n  max-width: 100px;\r\n}\r\n#celdaFecha input {\r\n  font-size: 11px;\r\n}\r\n#celdaCantidad {\r\n  flex-shrink: 2;\r\n}\r\n.contenidoCampoDinero {\r\n  font-size: 12px;\r\n}\r\n.movimientoDependiente {\r\n  color: rgb(54, 54, 54);\r\n  font-weight: bold;\r\n}\r\n#barraPrincipal .controlesItem {\r\n  visibility: hidden;\r\n}\r\n#barraPrincipal:hover .controlesItem {\r\n  visibility: visible;\r\n}\r\n.controlesItem {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: auto;\r\n  padding-right: 2%;\r\n}\r\n.controlesItem .boton {\r\n  height: 15px;\r\n  width: 15px;\r\n  opacity: 0.7;\r\n  margin: 0px 0.4vw;\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.controlesItem .boton:hover {\r\n  opacity: 1;\r\n}\r\n.controlesItem .boton img {\r\n  height: 100%;\r\n}\r\n#botonVerInformacion.deshabilitado {\r\n  opacity: 0.4;\r\n}\r\n.zonaContenidoSeleccionado {\r\n  border: 1px solid white;\r\n  border-radius: 20px;\r\n  background-color: rgba(255, 255, 255, 0.342);\r\n  padding: 20px;\r\n  margin: 0px 10px;\r\n}\r\n.contenedorBotonesCampo {\r\n  margin: 5px auto;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.botonGuardarCampo {\r\n  width: 15px;\r\n  cursor: pointer;\r\n  margin: 0px 5px;\r\n  opacity: 0.8;\r\n}\r\n#inputNuevoInformacion {\r\n  width: 100%;\r\n  min-height: 50px;\r\n}\r\n#infoNodoOwner {\r\n  display: flex;\r\n  align-items: center;\r\n  opacity: 0.7;\r\n  margin-right: 2%;\r\n}\r\n#nombreNodoOwner {\r\n  font-size: 11px;\r\n}\r\n.iconoNodoOwner {\r\n  height: 7px;\r\n  margin-right: 5px;\r\n  margin-left: auto;\r\n}\r\n\r\n@media only screen and (max-width: 850px) {\r\n  .itemTablaMovimientoDinero {\r\n    width: 90vw;\r\n  }\r\n  #barraPrincipal {\r\n    flex-wrap: wrap;\r\n  }\r\n  .controlesItem {\r\n    justify-content: flex-end;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n  .controlesItem .boton {\r\n    margin: 0px 10px;\r\n  }\r\n  .iconoItem {\r\n    height: 13px;\r\n  }\r\n  #celdaFecha {\r\n    font-size: min(10px, 2vw);\r\n  }\r\n  #celdaArticulo {\r\n    font-size: min(14px, 3vw);\r\n  }\r\n\r\n  .contenidoCampoDinero,\r\n  #celdaCantidad {\r\n    font-size: min(12px, 2.5vw);\r\n  }\r\n\r\n  .controlesItem .boton {\r\n    width: 11px;\r\n    height: 11px;\r\n  }\r\n}\r\n\r\n@media (hover: none) and (pointer: coarse) {\r\n  #barraPrincipal .controlesItem {\r\n    visibility: visible;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTablaMovimientoDinero.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTablaMovimientoDinero.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemTablaMovimientoDinero.vue?vue&type=template&id=5bfea5c4&scoped=true&\"\nimport script from \"./ItemTablaMovimientoDinero.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemTablaMovimientoDinero.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemTablaMovimientoDinero.vue?vue&type=style&index=0&id=5bfea5c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bfea5c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"itemTablaEvento\",class:{ deshabilitado: _vm.eliminandose }},[_c('div',{attrs:{\"id\":\"barraPrincipal\"}},[_c('img',{staticClass:\"iconoItem\",attrs:{\"src\":require(\"@/assets/iconos/exclamationCircle.svg\"),\"alt\":\"Exclamación\",\"title\":\"Evento\"}}),_c('div',{staticClass:\"celdaCampo\",attrs:{\"id\":\"celdaFecha\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoFecha),expression:\"nuevoFecha\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoFecha),expression:\"editandoFecha\"}],ref:\"inputNuevoFecha\",staticClass:\"inputNuevoFecha\",class:{ deshabilitado: _vm.enviandoNuevoFecha },attrs:{\"id\":\"inputNuevoFecha\",\"type\":\"date\"},domProps:{\"value\":(_vm.nuevoFecha)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();return _vm.guardarNuevoFecha('next')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$refs.inputNuevoFecha.blur()}],\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoFecha($event)},\"change\":_vm.guardarNuevoFecha,\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoFecha = false},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoFecha=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoFecha),expression:\"!editandoFecha\"}],staticClass:\"contenidoCampo\",class:{ deshabilitado: _vm.enviandoNuevoFecha },attrs:{\"id\":\"fecha\"},on:{\"click\":_vm.toggleEditandoFecha}},[_vm._v(\" \"+_vm._s(_vm.fechaFormateada)+\" \")])]),_c('div',{staticClass:\"celdaCampo\",attrs:{\"title\":\"Nombre\",\"id\":\"celdaNombre\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNuevoNombre inputNombreCosa\",class:{ deshabilitado: _vm.enviandoNuevoNombre },attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre('descripcion')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$refs.inputNuevoNombre.blur()}],\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoNombre = false},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],staticClass:\"contenidoCampo\",class:{\n          deshabilitado: _vm.enviandoNuevoNombre,\n        },attrs:{\"id\":\"nombre\"},on:{\"click\":_vm.toggleEditandoNombre}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.nombre)+\" \")])]),_c('div',{staticClass:\"controlesItem\"},[_c('div',{staticClass:\"boton\",class:{\n          deshabilitado:\n            (!_vm.esteEvento.descripcion ||\n              _vm.esteEvento.descripcion.length === 0) &&\n            !_vm.usuarioResponsableAmplioNodo,\n        },attrs:{\"title\":\"Ver descripción de este evento\",\"id\":\"botonVerInformacion\"},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrandoDescripcion = !_vm.mostrandoDescripcion}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Descripcion\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.eliminandose),expression:\"!eliminandose\"}],staticClass:\"boton\",attrs:{\"title\":\"Eliminar este evento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarse($event)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Delete\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.eliminandose),expression:\"eliminandose\"}],attrs:{\"texto\":\"\"}})],1)]),(_vm.esteEvento.nodoOwner)?_c('div',{attrs:{\"id\":\"infoNodoOwner\"}},[(_vm.esteEvento.nodoOwner.tipoNodo === 'trabajo')?_c('svg',{staticClass:\"svg-inline--fa fa-cog fa-w-16 iconoNodoOwner\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"cog\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"}})]):_vm._e(),(_vm.esteEvento.nodoOwner.tipoNodo === 'objetivo')?_c('svg',{staticClass:\"svg-inline--fa fa-star fa-w-18 iconoNodoOwner\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"star\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"}})]):_vm._e(),_c('div',{attrs:{\"id\":\"nombreNodoOwner\"}},[_vm._v(_vm._s(_vm.esteEvento.nodoOwner.nombre))])]):_vm._e(),_c('div',{attrs:{\"id\":\"contenidoSeleccionado\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoDescripcion),expression:\"mostrandoDescripcion\"}],staticClass:\"zonaContenidoSeleccionado\",attrs:{\"id\":\"zonaDescripcion\"},on:{\"click\":_vm.toggleEditandoDescripcion}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",attrs:{\"id\":\"descripcion\"}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",staticClass:\"inputTextoNodo\",class:{ deshabilitado: _vm.enviandoNuevoDescripcion },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"click\":function($event){$event.stopPropagation();},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],staticClass:\"contenedorBotonesCampo\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enviandoNuevoDescripcion),expression:\"!enviandoNuevoDescripcion\"}],staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"\"}}),_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionDescripcion\"},on:{\"click\":function($event){_vm.editandoDescripcion = false}}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"itemTablaEvento\"\r\n    :class=\"{ deshabilitado: eliminandose }\"\r\n  >\r\n    <div id=\"barraPrincipal\">\r\n      <img\r\n        src=\"@/assets/iconos/exclamationCircle.svg\"\r\n        alt=\"Exclamación\"\r\n        title=\"Evento\"\r\n        class=\"iconoItem\"\r\n      />\r\n\r\n      <!-- Fecha -->\r\n\r\n      <div class=\"celdaCampo\" id=\"celdaFecha\">\r\n        <input\r\n          id=\"inputNuevoFecha\"\r\n          class=\"inputNuevoFecha\"\r\n          @keydown.tab.prevent=\"guardarNuevoFecha('next')\"\r\n          @keypress.enter.prevent=\"guardarNuevoFecha\"\r\n          @change=\"guardarNuevoFecha\"\r\n          ref=\"inputNuevoFecha\"\r\n          v-model=\"nuevoFecha\"\r\n          @click.stop=\"\"\r\n          @blur=\"editandoFecha = false\"\r\n          @keydown.esc=\"$refs.inputNuevoFecha.blur()\"\r\n          v-show=\"editandoFecha\"\r\n          type=\"date\"\r\n          :class=\"{ deshabilitado: enviandoNuevoFecha }\"\r\n        />\r\n        <div\r\n          id=\"fecha\"\r\n          class=\"contenidoCampo\"\r\n          v-show=\"!editandoFecha\"\r\n          :class=\"{ deshabilitado: enviandoNuevoFecha }\"\r\n          @click=\"toggleEditandoFecha\"\r\n        >\r\n          {{ fechaFormateada }}\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Nombre -->\r\n      <div class=\"celdaCampo\" title=\"Nombre\" id=\"celdaNombre\">\r\n        <input\r\n          @keydown.tab.prevent=\"guardarNuevoNombre('descripcion')\"\r\n          @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n          ref=\"inputNuevoNombre\"\r\n          v-model=\"nuevoNombre\"\r\n          @click.stop=\"\"\r\n          @blur=\"editandoNombre = false\"\r\n          @keydown.esc=\"$refs.inputNuevoNombre.blur()\"\r\n          v-show=\"editandoNombre\"\r\n          type=\"text\"\r\n          class=\"inputNuevoNombre inputNombreCosa\"\r\n          :class=\"{ deshabilitado: enviandoNuevoNombre }\"\r\n        />\r\n        <div\r\n          id=\"nombre\"\r\n          class=\"contenidoCampo\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoNombre,\r\n          }\"\r\n          v-show=\"!editandoNombre\"\r\n          @click=\"toggleEditandoNombre\"\r\n        >\r\n          {{ esteEvento.nombre }}\r\n        </div>\r\n      </div>                 \r\n\r\n      <div class=\"controlesItem\">        \r\n        <div\r\n          title=\"Ver descripción de este evento\"\r\n          @click.stop=\"mostrandoDescripcion = !mostrandoDescripcion\"\r\n          :class=\"{\r\n            deshabilitado:\r\n              (!esteEvento.descripcion ||\r\n                esteEvento.descripcion.length === 0) &&\r\n              !usuarioResponsableAmplioNodo,\r\n          }\"\r\n          id=\"botonVerInformacion\"\r\n          class=\"boton\"\r\n        >\r\n          <img src=\"@/assets/iconos/info.svg\" alt=\"Descripcion\" />\r\n        </div>\r\n\r\n        <div\r\n          title=\"Eliminar este evento\"\r\n          @click.stop=\"eliminarse\"\r\n          class=\"boton\"\r\n          v-show=\"!eliminandose\"\r\n        >\r\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Delete\" />\r\n        </div>\r\n        <loading texto=\"\" v-show=\"eliminandose\"/>\r\n      </div>\r\n    </div>\r\n    <div id=\"infoNodoOwner\" v-if=\"esteEvento.nodoOwner\">\r\n      <svg\r\n        aria-hidden=\"true\"\r\n        focusable=\"false\"\r\n        data-prefix=\"fas\"\r\n        data-icon=\"cog\"\r\n        class=\"svg-inline--fa fa-cog fa-w-16 iconoNodoOwner\"\r\n        v-if=\"esteEvento.nodoOwner.tipoNodo === 'trabajo'\"\r\n        role=\"img\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 512 512\"\r\n      >\r\n        <path\r\n          fill=\"currentColor\"\r\n          d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"\r\n        ></path>\r\n      </svg>\r\n      <svg\r\n        aria-hidden=\"true\"\r\n        focusable=\"false\"\r\n        data-prefix=\"fas\"\r\n        data-icon=\"star\"\r\n        class=\"svg-inline--fa fa-star fa-w-18 iconoNodoOwner\"\r\n        v-if=\"esteEvento.nodoOwner.tipoNodo === 'objetivo'\"\r\n        role=\"img\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 576 512\"\r\n      >\r\n        <path\r\n          fill=\"currentColor\"\r\n          d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\r\n        ></path>\r\n      </svg>\r\n      <div id=\"nombreNodoOwner\">{{ esteEvento.nodoOwner.nombre }}</div>\r\n    </div>\r\n    <div id=\"contenidoSeleccionado\">\r\n      <div\r\n        id=\"zonaDescripcion\"\r\n        class=\"zonaContenidoSeleccionado\"\r\n        v-show=\"mostrandoDescripcion\"\r\n        @click=\"toggleEditandoDescripcion\"\r\n      >\r\n        <div id=\"descripcion\" ref=\"descripcion\" v-show=\"!editandoDescripcion\">\r\n          {{ esteEvento.descripcion }}\r\n        </div>\r\n\r\n        <textarea\r\n          id=\"inputNuevoDescripcion\"\r\n          class=\"inputTextoNodo\"\r\n          ref=\"inputNuevoDescripcion\"\r\n          :class=\"{ deshabilitado: enviandoNuevoDescripcion }\"\r\n          v-model=\"nuevoDescripcion\"\r\n          v-show=\"editandoDescripcion\"\r\n          @click.stop=\"\"\r\n        />\r\n        <div\r\n          class=\"contenedorBotonesCampo\"\r\n          @click.stop=\"\"\r\n          v-show=\"editandoDescripcion\"\r\n        >\r\n          <img\r\n            src=\"@/assets/iconos/save.svg\"\r\n            class=\"botonGuardarCampo\"\r\n            alt=\"Guardar\"\r\n            title=\"Guardar descripción\"\r\n            id=\"botonGuardarDescripcion\"\r\n            v-show=\"!enviandoNuevoDescripcion\"\r\n            @click=\"guardarNuevoDescripcion\"\r\n          />\r\n          <loading texto=\"\" v-show=\"enviandoNuevoDescripcion\"/>\r\n          <img\r\n            src=\"@/assets/iconos/equis.svg\"\r\n            class=\"botonGuardarCampo\"\r\n            alt=\"Cancelar\"\r\n            title=\"Cancelar edición\"\r\n            id=\"botonCancelarEdicionDescripcion\"\r\n            @click=\"editandoDescripcion = false\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport {\r\n  charProhibidosNombreCosa,\r\n  charProhibidosTexto,\r\n} from \"../../configuracion\";\r\nimport Loading from \"../../../utilidades/Loading.vue\";\r\nexport default {\r\n  components: { Loading },\r\n  name: \"ItemTablaEvento\",\r\n  props: {\r\n    esteEvento: Object,\r\n    idNodo: String,\r\n    usuarioResponsableAmplioNodo: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      eliminandose: false,\r\n      mostrandoDescripcion: false,\r\n\r\n      nuevoFecha: Date.now(),\r\n      editandoFecha: false,\r\n      enviandoNuevoFecha: false,\r\n\r\n      nuevoNombre: \"Nuevo nombre\",\r\n      editandoNombre: false,\r\n      enviandoNuevoNombre: false,\r\n\r\n      nuevoDescripcion: \"Descripcion\",\r\n      editandoDescripcion: false,\r\n      enviandoNuevoDescripcion: false,      \r\n    };\r\n  },\r\n  computed: {\r\n    fechaFormateada() {\r\n      return this.esteEvento.fecha.substr(0, 10);\r\n    },\r\n    nuevoFechaIlegal() {\r\n      if (this.nuevoFecha.length < 1) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoNombreIlegal() {\r\n      if (this.nuevoNombre.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosNombreCosa.test(this.nuevoNombre)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoDescripcionIlegal() {\r\n      if (!this.nuevoDescripcion || this.nuevoDescripcion.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosTexto.test(this.nuevoDescripcion)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },    \r\n  },\r\n  methods: {\r\n    eliminarse() {\r\n      if (\r\n        !confirm(\r\n          \"¿Confirmar la eliminación de este evento? (Esta acción no puede deshacerse)\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n      this.eliminandose = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $idEvento: ID!) {\r\n              eliminarEventoNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idEvento: $idEvento\r\n              )\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n            idEvento: this.esteEvento.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.$emit(\"meElimine\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.eliminandose = false;\r\n        });\r\n    },\r\n    guardarNuevoFecha(next) {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (this.nuevoFechaIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoFecha == this.esteEvento.fecha) {\r\n        this.editandoFecha = false;\r\n        if (this.next === \"next\") {\r\n          this.toggleEditandoNombre();\r\n        }\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo fecha`);\r\n      this.enviandoNuevoFecha = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idEvento: ID!\r\n              $nuevoFecha: Date!\r\n            ) {\r\n              editarFechaEventoNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idEvento: $idEvento\r\n                nuevoFecha: $nuevoFecha\r\n              ) {\r\n                id\r\n                fecha\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idEvento: this.esteEvento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoFecha: this.nuevoFecha,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoFecha = false;\r\n          this.editandoFecha = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoFecha = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n\r\n      if (next === \"next\") {\r\n        this.toggleEditandoNombre();\r\n      }\r\n    },\r\n    guardarNuevoNombre(next) {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (this.nuevoNombreIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo nombre. Next: ${next}`);\r\n\r\n      if (this.nuevoNombre == this.esteEvento.nombre) {\r\n        this.editandoNombre = false;\r\n        if (next==='descripcion') {\r\n            \r\n            this.mostrandoDescripcion=true\r\n            this.toggleEditandoDescripcion(true);\r\n        }\r\n        return;\r\n      }\r\n      this.enviandoNuevoNombre = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idEvento: ID!\r\n              $nuevoNombre: String!\r\n            ) {\r\n              editarNombreEventoNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idEvento: $idEvento\r\n                nuevoNombre: $nuevoNombre\r\n              ) {\r\n                id\r\n                nombre\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idEvento: this.esteEvento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoNombre: this.nuevoNombre,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoNombre = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n\r\n      if (next==='descripcion') {\r\n          this.mostrandoDescripcion=true;        \r\n          this.toggleEditandoDescripcion(true);\r\n      }\r\n    },\r\n    guardarNuevoDescripcion() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      if (this.nuevoDescripcionIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoDescripcion == this.esteEvento.descripcion) {\r\n        this.editandoDescripcion = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo descripcion`);\r\n      this.enviandoNuevoDescripcion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation (\r\n              $idNodo: ID!\r\n              $idEvento: ID!\r\n              $nuevoDescripcion: String!\r\n            ) {\r\n              editarDescripcionEventoNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                idEvento: $idEvento\r\n                nuevoDescripcion: $nuevoDescripcion\r\n              ) {\r\n                id\r\n                descripcion\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idEvento: this.esteEvento.id,\r\n            idNodo: this.idNodo,\r\n            nuevoDescripcion: this.nuevoDescripcion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          this.editandoDescripcion = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },    \r\n    toggleEditandoFecha() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.editandoFecha = !this.editandoFecha;\r\n      this.nuevoFecha = this.esteEvento.fecha.substr(0, 10);\r\n\r\n      this.$nextTick(() => {\r\n        this.$refs.inputNuevoFecha.focus();\r\n      });\r\n    },\r\n    toggleEditandoNombre() {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      this.editandoNombre = !this.editandoNombre;\r\n      this.nuevoNombre = this.esteEvento.nombre;\r\n\r\n      this.$nextTick(() => {\r\n        this.$refs.inputNuevoNombre.focus();\r\n      });\r\n    },    \r\n    toggleEditandoDescripcion(valor) {\r\n      if (!this.usuarioResponsableAmplioNodo) {\r\n        console.log(`No autorizado`);\r\n        return;\r\n      }\r\n      console.log(`toggling edit de descripción`);\r\n      this.$refs.inputNuevoDescripcion.style.height =\r\n        this.$refs.descripcion.offsetHeight + \"px\";\r\n      this.editandoDescripcion = valor || !this.editandoDescripcion;\r\n      console.log(`Queda en ${this.editandoDescripcion}`);\r\n      this.nuevoDescripcion = this.esteEvento.descripcion;\r\n\r\n      if (this.editandoDescripcion === true) {\r\n        this.$nextTick(() => {\r\n          this.$refs.inputNuevoDescripcion.focus();\r\n        });\r\n      }\r\n    },    \r\n  },\r\n  watch: {    \r\n    mostrandoDescripcion(mostrando) {\r\n      console.log(`Se abre descripción`);\r\n      if (mostrando) {\r\n        if (\r\n          !this.esteEvento.descripcion ||\r\n          this.esteEvento.descripcion.length < 1\r\n        ) {\r\n          console.log(`Editar`);\r\n          if(!this.editandoDescripcion){\r\n              this.toggleEditandoDescripcion(true);\r\n          }\r\n        }\r\n      }\r\n      else{\r\n        this.editandoDescripcion=false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.itemTablaEvento {\r\n  min-height: 10px;\r\n}\r\n.itemTablaEvento:hover {\r\n  background-color: rgba(128, 128, 128, 0.233);\r\n}\r\n#barraPrincipal {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 10px;\r\n}\r\n.iconoItem {\r\n  height: 20px;\r\n}\r\n.celdaCampo {\r\n  padding: 3px 7px;\r\n  min-width: 10px;\r\n  height: 100%;\r\n  flex: 1 1;\r\n}\r\n.celdaCampo input {\r\n  width: 100%;\r\n}\r\n#celdaNombre {\r\n  flex: 2;\r\n  font-size: 14px;\r\n}\r\n#celdaFecha {\r\n  width: 120px;\r\n  font-size: 14px;\r\n  max-width: 100px;\r\n}\r\n#celdaFecha input {\r\n  font-size: 11px;\r\n}\r\n#barraPrincipal .controlesItem{\r\n    visibility: hidden;\r\n}\r\n#barraPrincipal:hover .controlesItem{\r\n    visibility: visible;\r\n}\r\n.controlesItem {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: auto;\r\n  padding-right: 2%;\r\n}\r\n.controlesItem .boton {\r\n  height: 15px;\r\n  width: 15px;\r\n  opacity: 0.7;\r\n  margin: 0px 0.4vw;\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.controlesItem .boton:hover {\r\n  opacity: 1;\r\n}\r\n.controlesItem .boton img {\r\n  height: 100%;\r\n}\r\n#botonVerInformacion.deshabilitado{\r\n  opacity:0.4\r\n}\r\n.zonaContenidoSeleccionado {\r\n  border: 1px solid white;\r\n  border-radius: 20px;\r\n  background-color: rgba(255, 255, 255, 0.342);\r\n  padding: 20px;\r\n  margin: 0px 10px;\r\n}\r\n.contenedorBotonesCampo {\r\n  margin: 5px auto;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.botonGuardarCampo {\r\n  width: 15px;\r\n  cursor: pointer;\r\n  margin: 0px 5px;\r\n  opacity: 0.8;\r\n}\r\n#inputNuevoDescripcion {\r\n  width: 100%;\r\n  min-height: 50px;\r\n}\r\n\r\n#infoNodoOwner {\r\n  display: flex;\r\n  align-items: center;\r\n  opacity: 0.7;\r\n  margin-right: 2%;\r\n}\r\n#nombreNodoOwner {\r\n  font-size: 11px;\r\n}\r\n.iconoNodoOwner {\r\n  height: 7px;\r\n  margin-right: 5px;\r\n  margin-left: auto;\r\n}\r\n\r\n@media only screen and (max-width: 850px) {\r\n  .itemTablaEvento {\r\n    width: 90vw;\r\n  }\r\n  #barraPrincipal {\r\n    flex-wrap: wrap;\r\n  }\r\n  .controlesItem {\r\n    justify-content: flex-end;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n  .controlesItem .boton {\r\n    margin: 0px 10px;\r\n  }\r\n  .iconoItem {\r\n    height: 13px;\r\n  }\r\n  #celdaFecha {\r\n    font-size: min(10px, 2vw);\r\n  }\r\n  #celdaNombre {\r\n    font-size: min(14px, 3vw);\r\n  }\r\n  .controlesItem .boton {\r\n    width: 11px;\r\n    height: 11px;\r\n  }\r\n}\r\n\r\n@media (hover: none) and (pointer: coarse) {\r\n  #barraPrincipal .controlesItem{\r\n    visibility: visible;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTablaEvento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTablaEvento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemTablaEvento.vue?vue&type=template&id=42ba70c1&scoped=true&\"\nimport script from \"./ItemTablaEvento.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemTablaEvento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemTablaEvento.vue?vue&type=style&index=0&id=42ba70c1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42ba70c1\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"tablaAdministracion\">\r\n    <div id=\"barraSuperior\">\r\n      <div id=\"contenedorBotonesCrear\">\r\n        <div id=\"bloqueMovimientosDinero\" class=\"bloqueCrearItems\">\r\n          <div\r\n            class=\"botonBarraSuperior boton\"\r\n            :style=\"{ opacity: mostrarMovimientosDinero ? 1 : 0.5 }\"\r\n            :title=\"\r\n              mostrarMovimientosDinero\r\n                ? 'Ocultar movimientos de dinero'\r\n                : 'Mostrar movimientos de dinero'\r\n            \"\r\n            @click.stop=\"mostrarMovimientosDinero = !mostrarMovimientosDinero\"\r\n          >\r\n            <img src=\"@/assets/iconos/receipt.svg\" alt=\"Factura\" />\r\n          </div>\r\n          <div\r\n            class=\"botonBarraSuperior boton\"\r\n            :style=\"{ opacity: mostrarMovimientosArbol ? 1 : 0.5 }\"\r\n            :title=\"\r\n              mostrarMovimientosDinero\r\n                ? 'Ocultar movimientos de sub-nodos'\r\n                : 'Mostrar movimientos de sub-nodos'\r\n            \"\r\n            @click.stop=\"mostrarMovimientosArbol = !mostrarMovimientosArbol\"\r\n          >\r\n            <img src=\"@/assets/iconos/network.svg\" alt=\"Arbol\" />\r\n          </div>\r\n          <div\r\n            class=\"botonBarraSuperior boton\"\r\n            v-show=\"!creandoNuevoMovimiento\"\r\n          >\r\n            <img\r\n              src=\"@/assets/iconos/plusCircle.svg\"\r\n              alt=\"Mas\"\r\n              title=\"Crear nuevo movimiento de dinero\"\r\n              @click.stop=\"crearNuevoItemMovimientoDinero\"\r\n            />\r\n          </div>\r\n          <loading texto=\"\" v-show=\"creandoNuevoMovimiento\" />\r\n        </div>\r\n\r\n        <div id=\"bloqueEventos\" class=\"bloqueCrearItems\">\r\n          <div\r\n            class=\"botonBarraSuperior boton\"\r\n            :style=\"{ opacity: mostrarEventos ? 1 : 0.5 }\"\r\n            :title=\"mostrarEventos ? 'Ocultar eventos' : 'Mostrar eventos'\"\r\n            @click.stop=\"mostrarEventos = !mostrarEventos\"\r\n          >\r\n            <img\r\n              src=\"@/assets/iconos/exclamationCircle.svg\"\r\n              alt=\"Exclamación\"\r\n            />\r\n          </div>\r\n          <div\r\n            class=\"botonBarraSuperior boton\"\r\n            :style=\"{ opacity: mostrarEventosArbol ? 1 : 0.5 }\"\r\n            :title=\"\r\n              mostrarEventos\r\n                ? 'Ocultar eventos de sub-nodos'\r\n                : 'Mostrar eventos de sub-nodos'\r\n            \"\r\n            @click.stop=\"mostrarEventosArbol = !mostrarEventosArbol\"\r\n          >\r\n            <img src=\"@/assets/iconos/network.svg\" alt=\"Arbol\" />\r\n          </div>\r\n          <div class=\"botonBarraSuperior boton\" v-show=\"!creandoNuevoEvento\">\r\n            <img\r\n              src=\"@/assets/iconos/plusCircle.svg\"\r\n              alt=\"Mas\"\r\n              title=\"Crear nuevo evento\"\r\n              @click.stop=\"crearNuevoItemEvento\"\r\n            />\r\n          </div>\r\n          <loading texto=\"\" v-show=\"creandoNuevoEvento\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"laTabla\">\r\n      <div class=\"campoItem\" v-for=\"item of items\" :key=\"item.id\">\r\n        <item-tabla-movimiento-dinero\r\n          :usuarioResponsableAmplioNodo=\"usuarioResponsableAmplioNodo\"\r\n          :idNodo=\"idNodo\"\r\n          :esteMovimiento=\"item\"\r\n          v-if=\"item.__typename === 'MovimientoDineroNodoSolidaridad'\"\r\n          @meElimine=\"eliminarMovimientoCache(item.id)\"\r\n        />\r\n        <item-tabla-evento\r\n          :esteEvento=\"item\"\r\n          :usuarioResponsableAmplioNodo=\"usuarioResponsableAmplioNodo\"\r\n          :idNodo=\"idNodo\"\r\n          :esteMovimiento=\"item\"\r\n          v-if=\"item.__typename === 'EventoNodoSolidaridad'\"\r\n          @meElimine=\"eliminarEventoCache(item.id)\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport {\r\n  fragmentoEventoNodoSolidaridad,\r\n  fragmentoMovimientoDineroNodoSolidaridad,\r\n} from \"../../frags\";\r\nimport ItemTablaMovimientoDinero from \"../tablaAdministracion/ItemTablaMovimientoDinero.vue\";\r\nimport Loading from \"../../../utilidades/Loading.vue\";\r\nimport ItemTablaEvento from \"../tablaAdministracion/ItemTablaEvento.vue\";\r\nimport {QUERY_ESTE_NODO} from \"../HomeNodo.vue\"\r\nexport default {\r\n  components: { ItemTablaMovimientoDinero, Loading, ItemTablaEvento },\r\n  name: \"TablaAdministracion\",\r\n\r\n  props: {\r\n    movimientos: Array,\r\n    eventos: Array,\r\n    idNodo: String,\r\n    usuarioResponsableAmplioNodo: Boolean,\r\n    subNodos: Array,\r\n  },\r\n  data() {\r\n    return {\r\n      mostrarMovimientosDinero: true,\r\n      creandoNuevoMovimiento: false,\r\n      mostrarMovimientosArbol:true,\r\n\r\n      mostrarEventos: true,\r\n      creandoNuevoEvento: false,\r\n      mostrarEventosArbol:true,\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    crearNuevoItemMovimientoDinero() {\r\n      this.creandoNuevoMovimiento = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!) {\r\n              crearNuevoMovimientoDineroNodoSolidaridad(idNodo: $idNodo) {\r\n                ...fragMovimientoDineroNodoSolidaridad\r\n              }\r\n            }\r\n            ${fragmentoMovimientoDineroNodoSolidaridad}\r\n          `,\r\n          variables: {\r\n            idNodo: this.$route.params.id,\r\n          },\r\n        })\r\n        .then(({ data: { crearNuevoMovimientoDineroNodoSolidaridad } }) => {\r\n          const store = this.$apollo.provider.defaultClient;\r\n          const cache = store.readQuery({\r\n            query: QUERY_ESTE_NODO,\r\n            variables: {\r\n              idNodo: this.idNodo\r\n            },\r\n          });\r\n\r\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n          var movimientosDinero = nuevoCache.nodoSolidaridad.movimientosDinero;\r\n\r\n          const indexN = movimientosDinero.findIndex(\r\n            (mv) => mv.id === crearNuevoMovimientoDineroNodoSolidaridad.id\r\n          );\r\n          if (indexN === -1) {\r\n            movimientosDinero.push(crearNuevoMovimientoDineroNodoSolidaridad);\r\n            store.writeQuery({\r\n              query: QUERY_ESTE_NODO,\r\n              variables: {\r\n                idNodo: this.idNodo\r\n              },\r\n              data: nuevoCache,\r\n            });\r\n          }\r\n          this.creandoNuevoMovimiento = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.creandoNuevoMovimiento = false;\r\n        });\r\n    },\r\n    crearNuevoItemEvento() {\r\n      this.creandoNuevoEvento = true;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!) {\r\n              crearNuevoEventoNodoSolidaridad(idNodo: $idNodo) {\r\n                ...fragEventoNodoSolidaridad\r\n              }\r\n            }\r\n            ${fragmentoEventoNodoSolidaridad}\r\n          `,\r\n          variables: {\r\n            idNodo: this.$route.params.id,\r\n          },\r\n        })\r\n        .then(({ data: { crearNuevoEventoNodoSolidaridad } }) => {\r\n          const store = this.$apollo.provider.defaultClient;\r\n          const cache = store.readQuery({\r\n            query: QUERY_ESTE_NODO,\r\n            variables: {\r\n              idNodo: this.idNodo\r\n            },\r\n          });\r\n\r\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n          var eventos = nuevoCache.nodoSolidaridad.eventos;\r\n\r\n          const indexN = eventos.findIndex(\r\n            (ev) => ev.id === crearNuevoEventoNodoSolidaridad.id\r\n          );\r\n          if (indexN === -1) {\r\n            eventos.push(crearNuevoEventoNodoSolidaridad);\r\n            store.writeQuery({\r\n              query: QUERY_ESTE_NODO,\r\n              variables: {\r\n                idNodo: this.idNodo\r\n              },\r\n              data: nuevoCache,\r\n            });\r\n          }\r\n          this.creandoNuevoEvento = false;\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.creandoNuevoEvento = false;\r\n        });\r\n    },\r\n    eliminarMovimientoCache(idMovimientoEliminado){\r\n      console.log(`Eliminando mov de cache`);\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_ESTE_NODO,\r\n        variables: {\r\n          idNodo: this.idNodo,\r\n        },\r\n      });\r\n\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var movimientosDinero = nuevoCache.nodoSolidaridad.movimientosDinero;\r\n\r\n      const indexN = movimientosDinero.findIndex(\r\n        (md) => md.id === idMovimientoEliminado\r\n      );\r\n      if (indexN > -1) {\r\n        movimientosDinero.splice(indexN, 1);\r\n        store.writeQuery({\r\n          query: QUERY_ESTE_NODO,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n          },\r\n          data: nuevoCache,\r\n        });\r\n      }\r\n      \r\n    },\r\n    eliminarEventoCache(idEventoEliminado){\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_ESTE_NODO,\r\n        variables: {\r\n          idNodo: this.idNodo,\r\n        },\r\n      });\r\n\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var eventos = nuevoCache.nodoSolidaridad.eventos;\r\n\r\n      const indexN = eventos.findIndex(\r\n        (e) => e.id === idEventoEliminado\r\n      );\r\n      if (indexN > -1) {\r\n        eventos.splice(indexN, 1);\r\n        store.writeQuery({\r\n          query: QUERY_ESTE_NODO,\r\n          variables: {\r\n            idNodo: this.idNodo,\r\n          },\r\n          data: nuevoCache,\r\n        });\r\n      }\r\n      \r\n    }\r\n  },\r\n  computed: {\r\n    items() {\r\n      var items = [];\r\n      if (this.mostrarMovimientosDinero) {\r\n        items = items.concat(this.movimientos);\r\n        if(this.mostrarMovimientosArbol){\r\n          items=items.concat(this.movimientosDineroSubnodos);\r\n        }\r\n      }\r\n      if (this.mostrarEventos) {\r\n        items = items.concat(this.eventos);\r\n        if(this.mostrarEventosArbol){\r\n          items=items.concat(this.eventosSubnodos);\r\n        }\r\n      }\r\n      items.sort((a, b) => Date.parse(a.fecha) - Date.parse(b.fecha));\r\n      return items;\r\n    },\r\n    movimientosDineroSubnodos() {\r\n      var todosMovimientos = [];\r\n      this.subNodos.forEach((subnodo) => {\r\n        todosMovimientos.push(\r\n          ...subnodo.movimientosDinero.map((md) => {\r\n            return {\r\n              ...md,\r\n              nodoOwner: {\r\n                id: subnodo.id,\r\n                nombre: subnodo.nombre,\r\n                tipoNodo: subnodo.tipoNodo,\r\n              },\r\n            };\r\n          })\r\n        );\r\n      });\r\n\r\n      return todosMovimientos;\r\n    },\r\n    eventosSubnodos() {\r\n      var todosEventos = [];\r\n      this.subNodos.forEach((subnodo) => {\r\n        todosEventos.push(\r\n          ...subnodo.eventos.map((ev) => {\r\n            return {\r\n              ...ev,\r\n              nodoOwner: {\r\n                id: subnodo.id,\r\n                nombre: subnodo.nombre,\r\n                tipoNodo: subnodo.tipoNodo,\r\n              },\r\n            };\r\n          })\r\n        );\r\n      });\r\n\r\n      return todosEventos;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#barraSuperior {\r\n  display: flex;\r\n  margin-bottom: 25px;\r\n}\r\n.botonBarraSuperior {\r\n  margin: 0px 10px;\r\n  width: 15px;\r\n  height: 15px;\r\n  cursor: pointer;\r\n  opacity: 0.7;\r\n}\r\n.botonBarraSuperior:hover {\r\n  opacity: 1;\r\n}\r\n.botonBarraSuperior img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#contenedorBotonesCrear {\r\n  margin-left: auto;\r\n}\r\n.bloqueCrearItems {\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  padding-right: 1vw;\r\n}\r\n\r\n.bloqueCrearItems .boton {\r\n  margin: 0px 5px;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablaAdministracion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablaAdministracion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TablaAdministracion.vue?vue&type=template&id=62695480&scoped=true&\"\nimport script from \"./TablaAdministracion.vue?vue&type=script&lang=js&\"\nexport * from \"./TablaAdministracion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TablaAdministracion.vue?vue&type=style&index=0&id=62695480&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62695480\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buscadorPersonas\"},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.textoBuscar),expression:\"textoBuscar\"},{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoInput),expression:\"mostrandoInput\"}],ref:\"inputBuscar\",attrs:{\"type\":\"text\",\"name\":\"\",\"id\":\"inputBuscar\"},domProps:{\"value\":(_vm.textoBuscar)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.buscar($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.textoBuscar=$event.target.value}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mostrandoInput),expression:\"!mostrandoInput\"}],staticStyle:{\"height\":\"15px\"},attrs:{\"src\":require(\"@/assets/iconos/search.svg\"),\"alt\":\"Lupa\"},on:{\"click\":function($event){_vm.mostrandoInput=true}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoInput),expression:\"mostrandoInput\"}],staticStyle:{\"height\":\"15px\"},attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Equis\"},on:{\"click\":_vm.cerrarBusqueda}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.buscando),expression:\"buscando\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.resultados.length>0),expression:\"resultados.length>0\"}],attrs:{\"id\":\"zonaResultados\"}},[_vm._l((_vm.resultados),function(resultado){return _c('div',{key:resultado.id,staticClass:\"personaResultado\",on:{\"click\":function($event){return _vm.$emit('clickEnResultado', resultado.id)}}},[_c('div',{staticClass:\"nombreResultado\"},[_vm._v(\" \"+_vm._s(resultado.nombres+' ')+\" \")]),_c('div',{staticClass:\"apellidoResultado\"},[_vm._v(\" \"+_vm._s(resultado.apellidos)+\" \")])])}),_c('div',{staticClass:\"contenedorControles\"},[_vm._t(\"default\")],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"buscadorPersonas\">\r\n      <div id=\"barraSuperior\">\r\n          <input type=\"text\" name=\"\" id=\"inputBuscar\" ref=\"inputBuscar\" @keypress.enter=\"buscar\" v-model=\"textoBuscar\" v-show=\"mostrandoInput\">\r\n          <img src=\"@/assets/iconos/search.svg\" style=\"height: 15px\" alt=\"Lupa\" @click=\"mostrandoInput=true\" v-show=\"!mostrandoInput\">\r\n          <img src=\"@/assets/iconos/equis.svg\" style=\"height: 15px\" alt=\"Equis\" @click=\"cerrarBusqueda\" v-show=\"mostrandoInput\">\r\n        <loading texto=\"\" v-show=\"buscando\" />\r\n\r\n      </div>\r\n      <div id=\"zonaResultados\" v-show=\"resultados.length>0\">\r\n          <div class=\"personaResultado\" v-for=\"resultado of resultados\" :key=\"resultado.id\" @click=\"$emit('clickEnResultado', resultado.id)\">\r\n              <div class=\"nombreResultado\">\r\n                  {{resultado.nombres+' '}}\r\n              </div>\r\n              <div class=\"apellidoResultado\">\r\n                  {{resultado.apellidos}}\r\n              </div>\r\n          </div>\r\n          <div class=\"contenedorControles\">\r\n              <slot>\r\n              </slot>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from 'graphql-tag';\r\nimport Loading from '../utilidades/Loading.vue';\r\nexport default {\r\n  components: { Loading },\r\n    name: \"BuscadorPersonas\",\r\n    data(){\r\n        return {\r\n            buscando:false,\r\n            mostrandoInput:false,\r\n            textoBuscar:null,\r\n            resultados:[],\r\n        }\r\n    },\r\n    methods:{\r\n        cerrarBusqueda(){\r\n            this.textoBuscar=null;\r\n            this.mostrandoInput=false;\r\n            this.buscando=false;\r\n            this.resultados=[];\r\n        },\r\n        clickEnLupa(){\r\n            if(this.mostrandoInput){\r\n                this.buscar();\r\n                return;\r\n            }\r\n            this.mostrandoInput=true;\r\n        },\r\n        buscar(){\r\n            var textoBuscar=this.$refs.inputBuscar.value;\r\n            textoBuscar=textoBuscar.trim();\r\n            this.buscando=true;\r\n            this.$apollo.query({\r\n                query: gql`\r\n                    query($textoBuscar:String!){\r\n                        buscarPersonas(textoBuscar:$textoBuscar){\r\n                            id\r\n                            nombres\r\n                            apellidos\r\n                            permisos\r\n                        }\r\n                    }\r\n                `,\r\n                variables:{\r\n                    textoBuscar,\r\n                }\r\n            }).then(({data:{buscarPersonas}})=>{\r\n                this.buscando=false;\r\n                this.resultados=buscarPersonas\r\n            }).catch((error)=>{\r\n                this.buscando=false;\r\n                console.log(`Error: ${error}`);\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#barraSuperior{\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n#inputBuscar{\r\n    width: 160px;\r\n    margin-right: 10px;\r\n}\r\n.personaResultado{\r\n    display: flex;\r\n    padding: 15px;\r\n    cursor: pointer;\r\n    align-items: center;\r\n    font-size: 12px;\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorPersonas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorPersonas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuscadorPersonas.vue?vue&type=template&id=32461f8c&scoped=true&\"\nimport script from \"./BuscadorPersonas.vue?vue&type=script&lang=js&\"\nexport * from \"./BuscadorPersonas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuscadorPersonas.vue?vue&type=style&index=0&id=32461f8c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32461f8c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"homeNodo\" :key=\"$route.params.id\">\r\n    \r\n    <loading v-show=\"$apollo.queries.esteNodo.loading\" />\r\n    <div id=\"barraSuperior\" v-show=\"!$apollo.queries.esteNodo.loading\">\r\n      <a\r\n        :href=\"clienteUrl + '/#/homeNodoSolidaridad/' + esteNodo.nodoParent\"\r\n        v-if=\"esteNodo.nodoParent\"\r\n      >\r\n        <img\r\n          src=\"@/assets/iconos/doubleUp.svg\"\r\n          alt=\"Up\"\r\n          title=\"Navegar al nodo parent\"\r\n          id=\"botonIrNodoParent\"\r\n          class=\"boton\"\r\n        />\r\n      </a>\r\n      <div id=\"zonaTituloNodo\">\r\n        <svg\r\n          aria-hidden=\"true\"\r\n          focusable=\"false\"\r\n          data-prefix=\"fas\"\r\n          data-icon=\"cog\"\r\n          class=\"svg-inline--fa fa-cog fa-w-16 iconoNodo\"\r\n          v-if=\"esteNodo.tipoNodo === 'trabajo'\"\r\n          role=\"img\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 512 512\"\r\n        >\r\n          <path\r\n            :fill=\"colorIcono\"\r\n            d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"\r\n          ></path>\r\n        </svg>\r\n        <svg\r\n          aria-hidden=\"true\"\r\n          focusable=\"false\"\r\n          data-prefix=\"fas\"\r\n          data-icon=\"star\"\r\n          class=\"svg-inline--fa fa-star fa-w-18 iconoNodo\"\r\n          v-if=\"esteNodo.tipoNodo === 'objetivo'\"\r\n          role=\"img\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 576 512\"\r\n        >\r\n          <path\r\n            :fill=\"colorIcono\"\r\n            d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\r\n          ></path>\r\n        </svg>\r\n        <div id=\"titulo\" v-show=\"!editandoNombre\" @click=\"toggleEditandoNombre\">\r\n          {{ esteNodo.nombre }}\r\n        </div>\r\n        <input\r\n          @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n          ref=\"inputNuevoNombre\"\r\n          v-model=\"nuevoNombre\"\r\n          style=\"width: 250px\"\r\n          @blur=\"editandoNombre = false\"\r\n          @keydown=\"keydownInputNuevoNombre\"\r\n          v-show=\"editandoNombre\"\r\n          type=\"text\"\r\n          class=\"inputNombreCosa\"\r\n          id=\"inputNuevoNombre\"\r\n        />\r\n      </div>\r\n      <div id=\"zonaControlesNodo\">\r\n        <div\r\n          id=\"zonaPorcentajeCompletado\"\r\n          class=\"bloqueControlNodo\"\r\n          :title=\"\r\n            usuarioResponsable\r\n              ? 'Definir progreso del nodo'\r\n              : 'Progreso del nodo'\r\n          \"\r\n        >\r\n          <div id=\"porcentajeCompletado\"></div>\r\n          <img\r\n            src=\"@/assets/iconos/relojArena.svg\"\r\n            alt=\"Progreso\"\r\n            class=\"boton botonControlNodo\"\r\n          />\r\n        </div>\r\n        <div\r\n          id=\"zonaTiempoEstimado\"\r\n          class=\"bloqueControlNodo\"\r\n          :title=\"\r\n            usuarioResponsable\r\n              ? 'Definir tiempo estimado para completar este nodo'\r\n              : 'Tiempo estimado para completar este nodo'\r\n          \"\r\n        >\r\n          <div id=\"tiempoEstimado\"></div>\r\n          <img\r\n            src=\"@/assets/iconos/calendar.svg\"\r\n            alt=\"Calendario\"\r\n            class=\"boton botonControlNodo\"\r\n          />\r\n        </div>\r\n        <div id=\"bloqueMarcarNodoCompletado\" class=\"bloqueControlNodo\">\r\n          <img\r\n            src=\"@/assets/iconos/check.svg\"\r\n            alt=\"Check\"\r\n            :title=\"\r\n              esteNodo.estadoDesarrollo === 'completado'\r\n                ? 'Desmarcar este nodo como completado'\r\n                : 'Marcar este nodo como completado'\r\n            \"\r\n            class=\"boton botonControlNodo\"\r\n            id=\"botonMarcarNodoCompletado\"\r\n            @click=\"toggleEstadoNodo\"\r\n            v-show=\"!togglingEstado\"\r\n            :style=\"{\r\n              filter:\r\n                esteNodo.estadoDesarrollo === 'completado'\r\n                  ? 'var(--atlasFilterVerde)'\r\n                  : '',\r\n            }\"\r\n          />\r\n        </div>\r\n\r\n        <loading texto=\"\" v-show=\"togglingEstado\" />\r\n      </div>\r\n    </div>\r\n    <div id=\"contenidoNodo\" v-show=\"!$apollo.queries.esteNodo.loading\">\r\n      <div id=\"primeraRow\">\r\n        <div class=\"bloqueContenido\" id=\"bloqueInformacion\">\r\n          <div class=\"barraSuperiorGeneral\">\r\n            <div\r\n              class=\"boton botonBarraSuperiorGeneral botonSelectorContenidoNodo\"\r\n              :class=\"{\r\n                deshabilitado:\r\n                  (!esteNodo.descripcion ||\r\n                    esteNodo.descripcion.length < 1 ||\r\n                    esteNodo.descripcion === 'Sin descripcion' ||\r\n                    esteNodo.descripcion === 'Sin descripción') &&\r\n                  !usuarioAdministrador,\r\n              }\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'descripcion' ? 'white' : 'black',\r\n              }\"\r\n              @click=\"mostrando = 'descripcion'\"\r\n              :title=\"mostrando === 'descripcion' ? '' : 'Mostrar descripción'\"\r\n            >\r\n              <img src=\"@/assets/iconos/info.svg\" alt=\"Descripción\" />\r\n            </div>\r\n            <div\r\n              class=\"boton botonBarraSuperiorGeneral botonSelectorContenidoNodo\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'responsables' ? 'white' : 'black',\r\n              }\"\r\n              @click=\"mostrando = 'responsables'\"\r\n              :title=\"\r\n                mostrando === 'responsables'\r\n                  ? ''\r\n                  : 'Mostrar responsables del nodo'\r\n              \"\r\n            >\r\n              <img src=\"@/assets/iconos/user.svg\" alt=\"Responsables\" />\r\n            </div>\r\n            <div\r\n              class=\"boton botonBarraSuperiorGeneral botonSelectorContenidoNodo\"\r\n              @click=\"mostrando = 'keywords'\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'keywords' ? 'white' : 'black',\r\n              }\"\r\n              :class=\"{\r\n                deshabilitado:\r\n                  (!esteNodo.keywords || esteNodo.keywords.length < 1) &&\r\n                  !usuarioAdministrador,\r\n              }\"\r\n              :title=\"mostrando === 'keywords' ? '' : 'Mostrar palabras clave'\"\r\n            >\r\n              <img src=\"@/assets/iconos/tag.svg\" alt=\"Keywords\" />\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"zonaDescripcion\"\r\n            class=\"zonaInformacion\"\r\n            v-show=\"mostrando === 'descripcion'\"\r\n          >\r\n            <div\r\n              id=\"descripcion\"\r\n              class=\"contenidoTexto\"\r\n              ref=\"descripcion\"\r\n              v-show=\"!editandoDescripcion\"\r\n              @click=\"toggleEditandoDescripcion\"\r\n            >\r\n              {{ esteNodo.descripcion }}\r\n            </div>\r\n\r\n            <textarea\r\n              id=\"inputNuevoDescripcion\"\r\n              class=\"inputTextoNodo\"\r\n              ref=\"inputNuevoDescripcion\"\r\n              :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n              v-model=\"nuevoDescripcion\"\r\n              v-show=\"editandoDescripcion\"\r\n            />\r\n            <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\r\n              <img\r\n                src=\"@/assets/iconos/save.svg\"\r\n                class=\"boton botonGuardarCampo\"\r\n                alt=\"Guardar\"\r\n                title=\"Guardar descripción\"\r\n                id=\"botonGuardarDescripcion\"\r\n                @click=\"guardarNuevoDescripcion\"\r\n              />\r\n              <img\r\n                src=\"@/assets/iconos/equis.svg\"\r\n                class=\"boton botonGuardarCampo\"\r\n                alt=\"Cancelar\"\r\n                title=\"Cancelar edición\"\r\n                id=\"botonCancelarEdicionDescripcion\"\r\n                @click=\"editandoDescripcion = false\"\r\n              />\r\n            </div>\r\n            <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n          </div>\r\n\r\n          <div\r\n            id=\"zonaKeywords\"\r\n            class=\"zonaInformacion\"\r\n            v-show=\"mostrando === 'keywords'\"\r\n          >\r\n            <div\r\n              id=\"keywords\"\r\n              class=\"contenidoTexto\"\r\n              ref=\"keywords\"\r\n              v-show=\"!editandoKeywords\"\r\n              @click=\"toggleEditandoKeywords\"\r\n            >\r\n              {{ esteNodo.keywords }}\r\n            </div>\r\n\r\n            <textarea\r\n              id=\"inputNuevoKeywords\"\r\n              ref=\"inputNuevoKeywords\"\r\n              class=\"inputTextoNodo\"\r\n              :class=\"{ letrasRojas: nuevoKeywordsIlegal }\"\r\n              v-model=\"nuevoKeywords\"\r\n              v-show=\"editandoKeywords\"\r\n              @keydown.esc.stop=\"editandoKeywords = false\"\r\n              @keydown.enter.prevent.stop=\"guardarNuevoKeywords\"\r\n            />\r\n            <div class=\"contenedorBotonesCampo\" v-show=\"editandoKeywords\">\r\n              <img\r\n                src=\"@/assets/iconos/save.svg\"\r\n                class=\"boton botonGuardarCampo\"\r\n                alt=\"Guardar\"\r\n                title=\"Guardar palabras clave\"\r\n                id=\"botonGuardarKeywords\"\r\n                @click=\"guardarNuevoKeywords\"\r\n              />\r\n              <img\r\n                src=\"@/assets/iconos/equis.svg\"\r\n                class=\"boton botonGuardarCampo\"\r\n                alt=\"Cancelar\"\r\n                title=\"Cancelar edición\"\r\n                id=\"botonCancelarEdicionKeywords\"\r\n                @click=\"editandoKeywords = false\"\r\n              />\r\n            </div>\r\n            <loading v-show=\"enviandoNuevoKeywords\" texto=\"Enviando...\" />\r\n          </div>\r\n\r\n          <div\r\n            id=\"zonaResponsables\"\r\n            class=\"zonaInformacion\"\r\n            v-show=\"mostrando === 'responsables'\"\r\n          >            \r\n            <div\r\n              class=\"contenedorBotonesZona\"\r\n              id=\"contenedorBotonesResponsables\"\r\n            >\r\n              <img\r\n                src=\"@/assets/iconos/mas.svg\"\r\n                alt=\"Entrar\"\r\n                :title=\"\r\n                  esteNodo.responsables.length < 1 || usuarioParent\r\n                    ? 'Asumir'\r\n                    : 'Solicitar participación'\r\n                \"\r\n                id=\"botonEntrarResponsables\"\r\n                class=\"boton botonControlZona botonControlResponsables\"\r\n                :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n                v-show=\"!usuarioResponsable && !usuarioPosibleResponsable && !idResponsableSeleccionado\"\r\n                @click.stop=\"entrarResponsables\"\r\n              />\r\n              <img\r\n                src=\"@/assets/iconos/minus.svg\"\r\n                alt=\"Salir\"\r\n                title=\"Abandonar\"\r\n                id=\"botonAbandonarResponsables\"\r\n                class=\"boton botonControlZona botonControlResponsables\"\r\n                :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n                v-show=\"\r\n                  (usuarioResponsable || usuarioPosibleResponsable) &&\r\n                  (!idResponsableSeleccionado ||\r\n                    idResponsableSeleccionado === usuario.id)\r\n                \"\r\n                @click.stop=\"abandonarListaResponsables\"\r\n              />\r\n              <img\r\n                src=\"@/assets/iconos/minus.svg\"\r\n                alt=\"Sacar\"\r\n                title=\"Retirar usuario\"\r\n                id=\"botonRetirarUsuarioFromResponsables\"\r\n                class=\"boton botonControlZona botonControlResponsables\"\r\n                :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n                v-show=\"idResponsableSeleccionado && (usuarioSuperadministrador || usuarioParent)\"\r\n                @click.stop=\"retirarUsuarioFromListaResponsables(idResponsableSeleccionado)\"\r\n              />\r\n              <img\r\n                src=\"@/assets/iconos/handshake.svg\"\r\n                alt=\"Aceptar\"\r\n                title=\"Aceptar como responsable\"\r\n                id=\"botonAceptarResponsables\"\r\n                class=\"boton botonControlZona botonControlResponsables\"\r\n                :class=\"{ deshabilitado: enviandoQueryResponsables }\"\r\n                v-show=\"\r\n                  usuarioResponsableAmplio &&\r\n                  idResponsableSeleccionado &&\r\n                  !esteNodo.responsables.includes(idResponsableSeleccionado)\r\n                \"\r\n                @click=\"aceptarResponsable(idResponsableSeleccionado)\"\r\n              />\r\n\r\n              <loading texto=\"\" v-show=\"enviandoQueryResponsables\" />\r\n            </div>\r\n            <div\r\n              id=\"listaResponsables\"\r\n              @click.stop=\"idResponsableSeleccionado = null\"\r\n            >\r\n              <icono-persona-autonomo\r\n                v-for=\"idResponsable of esteNodo.responsables.concat(\r\n                  esteNodo.posiblesResponsables\r\n                )\"\r\n                :style=\"{\r\n                  opacity: esteNodo.posiblesResponsables.includes(idResponsable)\r\n                    ? 0.5\r\n                    : 1,\r\n                }\"\r\n                :key=\"idResponsable\"\r\n                :idPersona=\"idResponsable\"\r\n                :seleccionado=\"idResponsableSeleccionado == idResponsable\"\r\n                :factorEscala=\"'0.7'\"\r\n                @click.native.stop=\"idResponsableSeleccionado = idResponsable\"\r\n              />\r\n\r\n              <buscador-personas v-show=\"(usuarioParent && usuarioProfe) || usuarioSuperadministrador\" @clickEnResultado=\"addResponsableManually($event)\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"bloqueContenido\"\r\n          id=\"bloqueSubNodos\"\r\n          @mouseleave=\"mostrandoOpcionesCrearSubNodo = false\"\r\n        >\r\n          <div class=\"barraSuperiorGeneral\">\r\n            <div class=\"tituloBloque\">Nodos</div>\r\n            <div class=\"controlesBloque\" id=\"controlesRecursosExternos\">\r\n              <div\r\n                class=\"boton botonBarraSuperiorGeneral\"\r\n                @click=\"mostrandoOpcionesCrearSubNodo = true\"\r\n                v-show=\"\r\n                  !mostrandoOpcionesCrearSubNodo && usuarioResponsableAmplio\r\n                \"\r\n              >\r\n                <img\r\n                  src=\"@/assets/iconos/plusCircle.svg\"\r\n                  alt=\"Nuevo\"\r\n                  title=\"Crear nuevo nodo\"\r\n                  :class=\"{ deshabilitado: creandoSubNodo }\"\r\n                />\r\n                <loading texto=\"\" v-show=\"creandoSubNodo\" />\r\n              </div>\r\n              <div\r\n                id=\"contenedorOpcionesCrear\"\r\n                v-show=\"mostrandoOpcionesCrearSubNodo\"\r\n                :class=\"{ deshabilitado: creandoSubNodo }\"\r\n              >\r\n                <img\r\n                  src=\"@/assets/iconos/starSolid.svg\"\r\n                  alt=\"Objetivo\"\r\n                  title=\"Crear nuevo objetivo\"\r\n                  class=\"boton botonBarraSuperiorGeneral opcionCrear\"\r\n                  v-show=\"esteNodo.tipoNodo === 'objetivo'\"\r\n                  @click=\"\r\n                    crearNuevoNodoUnder({ tipoNodo: 'objetivo' }, esteNodo.id)\r\n                  \"\r\n                />\r\n                <img\r\n                  src=\"@/assets/iconos/cog.svg\"\r\n                  alt=\"Trabajo\"\r\n                  title=\"Crear nuevo trabajo\"\r\n                  class=\"boton botonBarraSuperiorGeneral opcionCrear\"\r\n                  @click=\"\r\n                    crearNuevoNodoUnder({ tipoNodo: 'trabajo' }, esteNodo.id)\r\n                  \"\r\n                />\r\n                <loading texto=\"\" v-show=\"creandoSubNodo\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ventana-lista\r\n            ref=\"ventanaLista\"\r\n            :idNodoRoot=\"$route.params.id\"\r\n            tipoNodoRoot=\"nodoSolidaridad\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"bloqueContenido\" id=\"bloqueRecursosExternos\">\r\n          <div class=\"barraSuperiorGeneral\">\r\n            <div class=\"tituloBloque\">Recursos externos</div>\r\n            <div class=\"controlesBloque\" id=\"controlesRecursosExternos\">\r\n              <div\r\n                class=\"boton botonBarraSuperiorGeneral\"\r\n                :class=\"{ deshabilitado: creandoRecursoExterno }\"\r\n                v-show=\"!creandoRecursoExterno\"\r\n              >\r\n                <img\r\n                  src=\"@/assets/iconos/plusCircle.svg\"\r\n                  alt=\"Nuevo\"\r\n                  title=\"Crear nuevo recurso externo\"\r\n                  v-show=\"usuarioResponsableAmplio\"\r\n                  @click=\"crearNuevoRecursoExterno\"\r\n                />\r\n              </div>\r\n              <loading texto=\"\" v-show=\"creandoRecursoExterno\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"listaRecursosExternos\">\r\n            <recurso-externo-nodo\r\n              v-for=\"recurso of esteNodo.recursosExternos\"\r\n              :key=\"recurso.id\"\r\n              :esteRecurso=\"recurso\"\r\n              :seleccionado=\"idRecursoExternoSeleccionado === recurso.id\"\r\n              :usuarioResponsableAmplio=\"usuarioResponsableAmplio\"\r\n              :idNodo=\"esteNodo.id\"\r\n              @click=\"idRecursoExternoSeleccionado = recurso.id\"\r\n              @meElimine=\"eliminarRecursoExternoCache(recurso.id)\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bloqueContenido\" id=\"bloqueDatos\">\r\n        <div id=\"barraLateralDatos\">\r\n          <div class=\"barraSuperiorGeneral\">\r\n            <div class=\"tituloBloque\">Datos</div>\r\n            <div class=\"controlesBloque\" id=\"controlesRecursosExternos\">\r\n              <div class=\"botonBarraSuperiorGeneral\">\r\n                <img\r\n                  src=\"@/assets/iconos/plusCircle.svg\"\r\n                  alt=\"Nuevo\"\r\n                  title=\"Crear nuevo dato\"\r\n                  v-show=\"false\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"listaDatos\"\r\n            @click=\"\r\n              idDatoSeleccionado = null;\r\n              datoSeleccionado = null;\r\n            \"\r\n          >\r\n            <div\r\n              class=\"selectorDato\"\r\n              :class=\"{ seleccionado: idDatoSeleccionado === 'administracion' }\"\r\n              @click.stop=\"idDatoSeleccionado = 'administracion'\"\r\n            >\r\n              <div class=\"nombreDato\">Administración</div>\r\n            </div>\r\n            <div\r\n              class=\"selectorDato\"\r\n              v-for=\"dato of esteNodo.datos\"\r\n              :key=\"dato.id\"\r\n              :class=\"{ seleccionado: idDatoSeleccionado === dato.id }\"\r\n              @click.stop=\"\r\n                idDatoSeleccionado = dato.id;\r\n                datoSeleccionado = dato;\r\n              \"\r\n            >\r\n              <div class=\"nombreDato\">{{ dato.nombre }}</div>\r\n              <div class=\"controlesDato\">\r\n                <img\r\n                  src=\"@/assets/iconos/trash.svg\"\r\n                  alt=\"Eliminar\"\r\n                  title=\"Eliminar dato\"\r\n                  class=\"botonControlElementoLista\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"zonaDetallesDato\">\r\n          <div class=\"barraSuperiorGeneral\">\r\n            <img\r\n              src=\"@/assets/iconos/chart.svg\"\r\n              alt=\"Grafica\"\r\n              title=\"Ver gráfica\"\r\n              class=\"botonBarraSuperiorGeneral\"\r\n              @click=\"datoVer = 'grafica'\"\r\n              :class=\"{ deshabilitado: datoVer === 'grafica' }\"\r\n            />\r\n            <img\r\n              src=\"@/assets/iconos/thList.svg\"\r\n              alt=\"Tabla\"\r\n              title=\"Ver tabla\"\r\n              class=\"botonBarraSuperiorGeneral\"\r\n              @click=\"datoVer = 'tabla'\"\r\n              :class=\"{ deshabilitado: datoVer === 'tabla' }\"\r\n            />\r\n          </div>\r\n          <div id=\"graficaDatoSeleccionado\"></div>\r\n          <div\r\n            id=\"tablaDatoSeleccionado\"\r\n            v-show=\"datoVer === 'tabla'\"\r\n            v-if=\"idDatoSeleccionado && idDatoSeleccionado != 'administracion'\"\r\n          >\r\n            <div id=\"controlesTablaDatos\" class=\"controlesBloque\">\r\n              <div class=\"botonBarraSuperiorGeneral\">\r\n                <img\r\n                  src=\"@/assets/iconos/plusCircle.svg\"\r\n                  alt=\"Nuevo\"\r\n                  :title=\"'Crear nuevo item'\"\r\n                  @click.stop=\"crearNuevoItemDato\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <tabla-dato\r\n              :esteDato=\"datoSeleccionado\"\r\n              :key=\"'tablaDe' + datoSeleccionado.id\"\r\n            />\r\n          </div>\r\n          <tabla-administracion\r\n            :eventos=\"esteNodo.eventos\"\r\n            :movimientos=\"esteNodo.movimientosDinero\"\r\n            :idNodo=\"esteNodo.id\"\r\n            :usuarioResponsableAmplioNodo=\"usuarioResponsableAmplio\"\r\n            :subNodos=\"subNodos\"\r\n            v-show=\"\r\n              datoVer === 'tabla' && idDatoSeleccionado === 'administracion'\r\n            \"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <router-view />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ventanaLista from \"../ventanaLista/ventanaLista.vue\";\r\nimport Loading from \"../../utilidades/Loading.vue\";\r\nimport IconoPersonaAutonomo from \"../../usuario/IconoPersonaAutonomo.vue\";\r\nimport RecursoExternoNodo from \"./RecursoExternoNodo.vue\";\r\nimport { fragmentoNodoSolidaridad, fragmentoRecursoExterno } from \"../frags\";\r\nimport gql from \"graphql-tag\";\r\nimport debounce from \"debounce\";\r\nimport {\r\n  MixinEdicionNodoSolidaridad,\r\n  MixinEdicionVinculosNodoSolidaridad,\r\n  MixinPermisosUsuarioNodoSolidaridad,\r\n  MixinVisualesNodosSolidaridad,\r\n} from \"../ConfiguracionNodoSolidaridad\";\r\nimport TablaDato from \"./TablaDato.vue\";\r\nimport TablaAdministracion from \"./tablaAdministracion/TablaAdministracion.vue\";\r\nimport BuscadorPersonas from '../../usuario/BuscadorPersonas.vue';\r\n\r\nconst configuracionDatos = {\r\n  gastos: {\r\n    campos: [\r\n      \"Fecha\",\r\n      \"Artículo\",\r\n      \"Unidad\",\r\n      \"Gasto unitario\",\r\n      \"Cantidad\",\r\n      \"Gasto total\",\r\n      \"Información\",\r\n    ],\r\n  },\r\n};\r\n\r\nexport const QUERY_ESTE_NODO = gql`\r\n  query ($idNodo: ID!) {\r\n    nodoSolidaridad(idNodo: $idNodo) {\r\n      ...fragNodoSolidaridad\r\n    }\r\n  }\r\n  ${fragmentoNodoSolidaridad}\r\n`;\r\nconst QUERY_NODOS_UNDER = gql`\r\n  query ($idParent: ID!) {\r\n    nodosSolidaridadUnderNodo(idParent: $idParent) {\r\n      ...fragNodoSolidaridad\r\n    }\r\n  }\r\n  ${fragmentoNodoSolidaridad}\r\n`;\r\n\r\nexport default {\r\n  name: \"HomeNodo\",\r\n  components: {\r\n    ventanaLista,\r\n    Loading,\r\n    IconoPersonaAutonomo,\r\n    RecursoExternoNodo,\r\n    TablaDato,\r\n    TablaAdministracion,\r\n    BuscadorPersonas,\r\n  },\r\n  apollo: {\r\n    esteNodo: {\r\n      query: QUERY_ESTE_NODO,\r\n      variables() {\r\n        return {\r\n          idNodo: this.$route.params.id,\r\n        };\r\n      },\r\n      update({ nodoSolidaridad }) {\r\n        return nodoSolidaridad;\r\n      },\r\n    },\r\n    subNodos: {\r\n      query: QUERY_NODOS_UNDER,\r\n      variables() {\r\n        return {\r\n          idParent: this.$route.params.id,\r\n        };\r\n      },\r\n      update({ nodosSolidaridadUnderNodo }) {\r\n        this.addIdsToNodosEverRendered(\r\n          nodosSolidaridadUnderNodo.map((ns) => ns.id)\r\n        );\r\n        return nodosSolidaridadUnderNodo;\r\n      },\r\n    },\r\n    // $subscribe: {\r\n    //   nodoFamilyEditado: {\r\n    //     query: gql`\r\n    //       subscription ($idNodoParent: ID!) {\r\n    //         nodoSolidaridadFamilyEditado(idNodoParent: $idNodoParent) {\r\n    //           ...fragNodoSolidaridad\r\n    //         }\r\n    //       }\r\n    //       ${fragmentoNodoSolidaridad}\r\n    //     `,\r\n    //     variables() {\r\n    //       return {\r\n    //         idNodoParent: this.$route.params.id,\r\n    //       };\r\n    //     },\r\n    //     result({ data: { nodoSolidaridadFamilyEditado } }) {\r\n    //       console.log(\r\n    //         `Update de nodo family ${nodoSolidaridadFamilyEditado.id}`\r\n    //       );\r\n    //       if (nodoSolidaridadFamilyEditado.id != this.$route.params.id) {\r\n    //         this.enterNodoToCacheSubnodos(nodoSolidaridadFamilyEditado);\r\n    //       }\r\n    //     },\r\n    //   },\r\n    //   nodoFamilyEliminado: {\r\n    //     query: gql`\r\n    //       subscription ($idNodoParent: ID!) {\r\n    //         nodoSolidaridadFamilyEliminado(idNodoParent: $idNodoParent)\r\n    //       }\r\n    //     `,\r\n    //     variables() {\r\n    //       return {\r\n    //         idNodoParent: this.$route.params.id,\r\n    //       };\r\n    //     },\r\n    //     result({ data: { nodoSolidaridadFamilyEliminado } }) {\r\n    //       console.log(`Update de nodo family`);\r\n    //       this.eliminarNodoCache(nodoSolidaridadFamilyEliminado);\r\n    //     },\r\n    //   },\r\n    //   nodosFamilyEliminados: {\r\n    //     query: gql`\r\n    //       subscription ($idNodoParent: ID!) {\r\n    //         nodosSolidaridadFamilyEliminados(idNodoParent: $idNodoParent)\r\n    //       }\r\n    //     `,\r\n    //     variables() {\r\n    //       return {\r\n    //         idNodoParent: this.$route.params.id,\r\n    //       };\r\n    //     },\r\n    //     result({ data: { nodosSolidaridadFamilyEliminados } }) {\r\n    //       console.log(`Retirando nodos eliminados`);\r\n    //       nodosSolidaridadFamilyEliminados.forEach((ns) => {\r\n    //         this.eliminarNodoCache(ns);\r\n    //       });\r\n    //     },\r\n    //   },\r\n    // },\r\n  },\r\n  mixins: [\r\n    MixinEdicionNodoSolidaridad,\r\n    MixinPermisosUsuarioNodoSolidaridad,\r\n    MixinEdicionVinculosNodoSolidaridad,\r\n    MixinVisualesNodosSolidaridad,\r\n  ],\r\n  data() {\r\n    return {\r\n      noSeleccionable: true,\r\n      configuracionDatos,\r\n      esteNodo: {\r\n        responsables: [],\r\n        posiblesResponsables: [],\r\n        responsablesAmplio: [],\r\n        administradores: [],\r\n        recursosExternos: [],\r\n        vinculos: [],\r\n        movimientosDinero: [],\r\n        eventos: [],\r\n      },\r\n      subNodos: [],\r\n      mostrandoOpcionesCrearSubNodo: false,\r\n      mostrando: \"responsables\",\r\n\r\n      idDatoSeleccionado: \"administracion\",\r\n      datoSeleccionado: null,\r\n      datoVer: \"tabla\",\r\n\r\n      enviandoQueryResponsables: false,\r\n\r\n      creandoSubNodo: false,\r\n\r\n      idRecursoExternoSeleccionado: null,\r\n      creandoRecursoExterno: false,\r\n\r\n      idsNodosEverRendered: [],\r\n      idsNodosEverPassedToFetchMore: [],\r\n    };\r\n  },\r\n  methods: {\r\n    crearNuevoRecursoExterno() {\r\n      this.creandoRecursoExterno = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!) {\r\n              crearRecursoExternoNodoSolidaridad(idNodo: $idNodo) {\r\n                ...fragRecursoExterno\r\n              }\r\n            }\r\n            ${fragmentoRecursoExterno}\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n          },\r\n        })\r\n        .then(({ data: { crearRecursoExternoNodoSolidaridad } }) => {\r\n          const store = this.$apollo.provider.defaultClient;\r\n          const cache = store.readQuery({\r\n            query: QUERY_ESTE_NODO,\r\n            variables: {\r\n              idNodo: this.esteNodo.id,\r\n            },\r\n          });\r\n\r\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n          var recursosExternos = nuevoCache.nodoSolidaridad.recursosExternos;\r\n\r\n          const indexN = recursosExternos.findIndex(\r\n            (re) => re.id === crearRecursoExternoNodoSolidaridad.id\r\n          );\r\n          if (indexN === -1) {\r\n            recursosExternos.push(crearRecursoExternoNodoSolidaridad);\r\n            store.writeQuery({\r\n              query: QUERY_ESTE_NODO,\r\n              variables: {\r\n                idNodo: this.esteNodo.id,\r\n              },\r\n              data: nuevoCache,\r\n            });\r\n          }\r\n          this.creandoRecursoExterno = false;\r\n        })\r\n        .catch((error) => {\r\n          this.creandoRecursoExterno = false;\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n    eliminarRecursoExternoCache(idRecursoEliminado) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_ESTE_NODO,\r\n        variables: {\r\n          idNodo: this.esteNodo.id,\r\n        },\r\n      });\r\n\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var recursosExternos = nuevoCache.nodoSolidaridad.recursosExternos;\r\n\r\n      const indexN = recursosExternos.findIndex(\r\n        (re) => re.id === idRecursoEliminado\r\n      );\r\n      if (indexN > -1) {\r\n        console.log(`Eliminando de caché`);\r\n        recursosExternos.splice(indexN, 1);\r\n        store.writeQuery({\r\n          query: QUERY_ESTE_NODO,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n          },\r\n          data: nuevoCache,\r\n        });\r\n      } else {\r\n        console.log(`El recurso externo no estaba en caché`);\r\n      }\r\n    },\r\n    enterNodoToCacheSubnodos(nodo) {\r\n      const idNodo = nodo.id;\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_NODOS_UNDER,\r\n        variables: {\r\n          idParent: this.esteNodo.id,\r\n        },\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      const indexN = nuevoCache.nodosSolidaridadUnderNodo.findIndex(\r\n        (n) => n.id == idNodo\r\n      );\r\n      if (indexN == -1) {\r\n        console.log(`Pushing nodo to cache`);\r\n        nuevoCache.nodosSolidaridadUnderNodo.push(nodo);\r\n        store.writeQuery({\r\n          query: QUERY_NODOS_UNDER,\r\n          variables: {\r\n            idParent: this.esteNodo.id,\r\n          },\r\n          data: nuevoCache,\r\n        });\r\n      } else {\r\n        console.log(`El nodo ya estaba presente`);\r\n      }\r\n    },\r\n    eliminarNodoCache(idNodo) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_NODOS_UNDER,\r\n        variables: {\r\n          idParent: this.esteNodo.id,\r\n        },\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      const indexN = nuevoCache.nodosSolidaridadUnderNodo.findIndex(\r\n        (n) => n.id == idNodo\r\n      );\r\n      if (indexN > -1) {\r\n        nuevoCache.nodosSolidaridadUnderNodo.splice(indexN, 1);\r\n        store.writeQuery({\r\n          query: QUERY_NODOS_UNDER,\r\n          variables: {\r\n            idParent: this.esteNodo.id,\r\n          },\r\n          data: nuevoCache,\r\n        });\r\n      } else {\r\n        console.log(`El nodo no estaba presente`);\r\n      }\r\n    },\r\n    addIdsToNodosEverRendered(ids) {\r\n      const idsNuevos = ids.filter(\r\n        (id) => !this.idsNodosEverRendered.includes(id)\r\n      );\r\n\r\n      this.idsNodosEverRendered = this.idsNodosEverRendered.concat(idsNuevos);\r\n    },\r\n    crearNuevoItemDato() {\r\n      if (!this.idDatoSeleccionado || !this.datoSeleccionado) {\r\n        console.log(`Error con dato seleccionado`);\r\n        return;\r\n      }\r\n    },\r\n    enterMovimientoDineroToCache(nuevoMovimientoDinero) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_ESTE_NODO,\r\n        variables: {\r\n          idNodo: this.$route.params.id,\r\n        },\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      const indexN = nuevoCache.nodoSolidaridad.movimientosDinero.indexOf(\r\n        (g) => g.id == nuevoMovimientoDinero.id\r\n      );\r\n      if (indexN === -1) {\r\n        nuevoCache.nodoSolidaridad.movimientosDinero.push(\r\n          nuevoMovimientoDinero\r\n        );\r\n        store.writeQuery({\r\n          query: QUERY_ESTE_NODO,\r\n          variables: {\r\n            idNodo: this.$route.params.id,\r\n          },\r\n          data: nuevoCache,\r\n        });\r\n      } else {\r\n        console.log(`El movimientoDinero ya estaba presente`);\r\n      }\r\n    },\r\n    afterCrearNodoUnder(nuevoNodo) {\r\n      this.$refs.ventanaLista.addNodoToNodosSolidaridad(nuevoNodo);\r\n    },\r\n    fetchChildrenNodosRendered: debounce(function () {\r\n      console.log(`Fetching nodos children ahead of despliegue`);\r\n      const nodosNeedingFetch = this.subNodos.filter((n) =>\r\n        this.idsNodosNeedingFetchMore.includes(n.id)\r\n      );\r\n      const idsChildren = nodosNeedingFetch.reduce((acc, nn) => {\r\n        return acc.concat(nn.vinculos.map((v) => v.idRef));\r\n      }, []);\r\n\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query ($idsNodos: [ID!]) {\r\n              nodosSolidaridadByIds(idsNodos: $idsNodos) {\r\n                ...fragNodoSolidaridad\r\n              }\r\n            }\r\n            ${fragmentoNodoSolidaridad}\r\n          `,\r\n          variables: {\r\n            idsNodos: idsChildren,\r\n          },\r\n        })\r\n        .then(({ data: { nodosSolidaridadByIds } }) => {\r\n          this.idsNodosEverPassedToFetchMore = arrayUnique(\r\n            this.idsNodosEverPassedToFetchMore.concat(\r\n              this.idsNodosNeedingFetchMore\r\n            )\r\n          );\r\n          const store = this.$apollo.provider.defaultClient;\r\n          const cache = store.readQuery({\r\n            query: QUERY_NODOS_UNDER,\r\n            variables: {\r\n              idParent: this.$route.params.id,\r\n            },\r\n          });\r\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n          const actualesIds = nuevoCache.nodosSolidaridadUnderNodo.map(\r\n            (ns) => ns.id\r\n          );\r\n          nuevoCache.nodosSolidaridadUnderNodo.push(\r\n            ...nodosSolidaridadByIds.filter(\r\n              (ns) => !actualesIds.includes(ns.id)\r\n            )\r\n          );\r\n          store.writeQuery({\r\n            query: QUERY_NODOS_UNDER,\r\n            variables: {\r\n              idParent: this.$route.params.id,\r\n            },\r\n            data: nuevoCache,\r\n          });\r\n        });\r\n    }, 2000),\r\n  },\r\n  computed: {\r\n    idsNodosNeedingFetchMore() {\r\n      return this.idsNodosEverRendered.filter(\r\n        (i) => !this.idsNodosEverPassedToFetchMore.includes(i)\r\n      );\r\n    },\r\n    indiceNodosUnder() {\r\n      if (!this.subNodos || this.subNodos.length < 1) return {};\r\n      var objetoFinal = {};\r\n      this.subNodos.forEach((nodo) => {\r\n        let idsVinculos = nodo.vinculos\r\n          .filter((v) => v.tipo === \"requiere\")\r\n          .map((v) => v.idRef);\r\n        let requeridos = this.subNodos\r\n          .filter((n) => idsVinculos.includes(n.id))\r\n          .sort(\r\n            (a, b) => idsVinculos.indexOf(a.id) - idsVinculos.indexOf(b.id)\r\n          );\r\n        let children = requeridos.filter((n) => n.nodoParent === nodo.id);\r\n        objetoFinal[nodo.id] = {\r\n          nodosChildren: children,\r\n          nodosRequeridos: requeridos,\r\n        };\r\n      });\r\n      return objetoFinal;\r\n    },\r\n  },\r\n  watch: {\r\n    mostrando(mostrando) {\r\n      if (mostrando != \"descripcion\") this.editandoDescripcion = false;\r\n      if (mostrando != \"keywords\") this.editandoKeywords = false;\r\n    },\r\n    idsNodosNeedingFetchMore(nuevo) {\r\n      if (nuevo.length > 0) {\r\n        this.fetchChildrenNodosRendered();\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.montado = true;\r\n    this.$el.scrollIntoView(true);\r\n  },\r\n};\r\n\r\nfunction arrayUnique(array) {\r\n  var a = array.concat();\r\n  for (var i = 0; i < a.length; ++i) {\r\n    for (var j = i + 1; j < a.length; ++j) {\r\n      if (a[i] === a[j]) a.splice(j--, 1);\r\n    }\r\n  }\r\n\r\n  return a;\r\n}\r\n</script>\r\n<style>\r\n@import \"./estiloDatos.css\";\r\n</style>\r\n\r\n<style>\r\n@import \"../estilosNodoSolidaridad.css\";\r\n</style>\r\n<style scoped>\r\n.homeNodo {\r\n  padding: 1% 5vw;\r\n  background-color: #a9d1d1;\r\n  box-sizing: border-box;\r\n  z-index: 1;\r\n}\r\n#barraSuperior {\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n  padding: 20px 0px;\r\n}\r\n#botonIrNodoParent {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 15px;\r\n}\r\n\r\n#zonaTituloNodo {\r\n  display: flex;\r\n  font-size: 24px;\r\n  font-weight: 500;\r\n}\r\n.iconoNodo {\r\n  height: 25px;\r\n  margin-right: 10px;\r\n}\r\n#zonaControlesNodo {\r\n  display: flex;\r\n  margin-left: auto;\r\n}\r\n.bloqueControlNodo {\r\n  margin: 0px 10px;\r\n  font-size: 18px;\r\n}\r\n\r\n.botonControlNodo {\r\n  height: 20px;\r\n}\r\n.barraSuperiorGeneral {\r\n  height: 30px;\r\n  padding: 20px 20px;\r\n  display: flex;\r\n}\r\n\r\n.botonBarraSuperiorGeneral:not(.botonSelectorContenidoNodo) {\r\n  height: 15px;\r\n  visibility: hidden;\r\n}\r\n\r\n.bloqueContenido:hover .botonBarraSuperiorGeneral {\r\n  visibility: visible;\r\n}\r\n.botonBarraSuperiorGeneral > img {\r\n  height: 100%;\r\n}\r\n\r\n.tituloBloque {\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n}\r\n.controlesBloque {\r\n  margin-left: auto;\r\n  display: flex;\r\n}\r\n.contenedorBotonesZona {\r\n  display: flex;\r\n  padding: 5px;\r\n}\r\n.zonaInformacion {\r\n  border: 1px solid white;\r\n  border-radius: 20px;\r\n  background-color: rgba(255, 255, 255, 0.342);\r\n  padding: 20px;\r\n  margin: 0px 10px;\r\n}\r\n\r\n.botonSelectorContenidoNodo {\r\n  margin: 0px 10px;\r\n}\r\n#inputNuevoDescripcion {\r\n  display: block;\r\n  resize: vertical;\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  background-color: transparent;\r\n}\r\n.contenedorBotonesCampo {\r\n  margin: 5px auto;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.botonGuardarCampo {\r\n  width: 15px;\r\n  margin: 0px 5px;\r\n}\r\n#listaResponsables {\r\n  margin-top: 10px;\r\n  max-height: 33vh;\r\n  overflow-y:scroll\r\n}\r\n.botonControlZona {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n#primeraRow {\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.bloqueContenido {\r\n  box-shadow: 2px 2px 4px 1px rgba(38, 38, 38, 0.38);\r\n  min-width: 100px;\r\n  min-height: 100px;\r\n}\r\n#primeraRow > .bloqueContenido {\r\n  display: grid;\r\n  grid-template-rows: 70px 1fr;\r\n}\r\n\r\n#bloqueInformacion {\r\n  box-shadow: none;\r\n  width: 24%;\r\n}\r\n#bloqueInformacion .botonBarraSuperiorGeneral {\r\n  visibility: visible;\r\n}\r\n.iconoPersonaAutonomo {\r\n  position: relative;\r\n  margin: 0px 15px;\r\n  margin-bottom: 60px;\r\n}\r\n#bloqueSubNodos {\r\n  width: 54%;\r\n  margin-left: auto;\r\n  max-height: 550px;\r\n}\r\n.opcionCrear {\r\n  margin: 0px 5px;\r\n}\r\n#bloqueRecursosExternos {\r\n  width: 19%;\r\n  margin-left: 1%;\r\n}\r\n.recursoExternoNodo {\r\n  padding: 1%;\r\n}\r\n.buscadorPersonas{\r\n  width:100%;\r\n}\r\n@media only screen and (max-width: 950px) {\r\n  .homeNodo {\r\n  }\r\n  #primeraRow {\r\n    flex-direction: column;\r\n    max-height: none;\r\n  }\r\n  #primeraRow > .bloqueContenido {\r\n    width: 100%;\r\n    margin: 0px;\r\n    margin-bottom: 50px;\r\n\r\n    max-height: none;\r\n  }\r\n\r\n  .bloqueContenido {\r\n    margin-bottom: 50px;\r\n  }\r\n  .botonControlZona {\r\n    width: 22px;\r\n    height: 22px;\r\n  }\r\n}\r\n\r\n@media (hover: none) and (pointer: coarse) {\r\n  .botonBarraSuperiorGeneral {\r\n    visibility: visible;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNodo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNodo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeNodo.vue?vue&type=template&id=12a10a98&scoped=true&\"\nimport script from \"./HomeNodo.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeNodo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeNodo.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./HomeNodo.vue?vue&type=style&index=1&lang=css&\"\nimport style2 from \"./HomeNodo.vue?vue&type=style&index=2&id=12a10a98&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12a10a98\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"forosGenerales\"},[_c('br'),_c('div',{attrs:{\"id\":\"anuncioBienvenida\"}},[_c('center',[_c('h3',[_vm._v(\" ¡Bienvenides a los foros generales! \")])]),_vm._v(\" En esta sección podemos crear conversaciones de temas generales y compartir opiniones entre todos. \")],1),_c('br'),_c('foro',{attrs:{\"idForo\":\"6091672b943ffd1da10e832a\",\"parent\":_vm.parent}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"forosGenerales\">\r\n          <br>\r\n\r\n      <div id=\"anuncioBienvenida\">\r\n          <center><h3> ¡Bienvenides a los foros generales! </h3></center>\r\n        En esta sección podemos crear conversaciones de temas generales y compartir opiniones entre todos.\r\n      </div>\r\n          <br>\r\n\r\n      <foro idForo=\"6091672b943ffd1da10e832a\" :parent=\"parent\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Foro from './Foro.vue'\r\nexport default {\r\n  components: { Foro },\r\n    name:\"ForosGenerales\",\r\n    data(){\r\n        return {\r\n            parent:{\r\n                tipo:\"forosGenerales\",\r\n                nombre:\"offTopic\",\r\n                id:\"89a7fbe0-acf8-11eb-8529-0242ac130003\"\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    #anuncioBienvenida{\r\n        border-radius: 20px;\r\n        border: 2px solid rgb(136 84 43);\r\n        padding: 15px 20px;\r\n        width: min(600px, 90%);\r\n        margin: 20px auto;\r\n        background-color: rgb(239 158 93);\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForosGenerales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForosGenerales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ForosGenerales.vue?vue&type=template&id=b2a21e52&scoped=true&\"\nimport script from \"./ForosGenerales.vue?vue&type=script&lang=js&\"\nexport * from \"./ForosGenerales.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ForosGenerales.vue?vue&type=style&index=0&id=b2a21e52&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2a21e52\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"atlasSolidaridad\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();_vm.panningVista = true},\"mouseenter\":function($event){_vm.hovered = true},\"mouseleave\":function($event){_vm.hovered = false},\"contextmenu\":function($event){if($event.target !== $event.currentTarget){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();return _vm.abrirMenuContextual($event)},\"mousemove\":_vm.panVista,\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.clickFondoAtlas($event)},\"touchmove\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.movimientoMobile($event)},\"touchstart\":_vm.iniciaMovimientoTouch,\"touchend\":_vm.finTouch}},[(_vm.usuarioSuperadministrador && _vm.usuario.username == 'juanMamian')?_c('div',{class:{ deshabilitado: _vm.callingPosiciones },style:([\n      { backgroundColor: _vm.callingPosiciones ? 'green' : 'transparent' } ]),attrs:{\"id\":\"botonCallingPosiciones\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarCallingPosiciones($event)}}}):_vm._e(),_c('transition',{attrs:{\"name\":\"fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showingZoomInfo),expression:\"showingZoomInfo\"}],attrs:{\"id\":\"infoZoom\"}},[_vm._v(\"x\"+_vm._s(_vm.factorZoom))])]),(_vm.usuario && _vm.usuario.id)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoMenuContextual),expression:\"mostrandoMenuContextual\"}],class:{ deshabilitado: _vm.enviandoQueryNodos },style:([_vm.offsetMenuContextual]),attrs:{\"id\":\"menuContextual\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"botonMenuContextual\",attrs:{\"id\":\"botonCrearObjetivo\"},on:{\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.crearNodoEnMenuContextual('objetivo')}}},[_vm._v(\" Crear objetivo \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"botonMenuContextual\",attrs:{\"id\":\"botonCrearObjetivo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNodoEnMenuContextual('trabajo')},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();}}},[_vm._v(\" Crear trabajo \")])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador && _vm.callingPosiciones),expression:\"usuarioSuperadministrador && callingPosiciones\"}],attrs:{\"id\":\"centroVista\"}},[_vm._v(\" \"+_vm._s(_vm.centroVista.x + \", \" + _vm.centroVista.y)+\" \")]),_c('div',{style:([_vm.posContenedores]),attrs:{\"id\":\"contenedorVinculosNodos\"}},_vm._l((_vm.nodosConRequerimentos),function(nodo){return _c('enlaces-nodo',{key:nodo.id,attrs:{\"yo\":_vm.yo,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"esteNodo\":nodo,\"todosNodos\":_vm.todosNodos,\"factorZoom\":_vm.factorZoom,\"nodoSeleccionado\":_vm.nodoSeleccionado,\"redibujarEnlaces\":_vm.redibujarEnlacesNodos,\"idsTodosNodosRender\":_vm.idsTodosNodosRender,\"callingPosiciones\":_vm.callingPosiciones,\"transicionarPosicionNodos\":_vm.transicionarPosicionNodos}})}),1),_c('div',{style:([_vm.posContenedores]),attrs:{\"id\":\"contenedorNodos\"}},[_vm._l((_vm.personasRender),function(persona){return _c('nodo-persona',{key:persona.id,attrs:{\"esNodoYo\":_vm.nodoYo.id === persona.id,\"esteNodo\":persona,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"idsNodosNeedingFetchMore\":_vm.idsNodosNeedingFetchMore,\"nodoSeleccionado\":_vm.nodoSeleccionado,\"nodosUnder\":_vm.indiceNodosUnder[persona.id],\"requeridoPorSeleccionado\":_vm.idsNodosRequeridosSeleccionado.includes(persona.id),\"requiereAlSeleccionado\":_vm.idsNodosRequierenSeleccionado.includes(persona.id),\"idsNodosDesplegados\":_vm.idsNodosDesplegados,\"menuCx\":_vm.idNodoMenuCx && _vm.idNodoMenuCx === persona.id,\"factorZoom\":_vm.factorZoom,\"callingPosiciones\":_vm.callingPosiciones,\"transparentoso\":_vm.idNodoSeleccionado &&\n        _vm.idNodoSeleccionado != persona.id &&\n        !_vm.nodoSeleccionado.responsables.includes(persona.id) &&\n        !_vm.idsNodosRequierenSeleccionado.includes(persona.id) &&\n        _vm.nodoSeleccionado &&\n        _vm.nodoSeleccionado.nodoParent != persona.id,\"todosNodos\":_vm.todosNodos,\"todasPersonas\":_vm.personas,\"transicionarPosicionNodos\":_vm.transicionarPosicionNodos},on:{\"nodoSolidaridadCreado\":function($event){return _vm.addNodoToNodosSolidaridad($event)}},nativeOn:{\"mouseup\":function($event){$event.stopPropagation();},\"click\":function($event){_vm.idNodoSeleccionado = persona.id},\"contextmenu\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.stopPropagation();$event.preventDefault();_vm.idNodoMenuCx = persona.id}}})}),(_vm.indiceNodosUnder)?_c('transition-group',{attrs:{\"name\":\"fade\",\"tag\":\"div\"}},_vm._l((_vm.nodosSolidaridadRender),function(nodo){return _c('nodo',{key:nodo.id,attrs:{\"esteNodo\":nodo,\"nodoYo\":_vm.nodoYo,\"idNodoSeleccionado\":_vm.idNodoSeleccionado,\"idsNodosNeedingFetchMore\":_vm.idsNodosNeedingFetchMore,\"nodoParent\":_vm.todosNodos.find(function (n) { return n.id === nodo.nodoParent; }),\"nodoSeleccionado\":_vm.nodoSeleccionado,\"nodosUnder\":_vm.indiceNodosUnder[nodo.id],\"requeridoPorSeleccionado\":_vm.idsNodosRequeridosSeleccionado.includes(nodo.id),\"seleccionadoEsResponsable\":nodo.responsables.includes(_vm.idNodoSeleccionado),\"requiereAlSeleccionado\":_vm.idsNodosRequierenSeleccionado.includes(nodo.id),\"enVentanita\":_vm.idNodoPaVentanita === nodo.id,\"idsNodosDesplegados\":_vm.idsNodosDesplegados,\"menuCx\":_vm.idNodoMenuCx && _vm.idNodoMenuCx == nodo.id,\"factorZoom\":_vm.factorZoom,\"callingPosiciones\":_vm.callingPosiciones,\"usuarioAdministradorNodoSeleccionado\":_vm.usuarioAdministradorNodoSeleccionado,\"usuarioResponsableNodoSeleccionado\":_vm.usuarioResponsableNodoSeleccionado,\"usuarioResponsableAmplioNodoSeleccionado\":_vm.usuarioResponsableAmplioNodoSeleccionado,\"transparentoso\":_vm.idNodoSeleccionado &&\n          _vm.idNodoSeleccionado != nodo.id &&\n          !_vm.idsNodosRequeridosSeleccionado.includes(nodo.id) &&\n          !_vm.idsNodosRequierenSeleccionado.includes(nodo.id) &&\n          !nodo.responsables.includes(_vm.idNodoSeleccionado) &&\n          _vm.nodoSeleccionado &&\n          _vm.nodoSeleccionado.nodoParent != nodo.id,\"childSeleccionado\":_vm.idsNodosChildrenSeleccionado.includes(nodo.id),\"todosNodos\":_vm.todosNodos,\"transicionarPosicionNodos\":_vm.transicionarPosicionNodos},on:{\"meMovi\":function($event){_vm.redibujarEnlacesNodos++},\"meAbrieron\":function($event){return _vm.setNodoEnVentanita(nodo.id)},\"meElimine\":function($event){return _vm.eliminarNodoCache(nodo.id)},\"nodoSolidaridadCreado\":function($event){return _vm.addNodoToNodosSolidaridad($event)}},nativeOn:{\"mouseup\":function($event){$event.stopPropagation();},\"click\":function($event){_vm.idNodoSeleccionado = nodo.id},\"contextmenu\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.stopPropagation();$event.preventDefault();_vm.idNodoMenuCx = nodo.id}}})}),1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuario.username == 'juanMamian'),expression:\"usuario.username == 'juanMamian'\"}],style:([\n        {\n          left: _vm.centroDescarga.x * _vm.factorZoom + 'px',\n          top: _vm.centroDescarga.y * _vm.factorZoom + 'px',\n          width: 20 * _vm.factorZoom + 'px',\n          height: 20 * _vm.factorZoom + 'px',\n        } ]),attrs:{\"id\":\"indicadorCentroDescarga\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuario.username == 'juanMamian'),expression:\"usuario.username == 'juanMamian'\"}],style:([\n        {\n          left: _vm.centroVista.x * _vm.factorZoom + 'px',\n          top: _vm.centroVista.y * _vm.factorZoom + 'px',\n          width: 20 * _vm.factorZoom + 'px',\n          height: 20 * _vm.factorZoom + 'px',\n        } ]),attrs:{\"id\":\"indicadorCentroVista\"}})],2),(_vm.idNodoPaVentanita && _vm.nodoEnVentanita && !_vm.callingPosiciones)?_c('router-view',{key:_vm.nodoEnVentanita.id,attrs:{\"esteNodo\":_vm.nodoEnVentanita},on:{\"cerrarme\":function($event){return _vm.cerrarNodoEnVentanita()}}}):_vm._e(),_c('transition',{attrs:{\"name\":\"fadeOutLento\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showingNombreNodoEmergente),expression:\"showingNombreNodoEmergente\"}],attrs:{\"id\":\"nombreNodoEmergente\"}},[_vm._v(\" \"+_vm._s(_vm.nodoSeleccionado ? _vm.nodoSeleccionado.nombre : \"\")+\" \")])]),_c('div',{attrs:{\"id\":\"panelConfiguracion\"},on:{\"mouseup\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"boton botonPanelConfiguracion\",class:{ activo: _vm.mostrandoPersonas },attrs:{\"title\":_vm.mostrandoPersonas ? 'Ocultar personas' : 'Mostrar personas'},on:{\"click\":function($event){$event.stopPropagation();_vm.mostrandoPersonas = !_vm.mostrandoPersonas}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/user.svg\"),\"alt\":\"Usuarios\"}})])]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(        \n      _vm.$apollo.queries.nodoRoot.loading        \n    ),expression:\"        \\n      $apollo.queries.nodoRoot.loading        \\n    \"}],attrs:{\"id\":\"loadingNodos\",\"texto\":\"Descargando información...\",\"colorLetra\":\"white\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nodo\",class:{ seleccionado: _vm.seleccionado, deshabilitado: _vm.enviandoQueryGeneral },style:([_vm.estiloPosicion, _vm.estiloZeta, _vm.estiloSize, _vm.estiloTransicion]),on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }_vm.agarrado = _vm.callingPosiciones ? false : true},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.guardarPosicion($event)},\"mousemove\":_vm.arrastrarNodo}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.agarrado),expression:\"agarrado\"}],attrs:{\"id\":\"zonaArrastre\"}}),_c('div',{class:{ transparentoso: _vm.transparentoso },style:([_vm.estiloBolita]),attrs:{\"id\":\"bolita\"}},[(_vm.esteNodo.tipoNodo === 'trabajo')?_c('svg',{staticClass:\"svg-inline--fa fa-cog fa-w-16 iconoFondo\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"cog\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":_vm.colorIcono,\"d\":\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"}})]):_c('svg',{staticClass:\"svg-inline--fa fa-star fa-w-18 iconoFondo\",class:{ transparentoso: _vm.transparentoso },attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"star\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":_vm.colorIcono,\"d\":\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n      (_vm.esteNodo.vinculos && _vm.esteNodo.vinculos.length > 0) ||\n      _vm.esteNodo.responsables.length > 0\n    ),expression:\"\\n      (esteNodo.vinculos && esteNodo.vinculos.length > 0) ||\\n      esteNodo.responsables.length > 0\\n    \"}],class:{ deshabilitado: _vm.waitingFetchChildren },style:({\n      borderColor:\n        _vm.waitingFetchChildren || _vm.transparentoso\n          ? 'transparent'\n          : _vm.desplegado\n          ? 'var(--atlasNaranja)'\n          : 'gray',\n    }),attrs:{\"id\":\"iconoPlegado\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleDesplegar($event)}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.desplegado && !_vm.waitingFetchChildren),expression:\"!desplegado && !waitingFetchChildren\"}],class:{ transparentoso: _vm.transparentoso },staticStyle:{\"filter\":\"var(--atlasFilterGris)\"},attrs:{\"src\":require(\"@/assets/iconos/folder.svg\"),\"alt\":\"Plegado\",\"title\":\"Desplegar\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado && !_vm.waitingFetchChildren),expression:\"desplegado && !waitingFetchChildren\"}],class:{ transparentoso: _vm.transparentoso },staticStyle:{\"filter\":\"var(--atlasFilterGris)\"},attrs:{\"src\":require(\"@/assets/iconos/folderOpen.svg\"),\"alt\":\"Desplegado\",\"title\":\"Plegar\"}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.waitingFetchChildren),expression:\"waitingFetchChildren\"}],attrs:{\"texto\":\"\"}})],1),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado && !_vm.enVentanita),expression:\"seleccionado && !enVentanita\"}],staticClass:\"bAbrirNodo\",attrs:{\"src\":require(\"@/assets/iconos/maximizar.png\"),\"alt\":\"abrir\",\"title\":\"Ampliar información\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.$emit('meAbrieron')},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();},\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();}}}),_c('div',{class:{\n      transparentoso: _vm.transparentoso,\n      completa:\n        _vm.seleccionado || _vm.requeridoPorSeleccionado || _vm.requiereAlSeleccionado,\n    },style:([_vm.estiloCartelNombre, _vm.colorCartelNombre]),attrs:{\"id\":\"cartelNombre\"}},[_c('div',{attrs:{\"id\":\"nombre\",\"draggable\":\"false\"}},[_vm._v(\" \"+_vm._s(_vm.callingPosiciones ? _vm.esteNodo.fuerzaColision.fuerza.toFixed(2) + \"-\" + _vm.esteNodo.fuerzaColision.direccion.toFixed(2) : _vm.esteNodo.nombre)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuCx && _vm.usuarioLogeado),expression:\"menuCx && usuarioLogeado\"}],attrs:{\"id\":\"menuContextual\"},on:{\"mouseup\":function($event){$event.stopPropagation();},\"mousedown\":function($event){$event.stopPropagation();}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioLogeado),expression:\"usuarioLogeado\"}],staticClass:\"tituloSeccionMenuCx\"},[_vm._v(\"Yo...\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioLogeado),expression:\"usuarioLogeado\"}],staticClass:\"botonesSeccionMenuCx\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.usuarioLogeado &&\n          _vm.nodoYo &&\n          !_vm.nodoYo.vinculos.map(function (v) { return v.idRef; }).includes(_vm.esteNodo.id)\n        ),expression:\"\\n          usuarioLogeado &&\\n          nodoYo &&\\n          !nodoYo.vinculos.map((v) => v.idRef).includes(esteNodo.id)\\n        \"}],staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.enviandoEditVinculos },on:{\"click\":function($event){$event.stopPropagation();return _vm.crearRequerimento(_vm.usuario.id, 'usuario', _vm.esteNodo.id)}}},[_vm._v(\" Requiero este nodo \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.usuarioLogeado &&\n          _vm.nodoYo &&\n          _vm.nodoYo.vinculos.map(function (v) { return v.idRef; }).includes(_vm.esteNodo.id)\n        ),expression:\"\\n          usuarioLogeado &&\\n          nodoYo &&\\n          nodoYo.vinculos.map((v) => v.idRef).includes(esteNodo.id)\\n        \"}],staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.enviandoEditVinculos },on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarRequerimento(_vm.usuario.id, 'usuario', _vm.esteNodo.id)}}},[_vm._v(\" No requiero este nodo \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.usuarioLogeado &&\n          _vm.requeridoPorSeleccionado &&\n          !_vm.childSeleccionado &&\n          (_vm.usuarioSuperadministrador || _vm.esteNodo.administradores.length < 1)\n        ),expression:\"\\n          usuarioLogeado &&\\n          requeridoPorSeleccionado &&\\n          !childSeleccionado &&\\n          (usuarioSuperadministrador || esteNodo.administradores.length < 1)\\n        \"}],staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.enviandoEditVinculos },on:{\"click\":function($event){$event.stopPropagation();return _vm.crearParenting(_vm.usuario.id, 'usuario', _vm.esteNodo.id)}}},[_vm._v(\" Me adueño de este nodo \")])]),(_vm.idNodoSeleccionado != null && _vm.idNodoSeleccionado != _vm.esteNodo.id && _vm.idNodoSeleccionado != _vm.usuario.id)?[_c('div',{staticClass:\"tituloSeccionMenuCx\"},[_vm._v(\"El nodo seleccionado...\")]),_c('div',{staticClass:\"botonesSeccionMenuCx\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            _vm.requeridoPorSeleccionado &&\n            (_vm.usuarioResponsableAmplioNodoSeleccionado ||\n              _vm.usuarioSuperadministrador)\n          ),expression:\"\\n            requeridoPorSeleccionado &&\\n            (usuarioResponsableAmplioNodoSeleccionado ||\\n              usuarioSuperadministrador)\\n          \"}],staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.enviandoEditVinculos },on:{\"click\":function($event){$event.stopPropagation();_vm.eliminarRequerimento(_vm.idNodoSeleccionado, _vm.nodoSeleccionado.__typename.charAt(0).toLowerCase() + _vm.nodoSeleccionado.__typename.slice(1), _vm.esteNodo.id)}}},[_vm._v(\" Ya no requiere este nodo \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            (_vm.usuarioResponsableAmplioNodoSeleccionado ||\n              _vm.usuarioSuperadministrador) &&\n            !_vm.requeridoPorSeleccionado &&\n            !_vm.requiereAlSeleccionado\n          ),expression:\"\\n            (usuarioResponsableAmplioNodoSeleccionado ||\\n              usuarioSuperadministrador) &&\\n            !requeridoPorSeleccionado &&\\n            !requiereAlSeleccionado\\n          \"}],staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.enviandoEditVinculos },on:{\"click\":function($event){$event.stopPropagation();_vm.crearRequerimento(_vm.idNodoSeleccionado, _vm.nodoSeleccionado.__typename.charAt(0).toLowerCase()+_vm.nodoSeleccionado.__typename.slice(1), _vm.esteNodo.id)}}},[_vm._v(\" Requiere este elemento \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n            _vm.usuarioSuperadministrador &&\n            _vm.requeridoPorSeleccionado &&\n            !_vm.childSeleccionado &&\n            _vm.idNodoSeleccionado != _vm.usuario.id\n          ),expression:\"\\n            usuarioSuperadministrador &&\\n            requeridoPorSeleccionado &&\\n            !childSeleccionado &&\\n            idNodoSeleccionado != usuario.id\\n          \"}],staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.enviandoEditVinculos },on:{\"click\":function($event){$event.stopPropagation();_vm.crearParenting(_vm.idNodoSeleccionado, _vm.nodoSeleccionado.__typename.charAt(0).toLowerCase()+_vm.nodoSeleccionado.__typename.slice(1), _vm.esteNodo.id)}}},[_vm._v(\" Se adueña de este elemento \")])])]:_vm._e(),(_vm.usuarioResponsableAmplio)?[_c('div',{staticClass:\"tituloSeccionMenuCx\"},[_vm._v(\"Crear nuevo...\")]),_c('div',{staticClass:\"botonesSeccionMenuCx\"},[_c('div',{staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.creandoSubNodo },on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevoNodoUnder({ tipoNodo: 'trabajo' })}}},[_vm._v(\" Trabajo \")]),(_vm.esteNodo.tipoNodo != 'trabajo')?_c('div',{staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.creandoSubNodo },on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevoNodoUnder({ tipoNodo: 'objetivo' })}}},[_vm._v(\" Objetivo \")]):_vm._e()])]:_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n        (_vm.usuarioSuperadministrador || _vm.usuarioAdministrador) &&\n        (!_vm.idNodoSeleccionado || _vm.seleccionado)\n      ),expression:\"\\n        (usuarioSuperadministrador || usuarioAdministrador) &&\\n        (!idNodoSeleccionado || seleccionado)\\n      \"}],staticClass:\"botonMenuCx\",class:{\n        deshabilitado: !_vm.usuarioAdministrador && !_vm.usuarioSuperadministrador,\n      },on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarse($event)}}},[_vm._v(\" Eliminar \")])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"nodo\"\r\n    :class=\"{ seleccionado, deshabilitado: enviandoQueryGeneral }\"\r\n    :style=\"[estiloPosicion, estiloZeta, estiloSize, estiloTransicion]\"\r\n    @mousedown.left=\"agarrado = callingPosiciones ? false : true\"\r\n    @mouseup.left=\"guardarPosicion\"\r\n    @mousemove=\"arrastrarNodo\"\r\n  >\r\n    <div id=\"zonaArrastre\" v-show=\"agarrado\"></div>\r\n\r\n    <div id=\"bolita\" :style=\"[estiloBolita]\" :class=\"{ transparentoso }\">\r\n      <svg\r\n        aria-hidden=\"true\"\r\n        focusable=\"false\"\r\n        data-prefix=\"fas\"\r\n        data-icon=\"cog\"\r\n        class=\"svg-inline--fa fa-cog fa-w-16 iconoFondo\"\r\n        role=\"img\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 512 512\"\r\n        v-if=\"esteNodo.tipoNodo === 'trabajo'\"\r\n      >\r\n        <path\r\n          :fill=\"colorIcono\"\r\n          d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"\r\n        ></path>\r\n      </svg>\r\n      <svg\r\n        aria-hidden=\"true\"\r\n        focusable=\"false\"\r\n        data-prefix=\"fas\"\r\n        data-icon=\"star\"\r\n        class=\"svg-inline--fa fa-star fa-w-18 iconoFondo\"\r\n        role=\"img\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 576 512\"\r\n        v-else\r\n        :class=\"{ transparentoso }\"\r\n      >\r\n        <path\r\n          :fill=\"colorIcono\"\r\n          d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\r\n        ></path>\r\n      </svg>\r\n    </div>\r\n    <div\r\n      id=\"iconoPlegado\"\r\n      v-show=\"\r\n        (esteNodo.vinculos && esteNodo.vinculos.length > 0) ||\r\n        esteNodo.responsables.length > 0\r\n      \"\r\n      :class=\"{ deshabilitado: waitingFetchChildren }\"\r\n      @click.stop=\"toggleDesplegar\"\r\n      :style=\"{\r\n        borderColor:\r\n          waitingFetchChildren || transparentoso\r\n            ? 'transparent'\r\n            : desplegado\r\n            ? 'var(--atlasNaranja)'\r\n            : 'gray',\r\n      }\"\r\n    >\r\n      <img\r\n        src=\"@/assets/iconos/folder.svg\"\r\n        v-show=\"!desplegado && !waitingFetchChildren\"\r\n        alt=\"Plegado\"\r\n        title=\"Desplegar\"\r\n        style=\"filter: var(--atlasFilterGris)\"\r\n        :class=\"{ transparentoso }\"\r\n      />\r\n      <img\r\n        src=\"@/assets/iconos/folderOpen.svg\"\r\n        v-show=\"desplegado && !waitingFetchChildren\"\r\n        alt=\"Desplegado\"\r\n        title=\"Plegar\"\r\n        style=\"filter: var(--atlasFilterGris)\"\r\n        :class=\"{ transparentoso }\"\r\n      />\r\n      <loading texto=\"\" v-show=\"waitingFetchChildren\" />\r\n    </div>\r\n    <img\r\n      src=\"@/assets/iconos/maximizar.png\"\r\n      alt=\"abrir\"\r\n      class=\"bAbrirNodo\"\r\n      title=\"Ampliar información\"\r\n      v-show=\"seleccionado && !enVentanita\"\r\n      @click.left.stop=\"$emit('meAbrieron')\"\r\n      @mouseup.left.stop=\"\"\r\n      @mousedown.left.stop=\"\"\r\n    />\r\n    <div\r\n      id=\"cartelNombre\"\r\n      :style=\"[estiloCartelNombre, colorCartelNombre]\"\r\n      :class=\"{\r\n        transparentoso,\r\n        completa:\r\n          seleccionado || requeridoPorSeleccionado || requiereAlSeleccionado,\r\n      }\"\r\n    >\r\n      <div id=\"nombre\" draggable=\"false\">\r\n        {{\r\n          callingPosiciones\r\n            ? esteNodo.fuerzaColision.fuerza.toFixed(2) +\r\n              \"-\" +\r\n              esteNodo.fuerzaColision.direccion.toFixed(2)\r\n            : esteNodo.nombre\r\n        }}\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      id=\"menuContextual\"\r\n      @mouseup.stop=\"\"\r\n      @mousedown.stop=\"\"\r\n      v-show=\"menuCx && usuarioLogeado\"\r\n    >\r\n      <div class=\"tituloSeccionMenuCx\" v-show=\"usuarioLogeado\">Yo...</div>\r\n      <div class=\"botonesSeccionMenuCx\" v-show=\"usuarioLogeado\">\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          v-show=\"\r\n            usuarioLogeado &&\r\n            nodoYo &&\r\n            !nodoYo.vinculos.map((v) => v.idRef).includes(esteNodo.id)\r\n          \"\r\n          :class=\"{ deshabilitado: enviandoEditVinculos }\"\r\n          @click.stop=\"crearRequerimento(usuario.id, 'usuario', esteNodo.id)\"\r\n        >\r\n          Requiero este nodo\r\n        </div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          v-show=\"\r\n            usuarioLogeado &&\r\n            nodoYo &&\r\n            nodoYo.vinculos.map((v) => v.idRef).includes(esteNodo.id)\r\n          \"\r\n          :class=\"{ deshabilitado: enviandoEditVinculos }\"\r\n          @click.stop=\"eliminarRequerimento(usuario.id, 'usuario', esteNodo.id)\"\r\n        >\r\n          No requiero este nodo\r\n        </div>\r\n        <div\r\n          class=\"botonMenuCx\"\r\n          v-show=\"\r\n            usuarioLogeado &&\r\n            requeridoPorSeleccionado &&\r\n            !childSeleccionado &&\r\n            (usuarioSuperadministrador || esteNodo.administradores.length < 1)\r\n          \"\r\n          :class=\"{ deshabilitado: enviandoEditVinculos }\"\r\n          @click.stop=\"crearParenting(usuario.id, 'usuario', esteNodo.id)\"\r\n        >\r\n          Me adueño de este nodo\r\n        </div>\r\n      </div>\r\n\r\n      <template\r\n        v-if=\"idNodoSeleccionado != null && idNodoSeleccionado != esteNodo.id && idNodoSeleccionado != usuario.id\"\r\n      >\r\n        <div class=\"tituloSeccionMenuCx\">El nodo seleccionado...</div>\r\n        <div class=\"botonesSeccionMenuCx\">\r\n          <div\r\n            class=\"botonMenuCx\"\r\n            @click.stop=\"eliminarRequerimento(idNodoSeleccionado, nodoSeleccionado.__typename.charAt(0).toLowerCase() + nodoSeleccionado.__typename.slice(1), esteNodo.id)\"\r\n            v-show=\"\r\n              requeridoPorSeleccionado &&\r\n              (usuarioResponsableAmplioNodoSeleccionado ||\r\n                usuarioSuperadministrador)\r\n            \"\r\n            :class=\"{ deshabilitado: enviandoEditVinculos }\"\r\n          >\r\n            Ya no requiere este nodo\r\n          </div>\r\n          <div\r\n            class=\"botonMenuCx\"\r\n            :class=\"{ deshabilitado: enviandoEditVinculos }\"\r\n            v-show=\"\r\n              (usuarioResponsableAmplioNodoSeleccionado ||\r\n                usuarioSuperadministrador) &&\r\n              !requeridoPorSeleccionado &&\r\n              !requiereAlSeleccionado\r\n            \"\r\n            @click.stop=\"crearRequerimento(idNodoSeleccionado, nodoSeleccionado.__typename.charAt(0).toLowerCase()+nodoSeleccionado.__typename.slice(1), esteNodo.id)\"\r\n          >\r\n            Requiere este elemento\r\n          </div>\r\n          <div\r\n            class=\"botonMenuCx\"\r\n            :class=\"{ deshabilitado: enviandoEditVinculos }\"\r\n            v-show=\"\r\n              usuarioSuperadministrador &&\r\n              requeridoPorSeleccionado &&\r\n              !childSeleccionado &&\r\n              idNodoSeleccionado != usuario.id\r\n            \"\r\n            @click.stop=\"crearParenting(idNodoSeleccionado, nodoSeleccionado.__typename.charAt(0).toLowerCase()+nodoSeleccionado.__typename.slice(1), esteNodo.id)\"\r\n          >\r\n            Se adueña de este elemento\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template v-if=\"usuarioResponsableAmplio\">\r\n        <div class=\"tituloSeccionMenuCx\">Crear nuevo...</div>\r\n        <div class=\"botonesSeccionMenuCx\">\r\n          <div\r\n            class=\"botonMenuCx\"\r\n            :class=\"{ deshabilitado: creandoSubNodo }\"\r\n            @click.stop=\"\r\n              crearNuevoNodoUnder({ tipoNodo: 'trabajo' })\r\n            \"\r\n          >\r\n            Trabajo\r\n          </div>\r\n          <div\r\n            class=\"botonMenuCx\"\r\n            v-if=\"esteNodo.tipoNodo != 'trabajo'\"\r\n            :class=\"{ deshabilitado: creandoSubNodo }\"\r\n            @click.stop=\"\r\n              crearNuevoNodoUnder({ tipoNodo: 'objetivo' })\r\n            \"\r\n          >\r\n            Objetivo\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <div\r\n        class=\"botonMenuCx\"\r\n        v-show=\"\r\n          (usuarioSuperadministrador || usuarioAdministrador) &&\r\n          (!idNodoSeleccionado || seleccionado)\r\n        \"\r\n        :class=\"{\r\n          deshabilitado: !usuarioAdministrador && !usuarioSuperadministrador,\r\n        }\"\r\n        @click.stop=\"eliminarse\"\r\n      >\r\n        Eliminar\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport {\r\n  MixinEdicionVinculosNodoSolidaridad,\r\n  MixinGeneralNodoSolidaridad,\r\n  MixinNodoAtlas,\r\n  MixinPermisosUsuarioNodoSolidaridad,\r\n  MixinVisualesNodosSolidaridad,\r\n} from \"./ConfiguracionNodoSolidaridad\";\r\n\r\nexport default {\r\n  components: { Loading },\r\n  props: {\r\n    nodoYo: Object,\r\n  },\r\n  name: \"nodo\",\r\n  mixins: [\r\n    MixinEdicionVinculosNodoSolidaridad,\r\n    MixinPermisosUsuarioNodoSolidaridad,\r\n    MixinGeneralNodoSolidaridad,\r\n    MixinVisualesNodosSolidaridad,\r\n    MixinNodoAtlas,\r\n  ],\r\n  data() {\r\n    return {\r\n      agarrado: false,\r\n      arrastrandoNodo: 0,\r\n      umbralArrastreNodo: 10,\r\n      montado: false,\r\n    };\r\n  },\r\n  methods: {\r\n    arrastrarNodo(e) {\r\n      if (\r\n        !this.agarrado ||\r\n        (this.usuarioAdministrador === false &&\r\n          this.usuarioSuperadministrador === false)\r\n      ) {\r\n        return;\r\n      }\r\n      this.arrastrandoNodo =\r\n        this.arrastrandoNodo + Math.abs(e.movementX) + Math.abs(e.movementY);\r\n      if (this.arrastrandoNodo < this.umbralArrastreNodo) {\r\n        return;\r\n      }\r\n      var contenedor = document.getElementById(\"contenedorNodos\");\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n\r\n      let nuevoTop = Math.round(\r\n        (e.clientY - posContenedor.top) / this.factorZoom\r\n      );\r\n      let nuevoLeft = Math.round(\r\n        (e.clientX - posContenedor.left) / this.factorZoom\r\n      );\r\n\r\n      const stepPosx = 25;\r\n      const stepPosy = 15;\r\n\r\n      nuevoLeft = nuevoLeft - (nuevoLeft % stepPosx);\r\n      nuevoTop = nuevoTop - (nuevoTop % stepPosy);\r\n\r\n      this.$set(this.posicion, \"x\", nuevoLeft);\r\n      this.$set(this.posicion, \"y\", nuevoTop);\r\n    },\r\n    guardarPosicion() {\r\n      if (this.arrastrandoNodo < this.umbralArrastreNodo) {\r\n        this.agarrado = false;\r\n        return;\r\n      }\r\n      if (!this.usuarioAdministrador && !this.usuarioSuperadministrador) {\r\n        this.agarrado = false;\r\n        return;\r\n      }\r\n      this.arrastrandoNodo = 0;\r\n      this.agarrado = false;\r\n\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idNodo: ID!, $nuevaPosicion: CoordsInput) {\r\n              setPosicionNodoSolidaridad(\r\n                idNodo: $idNodo\r\n                nuevaPosicion: $nuevaPosicion\r\n              ) {\r\n                id\r\n                coords {\r\n                  x\r\n                  y\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idNodo: this.esteNodo.id,\r\n            nuevaPosicion: this.posicion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          console.log(`Posición guardada`);\r\n          this.$emit(\"meMovi\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"./estilosNodoAtlas.css\";\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Nodo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Nodo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Nodo.vue?vue&type=template&id=62529dcc&scoped=true&\"\nimport script from \"./Nodo.vue?vue&type=script&lang=js&\"\nexport * from \"./Nodo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Nodo.vue?vue&type=style&index=0&id=62529dcc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62529dcc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nodoRender),expression:\"nodoRender\"}],staticClass:\"enlacesNodo\",style:([_vm.estiloPosicion])},[_c('transition-group',{attrs:{\"tag\":\"div\"}},_vm._l((_vm.vinculosGrises),function(vinculo){return _c('div',{key:vinculo.id,staticClass:\"vinculo vinculoGris\",style:([vinculo.estilo, _vm.altoVinculos])},[_c('div',{staticClass:\"flechaVinculo\",style:([_vm.sizeFlecha])})])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.callingPosiciones),expression:\"callingPosiciones\"}],staticClass:\"fuerza\",style:([_vm.estiloFuerzaColision, { opacity: _vm.nodoSeleccionado ? 1 : 0.3 }]),attrs:{\"id\":\"fuerzaColision\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.callingPosiciones),expression:\"callingPosiciones\"}],staticClass:\"fuerza\",style:([_vm.estiloFuerzaCentroMasa, { opacity: _vm.nodoSeleccionado ? 1 : 0.3 }]),attrs:{\"id\":\"fuerzaCentroMasa\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"enlacesNodo\" v-show=\"nodoRender\" :style=\"[estiloPosicion]\">\r\n    <transition-group tag=\"div\">\r\n      <div\r\n        class=\"vinculo vinculoGris\"\r\n        v-for=\"vinculo of vinculosGrises\"\r\n        :key=\"vinculo.id\"\r\n        :style=\"[vinculo.estilo, altoVinculos]\"\r\n      >\r\n        <div class=\"flechaVinculo\" :style=\"[sizeFlecha]\"></div>\r\n      </div>\r\n    </transition-group>\r\n    <div\r\n      class=\"fuerza\"\r\n      v-show=\"callingPosiciones\"\r\n      :style=\"[estiloFuerzaColision, { opacity: nodoSeleccionado ? 1 : 0.3 }]\"\r\n      id=\"fuerzaColision\"\r\n    ></div>\r\n    <div\r\n      class=\"fuerza\"\r\n      v-show=\"callingPosiciones\"\r\n      :style=\"[estiloFuerzaCentroMasa, { opacity: nodoSeleccionado ? 1 : 0.3 }]\"\r\n      id=\"fuerzaCentroMasa\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"EnlacesNodo\",\r\n  props: {\r\n    yo: Object,\r\n    idNodoSeleccionado: String,\r\n    esteNodo: Object,\r\n    todosNodos: Array,\r\n    factorZoom: Number,\r\n    callingPosiciones: Boolean,\r\n    nodoSeleccionado: Object,\r\n    childSeleccionado: Boolean,\r\n    idsTodosNodosRender: Array,\r\n    transicionarPosicionNodos: Boolean,\r\n    redibujarEnlaces: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      esquinasSeleccionado: {\r\n        x1: 0,\r\n        x2: 0,\r\n        y1: 0,\r\n        y2: 0,\r\n      },\r\n      posicionSeleccionado: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      factorFuerza: 15,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    parentDeSeleccionado() {\r\n      if (!this.nodoSeleccionado) return false;\r\n      if (this.nodoSeleccionado.nodoParent === this.esteNodo.id) return true;\r\n      return false;\r\n    },\r\n    estiloPosicion() {\r\n      return {\r\n        left: this.esteNodo.coords.x * this.factorZoom + \"px\",\r\n        top: this.esteNodo.coords.y * this.factorZoom + \"px\",\r\n      };\r\n    },\r\n    vinculosGrises() {\r\n      var vGrises = JSON.parse(\r\n        JSON.stringify(\r\n          this.esteNodo.vinculos\r\n            .concat(\r\n              this.esteNodo.responsables.map((r) => {\r\n                return { id: this.esteNodo.id + r, idRef: r };\r\n              })\r\n            )\r\n            .filter((v) => this.idsTodosNodosRender.includes(v.idRef))\r\n        )\r\n      );\r\n\r\n      vGrises.forEach((v) => {\r\n        const coordsFrom = this.todosNodos.find((n) => n.id === v.idRef).coords;\r\n        const paralelas = {\r\n          x: coordsFrom.x - this.posNodo.x,\r\n          y: coordsFrom.y - this.posNodo.y,\r\n        };\r\n        const angulo = Math.PI + Math.atan2(paralelas.y, paralelas.x);\r\n        const modulo = Math.hypot(paralelas.x, paralelas.y);\r\n        const vSeleccionado = this.idNodoSeleccionado === v.idRef;\r\n\r\n        v.estilo = {\r\n          transform: \"rotate(\" + angulo + \"rad)\",\r\n          top: Math.round((paralelas.y - 1) * this.factorZoom) + \"px\",\r\n          left: Math.round(paralelas.x * this.factorZoom) + \"px\",\r\n          width: Math.round(modulo * this.factorZoom) + \"px\",\r\n          backgroundColor: this.seleccionado\r\n            ? \"#ef7229\"\r\n            : vSeleccionado &&\r\n              (this.parentDeSeleccionado ||\r\n                this.esteNodo.responsables.includes(this.idNodoSeleccionado))\r\n            ? \"var(--atlasParent)\"\r\n            : \"black\",\r\n          opacity:\r\n            this.seleccionado ||\r\n            (vSeleccionado &&\r\n              (this.parentDeSeleccionado ||\r\n                this.esteNodo.responsables.includes(this.idNodoSeleccionado)))\r\n              ? 1\r\n              : !this.nodoSeleccionado\r\n              ? 0.3\r\n              : 0.05,\r\n          borderLeftColor: this.seleccionado\r\n            ? \"#ef7229\"\r\n            : vSeleccionado &&\r\n              (this.parentDeSeleccionado ||\r\n                this.esteNodo.responsables.includes(this.idNodoSeleccionado))\r\n            ? \"var(--atlasParent)\"\r\n            : \"black\",\r\n        };\r\n      });\r\n\r\n      return vGrises;\r\n    },\r\n\r\n    estiloFuerzaColision() {\r\n      // var paralelas={\r\n      //   x: this.esteNodo.fuerzaColision.fuerza*Math.cos(this.esteNodo.fuerzaColision.direccion),\r\n      //   y: this.esteNodo.fuerzaColision.fuerza*Math.sin(this.esteNodo.fuerzaColision.direccion),\r\n      // }\r\n      return {\r\n        transform: \"rotate(\" + this.esteNodo.fuerzaColision.direccion + \"rad)\",\r\n        // top: Math.round((paralelas.y - 1) * this.factorZoom) + \"px\",\r\n        // left: Math.round(paralelas.x * this.factorZoom) + \"px\",\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n        width:\r\n          Math.ceil(\r\n            this.esteNodo.fuerzaColision.fuerza *\r\n              this.factorFuerza *\r\n              this.factorZoom\r\n          ) + \"px\",\r\n      };\r\n    },\r\n    estiloFuerzaCentroMasa() {\r\n      // var paralelas={\r\n      //   x: this.esteNodo.fuerzaCentroMasa.fuerza*Math.cos(this.esteNodo.fuerzaCentroMasa.direccion),\r\n      //   y: this.esteNodo.fuerzaCentroMasa.fuerza*Math.sin(this.esteNodo.fuerzaCentroMasa.direccion),\r\n      // }\r\n      return {\r\n        transform:\r\n          \"rotate(\" + this.esteNodo.fuerzaCentroMasa.direccion + \"rad)\",\r\n        // top: Math.round((paralelas.y - 1) * this.factorZoom) + \"px\",\r\n        // left: Math.round(paralelas.x * this.factorZoom) + \"px\",\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n        width:\r\n          Math.round(\r\n            this.esteNodo.fuerzaCentroMasa.fuerza *\r\n              this.factorFuerza *\r\n              this.factorZoom\r\n          ) + \"px\",\r\n      };\r\n    },\r\n\r\n    altoVinculos() {\r\n      return {\r\n        height: Math.ceil(1 * this.factorZoom) + \"px\",\r\n      };\r\n    },\r\n    sizeFlecha() {\r\n      return {\r\n        borderWidth: Math.round(7 * this.factorZoom) + \"px\",\r\n      };\r\n    },\r\n\r\n    posNodo() {\r\n      return this.esteNodo.coords;\r\n    },\r\n\r\n    seleccionado() {\r\n      if (!this.nodoSeleccionado) {\r\n        return false;\r\n      }\r\n      return this.nodoSeleccionado.id === this.esteNodo.id;\r\n    },\r\n    desplegado() {\r\n      if (\r\n        !this.usuario ||\r\n        !this.usuario.id ||\r\n        !this.yo ||\r\n        !this.yo.atlasSolidaridad ||\r\n        !this.yo.atlasSolidaridad.idsNodosDesplegados\r\n      )\r\n        return false;\r\n\r\n      return this.yo.atlasSolidaridad.idsNodosDesplegados.includes(\r\n        this.esteNodo.id\r\n      );\r\n    },\r\n    nodoRender() {\r\n      if (this.usuario && this.esteNodo.id === this.usuario.id) return true;\r\n      return this.idsTodosNodosRender.includes(this.esteNodo.id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.enlacesNodo {\r\n  position: relative;\r\n}\r\n.enlaces {\r\n  position: absolute;\r\n  pointer-events: none;\r\n}\r\n.vinculo {\r\n  position: absolute;\r\n  transform-origin: 0% 0%;\r\n  /* transition: left 3s, top 3s; */\r\n}\r\n.fuerza {\r\n  position: absolute;\r\n  transform-origin: 0% 0%;\r\n  height: 3px;\r\n}\r\n#fuerzaColision {\r\n  background-color: red;\r\n}\r\n#fuerzaCentroMasa {\r\n  background-color: yellow;\r\n}\r\n.flechaVinculo {\r\n  width: 1px;\r\n  height: 1px;\r\n  border-style: solid;\r\n  border-color: transparent;\r\n  border-left-color: inherit;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.vinculoGris {\r\n  background-color: black;\r\n}\r\n.fade-enter-active {\r\n  animation: fade 0.5s;\r\n}\r\n.fade-leave-active {\r\n  animation: fade 0.5s reverse;\r\n}\r\n\r\n@keyframes fade {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnlacesNodo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnlacesNodo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EnlacesNodo.vue?vue&type=template&id=05d6656a&scoped=true&\"\nimport script from \"./EnlacesNodo.vue?vue&type=script&lang=js&\"\nexport * from \"./EnlacesNodo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EnlacesNodo.vue?vue&type=style&index=0&id=05d6656a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05d6656a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nodoPersona nodo\",class:{ seleccionado: _vm.seleccionado, deshabilitado: _vm.enviandoQueryGeneral },style:([\n    _vm.estiloPosicion,\n    _vm.estiloZeta,\n    _vm.estiloSize ])},[_c('div',{class:{ transparentoso: _vm.transparentoso },style:([_vm.estiloBolita]),attrs:{\"id\":\"bolita\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fotografiaEnabled),expression:\"fotografiaEnabled\"}],staticClass:\"iconoFondo\",attrs:{\"id\":\"fotografia\",\"src\":this.serverUrl + '/api/usuarios/fotografias/' + _vm.esteNodo.id,\"alt\":\"Usuario\"},on:{\"load\":function($event){_vm.fotografiaEnabled = true}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.esteNodo.vinculos && _vm.esteNodo.vinculos.length > 0),expression:\"esteNodo.vinculos && esteNodo.vinculos.length > 0\"}],class:{ deshabilitado: _vm.waitingFetchChildren },style:({\n      borderColor:\n        _vm.waitingFetchChildren || _vm.transparentoso\n          ? 'transparent'\n          : _vm.desplegado\n          ? 'var(--atlasNaranja)'\n          : 'gray',\n    }),attrs:{\"id\":\"iconoPlegado\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleDesplegar($event)}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.desplegado && !_vm.waitingFetchChildren),expression:\"!desplegado && !waitingFetchChildren\"}],class:{ transparentoso: _vm.transparentoso },staticStyle:{\"filter\":\"var(--atlasFilterGris)\"},attrs:{\"src\":require(\"@/assets/iconos/folder.svg\"),\"alt\":\"Plegado\",\"title\":\"Desplegar\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado && !_vm.waitingFetchChildren),expression:\"desplegado && !waitingFetchChildren\"}],class:{ transparentoso: _vm.transparentoso },staticStyle:{\"filter\":\"var(--atlasFilterGris)\"},attrs:{\"src\":require(\"@/assets/iconos/folderOpen.svg\"),\"alt\":\"Desplegado\",\"title\":\"Plegar\"}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.waitingFetchChildren),expression:\"waitingFetchChildren\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{class:{\n      transparentoso: _vm.transparentoso,\n      completa:\n        _vm.seleccionado || _vm.requeridoPorSeleccionado || _vm.requiereAlSeleccionado,\n    },style:([_vm.estiloCartelNombre, _vm.colorCartelNombre]),attrs:{\"id\":\"cartelNombre\"}},[_c('div',{attrs:{\"id\":\"nombre\",\"draggable\":\"false\"}},[_vm._v(\" \"+_vm._s(_vm.callingPosiciones ? _vm.esteNodo.fuerzaColision.fuerza.toFixed(2) + \"-\" + _vm.esteNodo.fuerzaColision.direccion.toFixed(2) : _vm.esteNodo.nombre)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuCx),expression:\"menuCx\"}],attrs:{\"id\":\"menuContextual\"},on:{\"mouseup\":function($event){$event.stopPropagation();},\"mousedown\":function($event){$event.stopPropagation();}}},[(_vm.usuarioResponsableAmplio)?[_c('div',{staticClass:\"tituloSeccionMenuCx\"},[_vm._v(\"Crear nuevo...\")]),_c('div',{staticClass:\"botonesSeccionMenuCx\"},[_c('div',{staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.creandoSubNodo },on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevoNodoUnder({ tipoNodo: 'trabajo' })}}},[_vm._v(\" Trabajo \")]),(_vm.esteNodo.tipoNodo != 'trabajo')?_c('div',{staticClass:\"botonMenuCx\",class:{ deshabilitado: _vm.creandoSubNodo },on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevoNodoUnder({ tipoNodo: 'objetivo' })}}},[_vm._v(\" Objetivo \")]):_vm._e()])]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"nodoPersona nodo\"\r\n    :class=\"{ seleccionado, deshabilitado: enviandoQueryGeneral }\"\r\n    :style=\"[\r\n      estiloPosicion,\r\n      estiloZeta,\r\n      estiloSize,      \r\n    ]\"\r\n  >\r\n    <div id=\"bolita\" :style=\"[estiloBolita]\" :class=\"{ transparentoso }\">\r\n      <img\r\n        id=\"fotografia\"\r\n        class=\"iconoFondo\"\r\n        :src=\"\r\n          this.serverUrl + '/api/usuarios/fotografias/' + esteNodo.id\r\n        \"\r\n        v-show=\"fotografiaEnabled\"\r\n        @load=\"fotografiaEnabled = true\"\r\n        alt=\"Usuario\"\r\n      />\r\n    </div>\r\n\r\n    <div\r\n      id=\"iconoPlegado\"\r\n      v-show=\"esteNodo.vinculos && esteNodo.vinculos.length > 0\"\r\n      :class=\"{ deshabilitado: waitingFetchChildren }\"\r\n      @click.stop=\"toggleDesplegar\"\r\n      :style=\"{\r\n        borderColor:\r\n          waitingFetchChildren || transparentoso\r\n            ? 'transparent'\r\n            : desplegado\r\n            ? 'var(--atlasNaranja)'\r\n            : 'gray',\r\n      }\"\r\n    >\r\n      <img\r\n        src=\"@/assets/iconos/folder.svg\"\r\n        v-show=\"!desplegado && !waitingFetchChildren\"\r\n        alt=\"Plegado\"\r\n        title=\"Desplegar\"\r\n        style=\"filter: var(--atlasFilterGris)\"\r\n        :class=\"{ transparentoso }\"\r\n      />\r\n      <img\r\n        src=\"@/assets/iconos/folderOpen.svg\"\r\n        v-show=\"desplegado && !waitingFetchChildren\"\r\n        alt=\"Desplegado\"\r\n        title=\"Plegar\"\r\n        style=\"filter: var(--atlasFilterGris)\"\r\n        :class=\"{ transparentoso }\"\r\n      />\r\n      <loading texto=\"\" v-show=\"waitingFetchChildren\" />\r\n    </div>\r\n\r\n    <div\r\n      id=\"cartelNombre\"\r\n      :style=\"[estiloCartelNombre, colorCartelNombre]\"\r\n      :class=\"{\r\n        transparentoso,\r\n        completa:\r\n          seleccionado || requeridoPorSeleccionado || requiereAlSeleccionado,\r\n      }\"\r\n    >\r\n      <div id=\"nombre\" draggable=\"false\">\r\n        <!-- <img\r\n          src=\"@/assets/iconos/estrella.png\"\r\n          alt=\"\"\r\n          class=\"iconoNodo\"\r\n          draggable=\"false\"\r\n          :style=\"{width: Math.round(17*factorZoom)+'px'}\"\r\n          :class=\"{\r\n            iconoCompletado: esteNodo.estadoDesarrollo === 'completado',\r\n          }\"\r\n        /> -->\r\n        {{\r\n          callingPosiciones\r\n            ? esteNodo.fuerzaColision.fuerza.toFixed(2) +\r\n              \"-\" +\r\n              esteNodo.fuerzaColision.direccion.toFixed(2)\r\n            : esteNodo.nombre\r\n        }}\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      id=\"menuContextual\"\r\n      @mouseup.stop=\"\"\r\n      @mousedown.stop=\"\"\r\n      v-show=\"menuCx\"\r\n    >\r\n      <template v-if=\"usuarioResponsableAmplio\">\r\n        <div class=\"tituloSeccionMenuCx\">Crear nuevo...</div>\r\n        <div class=\"botonesSeccionMenuCx\">\r\n          <div\r\n            class=\"botonMenuCx\"\r\n            :class=\"{ deshabilitado: creandoSubNodo }\"\r\n            @click.stop=\"crearNuevoNodoUnder({ tipoNodo: 'trabajo' })\"\r\n          >\r\n            Trabajo\r\n          </div>\r\n          <div\r\n            class=\"botonMenuCx\"\r\n            v-if=\"esteNodo.tipoNodo != 'trabajo'\"\r\n            :class=\"{ deshabilitado: creandoSubNodo }\"\r\n            @click.stop=\"crearNuevoNodoUnder({ tipoNodo: 'objetivo' })\"\r\n          >\r\n            Objetivo\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport {\r\n  MixinEdicionVinculosNodoSolidaridad,\r\n  MixinNodoAtlas,\r\n  MixinPermisosUsuarioNodoSolidaridad,\r\n} from \"./ConfiguracionNodoSolidaridad\";\r\nexport default {\r\n  components: { Loading },\r\n  props: {\r\n    esteNodo: Object,\r\n    esNodoYo:Boolean\r\n  },\r\n  name: \"NodoPersona\",\r\n  mixins: [MixinNodoAtlas, MixinPermisosUsuarioNodoSolidaridad, MixinEdicionVinculosNodoSolidaridad],\r\n  data() {\r\n    return {\r\n      montado: true,\r\n\r\n      fotografiaEnabled: false,\r\n      enviandoQueryGeneral: false,\r\n\r\n\r\n      size: {\r\n        x: 50,\r\n        y: 50,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    colorCartelNombre() {\r\n      var color = \"var(--atlasGris)\";\r\n      var borde = \"1px solid black\";\r\n\r\n      if (this.esNodoYo) {\r\n        color = \"rgb(180 117 148)\";\r\n        borde = \"1px solid var(--atlasMorado)\";\r\n      }\r\n\r\n      if (this.seleccionado) {\r\n        borde = \"1px solid var(--atlasNaranja)\";\r\n        color = \"var(--atlasNaranja)\";\r\n      }\r\n      return {\r\n        backgroundColor: color,\r\n        border: borde,\r\n      };\r\n    },\r\n    \r\n    nodoPersonaResponsableSeleccionado(){\r\n        return this.nodoSeleccionado.responsables.includes(this.esteNodo.id);\r\n    }\r\n  },\r\n  methods: {    \r\n  },\r\n  mounted() {\r\n    this.montado = true;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"./estilosNodoAtlas.css\";\r\n</style>\r\n\r\n<style scoped>\r\n#fotografia {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#bolita {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoPersona.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoPersona.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodoPersona.vue?vue&type=template&id=0364d76c&scoped=true&\"\nimport script from \"./NodoPersona.vue?vue&type=script&lang=js&\"\nexport * from \"./NodoPersona.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NodoPersona.vue?vue&type=style&index=0&id=0364d76c&scoped=true&lang=css&\"\nimport style1 from \"./NodoPersona.vue?vue&type=style&index=1&id=0364d76c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0364d76c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    class=\"atlasSolidaridad\"\r\n    @mousedown.left.exact.self.stop=\"panningVista = true\"\r\n    @mouseenter=\"hovered = true\"\r\n    @mouseleave=\"hovered = false\"\r\n    @click.right.self.exact.prevent=\"abrirMenuContextual\"\r\n    @mousemove=\"panVista\"\r\n    @mouseup.left=\"clickFondoAtlas\"\r\n    @touchmove.prevent.stop=\"movimientoMobile\"\r\n    @touchstart=\"iniciaMovimientoTouch\"\r\n    @touchend=\"finTouch\"\r\n  >    \r\n    <div\r\n      id=\"botonCallingPosiciones\"\r\n      v-if=\"usuarioSuperadministrador && usuario.username == 'juanMamian'\"\r\n      @click.stop=\"iniciarCallingPosiciones\"\r\n      :class=\"{ deshabilitado: callingPosiciones }\"\r\n      :style=\"[\r\n        { backgroundColor: callingPosiciones ? 'green' : 'transparent' },\r\n      ]\"\r\n    ></div>\r\n    <transition name=\"fadeOut\">\r\n      <div v-show=\"showingZoomInfo\" id=\"infoZoom\">x{{ factorZoom }}</div>\r\n    </transition>      \r\n    <div\r\n      id=\"menuContextual\"\r\n      v-if=\"usuario && usuario.id\"\r\n      v-show=\"mostrandoMenuContextual\"\r\n      :style=\"[offsetMenuContextual]\"\r\n      :class=\"{ deshabilitado: enviandoQueryNodos }\"\r\n    >\r\n      <div\r\n        class=\"botonMenuContextual\"\r\n        id=\"botonCrearObjetivo\"\r\n        v-show=\"usuarioSuperadministrador\"\r\n        @mouseup.left.stop=\"\"\r\n        @click.stop=\"crearNodoEnMenuContextual('objetivo')\"\r\n      >\r\n        Crear objetivo\r\n      </div>\r\n      <div\r\n        class=\"botonMenuContextual\"\r\n        id=\"botonCrearObjetivo\"\r\n        @click.stop=\"crearNodoEnMenuContextual('trabajo')\"\r\n        @mouseup.left.stop=\"\"\r\n        v-show=\"usuarioSuperadministrador\"\r\n      >\r\n        Crear trabajo\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      id=\"centroVista\"\r\n      v-show=\"usuarioSuperadministrador && callingPosiciones\"\r\n    >\r\n      {{ centroVista.x + \", \" + centroVista.y }}\r\n    </div>\r\n\r\n    <div id=\"contenedorVinculosNodos\" :style=\"[posContenedores]\">\r\n      <enlaces-nodo\r\n        v-for=\"nodo of nodosConRequerimentos\"\r\n        :yo=\"yo\"\r\n        :key=\"nodo.id\"\r\n        :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n        :esteNodo=\"nodo\"\r\n        :todosNodos=\"todosNodos\"\r\n        :factorZoom=\"factorZoom\"\r\n        :nodoSeleccionado=\"nodoSeleccionado\"\r\n        :redibujarEnlaces=\"redibujarEnlacesNodos\"\r\n        :idsTodosNodosRender=\"idsTodosNodosRender\"\r\n        :callingPosiciones=\"callingPosiciones\"\r\n        :transicionarPosicionNodos=\"transicionarPosicionNodos\"\r\n      />\r\n    </div>\r\n\r\n    <div id=\"contenedorNodos\" :style=\"[posContenedores]\">\r\n      <nodo-persona\r\n        v-for=\"persona of personasRender\"\r\n        :esNodoYo=\"nodoYo.id === persona.id\"\r\n        :key=\"persona.id\"\r\n        :esteNodo=\"persona\"\r\n        :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n        :idsNodosNeedingFetchMore=\"idsNodosNeedingFetchMore\"\r\n        :nodoSeleccionado=\"nodoSeleccionado\"\r\n        :nodosUnder=\"indiceNodosUnder[persona.id]\"\r\n        :requeridoPorSeleccionado=\"\r\n          idsNodosRequeridosSeleccionado.includes(persona.id)\r\n        \"\r\n        :requiereAlSeleccionado=\"\r\n          idsNodosRequierenSeleccionado.includes(persona.id)\r\n        \"\r\n        :idsNodosDesplegados=\"idsNodosDesplegados\"\r\n        :menuCx=\"idNodoMenuCx && idNodoMenuCx === persona.id\"\r\n        :factorZoom=\"factorZoom\"\r\n        :callingPosiciones=\"callingPosiciones\"\r\n        :transparentoso=\"\r\n          idNodoSeleccionado &&\r\n          idNodoSeleccionado != persona.id &&\r\n          !nodoSeleccionado.responsables.includes(persona.id) &&\r\n          !idsNodosRequierenSeleccionado.includes(persona.id) &&\r\n          nodoSeleccionado &&\r\n          nodoSeleccionado.nodoParent != persona.id\r\n        \"\r\n        :todosNodos=\"todosNodos\"\r\n        :todasPersonas=\"personas\"\r\n        :transicionarPosicionNodos=\"transicionarPosicionNodos\"\r\n        @mouseup.native.stop=\"\"\r\n        @click.native=\"idNodoSeleccionado = persona.id\"\r\n        @click.native.right.exact.stop.prevent=\"idNodoMenuCx = persona.id\"\r\n        @nodoSolidaridadCreado=\"addNodoToNodosSolidaridad($event)\"\r\n\r\n      />\r\n      <transition-group name=\"fade\" tag=\"div\" v-if=\"indiceNodosUnder\">\r\n        <nodo\r\n          v-for=\"nodo of nodosSolidaridadRender\"\r\n          :key=\"nodo.id\"\r\n          :esteNodo=\"nodo\"\r\n          :nodoYo=\"nodoYo\"\r\n          :idNodoSeleccionado=\"idNodoSeleccionado\"\r\n          :idsNodosNeedingFetchMore=\"idsNodosNeedingFetchMore\"\r\n          :nodoParent=\"todosNodos.find((n) => n.id === nodo.nodoParent)\"\r\n          :nodoSeleccionado=\"nodoSeleccionado\"\r\n          :nodosUnder=\"indiceNodosUnder[nodo.id]\"\r\n          :requeridoPorSeleccionado=\"\r\n            idsNodosRequeridosSeleccionado.includes(nodo.id)\r\n          \"\r\n          :seleccionadoEsResponsable=\"\r\n            nodo.responsables.includes(idNodoSeleccionado)\r\n          \"\r\n          :requiereAlSeleccionado=\"\r\n            idsNodosRequierenSeleccionado.includes(nodo.id)\r\n          \"\r\n          :enVentanita=\"idNodoPaVentanita === nodo.id\"\r\n          :idsNodosDesplegados=\"idsNodosDesplegados\"\r\n          :menuCx=\"idNodoMenuCx && idNodoMenuCx == nodo.id\"\r\n          :factorZoom=\"factorZoom\"\r\n          :callingPosiciones=\"callingPosiciones\"\r\n          :usuarioAdministradorNodoSeleccionado=\"\r\n            usuarioAdministradorNodoSeleccionado\r\n          \"\r\n          :usuarioResponsableNodoSeleccionado=\"\r\n            usuarioResponsableNodoSeleccionado\r\n          \"\r\n          :usuarioResponsableAmplioNodoSeleccionado=\"\r\n            usuarioResponsableAmplioNodoSeleccionado\r\n          \"\r\n          :transparentoso=\"\r\n            idNodoSeleccionado &&\r\n            idNodoSeleccionado != nodo.id &&\r\n            !idsNodosRequeridosSeleccionado.includes(nodo.id) &&\r\n            !idsNodosRequierenSeleccionado.includes(nodo.id) &&\r\n            !nodo.responsables.includes(idNodoSeleccionado) &&\r\n            nodoSeleccionado &&\r\n            nodoSeleccionado.nodoParent != nodo.id\r\n          \"\r\n          :childSeleccionado=\"idsNodosChildrenSeleccionado.includes(nodo.id)\"\r\n          :todosNodos=\"todosNodos\"\r\n          :transicionarPosicionNodos=\"transicionarPosicionNodos\"\r\n          @meMovi=\"redibujarEnlacesNodos++\"\r\n          @mouseup.native.stop=\"\"\r\n          @click.native=\"idNodoSeleccionado = nodo.id\"\r\n          @click.native.right.exact.stop.prevent=\"idNodoMenuCx = nodo.id\"\r\n          @meAbrieron=\"setNodoEnVentanita(nodo.id)\"\r\n          @meElimine=\"eliminarNodoCache(nodo.id)\"\r\n          @nodoSolidaridadCreado=\"addNodoToNodosSolidaridad($event)\"\r\n\r\n        />\r\n      </transition-group>\r\n\r\n      <div\r\n        id=\"indicadorCentroDescarga\"\r\n        :style=\"[\r\n          {\r\n            left: centroDescarga.x * factorZoom + 'px',\r\n            top: centroDescarga.y * factorZoom + 'px',\r\n            width: 20 * factorZoom + 'px',\r\n            height: 20 * factorZoom + 'px',\r\n          },\r\n        ]\"\r\n        v-show=\"usuario.username == 'juanMamian'\"\r\n      ></div>\r\n      <div\r\n        id=\"indicadorCentroVista\"\r\n        :style=\"[\r\n          {\r\n            left: centroVista.x * factorZoom + 'px',\r\n            top: centroVista.y * factorZoom + 'px',\r\n            width: 20 * factorZoom + 'px',\r\n            height: 20 * factorZoom + 'px',\r\n          },\r\n        ]\"\r\n        v-show=\"usuario.username == 'juanMamian'\"\r\n      ></div>\r\n    </div>\r\n\r\n    <!-- <ventanita-nodo\r\n      v-if=\"idNodoPaVentanita && nodoEnVentanita && !callingPosiciones\"      \r\n      :key=\"nodoEnVentanita.id\"\r\n      :esteNodo=\"nodoEnVentanita\"      \r\n      @cerrarme=\"cerrarNodoEnVentanita()\"\r\n    /> -->\r\n\r\n    <router-view\r\n      v-if=\"idNodoPaVentanita && nodoEnVentanita && !callingPosiciones\"\r\n      :key=\"nodoEnVentanita.id\"\r\n      :esteNodo=\"nodoEnVentanita\"\r\n      @cerrarme=\"cerrarNodoEnVentanita()\"\r\n    />\r\n\r\n    <transition name=\"fadeOutLento\">\r\n      <div id=\"nombreNodoEmergente\" v-show=\"showingNombreNodoEmergente\">\r\n        {{ nodoSeleccionado ? nodoSeleccionado.nombre : \"\" }}\r\n      </div>\r\n    </transition>\r\n\r\n    <div id=\"panelConfiguracion\" @mouseup.stop=\"\">\r\n      <div\r\n        class=\"boton botonPanelConfiguracion\"\r\n        :class=\"{ activo: mostrandoPersonas }\"\r\n        :title=\"mostrandoPersonas ? 'Ocultar personas' : 'Mostrar personas'\"\r\n        @click.stop=\"mostrandoPersonas = !mostrandoPersonas\"\r\n      >\r\n        <img src=\"@/assets/iconos/user.svg\" alt=\"Usuarios\" />\r\n      </div>\r\n    </div>\r\n\r\n    <loading\r\n      id=\"loadingNodos\"\r\n      v-show=\"        \r\n        $apollo.queries.nodoRoot.loading        \r\n      \"\r\n      texto=\"Descargando información...\"\r\n      colorLetra=\"white\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\n\r\nimport Loading from \"../utilidades/Loading.vue\";\r\nimport Nodo from \"./Nodo.vue\";\r\nimport EnlacesNodo from \"./EnlacesNodo.vue\";\r\nimport debounce from \"debounce\";\r\nimport { fragmentoNodoSolidaridad, fragmentoPersonaAtlas } from \"./frags\";\r\nimport NodoPersona from \"./NodoPersona.vue\";\r\nimport { MixinAtlasSolidaridad } from \"./MixinAtlasSolidaridad\";\r\nimport { QUERY_DATOS_USUARIO_ATLAS_SOLIDARIDAD } from \"./ConfiguracionNodoSolidaridad\";\r\n// const QUERY_NODOS = gql`\r\n//   query ($nivel: Int!) {\r\n//     nodosSolidaridadById(nivel: $nivel) {\r\n//       ...fragNodoSolidaridad\r\n//     }\r\n//   }\r\n//   ${fragmentoNodoSolidaridad}\r\n// `;\r\n\r\nexport const QUERY_PERSONAS_ATLAS_SOLIDARIDAD = gql`\r\n  query ($idsUsuarios: [ID!]) {\r\n    usuariosByIds(idsUsuarios: $idsUsuarios) {\r\n      ...fragPersonaAtlas\r\n    }\r\n  }\r\n  ${fragmentoPersonaAtlas}\r\n`;\r\n\r\nexport const QUERY_NODOS_ATLAS = gql`\r\n  query {\r\n    nodosSolidaridadByIds {\r\n      ...fragNodoSolidaridad\r\n    }\r\n  }\r\n  ${fragmentoNodoSolidaridad}\r\n`;\r\n\r\nexport default {\r\n  components: {\r\n    Loading,\r\n    Nodo,\r\n    EnlacesNodo,\r\n    NodoPersona,\r\n  },\r\n  name: \"AtlasSolidaridad\",\r\n  apollo: {           \r\n    yo: {\r\n      query: QUERY_DATOS_USUARIO_ATLAS_SOLIDARIDAD,\r\n      update({ yo }) {\r\n        this.calcularEsquinaVista(yo.coords);\r\n        this.datosYoDescargados = true;\r\n        return yo;\r\n      },\r\n      skip() {\r\n        return !this.usuarioLogeado || !this.montado;\r\n      },\r\n      fetchPolicy: \"network-only\",\r\n    },\r\n    $subscribe:{\r\n      nodosAtlasPosicionados: {\r\n        query: gql`\r\n          subscription ($idAtlas: ID!) {\r\n            nodosAtlasPosicionados(idAtlas: $idAtlas)\r\n          }\r\n        `,\r\n        variables: {\r\n          idAtlas: \"61b3fe0280509360825b2634\", //Id del atlas de solidaridad.\r\n        },\r\n        result() {\r\n          console.log(\r\n            `Nodos del atlas han sido posicionados. Refetching coords`\r\n          );\r\n          this.refetchCoordsNodos();\r\n        },\r\n      },\r\n    }    \r\n  },\r\n  mixins: [MixinAtlasSolidaridad],\r\n  data() {\r\n    return {\r\n      tipoNodoRoot:'usuario',\r\n      montado: false,\r\n      personas: [],\r\n      descargasPersonas: 0,\r\n      nodosRenderRoot: [],\r\n      nodosSolidaridadRender: [],\r\n\r\n      personasRenderRoot: [],\r\n      personasRender: [],\r\n\r\n      mostrandoMenuContextual: false,\r\n      posMenuContextual: {\r\n        top: 0,\r\n        left: 0,\r\n      },\r\n\r\n      esquinaVistaDecimal: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      centroDescarga: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n\r\n      radioDescarga: null,\r\n      sizeAtlas: {\r\n        x: 0,\r\n        y: 0,\r\n        diagonal: 0,\r\n      },\r\n      panningVista: false,\r\n      vistaPanned: false,\r\n      hovered: false,\r\n\r\n      idNodoSeleccionado: null,\r\n      idNodoMenuCx: null,\r\n      idNodoCentradoArbol: null,\r\n\r\n      zoom: 80,\r\n      minZoom: 20,\r\n      maxZoom: 120,\r\n      showingZoomInfo: false,\r\n      infoPosZoom: null,\r\n\r\n      pinching: false,\r\n      lastPinchDistance: 0,\r\n\r\n      // proyectos: [],\r\n      // trabajos: [],\r\n      // objetivos: [],\r\n\r\n      enviandoQueryNodos: false,\r\n      refetchingCoords: false,\r\n      transicionarPosicionNodos: true,\r\n\r\n      callingPosiciones: false,\r\n\r\n      redibujarEnlacesNodos: 0,\r\n\r\n      enviandoCoordsVistaUsuario: false,\r\n      esquinaVistaCalculada: false,\r\n\r\n      mostrandoPersonas: false,\r\n\r\n      showingNombreNodoEmergente: false,\r\n      vista: \"atlas\",\r\n    };\r\n  },\r\n  methods: {    \r\n    setNodosRender() {\r\n      if (!this.indiceNodosUnder || this.indiceNodosUnder.length < 1) return [];\r\n      console.log(`Setting nodos render`);      \r\n      var currentTodosNodos = {\r\n        nodosSolidaridad: this.nodosSolidaridadRoot,\r\n        personas: this.personasRoot,\r\n      };\r\n      var nodosSolidaridadRender=this.nodosSolidaridadRoot;\r\n      var personasRender=this.personasRoot;\r\n\r\n      var idsnodosSolidaridadRenderParcial = nodosSolidaridadRender.map((nr) => nr.id);\r\n      var idsPersonasRenderParcial = personasRender.map((p) => p.id);\r\n      var cuenta = 0;\r\n      do {\r\n        cuenta++;\r\n        if (cuenta > 1000) {\r\n          console.log(`OVERFLOW`);\r\n          break;\r\n        }\r\n        //nodosUnder\r\n        let nodosUnder = currentTodosNodos.nodosSolidaridad\r\n          .concat(currentTodosNodos.personas)\r\n          .filter((cr) => this.idsNodosDesplegados.includes(cr.id))\r\n          .reduce((acc, cn) => {\r\n            const requeridos = this.indiceNodosUnder[cn.id].nodosRequeridos;\r\n            return acc.concat(requeridos.filter(r=>!acc.map(v=>v.id).includes(r.id)));\r\n          }, []);\r\n        let nodosUnderNuevos = nodosUnder.filter(\r\n          (nu) => !idsnodosSolidaridadRenderParcial.includes(nu.id)\r\n        );\r\n\r\n        //PersonasUnder\r\n        let personasUnder = [];\r\n        let personasUnderNuevos = [];\r\n        if (this.mostrandoPersonas) {\r\n          personasUnder = currentTodosNodos.nodosSolidaridad\r\n            .filter((n) => this.idsNodosDesplegados.includes(n.id))\r\n            .reduce((acc, cn) => {\r\n              const responsables=this.indiceNodosUnder[cn.id].responsables;\r\n              return acc.concat(responsables.filter(r=>!acc.map(v=>v.id).includes(r.id)));\r\n            }, []);\r\n          personasUnderNuevos = personasUnder.filter(\r\n            (p) => !idsPersonasRenderParcial.includes(p.id)\r\n          );\r\n        }\r\n\r\n        nodosSolidaridadRender = nodosSolidaridadRender.concat(nodosUnderNuevos);\r\n        personasRender = personasRender.concat(personasUnderNuevos);\r\n\r\n        currentTodosNodos.nodosSolidaridad = nodosUnderNuevos;\r\n        currentTodosNodos.personas = personasUnderNuevos;\r\n\r\n        idsnodosSolidaridadRenderParcial = nodosSolidaridadRender.map((nr) => nr.id);\r\n        idsPersonasRenderParcial = personasRender.map((p) => p.id);\r\n      } while (\r\n        currentTodosNodos.nodosSolidaridad.length + currentTodosNodos.personas.length >\r\n        0\r\n      );\r\n\r\n      this.nodosSolidaridadRender = nodosSolidaridadRender;\r\n      this.personasRender = personasRender;\r\n    },\r\n    setNodoEnVentanita(idNodo) {\r\n      console.log(`Setting path to ${idNodo}`);\r\n      // var currentPath = this.$route.currentRoute.path;\r\n      // console.log(`Era: ${currentPath}`);\r\n      this.$router.push({ name: \"nodoEnVentanita\", params: { idNv: idNodo } });\r\n    },\r\n    cerrarNodoEnVentanita() {\r\n      console.log(`Cerrando nodo en ventanita`);\r\n      this.$router.push({ name: \"atlasSolidaridad\" });\r\n    },\r\n    iniciarCallingPosiciones() {\r\n      var ciclos = prompt(\"¿Cuantos ciclos?\");\r\n      if (isNaN(ciclos)) {\r\n        return;\r\n      }\r\n\r\n      ciclos = Math.round(ciclos);\r\n      if (ciclos < 1) {\r\n        return;\r\n      }\r\n      console.log(`Enviando reposicionamiento de ${ciclos} ciclos`);\r\n      this.callingPosiciones = true;\r\n\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query ($ciclos: Int!) {\r\n              posicionarNodosSolidaridadByFuerzas(ciclos: $ciclos)\r\n            }\r\n          `,\r\n          variables: {\r\n            ciclos,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.callingPosiciones = false;\r\n        })\r\n        .catch((error) => {\r\n          this.callingPosiciones = false;\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },\r\n    calcularEsquinaVista(centro) {\r\n      console.log(`Centrando en usuario`);\r\n      if (this.esquinaVistaCalculada) return;\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"x\",\r\n        Math.round(centro.x - this.sizeAtlas.x / (2 * this.factorZoom))\r\n      );\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"y\",\r\n        Math.round(centro.y - this.sizeAtlas.y / (2 * this.factorZoom))\r\n      );\r\n      this.esquinaVistaCalculada = true;\r\n    },\r\n    abrirMenuContextual(e) {\r\n      let posAtlas = this.$el.getBoundingClientRect();\r\n\r\n      let topClick = Math.round(e.pageY - posAtlas.top);\r\n      let leftClick = Math.round(e.pageX - posAtlas.left);\r\n\r\n      this.$set(this.posMenuContextual, \"y\", topClick);\r\n      this.$set(this.posMenuContextual, \"x\", leftClick);\r\n      this.mostrandoMenuContextual = true;\r\n    },\r\n    uploadVistaActual: debounce(function () {\r\n      this.enviandoCoordsVistaUsuario = true;\r\n      console.log(`Uploading vista de usuario`);\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($coords: CoordsInput!) {\r\n              setCoordsVistaAtlasSolidaridadUsuario(coords: $coords)\r\n            }\r\n          `,\r\n          variables: {\r\n            coords: {\r\n              x: Math.round(\r\n                this.esquinaVistaDecimal.x +\r\n                  this.sizeAtlas.x / (2 * this.factorZoom)\r\n              ),\r\n              y: Math.round(\r\n                this.esquinaVistaDecimal.y +\r\n                  this.sizeAtlas.y / (2 * this.factorZoom)\r\n              ),\r\n            },\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoCoordsVistaUsuario = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoCoordsVistaUsuario = false;\r\n        });\r\n    }, 3000),\r\n    desplazarVista(deltaX, deltaY) {\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"x\",\r\n        this.esquinaVistaDecimal.x - deltaX\r\n      );\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"y\",\r\n        this.esquinaVistaDecimal.y - deltaY\r\n      );\r\n      this.uploadVistaActual();\r\n    },\r\n    panVista(e) {\r\n      if (!this.panningVista) {\r\n        return;\r\n      }\r\n      this.desplazarVista(\r\n        e.movementX / this.factorZoom,\r\n        e.movementY / this.factorZoom\r\n      );\r\n      e.preventDefault();\r\n      this.vistaPanned = true;\r\n    },\r\n    clickFondoAtlas() {\r\n      if (!this.vistaPanned) {\r\n        if (!this.idNodoPaVentanita) {\r\n          this.idNodoSeleccionado = null;\r\n        }\r\n        if (this.$route.name === \"nodoEnVentanita\") {\r\n          this.cerrarNodoEnVentanita();\r\n        }\r\n        this.idNodoMenuCx = null;\r\n\r\n        if (this.$route.name === \"atlasConLista\") {\r\n          this.$router.push({ name: \"atlasSolidaridad\" });\r\n        }\r\n      }\r\n      this.mostrandoMenuContextual = false;\r\n\r\n      this.panningVista = false;\r\n      this.vistaPanned = false;\r\n    },\r\n    movimientoMobile(e) {\r\n      if (this.pinching) {\r\n        var contenedor = this.$el;\r\n        let posContenedor = contenedor.getBoundingClientRect();\r\n\r\n        const posPinch = {\r\n          x:\r\n            (e.touches[0].pageX -\r\n              posContenedor.left +\r\n              (e.touches[1].pageX - posContenedor.left)) /\r\n            2,\r\n          y:\r\n            (e.touches[0].pageY -\r\n              posContenedor.top +\r\n              (e.touches[1].pageY - posContenedor.top)) /\r\n            2,\r\n        }; //Posición en pixeles.\r\n\r\n        const coordsPinch = {\r\n          x: Math.round(\r\n            posPinch.x / this.factorZoom + this.esquinaVistaDecimal.x\r\n          ),\r\n          y: Math.round(\r\n            posPinch.y / this.factorZoom + this.esquinaVistaDecimal.y\r\n          ),\r\n        }; //Posicion en unidades absolutas (Las que usa el atlas)\r\n\r\n        var dist = Math.hypot(\r\n          e.touches[0].pageX - e.touches[1].pageX,\r\n          e.touches[0].pageY - e.touches[1].pageY\r\n        );\r\n        var pinch = dist - this.lastPinchDistance;\r\n        pinch = pinch * 0.3;\r\n        this.zoomVista(pinch, coordsPinch);\r\n        this.lastPinchDistance = dist;\r\n\r\n        return;\r\n      }\r\n\r\n      const deltaX = Math.round(\r\n        (e.changedTouches[0].clientX - this.ultimoTouchX) / this.factorZoom\r\n      );\r\n      const deltaY = Math.round(\r\n        (e.changedTouches[0].clientY - this.ultimoTouchY) / this.factorZoom\r\n      );\r\n      this.ultimoTouchX = e.changedTouches[0].clientX;\r\n      this.ultimoTouchY = e.changedTouches[0].clientY;\r\n\r\n      this.desplazarVista(deltaX, deltaY);\r\n    },\r\n    iniciaMovimientoTouch(e) {\r\n      if (e.touches.length === 2) {\r\n        var dist = Math.hypot(\r\n          e.touches[0].pageX - e.touches[1].pageX,\r\n          e.touches[0].pageY - e.touches[1].pageY\r\n        );\r\n        this.lastPinchDistance = dist;\r\n        this.pinching = true;\r\n        return;\r\n      }\r\n\r\n      this.ultimoTouchX = e.changedTouches[0].clientX;\r\n      this.ultimoTouchY = e.changedTouches[0].clientY;\r\n    },\r\n    finTouch() {\r\n      this.pinching = false;\r\n    },\r\n    zoomVista(deltaZoom, posZoom) {\r\n      const viejoZoom = this.zoom;\r\n      var nuevoZoom = Math.round(this.zoom + deltaZoom);\r\n      if (nuevoZoom < this.minZoom) {\r\n        this.zoom = this.minZoom;\r\n      } else if (nuevoZoom > this.maxZoom) {\r\n        this.zoom = this.maxZoom;\r\n      } else {\r\n        this.zoom = nuevoZoom;\r\n      }\r\n\r\n      //Pan vista de acuerdo con la posición del mouse respecto del atlas\r\n      const distanciaEsquina = {\r\n        x: posZoom.x - this.esquinaVistaDecimal.x,\r\n        y: posZoom.y - this.esquinaVistaDecimal.y,\r\n      };\r\n      const proporcionZoom = viejoZoom / this.zoom;\r\n\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"x\",\r\n        posZoom.x - proporcionZoom * distanciaEsquina.x\r\n      );\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"y\",\r\n        posZoom.y - proporcionZoom * distanciaEsquina.y\r\n      );\r\n    },\r\n    zoomWheel(e) {\r\n      if (!this.hovered || !e.ctrlKey) {\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n      var contenedor = document.getElementById(\"contenedorNodos\");\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n\r\n      const posZoom = {\r\n        x: Math.round((e.clientX - posContenedor.left) / this.factorZoom),\r\n        y: Math.round((e.clientY - posContenedor.top) / this.factorZoom),\r\n      };\r\n\r\n      const factorZoom = 0.2;\r\n      this.zoomVista(-Math.round(e.deltaY * factorZoom), posZoom);\r\n\r\n      // const posZoom={\r\n      //   x: Math.round((e.clientX-posContenedor.left)/this.factorZoom)+this.esquinaVista.x,\r\n      //   y: Math.round((e.clientY-posContenedor.top)/this.factorZoom)+this.esquinaVista.y\r\n      // }\r\n\r\n      // const proporciones={\r\n      //   x: (posZoom.x-this.esquinaVistaDecimal.x)/(posContenedor.width/this.factorZoom),\r\n      //   y: (posZoom.y-this.esquinaVistaDecimal.y)/(posContenedor.height/this.factorZoom),\r\n      // }\r\n\r\n      // const factorZoom=0.2;\r\n      // this.zoomVista(-Math.round(e.deltaY*factorZoom), {x:posZoom.x, y: posZoom.y});\r\n\r\n      // this.$set(this.esquinaVistaDecimal, \"x\", posZoom.x-((posContenedor.width/this.factorZoom)*proporciones.x) );\r\n      // this.$set(this.esquinaVistaDecimal, \"y\", posZoom.y-((posContenedor.height/this.factorZoom)*proporciones.y) );\r\n    },\r\n    eliminarNodoCache(idNodo) {\r\n      console.log(`Eliminando nodo de caché`);\r\n      const indexN=this.nodosSolidaridad.find(n=>n.id===idNodo);\r\n      if(indexN>-1){\r\n        this.nodosSolidaridad.splice(indexN, 1);\r\n      }\r\n      else{\r\n        console.log(`Nodo no estaba en lista`);\r\n      }\r\n    },\r\n    crearNodoEnMenuContextual(tipo) {\r\n      let posContenedor = document\r\n        .getElementById(\"contenedorNodos\")\r\n        .getBoundingClientRect();\r\n\r\n      var posicionNuevoNodo = {\r\n        x: parseInt(\r\n          (parseInt(this.posMenuContextual.x) - posContenedor.left) /\r\n            this.factorZoom\r\n        ),\r\n        y: parseInt(\r\n          (parseInt(this.posMenuContextual.y) - posContenedor.top) /\r\n            this.factorZoom\r\n        ),\r\n      };\r\n\r\n      console.log(`Creando nuevo nodo en ${JSON.stringify(posicionNuevoNodo)}`);\r\n      this.crearNodo(posicionNuevoNodo, tipo);\r\n    },\r\n    crearNodo(posicion, tipoNodo) {\r\n      if (!this.usuario || !this.usuario.id) {\r\n        console.log(`Error usuario no logeado`);\r\n        return;\r\n      }\r\n      console.log(`enviando una mutación de crear nodo`);\r\n      this.enviandoQueryNodos = true;\r\n\r\n      let infoNodo = {\r\n        coords: {\r\n          x: posicion.x,\r\n          y: posicion.y,\r\n        },\r\n        tipoNodo,\r\n      };\r\n      console.log(`en las coordenadas: ${posicion.x}, ${posicion.y}`);\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($infoNodo: NodoSolidaridadInput!) {\r\n              crearNodoSolidaridad(infoNodo: $infoNodo) {\r\n                ...fragNodoSolidaridad\r\n              }\r\n            }\r\n            ${fragmentoNodoSolidaridad}\r\n          `,\r\n          variables: {\r\n            infoNodo,\r\n          },\r\n        })\r\n        .then(({ data: { crearNodoSolidaridad } }) => {\r\n          console.log(`Creado ${crearNodoSolidaridad.id}`);\r\n          const store = this.$apollo.provider.defaultClient;\r\n          const cache = store.readQuery({\r\n            query: QUERY_NODOS_ATLAS,\r\n            variables: {\r\n              centro: {\r\n                x: this.centroDescarga.x,\r\n                y: this.centroDescarga.y,\r\n              },\r\n              radio: this.radioDescarga,\r\n            },\r\n          });\r\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n          var losNodos = nuevoCache.nodosSolidaridadById;\r\n          const indexN = losNodos.findIndex(\r\n            (n) => n.id === crearNodoSolidaridad.id\r\n          );\r\n          if (indexN > -1) {\r\n            console.log(`El nodo ya estaba en caché`);\r\n          } else {\r\n            losNodos.push(crearNodoSolidaridad);\r\n            store.writeQuery({\r\n              query: QUERY_NODOS_ATLAS,\r\n              variables: {\r\n                centro: {\r\n                  x: this.centroDescarga.x,\r\n                  y: this.centroDescarga.y,\r\n                },\r\n                radio: this.radioDescarga,\r\n              },\r\n              data: nuevoCache,\r\n            });\r\n          }\r\n          this.setNodoEnVentanita(crearNodoSolidaridad.id);\r\n          this.enviandoQueryNodos = false;\r\n          this.mostrandoMenuContextual = false;\r\n\r\n          //this.$router.push(\"/nodoConocimiento/\"+crearNodoSolidaridad.id);\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoQueryNodos = false;\r\n          console.log(`Error. E: ${error}`);\r\n        });\r\n    },\r\n    centrarEnNodo(n) {\r\n      var contenedor = this.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"x\",\r\n        n.coords.x - posContenedor.width / (2 * this.factorZoom)\r\n      );\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"y\",\r\n        n.coords.y - posContenedor.height / (2 * this.factorZoom)\r\n      );\r\n      this.idNodoSeleccionado = n.id;\r\n      //this.centroVista=e;\r\n    },\r\n    centrarEnNodoById(idNodo) {\r\n      var contenedor = this.$el;\r\n      let posContenedor = contenedor.getBoundingClientRect();\r\n\r\n      const elNodo = this.todosNodos.find((n) => n.id === idNodo);\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"x\",\r\n        elNodo.coords.x - posContenedor.width / (2 * this.factorZoom)\r\n      );\r\n      this.$set(\r\n        this.esquinaVistaDecimal,\r\n        \"y\",\r\n        elNodo.coords.y - posContenedor.height / (2 * this.factorZoom)\r\n      );\r\n      this.idNodoSeleccionado = idNodo;\r\n\r\n      //this.centroVista=e;\r\n    },\r\n\r\n    uploadNodosDesplegados: debounce(function () {\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idsNodos: [ID!]) {\r\n              setNodosSolidaridadDesplegadosUsuario(idsNodos: $idsNodos)\r\n            }\r\n          `,\r\n          variables: {\r\n            idsNodos: this.idsNodosDesplegados,\r\n          },\r\n        })\r\n        .then(() => {})\r\n        .catch((error) => {\r\n          console.log(`Error: E:${error}`);\r\n        });\r\n    }, 5000),\r\n    refetchCoordsNodos: debounce(function () {\r\n      console.log(`Iniciando refetch de coords`);\r\n      this.refetchingCoords = true;\r\n      this.$apollo\r\n        .query({\r\n          query: gql`\r\n            query ($idsNodos: [ID!]) {\r\n              nodosSolidaridadByIds(idsNodos: $idsNodos) {\r\n                id\r\n                coords {\r\n                  x\r\n                  y\r\n                }\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idsNodos: this.todosNodos.map((n) => n.id),\r\n          },\r\n        })\r\n        .then(() => {\r\n          console.log(`Coords refetched`);\r\n          this.refetchingCoords = false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.refetchingCoords = false;\r\n        });\r\n    }, 2000),\r\n    hideNombreNodoEmergente: debounce(function () {\r\n      this.showingNombreNodoEmergente = false;\r\n    }, 4000),\r\n    hideZoomInfo: debounce(function () {\r\n      this.showingZoomInfo = false;\r\n    }, 1000),\r\n  },\r\n  computed: {\r\n    personasRoot(){\r\n      if(this.nodoRoot.__typename==='Usuario'){\r\n        return [this.nodoRoot]\r\n      }\r\n      else{\r\n        return []\r\n      }\r\n    },\r\n    nodosSolidaridadRoot(){\r\n      if(this.nodoRoot.__typename==='NodoSolidaridad'){\r\n        return [this.nodoRoot]\r\n      }\r\n      else{\r\n        return []\r\n      }\r\n    },\r\n    nodoYo() {\r\n      if (!this.usuarioLogeado) return null;\r\n      return this.personas.find((p) => p.id === this.usuario.id);\r\n    },\r\n    idNodoRoot() {\r\n      return this.usuario ? this.usuario.id : null;\r\n    },    \r\n    idNodoPaVentanita() {\r\n      return this.$route.params.idNv;\r\n    },\r\n    refreshNodoVentanita() {\r\n      return this.$store.state.refreshNodoVentanitaAtlasSolidaridad;\r\n    },\r\n    offsetMenuContextual() {\r\n      return {\r\n        top: this.posMenuContextual.y + \"px\",\r\n        left: this.posMenuContextual.x + \"px\",\r\n      };\r\n    },\r\n    factorZoom() {\r\n      return Number((this.zoom / 100).toFixed(2));\r\n    },\r\n    esquinaVista() {\r\n      return {\r\n        x: Math.round(this.esquinaVistaDecimal.x),\r\n        y: Math.round(this.esquinaVistaDecimal.y),\r\n      };\r\n    },\r\n    centroVista() {\r\n      return {\r\n        x: this.esquinaVista.x + this.sizeAtlas.x / this.factorZoom / 2,\r\n        y: this.esquinaVista.y + this.sizeAtlas.y / this.factorZoom / 2,\r\n      };\r\n    },\r\n    posContenedores() {\r\n      return {\r\n        left: -(this.esquinaVista.x * this.factorZoom) + \"px\",\r\n        top: -(this.esquinaVista.y * this.factorZoom) + \"px\",\r\n      };\r\n    },\r\n    posCuadroDescarga() {\r\n      const posx =\r\n        this.centroDescarga.x - this.radioDescarga - this.esquinaVista.x;\r\n      const posy =\r\n        this.centroDescarga.y - this.radioDescarga - this.esquinaVista.y;\r\n      return {\r\n        left: posx * this.factorZoom + \"px\",\r\n        top: posy * this.factorZoom + \"px\",\r\n      };\r\n    },\r\n    nodoEnVentanita() {\r\n      if (!this.idNodoPaVentanita) return null;\r\n      return this.nodosSolidaridad.find((n) => n.id == this.idNodoPaVentanita);\r\n    },\r\n    nodoSeleccionado() {\r\n      return this.todosNodos.find((n) => n.id === this.idNodoSeleccionado);\r\n    },\r\n    // nodoCentradoArbol() {\r\n    //   return this.nodosTodos.find((n) => n.id === this.idNodoCentradoArbol);\r\n    // },\r\n    usuarioAdministradorNodoSeleccionado() {\r\n      if (!this.usuario || !this.usuario.id) return false;\r\n      if (!this.nodoSeleccionado) return false;\r\n      return this.nodoSeleccionado.administradores.includes(this.usuario.id);\r\n    },\r\n    usuarioResponsableNodoSeleccionado() {\r\n      if (!this.usuario || !this.usuario.id) return false;\r\n      if (!this.nodoSeleccionado) return false;\r\n\r\n      return this.nodoSeleccionado.responsables.includes(this.usuario.id);\r\n    },\r\n    usuarioResponsableAmplioNodoSeleccionado() {\r\n      if (!this.usuarioLogeado || !this.usuario || !this.usuario.id)\r\n        return false;\r\n\r\n      if (!this.nodoSeleccionado) return false;\r\n      return (\r\n        this.nodoSeleccionado.responsablesAmplio &&\r\n        this.nodoSeleccionado.responsablesAmplio.includes(this.usuario.id)\r\n      );\r\n    },\r\n    nodosRequierenSeleccionado() {\r\n      if (!this.idNodoSeleccionado) return [];\r\n      return this.todosNodos.filter((n) =>\r\n        n.vinculos\r\n          .filter((v) => v.tipo == \"requiere\")\r\n          .map((v) => v.idRef)\r\n          .includes(this.idNodoSeleccionado)\r\n      );\r\n    },\r\n    nodosRequeridosSeleccionado() {\r\n      return this.todosNodos.filter((n) =>\r\n        this.idsNodosRequeridosSeleccionado.includes(n.id)\r\n      );\r\n    },\r\n    idsNodosChildrenSeleccionado() {\r\n      if (!this.nodoSeleccionado || !this.indiceNodosUnder) return [];\r\n      return this.indiceNodosUnder[this.idNodoSeleccionado].nodosChildren.map(\r\n        (n) => n.id\r\n      );\r\n    },\r\n    idsNodosRequierenSeleccionado() {\r\n      return this.nodosRequierenSeleccionado.map((n) => n.id);\r\n    },\r\n    idsNodosRequeridosSeleccionado() {\r\n      if (!this.nodoSeleccionado) {\r\n        return [];\r\n      }\r\n      return this.nodoSeleccionado.vinculos\r\n        .filter((v) => v.tipo == \"requiere\")\r\n        .map((v) => v.idRef);\r\n    },\r\n    idsNodosDesplegados() {\r\n      if (\r\n        !this.yo ||\r\n        !this.yo.atlasSolidaridad ||\r\n        !this.yo.atlasSolidaridad.idsNodosDesplegados\r\n      )\r\n        return [];\r\n      return this.yo.atlasSolidaridad.idsNodosDesplegados;\r\n    },   \r\n    trabajos() {\r\n      return this.nodosSolidaridad.filter((n) => n.tipoNodo === \"trabajo\");\r\n    },\r\n    objetivos() {\r\n      return this.nodosSolidaridad.filter((n) => n.tipoNodo === \"objetivo\");\r\n    },\r\n    nodosConRequerimentos() {\r\n      var nr = this.todosNodos.filter(\r\n          (n) =>\r\n            n.vinculos.filter((v) => v.tipo === \"requiere\").length > 0 ||\r\n            (n.__typename==='NodoSolidaridad' && n.responsables.length > 0)\r\n        );\r\n\r\n      return nr;\r\n    },        \r\n    idsNodosSolidaridadRender() {\r\n      return this.nodosSolidaridadRender.map((n) => n.id);\r\n    },\r\n    idsPersonasRender() {\r\n      return this.personasRender.map((n) => n.id);\r\n    },\r\n    idsTodosNodosRender() {\r\n      return this.idsNodosSolidaridadRender.concat(this.idsPersonasRender);\r\n    },\r\n    \r\n  },\r\n  watch: {\r\n    centroVista(actual) {\r\n      const distanciaCentroDescarga = Math.hypot(\r\n        this.centroDescarga.x - actual.x,\r\n        this.centroDescarga.y - actual.y\r\n      );\r\n      // console.log(`Distancia centro descarga: ${distanciaCentroDescarga}`);\r\n      if (\r\n        this.radioDescarga - distanciaCentroDescarga <\r\n        this.sizeAtlas.diagonal / this.factorZoom / 2\r\n      ) {\r\n        //Hora de actualizar nodos\r\n        this.radioDescarga = Math.ceil(\r\n          (Math.max(this.sizeAtlas.x, this.sizeAtlas.y) * 2) / this.factorZoom\r\n        );\r\n        this.$set(this.centroDescarga, \"x\", Math.round(this.centroVista.x));\r\n        this.$set(this.centroDescarga, \"y\", Math.round(this.centroVista.y));\r\n      }\r\n    },\r\n    idNodoSeleccionado(nuevo) {\r\n      if (!nuevo) {\r\n        // this.cerrarNodoEnVentanita();\r\n        this.showingNombreNodoEmergente = false;\r\n      } else {\r\n        // this.$refs.listas.desplegarCascadaHaciaNodo(nuevo);\r\n        if (this.zoom < 65) {\r\n          this.showingNombreNodoEmergente = true;\r\n          this.hideNombreNodoEmergente();\r\n        }\r\n      }\r\n    },\r\n    zoom() {\r\n      this.transicionarPosicionNodos = false;\r\n      this.showingZoomInfo = true;\r\n      this.hideZoomInfo();\r\n    },\r\n    idsNodosDesplegados() {\r\n      if (this.usuarioLogeado) {\r\n        this.setNodosRender();\r\n        this.uploadNodosDesplegados();\r\n      }\r\n    },\r\n    personas() {\r\n      this.setNodosRender();\r\n    },\r\n    todosNodos() {\r\n      this.setNodosRender();\r\n    },\r\n    mostrandoPersonas() {\r\n      this.setNodosRender();\r\n    },\r\n    idsTodosNodosRender() {\r\n      const idsNuevosPersonas = this.idsPersonasRender.filter(\r\n        (id) => !this.infoNodosEverRendered.map((ner) => ner.id).includes(id)\r\n      );\r\n      const idsNuevosNodosSolidaridad = this.idsNodosSolidaridadRender.filter(\r\n        (id) => !this.infoNodosEverRendered.map((ner) => ner.id).includes(id)\r\n      );\r\n\r\n      const infoPersonasNuevosRender = idsNuevosPersonas.map((idp) => {\r\n        return { id: idp, tipo: \"usuario\" };\r\n      });\r\n      const infoNodosSolidaridadNuevosRender = idsNuevosNodosSolidaridad.map(\r\n        (idn) => {\r\n          return { id: idn, tipo: \"nodoSolidaridad\" };\r\n        }\r\n      );\r\n\r\n      this.infoNodosEverRendered = this.infoNodosEverRendered\r\n        .concat(infoPersonasNuevosRender)\r\n        .concat(infoNodosSolidaridadNuevosRender);\r\n    },\r\n    \r\n  },\r\n  mounted() {\r\n    var posAtlas = this.$el.getBoundingClientRect();\r\n    this.$set(this.sizeAtlas, \"x\", posAtlas.width);\r\n    this.$set(this.sizeAtlas, \"y\", posAtlas.height);\r\n    this.$set(\r\n      this.sizeAtlas,\r\n      \"diagonal\",\r\n      Math.hypot(this.sizeAtlas.x, this.sizeAtlas.y)\r\n    );\r\n\r\n    this.radioDescarga = Math.ceil(\r\n      (Math.max(this.sizeAtlas.x, this.sizeAtlas.y) * 2) / this.factorZoom\r\n    );\r\n    this.montado = true;\r\n    this.$el.scrollIntoView({ behavior: \"smooth\" });\r\n  },\r\n  created() {\r\n    window.addEventListener(\"wheel\", this.zoomWheel, { passive: false });\r\n  },\r\n  removed() {\r\n    window.removeEventListener(\"wheel\", this.zoomWheel);\r\n  },\r\n  // beforeRouteLeave(to, from, next) {\r\n  //   console.log(`Hacia: ${to}`);\r\n  //   if (this.$refs.listas.abierta) {\r\n  //     this.$refs.listas.abierta = false;\r\n  //     return next(false);\r\n  //   }\r\n  //   if (this.idNodoPaVentanita) {\r\n  //     this.idNodoPaVentanita = null;\r\n  //     return next(false);\r\n  //   }\r\n  //   next();\r\n  // },\r\n};\r\n</script>\r\n<style>\r\n:root {\r\n  --atlasFondo: #12263a;\r\n  --atlasVerde: #4d8b31;\r\n  --atlasAmarillo: #ffc800;\r\n  --atlasAzul: #69c7c7;\r\n  --atlasFondoNodo: #a9d1d1;\r\n  --atlasNaranja: #ef7229;\r\n  --atlasMorado: #ba2c73;\r\n  --atlasGris: #929292;\r\n  --atlasParent: #3066be;\r\n\r\n  --atlasFilterFondo: invert(10%) sepia(55%) saturate(1034%) hue-rotate(174deg)\r\n    brightness(91%) contrast(91%);\r\n  --atlasFilterVerde: invert(41%) sepia(84%) saturate(349%) hue-rotate(57deg)\r\n    brightness(95%) contrast(89%);\r\n  --atlasFilterAmarillo: invert(79%) sepia(32%) saturate(4772%) hue-rotate(3deg)\r\n    brightness(108%) contrast(105%);\r\n  --atlasFilterAzul: invert(73%) sepia(20%) saturate(732%) hue-rotate(131deg)\r\n    brightness(92%) contrast(98%);\r\n  --atlasFilterNaranja: invert(53%) sepia(29%) saturate(1745%)\r\n    hue-rotate(340deg) brightness(96%) contrast(95%);\r\n  --atlasFilterMorado: invert(27%) sepia(24%) saturate(4772%) hue-rotate(301deg)\r\n    brightness(92%) contrast(95%);\r\n  --atlasFilterGris: invert(61%) sepia(0%) saturate(1316%) hue-rotate(210deg)\r\n    brightness(97%) contrast(81%);\r\n  --filterBlanco: invert(100%) sepia(100%) saturate(0%) hue-rotate(130deg)\r\n    brightness(106%) contrast(102%);\r\n}\r\n</style>\r\n<style scoped>\r\n.atlasSolidaridad {\r\n  overflow: hidden;\r\n  position: relative;\r\n  background-color: #12263a;\r\n  height: 100vh;\r\n}\r\n#botonVistaLista {\r\n  position: absolute;\r\n  width: 24px;\r\n  height: 24px;\r\n  top: 22px;\r\n  left: 22px;\r\n  filter: var(--atlasFilterGris);\r\n  cursor: pointer;\r\n  z-index: 2;\r\n}\r\n#botonVistaLista:hover {\r\n  filter: var(--filterBlanco);\r\n}\r\n.ventanaLista {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0%;\r\n  transition: transform 0.6s;\r\n  box-shadow: 4px 4px 6px rgba(152, 143, 253, 0.25);\r\n  background-color: #a9d1d1;\r\n  width: min(1000px, 100%);\r\n}\r\n\r\n.nodoVistaLista #barraSuperior {\r\n  background-color: red;\r\n}\r\n#menuContextual {\r\n  position: absolute;\r\n  background-color: rgb(173, 173, 173);\r\n  z-index: 2;\r\n}\r\n.botonMenuContextual {\r\n  padding: 5px 10px;\r\n  cursor: pointer;\r\n}\r\n.botonMenuContextual:hover {\r\n  background-color: gray;\r\n}\r\n#contenedorNodos {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n#contenedorVinculosNodos {\r\n  position: relative;\r\n}\r\n\r\n#canvasesatlasSolidaridad {\r\n  position: relative;\r\n}\r\n#centroVista {\r\n  width: 3px;\r\n  height: 3px;\r\n  border-radius: 50%;\r\n  background-color: orange;\r\n  transform: translate(-50%, -50%);\r\n  position: absolute;\r\n}\r\n\r\n#botonCallingPosiciones {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  border: 1px solid black;\r\n  position: absolute;\r\n  top: 1%;\r\n  right: 1%;\r\n  cursor: pointer;\r\n  z-index: 100;\r\n}\r\n.ventanitaNodo {\r\n  width: min(400px, 90%);\r\n  position: absolute;\r\n  top: 15px;\r\n  left: 15px;\r\n  z-index: 60;\r\n}\r\n#loadingNodos {\r\n  position: absolute;\r\n  bottom: 50%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n#indicadorCentroDescarga {\r\n  width: 50px;\r\n  height: 50px;\r\n  position: absolute;\r\n  background-color: red;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 50%;\r\n}\r\n#indicadorCentroVista {\r\n  width: 50px;\r\n  height: 50px;\r\n  position: absolute;\r\n  background-color: rgb(0, 60, 255);\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 50%;\r\n}\r\n\r\n#infoZoom {\r\n  position: absolute;\r\n  top: 2%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 10px;\r\n  display: inline-block;\r\n  font-weight: bold;\r\n  color: rgb(102, 102, 102);\r\n  z-index: 3;\r\n}\r\n\r\n#nombreNodoEmergente {\r\n  position: fixed;\r\n  bottom: 5px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  border-radius: 10px;\r\n  border: 2px solid rgb(56, 128, 131);\r\n  background-color: rgb(185, 215, 216);\r\n  padding: 10px;\r\n  font-size: 20px;\r\n  z-index: 10;\r\n}\r\n#panelConfiguracion {\r\n  position: fixed;\r\n  bottom: 1vh;\r\n  right: 3vw;\r\n}\r\n\r\n.botonPanelConfiguracion {\r\n  height: 25px;\r\n  padding: 5px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 1px solid transparent;\r\n}\r\n.botonPanelConfiguracion.activo {\r\n  border-color: white;\r\n}\r\n.botonPanelConfiguracion img {\r\n  height: 100%;\r\n}\r\n.fadeOut-leave-to {\r\n  opacity: 0;\r\n}\r\n.fadeOut-leave-active {\r\n  transition: opacity 1s;\r\n}\r\n.fadeOut-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.fadeOutLento-leave-to {\r\n  opacity: 0;\r\n}\r\n.fadeOutLento-leave-active {\r\n  transition: opacity 2s;\r\n}\r\n.fadeOutLento-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasSolidaridad.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasSolidaridad.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AtlasSolidaridad.vue?vue&type=template&id=67c6de9e&scoped=true&\"\nimport script from \"./AtlasSolidaridad.vue?vue&type=script&lang=js&\"\nexport * from \"./AtlasSolidaridad.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AtlasSolidaridad.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./AtlasSolidaridad.vue?vue&type=style&index=1&id=67c6de9e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67c6de9e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"espacios\"},[_c('router-view',{attrs:{\"id\":\"visorVentanaEventoPublico\"},on:{\"meRepetiPeriodicamente\":_vm.manejarCreacionEventos,\"eventoCambioFecha\":function($event){return _vm.manejarCreacionEventos([$event])}}}),_c('div',{attrs:{\"id\":\"barraControles\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioProfe && !_vm.creandoEspacio),expression:\"usuarioProfe && !creandoEspacio\"}],staticClass:\"boton botonControl\",attrs:{\"title\":\"Crear nuevo espacio\"},on:{\"click\":_vm.crearNuevoEspacio}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Nuevo\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoEspacio),expression:\"creandoEspacio\"}],attrs:{\"texto\":\"\"}}),_c('div',{staticClass:\"boton\",staticStyle:{\"margin-right\":\"15px\"},on:{\"click\":function($event){_vm.verTodos=!_vm.verTodos}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.verTodos),expression:\"verTodos\"}],attrs:{\"src\":require(\"@/assets/iconos/users.svg\"),\"alt\":\"Todos\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.verTodos),expression:\"!verTodos\"}],attrs:{\"src\":require(\"@/assets/iconos/user.svg\"),\"alt\":\"Usuario\"}})])],1),_c('div',{attrs:{\"id\":\"listaEspacios\"}},_vm._l((_vm.espaciosVisibles),function(espacio){return _c('espacio',{key:espacio.id,ref:\"espacios\",refInFor:true,attrs:{\"esteEspacio\":espacio},on:{\"meElimine\":function($event){return _vm.eliminarEspacioCache(espacio.id)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"espacio\",class:{ mostrando: _vm.mostrando, deshabilitado:_vm.eliminandose }},[_c('div',{staticClass:\"barraSuperior\"},[_c('div',{attrs:{\"id\":\"zona1\"}},[_c('div',{attrs:{\"id\":\"zonaNombre\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNuevoNombre inputNombreCosa\",class:{ deshabilitado: _vm.enviandoNuevoNombre },staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":_vm.guardarNuevoNombre,\"keydown\":_vm.keydownInputNuevoNombre,\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],class:{\n            deshabilitado: _vm.enviandoNuevoNombre,\n            administrador: _vm.administrador,\n          },attrs:{\"id\":\"elNombre\"},on:{\"click\":_vm.toggleEditandoNombre}},[_vm._v(\" \"+_vm._s(_vm.esteEspacio.nombre)+\" \")])],1)]),_c('div',{attrs:{\"id\":\"zonaBotones\"}},[_c('div',{staticClass:\"boton botonMostrar selector\",class:{activo:_vm.mostrando==='descripcion'},on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'descripcion' ? null : 'descripcion'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Informacion\"}})]),_c('div',{staticClass:\"boton botonMostrar selector\",class:{activo:_vm.mostrando==='administrador'},on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'administrador' ? null : 'administrador'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/userCog.svg\"),\"alt\":\"Administrador\"}})]),_c('div',{staticClass:\"boton botonMostrar selector\",class:{activo:_vm.mostrando==='calendario'},on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'calendario' ? null : 'calendario'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendar.svg\"),\"alt\":\"Calendario\"}})]),_c('div',{staticClass:\"boton botonMostrar selector\",class:{activo:_vm.mostrando==='listaEventos'},on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'listaEventos' ? null : 'listaEventos'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/clipboardList.svg\"),\"alt\":\"Lista de eventos\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.administrador || _vm.usuarioSuperadministrador),expression:\"administrador || usuarioSuperadministrador\"}],staticClass:\"boton\",attrs:{\"id\":\"botonEliminarse\"},on:{\"click\":_vm.eliminarse}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Eliminar\"}})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'descripcion'),expression:\"mostrando === 'descripcion'\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"descripcion\"},on:{\"click\":_vm.toggleEditandoDescripcion}},[_vm._v(\" \"+_vm._s(_vm.esteEspacio.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",staticClass:\"inputTextoNodo\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}}),_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionDescripcion\"},on:{\"click\":function($event){_vm.editandoDescripcion = false}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'administrador'),expression:\"mostrando === 'administrador'\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaAdministrador\"}},[_c('icono-persona-autonomo',{attrs:{\"idPersona\":_vm.esteEspacio.idAdministrador}})],1),(_vm.mostrando === 'calendario')?_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaCalendario\"}},[_c('div',{attrs:{\"id\":\"contenedorControlesCalendario\"}},[(_vm.administrador)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'calendario' && !_vm.introduciendoEventoPublicoCalendario),expression:\"mostrando === 'calendario' && !introduciendoEventoPublicoCalendario\"}],staticClass:\"boton botonControlCalendario\",attrs:{\"title\":'Programar una sesión de ' + _vm.esteEspacio.nombre},on:{\"click\":_vm.iniciarCreacionEvento}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendarPlus.svg\"),\"alt\":\"Calendario\"}})]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'calendario' && _vm.introduciendoEventoPublicoCalendario),expression:\"mostrando === 'calendario' && introduciendoEventoPublicoCalendario\"}],staticClass:\"boton botonControlCalendario\",attrs:{\"title\":\"Cancelar creación de evento\"},on:{\"click\":function($event){_vm.introduciendoEventoPublicoCalendario = false}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/times.svg\"),\"alt\":\"Cancelar\"}})])]),_c('calendario',{ref:\"calendario\",attrs:{\"idUsuarioTarget\":_vm.usuario.id,\"idParent\":_vm.esteEspacio.id,\"enfasis\":\"eventosPublicos\",\"tipoParent\":\"espacio\"},on:{\"iniciaCreacionEvento\":function($event){_vm.introduciendoEventoPublicoCalendario = false}}})],1):_vm._e(),(_vm.mostrando === 'listaEventos')?_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaListaEventos\"}},[_c('div',{staticClass:\"contenedorControles\",attrs:{\"id\":\"controlesListaEventos\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mostrandoCuadroCrearEventoPublico && (_vm.administrador || _vm.usuarioSuperadministrador)),expression:\"!mostrandoCuadroCrearEventoPublico && (administrador || usuarioSuperadministrador)\"}],staticClass:\"boton\",attrs:{\"title\":\"Crear nuevo evento de este espacio\"},on:{\"click\":_vm.iniciarCuadroCrearEventoPublico}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/plusCircle.svg\"),\"alt\":\"Crear evento\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoCuadroCrearEventoPublico),expression:\"mostrandoCuadroCrearEventoPublico\"}],staticClass:\"boton\",attrs:{\"title\":\"Cancelar\"},on:{\"click\":function($event){_vm.mostrandoCuadroCrearEventoPublico = false}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/times.svg\"),\"alt\":\"Cancelar\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoEventoPublico),expression:\"creandoEventoPublico\"}],attrs:{\"texto\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoCuadroCrearEventoPublico),expression:\"mostrandoCuadroCrearEventoPublico\"}],class:{deshabilitado: _vm.enviandoNuevoEventoPublico},attrs:{\"id\":\"cuadroCrearEventoPublico\"}},[_c('div',{staticClass:\"bloqueCampoNuevoEventoPublico\"},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Nombre\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nombreNuevoEventoPublico),expression:\"nombreNuevoEventoPublico\"}],ref:\"inputNombreNuevoEventoPublico\",staticClass:\"inputCampo\",attrs:{\"type\":\"text\",\"name\":\"\",\"id\":\"inputNombreNuevoEventoPublico\"},domProps:{\"value\":(_vm.nombreNuevoEventoPublico)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nombreNuevoEventoPublico=$event.target.value}}})]),_c('div',{staticClass:\"bloqueCampoNuevoEventoPublico\"},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Inicio\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dateInicioNuevoEventoPublico),expression:\"dateInicioNuevoEventoPublico\"}],staticClass:\"inputCampo\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.dateInicioNuevoEventoPublico)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.dateInicioNuevoEventoPublico=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.horarioInicioNuevoEventoPublico),expression:\"horarioInicioNuevoEventoPublico\"}],staticClass:\"inputCampo\",attrs:{\"type\":\"time\"},domProps:{\"value\":(_vm.horarioInicioNuevoEventoPublico)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.horarioInicioNuevoEventoPublico=$event.target.value}}})]),_c('div',{staticClass:\"bloqueCampoNuevoEventoPublico\"},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Duración\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.duracionNuevoEventoPublico),expression:\"duracionNuevoEventoPublico\"}],ref:\"inputDuracionNuevoEventoPublico\",staticClass:\"inputCampo\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.duracionNuevoEventoPublico)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.duracionNuevoEventoPublico=$event.target.value}}}),_vm._v(\" Minutos \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.creandoEventoPublico),expression:\"!creandoEventoPublico\"}],staticClass:\"boton\",class:{deshabilitado: !_vm.duracionNuevoEventoPublico || _vm.duracionNuevoEventoPublico<5},staticStyle:{\"margin\":\"10px auto\"},attrs:{\"id\":\"botonCrearEventoPublico\",\"title\":\"Crear evento\"},on:{\"click\":_vm.crearEventoPublico}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/calendarPlus.svg\"),\"alt\":\"CrearEvento\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoEventoPublico),expression:\"enviandoNuevoEventoPublico\"}],staticStyle:{\"margin\":\"10px auto\"},attrs:{\"texto\":\"\"}})],1),_c('lista-eventos-espacio',{ref:\"listaEventosEspacio\",attrs:{\"idEspacio\":this.esteEspacio.id}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"listaEventosEspacio\"},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.eventosPublicosEspacio.loading),expression:\"$apollo.queries.eventosPublicosEspacio.loading\"}],attrs:{\"texto\":\"\"}}),_vm._l((_vm.eventosPublicosEspacioOrdenados),function(evento){return _c('evento-item-lista',{key:evento.id,attrs:{\"esteEvento\":evento,\"seleccionado\":_vm.idEventoSeleccionado === evento.id},on:{\"meElimine\":function($event){return _vm.deleteEventoCache(evento);}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"eventoItemLista\",class:{deshabilitado: _vm.eliminandose}},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"zonaInfoHorario\"}},[_c('div',{staticClass:\"infoHorario\",attrs:{\"id\":\"horarioInicio\"}},[_vm._v(\" \"+_vm._s(_vm.dateInicioLegible +', ' +_vm.duracionLegible)+\" \")])]),_c('div',{attrs:{\"id\":\"zonaBotones\"}},[_c('div',{staticClass:\"boton botonControlEvento\",attrs:{\"title\":\"Expandir este evento\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$router.push(_vm.$route.path + '/ventanaEventoPublico/' + _vm.esteEvento.id)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/expand.svg\"),\"alt\":\"Expandir\"}})]),_c('div',{staticClass:\"boton botonMostrar\",on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'descripcion' ? null : 'descripcion'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/exclamationCircle.svg\"),\"alt\":\"Informacion\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.administrador || _vm.usuarioSuperadministrador),expression:\"administrador || usuarioSuperadministrador\"}],staticClass:\"boton\",staticStyle:{\"margin-left\":\"min(20px, 3%)\"},attrs:{\"id\":\"botonEliminarse\"},on:{\"click\":_vm.eliminarse}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/trash.svg\"),\"alt\":\"Eliminar\"}})])])]),_c('div',{attrs:{\"id\":\"barraInfo\"}},[_c('div',{attrs:{\"id\":\"zonaNombre\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNuevoNombre inputNombreCosa\",class:{ deshabilitado: _vm.enviandoNuevoNombre },staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":function($event){_vm.editandoNombre = false},\"keydown\":_vm.keydownInputNuevoNombre,\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],class:{\n          deshabilitado: _vm.enviandoNuevoNombre,\n          administrador: _vm.administrador,\n        },attrs:{\"id\":\"elNombre\"},on:{\"click\":_vm.toggleEditandoNombre}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.nombre)+\" \")])],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'descripcion'),expression:\"mostrando === 'descripcion'\"}],staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"descripcion\"},on:{\"click\":_vm.toggleEditandoDescripcion}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",staticClass:\"inputTextoNodo\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}}),_c('img',{staticClass:\"botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionDescripcion\"},on:{\"click\":function($event){_vm.editandoDescripcion = false}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"eventoItemLista\" :class=\"{deshabilitado: eliminandose}\">\r\n    <div id=\"barraSuperior\">\r\n      <!-- <div id=\"zona1\">\r\n        <div id=\"zonaNombre\">\r\n          <input\r\n            @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n            ref=\"inputNuevoNombre\"\r\n            v-model=\"nuevoNombre\"\r\n            style=\"width: 250px\"\r\n            @click.stop=\"\"\r\n            @blur=\"editandoNombre = false\"\r\n            @keydown=\"keydownInputNuevoNombre\"\r\n            v-show=\"editandoNombre\"\r\n            type=\"text\"\r\n            class=\"inputNuevoNombre inputNombreCosa\"\r\n            :class=\"{ deshabilitado: enviandoNuevoNombre }\"\r\n          />\r\n          <loading texto=\"\" v-show=\"enviandoNuevoNombre\" />\r\n          <div\r\n            id=\"elNombre\"\r\n            :class=\"{\r\n              deshabilitado: enviandoNuevoNombre,\r\n              administrador,\r\n            }\"\r\n            v-show=\"!editandoNombre\"\r\n            @click=\"toggleEditandoNombre\"\r\n          >\r\n            {{ esteEvento.nombre }}\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n      <div id=\"zonaInfoHorario\" style=\"display: flex\">\r\n        <div id=\"horarioInicio\" class=\"infoHorario\">\r\n          {{ dateInicioLegible +', ' +duracionLegible}}\r\n        </div>        \r\n      </div>\r\n      <div id=\"zonaBotones\">\r\n        <div\r\n          class=\"boton botonControlEvento\"\r\n          title=\"Expandir este evento\"\r\n          @click.stop=\"\r\n            $router.push($route.path + '/ventanaEventoPublico/' + esteEvento.id)\r\n          \"\r\n        >\r\n          <img src=\"@/assets/iconos/expand.svg\" alt=\"Expandir\" />\r\n        </div>\r\n        <div\r\n          class=\"boton botonMostrar\"\r\n          @click=\"\r\n            mostrando = mostrando === 'descripcion' ? null : 'descripcion'\r\n          \"\r\n        >\r\n          <img src=\"@/assets/iconos/exclamationCircle.svg\" alt=\"Informacion\" />\r\n        </div>\r\n        <div\r\n          class=\"boton\"\r\n          id=\"botonEliminarse\"\r\n          style=\"margin-left: min(20px, 3%)\"\r\n          @click=\"eliminarse\"\r\n          v-show=\"administrador || usuarioSuperadministrador\"\r\n        >\r\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Eliminar\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"barraInfo\">\r\n      <div id=\"zonaNombre\">\r\n        <input\r\n          @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n          ref=\"inputNuevoNombre\"\r\n          v-model=\"nuevoNombre\"\r\n          style=\"width: 250px\"\r\n          @click.stop=\"\"\r\n          @blur=\"editandoNombre = false\"\r\n          @keydown=\"keydownInputNuevoNombre\"\r\n          v-show=\"editandoNombre\"\r\n          type=\"text\"\r\n          class=\"inputNuevoNombre inputNombreCosa\"\r\n          :class=\"{ deshabilitado: enviandoNuevoNombre }\"\r\n        />\r\n        <loading texto=\"\" v-show=\"enviandoNuevoNombre\" />\r\n        <div\r\n          id=\"elNombre\"\r\n          :class=\"{\r\n            deshabilitado: enviandoNuevoNombre,\r\n            administrador,\r\n          }\"\r\n          v-show=\"!editandoNombre\"\r\n          @click=\"toggleEditandoNombre\"\r\n        >\r\n          {{ esteEvento.nombre }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      id=\"zonaDescripcion\"\r\n      class=\"zonaPrimerNivel\"\r\n      v-show=\"mostrando === 'descripcion'\"\r\n    >\r\n      <div\r\n        id=\"descripcion\"\r\n        class=\"contenidoTexto\"\r\n        ref=\"descripcion\"\r\n        v-show=\"!editandoDescripcion\"\r\n        @click=\"toggleEditandoDescripcion\"\r\n      >\r\n        {{ esteEvento.descripcion }}\r\n      </div>\r\n\r\n      <textarea\r\n        id=\"inputNuevoDescripcion\"\r\n        ref=\"inputNuevoDescripcion\"\r\n        class=\"inputTextoNodo\"\r\n        :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n        v-model=\"nuevoDescripcion\"\r\n        v-show=\"editandoDescripcion\"\r\n      />\r\n      <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\r\n        <img\r\n          src=\"@/assets/iconos/save.svg\"\r\n          class=\"botonGuardarCampo\"\r\n          alt=\"Guardar\"\r\n          title=\"Guardar descripción\"\r\n          id=\"botonGuardarDescripcion\"\r\n          @click=\"guardarNuevoDescripcion\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/equis.svg\"\r\n          class=\"botonGuardarCampo\"\r\n          alt=\"Cancelar\"\r\n          title=\"Cancelar edición\"\r\n          id=\"botonCancelarEdicionDescripcion\"\r\n          @click=\"editandoDescripcion = false\"\r\n        />\r\n      </div>\r\n      <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MixinBasicoEventos, MixinBasicoEventosPublicos, MixinEdicionEventos, MixinEdicionEventosPublicos } from \"./MixinsEventos\";\r\nimport Loading from \"./utilidades/Loading.vue\";\r\nexport default {\r\n  components: { Loading },\r\n  name: \"EventoItemLista\",\r\n  props: {\r\n    esteEvento: Object,\r\n  },\r\n  mixins: [MixinBasicoEventos, MixinEdicionEventos, MixinEdicionEventosPublicos, MixinBasicoEventosPublicos],\r\n  data() {\r\n    return {\r\n      mostrando: null,\r\n      eliminandose:false,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#barraSuperior {\r\n  display: flex;\r\n}\r\n#zona1 {\r\n  display: flex;\r\n}\r\n#zonaBotones {\r\n  margin-left: auto;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#botonEliminarse {\r\n  margin-left: max(15px, 2%);\r\n}\r\n.infoHorario {\r\n  font-size: 14px;\r\n  color: gray;\r\n}\r\n#infoDuracion {\r\n  color: var(--paletaMain);\r\n  font-weight: bold;\r\n}\r\n#zonaBotones .boton {\r\n  margin: 0px min(15px, 2%);\r\n}\r\n#elNombre{\r\n  font-size: 12px;\r\n  font-style: italic;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoItemLista.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoItemLista.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventoItemLista.vue?vue&type=template&id=4d109f4e&scoped=true&\"\nimport script from \"./EventoItemLista.vue?vue&type=script&lang=js&\"\nexport * from \"./EventoItemLista.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventoItemLista.vue?vue&type=style&index=0&id=4d109f4e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d109f4e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"listaEventosEspacio\">\r\n    <loading texto=\"\" v-show=\"$apollo.queries.eventosPublicosEspacio.loading\" />\r\n    <evento-item-lista\r\n      :esteEvento=\"evento\"\r\n      v-for=\"evento of eventosPublicosEspacioOrdenados\"\r\n      :key=\"evento.id\"\r\n      :seleccionado=\"idEventoSeleccionado === evento.id\"\r\n      @meElimine=\"\r\n        deleteEventoCache(evento);        \r\n      \"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport { fragmentoEventoPublico } from \"./utilidades/fragsCalendario\";\r\nimport EventoItemLista from \"./EventoItemLista.vue\";\r\nimport Loading from \"./utilidades/Loading.vue\";\r\n\r\nconst QUERY_EVENTOS_PUBLICOS_ESPACIO = gql`\r\n  query ($idEspacio: ID!) {\r\n    eventosPublicosEspacio(idEspacio: $idEspacio) {\r\n      ...fragEventoPublico\r\n    }\r\n  }\r\n  ${fragmentoEventoPublico}\r\n`;\r\n\r\nexport default {\r\n  components: { EventoItemLista, Loading },\r\n  props: {\r\n    idEspacio: String,\r\n  },\r\n  name: \"ListaEventosEspacio\",\r\n  apollo: {\r\n    eventosPublicosEspacio: {\r\n      query: QUERY_EVENTOS_PUBLICOS_ESPACIO,\r\n      variables() {\r\n        return {\r\n          idEspacio: this.idEspacio,\r\n        };\r\n      },\r\n      fetchPolicy: \"cache-and-network\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      idEventoSeleccionado: null,\r\n      eventosPublicosEspacio: [],\r\n    };\r\n  },\r\n  methods: {\r\n    deleteEventoCache(evento) {\r\n      const tipoEvento =\r\n        evento.__typename.charAt(0).toLowerCase() + evento.__typename.slice(1);\r\n      var infoQuery = null;\r\n      if (tipoEvento === \"eventoPublico\") {\r\n        infoQuery = {\r\n          query: QUERY_EVENTOS_PUBLICOS_ESPACIO,\r\n          variables: {\r\n            idEspacio: this.idEspacio,\r\n          },\r\n        };\r\n      } else if (tipoEvento === \"eventoPersonal\") {\r\n        console.log(`add cache eventos personales not developed`);\r\n        return;\r\n      } else {\r\n        console.log(`Tipo evento ${tipoEvento} no reconocido`);\r\n        return;\r\n      }\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        ...infoQuery,\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var listaEventosCache = null;\r\n      if (tipoEvento === \"eventoPublico\") {\r\n        listaEventosCache = nuevoCache.eventosPublicosEspacio;\r\n      } else if (tipoEvento === \"eventoPersonal\") {\r\n        listaEventosCache = nuevoCache.eventosPersonalesEspacio;\r\n      }\r\n      const indexE = listaEventosCache.findIndex((e) => e.id === evento.id);\r\n      if (indexE > -1) {\r\n        listaEventosCache.splice(indexE, 1);\r\n\r\n        store.writeQuery({\r\n          ...infoQuery,\r\n          data: nuevoCache,\r\n        });\r\n      }\r\n    },\r\n    addEventoCache(evento) {\r\n      const tipoEvento =\r\n        evento.__typename.charAt(0).toLowerCase() + evento.__typename.slice(1);\r\n      var infoQuery = null;\r\n      if (tipoEvento === \"eventoPublico\") {\r\n        infoQuery = {\r\n          query: QUERY_EVENTOS_PUBLICOS_ESPACIO,\r\n          variables: {\r\n            idEspacio: this.idEspacio,\r\n          },\r\n        };\r\n      } else if (tipoEvento === \"eventoPersonal\") {\r\n        console.log(`add cache eventos personales not developed`);\r\n        return;\r\n      } else {\r\n        console.log(`Tipo evento ${tipoEvento} no reconocido`);\r\n        return;\r\n      }\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        ...infoQuery,\r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      var listaEventosCache = null;\r\n      if (tipoEvento === \"eventoPublico\") {\r\n        listaEventosCache = nuevoCache.eventosPublicosEspacio;\r\n      } else if (tipoEvento === \"eventoPersonal\") {\r\n        listaEventosCache = nuevoCache.eventosPersonalesEspacio;\r\n      }\r\n      const indexE = listaEventosCache.findIndex((e) => e.id === evento.id);\r\n      if (indexE === -1) {\r\n        listaEventosCache.push(evento);\r\n\r\n        store.writeQuery({\r\n          ...infoQuery,\r\n          data: nuevoCache,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    eventosPublicosEspacioOrdenados() {\r\n      return [...this.eventosPublicosEspacio].sort((a, b) => {\r\n        return (\r\n          new Date(a.horarioInicio).getTime() -\r\n          new Date(b.horarioInicio).getTime()\r\n        );\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.listaEventosEspacio {\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n}\r\n.eventoItemLista {\r\n  margin: 15px 0px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListaEventosEspacio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListaEventosEspacio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListaEventosEspacio.vue?vue&type=template&id=1d38432e&scoped=true&\"\nimport script from \"./ListaEventosEspacio.vue?vue&type=script&lang=js&\"\nexport * from \"./ListaEventosEspacio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListaEventosEspacio.vue?vue&type=style&index=0&id=1d38432e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d38432e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"espacio\" :class=\"{ mostrando, deshabilitado:eliminandose }\">\r\n    <div class=\"barraSuperior\">\r\n      <div id=\"zona1\">\r\n        <!-- <div\r\n          class=\"trianguloBullet\"\r\n          @click=\"abierto = !abierto\"\r\n          :style=\"[\r\n            {\r\n              transform: abierto ? 'rotate(90deg)' : '',\r\n            },\r\n          ]\"\r\n        ></div> -->\r\n\r\n        <div id=\"zonaNombre\">\r\n          <input\r\n            @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n            ref=\"inputNuevoNombre\"\r\n            v-model=\"nuevoNombre\"\r\n            style=\"width: 250px\"\r\n            @click.stop=\"\"\r\n            @blur=\"guardarNuevoNombre\"\r\n            @keydown=\"keydownInputNuevoNombre\"\r\n            v-show=\"editandoNombre\"\r\n            type=\"text\"\r\n            class=\"inputNuevoNombre inputNombreCosa\"\r\n            :class=\"{ deshabilitado: enviandoNuevoNombre }\"\r\n          />\r\n          <loading texto=\"\" v-show=\"enviandoNuevoNombre\" />\r\n          <div\r\n            id=\"elNombre\"\r\n            :class=\"{\r\n              deshabilitado: enviandoNuevoNombre,\r\n              administrador,\r\n            }\"\r\n            v-show=\"!editandoNombre\"\r\n            @click=\"toggleEditandoNombre\"\r\n          >\r\n            {{ esteEspacio.nombre }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div id=\"zonaBotones\">\r\n        <div\r\n          class=\"boton botonMostrar selector\"\r\n          @click=\"\r\n            mostrando = mostrando === 'descripcion' ? null : 'descripcion'\r\n          \"\r\n          :class=\"{activo:mostrando==='descripcion'}\"\r\n        >\r\n          <img src=\"@/assets/iconos/info.svg\" alt=\"Informacion\" />\r\n        </div>\r\n        <div\r\n          class=\"boton botonMostrar selector\"\r\n          @click=\"\r\n            mostrando = mostrando === 'administrador' ? null : 'administrador'\r\n          \"\r\n          :class=\"{activo:mostrando==='administrador'}\"\r\n        >\r\n          <img src=\"@/assets/iconos/userCog.svg\" alt=\"Administrador\" />\r\n        </div>\r\n        <div\r\n          class=\"boton botonMostrar selector\"\r\n          @click=\"mostrando = mostrando === 'calendario' ? null : 'calendario'\"\r\n          :class=\"{activo:mostrando==='calendario'}\"\r\n        >\r\n          <img src=\"@/assets/iconos/calendar.svg\" alt=\"Calendario\" />\r\n        </div>\r\n        <div\r\n          class=\"boton botonMostrar selector\"\r\n          @click=\"\r\n            mostrando = mostrando === 'listaEventos' ? null : 'listaEventos'\r\n          \"\r\n          :class=\"{activo:mostrando==='listaEventos'}\"\r\n        >\r\n          <img src=\"@/assets/iconos/clipboardList.svg\" alt=\"Lista de eventos\" />\r\n        </div>\r\n\r\n        <div\r\n          class=\"boton\"\r\n          id=\"botonEliminarse\"\r\n          @click=\"eliminarse\"\r\n          v-show=\"administrador || usuarioSuperadministrador\"\r\n        >\r\n          <img src=\"@/assets/iconos/trash.svg\" alt=\"Eliminar\" />\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n\r\n    <!-- Zona descripcion -->\r\n    <div\r\n      id=\"zonaDescripcion\"\r\n      class=\"zonaPrimerNivel\"\r\n      v-show=\"mostrando === 'descripcion'\"\r\n    >\r\n      <div\r\n        id=\"descripcion\"\r\n        class=\"contenidoTexto\"\r\n        ref=\"descripcion\"\r\n        v-show=\"!editandoDescripcion\"\r\n        @click=\"toggleEditandoDescripcion\"\r\n      >\r\n        {{ esteEspacio.descripcion }}\r\n      </div>\r\n\r\n      <textarea\r\n        id=\"inputNuevoDescripcion\"\r\n        ref=\"inputNuevoDescripcion\"\r\n        class=\"inputTextoNodo\"\r\n        :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n        v-model=\"nuevoDescripcion\"\r\n        v-show=\"editandoDescripcion\"\r\n      />\r\n      <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\r\n        <img\r\n          src=\"@/assets/iconos/save.svg\"\r\n          class=\"botonGuardarCampo\"\r\n          alt=\"Guardar\"\r\n          title=\"Guardar descripción\"\r\n          id=\"botonGuardarDescripcion\"\r\n          @click=\"guardarNuevoDescripcion\"\r\n        />\r\n        <img\r\n          src=\"@/assets/iconos/equis.svg\"\r\n          class=\"botonGuardarCampo\"\r\n          alt=\"Cancelar\"\r\n          title=\"Cancelar edición\"\r\n          id=\"botonCancelarEdicionDescripcion\"\r\n          @click=\"editandoDescripcion = false\"\r\n        />\r\n      </div>\r\n      <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n    </div>\r\n\r\n    <!-- Zona administrador -->\r\n    <div\r\n      id=\"zonaAdministrador\"\r\n      class=\"zonaPrimerNivel\"\r\n      v-show=\"mostrando === 'administrador'\"\r\n    >\r\n      <icono-persona-autonomo :idPersona=\"esteEspacio.idAdministrador\" />\r\n    </div>\r\n\r\n    <!-- Zona calendario -->\r\n    <div\r\n      id=\"zonaCalendario\"\r\n      class=\"zonaPrimerNivel\"\r\n      v-if=\"mostrando === 'calendario'\"\r\n    >\r\n      <div id=\"contenedorControlesCalendario\">\r\n        <div\r\n          class=\"boton botonControlCalendario\"\r\n          v-if=\"administrador\"\r\n          v-show=\"mostrando === 'calendario' && !introduciendoEventoPublicoCalendario\"\r\n          :title=\"'Programar una sesión de ' + esteEspacio.nombre\"\r\n          @click=\"iniciarCreacionEvento\"\r\n        >\r\n          <img src=\"@/assets/iconos/calendarPlus.svg\" alt=\"Calendario\" />\r\n        </div>\r\n        <div\r\n          class=\"boton botonControlCalendario\"\r\n          v-show=\"mostrando === 'calendario' && introduciendoEventoPublicoCalendario\"\r\n          title=\"Cancelar creación de evento\"\r\n          @click=\"introduciendoEventoPublicoCalendario = false\"\r\n        >\r\n          <img src=\"@/assets/iconos/times.svg\" alt=\"Cancelar\" />\r\n        </div>\r\n      </div>\r\n      <calendario\r\n        :idUsuarioTarget=\"usuario.id\"\r\n        ref=\"calendario\"\r\n        :idParent=\"esteEspacio.id\"\r\n        enfasis=\"eventosPublicos\"\r\n        tipoParent=\"espacio\"\r\n        @iniciaCreacionEvento=\"introduciendoEventoPublicoCalendario = false\"\r\n      />\r\n    </div>\r\n\r\n    <div\r\n      id=\"zonaListaEventos\"\r\n      class=\"zonaPrimerNivel\"\r\n      v-if=\"mostrando === 'listaEventos'\"\r\n    >\r\n      <div id=\"controlesListaEventos\" class=\"contenedorControles\">\r\n        <div\r\n          class=\"boton\"\r\n          title=\"Crear nuevo evento de este espacio\"\r\n          @click=\"iniciarCuadroCrearEventoPublico\"\r\n          v-show=\"!mostrandoCuadroCrearEventoPublico && (administrador || usuarioSuperadministrador)\"\r\n        >\r\n          <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Crear evento\" />\r\n        </div>\r\n        <div\r\n          class=\"boton\"\r\n          title=\"Cancelar\"\r\n          @click=\"mostrandoCuadroCrearEventoPublico = false\"\r\n          v-show=\"mostrandoCuadroCrearEventoPublico\"\r\n        >\r\n          <img src=\"@/assets/iconos/times.svg\" alt=\"Cancelar\" />\r\n        </div>\r\n        <loading v-show=\"creandoEventoPublico\" texto=\"\" />\r\n      </div>\r\n      <div\r\n        v-show=\"mostrandoCuadroCrearEventoPublico\"\r\n        id=\"cuadroCrearEventoPublico\"\r\n        :class=\"{deshabilitado: enviandoNuevoEventoPublico}\"\r\n      >\r\n        <div class=\"bloqueCampoNuevoEventoPublico\">\r\n          <div class=\"nombreCampo\">Nombre</div>\r\n          <input\r\n            class=\"inputCampo\"\r\n            type=\"text\"\r\n            name=\"\"\r\n            id=\"inputNombreNuevoEventoPublico\"\r\n            ref=\"inputNombreNuevoEventoPublico\"\r\n            v-model=\"nombreNuevoEventoPublico\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"bloqueCampoNuevoEventoPublico\">\r\n          <div class=\"nombreCampo\">Inicio</div>\r\n          <input\r\n            type=\"date\"\r\n            v-model=\"dateInicioNuevoEventoPublico\"\r\n            class=\"inputCampo\"\r\n          />\r\n          <input\r\n            type=\"time\"\r\n            v-model=\"horarioInicioNuevoEventoPublico\"\r\n            class=\"inputCampo\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"bloqueCampoNuevoEventoPublico\">\r\n          <div class=\"nombreCampo\">Duración</div>\r\n          <input\r\n            type=\"number\"\r\n            ref=\"inputDuracionNuevoEventoPublico\"\r\n            v-model=\"duracionNuevoEventoPublico\"\r\n            class=\"inputCampo\"\r\n          />\r\n          Minutos\r\n        </div>\r\n\r\n        <div class=\"boton\" id=\"botonCrearEventoPublico\" :class=\"{deshabilitado: !duracionNuevoEventoPublico || duracionNuevoEventoPublico<5}\" style=\"margin: 10px auto\" title=\"Crear evento\" v-show=\"!creandoEventoPublico\" @click=\"crearEventoPublico\">\r\n          <img src=\"@/assets/iconos/calendarPlus.svg\" alt=\"CrearEvento\">\r\n        </div>\r\n        <loading texto=\"\" v-show=\"enviandoNuevoEventoPublico\" style=\"margin: 10px auto\" />\r\n      </div>\r\n      <lista-eventos-espacio\r\n        :idEspacio=\"this.esteEspacio.id\"\r\n        ref=\"listaEventosEspacio\"                \r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport { charProhibidosNombreCosa, charProhibidosTexto } from \"./configs\";\r\nimport Loading from \"./utilidades/Loading.vue\";\r\nimport IconoPersonaAutonomo from \"./usuario/IconoPersonaAutonomo.vue\";\r\nimport Calendario from \"./utilidades/Calendario.vue\";\r\nimport ListaEventosEspacio from \"./ListaEventosEspacio.vue\";\r\nimport { fragmentoEventoPublico } from \"./utilidades/fragsCalendario\";\r\n\r\nexport default {\r\n  components: {\r\n    Loading,\r\n    IconoPersonaAutonomo,\r\n    Calendario,\r\n    ListaEventosEspacio,\r\n  },\r\n  name: \"Espacio\",\r\n  props: {\r\n    esteEspacio: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      abierto: false,\r\n      mostrando: null,\r\n\r\n      nuevoNombre: \"Nuevo nombre\",\r\n      editandoNombre: false,\r\n      enviandoNuevoNombre: false,\r\n\r\n      nuevoDescripcion: \"Nueva descripcion\",\r\n      editandoDescripcion: false,\r\n      enviandoNuevoDescripcion: false,\r\n\r\n      mostrandoCuadroCrearEventoPublico: false,\r\n      nombreNuevoEventoPublico: 'Espacio de '+this.esteEspacio.nombre,\r\n      dateInicioNuevoEventoPublico: null,\r\n      dateFinalNuevoEventoPublico: null,\r\n      horarioInicioNuevoEventoPublico:null,\r\n      horarioFinalNuevoEventoPublico:null,\r\n      duracionNuevoEventoPublico:60,\r\n      creandoEventoPublico: false,\r\n      enviandoNuevoEventoPublico:false,\r\n\r\n      introduciendoEventoPublicoCalendario:false,\r\n\r\n      eliminandose: false,\r\n    };\r\n  },\r\n  methods: {\r\n    guardarNuevoNombre() {\r\n      this.nuevoNombre = this.$refs.inputNuevoNombre.value;\r\n\r\n      if (this.nuevoNombreIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoNombre == this.esteEspacio.nombre) {\r\n        this.editandoNombre = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo nombre`);\r\n      this.enviandoNuevoNombre = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idEspacio: ID!, $nuevoNombre: String!) {\r\n              editarNombreEspacio(\r\n                idEspacio: $idEspacio\r\n                nuevoNombre: $nuevoNombre\r\n              ) {\r\n                id\r\n                nombre\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idEspacio: this.esteEspacio.id,\r\n            nuevoNombre: this.nuevoNombre,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoNombre = false;\r\n          this.editandoNombre = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoNombre = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    guardarNuevoDescripcion() {\r\n      if (this.nuevoDescripcionIlegal) {\r\n        console.log(`No enviado`);\r\n        return;\r\n      }\r\n      if (this.nuevoDescripcion == this.esteEspacio.descripcion) {\r\n        this.editandoDescripcion = false;\r\n        return;\r\n      }\r\n      console.log(`guardando nuevo descripcion`);\r\n      this.enviandoNuevoDescripcion = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idEspacio: ID!, $nuevoDescripcion: String!) {\r\n              editarDescripcionEspacio(\r\n                idEspacio: $idEspacio\r\n                nuevoDescripcion: $nuevoDescripcion\r\n              ) {\r\n                id\r\n                descripcion\r\n              }\r\n            }\r\n          `,\r\n          variables: {\r\n            idEspacio: this.esteEspacio.id,\r\n            nuevoDescripcion: this.nuevoDescripcion,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          this.editandoDescripcion = false;\r\n        })\r\n        .catch((error) => {\r\n          this.enviandoNuevoDescripcion = false;\r\n          console.log(`Error. E :${error}`);\r\n        });\r\n    },\r\n    toggleEditandoDescripcion() {\r\n      if (!this.administrador) {\r\n        return;\r\n      }\r\n      this.$refs.inputNuevoDescripcion.style.height =\r\n        this.$refs.descripcion.offsetHeight + \"px\";\r\n      this.editandoDescripcion = !this.editandoDescripcion;\r\n      this.nuevoDescripcion = this.esteEspacio.descripcion;\r\n\r\n      if (this.editandoDescripcion) {\r\n        this.$nextTick(() => {\r\n          this.$refs.inputNuevoDescripcion.focus();\r\n        });\r\n      }\r\n    },\r\n    toggleEditandoNombre(e) {\r\n      if (this.administrador) {\r\n        e.stopPropagation();\r\n\r\n        this.editandoNombre = true;\r\n        this.nuevoNombre = this.esteEspacio.nombre;\r\n        this.$nextTick(() => {\r\n          this.$refs.inputNuevoNombre.focus();\r\n        });\r\n      }\r\n    },\r\n    keydownInputNuevoNombre(e) {\r\n      if (e.key === \"Escape\") {\r\n        this.editandoNombre=false;\r\n      }\r\n    },\r\n    iniciarCreacionEvento() {\r\n      this.introduciendoEventoPublicoCalendario = true;\r\n    },\r\n    eliminarse() {\r\n      if (\r\n        !confirm(\r\n          \"¿Confirmar la eliminación de este espacio? (Esta acción no puede deshacerse)\"\r\n        )\r\n      )\r\n        return;\r\n\r\n      if (!this.administrador && !this.usuarioSuperadministrador) {\r\n        return;\r\n      }\r\n      this.eliminandose = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($idEspacio: ID!) {\r\n              eliminarEspacio(idEspacio: $idEspacio)\r\n            }\r\n          `,\r\n          variables: {\r\n            idEspacio: this.esteEspacio.id,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.$emit(\"meElimine\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n        });\r\n    },       \r\n    iniciarCuadroCrearEventoPublico() {\r\n      this.nombreNuevoEventoPublico=\"Espacio de \"+this.esteEspacio.nombre;\r\n      var dateActual = new Date();\r\n      dateActual.setHours(8);\r\n      dateActual.setMinutes(0);\r\n      dateActual.setSeconds(0);\r\n      dateActual.setMilliseconds(0);\r\n\r\n      dateActual = new Date(dateActual.getTime() + 86400000);\r\n      // const offset = dateActual.getTimezoneOffset()    \r\n\r\n      const dateActualString = dateActual.toISOString().split('T')[0];\r\n      const dateActualPlusHour = new Date(dateActual.getTime() + 3600000);\r\n      const dateActualPlusHourString = dateActualPlusHour.toISOString().split('T')[0];      \r\n      \r\n\r\n      this.dateInicioNuevoEventoPublico=dateActualString;\r\n      this.dateFinalNuevoEventoPublico=dateActualPlusHourString;\r\n\r\n      this.horarioInicioNuevoEventoPublico='08:00';\r\n      this.horarioFinalNuevoEventoPublico='09:00';\r\n      this.mostrandoCuadroCrearEventoPublico = true;\r\n    },\r\n    crearEventoPublico() {\r\n      if (!this.administrador && !this.usuarioSuperadministrador) {\r\n        return;\r\n      }      \r\n      console.log(`Date saved: ${this.dateInicioNuevoEventoPublico}`);\r\n      this.duracionNuevoEventoPublico=this.$refs.inputDuracionNuevoEventoPublico.value;\r\n      var dateInicio=new Date(this.dateInicioNuevoEventoPublico);      \r\n      console.log(`Date parsed: ${dateInicio}`);\r\n\r\n      const diaMesInicio=dateInicio.getUTCDate();\r\n      console.log(`Creando evento público el ${diaMesInicio}`);\r\n      const horasInicio=parseInt(this.horarioInicioNuevoEventoPublico.substring(0, 2));\r\n      const minutosInicio=parseInt(this.horarioInicioNuevoEventoPublico.substring(3));\r\n\r\n      dateInicio.setDate(diaMesInicio);\r\n      dateInicio.setHours(horasInicio);\r\n      dateInicio.setMinutes(minutosInicio);\r\n\r\n      var dateFinal=new Date(dateInicio.getTime()+this.duracionNuevoEventoPublico*60000);\r\n            \r\n      console.log(`Creando evento público el ${diaMesInicio}`);\r\n\r\n      this.enviandoNuevoEventoPublico = true;\r\n      this.$apollo\r\n        .mutate({\r\n          mutation: gql`\r\n            mutation ($infoNuevoEvento: InputCrearEventoPublico) {\r\n              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {\r\n                ...fragEventoPublico\r\n              }\r\n            }\r\n            ${fragmentoEventoPublico}\r\n          `,\r\n          variables: {\r\n            infoNuevoEvento: {\r\n              nombre: this.$refs.inputNombreNuevoEventoPublico.value,\r\n              horarioInicio: dateInicio,\r\n              horarioFinal: dateFinal,\r\n              tipoParent: \"espacio\",\r\n              idParent: this.esteEspacio.id,\r\n            },\r\n          },\r\n        })\r\n        .then(({ data: { crearEventoPublico } }) => {\r\n          this.enviandoNuevoEventoPublico = false;\r\n          this.$refs.listaEventosEspacio.addEventoCache(crearEventoPublico);\r\n          this.mostrandoCuadroCrearEventoPublico=false;\r\n        })\r\n        .catch((error) => {\r\n          console.log(`Error: ${error}`);\r\n          this.enviandoNuevoEventoPublico = false;\r\n        });\r\n    },\r\n    \r\n  },\r\n  computed: {\r\n    administrador() {\r\n      if (!this.usuarioLogeado) return false;\r\n\r\n      return this.usuario.id === this.esteEspacio.idAdministrador;\r\n    },\r\n    nuevoNombreIlegal() {\r\n      if (this.nuevoNombre.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosNombreCosa.test(this.nuevoNombre)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    nuevoDescripcionIlegal() {\r\n      if (!this.nuevoDescripcion || this.nuevoDescripcion.length < 1) {\r\n        return true;\r\n      }\r\n      if (charProhibidosTexto.test(this.nuevoDescripcion)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  watch: {\r\n    mostrando(mostrando) {\r\n      if (mostrando != \"descripcion\") this.editandoDescripcion = false;\r\n\r\n      if (mostrando === \"descripcion\") {\r\n        if (\r\n          !this.esteEspacio.descripcion ||\r\n          this.esteEspacio.descripcion.length < 1\r\n        ) {\r\n          if (!this.editandoDescripcion) {\r\n            this.toggleEditandoDescripcion();\r\n          }\r\n        }\r\n      } \r\n    },\r\n    introduciendoEventoPublicoCalendario(introduciendo) {\r\n      if (introduciendo) {\r\n        this.$refs.calendario.eventoSiendoCreado = {\r\n          idParent: this.esteEspacio.id,\r\n          tipoParent: \"espacio\",\r\n          tipoEvento: \"eventoPublico\",\r\n          idAdministrador: this.usuario.id,\r\n        };\r\n      } else {\r\n        this.$refs.calendario.eventoSiendoCreado = null;\r\n      }\r\n    },\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.espacio {\r\n  padding: 10px 2%;\r\n  box-sizing: border-box;\r\n}\r\n.espacio.mostrando {\r\n  background-color: var(--grisHover);\r\n  border-radius: 15px;\r\n}\r\n.barraSuperior {\r\n  display: flex;\r\n}\r\n#zona1 {\r\n  display: flex;\r\n  flex-shrink: 1;\r\n}\r\n.trianguloBullet {\r\n  margin-right: 10px;\r\n}\r\n#elNombre.administrador {\r\n  color: var(--paletaSelect);\r\n}\r\n#zonaBotones {\r\n  margin-left: auto;\r\n  margin-right:min(10px, 1vw);\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.botonMostrar {\r\n  height: 20px;\r\n  margin: 0px 5px;\r\n}\r\n#botonEliminarse {\r\n}\r\n.botonControlCalendario {\r\n  height: 17px;\r\n}\r\n.zonaPrimerNivel {\r\n  margin-top: 15px;\r\n  min-height: 50px;\r\n  padding: 10px 2%;\r\n  border-radius: 10px;\r\n}\r\n#zonaAdministrador {\r\n  display: flex;\r\n}\r\n#contenedorControlesCalendario {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: row-reverse;\r\n  width: 100%;\r\n}\r\n#zonaCalendario {\r\n  padding: 0px 0px;\r\n  width: 100%;\r\n}\r\n.calendario {\r\n  margin-top: 10px;\r\n  width:100%;\r\n}\r\n#cuadroCrearEventoPublico{\r\n  background-color: rgba(128, 128, 128, 0.123); \r\n  padding: 20px 5px;\r\n\r\n}\r\n.bloqueCampoNuevoEventoPublico{\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 10px 0px;\r\n  flex-wrap: wrap;\r\n}\r\n.bloqueCampoNuevoEventoPublico input{\r\n  margin:0px 5px;\r\n  font-size:11px;\r\n  max-width: 120px;\r\n}\r\n.listaEventosEspacio{\r\n  max-height: 70vh;\r\n  \r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Espacio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Espacio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Espacio.vue?vue&type=template&id=8e0bd7ea&scoped=true&\"\nimport script from \"./Espacio.vue?vue&type=script&lang=js&\"\nexport * from \"./Espacio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Espacio.vue?vue&type=style&index=0&id=8e0bd7ea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e0bd7ea\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"espacios\">\r\n    <router-view id=\"visorVentanaEventoPublico\" @meRepetiPeriodicamente=\"manejarCreacionEventos\" @eventoCambioFecha=\"manejarCreacionEventos([$event])\">\r\n      \r\n    </router-view>\r\n    <div id=\"barraControles\">\r\n      \r\n      <div\r\n        class=\"boton botonControl\"\r\n        title=\"Crear nuevo espacio\"\r\n        v-show=\"usuarioProfe && !creandoEspacio\"\r\n        @click=\"crearNuevoEspacio\"\r\n      >\r\n        <img src=\"@/assets/iconos/plusCircle.svg\" alt=\"Nuevo\" />\r\n      </div>\r\n      <loading texto=\"\" v-show=\"creandoEspacio\" />\r\n\r\n      <div class=\"boton\" @click=\"verTodos=!verTodos\" style=\"margin-right:15px\">\r\n        <img src=\"@/assets/iconos/users.svg\" alt=\"Todos\" v-show=\"verTodos\">\r\n        <img src=\"@/assets/iconos/user.svg\" alt=\"Usuario\" v-show=\"!verTodos\">\r\n      </div>\r\n    </div>\r\n    <div id=\"listaEspacios\">\r\n      <espacio\r\n        v-for=\"espacio of espaciosVisibles\"\r\n        ref=\"espacios\"\r\n        :key=\"espacio.id\"\r\n        :esteEspacio=\"espacio\"\r\n        @meElimine=\"eliminarEspacioCache(espacio.id)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Espacio from \"./Espacio.vue\";\r\nimport Loading from './utilidades/Loading.vue';\r\nconst fragmentoEspacio = gql`\r\n  fragment fragEspacio on Espacio {\r\n    id\r\n    nombre\r\n    descripcion\r\n    idAdministrador\r\n  }\r\n`;\r\nconst QUERY_ESPACIOS = gql`\r\n  query {\r\n    todosEspacios {\r\n      ...fragEspacio\r\n    }\r\n  }\r\n  ${fragmentoEspacio}\r\n`;\r\n\r\n\r\n\r\nexport default {\r\n  components: { Espacio, Loading },\r\n  apollo: {\r\n    todosEspacios: {\r\n      query: QUERY_ESPACIOS,\r\n    },\r\n  },\r\n  name: \"Espacios\",\r\n  data() {\r\n    return {\r\n      todosEspacios: [],\r\n\r\n      verTodos:false,\r\n      creandoEspacio: false,\r\n    };\r\n  },\r\n  methods: {\r\n    crearNuevoEspacio() {\r\n      if (!this.usuarioProfe && !this.usuarioSuperadministrador) return;\r\n\r\n      this.creandoEspacio = true;\r\n\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n          mutation ($info: InputCrearEspacio) {\r\n            crearEspacio(info: $info) {\r\n              ...fragEspacio\r\n            }\r\n          }\r\n          ${fragmentoEspacio}\r\n        `,\r\n        variables:{\r\n            info:{\r\n                idAdministrador: this.usuario.id\r\n            }\r\n        }\r\n      }).then(({data:{crearEspacio}})=>{\r\n          const store=this.$apollo.provider.defaultClient;\r\n          const cache=store.readQuery({\r\n              query: QUERY_ESPACIOS\r\n          });\r\n          const nuevoCache=JSON.parse(JSON.stringify(cache));\r\n\r\n          const indexE=nuevoCache.todosEspacios.findIndex(e=>e.id===crearEspacio.id);\r\n          if(indexE===-1){\r\n              nuevoCache.todosEspacios.push(crearEspacio);\r\n              store.writeQuery({\r\n                  query: QUERY_ESPACIOS,\r\n                  data: nuevoCache\r\n              })\r\n          }\r\n          else{\r\n              console.log(`El espacio ya estaba en caché`);\r\n          }\r\n          this.creandoEspacio = false;\r\n\r\n      }).catch((error)=>{\r\n          console.log(`Error: ${error}`);\r\n          this.creandoEspacio = false;\r\n\r\n      })\r\n    },\r\n    eliminarEspacioCache(idEspacio) {\r\n      const store = this.$apollo.provider.defaultClient;\r\n      const cache = store.readQuery({\r\n        query: QUERY_ESPACIOS,        \r\n      });\r\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\r\n      const indexE = nuevoCache.todosEspacios.findIndex(\r\n        (e) => e.id === idEspacio\r\n      );\r\n      if (indexE > -1) {\r\n        nuevoCache.todosEspacios.splice(indexE, 1);\r\n        store.writeQuery({\r\n          query: QUERY_ESPACIOS,          \r\n          data: nuevoCache,\r\n        });\r\n      }\r\n    },\r\n    manejarCreacionEventos(eventos){\r\n      console.log(`Manejando la repeticion de los eventos de un espacio con id ${eventos[0].idParent}`);      \r\n    },\r\n    handleCambioFechaEvento(){\r\n      console.log(`Handling`);\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    usuarioProfe() {\r\n      if (!this.usuarioLogeado) return false;\r\n\r\n      return this.usuario.permisos.includes(\"maestraVida-profesor\");\r\n    },\r\n    espaciosVisibles(){\r\n      if(this.verTodos)return this.espaciosUsuario.concat(this.espaciosNoUsuario);\r\n      return this.espaciosUsuario\r\n    },    \r\n    espaciosUsuario(){\r\n      if(!this.usuarioLogeado)return [];\r\n      return this.todosEspacios.filter(e=>e.idAdministrador===this.usuario.id);\r\n    },\r\n    espaciosNoUsuario(){\r\n      if(!this.usuarioLogeado)return this.todosEspacios;\r\n      return this.todosEspacios.filter(e=>e.idAdministrador!=this.usuario.id)\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#barraControles {\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n    padding: 10px 20px;\r\n}\r\n\r\n.botonControl {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n#listaEspacios{\r\n    margin: 20px auto;\r\n    width: min(600px, 95vw);\r\n    margin-bottom: 40vh;\r\n}\r\n.espacio{\r\n  margin:10px 0px;\r\n}\r\n.espacio:hover{\r\n    background-color: var(--grisHover);\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Espacios.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Espacios.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Espacios.vue?vue&type=template&id=353b249e&scoped=true&\"\nimport script from \"./Espacios.vue?vue&type=script&lang=js&\"\nexport * from \"./Espacios.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Espacios.vue?vue&type=style&index=0&id=353b249e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"353b249e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ventanaEventoPublico\"},[_c('div',{attrs:{\"id\":\"zonaCobertura\"}},[_c('div',{attrs:{\"id\":\"laVentana\"}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.esteEvento.loading),expression:\"$apollo.queries.esteEvento.loading\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$apollo.queries.esteEvento.loading),expression:\"!$apollo.queries.esteEvento.loading\"}],attrs:{\"id\":\"contenido\"}},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_c('div',{staticClass:\"boton\",staticStyle:{\"margin-left\":\"auto\"},attrs:{\"title\":\"Cerrar\"},on:{\"click\":_vm.cerrarVentana}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/times.svg\"),\"alt\":\"Salir\"}})]),(_vm.administrador || _vm.usuarioSuperadministrador)?_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Repetir este evento\"},on:{\"click\":function($event){_vm.mostrandoZonaRepetir = !_vm.mostrandoZonaRepetir}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/hourglass.svg\"),\"alt\":\"Repetir\"}})]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoZonaRepetir),expression:\"mostrandoZonaRepetir\"}],attrs:{\"id\":\"zonaRepetir\"}},[_c('div',{staticClass:\"instruccion\",staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(\" Repetir este evento... \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.periodoRepetir),expression:\"periodoRepetir\"}],attrs:{\"name\":\"\",\"id\":\"selectFrecuenciaRepetir\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.periodoRepetir=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"diariamente\"}},[_vm._v(\"Diariamente\")]),_c('option',{attrs:{\"value\":\"semanalmente\"}},[_vm._v(\"Semanalmente\")])]),_c('div',{staticStyle:{\"margin\":\"10px auto\"},attrs:{\"id\":\"bloqueCantidadRepetir\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cantidadRepetir),expression:\"cantidadRepetir\"}],staticStyle:{\"width\":\"50px\",\"margin-right\":\"20px\"},attrs:{\"type\":\"number\",\"min\":_vm.minRepetir,\"max\":_vm.maxRepetir,\"name\":\"\",\"id\":\"inputCantidadRepetir\"},domProps:{\"value\":(_vm.cantidadRepetir)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cantidadRepetir=$event.target.value}}}),_vm._v(\" \"+_vm._s(_vm.cantidadRepetir > 1 ? \"veces\" : \"vez\")+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enviandoQueryRepetir),expression:\"!enviandoQueryRepetir\"}],staticClass:\"boton\",staticStyle:{\"margin\":\"10px auto\"},attrs:{\"title\":\"Aceptar\"},on:{\"click\":function($event){return _vm.repetirEvento(_vm.cantidadRepetir, _vm.periodoRepetir)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/check.svg\"),\"alt\":\"Aceptar\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoQueryRepetir),expression:\"enviandoQueryRepetir\"}],staticStyle:{\"margin\":\"10px auto\"},attrs:{\"texto\":\"\"}})],1),_c('div',{attrs:{\"id\":\"zonaNombre\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNuevoNombre inputNombreCosa\",class:{ deshabilitado: _vm.enviandoNuevoNombre },attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":_vm.guardarNuevoNombre,\"keydown\":_vm.keydownInputNuevoNombre,\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],class:{\n              deshabilitado: _vm.enviandoNuevoNombre,\n              administrador: _vm.administrador,\n            },attrs:{\"id\":\"elNombre\"},on:{\"click\":_vm.toggleEditandoNombre}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.nombre)+\" \")])],1),_c('div',{attrs:{\"id\":\"zonaTiempos\"}},[_c('div',{staticClass:\"bloqueCampo\",attrs:{\"id\":\"bloqueHorarioInicio\"}},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Inicio\")]),_c('div',{staticClass:\"valorCampo\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoFechaInicio),expression:\"!editandoFechaInicio\"}],attrs:{\"id\":\"fechaInicio\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarEdicionFechaInicio($event)}}},[_vm._v(\" \"+_vm._s(_vm.fechaInicioLegible)+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoFechaInicio),expression:\"editandoFechaInicio\"}],ref:\"inputFechaInicio\",attrs:{\"type\":\"date\",\"id\":\"inputFechaInicio\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateFechaInicioHoldDuration($event.target.value)},\"blur\":function($event){return _vm.updateFechaInicioHoldDuration($event.target.value)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoHoraInicio),expression:\"!editandoHoraInicio\"}],attrs:{\"id\":\"horaInicio\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarEdicionHoraInicio($event)}}},[_vm._v(\" \"+_vm._s(_vm.horaInicioLegible)+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoHoraInicio),expression:\"editandoHoraInicio\"}],ref:\"inputHoraInicio\",class:{ deshabilitado: _vm.enviandoSomeHorario },attrs:{\"type\":\"time\",\"id\":\"inputHoraInicio\"},on:{\"blur\":function($event){return _vm.updateHoraInicioHoldDuration($event.target.value)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateHoraInicioHoldDuration($event.target.value)}}})])]),_c('div',{staticClass:\"bloqueCampo\",attrs:{\"id\":\"bloqueDuracion\"}},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Duracion\")]),_c('div',{staticClass:\"valorCampo\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDuracion),expression:\"!editandoDuracion\"}],attrs:{\"id\":\"duracion\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarEdicionDuracion($event)}}},[_vm._v(\" \"+_vm._s(_vm.duracionMinutos)+_vm._s(_vm.duracionMinutos != 1 ? \" minutos\" : \" minuto\")+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDuracion),expression:\"editandoDuracion\"}],ref:\"inputDuracion\",class:{ deshabilitado: _vm.enviandoSomeHorario },staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"id\":\"inputDuracion\"},on:{\"blur\":function($event){return _vm.updateDuracion($event.target.value)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateDuracion($event.target.value)}}})])])]),(_vm.esteEvento.lugar)?_c('div',{staticClass:\"bloqueCampo\",attrs:{\"id\":\"bloqueLugar\"}},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Lugar\")]),_c('div',{staticClass:\"valorCampo\"},[_vm._v(\" \"+_vm._s(_vm.esteEvento.lugar)+\" \")])]):_vm._e(),_c('div',{staticClass:\"bloqueAdministrador bloqueCampo\"},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Administra\")]),_c('div',{staticClass:\"valorCampo\",staticStyle:{\"opacity\":\"0.9\"}},[_c('icono-persona-autonomo',{attrs:{\"factorEscala\":'0.5',\"idPersona\":_vm.esteEvento.idAdministrador}})],1)]),_c('div',{attrs:{\"id\":\"contenedorSelectoresMostrar\"}},[_c('div',{staticClass:\"boton\",class:{\n              deshabilitado:\n                (!_vm.esteEvento.descripcion ||\n                  _vm.esteEvento.descripcion.length < 1) &&\n                !_vm.administrador,\n            },style:({\n              borderColor: _vm.mostrando === 'descripcion' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'descripcion' ? '' : 'Mostrar descripción'},on:{\"click\":function($event){_vm.mostrando = 'descripcion'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Descripción\"}})]),_c('div',{staticClass:\"boton\",style:({\n              borderColor: _vm.mostrando === 'participantes' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'participantes'\n                ? ''\n                : 'Mostrar participantes del evento'},on:{\"click\":function($event){_vm.mostrando = 'participantes'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/user.svg\"),\"alt\":\"Participantes\"}})])]),_c('div',{attrs:{\"id\":\"zonaContenidoMostrando\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'descripcion'),expression:\"mostrando === 'descripcion'\"}],staticClass:\"zonaInformacion\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"descripcion\"},on:{\"click\":_vm.toggleEditandoDescripcion}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",staticClass:\"inputTexto\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"boton botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}}),_c('img',{staticClass:\"boton botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionDescripcion\"},on:{\"click\":function($event){_vm.editandoDescripcion = false}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'participantes'),expression:\"mostrando === 'participantes'\"}],attrs:{\"id\":\"zonaParticipantes\"}},[_c('div',{staticClass:\"bloqueCampo\",attrs:{\"id\":\"bloqueMaxParticipantes\"}},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Maximo:\")]),_c('div',{staticClass:\"valorCampo\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoLimiteDeCupos),expression:\"nuevoLimiteDeCupos\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoLimiteDeCupos),expression:\"editandoLimiteDeCupos\"}],ref:\"inputNuevoLimiteDeCupos\",staticClass:\"inputNuevoLimiteDeCupos inputLimiteDeCuposCosa\",class:{ deshabilitado: _vm.enviandoNuevoLimiteDeCupos },attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.nuevoLimiteDeCupos)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoLimiteDeCupos($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":_vm.guardarNuevoLimiteDeCupos,\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoLimiteDeCupos=$event.target.value}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoLimiteDeCupos),expression:\"enviandoNuevoLimiteDeCupos\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoLimiteDeCupos),expression:\"!editandoLimiteDeCupos\"}],class:{\n                    deshabilitado: _vm.enviandoNuevoLimiteDeCupos,\n                    administrador: _vm.administrador,\n                  },attrs:{\"id\":\"elLimiteDeCupos\"},on:{\"click\":_vm.toggleEditandoLimiteDeCupos}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.limiteDeCupos || \"Sin límite\")+\" \")])],1),_c('div',{staticClass:\"boton\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"title\":\"Fijar este valor para todos los eventos futuros de este espacio\"},on:{\"click\":_vm.broadcastAFuturoMaximoParticipantes}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/broadcastTower.svg\"),\"alt\":\"Todos\"}})])]),_c('div',{attrs:{\"id\":\"listaParticipantes\"}},_vm._l((_vm.esteEvento.eventosEnmarcados),function(participacion){return _c('info-participante-evento-publico',{key:participacion.id,attrs:{\"estaParticipacion\":participacion,\"eventoPublico\":_vm.esteEvento,\"duracionEventoPublico\":_vm.duracionMinutos}})}),1)])])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"infoParticipanteEventoPublico\"},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_vm._m(0),_c('div',{attrs:{\"id\":\"nombrePersona\"}},[_vm._v(\" \"+_vm._s(_vm.estaParticipacion.nombresPersona)+\" \")]),_c('div',{staticClass:\"contenedorControles\",staticStyle:{\"margin-left\":\"auto\"}},[_c('div',{staticClass:\"boton\",class:{ activo: _vm.mostrando === 'descripcion' },on:{\"click\":function($event){_vm.mostrando = _vm.mostrando === 'descripcion' ? null : 'descripcion'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Info\"}})])])]),_c('div',{attrs:{\"id\":\"barraTiempos\"}},[_c('div',{style:([_vm.offsetBarraPresencia]),attrs:{\"id\":\"barraPresencia\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'descripcion'),expression:\"mostrando === 'descripcion'\"}],attrs:{\"id\":\"bloqueInformacion\"}},[_c('div',{attrs:{\"id\":\"nombreEventoPersonal\"}},[_vm._v(\" \"+_vm._s(this.estaParticipacion.nombre)+\" \")]),_c('div',{attrs:{\"id\":\"horariosEventoPersonal\"}},[_vm._v(\" \"+_vm._s(_vm.horaInicioLegible)+\"-\"+_vm._s(_vm.horaFinalLegible)+\" \")]),(_vm.estaParticipacion.descripcion)?_c('div',{attrs:{\"id\":\"descripcion\"}},[_vm._v(\" \"+_vm._s(_vm.estaParticipacion.descripcion)+\" \")]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boton iconoUser\"},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/user.svg\"),\"alt\":\"Usuario\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"infoParticipanteEventoPublico\">\r\n    <div id=\"barraSuperior\">\r\n      <div class=\"boton iconoUser\">\r\n        <img src=\"@/assets/iconos/user.svg\" alt=\"Usuario\" />\r\n      </div>\r\n\r\n      <div id=\"nombrePersona\">\r\n        {{ estaParticipacion.nombresPersona }}\r\n      </div>\r\n\r\n      <div class=\"contenedorControles\" style=\"margin-left: auto\">\r\n        <div\r\n          class=\"boton\"\r\n          @click=\"\r\n            mostrando = mostrando === 'descripcion' ? null : 'descripcion'\r\n          \"\r\n          :class=\"{ activo: mostrando === 'descripcion' }\"\r\n        >\r\n          <img src=\"@/assets/iconos/info.svg\" alt=\"Info\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"barraTiempos\">\r\n      <div id=\"barraPresencia\" :style=\"[offsetBarraPresencia]\"></div>\r\n    </div>\r\n\r\n    <div id=\"bloqueInformacion\" v-show=\"mostrando === 'descripcion'\">\r\n      <div id=\"nombreEventoPersonal\">\r\n        {{ this.estaParticipacion.nombre }}\r\n      </div>\r\n      <div id=\"horariosEventoPersonal\">\r\n        {{ horaInicioLegible }}-{{ horaFinalLegible }}\r\n      </div>\r\n      <div id=\"descripcion\" v-if=\"estaParticipacion.descripcion\">\r\n        {{ estaParticipacion.descripcion }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"InfoParticipanteEventoPublico\",\r\n  props: {\r\n    estaParticipacion: Object,\r\n    eventoPublico: Object,\r\n    duracionEventoPublico: Number,\r\n  },\r\n  data() {\r\n    return {\r\n      mostrando: null,\r\n    };\r\n  },\r\n  computed: {\r\n    offsetBarraPresencia() {\r\n      const diffToStart =\r\n        this.dateInicio - new Date(this.eventoPublico.horarioInicio);\r\n      const diffToStartMinutos = diffToStart / 60000;\r\n      const porcentajeLeft =\r\n        (diffToStartMinutos * 100) / this.duracionEventoPublico;\r\n      const porcentajeWidth =\r\n        (this.duracionMinutos * 100) / this.duracionEventoPublico;\r\n\r\n      return {\r\n        left: porcentajeLeft + \"%\",\r\n        width: porcentajeWidth + \"%\",\r\n      };\r\n    },\r\n    duracionMinutos() {\r\n      return (this.dateFinal - this.dateInicio) / 60000;\r\n    },\r\n    horaInicioLegible() {\r\n      var hora = this.dateInicio.getHours();\r\n      var minutos = this.dateInicio.getMinutes();\r\n      if ((\"\" + hora).length < 2) {\r\n        hora = \"0\" + hora;\r\n      }\r\n      if ((\"\" + minutos).length < 2) {\r\n        minutos = \"0\" + minutos;\r\n      }\r\n      return hora + \":\" + minutos;\r\n    },\r\n    horaFinalLegible() {\r\n      var hora = this.dateFinal.getHours();\r\n      var minutos = this.dateFinal.getMinutes();\r\n      if ((\"\" + hora).length < 2) {\r\n        hora = \"0\" + hora;\r\n      }\r\n      if ((\"\" + minutos).length < 2) {\r\n        minutos = \"0\" + minutos;\r\n      }\r\n      return hora + \":\" + minutos;\r\n    },\r\n    dateInicio() {\r\n      return new Date(this.estaParticipacion.horarioInicio);\r\n    },\r\n    dateFinal() {\r\n      return new Date(this.estaParticipacion.horarioFinal);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.infoParticipanteEventoPublico {\r\n}\r\n#barraSuperior {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.iconoUser {\r\n  margin: 0px 8px;\r\n}\r\n#nombrePersona{\r\n    font-size: 12px;\r\n}\r\n#barraTiempos {\r\n  width: 100%;\r\n  height: 12px;\r\n  background-color: #c4c4c4;\r\n  position: relative;\r\n}\r\n#barraPresencia {\r\n  position: relative;\r\n  height: 100%;\r\n  background-color: var(--paletaVerde);\r\n}\r\n#nombreEventoPersonal{\r\n    font-size: 10px;\r\n    opacity: 0.8;\r\n    margin-left: 1vw;\r\n}\r\n#horariosEventoPersonal{\r\n    font-size: 10px;\r\n    margin-left: 1vw;\r\n\r\n}\r\n#descripcion{\r\n    margin: 5px min(10px, 1vw);\r\n    border: 1px solid white;\r\n    border-radius: 10px;\r\n    font-size: 12px;\r\n    font-family: Salsa, cursive;\r\n    padding: 10px;\r\n}\r\n.boton {\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-radius: 50%;\r\n}\r\n.boton:not(.activo) {\r\n  border-color: transparent;\r\n}\r\n.boton.activo {\r\n  border-color: white;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoParticipanteEventoPublico.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoParticipanteEventoPublico.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InfoParticipanteEventoPublico.vue?vue&type=template&id=e4aed360&scoped=true&\"\nimport script from \"./InfoParticipanteEventoPublico.vue?vue&type=script&lang=js&\"\nexport * from \"./InfoParticipanteEventoPublico.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InfoParticipanteEventoPublico.vue?vue&type=style&index=0&id=e4aed360&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4aed360\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"ventanaEventoPublico\">\r\n    <div id=\"zonaCobertura\">\r\n      <div id=\"laVentana\">\r\n        <loading texto=\"\" v-show=\"$apollo.queries.esteEvento.loading\"/>\r\n        <div id=\"contenido\" v-show=\"!$apollo.queries.esteEvento.loading\">\r\n          <div id=\"barraSuperior\">\r\n            <div\r\n              class=\"boton\"\r\n              title=\"Cerrar\"\r\n              style=\"margin-left: auto\"\r\n              @click=\"cerrarVentana\"\r\n            >\r\n              <img src=\"@/assets/iconos/times.svg\" alt=\"Salir\" />\r\n            </div>\r\n\r\n            <div\r\n              class=\"boton\"\r\n              v-if=\"administrador || usuarioSuperadministrador\"\r\n              title=\"Repetir este evento\"\r\n              @click=\"mostrandoZonaRepetir = !mostrandoZonaRepetir\"\r\n            >\r\n              <img src=\"@/assets/iconos/hourglass.svg\" alt=\"Repetir\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"zonaRepetir\" v-show=\"mostrandoZonaRepetir\">\r\n            <div class=\"instruccion\" style=\"margin-bottom: 10px\">\r\n              Repetir este evento...\r\n            </div>\r\n\r\n            <select\r\n              name=\"\"\r\n              id=\"selectFrecuenciaRepetir\"\r\n              v-model=\"periodoRepetir\"\r\n            >\r\n              <option value=\"diariamente\">Diariamente</option>\r\n              <option value=\"semanalmente\">Semanalmente</option>\r\n            </select>\r\n            <div id=\"bloqueCantidadRepetir\" style=\"margin: 10px auto\">\r\n              <input\r\n                type=\"number\"\r\n                :min=\"minRepetir\"\r\n                :max=\"maxRepetir\"\r\n                style=\"width: 50px; margin-right: 20px\"\r\n                name=\"\"\r\n                id=\"inputCantidadRepetir\"\r\n                v-model=\"cantidadRepetir\"\r\n              />\r\n              {{ cantidadRepetir > 1 ? \"veces\" : \"vez\" }}\r\n            </div>\r\n            <div\r\n              class=\"boton\"\r\n              style=\"margin: 10px auto\"\r\n              title=\"Aceptar\"\r\n              v-show=\"!enviandoQueryRepetir\"\r\n              @click=\"repetirEvento(cantidadRepetir, periodoRepetir)\"\r\n            >\r\n              <img src=\"@/assets/iconos/check.svg\" alt=\"Aceptar\" />\r\n            </div>\r\n            <loading\r\n              texto=\"\"\r\n              v-show=\"enviandoQueryRepetir\"\r\n              style=\"margin: 10px auto\"\r\n            />\r\n          </div>\r\n          <div id=\"zonaNombre\">\r\n            <input\r\n              @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n              ref=\"inputNuevoNombre\"\r\n              v-model=\"nuevoNombre\"\r\n              @click.stop=\"\"\r\n              @blur=\"guardarNuevoNombre\"\r\n              @keydown=\"keydownInputNuevoNombre\"\r\n              v-show=\"editandoNombre\"\r\n              type=\"text\"\r\n              class=\"inputNuevoNombre inputNombreCosa\"\r\n              :class=\"{ deshabilitado: enviandoNuevoNombre }\"\r\n            />\r\n            <loading texto=\"\" v-show=\"enviandoNuevoNombre\" />\r\n            <div\r\n              id=\"elNombre\"\r\n              :class=\"{\r\n                deshabilitado: enviandoNuevoNombre,\r\n                administrador,\r\n              }\"\r\n              v-show=\"!editandoNombre\"\r\n              @click=\"toggleEditandoNombre\"\r\n            >\r\n              {{ esteEvento.nombre }}\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"zonaTiempos\">\r\n            <div id=\"bloqueHorarioInicio\" class=\"bloqueCampo\">\r\n              <div class=\"nombreCampo\">Inicio</div>\r\n              <div class=\"valorCampo\">\r\n                <div\r\n                  id=\"fechaInicio\"\r\n                  v-show=\"!editandoFechaInicio\"\r\n                  @click.stop=\"iniciarEdicionFechaInicio\"\r\n                >\r\n                  {{ fechaInicioLegible }}\r\n                </div>\r\n                <input\r\n                  type=\"date\"\r\n                  id=\"inputFechaInicio\"\r\n                  v-show=\"editandoFechaInicio\"\r\n                  ref=\"inputFechaInicio\"\r\n                  @keypress.enter=\"\r\n                    updateFechaInicioHoldDuration($event.target.value)\r\n                  \"\r\n                  @blur=\"updateFechaInicioHoldDuration($event.target.value)\"\r\n                />\r\n                <div\r\n                  id=\"horaInicio\"\r\n                  v-show=\"!editandoHoraInicio\"\r\n                  @click.stop=\"iniciarEdicionHoraInicio\"                  \r\n                >\r\n                  {{ horaInicioLegible }}\r\n                </div>\r\n\r\n                <input\r\n                  type=\"time\"\r\n                  id=\"inputHoraInicio\"\r\n                  v-show=\"editandoHoraInicio\"\r\n                  ref=\"inputHoraInicio\"\r\n                  :class=\"{ deshabilitado: enviandoSomeHorario }\"\r\n                  @blur=\"updateHoraInicioHoldDuration($event.target.value)\"\r\n                  @keypress.enter=\"\r\n                    updateHoraInicioHoldDuration($event.target.value)\r\n                  \"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div id=\"bloqueDuracion\" class=\"bloqueCampo\">\r\n              <div class=\"nombreCampo\">Duracion</div>\r\n              <div class=\"valorCampo\">\r\n                <div\r\n                  id=\"duracion\"\r\n                  v-show=\"!editandoDuracion\"\r\n                  @click.stop=\"iniciarEdicionDuracion\"\r\n                >\r\n                  {{ duracionMinutos\r\n                  }}{{ duracionMinutos != 1 ? \" minutos\" : \" minuto\" }}\r\n                </div>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"inputDuracion\"\r\n                  style=\"width: 100px\"\r\n                  v-show=\"editandoDuracion\"\r\n                  ref=\"inputDuracion\"\r\n                  :class=\"{ deshabilitado: enviandoSomeHorario }\"\r\n                  @blur=\"updateDuracion($event.target.value)\"\r\n                  @keypress.enter=\"updateDuracion($event.target.value)\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"bloqueLugar\" v-if=\"esteEvento.lugar\" class=\"bloqueCampo\">\r\n            <div class=\"nombreCampo\">Lugar</div>\r\n            <div class=\"valorCampo\">\r\n              {{ esteEvento.lugar }}\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"bloqueAdministrador bloqueCampo\">\r\n            <div class=\"nombreCampo\">Administra</div>\r\n            <div class=\"valorCampo\" style=\"opacity: 0.9\">\r\n              <icono-persona-autonomo\r\n                :factorEscala=\"'0.5'\"\r\n                :idPersona=\"esteEvento.idAdministrador\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"contenedorSelectoresMostrar\">\r\n            <div\r\n              class=\"boton\"\r\n              :class=\"{\r\n                deshabilitado:\r\n                  (!esteEvento.descripcion ||\r\n                    esteEvento.descripcion.length < 1) &&\r\n                  !administrador,\r\n              }\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'descripcion' ? 'white' : 'black',\r\n              }\"\r\n              @click=\"mostrando = 'descripcion'\"\r\n              :title=\"mostrando === 'descripcion' ? '' : 'Mostrar descripción'\"\r\n            >\r\n              <img src=\"@/assets/iconos/info.svg\" alt=\"Descripción\" />\r\n            </div>\r\n            <div\r\n              class=\"boton\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'participantes' ? 'white' : 'black',\r\n              }\"\r\n              @click=\"mostrando = 'participantes'\"\r\n              :title=\"\r\n                mostrando === 'participantes'\r\n                  ? ''\r\n                  : 'Mostrar participantes del evento'\r\n              \"\r\n            >\r\n              <img src=\"@/assets/iconos/user.svg\" alt=\"Participantes\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"zonaContenidoMostrando\">\r\n            <div\r\n              id=\"zonaDescripcion\"\r\n              class=\"zonaInformacion\"\r\n              v-show=\"mostrando === 'descripcion'\"\r\n            >\r\n              <div\r\n                id=\"descripcion\"\r\n                class=\"contenidoTexto\"\r\n                ref=\"descripcion\"\r\n                v-show=\"!editandoDescripcion\"\r\n                @click=\"toggleEditandoDescripcion\"\r\n              >\r\n                {{ esteEvento.descripcion }}\r\n              </div>\r\n\r\n              <textarea\r\n                id=\"inputNuevoDescripcion\"\r\n                class=\"inputTexto\"\r\n                ref=\"inputNuevoDescripcion\"\r\n                :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n                v-model=\"nuevoDescripcion\"\r\n                v-show=\"editandoDescripcion\"\r\n              />\r\n              <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\r\n                <img\r\n                  src=\"@/assets/iconos/save.svg\"\r\n                  class=\"boton botonGuardarCampo\"\r\n                  alt=\"Guardar\"\r\n                  title=\"Guardar descripción\"\r\n                  id=\"botonGuardarDescripcion\"\r\n                  @click=\"guardarNuevoDescripcion\"\r\n                />\r\n                <img\r\n                  src=\"@/assets/iconos/equis.svg\"\r\n                  class=\"boton botonGuardarCampo\"\r\n                  alt=\"Cancelar\"\r\n                  title=\"Cancelar edición\"\r\n                  id=\"botonCancelarEdicionDescripcion\"\r\n                  @click=\"editandoDescripcion = false\"\r\n                />\r\n              </div>\r\n              <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n            </div>\r\n\r\n            <div id=\"zonaParticipantes\" v-show=\"mostrando === 'participantes'\">\r\n              <div id=\"bloqueMaxParticipantes\" class=\"bloqueCampo\">\r\n                <div class=\"nombreCampo\">Maximo:</div>\r\n                <div class=\"valorCampo\">\r\n                  <input\r\n                    @keypress.enter.prevent=\"guardarNuevoLimiteDeCupos\"\r\n                    ref=\"inputNuevoLimiteDeCupos\"\r\n                    v-model=\"nuevoLimiteDeCupos\"\r\n                    @click.stop=\"\"\r\n                    @blur=\"guardarNuevoLimiteDeCupos\"\r\n                    v-show=\"editandoLimiteDeCupos\"\r\n                    type=\"number\"\r\n                    class=\"inputNuevoLimiteDeCupos inputLimiteDeCuposCosa\"\r\n                    :class=\"{ deshabilitado: enviandoNuevoLimiteDeCupos }\"\r\n                  />\r\n                  <loading texto=\"\" v-show=\"enviandoNuevoLimiteDeCupos\" />\r\n                  <div\r\n                    id=\"elLimiteDeCupos\"\r\n                    :class=\"{\r\n                      deshabilitado: enviandoNuevoLimiteDeCupos,\r\n                      administrador,\r\n                    }\"\r\n                    v-show=\"!editandoLimiteDeCupos\"\r\n                    @click=\"toggleEditandoLimiteDeCupos\"\r\n                  >\r\n                    {{ esteEvento.limiteDeCupos || \"Sin límite\" }}\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"boton\" style=\"margin-left:20px\" @click=\"broadcastAFuturoMaximoParticipantes\" title=\"Fijar este valor para todos los eventos futuros de este espacio\">\r\n                  <img src=\"@/assets/iconos/broadcastTower.svg\" alt=\"Todos\">\r\n                </div>\r\n              </div>\r\n              <div id=\"listaParticipantes\">\r\n                <info-participante-evento-publico\r\n                  :estaParticipacion=\"participacion\"\r\n                  v-for=\"participacion of esteEvento.eventosEnmarcados\"\r\n                  :key=\"participacion.id\"\r\n                  :eventoPublico=\"esteEvento\"\r\n                  :duracionEventoPublico=\"duracionMinutos\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from \"./Loading.vue\";\r\nimport { fragmentoEventoPublico } from \"./fragsCalendario\";\r\nimport IconoPersonaAutonomo from \"../usuario/IconoPersonaAutonomo.vue\";\r\nimport {\r\n  MixinBasicoEventos,\r\n  MixinBasicoEventosPublicos,\r\n  MixinEdicionEventos,\r\n  MixinEdicionEventosPublicos,\r\n  MixinVentanaEvento,\r\n} from \"../MixinsEventos\";\r\nimport InfoParticipanteEventoPublico from \"./InfoParticipanteEventoPublico.vue\";\r\nconst QUERY_ESTE_EVENTO = gql`\r\n  query ($idEvento: ID!) {\r\n    eventoPublico(idEvento: $idEvento) {\r\n      ...fragEventoPublico\r\n    }\r\n  }\r\n  ${fragmentoEventoPublico}\r\n`;\r\n\r\nexport default {\r\n  name: \"VentanaEvento\",\r\n  apollo: {\r\n    esteEvento: {\r\n      query: QUERY_ESTE_EVENTO,\r\n      variables() {\r\n        return {\r\n          idEvento: this.$route.params.idEvento,\r\n        };\r\n      },\r\n      update({ eventoPublico }) {\r\n        return eventoPublico;\r\n      },\r\n      fetchPolicy: \"cache-and-network\"\r\n    },\r\n  },\r\n  components: {\r\n    Loading,\r\n    IconoPersonaAutonomo,\r\n    InfoParticipanteEventoPublico,\r\n  },\r\n  mixins: [\r\n    MixinBasicoEventos,\r\n    MixinBasicoEventosPublicos,\r\n    MixinEdicionEventos,\r\n    MixinEdicionEventosPublicos,\r\n    MixinVentanaEvento,\r\n  ],\r\n  data() {\r\n    return {\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    broadcastAFuturoMaximoParticipantes(){\r\n      console.log(`Se fijará que todos los eventos futuros de este espacio tengan ${this.esteEvento.limiteDeCupos}`);\r\n\r\n      if(!confirm('Se fijará que todos los eventos de este espacio (Posteriores a este) tendrán un límite de cupos de '+this.esteEvento.limiteDeCupos+'. ¿Continuar?')){\r\n        return\r\n      }\r\n\r\n      this.$apollo.mutate({\r\n        mutation: gql`\r\n          mutation($idEspacio: ID!, $dateFrom: Date!, $limiteDeCupos: Int!){\r\n            setLimiteDeCuposEventosPublicosEspacioFromDate(idEspacio: $idEspacio, dateFrom: $dateFrom, limiteDeCupos: $limiteDeCupos)                        \r\n          }\r\n        `,\r\n        variables:{\r\n          idEspacio: this.esteEvento.idParent,\r\n          dateFrom: this.dateInicio,\r\n          limiteDeCupos: this.esteEvento.limiteDeCupos,\r\n\r\n        }\r\n      }).then(()=>{\r\n\r\n      }).catch((error)=>{\r\n        console.log(`Error: ${error}`);\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ventanaEventoPublico {\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 100;\r\n}\r\n#laVentana {\r\n  box-shadow: 3px 4px 4px rgba(0, 0, 0, 0.25);\r\n  font-family: Salsa, cursive;\r\n  border-radius: 7px;\r\n  width: min(600px, 90vw);\r\n  height: min(800px, 90vh);\r\n  margin: auto auto;\r\n  background-color: var(--paletaMain);\r\n}\r\n#barraSuperior {\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n#zonaRepetir {\r\n  margin-right: auto;\r\n  background-color: rgba(255, 255, 255, 0.103);\r\n  width: min(50%, 300px);\r\n  font-size: 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n#zonaNombre {\r\n  text-align: center;\r\n  margin: 8% auto;\r\n}\r\n\r\n.bloqueCampo {\r\n  display: flex;\r\n  width: min(200px, 90%);\r\n  margin: 3% auto;\r\n  font-size: 11px;\r\n}\r\n.valorCampo {\r\n  margin-left: auto;\r\n  font-family: Poppins, sans-serif;\r\n  opacity: 0.6;\r\n}\r\n#contenedorSelectoresMostrar {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 10px auto;\r\n}\r\n#contenedorSelectoresMostrar .boton {\r\n  border-width: 1px;\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  border-style: solid;\r\n  padding: 3px;\r\n  box-sizing: border-box;\r\n  margin: 0px 2%;\r\n}\r\n#zonaContenidoMostrando {\r\n  min-height: 100px;\r\n}\r\n#zonaDescripcion {\r\n  height: 100%;\r\n}\r\n#zonaDescripcion textarea {\r\n  margin: 0px auto;\r\n  display: block;\r\n  width: 90%;\r\n  min-height: 60px;\r\n}\r\n#descripcion {\r\n  height: 100%;\r\n  border: 1px solid white;\r\n  border-radius: 10px;\r\n  padding: 15px 10px;\r\n  margin: 10px;\r\n}\r\n\r\n#listaParticipantes {\r\n  margin: 10px min(30px, 2vw);\r\n  border: 1px solid black;\r\n  padding: 10px 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanaEventoPublico.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanaEventoPublico.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VentanaEventoPublico.vue?vue&type=template&id=5b3674af&scoped=true&\"\nimport script from \"./VentanaEventoPublico.vue?vue&type=script&lang=js&\"\nexport * from \"./VentanaEventoPublico.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VentanaEventoPublico.vue?vue&type=style&index=0&id=5b3674af&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b3674af\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ventanaEventoPersonal\"},[_c('div',{attrs:{\"id\":\"zonaCobertura\"}},[_c('div',{attrs:{\"id\":\"laVentana\"}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.esteEvento.loading),expression:\"$apollo.queries.esteEvento.loading\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$apollo.queries.esteEvento.loading),expression:\"!$apollo.queries.esteEvento.loading\"}],attrs:{\"id\":\"contenido\"}},[_c('div',{attrs:{\"id\":\"barraSuperior\"}},[_c('div',{staticClass:\"boton\",staticStyle:{\"margin-left\":\"auto\"},attrs:{\"title\":\"Cerrar\"},on:{\"click\":_vm.cerrarVentana}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/times.svg\"),\"alt\":\"Salir\"}})]),(_vm.administrador || _vm.usuarioSuperadministrador)?_c('div',{staticClass:\"boton\",attrs:{\"title\":\"Repetir este evento\"},on:{\"click\":function($event){_vm.mostrandoZonaRepetir = !_vm.mostrandoZonaRepetir}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/hourglass.svg\"),\"alt\":\"Repetir\"}})]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoZonaRepetir),expression:\"mostrandoZonaRepetir\"}],attrs:{\"id\":\"zonaRepetir\"}},[_c('div',{staticClass:\"instruccion\",staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(\" Repetir este evento... \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.periodoRepetir),expression:\"periodoRepetir\"}],attrs:{\"name\":\"\",\"id\":\"selectFrecuenciaRepetir\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.periodoRepetir=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"diariamente\"}},[_vm._v(\"Diariamente\")]),_c('option',{attrs:{\"value\":\"semanalmente\"}},[_vm._v(\"Semanalmente\")])]),_c('div',{staticStyle:{\"margin\":\"10px auto\"},attrs:{\"id\":\"bloqueCantidadRepetir\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cantidadRepetir),expression:\"cantidadRepetir\"}],staticStyle:{\"width\":\"50px\",\"margin-right\":\"20px\"},attrs:{\"type\":\"number\",\"min\":_vm.minRepetir,\"max\":_vm.maxRepetir,\"name\":\"\",\"id\":\"inputCantidadRepetir\"},domProps:{\"value\":(_vm.cantidadRepetir)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cantidadRepetir=$event.target.value}}}),_vm._v(\" \"+_vm._s(_vm.cantidadRepetir > 1 ? \"veces\" : \"vez\")+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enviandoQueryRepetir),expression:\"!enviandoQueryRepetir\"}],staticClass:\"boton\",staticStyle:{\"margin\":\"10px auto\"},attrs:{\"title\":\"Aceptar\"},on:{\"click\":function($event){return _vm.repetirEvento(_vm.cantidadRepetir, _vm.periodoRepetir)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/check.svg\"),\"alt\":\"Aceptar\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoQueryRepetir),expression:\"enviandoQueryRepetir\"}],staticStyle:{\"margin\":\"10px auto\"},attrs:{\"texto\":\"\"}})],1),_c('div',{attrs:{\"id\":\"zonaNombre\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoNombre),expression:\"nuevoNombre\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoNombre),expression:\"editandoNombre\"}],ref:\"inputNuevoNombre\",staticClass:\"inputNuevoNombre inputNombreCosa\",class:{ deshabilitado: _vm.enviandoNuevoNombre },attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.nuevoNombre)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.guardarNuevoNombre($event)},\"click\":function($event){$event.stopPropagation();},\"blur\":_vm.guardarNuevoNombre,\"keydown\":_vm.keydownInputNuevoNombre,\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoNombre=$event.target.value}}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoNombre),expression:\"enviandoNuevoNombre\"}],attrs:{\"texto\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoNombre),expression:\"!editandoNombre\"}],class:{\n              deshabilitado: _vm.enviandoNuevoNombre,\n              administrador: _vm.administrador,\n            },attrs:{\"id\":\"elNombre\"},on:{\"click\":_vm.toggleEditandoNombre}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.nombre)+\" \")])],1),_c('div',{attrs:{\"id\":\"zonaTiempos\"}},[_c('div',{staticClass:\"bloqueCampo\",attrs:{\"id\":\"bloqueHorarioInicio\"}},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Inicio\")]),_c('div',{staticClass:\"valorCampo\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoFechaInicio),expression:\"!editandoFechaInicio\"}],attrs:{\"id\":\"fechaInicio\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarEdicionFechaInicio($event)}}},[_vm._v(\" \"+_vm._s(_vm.fechaInicioLegible)+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoFechaInicio),expression:\"editandoFechaInicio\"}],ref:\"inputFechaInicio\",attrs:{\"type\":\"date\",\"id\":\"inputFechaInicio\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateFechaInicioHoldDuration($event.target.value)},\"blur\":function($event){return _vm.updateFechaInicioHoldDuration($event.target.value)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoHoraInicio),expression:\"!editandoHoraInicio\"}],attrs:{\"id\":\"horaInicio\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarEdicionHoraInicio($event)}}},[_vm._v(\" \"+_vm._s(_vm.horaInicioLegible)+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoHoraInicio),expression:\"editandoHoraInicio\"}],ref:\"inputHoraInicio\",class:{ deshabilitado: _vm.enviandoSomeHorario },attrs:{\"type\":\"time\",\"id\":\"inputHoraInicio\"},on:{\"blur\":function($event){return _vm.updateHoraInicioHoldDuration($event.target.value)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateHoraInicioHoldDuration($event.target.value)}}})])]),_c('div',{staticClass:\"bloqueCampo\",attrs:{\"id\":\"bloqueDuracion\"}},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Duracion\")]),_c('div',{staticClass:\"valorCampo\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDuracion),expression:\"!editandoDuracion\"}],attrs:{\"id\":\"duracion\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarEdicionDuracion($event)}}},[_vm._v(\" \"+_vm._s(_vm.duracionMinutos)+_vm._s(_vm.duracionMinutos != 1 ? \" minutos\" : \" minuto\")+\" \")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDuracion),expression:\"editandoDuracion\"}],ref:\"inputDuracion\",class:{ deshabilitado: _vm.enviandoSomeHorario },staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"id\":\"inputDuracion\"},on:{\"blur\":function($event){return _vm.updateDuracion($event.target.value)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateDuracion($event.target.value)}}})])])]),(_vm.esteEvento.lugar)?_c('div',{staticClass:\"bloqueCampo\",attrs:{\"id\":\"bloqueLugar\"}},[_c('div',{staticClass:\"nombreCampo\"},[_vm._v(\"Lugar\")]),_c('div',{staticClass:\"valorCampo\"},[_vm._v(\" \"+_vm._s(_vm.esteEvento.lugar)+\" \")])]):_vm._e(),_c('div',{attrs:{\"id\":\"contenedorSelectoresMostrar\"}},[_c('div',{staticClass:\"boton\",class:{\n              deshabilitado:\n                (!_vm.esteEvento.descripcion ||\n                  _vm.esteEvento.descripcion.length < 1) &&\n                !_vm.administrador,\n            },style:({\n              borderColor: _vm.mostrando === 'descripcion' ? 'white' : 'black',\n            }),attrs:{\"title\":_vm.mostrando === 'descripcion' ? '' : 'Mostrar descripción'},on:{\"click\":function($event){_vm.mostrando = 'descripcion'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/info.svg\"),\"alt\":\"Descripción\"}})]),_c('div',{staticClass:\"boton\",attrs:{\"title\":_vm.mostrando === 'participantes'\n                ? 'Ocultar participantes'\n                : 'Mostrar participantes'},on:{\"click\":function($event){_vm.mostrando =\n                _vm.mostrando === 'participantes' ? null : 'participantes'}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/users.svg\"),\"alt\":\"Participantes\"}})])]),_c('div',{attrs:{\"id\":\"zonaContenidoMostrando\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'descripcion'),expression:\"mostrando === 'descripcion'\"}],staticClass:\"zonaInformacion\",attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoDescripcion),expression:\"!editandoDescripcion\"}],ref:\"descripcion\",staticClass:\"contenidoTexto\",attrs:{\"id\":\"descripcion\"},on:{\"click\":_vm.toggleEditandoDescripcion}},[_vm._v(\" \"+_vm._s(_vm.esteEvento.descripcion)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoDescripcion),expression:\"nuevoDescripcion\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],ref:\"inputNuevoDescripcion\",staticClass:\"inputTexto\",class:{ letrasRojas: _vm.nuevoDescripcionIlegal },attrs:{\"id\":\"inputNuevoDescripcion\"},domProps:{\"value\":(_vm.nuevoDescripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoDescripcion=$event.target.value}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoDescripcion),expression:\"editandoDescripcion\"}],staticClass:\"contenedorBotonesCampo\"},[_c('img',{staticClass:\"boton botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/save.svg\"),\"alt\":\"Guardar\",\"title\":\"Guardar descripción\",\"id\":\"botonGuardarDescripcion\"},on:{\"click\":_vm.guardarNuevoDescripcion}}),_c('img',{staticClass:\"boton botonGuardarCampo\",attrs:{\"src\":require(\"@/assets/iconos/equis.svg\"),\"alt\":\"Cancelar\",\"title\":\"Cancelar edición\",\"id\":\"botonCancelarEdicionDescripcion\"},on:{\"click\":function($event){_vm.editandoDescripcion = false}}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoNuevoDescripcion),expression:\"enviandoNuevoDescripcion\"}],attrs:{\"texto\":\"Enviando...\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrando === 'participantes'),expression:\"mostrando === 'participantes'\"}],staticClass:\"zonaInformacion\",attrs:{\"id\":\"zonaParticipantes\"}},[(_vm.esteEvento.idPersona)?_c('div',{attrs:{\"id\":\"listaParticipantes\"}},_vm._l(([_vm.esteEvento.idPersona].concat(\n                  _vm.esteEvento.idsParticipantes\n                )),function(idParticipante){return _c('icono-persona-autonomo',{key:'participante' + idParticipante,attrs:{\"idPersona\":idParticipante,\"factorEscala\":'0.7'}})}),1):_vm._e()])])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ventanaEventoPersonal\">\r\n    <div id=\"zonaCobertura\">\r\n      <div id=\"laVentana\">\r\n        <loading texto=\"\" v-show=\"$apollo.queries.esteEvento.loading\" />\r\n\r\n        <div id=\"contenido\" v-show=\"!$apollo.queries.esteEvento.loading\">\r\n          <div id=\"barraSuperior\">\r\n            <div\r\n              class=\"boton\"\r\n              title=\"Cerrar\"\r\n              style=\"margin-left: auto\"\r\n              @click=\"cerrarVentana\"\r\n            >\r\n              <img src=\"@/assets/iconos/times.svg\" alt=\"Salir\" />\r\n            </div>\r\n\r\n            <div\r\n              class=\"boton\"\r\n              v-if=\"administrador || usuarioSuperadministrador\"\r\n              title=\"Repetir este evento\"\r\n              @click=\"mostrandoZonaRepetir = !mostrandoZonaRepetir\"\r\n            >\r\n              <img src=\"@/assets/iconos/hourglass.svg\" alt=\"Repetir\" />\r\n            </div>\r\n          </div>\r\n          <div id=\"zonaRepetir\" v-show=\"mostrandoZonaRepetir\">\r\n            <div class=\"instruccion\" style=\"margin-bottom: 10px\">\r\n              Repetir este evento...\r\n            </div>\r\n\r\n            <select\r\n              name=\"\"\r\n              id=\"selectFrecuenciaRepetir\"\r\n              v-model=\"periodoRepetir\"\r\n            >\r\n              <option value=\"diariamente\">Diariamente</option>\r\n              <option value=\"semanalmente\">Semanalmente</option>\r\n            </select>\r\n            <div id=\"bloqueCantidadRepetir\" style=\"margin: 10px auto\">\r\n              <input\r\n                type=\"number\"\r\n                :min=\"minRepetir\"\r\n                :max=\"maxRepetir\"\r\n                style=\"width: 50px; margin-right: 20px\"\r\n                name=\"\"\r\n                id=\"inputCantidadRepetir\"\r\n                v-model=\"cantidadRepetir\"\r\n              />\r\n              {{ cantidadRepetir > 1 ? \"veces\" : \"vez\" }}\r\n            </div>\r\n            <div\r\n              class=\"boton\"\r\n              style=\"margin: 10px auto\"\r\n              title=\"Aceptar\"\r\n              v-show=\"!enviandoQueryRepetir\"\r\n              @click=\"repetirEvento(cantidadRepetir, periodoRepetir)\"\r\n            >\r\n              <img src=\"@/assets/iconos/check.svg\" alt=\"Aceptar\" />\r\n            </div>\r\n            <loading\r\n              texto=\"\"\r\n              v-show=\"enviandoQueryRepetir\"\r\n              style=\"margin: 10px auto\"\r\n            />\r\n          </div>\r\n          <div id=\"zonaNombre\">\r\n            <input\r\n              @keypress.enter.prevent=\"guardarNuevoNombre\"\r\n              ref=\"inputNuevoNombre\"\r\n              v-model=\"nuevoNombre\"\r\n              @click.stop=\"\"\r\n              @blur=\"guardarNuevoNombre\"\r\n              @keydown=\"keydownInputNuevoNombre\"\r\n              v-show=\"editandoNombre\"\r\n              type=\"text\"\r\n              class=\"inputNuevoNombre inputNombreCosa\"\r\n              :class=\"{ deshabilitado: enviandoNuevoNombre }\"\r\n            />\r\n            <loading texto=\"\" v-show=\"enviandoNuevoNombre\" />\r\n            <div\r\n              id=\"elNombre\"\r\n              :class=\"{\r\n                deshabilitado: enviandoNuevoNombre,\r\n                administrador,\r\n              }\"\r\n              v-show=\"!editandoNombre\"\r\n              @click=\"toggleEditandoNombre\"\r\n            >\r\n              {{ esteEvento.nombre }}\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"zonaTiempos\">\r\n            <div id=\"bloqueHorarioInicio\" class=\"bloqueCampo\">\r\n              <div class=\"nombreCampo\">Inicio</div>\r\n              <div class=\"valorCampo\">\r\n                <div\r\n                  id=\"fechaInicio\"\r\n                  v-show=\"!editandoFechaInicio\"\r\n                  @click.stop=\"iniciarEdicionFechaInicio\"\r\n                >\r\n                  {{ fechaInicioLegible }}\r\n                </div>\r\n                <input\r\n                  type=\"date\"\r\n                  id=\"inputFechaInicio\"\r\n                  v-show=\"editandoFechaInicio\"\r\n                  ref=\"inputFechaInicio\"\r\n                  @keypress.enter=\"\r\n                    updateFechaInicioHoldDuration($event.target.value)\r\n                  \"\r\n                  @blur=\"updateFechaInicioHoldDuration($event.target.value)\"\r\n                />\r\n                <div\r\n                  id=\"horaInicio\"\r\n                  v-show=\"!editandoHoraInicio\"\r\n                  @click.stop=\"iniciarEdicionHoraInicio\"\r\n                >\r\n                  {{ horaInicioLegible }}\r\n                </div>\r\n\r\n                <input\r\n                  type=\"time\"\r\n                  id=\"inputHoraInicio\"\r\n                  v-show=\"editandoHoraInicio\"\r\n                  ref=\"inputHoraInicio\"\r\n                  :class=\"{ deshabilitado: enviandoSomeHorario }\"\r\n                  @blur=\"updateHoraInicioHoldDuration($event.target.value)\"\r\n                  @keypress.enter=\"\r\n                    updateHoraInicioHoldDuration($event.target.value)\r\n                  \"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div id=\"bloqueDuracion\" class=\"bloqueCampo\">\r\n              <div class=\"nombreCampo\">Duracion</div>\r\n              <div class=\"valorCampo\">\r\n                <div\r\n                  id=\"duracion\"\r\n                  v-show=\"!editandoDuracion\"\r\n                  @click.stop=\"iniciarEdicionDuracion\"\r\n                >\r\n                  {{ duracionMinutos\r\n                  }}{{ duracionMinutos != 1 ? \" minutos\" : \" minuto\" }}\r\n                </div>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"inputDuracion\"\r\n                  style=\"width: 100px\"\r\n                  v-show=\"editandoDuracion\"\r\n                  ref=\"inputDuracion\"\r\n                  :class=\"{ deshabilitado: enviandoSomeHorario }\"\r\n                  @blur=\"updateDuracion($event.target.value)\"\r\n                  @keypress.enter=\"updateDuracion($event.target.value)\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"bloqueLugar\" v-if=\"esteEvento.lugar\" class=\"bloqueCampo\">\r\n            <div class=\"nombreCampo\">Lugar</div>\r\n            <div class=\"valorCampo\">\r\n              {{ esteEvento.lugar }}\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"contenedorSelectoresMostrar\">\r\n            <div\r\n              class=\"boton\"\r\n              :class=\"{\r\n                deshabilitado:\r\n                  (!esteEvento.descripcion ||\r\n                    esteEvento.descripcion.length < 1) &&\r\n                  !administrador,\r\n              }\"\r\n              :style=\"{\r\n                borderColor: mostrando === 'descripcion' ? 'white' : 'black',\r\n              }\"\r\n              @click=\"mostrando = 'descripcion'\"\r\n              :title=\"mostrando === 'descripcion' ? '' : 'Mostrar descripción'\"\r\n            >\r\n              <img src=\"@/assets/iconos/info.svg\" alt=\"Descripción\" />\r\n            </div>\r\n\r\n            <div\r\n              class=\"boton\"\r\n              :title=\"\r\n                mostrando === 'participantes'\r\n                  ? 'Ocultar participantes'\r\n                  : 'Mostrar participantes'\r\n              \"\r\n              @click=\"\r\n                mostrando =\r\n                  mostrando === 'participantes' ? null : 'participantes'\r\n              \"\r\n            >\r\n              <img src=\"@/assets/iconos/users.svg\" alt=\"Participantes\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"zonaContenidoMostrando\">\r\n            <div\r\n              id=\"zonaDescripcion\"\r\n              class=\"zonaInformacion\"\r\n              v-show=\"mostrando === 'descripcion'\"\r\n            >\r\n              <div\r\n                id=\"descripcion\"\r\n                class=\"contenidoTexto\"\r\n                ref=\"descripcion\"\r\n                v-show=\"!editandoDescripcion\"\r\n                @click=\"toggleEditandoDescripcion\"\r\n              >\r\n                {{ esteEvento.descripcion }}\r\n              </div>\r\n\r\n              <textarea\r\n                id=\"inputNuevoDescripcion\"\r\n                class=\"inputTexto\"\r\n                ref=\"inputNuevoDescripcion\"\r\n                :class=\"{ letrasRojas: nuevoDescripcionIlegal }\"\r\n                v-model=\"nuevoDescripcion\"\r\n                v-show=\"editandoDescripcion\"\r\n              />\r\n              <div class=\"contenedorBotonesCampo\" v-show=\"editandoDescripcion\">\r\n                <img\r\n                  src=\"@/assets/iconos/save.svg\"\r\n                  class=\"boton botonGuardarCampo\"\r\n                  alt=\"Guardar\"\r\n                  title=\"Guardar descripción\"\r\n                  id=\"botonGuardarDescripcion\"\r\n                  @click=\"guardarNuevoDescripcion\"\r\n                />\r\n                <img\r\n                  src=\"@/assets/iconos/equis.svg\"\r\n                  class=\"boton botonGuardarCampo\"\r\n                  alt=\"Cancelar\"\r\n                  title=\"Cancelar edición\"\r\n                  id=\"botonCancelarEdicionDescripcion\"\r\n                  @click=\"editandoDescripcion = false\"\r\n                />\r\n              </div>\r\n              <loading v-show=\"enviandoNuevoDescripcion\" texto=\"Enviando...\" />\r\n            </div>\r\n\r\n            <div\r\n              id=\"zonaParticipantes\"\r\n              class=\"zonaInformacion\"\r\n              v-show=\"mostrando === 'participantes'\"\r\n            >\r\n              <div id=\"listaParticipantes\" v-if=\"esteEvento.idPersona\">\r\n                <icono-persona-autonomo\r\n                  v-for=\"idParticipante of [esteEvento.idPersona].concat(\r\n                    esteEvento.idsParticipantes\r\n                  )\"\r\n                  :key=\"'participante' + idParticipante\"\r\n                  :idPersona=\"idParticipante\"\r\n                  :factorEscala=\"'0.7'\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from \"graphql-tag\";\r\nimport Loading from \"./Loading.vue\";\r\nimport { fragmentoEventoPersonal } from \"./fragsCalendario\";\r\nimport {\r\n  MixinBasicoEventos,\r\n  MixinBasicoEventosPersonales,\r\n  MixinEdicionEventos,\r\n  MixinVentanaEvento,\r\n} from \"../MixinsEventos\";\r\nimport IconoPersonaAutonomo from \"../usuario/IconoPersonaAutonomo.vue\";\r\nconst QUERY_ESTE_EVENTO = gql`\r\n  query ($idEvento: ID!) {\r\n    eventoPersonal(idEvento: $idEvento) {\r\n      ...fragEventoPersonal\r\n    }\r\n  }\r\n  ${fragmentoEventoPersonal}\r\n`;\r\n\r\nexport default {\r\n  name: \"VentanaEventoPersonal\",\r\n  apollo: {\r\n    esteEvento: {\r\n      query: QUERY_ESTE_EVENTO,\r\n      variables() {\r\n        return {\r\n          idEvento: this.$route.params.idEvento,\r\n        };\r\n      },\r\n      update({ eventoPersonal }) {\r\n        return eventoPersonal;\r\n      },\r\n      fetchPolicy: \"cache-and-network\",\r\n    },\r\n  },\r\n  components: {\r\n    Loading,\r\n    IconoPersonaAutonomo,\r\n  },\r\n  mixins: [\r\n    MixinBasicoEventos,\r\n    MixinBasicoEventosPersonales,\r\n    MixinEdicionEventos,\r\n    MixinVentanaEvento,\r\n  ],\r\n  data() {\r\n    return {\r\n      mostrandoZonaRepetir: false,\r\n      periodoRepetir: \"diariamente\",\r\n      cantidadRepetir: 1,\r\n      esteEvento:{\r\n        idsParticipantes:[]\r\n      }\r\n    };\r\n  },\r\n  methods: {},\r\n  computed: {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ventanaEventoPersonal {\r\n  position: fixed;\r\n  top: 100px;\r\n  left: 0px;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 100;\r\n}\r\n#laVentana {\r\n  box-shadow: 3px 4px 4px rgba(0, 0, 0, 0.25);\r\n  font-family: Salsa, cursive;\r\n  border-radius: 7px;\r\n  width: min(600px, 90vw);\r\n  height: min(800px, 90vh);\r\n  margin: auto auto;\r\n  background-color: var(--paletaVerde);\r\n}\r\n#barraSuperior {\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n#zonaRepetir {\r\n  margin-right: auto;\r\n  background-color: rgba(255, 255, 255, 0.103);\r\n  width: min(50%, 300px);\r\n  font-size: 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n#zonaNombre {\r\n  text-align: center;\r\n  margin: 8% auto;\r\n}\r\n\r\n.bloqueCampo {\r\n  display: flex;\r\n  width: min(200px, 90%);\r\n  margin: 3% auto;\r\n  font-size: 11px;\r\n}\r\n.valorCampo {\r\n  margin-left: auto;\r\n  font-family: Poppins, sans-serif;\r\n  opacity: 0.6;\r\n}\r\n#contenedorSelectoresMostrar {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 10px auto;\r\n}\r\n#contenedorSelectoresMostrar .boton {\r\n  border-width: 1px;\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  border-style: solid;\r\n  padding: 3px;\r\n  box-sizing: border-box;\r\n  margin: 0px 2%;\r\n}\r\n#zonaContenidoMostrando {\r\n  min-height: 100px;\r\n}\r\n#zonaDescripcion {\r\n  height: 100%;\r\n}\r\n#zonaDescripcion textarea {\r\n  margin: 0px auto;\r\n  display: block;\r\n  width: 90%;\r\n  min-height: 60px;\r\n}\r\n#descripcion {\r\n  height: 100%;\r\n  border: 1px solid white;\r\n  border-radius: 10px;\r\n  padding: 15px 10px;\r\n  margin: 10px;\r\n}\r\n#listaParticipantes {\r\n  border: 1px solid white;\r\n  border-radius: 10px;\r\n  padding: 15px 10px;\r\n  margin: 10px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.iconoPersonaAutonomo {\r\n  margin: 10px 15px;\r\n  margin-bottom: 60px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanaEventoPersonal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanaEventoPersonal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VentanaEventoPersonal.vue?vue&type=template&id=350010d6&scoped=true&\"\nimport script from \"./VentanaEventoPersonal.vue?vue&type=script&lang=js&\"\nexport * from \"./VentanaEventoPersonal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VentanaEventoPersonal.vue?vue&type=style&index=0&id=350010d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"350010d6\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\r\nimport Router from \"vue-router\"\r\nimport atlasConocimiento from \"./components/atlasConocimiento/AtlasConocimiento.vue\"\r\nimport loginArea from \"./components/LoginArea.vue\"\r\nimport perfilPersonal from \"./components/usuario/PerfilPersonal.vue\"\r\nimport VisorNodoConocimiento from \"./components/visorNodoConocimiento/VisorNodoConocimiento.vue\"\r\nimport Proyectos from \"./components/Proyectos.vue\"\r\nimport Proyecto from \"./components/Proyecto.vue\"\r\nimport Registro from \"./components/Registro.vue\"\r\nimport Personas from \"./components/Personas.vue\"\r\nimport HomeNodo from \"./components/atlasSolidaridad/homeNodo/HomeNodo\"\r\n// import ActividadesDeGrupo from \"./components/actividadesProfes/ActividadesDeGrupo.vue\"\r\n// import ActividadesDeProfe from \"./components/actividadesProfes/ActividadesDeProfe.vue\"\r\n// import ActividadesEstudiantiles from \"./components/ActividadesEstudiantiles.vue\"\r\n// import PortadaActividadesEstudiantiles from \"./components/actividadesProfes/PortadaActividadesEstudiantiles\";\r\n// import ActividadEspecifica from \"./components/actividadesProfes/ActividadEspecifica\"\r\n\r\nimport ForosGenerales from \"./components/ForosGenerales\"\r\nimport AtlasSolidaridad from \"./components/atlasSolidaridad/AtlasSolidaridad\"\r\nimport Espacios from \"./components/Espacios\"\r\nimport VentanaEventoPublico from \"./components/utilidades/VentanaEventoPublico\"\r\nimport VentanaEventoPersonal from \"./components/utilidades/VentanaEventoPersonal\"\r\n\r\nVue.use(Router);\r\n\r\nconst routes = [\r\n\r\n    {\r\n        path: \"/atlas\", name: \"atlas\", component: atlasConocimiento, children: [\r\n            { path: \"nodoConocimiento/:idNodo\", component: VisorNodoConocimiento, name:\"visorNodoConocimiento\" }\r\n        ]\r\n    },\r\n    {\r\n        path: \"/login\", name: \"loginArea\",\r\n        component: loginArea,\r\n        beforeEnter: function (to, from, next) {\r\n            if (localStorage.getItem(\"token\") != null) {\r\n                next(\"/miperfil\");\r\n            }\r\n            else {\r\n                next();\r\n            }\r\n        }\r\n\r\n    },\r\n    {\r\n        path: \"/miperfil\",\r\n        name: \"perfilPersonal\",\r\n        component: perfilPersonal,\r\n        beforeEnter: function (to, from, next) {\r\n            if (localStorage.getItem(\"token\") != null) {\r\n                next();\r\n            }\r\n            else {\r\n                next(\"/miperfil\");\r\n\r\n            }\r\n        },\r\n        children: [\r\n            {\r\n                path: \"ventanaEventoPublico/:idEvento\",\r\n                component: VentanaEventoPublico,\r\n                name: \"VentanaEventoPublico\",\r\n            },\r\n            {\r\n                path: \"ventanaEventoPersonal/:idEvento\",\r\n                component: VentanaEventoPersonal,\r\n                name: \"VentanaEventoPersonal\",\r\n            }\r\n        ]\r\n    },\r\n    { path: \"/atlasSolidaridad\", component: AtlasSolidaridad },\r\n    {\r\n        path: \"/homeNodoSolidaridad/:id\", component: HomeNodo,\r\n        children: [\r\n            {\r\n                path: \"ventanaEventoPublico/:idEvento\",\r\n                component: VentanaEventoPublico,\r\n                name: \"VentanaEventoPublico\",\r\n            },\r\n            {\r\n                path: \"ventanaEventoPersonal/:idEvento\",\r\n                component: VentanaEventoPersonal,\r\n                name: \"VentanaEventoPersonal\",\r\n            }\r\n        ]\r\n    },\r\n    { path: \"/foros\", component: ForosGenerales },\r\n    { path: \"/nodoConocimiento/:idNodo\", component: VisorNodoConocimiento },\r\n    { path: \"/proyectos\", name: \"proyectos\", component: Proyectos },\r\n    { path: \"/proyecto/:idProyecto\", name: \"verProyecto\", component: Proyecto },\r\n    { path: \"/registro\", name: \"registro\", component: Registro },\r\n    // {\r\n    //     path: \"/actividadesVirtuales2021\", component: ActividadesEstudiantiles, children: [\r\n    //         {\r\n    //             path: 'grupoEstudiantil/:idGrupo',\r\n    //             component: ActividadesDeGrupo,\r\n    //             name: \"ActividadesDeGrupo\"\r\n    //         },\r\n    //         {\r\n    //             path: 'actividadesProfes/:idProfe',\r\n    //             component: ActividadesDeProfe,\r\n    //             name: \"ActividadesDeProfe\"\r\n    //         },\r\n    //         {\r\n    //             path: \"\",\r\n    //             component: PortadaActividadesEstudiantiles\r\n    //         }\r\n    //     ]\r\n    // },\r\n    // { path: \"/actividad/:idActividad\", name: \"actividadEspecifica\", component: ActividadEspecifica },\r\n    {\r\n        path: \"/personas\", name: \"personas\", component: Personas,\r\n        children: [\r\n            {\r\n                path: \"ventanaEventoPublico/:idEvento\",\r\n                component: VentanaEventoPublico,\r\n                name: \"VentanaEventoPublico\",\r\n            },\r\n            {\r\n                path: \"ventanaEventoPersonal/:idEvento\",\r\n                component: VentanaEventoPersonal,\r\n                name: \"VentanaEventoPersonal\",\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        path: \"/espacios\", name: \"espacios\", component: Espacios, children: [\r\n            {\r\n                path: \"ventanaEventoPublico/:idEvento\",\r\n                component: VentanaEventoPublico,\r\n                name: \"VentanaEventoPublico\",\r\n            },\r\n            {\r\n                path: \"ventanaEventoPersonal/:idEvento\",\r\n                component: VentanaEventoPersonal,\r\n                name: \"VentanaEventoPersonal\",\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        path: \"/\", redirect() {\r\n            console.log(`Redirecting`);\r\n            if (!localStorage.getItem(\"token\")) {\r\n                return \"/login\"\r\n            }\r\n            return \"/miPerfil\"\r\n        }\r\n    },\r\n    {\r\n        path: \"/*\", redirect() {\r\n            console.log(`Redirecting`);\r\n            if (!localStorage.getItem(\"token\")) {\r\n                return \"/login\"\r\n            }\r\n            return \"/miPerfil\"\r\n        }\r\n    },\r\n\r\n    /////////////////////////////////////7\r\n    // {\r\n    //     path: \"/*\", redirect() {\r\n    //         if (!store.state.usuario || !store.state.usuario.id) {\r\n    //             return \"/login\"\r\n    //         }\r\n    //         return \"/miPerfil\"\r\n    //     }\r\n    // },\r\n\r\n\r\n];\r\n\r\nexport const router = new Router({\r\n    //mode: \"history\",\r\n    routes\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    console.log(`Guarda before ${to.path}`);\r\n\r\n    if (to.path != '/login' && !localStorage.getItem(\"token\")) {\r\n        next(\"/login\");\r\n    }\r\n    else {\r\n        next();\r\n    }\r\n\r\n})\r\n","import Vue from \"vue\"\r\nimport Vuex from \"vuex\"\r\nimport { apolloClient } from \"../apollo\";\r\nimport { router } from \"../Router\"\r\n\r\nVue.use(Vuex);\r\n\r\nfunction parseJwt(token) {\r\n    var base64Url = token.split('.')[1];\r\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n\r\n    return JSON.parse(jsonPayload);\r\n}\r\n\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        usuario: {\r\n            username: null,\r\n            permisos: [],\r\n            id: null,\r\n            atlas: {\r\n                centroVista: null,\r\n                configuracion: {\r\n                    modo: 'estudiante'\r\n                }\r\n            },\r\n            foros: []\r\n        },\r\n        token: null,\r\n\r\n        refreshActividadEspecifica: 0,\r\n        refreshNodoVentanitaAtlasSolidaridad: 0,\r\n\r\n    },\r\n    mutations: {\r\n        logearse: function (state, token) {\r\n\r\n            let usuario = parseJwt(token);\r\n            state.token = token;\r\n            state.usuario.username = usuario.username;\r\n            state.usuario.permisos = usuario.permisos;\r\n            state.usuario.id = usuario.id;\r\n            let usuarioLS = JSON.stringify(state.usuario);\r\n\r\n            localStorage.setItem(\"pepepe_usuario\", usuarioLS);\r\n            localStorage.setItem(\"token\", token);\r\n\r\n            apolloClient.refetchQueries({include:'all'})\r\n            \r\n        },\r\n        deslogearse(state) {\r\n            localStorage.clear();\r\n\r\n            state.usuario.username = null,\r\n                state.usuario.permisos = null,\r\n                state.usuario.id = null,\r\n\r\n                state.token = null\r\n            apolloClient.cache.data.clear();\r\n            router.push(\"/\");\r\n\r\n        },\r\n\r\n        refreshActividadEspecifica(state) {\r\n            state.refreshActividadEspecifica++;\r\n        },\r\n        refreshNodoVentanitaAtlasSolidaridad(state) {\r\n            state.refreshNodoVentanitaAtlasSolidaridad++;\r\n        },\r\n\r\n        setCentroVistaAtlas(state, nuevoCentro) {\r\n            state.usuario.atlas.centroVista = nuevoCentro;\r\n        },\r\n\r\n        setInfoForosUsuario(state, foros) {\r\n            state.usuario.foros = foros;\r\n        },\r\n\r\n        setRespuestasLeidasConversacionUsuario(state, datos) {\r\n            var infoForo = state.usuario.foros.find(f => f.idForo == datos.idForo);\r\n            if (!infoForo) {\r\n                var nuevoInfoForo = {\r\n                    idForo: datos.idForo,\r\n                    conversaciones: [],\r\n                    __typename: \"InfoForosUsuario\"\r\n                };\r\n                state.usuario.foros.push(nuevoInfoForo);\r\n                infoForo = state.usuario.foros.find(f => f.idForo == datos.idForo);\r\n            }\r\n\r\n\r\n            var infoConversacion = infoForo.conversaciones.find(c => c.idConversacion == datos.idConversacion);\r\n            if (!infoConversacion) {\r\n                var nuevoInfoConversacion = {\r\n                    idConversacion: datos.idConversacion,\r\n                    __typename: \"InfoConversacionesUsuario\"\r\n                }\r\n                infoForo.conversaciones.push(nuevoInfoConversacion);\r\n                infoConversacion = infoForo.conversaciones.find(c => c.idConversacion == datos.idConversacion);\r\n            }\r\n            infoConversacion.respuestasLeidas = datos.respuestasLeidas;\r\n        }\r\n    }\r\n});\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport store from \"./store/index\"\r\nimport { apolloProvider, serverUrl } from \"./apollo\"\r\nimport { router } from \"./Router\"\r\n// import VueApolloComponents from '@vue/apollo-components'\r\nimport VueApollo from \"vue-apollo\"\r\n// import VueApollo from 'vue-apollo'\r\nconst clienteUrl = process.env.NODE_ENV === 'production'? serverUrl+'/pepepe' : 'http://localhost:8080'\r\n\r\nVue.mixin({\r\n  data() {\r\n    return {\r\n      serverUrl,      \r\n      clienteUrl\r\n    }\r\n  },\r\n  computed: {\r\n    authHeader: function () {\r\n      let infoSesion = localStorage.getItem(\"sesionUsuario\");\r\n      if (!infoSesion) return null;\r\n      infoSesion = JSON.parse(infoSesion);\r\n      if (!infoSesion.token) {\r\n        return null;\r\n      }\r\n      console.log(`introduciendo header: ${infoSesion.token}`);\r\n      return {\r\n        Authorization: \"Bearer \" + infoSesion.token\r\n      }\r\n    },\r\n    usuario: function () {\r\n      return this.$store.state.usuario;\r\n    },\r\n    usuarioLogeado: function () {\r\n      if(!this.$store.state.token){\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    usuarioAdministrador: function () {\r\n      if (!this.$store.state.usuario.permisos) return false;\r\n      return (this.$store.state.usuario.permisos.includes(\"administrador\")) ? true : false\r\n    },\r\n    usuarioSuperadministrador: function () {\r\n      if (!this.$store.state.usuario.permisos) return false;\r\n      return (this.$store.state.usuario.permisos.includes(\"superadministrador\")) ? true : false\r\n    },    \r\n    usuarioAdministradorActividadesEstudiantiles: function () {\r\n      if (!this.$store.state.usuario.permisos) return false;\r\n      return (this.$store.state.usuario.permisos.includes(\"actividadesEstudiantiles-administrador\")) ? true : false\r\n    },\r\n    usuarioProfe: function () {\r\n      if (!this.$store.state.usuario.permisos) return false;\r\n      return this.$store.state.usuario.permisos.includes(\r\n        \"maestraVida-profesor\"\r\n      );\r\n    },\r\n  },\r\n \r\n\r\n})\r\n\r\n\r\nVue.config.productionTip = false\r\nVue.use(VueApollo)\r\n\r\n\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n  store,\r\n  apolloProvider,\r\n  router\r\n}).$mount('#app')\r\n\r\n\r\n","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanaEventoPersonal.vue?vue&type=style&index=0&id=350010d6&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/check.c1f8074b.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAA3lBMVEUAAAD/9fT/6uX/4eH/7evV1Nv+7uz/7OnS1d3/9/X/6eb/6OXU2ODaztL/3t7W0Nb27u7S1d3Y2+L14+Lg1tvQ0trR1t/uu7u/n5///////v7T1d3s7PA10Zb8/v0x0JPu+vXw+/dz3rM50Zc00JWt69Ns27D2/Prz9Pb5+vrY2uHo+fLu7/K57dhX16X6/fzv7/Li+O9C05vV19/k+PDf9u3F8N+y69Sd5smI4r6E4bx437ZR1qNO1aHz+/f09PbV8+fd3+Wp6c+W5cVw3bJn261e2ald2Kla2Kfw8fNijA/eAAAAGXRSTlMA+1ka2c5B2dbCtllQTC9X59jWuWxiWQ8IBi+1PwAAAb5JREFUWMPt2GlPgzAYwHE3ZffhrStbwa2KkzHcfcGcu/3+X8hnWTaMBkalTSDpP+EFb34h5WnS9EwkEomi1Lmv/iMnMsmL093k6eVCGvmpLNHb2VjJTw1ZKtLScX/0uyxLeW60nCpyoiEpx4mGrnKcaEi6p6VRvVF26wMfaSiVo6XLsmuf9f3wHey7R0q6c4L+ejt0ffvAbEHQjq6/HrtM0NCAu1f6VSzObEKC0shXDk2/1t416oiehgnxUaccLtr3goTpN3oW4rn+E4L40EhvtXTEhVZHljVS+dBVRakKWtCC9kOjnzRiSWtd06HNrsaO1uaTvnmgzf5krrGiTcNWNoa2pzVjo9iGyYhWR4SQ5kDf0fqgCS8jlRGNZ5MaIdZwpSiroUVIbTLDbGiwe2Ow2+39Uxv3MLsJQfoCzAoE+kJne5xUh7ayoxV7qLLejdNBEz4b/uaU+UZHmrEmZG1oiDUN4f5y2cd8ziG418PROz0xprFHgWgYi2fXYFiC0N1tpeZSZdsKRsM+cYk0g9EtfrQ+fnFtrAegwX7yCIV2rqNDZ+npLMXFJ13pAtPrWqdkJsH6ktnpTCQSiSLUN5DlNzinQAMLAAAAAElFTkSuQmCC\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoProyecto.vue?vue&type=style&index=0&id=71c5f02f&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADKZyMtAAAAN3RSTlMA+xG8A8XcHzEG5EMZ0KULSvclFNM7K9fBqhcPymfntXBa6riwgn96bD6bHeFRYDgv8Ozek4tTcmkBqwAAAspJREFUWMPtlttyqjAUhlcgHqJCBEQoaFXAE9ZTq837v9kmUB1SrJChF3s6fBfqzI/f/EsHVqChoaHhj0AGnRwDAiJ0l48tXO6bhq0c4ZQKcefq5mO9XyrsaojlQJNTPsWHdybEulIm7PeYgPZUyNRBRWGgZagbcWTzMsmCDyQlRJOFmdIhIKKYKbZuyDU0oiM8wZ/3ZEY+n5OOMxt+xJq/MWY456pCNX5upNyHwo1TVaiby9cnRmXDfe7wNKosVLxVwDvYD33zzEfGEkKwlsEPHen0I/VhkBKCt3p92NHftLN+ICkEb/nOjVsxxtP2Vz9pIVhpR1UwkgX3tRJfZaHdZujiAyedmuWN5OBw354Ax2wxFlllQuvanuzTAsWOeJH42D0ma2c0xVCGZ5/I3b7u5Yw07act6C1W7CMFObx1cJ8aH0bJZ21BoAa3jnbi+0x8SN5X7Mh/xwuF3QwxNErmrUv6z8QKdFQ+L4b6WHN3NsRADmqY9qsP7ex4McLf/lN8hb9i3/8lXz+O+4lvGMfb39CRoWugyINBZCC3j+sLhy5iTN1Bx2WMucO6RtznvrcpAbL5yJ5c9Xzb0GDsde6nuyQxMnkj2eXOaNsZ7zcnAI+MZOCV2+km1I+3fvaM91sr9/3ZzhvJYhaV9+1qDF0ppNi8X5D4hA16M6Z3t25V3ynYjni/lSWcabKdQm47JfQqC/GR+4KV+I1s6smeyG+9Y4SSfsvvI/mZ8ZNICnH3hfdbFq/3p07WUU540lMfn7do/OooI8z5ilDeEU323epCm/verzshEaZGSceVU1U4iVDiuwi+YkfWM6oKjeTK88UEKDFKHdr1rsKhRZfC6ax7ksLWS0q8J0KMh3EWzAI5IUNfuGMhNtVbUHXko8MEnK4QjzUxfrHKhMpSa+fQvt17dC3ErQpHHWXczTH2QYQKsUmgoaGhoeEx/wBPl4jWb0NnEwAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registro.vue?vue&type=style&index=0&id=725d119a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/broom.a1cd589e.svg\";","module.exports = __webpack_public_path__ + \"img/alienar.a0a2ab88.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Interpolacion.vue?vue&type=style&index=0&id=4df81ef6&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"img/uploadCloud.221b309e.svg\";","module.exports = __webpack_public_path__ + \"img/chevronCircle.9e09bac5.svg\";","module.exports = __webpack_public_path__ + \"img/teacher.78fdf712.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAtFBMVEUAAAAAAAAEBAQODg4EBAQAAAAQEBAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAAAAAADAwMAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAAAAAAAAAAAAAABAQEAAAABAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAAAAAACAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAABAQECAgIAAAAAAACAxK8TAAAAPHRSTlMA+5QMvAQi9/kIEe3zyybq4xUO1TUr8NtdOxrn0L9YMP1Ap6KdmIKMYh7fwnVMxrasbVBHsI+He1NwaWbdwfsCAAADOElEQVRYw+1W2ZaiMBA1CCQQdmSRRQERcd/3//+vSduONooaZZ7m9H3hADk3dasqN1X7RRVw3L9g6bvzZnUicaNK03ZlmrYcRXgvVE1MrkIVJV5VTSmUZ9BsVqRpBJBxB/a8YpJz1W8pU9DRq2nqoqElZDBoVKKxJnBt1BYaPghV6uT6aqtWU0JYSZXIQJm0ntGDZhVVlgy7Iglqp+G8Ak1LVV2u9qUKEbpPUe/BiVUjMNZIbn+uKUSp+B2Wj3Pu0zq1LimxJp+rMnqXtjMY+LEq0i6pfm0gl0pB/RYGKfORu7Yz490tEe523q+ZW4RE04/D5aR3K7JlkUhc2+AOEem9a7qdCNwBDotGxA8jMAjZIqbrHyfAm8/YGwRSpLYKNHoKgbxv80UUSix4xZ/KOLGBHN+4XIphsH/DcoXxzEZD17j5zG9N5HcbtK3anwdITWLhvtkWU0liWyKdRTMaMLd8aeeQf8jMFAob2rFkx92jHfWDjOwkrr9gIfqBxjzxMWOZSHBy1J/mNu74SJ73n5+jjQO0XvtxpvV8iOzZ+JXD624I7dXi0TJr46DBxnpdUKFJgg7KgxaWMxsOc7pbgh+ZwO+Vrd3JSE2ppx1jF6Ky21/vAG2rvNHpmeSU04RKjR5eAqYlyeFGkrN8g6YZwKysVrEjbev0mva2Ni49kCu0oncBvYNYpZR/ZDvxGyOWtCmPPXbsEW29uQMeLC6LvYXbFi4vKzDzqMdGxPJ/ZTS6Gr66kJBBM6bVJKPeWZPRYiVoI+fiQmNHolTFHbF2Nnxl6wAtzWSEO2e/5Kcg0Sk1gaF14os7KpIPfSFOMJwcvJOqrWQ2aEeskyYvn0A8W9YJn5IRe/h2ofEAUw3JnEtGYfKwegMwyKxzhG6I4HRhEFUsolIldiHRZIxXthTm4tWFUh8Goz5X39CN/m0ZMWJ/HwDcKThLfxREarfJfQ3JFKpcVc2bXR+ZI/4mzFOAbpMFHfG1ZTHI3LCSNN0Z94GuB8DprWgGLyWMsAa0denl4B0nCPtAbXEvaYZRBOW598BClgmOIuy+pDFGppYshYftoGSmP7MozGY55p9tJsYLhav94hf/Hf4ADFVKOiLjUnQAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"img/equis.2c5552a1.svg\";","module.exports = __webpack_public_path__ + \"img/broadcastTower.57740b52.svg\";","module.exports = __webpack_public_path__ + \"img/user.a617dfb6.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendario.vue?vue&type=style&index=0&id=abd7a930&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoVistaLista.vue?vue&type=style&index=0&id=4c5f3b9a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/doubleUp.5881d0a9.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoPublicoCalendario.vue?vue&type=style&index=0&id=0f72dd2e&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/link.6af56728.svg\";","module.exports = __webpack_public_path__ + \"img/receipt.6f97adbd.svg\";","module.exports = __webpack_public_path__ + \"img/minus.8503b4e4.svg\";","module.exports = __webpack_public_path__ + \"img/lightbulb.35c6c4f7.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorPersonas.vue?vue&type=style&index=0&id=32461f8c&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginArea.vue?vue&type=style&index=0&id=0672fa42&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventoItemLista.vue?vue&type=style&index=0&id=4d109f4e&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=a521acb2&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=style&index=0&id=1cc9b412&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificacionActividadForos.vue?vue&type=style&index=0&id=140cdbe8&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABg1BMVEUAAAAAAAAAAAAaGhocHBwFBQUDAwMAAAAFBQUgICBiYmIREREKCgoLCwtQUFAAAAAVFRVHR0cJCQkCAgIBAQEDAwMTExMhISE1NTUHBwcDAwMHBwcICAgHBwcCAgIVFRUYGBgUFBQSEhJeXl4EBAQFBQUFBQUBAQELCwsAAAANDQ0vLy8LCwsVFRUREREZGRkAAAAHBwcJCQkHBwcHBwcGBgYICAgMDAwCAgIAAAAQEBAaGhoKCgoVFRUKCgoQEBAQEBAZGRkHBwciIiIhISEoKCgtLS0JCQkEBAQNDQ0KCgoDAwMKCgoZGRkICAgKCgoLCwsJCQkQEBAICAgODg4dHR0YGBgTExMICAgPDw8LCwscHBwgICAtLS0ZGRktLS04ODgqKiomJiYPDw8NDQ0UFBQQEBAAAAAMDAwODg4YGBgKCgoWFhYYGBgyMjIfHx80NDQAAAAICAgzMzMkJCQrKysAAAA0NDQzMzM8PDwTExMWFhZISEgpKSlFRUUfHx8AAACEqLVPAAAAgHRSTlMA/pkLmb8f399/CtfPZRvzvxW1/PXzuh4D5dvSo41lY09HLQbw7+riyL+sdW9YS0E/+NrWy8a7sqObmI2EeXl2aWheODQcCfPm1sXCwL+tpp6Wj4eDgHJvWUhDPj0sJxkWEhDg0dC/vr2uqqqihYSDenFqY1pSTklGQ0M5NSULCM5vugoAAAJJSURBVEjH7dNnV+JAFIDhuWRR1oYbmjTpKH0BpSOCYF/b2rvbe+/1/vRNmABhYTB89/2SczjnOZc7mZCbuha1JTTPDrg+xKEFhXT2RcXifAaxbkYVkzIgbUPxmDxKrYwpJcXGlOkHSskPr0TuE6V5cnTMrJsobszuB9DzLtJHEz8rk9FYMe8wkX5yqw0aX0rZpItLIrabHA+mrdI+sd3IBBMcVcoL4pPb481o5oGeWqHHgbuWwa+2l53RA96H6E+DVVzHE8SXzCmHgEKg14pPnfER6p3iyFksEFa1oB9QymxMIeKO8KtJAw4miX1eCG+ODC4tDU4bjVYRpjhCqj7tEZHHNfoeCr15Fwp9PHN/++qurtJxlgFCjrW+qlyYbGqpFQ1NLVaRvhqvcIAR3eCAnAxosEsQ3sB62ruEfIBETU4u3w53CsOr050WeY1rHGnrVicR/kgJmiSH610IyKuTyRZRoXGog4zs3W71Io5T844MJYYTQrJoIx1EJbsP8+uAqNVRgVPn4n1RdSGkWcSL8lavyNC93mRiq01AiVxLLqxyYLBzAjH2JideukJijd/K77v+ioNtvUkY6uK4FrVlsyqaBZ972MSz2XiVo4CtnvxhE1OyQZxxTI7THqKaYxOXoUHujEB4iFaEmSs2mQMZmSQ0B2hMTLKYxi7EqV8+Y5LfFjnJjNLsekOMSZx6GUHzsBToIkziEFeBxpS5MdovK5SY5NQskMfx/3bheMy1k/1A4H3z5k9btj/xgYxAtp9+aZ5joMCRm8g/1gHtCvE8ISoAAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=style&index=0&id=9e3ce0f2&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/relojArena.4c43f504.svg\";","module.exports = __webpack_public_path__ + \"img/chart.6ba0a28d.svg\";","module.exports = __webpack_public_path__ + \"img/network.be2a454d.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreadorInterpolacion.vue?vue&type=style&index=0&id=1244a928&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABEVBMVEUAAAACAgIAAAAAAAABAQE0NDR7e3sBAQEEBAR5eXkeHh4MDAwwMDADAwMGBgYVFRUKCgoPDw8ODg4ICAggICATExMPDw9QUFBZWVkGBgYBAQEJCQkCAgIZGRkLCws2NjZkZGQODg4GBgYGBgYODg4MDAwPDw8SEhIICAgRERENDQ0bGxslJSUREREWFhYbGxsdHR0cHBwvLy9vb28xMTH///8ICAgODg4ICAgGBgYSEhIUFBQYGBgjIyMaGhoEBAQMDAwoKCgoKCgtLS0kJCQ7OzsMDAwDAwMAAAAjIyMPDw8QEBANDQ0HBwcMDAwcHBwKCgohISEtLS0NDQ0HBwc4ODgVFRVAQEBYWFg1NTUAAADjrFRNAAAAWnRSTlMA/qU/eUQdwVcCH78M79mVV9HB42dXPBIF+eLSWVc/Kgvy8u7OubOwpaN6aVhYT0tENzAdHAPq4daxi4B4cF1OSUhCOSMi8cPBr6almZmSdWlkT05OQDAgHRixeboEAAABzElEQVRYw+3WWU/CQBSG4YPiUnAB29KioIgCyg6K+77v+/r9/x8iTVpGI+kMHi686Hs1SZMnnTmTphQUFBTUa2OJ6vPLfjptmpVYu9FvxWLm/kHiU1WyCpAWn1OiThbgFuqW9+xJZX9tavEoQ341821M4c2WgWWSZgAbJMsOYYYUugaOpacF7KlY78AWSXoDGqRSSH4UDUBt3EkUSFICiChZWWwqWKtK1hlyRI9Vv8szC3woWfOYItKB3KmftaJkrTnWOoDQIduadiyrFm1jzX5YTiVAp+4NAsM9WTQJ1PtlZYBtpjWPqLvScce2vLu6jlumlUXeXW3gimklseSuZrDEtICbfllNYKdjDfCsRfENiPMsrQDkqRfrdeh3R/V6rVLUgQWrF2sSPumrpGTJqeS2TWqWR42XDMNIpZyfiFjFNNPpcrlcPagdNk61H2PwszwqQkpdSCxByRvxswTFtzxqd4tveRSSFte6dDdoAPEM0+qcVQ5YK81Ztqa1Wi3tD5agyJ6CT1FNav2Y4H3WF5NYkXA4QiLteO9hp1gM/27CwYTFaqyDCYuPCYuPCYuPCYuPCYuPnQuLjUFYbExYfExY7OxUKkFBQUH/sC/SIJ/NRVDIKwAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=style&index=0&id=bfb90dd8&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Nodo.vue?vue&type=style&index=0&id=62529dcc&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=style&index=0&id=2c74ba30&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAyCAMAAADC1sOAAAAAtFBMVEUAAAABAQEAAAAAAAAAAAAQEBAAAAAAAAADAwMQEBAAAAACAgIAAAAAAAAAAAAAAAABAQEBAQEAAAAAAAABAQECAgIEBAQEBAQAAAABAQEAAAABAQEBAQEEBAQHBwcBAQEAAAAAAAAAAAACAgICAgIDAwMCAgICAgIFBQUAAAABAQEAAAABAQECAgIEBAQFBQUAAAABAQEBAQECAgIAAAAAAAABAQEBAQECAgICAgIFBQUAAAATATehAAAAO3RSTlMAby7r/AXgxTkJ9AyjX9uCaSH37tdFGxfAu6l3VE0k6LSvlopsWDw1KeTSyY19LA/xhklA+ZyTXV9wY7WFmHcAAAIsSURBVEjHxZXZmqIwEEZRI5s0gmwCYiNIi/uuPfO//3tN0l9/gMrm1Zw7Q06KVJUU91/o22LyZ7g5+t9nXWqxf6cppkHAIDIf+mKDZEU8wQM9LxlU719EPfwwMj4p8u8P71T1/vMVKET1/KCbTtOupV1XI1A+h06ZoN8IOzDUpv180UmUn7Ce+CpMFVDc++A58klhJ43PLxGYYAztkuDS3CxRbCaoH1UZHDNl8bAW06V1wFXx5dLnSvH63zKNMOGqEd3D4eAXbi0AssbVoYuiWHitIYAN9wY7FRDSd4wtgHnTpmKdnDXNk91kTAqpD2RgyzXR4XPlCBhis4FMkVxA2LcwMkVXgRvXwsiUhUEz1cbIlNMIoyBv7m4FMTJlQiB/5T3H98o5IFOYIeaGjHr4bhajpTGkBSQYnfIGmHfKmWUCJ8ogf1vmigqU6RKIWxpUoOwFIJRaGcff71IELNNmIxe4+wVEa2HE/exfrgIzqdGIC1tugDxpMuzimZZBg+zfGkpXgHS4dzjzgGnVbpEGlKeviburEfYbQRDmBcXxqKLoNQL7Li+KS+I4Gysl6BFolZPHxcCki0J5ji3Wt72XIidsCBqb18vYvskiaCUnuaCstt3+w7DrjEExS4fRLrqAwiuaaA+kfl9yuvfIBGNmVVRSE8AghiqEXjhefRIwzK1TPVf8NcETaryob7gPRR1luy/LWSdt7jI98K8hLbGrDJNUat2cgwG9fPmzf5+aajk37m2HAAAAAElFTkSuQmCC\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiaCalendario.vue?vue&type=style&index=0&id=5d15a120&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramaFlujo.vue?vue&type=style&index=0&id=e9d97e16&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/handshake.03430d88.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personas.vue?vue&type=style&index=0&id=4a1f7944&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoConocimiento.vue?vue&type=style&index=0&id=41b7314e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanitaObjetivo.vue?vue&type=style&index=0&id=0d4091b8&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorNodosConocimiento.vue?vue&type=style&index=0&id=eb16d06a&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNodo.vue?vue&type=style&index=2&id=12a10a98&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyectos.vue?vue&type=style&index=0&id=5afa1db9&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasConocimiento.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/search.c6a0effb.svg\";","module.exports = __webpack_public_path__ + \"img/mas.b99e8ee2.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAjVBMVEUAAABJSUo5Tk9BSFdGTVxHTl1FTVxGTV1FTF0+RFdFTFw8RVVHTV1JUF9JT15FTF1FTVxGTV1GTVxHT15GUV9ESltITl5GTV1HTV1JUF9FTVxGTl1GTV1GTFtGTV1ITlxGTFxGTVxFTVtGTVxGTF1GTVxHTl1FTFtHTV1HT1tFTV1ITl1GTVxHR1VHTl5Dm7GSAAAALnRSTlMABgokwLbn/OMp3R73SIRVqO9tsRA0YevIwnVc8z2fLJWOQdeCfGcxyxrPT7oJm8OXKQAAAppJREFUeNrt2WuPojAYhuEiCijoCIg4nBQ8jYd5///PW0vXYLLLMmmBZSbP9c2YNDeBljYwAAAAAAAAAAAAAACARlr7mKpplE1a5+/iFVOxvlInTL9g8mKLujI+M1mXMXUnZ7LeHOrO3maSInowjZJLgmvIcEgIDS6khyRlkg5E5ETbKTeflGMt0qmM25K4PCh/pRkfeM4kLYjo4zmVTyYRHZgkm1+VsWVC4apmbZ5Z8SMrlJ8+Hs/SmRC0mzWz5aePWZOlehOVs6qbmCpnuSe7FCxJOcs86Dan56SaRcmsZJF6FpnPsVSzKupZFWQh6ztn3aJ4NbysOCRz7F36zpq9lzZ1WRkR8TD7C1nh77ES5SxrPiqtdjVZSxI+Ir0py1mPhMhs7Z24NuuzhOtx+6+sfncQS6rsD+chZhHN8qCXrOul2tg3ZAlWntZlhc9/bolqFmWnNRddG7Iqxq7Q/ppFvrfmvHsL65YpUGNWJczm2p9Z1VitL6fNWYKbBQ3Lae9Zwk4bZNZ9NcQsJxrgTXT8mA0uK1m+jdjQstzs9tn9xmYZedxh35xVLVk1WRMx1nGsnLXXmXBsyqoW+LqssHj+SPp8VVt5qg1uB8E3D4Pbb5Vbrf6yrEIrfeY1z9ai2pg2ZSWxJnimahbtJz73btZkBX64ifSvHcgsMdYk7OGcuNpehnh8HeipGlnI+llZjlUKW8kyLM5Qz0o8vVT4LWQttjp33tEP/VyweWa9DerjisiqLleW1+E3HzoySRefWruJh5dHPvXpITyedRlFRtxi2sYjH70sEAYJhiXDJeFlrCRVmtRdmelMkr2h7uyYtLVLXRkHTJ63p06Y9zlTERz9cfuy04Up0kbtYwAAAAAAAAAAAAAAAAD/yS+cHKxqoQUmgQAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"img/calendarPublic.64f99cab.svg\";","module.exports = __webpack_public_path__ + \"img/edit.9a4d5fd5.svg\";","module.exports = __webpack_public_path__ + \"img/userCog.d1b32fc2.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoObjetivo.vue?vue&type=style&index=0&id=ba6a15a8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Espacio.vue?vue&type=style&index=0&id=8e0bd7ea&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorNodos.vue?vue&type=style&index=0&id=64a2040c&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMA/ID3Cw8F6qwT8jmmfUZAMR8Y3dGSG+/ZsJ2Gb10H5sO+u7ZnSqF1V8iZjGBrW1Iu4MyCKOxPW1J8IAAAAv9JREFUSMftltmWqjAQRUmQGUREZbgtIOI8D931/392ISl6oYLNYvVjnyfLYlNJqJxE+NPv6cv0ffOrG7t2IZe77sJqM2BKtQ6woXNYNzrAfZHDYr8t0ZN6AmqgcFgZVJPNGlqzTZBhEG05PJbxjyzYpKthEztZQi5CMbybJI/MO4aUFNmwibaAySsnKY0J2UkYnHAJVg3znQHXPwH1ASQTUDtMzuvnrV0xb8rfMHzgT3mJyaQejtTHygij/lXeXKc9Titk+eg8DQDm+zMr1cPK4lRoEMWmovnDezUmbPHjYC8JMhb2qNCoxc68jQu6r+ak52+uvpfz6uJWfPDV9va+2+S8ftFWABtqT3rSxLY2LARaJH/WraCpU4aOFTO2nRYKuA/rMvUhbrk9JBVizjqG4XA6BrPXCp6KOMbVSNdHvB0piMc3vmH0B3LZKxtW7wCFyIGN4Qompgd9Y/jkV6kuKttz8fMcA63a0EzjpS93tsu3n6Kerh9cw4dCavHckeg2ewmaQcxeaeukIDTewn51+UJgIuPs8BGAO3n1MMeFrW0YFgGmbQUeAdIsN9JeYW0ERNR1EbhGLzAK4XvMo4uD8MMjr8OGJaV0jsOW0urun7gwUlUV/4Ow2lN8wYKi5Jp4Nu5mpoOAC7aXZXkYQCF38fCpZqLohQO0XMo//ZwVltDfFJ4NPVGcrZ9c114YEbcyFa68KU3mHNxYN6Dy/oyMhT38sT0nq0/m+asJb899242hHLUsAdQsk44KqFLrLXlJCHyLJBdQFkI7UagRbc9+PpJeGxuyrbE1Lpz7K6gOOzjtCgO03hqgpaDrR4KWBQrnvXmmCdIOh2A1fyPsPW7zg/28WGqDRdIPph+ZNccNfT5u1Kj+lExqDjr6fNBdtXo4xfyuWrnlEVse7uLp+3AHCFse7uW1opyyE5I8WjrlpAmbUvOlhCZ+epBxluPHC418SP3Ect5tiqHUcJXCZPdLXHvZJWx3gIf42ZOh0EFHlznvUeikk+q66kn406/pP19rpKSAcXvNAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"img/file.472300f7.svg\";","module.exports = __webpack_public_path__ + \"img/exclamationCircle.52dd6a0d.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAk1BMVEUAAAAmJjYoJjUjIjInJjYnJjYnJjYnJzYrITcnJTYoJDcmJjYmJjYnJzcmJTYnJjUqJzInJjYnJjUnJTYnJjUmJjYnJjYnJTYnJTYnJTYoJjYnJjYmJjYnJTUmJjYmJjUnJTUnJTckJDUnJjYnJjYnJTYmJTYnJjUoKDcnJjYnJjYnJjUmJTUpKTYmJTUoJjcnJjYD4yW0AAAAMHRSTlMAoKcQ++PfaBZMOC9kg2vECPLc9tGyrJh0WyXYyiq2k1RGDeyPiHxiHvi9QT4Z52bwjL0NAAAB50lEQVRYw+3X2W6rMBSF4Z3Y0CQ0CZQxTJnnpGe9/9MdsKCNVChbim/a8ktIGKHvxpZsU1/fn2s0CwddhdGd7S0ccHJWTG8twets8UAPkPmwq1wCAcuLASyouwOwZYETAIK6GwPy54LxYlZ31QBuhvgs1AD60AuuAThvddPnwR3wJnROygAYUg/2YA/24O8ATwxwBZxZoHCBPBs1JEhlq0E8BxIGqD60JCMqe0HdgQcKD20F4hFMbR5IInTQUpJ9gG64IbI5YJGdWV+7JupQWIKGZWUFRyJqA1mJAEX7GWCSyvIGT4Bx8UQSwLYG9xJNYAj4HPCyJ6LrO4AaHKIRjAD3xjooXwTRfd4JnlwARlmgxpuB0ZQEnFE5X8sukCJUzanIStDWv/qS0AHScfsJzly09L6gKivpAGkzPr7mJTjyUZS/fu04tukjsfseVE0LcG0AkAdixAJdCcC4kS5Q5QvSCZ4jtZCCdKcHNCfqdQn4WsBAkE7QnVHVHvA4YAosqbWF9bifwX9pKqt+UINA3TI52R5aco9UNkdVYhOr2ERbA/sBNDJiJg6p2ZAE4MUKdEwznQp6spuhdpUSnJKW7hcULVMF6mkqodIG0nqrGaTTXDNI9k6BOls5mkGKPc0g2RPq6/sL/QcOJpe5LiscHwAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoPersona.vue?vue&type=style&index=0&id=0364d76c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasSolidaridad.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoNodoConocimiento.vue?vue&type=style&index=0&id=569edba3&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notificacion.vue?vue&type=style&index=0&id=30a1ea85&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNodo.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelConjuntosNodos.vue?vue&type=style&index=0&id=db15a6ce&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/whatsapp.a8812701.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAsVBMVEUAAAAAAAAAAAABAQEFBQUBAQEDAwMBAQECAgIBAQEAAAAAAAAFBQUAAAAAAAABAQEKCgoREREBAQECAgIBAQEHBwcBAQEBAQEBAQECAgIBAQEHBwceHh4AAAABAQEAAAABAQECAgIBAQEBAQEFBQUEBAQKCgoBAQEBAQEBAQECAgIDAwMCAgIBAQEJCQkNDQ0BAQEGBgYFBQUDAwMBAQEBAQEGBgYICAgAAAAAAAAAAABES1EIAAAAOnRSTlMA7PQwArcHQaM9qPhU/PrIHArDXVgQ1q+dhHIhBe/f28ynjn9jSA3jvrSVemxoJxirTjGZk4k1FTg3rkgIUQAAAZtJREFUSMftlVmPgjAQgEvltBQEuZFDxPu+d+f//7A12UhWbQGf9sXvhclMvobM9EAcemNHs9A79G1iJMHmDUPxcBBKoE7aKwUsRRRLWGltWDMhchx9CGVb47AUABvUICCVvVZCMQXBVsPRYp4Raq7cRqPMIV9eXPEWyrEeJLDTGowRFsIYVQz2Pph6vQGm8zTTM2R1zoraCmMZ+5trjLN0/5oVC/5MrSFErHw8p2uO4hCfvZqObfZ85CFxEKdi9JmFztS88jY2UQfMvFEgDnHqMf8spGXNPj0w0qKKxzxF7GKFnda4ivpRPsq/KLKEv7jKgqxZJwz7/LtUx7PXM3aVEh1xGQSwfElGcBwgPlrqXZ5Smzytv65DOD1lzhCiWjam8HjOlanZ9Jau6NB6aCJdoQbcnfG3P9Zc6HeaWMD6sV+J0ATJtIe+R750R6CzKs4gr2L1eW7yHetI+lWsEr0q1IzNMbqTqpF5q1fc9WEk/74FPkSoFYoNwXg7icvb10UtnTlNPDM1cNFDbdmud55nnvboHeTt1hXZpR+YEyU0uY0rZgAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"img/graduationCap.6980f8ab.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasConocimiento.vue?vue&type=style&index=1&id=e51e1b84&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoParticipanteEventoPublico.vue?vue&type=style&index=0&id=e4aed360&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTablaMovimientoDinero.vue?vue&type=style&index=0&id=5bfea5c4&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnlacesNodo.vue?vue&type=style&index=0&id=05d6656a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/folder.6d3a8b88.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAsVBMVEUAAAAAAAABAQEKCgoICAgEBAQHBwcEBAQAAAALCwsBAQEDAwMFBQUDAwMDAwMEBAQEBAQBAQENDQ0AAAAHBwcBAQEDAwMEBAQAAAABAQECAgICAgIODg4BAQECAgIGBgYBAQECAgICAgIDAwMEBAQBAQEEBAQCAgICAgIfHx8BAQEKCgoFBQUBAQEBAQECAgICAgIBAQEJCQkLCwsBAQEEBAQDAwMAAAACAgIDAwMAAAA7PaJUAAAAOnRSTlMA+t4VBFwodsAOonlOIX1nY68a8DLQjzrr48e2H7yBRfWynXJwyj6QhwhAGFbn16qZXycLpUlqAsKU+ypwswAAA9RJREFUWMPlWNmWojAQlX1HFBBX3Ntdu13aHv//wyYLIWkL1B7OmZfOE0rqJlV1b6VC7dcNy0vcwPB9I3ATz/onCFXXFqYcSjcypFA2F5qu/hCkqdkyQRCHJNva5gcgntGVBGvxuWt4L4Ios3lm1I4bLaOuaXWj1Yjb2Z/zmfIKijum02W7HilqHiolqtsyfTN2nyfH6ZDNm1NdhVGfmsTBjvMkbfqErDcIlBKHgwGZMNEfobz1iDtG80EOHeJa7618ytrEMxrDxzseNvAsc126F4LS6j+LX79FcEr2o2OPJP+VbPoS9ksvzNEEozivccvBOBOr6A3eqf8q0X08u2BNt4PjUm530i9bN+E8wPHpuIAQY5yjfinIR2MnSVI4T3UW5wbm8z29ZpgvpZmO7FyeXY3lHfNndqdprEajlE+DGx+dQAjm/LveDayAMu663Zs45EvG58H90k00UQpKUD72xHr0de51yNPhRF8EEvJRXFtDf5glaqzLtMxo1nWV2AQw245iosU1oQLgt9MSotFyZdLwH0mUltm7KXq2VS4DGXlcLP2UgHBBf5K6tYJ21CeKClVozFJ7PrL1XL4jBPN14l4IXi3Qq3oRyqp51PuWsuZxvGAY88Tihn4sclGiULWjolJ33u92cs8Q/F1ip84qo2UbYVqMe8jFWIF06THqxp+C8kTuKjEKDmNgEiI5qYAusnA8pVkQY8K/KE8xElaYsCWkAm1PdxyFsTWgyMuaqHOJyTwo0FMqUeru95Q3cpIjj73vIgrYM0iUtaR7aGybm/U7edQY8iARKS7swCfZF9lCLW8Tz02XrurIoZz2M+RzVLtTkV8Cc7SpxZ9milgS+tYxOR5z5BqAKXbKO1OLdKWYNBhTzf+i/y0IEaFTMMQqXTd08KyMOYxAKaUFDDFMuDYiNY4w7rrM7BkyHSDhkH6rA8nvB0vZKEfZc8cB/YAY9A524pOTuUeB2jYo+FwMUJpDbDVX+ILWxbcP77NkBUC4NGGh2OJwHtScQqnz1lcs0DmCQsHLFocZs6W9CXJenncDuBexbMFimISChqNDluiTaA3tYEnfxISsTeGYG4EGAZR0eMBQqhy2ejSN6TE5A/bwgKFbEI67iBpLO5QFRiEw+HG3KTt866FI3XgL7cXDF7YCDsNscxRTJB3sq7reg8ZkO8i02P4TQXPQmJS2SYr23t3HveVQheagTXrUtKnWRuGUg+MKmraqLWT1hrZae30F7XXVZr/61ePpRcipdhGqfi2rfkmsfmV9foFegAt0d6b8l+v86x8Xqn/qqP7h5beNvx6U8A4TgRU+AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"img/clipboardList.d73ead14.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Espacios.vue?vue&type=style&index=0&id=353b249e&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventanaLista.vue?vue&type=style&index=0&id=c163ef22&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMA+/cHAwr08BJt5NkkFu3fHg7qyC/nUNPOimZGKLy4s6yofEEsoJqPdVo0PTkalITAgMOlYVZKbX+RxgAAA7xJREFUWMOtmOd2ozAQhQWmmF4NphgMxGBwb9H7v9nam42DzUyyAd9/HHQ+SaM7o0J+llsljmIYin+cS2MyXNqc3iVI3HCgq9AvLUbDgWujBcz44cB3uwWcDQ8il7MtoOIOX5MZbYmVfg2wrMdviaVtOerTBH7Ajeq9E7YDHyn0UVX77zgsl5vveOPlhFL9YH5+896UPkk8aPfmZiBQJnNxnhbof+2bnFXuhmt2Bu1IXKxGH717qXD9ZmYNGr6tQP+KEf3TYRmkBksBMXIWRoWXz2zmX1xXyHwrhv6vWKHdl9OA4zsItK+SGDCwZNPeYhZaB2g6dIDYsAN8U+gQVR2H81t2AE+sSUfqnOnNE3YW6apReq/JHM6/vO8Q5QKgDVmXOY+UmrQnEC2S255LHGHAoB9QX2PAkqJiGAYfYYGVrxmSV0q63R2CxdFGOjsjwNUExO1DdTy6itdWWxkkItv/aAv17ktaqyStTiLQyACDyNUTgJesO7sO0KqE9n/Ph3JK7RSRECDqeWfSm6XCdHmOC0RmKQLEwPyaqqWZjeRArrA9cG/MKCDnrI750Y33nu2nMmyyEs7RQgbd4KenoODIZkYxTRDDcngC+GvSyOjflMdOeCLFtCSF/c1PRJspxbQjHtqbgBYRK0OBJbmwaAhj9IxWocAFqVGgoaLAHVp6MnJ5LfBEPAGtmw0G5MtvphzpaE2t0XNpggIrsp6gP7cY8M2gmHJiHikWkKmJACU0hOyZcF7qKxP4qCrBPG0Pw/SJfDIJ4bS4iXLQ+w68zkuoeyFZetFqczdCHOhAn5UFbT0KwDvWGvfkLegEa4fd7SeeAZU4UwFz7QBHyuHzGN05wEvALDWPUEIH6kOv3pEBuo1+4QbWCbV7WJrSBtqg13LXgLxzRQaXday6kZTJsF8uWEbt0dJoG4YsYnY23shLz4d4RvHJi4GbaT+g4SLASOwHZGskhGUvHP74Esl9gfY7xLvlaE8xsxgw4YIZcL09aR0gcIIYti5reQiQCbuurtgBQCd+7fVWAZfZnfXlyWeOgMR7tRGmZZ5vHQEBiH6S+DrztVFwBFbzYUVx7t12HO72dATc0ZRgdb0Ijdf5lP03PoLKnV/bGF9Pt5ud3jFIuvocT1zd/vo1R3CZlb+/jNqvQ89r3765WJIiJAVHvhNvbh4ajLOn2uc+1BO3MGEermICvHAOkZU+DFAdDOQOzGvfsbmQbXkm58hg1UILKPUC4oVc98hwWbk/0cWrdFsJNPIC8Wb89iHVIj/qD7BjzjdOJ9y+AAAAAElFTkSuQmCC\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeNodo.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/stream.6338edbb.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyecto.vue?vue&type=style&index=0&id=73860f95&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAt1BMVEUAAAAJCQkBAQEBAQEAAAAFBQUBAQEMDAwgICADAwMFBQUICAgKCgoMDAwXFxcFBQUCAgIEBAQPDw8VFRUPDw8yMjIDAwMDAwMGBgYHBwcNDQ0SEhITExMCAgIDAwMICAgjIyMCAgIFBQUFBQUGBgYHBwcNDQ0CAgIDAwMCAgICAgIFBQULCwsCAgIDAwMFBQUGBgYGBgYICAgNDQ0ICAgHBwcJCQkQEBAFBQUNDQ0LCwsKCgoAAAAVYtoZAAAAPHRSTlMAHPv427ffLgjWql5bPRSg7bsYDwsD5MCnhjgzIOavfQXyrZuBairY09DGs0bqzJKOcW47iXlmJZZUT1Yx0+xAAAADDklEQVRYw+2Y2XaqMBSGA4oVRBBEQMQRnFqnWq0d8v7PdY6l+wiBNImw1rnpf6eGLzt7yhb0q19VL2fxGfveuvFXa8+P3xdOGdokOCtDGacku8o5aN6J6+r+Fhdoq+ndO3BN/amGKao96cJWtk3AFSPNtpjzjipmSD1O+HnhXsZMyXuJlzfQMJe0AR8vUDCnlIDLvifMLYXDxnCGBaSFzPjusZD2rFg/Y0E9M/JZFQUu2z/Wm4mFZf5Uha2aOLDWovMMBd8hxWAYWJ2JjpYv2OFSrXfwTdO6qrrEvjOHFuIOybNeF7YhtfsuTtQ5bCTDvrRGmVUdWqDHJM+/oETvamLeHJx9yKwbU1q+RfDc287Hr372hkBSZq1VfOaHIQEcNW+A9dX7H5SKGj4UAnWyq/ZTP0ZXiy+pHpf2t6wXAvu0MgX/Lu3bZ6lObp1XLmni1I+vMsaNMOXwXaaLFQIfcyXQTeW8nM3gbmb1YyFQzWX1nAiCdTPRzqxWC4ENTGq1QaATvurQg89hZnWDE4gtyIfJt4PPsPhlKgYEvU2+S2P9nXFg8xzfB+y8EGUeJTv0Ig7gCheoRZT52k5cqGadzUobsgYMD77YGZCW7LTRio4cEM9HX3HuKhizE7tPvYHCfwZOP5KQyETVM5sDHCWJSUw8OdiRjuFrX9jaJDtt4faIkwPDZctoX45FNuxkFNqAPe6R4hvL4boCIilJQQ94kEI514xpg2F26D8l9gEPL78c2oxzvG2bNoho2ZS5WtRap5LDRujyhnPSqMOInr1wd4Edd7LZ8aEIzSJdYnj1iDBNZ67YKIL0iocl1IzKjnPlB06VPnBClQpJPqKf1Ttws+CWYUgyRXi+hJhaiPzxeUAcGoy4eS+ISwuf87xgH1P2qcaR0PsQcas3n7J4q3mPnwfTGl1TM0CoIiC8xKgOOPQ/Yc4rD6y5ynkA1t0JVE6mt1rW68uVZ47hVVUJ4GiAeo5hS5JtOBDXMsBRJnnLA2fAKw8E+yoDgn2VAcG+yoDAqwwI561IxixaoF/9J/0BY7A5D9cSe1UAAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanaEventoPublico.vue?vue&type=style&index=0&id=5b3674af&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/users.22e09537.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelConfiguracionAtlas.vue?vue&type=style&index=0&id=5c5d6168&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VentanitaTrabajo.vue?vue&type=style&index=0&id=f6f3cf26&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAh1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3YishAAAALHRSTlMAHWYM844W+fbOXRF7rtQHbBPl3NiGVcSrdjLqx7M6JebtiVG2PDmSZUW4lkeFA2IAAAKHSURBVFjDpZfterIwDIZTOlS+XgTlQ1FEdLp34/yPb6R0VCjYcvX54bVR7tCmSdrAnEiaBE61aZpN5QR1SmCRPu1dM9Lu+alLewdOSzYOng5efzSz+qiVJrZX/u46s90HoQCUPNw6W/PH1+1b/HLidH6jwxF6y7mN02Wed7vZV340NRr5VbcOd463u3Gfwoyo333BnhwNAzZ4frvj5MxeCsIJ/htHNhYoZG3wvbtsgX0/PoJSx5jNYXL9e62AJfsJP7iMX4GWVsyCO9h/9G6snTAkxt16jYcT+u8I2jqiJ08v8YtT+oIFspDoo9q74v7DIp0xL/4yq8YVLawYBL2W8Ang3z4slI9f7aZwwPyhGsz/w5fYaFq02AFQO70JrNhWuYMp7Fj9w/yP1Py/rlL0mx1hfSh5EOd6POrZP8oxoPkKbtp8c++fpRj9AATnRbX55ke4EddAmJ1Mlxc+QGXt/ykk7W+tzYuA595LWCFxtXlrXAMCcNrfBwjRZ7E+3XR4KNsnDlTME71Ch725VfOd/2PAzKajzEYLah4ohibgyLC2cgtKHkLGygaEBZmXDchLEBYUPF+C7MRevszLTpS2MXqxIPPyNsqBFDk6vAikRDplIkfNi1CWkwktqHmRTHI6owUVL9JZKijcgpLnBWWupHmOiuclbbaoRo6KX7GiOl/WvUxUcVmirPODpaBT54hF5nlxsJgfbZAYHK5Gx3vhDXLYWnzBsAyvOJnxJcv0mmd60TS86uZyib0vu2ybXffz0LDhULQ8hb+abnkK0fIom6503HSlf01XdtFv+0pCw5CS0rX7tq9QetlL3jWeiWfa+mqqtPdjem+XSkxu/2Ns/2MnSObb/1/3C6xgJU1VjAAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListaEventosEspacio.vue?vue&type=style&index=0&id=1d38432e&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablaAdministracion.vue?vue&type=style&index=0&id=62695480&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/info.17861ffe.svg\";","module.exports = __webpack_public_path__ + \"img/lapiz.912bdd59.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeccionNodoConocimiento.vue?vue&type=style&index=0&id=7dad90d3&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/cog.9f07a3df.svg\";","module.exports = __webpack_public_path__ + \"img/comments.1f301d23.svg\";"],"sourceRoot":""}