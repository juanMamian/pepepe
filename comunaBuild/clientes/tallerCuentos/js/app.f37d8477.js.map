{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/HerramientasEdicion.vue?8d96","webpack:///./src/components/CuadroTexto.vue?b975","webpack:///./src/assets/iconos/mensaje.png","webpack:///./src/components/foros/Conversacion.vue?6dd3","webpack:///./src/assets/iconos/libro.png","webpack:///./src/assets/iconos/delete.png","webpack:///./src/assets/iconos/texto.png","webpack:///./src/components/Pagina.vue?3104","webpack:///./src/assets/iconos/adjuntar.png","webpack:///./src/assets/iconos/loading.png","webpack:///./src/components/CuadroImagen.vue?bb4e","webpack:///./src/components/Libro.vue?b976","webpack:///./src/components/TodosLibros.vue?6cd3","webpack:///./src/assets/iconos/puntero.png","webpack:///./src/assets/iconos/enviar.png","webpack:///./src/assets/iconos/guardar.png","webpack:///./src/assets/iconos/editar.png","webpack:///./src/App.vue?63b7","webpack:///./src/components/Libro.vue?664b","webpack:///./src/components/Pagina.vue?5d54","webpack:///./src/components/CuadroImagen.vue?396d","webpack:///src/components/CuadroImagen.vue","webpack:///./src/components/CuadroImagen.vue?230e","webpack:///./src/components/CuadroImagen.vue","webpack:///./src/components/CuadroTexto.vue?0900","webpack:///src/components/CuadroTexto.vue","webpack:///./src/components/CuadroTexto.vue?0afe","webpack:///./src/components/CuadroTexto.vue","webpack:///./src/components/HerramientasEdicion.vue?50e2","webpack:///src/components/HerramientasEdicion.vue","webpack:///./src/components/HerramientasEdicion.vue?3c90","webpack:///./src/components/HerramientasEdicion.vue","webpack:///src/components/Pagina.vue","webpack:///./src/components/Pagina.vue?e9dd","webpack:///./src/components/Pagina.vue","webpack:///./src/components/Foro.vue?d3d0","webpack:///./src/components/foros/Conversacion.vue?35b0","webpack:///./src/components/foros/CuadroResponder.vue?dfb3","webpack:///./src/components/utilidades/Loading.vue?81e4","webpack:///src/components/utilidades/Loading.vue","webpack:///./src/components/utilidades/Loading.vue?3516","webpack:///./src/components/utilidades/Loading.vue","webpack:///src/components/foros/CuadroResponder.vue","webpack:///./src/components/foros/CuadroResponder.vue?e045","webpack:///./src/components/foros/CuadroResponder.vue","webpack:///./src/components/foros/Respuesta.vue?8f9c","webpack:///src/components/foros/Respuesta.vue","webpack:///./src/components/foros/Respuesta.vue?9d56","webpack:///./src/components/foros/Respuesta.vue","webpack:///src/components/foros/Conversacion.vue","webpack:///./src/components/foros/Conversacion.vue?5fa9","webpack:///./src/components/foros/Conversacion.vue","webpack:///src/components/Foro.vue","webpack:///./src/components/Foro.vue?22c5","webpack:///./src/components/Foro.vue","webpack:///src/components/Libro.vue","webpack:///./src/components/Libro.vue?7455","webpack:///./src/components/Libro.vue","webpack:///./src/components/MisLibros.vue?1866","webpack:///src/components/MisLibros.vue","webpack:///./src/components/MisLibros.vue?138b","webpack:///./src/components/MisLibros.vue","webpack:///./src/components/TodosLibros.vue?9bbf","webpack:///./src/components/IconoPersonaAutonomo.vue?f6ca","webpack:///src/components/IconoPersonaAutonomo.vue","webpack:///./src/components/IconoPersonaAutonomo.vue?6e98","webpack:///./src/components/IconoPersonaAutonomo.vue","webpack:///src/components/TodosLibros.vue","webpack:///./src/components/TodosLibros.vue?396b","webpack:///./src/components/TodosLibros.vue","webpack:///./src/components/LibrosPublicos.vue?2474","webpack:///src/components/LibrosPublicos.vue","webpack:///./src/components/LibrosPublicos.vue?7a8e","webpack:///./src/components/LibrosPublicos.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/apolloStore/Schema.js","webpack:///./src/apollo.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/iconos/libroAbierto.png","webpack:///./src/assets/iconos/downloadFile.png","webpack:///./src/components/IconoPersonaAutonomo.vue?e223","webpack:///./src/components/Foro.vue?725e","webpack:///./src/assets/iconos/imagen.png","webpack:///./src/assets/iconos/conversacion.png","webpack:///./src/components/foros/CuadroResponder.vue?7678","webpack:///./src/assets/iconos/share.png","webpack:///./src/components/foros/Respuesta.vue?e4b4","webpack:///./src/assets/iconos/paletaColores.png","webpack:///./src/assets/iconos/hypervinculo.png","webpack:///./src/components/MisLibros.vue?4520","webpack:///./src/assets/iconos/success.png","webpack:///./src/components/utilidades/Loading.vue?f351","webpack:///./src/components/LibrosPublicos.vue?5048"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","ref","URLLibrosolo","idLibroSeleccionado","on","removerLibroCache","seleccionarLibro","_e","staticRenderFns","staticClass","$event","idPaginaSeleccionada","directives","rawName","editandoTitulo","expression","_s","libro","titulo","class","letrasRojas","nuevoTituloIlegal","domProps","type","indexOf","_k","keyCode","guardarNuevoTitulo","target","composing","nuevoTitulo","stopPropagation","toggleEditandoTitulo","_l","pagina","index","id","idLibro","removePaginaFromCache","updateCacheConNuevoCuadroTexto","updateCacheConNuevoCuadroImagen","removeCuadroTextoFromCache","removeCuadroImagenFromCache","nativeOn","usuarioEditor","deshabilitado","creandoPagina","crearNuevaPaginaLibro","infoAsParent","idForo","seleccionada","uploadingInfo","segundoPlano","cursorTexto","creandoTexto","cursorImagen","creandoImagen","style","estiloColumna","estiloSize","estiloApariencia","button","accionCrearElemento","resizeFantasmaElemento","endDibujandoElemento","idElementoSeleccionado","eliminarse","$refs","inputColorPagina","click","staticStyle","guardarNuevoColor","colorSeleccionado","desactivarHerramientas","estiloLayoutFantasmaTexto","estiloLayoutFantasmaImagen","estaPagina","cuadroImagen","refInFor","primerPlano","size","zElementos","$emit","resolverSeleccion","cuadroTexto","conAudio","esteCuadroImagen","audio","updatingInfo","enPaginaSeleccionada","paginaSeleccionada","estiloLayout","playAudio","urlImagen","versionImagen","posicionZeta","iniciarDrag","drag","finDrag","enDuda","sizeResizeHandle","iniciarResize","resize","finResize","uploadArchivoCuadroImagen","urlAudio","props","String","idPagina","sizePagina","seleccionado","Boolean","archivoCuadroImagenPagina","zBase","resizing","dragging","posicion","x","y","computed","top","left","width","height","zIndex","sizeDragHandle","methods","play","cuadroPos","$el","getBoundingClientRect","nuevoxP","Math","floor","nuevoyP","$set","$apollo","mutate","mutation","variables","idCuadroImagen","nuevoSize","console","log","posMouse","e","clientX","posPagina","clientY","nuevaPos","offsetWidth","elemPagina","offsetHeight","nuevaPosP","round","nuevoPosicion","datos","FormData","inputArchivoImagen","append","files","method","url","serverUrl","headers","Authorization","$store","state","token","guardarPosicionZeta","nuevoPosicionZ","watch","mounted","sinArchivo","component","esteCuadroTexto","estiloFormato","estiloFontSize","estiloVisibilidadTexto","iniciarEdicionTexto","texto","estiloFontSizeInput","nuevoTexto","estiloInputDummy","guardarNuevoTexto","estiloDummy","fontSizeDummy","fontSizeInputDummy","fontSizeTexto","fontSizeInput","editandoTexto","textAlign","formato","alineacion","color","colorLetra","fontFamily","fontSize","visibility","nuevox","nuevoy","$nextTick","idCuadroTexto","findFontSize","hDummy","hTexto","wDummy","wTexto","findFontSizeInput","hInput","wInput","alert","nuevo","hSeleccionada","herramientaSeleccionada","components","paginaDerecha","preparada","default","visible","ancho","alto","dibujandoTexto","dibujandoImagen","posFantasmaTexto","sizeFantasmaTexto","posFantasmaImagen","sizeFantasmaImagen","gridColumn","justifySelf","backgroundColor","posClick","sizeFantasma","herramientasEdicion","reset","crearTextoFromFantasma","crearCuadroImagenFromFantasma","datosPosicion","datosSize","idElemento","nuevoColor","idConversacionSeleccionada","usuarioLogeado","esteForo","acceso","usuarioMiembro","usuarioSuperadministrador","conversacionAbierta","creandoConversacion","tituloNuevaConversacionIlegal","tituloNuevaConversacion","parent","addConversacion","numPaginas","selectorSeleccionado","numPaginaSeleccionada","conversacionesPorPagina","conversacion","refreshPagina","setConversacionLeida","cantidadRespuestas","loading","estaConversacion","cantidadRespuestasLeidasUsuario","respuestasPorPagina","respuesta","updateRespuestaEliminada","addRespuesta","toggleCuadroAbierto","mensajeIlegal","mensaje","actualizarNombreDeArchivo","abrirSelectorDeArchivos","nombreArchivoSeleccionado","introduciendoEnlace","enlaceAdjuntable","enlaceAdjuntableIlegal","enlaceAdjunto","enlace","_m","cuadroAbierto","enviandoRespuesta","evaluarAdjunto","charProhibidosMensaje","idConversacion","inputArchivoAdjunto","archivoAdjunto","dis","infoArchivo","nuevaRespuesta","enviarNuevaRespuesta","crearConversacionConRespuesta","input","primeraRespuesta","cerrarse","test","substr","fechaFormateada","estaRespuesta","infoAutor","nombre","archivo","googleDriveDirectLink","indexGMT","fechaCorta","usuarioAutor","usuario","confirm","idRespuesta","update","eliminarRespuesta","apollo","query","QUERY_RESPUESTAS","respuestas","skip","fetchPolicy","targetPagina","cuadroResponder","queries","refresh","foros","infoForo","infoConversacion","respuestasLeidas","QUERY_FORO","foro","QUERY_CONVERSACIONES_PAGINA","conversaciones","miembros","nuevaConversacion","includes","QUERY_LIBRO","paginas","paginasOrdenadas","aPags","sort","parseInt","a","numPag","b","charProhibidosTitulo","tipo","idsEditores","enviandoNuevoTitulo","nuevoCache","JSON","parse","stringify","cache","indexP","store","writeQuery","laPagina","cuadrosImagen","cuadrosTexto","nuevoCuadroTexto","indexC","crearNuevoLibro","portada","publico","setLibroPublico","eliminarLibro","misLibros","QUERY_MIS_LIBROS","indexL","laPortada","find","nuevoEstado","desplegado","listaLibros","idAutor","yo","soyYo","idPersona","fotografiaEnabled","_t","nombreSeleccionado","estaPersona","nombres","copiarId","username","nuevoPermiso","addPermisos","opcionCx","evento","textoVisible","QUERY_PERSONA","idUsuario","publicUsuario","permisos","menuContextual","opcionesMenuCx","Array","el","str","document","body","appendChild","select","execCommand","removeChild","fotografiaCargada","beforeRouteUpdate","todosLibros","QUERY_TODOS_LIBROS","librosPorAutor","objetoFinal","forEach","librosPublicos","QUERY_LIBROS_PUBLICOS","Libro","MisLibros","TodosLibros","LibrosPublicos","QUERY_YO","commit","elLibro","scrollIntoView","params","localStorage","setItem","clear","idLibroURL","typeDefs","gql","resolvers","Vue","use","VueApollo","InMemoryCache","getToken","getItem","wsServerUrl","httpLink","createHttpLink","uri","wsLink","WebSocketLink","options","reconnect","connectionParams","authLink","setContext","_","authorization","errorLink","onError","graphQLErrors","networkError","link","concat","finalLink","split","definition","getMainDefinition","kind","operation","apolloClient","ApolloClient","connectToDevTools","apolloProvider","defaultClient","parseJwt","base64Url","base64","replace","jsonPayload","decodeURIComponent","atob","map","charCodeAt","toString","join","Vuex","Store","mutations","setToken","setUserInfo","deslogearse","setRespuestasLeidasConversacionUsuario","f","nuevoInfoForo","__typename","nuevoInfoConversacion","setInfoForosUsuario","config","productionTip","mixin","render","h","App","$mount"],"mappings":"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","file":"js/app.f37d8477.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tallerCuentos/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=style&index=0&id=2c9e7702&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=style&index=0&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAApVBMVEUAAADM28LI2L3h5tzj6d7R3srn7eTL2cPT38vW4s7g6uDF1bvH173C07fa4NTO3cTk7N7W4tPK2sDa5NTi7OLo8Oja5NXJ2b7M28LD1bfk7ODZ5dLY49DR38jd59fV4czT4MvP3sbP3cXK2r/H2LzW4s7S38rS38nQ3sfL2sHF1rna4tL////5+/j9/v3u8+v3+fXw9O31+PLy9u/7/Pr4+vfr8egF2h3MAAAALHRSTlMAcFEYHCQVFQUcDxkRDAh8ICBjJhEMAVc/KyjQx5XwrqiJg11Ku6Kcj2o4NHigeIkAAAKNSURBVGje3dl9U+IwEAbwR0opUKjg8S6e53nvV+RFuO//0W4SZXYYzG5owo74/COObX/QNLuGwDeDtMBBmmkDMZNkcKTZiyN8gpBWqNAIPyzie+xXJGYQEs60FU5pokpGOCGVH8ws4ND4KRCUITxSV5hbfQQnDygi0SbxX0RJ54yfg5IpGEAi/iG+Ej4/wgvT5ckBzTq0513ezWrD5FIuK5f3+OlCyKV8EP7SVxUzPqVflhWzOF4NUIuJicgJR/xb1enva+U6oyN9kltv42fA7fJV7oTbVXcgm6U567uX8dUcuiLk6OHNHcgSVrn3NdZ4IkQKIVibk79AyvWLUQ15Ve78DA4ZMAgpssEgXaQMslceJOMZPJLxCJ7NRa7dlZSMimNCypXjuN9kBCC8ckNGIIKNudQNY4QipIwZIxQhpfaWsUEUhAr55OCQRzIiIKRMQRmTEQ3B9lD5ZusuIiOlTU4GFfZoSPmaLkwm1KNiIHR+uV2Y65qWXTMv7P3bRUHIeAKs8m++fBmPpv0RByHDKCb7i+ekBCFk0JNMz+6UXvJILiBk2Mztb/uWPCGFRSYcQoYjY59S30IiIFtr8E1rzSNDZkxoosstPmDgyWDyqzQHC0jOIAtrCPlhFR6puxAyhNzbOepEOuzt2lGx4jO3SpUx2a2o7Eq5taNfMsiMWTpM4ZfP7qVDKq1P/gCnKNztGrmQ3WPNNw9HiOYSu62w+qXUz4dk0M0MZ0oC7QxxlgzEeRk/Iwh5r9/eJW8Vsg8Tna2Nhso0bCE8cs1KFYxoSiFumIano7AjlClU57bCplDxrnY9ejqdsKPSMAY67bWvs3XZ0+l57a7OfuJMaYs3KZT+NRimIxym793k/gPFdL6ma6aH6QAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=style&index=0&id=4390369d&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAC8i1q6i1zyu1n2vVq3kUr/tki6i1vyvFm5i1xmXWZ9c2W3il2xiF7kpVqQgmuziV7uuFmpg2GrhmChgmHuuFntuVquhl/TmlrTqmCrhmCvh1+yiF7OqWDHlVqmg2Kog2KigWONd2aDdG3uvVrzvFq7jF349uzkpVvyu1rxuVrVm1vlp1rrsFrorFrJpX/08OP37tnzw2zCmW7w6NrstFr169ns4tHnsG3Ut5fIoHPAkWD07+Pv4cfk1L/VupvNrInYpm3xwGzutFov9SsWAAAAJXRSTlMAH9/fHwcHt7d+Bg38ubca5LeUij7v3863tK+mpI+PbVtFLSMf1QcYpQAAAOxJREFUWMPt10eywjAMgOG8R0+l914EhE4SEnq7/51gCyEOGnvF6D/ANyNbG0kURVE/lhwLCcf1WrUEu3oe4+U1FcJKIbyuBmAtmKFAOQewdQ9LRq6FAY0SLOwhMxsF/v3DeSgY3IoGd65gEC4ne/NsFdBxt29GDQwIe+vqed5tHZDjFCIVAwMCTEajqTlgFIkSSCCBBBJIIIEEvoLmzJ8z5gHn/rjAwfhDvG/o0zhB0zcvF/j+L3c8mGaOjF8bpSp4D6W2KhhUsioeZIu59BdgsY849zpZrazreiYZXKahIA/weEiyRFEU9Ts9APjdERj5ZBqjAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAMAAADGfvrlAAAAtFBMVEUAAAAAAAACAgIAAAAAAAAAAAAGBgYAAAAAAAAAAAAFBQUAAAABAQEGBgYCAgIAAAAAAAAEBAQFBQUAAAAAAAABAQEDAwMCAgIAAAAAAAAAAAAFBQUAAAAGBgYAAAAAAAAAAAAAAAADAwMBAQEAAAABAQEBAQEBAQEBAQEDAwMBAQEAAAACAgIBAQECAgIAAAAAAAABAQEAAAAAAAABAQEBAQEBAQEDAwMAAAAAAAAAAAAAAAAAI6fdAAAAO3RSTlMABQvg9KseO8T3ho92RZ0X129r+9M/KzjxyZkU3Q/ov7ykMiHOtV5SJRqplEx/ZK6gconruWhZQwmCwUKZof4AAAMbSURBVEjHpZeJlqIwEEUDuNGiIiACoqIi4761S9vv//9rwgxYgqB4fMfjEnOTkKpUVViuxN7E7HbNWasvsLfUq7aXniENLGsgGUOn3WkVJfurum8hIctf/umx15prxxKAkjvcHZR2W/naeWo4lDzcT17NevrVgcFUaVTE28NXOsp2AMDeP519teWof+1GIEnorm0A0z/5+6tIgKHkrK6y5/j3OmfyWROw6mOWq9nhGxhlduhMAfvMnuqPB3idDHZIo+bL3AHDS7q1y1mnkmocbzbdVFPrwOnU3JMyUO+nOgYq4J5YSmvgaCYssQSa6X2c+PB9qGbaanXe936eto7t5MHosjs2Df3BtPMRoNw9sAGjEw/cinXSDXNW09u3hp94K2y4jdtCmtC1eNN3hhpJAlRVhxT/NhareDNKGImx9fj3aFSzBjlXMKrRbA7kIPLKBQbxKvbwg0aky78XKbBxjbpVXUz7/zemhCWLVIfDcnXAKA4qX5DP0Rq+OwTbX7n6JXgsYRE+qck/BXYb8amcW0cHg9CXN7q+IQ93yk/UXNERkbHnq97Bnd35z1PdeYqBrcBaBsoCe19NuBPWtaAkm09Knz2quk4eMA2lBgt0eZUMN6pF3Uh1XJPn34LG1hiYSVgqVTOXWU/GJIk3OFDnWTDfh/hdyIJ7PkZsAbufAZvLTWjGpcm7HZQMWPyFx46oiRnwCZ7IRA98iGrJrTzCwhQ1VsuG22GzWIMWwlIWXIbNjm/DNDM985sw/8+j3S4M026TnQvDZGfysMIweRj5dmGYfJtOVWGYThWd58IwnWeKJEVhiiRRDPt5A6YYRtGzMEzRk+J2UZjiNmWMwjBlDMpVYgrWIniTgilX0XddIyOoMk/JF/srXJ194Y445blc2II3JLPkY35mPws44RhCOOyccbX6vIurB+whPz9WBoGuX+dCQmJ1gVolqzKgmoR+GNPyvTwJ0vm+JhFzq6He2tWRlOydU9VQfh1mBnvlXlqjlarDPq8ASdX3as/Pq97P6+3PK/3Xd4x27/Pbzef3qs9vdK/vkmJuvfMXl9icGVrQDtsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAAyMjIxMTE0NDQqKipBQUEwMDAjIyMxMTExMTEyMjI4ODgxMTFMTEw1NTUrKysjIyMwMDAxMTExMTE1NTUxMTEzMzMwMDAxMTExMTE4ODgwMDAxMTEvLy8gICB/f38yMjIxMTExMTEvLy8xMTExMTEuLi4wMDAyMjIyMjIxMTEvLy8xMTEyMjIxMTEwMDAzMzMuLi42NjYyMjIxMTExMTExMTEwMDAvLy8wMDAwMDAwMDAtLS0tLS0zMzMvLy80NDQ2NjY4ODgzMzN6YhNIAAAAQ3RSTlMA/fT6PVlzBiXd+8TnFCIJA3j7+BjxZS8N2ZFdz78OBO/kyrWmn5trUjspHOu8r5RJQzXV0sWQghKrqIpuWFZPpnmWvT1N0wAAAodJREFUWMPtl9mWmkAQQGlibDWGRRYhIMEFwX0Zt9FxMhP//5+C09UJKnhsOicv4T41p+BC2VWFCAUFBQX/D4peSWLx+ix1XU1gBwNOYVlDpyRouuPy4Sn1UdrDB6+UsZCC/HYttCuP6HSn3+2bo5TI3K2hGJJujLFVHvBFE+18/tpJiQ1CVVUDdI6/qWo5emSbFy6kU33NOkOMo58+C4/h9RAI0UQSUikxCY/+idJQ/4LQSlQGWo/4hYt6omxFh1uobFCyEXoWr1ByLxuhxCt0RHg2ui2cQtyHLugYxDjZ8QmHT8QjmhNiNiI+YblBhK6kwmqGeYRWFzLeKHMfcpd4hCUoQuOHIK3IUjM5hPgAm/skCXiGoBTl/MJRByRBLIkMkA/zC+dj2OPz3KrYkHOYVwhZxqzOM0Hew9HUyiukz4SCj1IxNXJYH+QVUoPmXPq3OYXyM+TY0cnoppNxrecTDugk7OPLtjGiXEJFrcEeO7/vAFU0w3mEuy6ihfedoLdA6Ep5hCWacfvnN8BGtP1yCJUDAiH6wwnYy2xCmP3ZVIfswlfxjhCVmYU4QPeELZ1VuGyf7lEvsQmh7bJpbBU2oQdtl0lnxCYcjOFC8cslPqIvBTbhC7Qt6kpfk+g9BIGDwiKUe3Q7t8rtnWAEsQh1l2ZMM6M0bbrPSxbhckz/s+qpzw7XMwh9qI7yTSjU8ghhdKFV87bHYYbZJCQPm81m+CF8j1dSltFpoxg/TAtVUYzxTt7cs2q9Xic/0DherV6UjOEV9VutZxOnvq3jUHDEZKo3rj/NFpnTwfOsrKLyPAwn7a8bCpkCD3hzLTTmAhfLrlhL4m8sgQ/pWE4QLmShoKCg4J/zC0L99j/wenPiAAAAAElFTkSuQmCC\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=style&index=0&id=aa2cb084&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAeFBMVEUAAAAXEAoUDQhlRSs0JBYrHRJLMh9FLhxeQCcaEgtiQykyIhUlGQ85JhgsHhJTOCIpGxEgFg1ZPCU/KhpWOSN0TzF6UzQvIBNrSS14UjNPNSFjRClyTjF8VTVcPiZnRyxuSy93UTIDAgEKBwQRDAcPCgYIBQMGBAI5vVJyAAAAInRSTlMA/v6A/v79/aX+kP7+/f7d/v6+/c00Ef5iHfGLPQewd1IkgWmI6gAAAZ1JREFUaN7t1eluqzAQhuGxwxInmDVrl7N8A+b+7/AcqdCChJrUxZVazfNrBBIvBgtICCGEEOK7ecpSGtWlUtmB1pc6RYMccAyUtLq018O0Rx8XRe6Qh4v8YUT0n0V/GU61i6r05B1pen4ZGPZliHgRoAvfSI5hUK9vZbvk0Bhw4RmJMewAg4zedSyhr6EjdDRogkcoRRU+smUdPrLh9isinUS+IHKGCRdxw0apVTp+VvK1Iwd2NNfBjtfaTT2evCNHjZqmLhgPWJ6rTr4RylDRVImOlv8nJXlHCu4TelM7WFr1nYy3XtBo10JRgMjJoLPX8QmBLyEidKzQqygpHqxx0BtaOTJqOsCxA/hMFCAySGKjTZZeyTPi1Vzye91IxG6BeVo1Uugl59lKQpHIRPocPmI5Dh/JYcJHYiga/Y32U1ESIhJjrt0EiGyNmtmvvJJlEpGIRH5YJP9QpCUvEZjuVTtDXrYOj/evOic/Gpruk3D/i/wUDL2jO1hGTr4sA6xuaR1Qkb+D4R43uTaiT9k10S324ZmEEEIIIb6xf4x8QD01P3dKAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABm1BMVEUAAAB9fX2jo6NeXl6Pj4+Pj4+ioqIvLy82NjY1NTWMjIxLS0tra2uOjo4tLS1VVVWioqJXV1ehoaGhoaFdXV2Li4s5OTl5eXksLCwaGhpTU1MdHR17e3uOjo5BQUGOjo4vLy9UVFSOjo4dHR0wMDCPj49nZ2dDQ0MfHx9paWkyMjI+Pj4mJiY3NzcdHR17e3tqamqOjo6Ojo56enqgoKA7OztpaWmQkJChoaFPT08mJiY9PT2NjY2Pj49/f3+fn5+lpaVoaGh6enp7e3sdHR1oaGhTU1NBQUEvLy9UVFR7e3t7e3saGhpoaGg+Pj4dHR1qamp7e3tCQkJCQkKPj498fHweHh5paWmPj49paWlCQkJnZ2dVVVV9fX0vLy9nZ2d7e3tUVFQfHx9ra2t8fHxVVVVERERERERqampAQECPj49DQ0MzMzNVVVV6enpVVVVpaWl6enpFRUUmJiYaGhpmZmZTU1NTU1MyMjJ7e3ufn596enqPj493d3d8fHwbGxukpKRoaGhUVFQrKysaGhp7e3s/Pz8+Pj49PT291zY1AAAAgXRSTlMABlYN4txVHhcSEQoD4N6UUDAuJxgLB/39+/ba2NfHxcS7qKSej4mBdm1sZmBaWlZWUEtJSEdAOjc2NDEpHBoYCPz49vXv7+/s6+bl5ODg09HKwby7u7u6ubGwrKinp6KhoKCWlY2NgoF6eXlzcWxrY2JRT01IQz09PDs2MC8nJSDBqhNCAAABgklEQVRIx+3SRVPDQBTA8VdClTptcZeWCnVX3N3d3d0lJG352GwuDKewb4YZLv3fkskvu/N2odAfZZErkSK2WTXbDpQp5RaAkiae56tidMJZr22Ow9swIRV0y9xrOY5rtsjHBHJNRewcSSsHWzfPN9ENwFVOSL0C4MrmVABVitVyrt8OtAX3juKgcBwHqYVrNJ+vjQKiksUcyYohzKRAdtUYc/CZz/VdAibGWjvlAGRKBlAxBoMaJwzLvQM6E4rsfJDOUKfSIBAdhqh1AjkBTNGGysoNE6Ay3d4xgE4iwYq2pTUPUnSw7MgNRjBzLKkVdTILAtkHTOc9LDseAlSerdYQmP3ul59DTKdFx6gGYLa7yqrd32/MEb3sUQWi+Tuz2ewM+SjhC5PflxaRjOLkooyQ6hR4pzU1hxIwEiGLiJOHQULWJapGaXFxTRje9TKZvhTEO50YWnmCZB0hGh/ZWSBg/PUapV7NZFAtUo10PkEeMxmg7LmlrtGLvdVJFRT6v74ABqxMskl6QHIAAAAASUVORK5CYII=\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=style&index=0&id=00986a15&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=style&index=0&id=0ab0dd54&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TodosLibros.vue?vue&type=style&index=0&id=4be321fa&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMA+/m7FsEEiBPmECX07x+ck5iQY1wMBt46InFINCkb6tXQyLaNf6x7QVdRTy0IysOjdbIknQAAAAI9SURBVGje7dbplqowDAfwUpACgqCCoHIRRdxny/s/3PWunmGxtIEPc6a/F/ifJoSEKIqiKMr39DJelWRQi3H4HsOKDMi4THMXIB6TwaRs62pw9/5CBrGYzAsX/nBDMgBzefFj+C8foFrOerb14EGbLvqOuB13vxvx4F76LZMRHjyo2ho9RmTrYAsNWG8J0YntPGjipj1FjFcjj0KzwuyjEdbV30C7OT7COLFXCk/kE+z/NSlHG3gOOSTZXN9owOFdMY1YBzF08CpdLSsp31zoQpuZco9IP3QbOnLXMhFGeLApdLZzhN8QJfschBxF11DyobsgxruJhvgg7EBETXQQdSbCliMNePCb5McIhMgNyVIXajt/SPB92WWy66l7Xyh/7+L74p0Qq7ZrxUYR4cH3hX/K4+fF5h+n+L74hAc/L/RKsCYFd0gsgpbyNjwz0RlO6cFTmxM6I2KUNyQGOmOm8dp+RNeK8TJgkyAzLEaBp1gg37GnwDVHZgQacMUZrlb3nvMFuIxarbwYeZzWM4JqBi1TvT4kDibDr9ZKY07DfjmamHfUMmZRw963EUNi1GvFoqb9UljyGdN6htO0X+hKPqPej73TuPftW48ZgdN8jx1k257VazVzPu/9N/grJJIYVDP2Vss9lktvkrNd/XattnuMEWlz+1PG1Gm7k72E9JNCA6v1HtMjRIgZ2o8Mo/0eWxGUfynatL21Ez8lfaRovkHaLUxkiPmrL/SewYFPuddqaGeWEUVRFEVRvqqfnnZk9rlieAEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABjFBMVEUAAAA+MzgAAAAiHBwgGBg+OzsiIh4eGxlEPj8WFBMhHh0nIyRAPT1ORkYfGhYjHhwfGhoeGRgeGRkgGxkmHx8oIiMoJCQlIyEpJyUrJyQpKCkiICAqJiQwKyscFxggHR0dFxYhHhwhHBwgGxoeGxsmISEdGRkjHh4dGhkgHRweGhsjHR4mJCE+PTlST08rKCgbFhYjGRogGxocGBcgHhwpJiUiHRwiHxwgGRkYFBMkHx8uKCcfHBoqJycsKSkdGRchGx0hHx9fX18kHRsaFRQmISIlHx4cGBckHB4sJSYhHRwdGRkhHx0cFhgiIB8cGhoeGxkhFxYdFxQaFxYZFhYoJSYaFxQaFxQVERFXUFckGBoiGRggGRkiGhogGRcnGRsjFxgjGBciHBwjGxshHBolGRclGBkhGBolGxkmFxkjGhckGBUhGxgkGhUlFxUfGBkhFxggGBQlFxcjGhkfGhkfGxciGRYgGRYdFxUeGhMgGhslFxgiGxUiFxYdGRkhGhEfFxccGBMhFxElHR4/VDeRAAAAWnRSTlMABBD+/AoH/h7JokYZD/bx5uHcya1tZ2BSOzIpJB/7+ffr2NPMxKqnl5WOiII1Fhb9+PPx0c66sbGgjnVvW1dLPy0I+unh0MbFmYN9eXBqYFLo2Na1nldWOyk6oaQ9AAADUElEQVRYw+3VV1MaURTA8SUgEFAporRg75qYbm/pvdd7t/cGuyu9aEzyxXNXTSZPEW+cPGT2/8rwmzl7OAvh5eXl5fX/5evNF87FuZJLz04mnv41dOVSev5RfPjgILTxV07fpVdPppKjgiCIoepYFtvpCWcWl5P9FknaQFU7nepyH5YT7N15Pj1xo9qs0jZggSxLxWJgA8fJrkcm7lmKYDa/NmibHR14rSFr7PIZF9aXG5q9eU8URZ7nBdFsNKhrK+uPr3GSpC73nGVh+c35h/FhyzRNZPl5wRTpWGormgrsc1ItNNj9wjJPpxKjlEkqUFX1I0qwErPRvpcPSNvmoJnY7ca5U8g8W3nT7xeApOs6B9DWBDRiKzG3EwwvxPwKtG26utpzqrMU3ZiZ6O/ojkNT7raKbY0RBN7vv7+W9RE7KRJSQlmH9Kkj5l5EJm/4G1+bnXqdtqG7ekNiGPB9eHwBba3nxThNwzIA5bKZPGWLwcWRg5ZFIwtRkKQAsiRJBoFHz/Po48LadWhDCFmEiZEg8efCm5H4VafebB5RFPqOrqvXpgYLBGr7Ngl1eGIFhrp47rknA3fRszIViqLKFCVevz0YPlrs+n3yEMgsCgDAJfNd/TyXNlfjDZ5CCVZs5tXxunZnR0QFMIyGKJQd8XV7NdmFByPfeXJsJnOy+K2plkUqMqNpMnBDI3ZfOJ26ORc9ka48G/O7FtB+Wsn8GV8xP8fIRUb8vNhSFCCfUMKMD+99nH5YFUVBoCB6VDJgAWDt0SEsqncx1ux0dJWROY7d2+MMg1Na45dwqOh04Nu3L186KsPsGaVSyTBqNbLyHoe68K6xbyCryCCrdGzBSn8ay7po7ZdKxaKOLG3PzajR1ZsFPItEliFJrqW1223XCs0RuJZRQvetqqrWZjkUGvEjplV1nJqOjlmV2m0OutEDS7hW06lRVOCwXuPYY6oxR2BapuPogZXVqwc0hO6EkLyxjWlNmk797kI4uBir0CQLACQrt3oxrQGRnxj0oUsaeltBxw2AcnWewLX4VJQ46sO4SCqKYl3fxrVur/06va1bvEWSh5NLBGa//9tkpyuVSmjeR5xHu9OhVvwTcT59fjyMtnhOBV9mCC8vLy+vf9UP6nkGH0hHtzsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAMAAAD26OlUAAAAtFBMVEUAAAAAAAAAAAAAAAAaGhoCAgIDAwMBAQEQEBAAAAABAQEBAQECAgIAAAABAQEBAQECAgIEBAQBAQEAAAAFBQUDAwMDAwMAAAAAAAACAgIDAwMFBQUGBgYAAAABAQEBAQEDAwMDAwMICAgJCQkMDAwBAQEBAQEBAQECAgIBAQECAgICAgICAgIGBgYGBgYNDQ0EBAQCAgIEBAQBAQEBAQEDAwMCAgIDAwMEBAQFBQUQEBAAAAAlv8O7AAAAO3RSTlMAvz/5B4MexQP7YBe0n+vmf03b2F0SC+DPqVlRLfbKo3lENiEP89PAu66Ja2dJOjIncUfthpmTjT4pJj+7kzoAAAIXSURBVDjLnZTnlrIwEIbHDaEI0lFAQFGkWrBty/3f16cU0Q3sd86+vybwnMnUwJ/FWGxZshbzOyVqOLN1RdHtDGviILa/2D5S7ESSEltBvn3Z92JePhPid9ezpgwztTz3PRZmuUdzZkCSgoUnsUVCAvMHxqsbRW2xDlWVjcq/pJqTZA49mickfy4AJtJ+IEGJ4O50JOkKBrRKybG1T7r9RhNtGd9s/VRbUwdtae7NGTfWFjnTyhijCUNzIzJrSGaCKiuS5JDu+JKQBxnKUgQA2mZBOSxFdtKRzGKjAcAHcul7J2xN1mm46APA4gyWjo/U5KiuGmtwFhxkh6e5mhw1VeMd+QAawjRXk2L56BzSYCuMKa7WsstxLGxhKcz7udFTt+bCErC/+y8HOx93HmnuxeNLjOKC5toYn7NmwDVors3akzO+qZZ5AFfv4/hM9sDi9HV9jALpAKZOc7DWOQsgR82mfSmkIikOTJTfU2+nR/PJnQyprbhNz66ax/Op2ZybnDVQOp2lqJ7wyiV/VbjJUpsC7RCN250pqn0rLR56VLQ7A6ERhzCoMDYefwthtB/i9iOh6E4qST/7uc+UqM+lx4Trf3s4gl8DV88ypiqzxvJZhR9yOcId1y/Y8fbJBUrlZUaMq+mJ9xdX9MyrQWaXr/6HCwc+kmMuTblYRn6AVzAkcadmgaEoRpCpOxF+FR+J399iRPXoHwT7P6mwTTR1AAAAAElFTkSuQmCC\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('center',[_c('h2',[_vm._v(\"Taller de creacin de cuentos\")])]),(_vm.usuarioSuperadministrador)?_c('todos-libros',{ref:\"todosLibros\",attrs:{\"URLLibrosolo\":_vm.URLLibrosolo,\"idLibroSeleccionado\":_vm.idLibroSeleccionado},on:{\"elimineUnLibro\":_vm.removerLibroCache,\"libroSeleccionado\":_vm.seleccionarLibro}}):_vm._e(),(_vm.usuarioLogeado)?_c('libros-publicos',{ref:\"librosPublicos\",attrs:{\"URLLibrosolo\":_vm.URLLibrosolo,\"idLibroSeleccionado\":_vm.idLibroSeleccionado},on:{\"elimineUnLibro\":_vm.removerLibroCache,\"libroSeleccionado\":_vm.seleccionarLibro}}):_vm._e(),_c('mis-libros',{ref:\"misLibros\",attrs:{\"URLLibrosolo\":_vm.URLLibrosolo},on:{\"libroSeleccionado\":_vm.seleccionarLibro}}),(_vm.idLibroSeleccionado != null)?_c('libro',{key:_vm.idLibroSeleccionado,ref:\"elLibro\",attrs:{\"idLibro\":_vm.idLibroSeleccionado}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"libro\",on:{\"click\":function($event){_vm.idPaginaSeleccionada = null}}},[_c('div',{attrs:{\"id\":\"zonaTitulo\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoTitulo),expression:\"!editandoTitulo\"}],attrs:{\"id\":\"titulo\"}},[_vm._v(\" \"+_vm._s(_vm.libro.titulo)+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTitulo),expression:\"nuevoTitulo\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTitulo),expression:\"editandoTitulo\"}],class:{ letrasRojas: _vm.nuevoTituloIlegal },attrs:{\"type\":\"text\",\"id\":\"inputNuevoTitulo\"},domProps:{\"value\":(_vm.nuevoTitulo)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoTitulo($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTitulo=$event.target.value}}}),_c('div',{attrs:{\"id\":\"controlesTitulo\"}},[_c('img',{staticClass:\"bEditarTitulo\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarrTitulo\",\"title\":\"Editar titulo del libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleEditandoTitulo($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTitulo == true && _vm.nuevoTituloIlegal == false),expression:\"editandoTitulo == true && nuevoTituloIlegal == false\"}],staticClass:\"bEditarTitulo\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoTitulo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoTitulo($event)}}})])]),_c('div',{attrs:{\"id\":\"contenedorPaginas\"}},_vm._l((_vm.paginasOrdenadas),function(pagina,index){return _c('pagina',{key:pagina.id,attrs:{\"paginaDerecha\":index % 2 > 0 || index == 0,\"estaPagina\":pagina,\"idLibro\":_vm.idLibro,\"seleccionada\":_vm.idPaginaSeleccionada == pagina.id,\"segundoPlano\":_vm.idPaginaSeleccionada != null && _vm.idPaginaSeleccionada != pagina.id},on:{\"meElimine\":function($event){return _vm.removePaginaFromCache(pagina.id)},\"tengoNuevoCuadroTexto\":function($event){return _vm.updateCacheConNuevoCuadroTexto($event, pagina.id)},\"tengoNuevoCuadroImagen\":function($event){return _vm.updateCacheConNuevoCuadroImagen($event, pagina.id)},\"elimineCuadroTexto\":function($event){return _vm.removeCuadroTextoFromCache($event, pagina.id)},\"elimineCuadroImagen\":function($event){return _vm.removeCuadroImagenFromCache($event, pagina.id)}},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.usuarioEditor?_vm.idPaginaSeleccionada = pagina.id:null}}})}),1),_c('div',{class:{ deshabilitado: _vm.creandoPagina },attrs:{\"id\":\"bCrearNuevaPagina\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevaPaginaLibro($event)}}},[_vm._v(\" Crear nueva pgina \")]),_c('div',{attrs:{\"id\":\"zonaForos\"}},[_c('div',{staticClass:\"tituloForo\"},[_vm._v(\"Foro de editores\")]),(_vm.libro.idForo)?_c('foro',{attrs:{\"parent\":_vm.infoAsParent,\"idForo\":_vm.libro.idForo}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagina\",class:{\n    seleccionada: _vm.seleccionada,\n    deshabilitado: _vm.uploadingInfo,\n    segundoPlano: _vm.segundoPlano,\n    cursorTexto: _vm.creandoTexto,\n    cursorImagen: _vm.creandoImagen,\n  },style:([_vm.estiloColumna, _vm.estiloSize, _vm.estiloApariencia]),on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.accionCrearElemento($event)},\"mousemove\":_vm.resizeFantasmaElemento,\"mouseup\":_vm.endDibujandoElemento,\"click\":function($event){_vm.idElementoSeleccionado = null}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionada),expression:\"seleccionada\"}],staticClass:\"zonaControlesPagina\"},[_c('img',{staticClass:\"bControlesPagina bEliminarPagina\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"title\":\"Eliminar esta pgina\"},on:{\"click\":_vm.eliminarse}}),_c('img',{staticClass:\"bControlesPagina bSelectColorPagina\",attrs:{\"src\":require(\"@/assets/iconos/paletaColores.png\"),\"alt\":\"Color\",\"title\":\"Seleccionar color de la pgina\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.inputColorPagina.click()}}})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.colorSeleccionado),expression:\"colorSeleccionado\"}],ref:\"inputColorPagina\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"color\"},domProps:{\"value\":(_vm.colorSeleccionado)},on:{\"change\":_vm.guardarNuevoColor,\"input\":function($event){if($event.target.composing){ return; }_vm.colorSeleccionado=$event.target.value}}}),_c('herramientas-edicion',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionada),expression:\"seleccionada\"}],ref:\"herramientasEdicion\",on:{\"creacionTexto\":function($event){_vm.desactivarHerramientas();\n      _vm.creandoTexto = true;},\"creacionImagen\":function($event){_vm.desactivarHerramientas();\n      _vm.creandoImagen = true;},\"mousedown\":function($event){$event.stopPropagation();},\"mouseup\":function($event){$event.stopPropagation();}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dibujandoTexto),expression:\"dibujandoTexto\"}],staticClass:\"fantasmaElemento\",style:([_vm.estiloLayoutFantasmaTexto]),attrs:{\"id\":\"fantasmaTexto\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dibujandoImagen),expression:\"dibujandoImagen\"}],staticClass:\"fantasmaElemento\",style:([_vm.estiloLayoutFantasmaImagen]),attrs:{\"id\":\"fantasmaImagen\"}}),_vm._l((_vm.estaPagina.cuadrosImagen),function(cuadroImagen){return _c('cuadro-imagen',{key:cuadroImagen.id,ref:'cuadroImagen' + cuadroImagen.id,refInFor:true,staticClass:\"elementoPagina\",class:{ primerPlano: _vm.idElementoSeleccionado == cuadroImagen.id },attrs:{\"esteCuadroImagen\":cuadroImagen,\"idLibro\":_vm.idLibro,\"idPagina\":_vm.estaPagina.id,\"sizePagina\":_vm.size,\"seleccionado\":_vm.idElementoSeleccionado == cuadroImagen.id && _vm.seleccionada,\"paginaSeleccionada\":_vm.seleccionada,\"zBase\":_vm.zElementos},on:{\"meElimine\":function($event){return _vm.$emit('elimineCuadroImagen', cuadroImagen.id)}},nativeOn:{\"click\":function($event){return _vm.resolverSeleccion($event, cuadroImagen.id)}}})}),_vm._l((_vm.estaPagina.cuadrosTexto),function(cuadroTexto){return _c('cuadro-texto',{key:cuadroTexto.id,staticClass:\"elementoPagina\",class:{ primerPlano: _vm.idElementoSeleccionado == cuadroTexto.id },attrs:{\"esteCuadroTexto\":cuadroTexto,\"idLibro\":_vm.idLibro,\"idPagina\":_vm.estaPagina.id,\"sizePagina\":_vm.size,\"seleccionado\":_vm.idElementoSeleccionado == cuadroTexto.id && _vm.seleccionada,\"paginaSeleccionada\":_vm.seleccionada,\"zBase\":_vm.zElementos},on:{\"meElimine\":function($event){return _vm.$emit('elimineCuadroTexto', cuadroTexto.id)}},nativeOn:{\"click\":function($event){return _vm.resolverSeleccion($event, cuadroTexto.id)}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroImagen\",class:{\n    conAudio: _vm.esteCuadroImagen.audio,\n    deshabilitado: _vm.updatingInfo,\n    enPaginaSeleccionada: _vm.paginaSeleccionada,\n  },style:([_vm.estiloLayout]),on:{\"click\":_vm.playAudio}},[_c('img',{staticClass:\"imagenContenido\",attrs:{\"src\":_vm.urlImagen + '?v=' + _vm.versionImagen,\"alt\":\"ilustracion\"}}),_c('img',{staticClass:\"simboloLoading\",attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"id\":\"zHandlers\"}},[_c('div',{staticClass:\"zHandler\",attrs:{\"id\":\"bSendBack\",\"title\":\"Mover hacia atrs\"},on:{\"click\":function($event){_vm.posicionZeta=_vm.posicionZeta>0?_vm.posicionZeta-1:0}}}),_c('div',{staticClass:\"zHandler\",attrs:{\"id\":\"bBringFront\",\"title\":\"Mover hacia adelante\"},on:{\"click\":function($event){_vm.posicionZeta++}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:(_vm.sizeDragHandle),attrs:{\"id\":\"dragHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarDrag($event)},\"mousemove\":_vm.drag,\"mouseup\":_vm.finDrag}},[_c('div',{class:{enDuda:_vm.posicionZeta!=_vm.esteCuadroImagen.posicionZeta},attrs:{\"id\":\"bolitaDragHandle\",\"title\":\"arrastrar\"}},[_vm._v(_vm._s(_vm.posicionZeta))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:([_vm.sizeResizeHandle]),attrs:{\"id\":\"resizeHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.iniciarResize($event)},\"mousemove\":_vm.resize,\"mouseup\":_vm.finResize}},[_c('div',{attrs:{\"id\":\"bolitaResizeHandle\"}})]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar cuadro de imagen\",\"id\":\"bEliminarCuadroImagen\"},on:{\"click\":_vm.eliminarse}}),_c('input',{ref:\"inputArchivoImagen\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"inputArchivoImagen\"},on:{\"change\":_vm.uploadArchivoCuadroImagen}}),(_vm.esteCuadroImagen.audio)?_c('audio',{ref:\"audio\",attrs:{\"type\":\"audio/ogg\"}},[_c('source',{attrs:{\"src\":_vm.urlAudio,\"type\":\"audio/ogg\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"cuadroImagen\"\n    :style=\"[estiloLayout]\"\n    @click=\"playAudio\"\n    :class=\"{\n      conAudio: esteCuadroImagen.audio,\n      deshabilitado: updatingInfo,\n      enPaginaSeleccionada: paginaSeleccionada,\n    }\"\n  >\n    <img\n      :src=\"urlImagen + '?v=' + versionImagen\"\n      alt=\"ilustracion\"\n      class=\"imagenContenido\"\n    />\n\n    <img src=\"@/assets/iconos/loading.png\" alt=\"Cargando\" class=\"simboloLoading\">\n\n    <div id=\"zHandlers\" v-show=\"seleccionado\">\n      <div class=\"zHandler\" id=\"bSendBack\" title=\"Mover hacia atrs\" @click=\"posicionZeta=posicionZeta>0?posicionZeta-1:0\"></div>\n      <div class=\"zHandler\" id=\"bBringFront\" title=\"Mover hacia adelante\" @click=\"posicionZeta++\"></div>\n    </div>\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div id=\"bolitaDragHandle\" :class=\"{enDuda:posicionZeta!=esteCuadroImagen.posicionZeta}\" title=\"arrastrar\">{{posicionZeta}}</div>\n    </div>\n\n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <img\n      src=\"@/assets/iconos/delete.png\"\n      alt=\"Eliminar\"\n      title=\"Eliminar cuadro de imagen\"\n      id=\"bEliminarCuadroImagen\"\n      v-show=\"seleccionado\"\n      @click=\"eliminarse\"\n    />\n\n    <input\n      type=\"file\"\n      id=\"inputArchivoImagen\"\n      style=\"display: none\"\n      ref=\"inputArchivoImagen\"\n      @change=\"uploadArchivoCuadroImagen\"\n    />\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroImagen.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport axios from \"axios\";\nimport debounce from \"debounce\";\nexport default {\n  name: \"cuadroImagen\",\n  props: {\n    esteCuadroImagen: Object,\n    idLibro: String,\n    idPagina: String,\n    sizePagina: Object,\n    seleccionado: Boolean,\n    archivoCuadroImagenPagina: Object,\n    paginaSeleccionada: Boolean,\n    zBase:Number,\n  },\n  data() {\n    return {\n      posicionZeta:0,\n      resizing: false,\n      dragging: false,\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo: false,\n      versionImagen: 0,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n\n        zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta,\n\n      };\n    },\n    urlImagen() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/imagenCuento/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioImagen/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      if (!this.esteCuadroImagen.audio) return;\n      this.$refs.audio.play();\n    },\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        const nuevox = e.clientX - cuadroPos.x - 5;\n        const nuevoy = e.clientY - cuadroPos.y - 5;\n\n        var nuevoxP = Math.floor((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.floor((nuevoy * 100) / this.sizePagina.y);\n\n        if (this.posicion.x + nuevoxP > 100)\n          nuevoxP = Math.floor(100 - this.posicion.x);\n        if (this.posicion.y + nuevoyP > 100)\n          nuevoyP = Math.floor(100 - this.posicion.y);\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoSize: CoordsInput!\n          ) {\n            updateSizeCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoSize: $nuevoSize\n            ) {\n              id\n              size {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoSize: this.size,\n        },\n      });\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        if (nuevaPos.x + this.$el.offsetWidth > elemPagina.offsetWidth) {\n          nuevaPos.x = elemPagina.offsetWidth - this.$el.offsetWidth;\n        }\n        if (nuevaPos.x < 0) {\n          nuevaPos.x = 0;\n        }\n\n        if (nuevaPos.y + this.$el.offsetHeight > elemPagina.offsetHeight) {\n          nuevaPos.y = elemPagina.offsetHeight - this.$el.offsetHeight;\n        }\n        if (nuevaPos.y < 0) {\n          nuevaPos.y = 0;\n        }\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n\n    uploadArchivoCuadroImagen() {\n      var datos = new FormData();\n      if (!this.$refs.inputArchivoImagen.value) {\n        console.log(`No haba archivo seleccionado`);\n        return;\n      }\n      datos.append(\"idLibro\", this.idLibro);\n      datos.append(\"idPagina\", this.idPagina);\n      datos.append(\"idCuadroImagen\", this.esteCuadroImagen.id);\n      datos.append(\"imagen\", this.$refs.inputArchivoImagen.files[0]);\n\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/apiCuentos/subirArchivoCuadroImagen\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ res }) => {\n          console.log(`Resultado de upload archivo: ${res}`);\n          this.versionImagen++;\n        })\n        .catch((error) => {\n          console.log(`Error uploading archivo de cuadroImagen. E: ${error}`);\n        });\n    },\n    guardarPosicionZeta: debounce(function(){\n      if(this.posicionZeta==this.esteCuadroImagen.posicionZeta)return;\n      console.log(`Guardando posicin zeta`);\n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idLibro:ID!, $idPagina:ID!, $idCuadroImagen:ID!, $nuevoPosicionZ:Int!){\n            setPosicionZCuadroImagen(idLibro:$idLibro, idPagina:$idPagina, idCuadroImagen:$idCuadroImagen, nuevoPosicionZ:$nuevoPosicionZ){\n              id\n              posicionZeta\n            }\n          }\n        `,\n        variables:{\n          idLibro:this.idLibro,\n          idPagina:this.idPagina,\n          idCuadroImagen:this.esteCuadroImagen.id,\n          nuevoPosicionZ:this.posicionZeta,\n        }\n      });\n    },3000),\n\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de imagen. Esta operacin no se puede deshacer. Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de imagen`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroImagen: ID!) {\n              eliminarCuadroImagenLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroImagen: $idCuadroImagen\n              )\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroImagen: this.esteCuadroImagen.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroImagenLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroImagenLibro}`);\n          if (eliminarCuadroImagenLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n  },\n  watch:{\n    posicionZeta(){\n      console.log(`Cambio de posicion zeta`);\n      this.guardarPosicionZeta();\n    }\n  },\n  mounted() {\n    console.log(`Montado`);\n    this.$set(this.posicion, \"x\", this.esteCuadroImagen.posicion.x);\n    this.$set(this.posicion, \"y\", this.esteCuadroImagen.posicion.y);\n\n    this.$set(this.size, \"x\", this.esteCuadroImagen.size.x);\n    this.$set(this.size, \"y\", this.esteCuadroImagen.size.y);\n\n    this.posicionZeta=this.esteCuadroImagen.posicionZeta;\n\n    if (this.esteCuadroImagen.sinArchivo) {\n      console.log(`Abriendo el input de archivo`);\n      this.$refs.inputArchivoImagen.click();\n    }\n  },\n};\n</script>\n\n<style scoped>\n.cuadroImagen {\n  position: absolute;\n  border-width: 1px;\n  border-style: solid;\n}\n.cuadroImagen:not(.enPaginaSeleccionada) {\n  border-color: transparent;\n}\n.enPaginaSeleccionada {\n  border-color: purple;\n}\n.imagenContenido {\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n  text-align: center;\n}\n.conAudio {\n  cursor: pointer;\n}\n\n#bEliminarCuadroImagen {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: -40px;\n  right: -35px;\n}\n#bEliminarCuadroImagen:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n\n#zHandlers{\n  position: absolute;\n  top:-33px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: rgba(104, 7, 104, 0.534);\n  border-radius: 13px;\n  padding: 5px 10px;\n  display: grid;\n  grid-template-columns: 16px 30px 16px;\n}\n\n.zHandler{\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;    \n}\n#bSendBack{\n  background-color: rgba(8, 83, 8, 0.377);\n  grid-column: 1/2;\n}\n#bSendBack:hover{\n  background-color: rgba(8, 83, 8, 0.61); \n}\n#bBringFront{\n  background-color: rgb(8, 83, 8);\n  grid-column: 3/4;\n}\n#bBringFront:hover{\n  background-color: rgb(4, 56, 4);\n\n}\n.enDuda{\n  color: purple;\n}\n\n.simboloLoading{\n  width: 50px;\n  height: 50px;\n  animation: girar 1.5s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  pointer-events: none;\n  user-select: none;\n  position: absolute;\n  top:50%;\n  left:50%;\n  transform: translate(-50% -50%);\n  z-index: -1;\n}\n\n@keyframes girar{\n  0%{transform: rotateZ(0deg);}\n  100%{transform: rotateZ(360deg);}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroImagen.vue?vue&type=template&id=00986a15&scoped=true&\"\nimport script from \"./CuadroImagen.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroImagen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroImagen.vue?vue&type=style&index=0&id=00986a15&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00986a15\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroTexto\",class:{\n    conAudio: _vm.esteCuadroTexto.audio,\n    deshabilitado: _vm.updatingInfo,\n    enPaginaSeleccionada: _vm.paginaSeleccionada,\n  },style:([_vm.estiloLayout]),on:{\"click\":_vm.playAudio}},[_c('div',{ref:\"texto\",staticClass:\"texto\",style:([_vm.estiloFormato, _vm.estiloFontSize, _vm.estiloVisibilidadTexto]),on:{\"click\":_vm.iniciarEdicionTexto}},[_vm._v(_vm._s(_vm.esteCuadroTexto.texto))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTexto),expression:\"nuevoTexto\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTexto),expression:\"editandoTexto\"}],ref:\"inputNuevoTexto\",style:([_vm.estiloFormato, _vm.estiloFontSizeInput]),attrs:{\"id\":\"inputNuevoTexto\"},domProps:{\"value\":(_vm.nuevoTexto)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTexto=$event.target.value}}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTexto),expression:\"nuevoTexto\"}],ref:\"dummyInput\",style:([_vm.estiloFormato, _vm.estiloInputDummy]),attrs:{\"id\":\"dummyInputTexto\"},domProps:{\"value\":(_vm.nuevoTexto)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTexto=$event.target.value}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTexto),expression:\"editandoTexto\"}],attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"guardar\",\"title\":\"Guardar cambios\",\"id\":\"bGuardarTexto\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoTexto($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar cuadro de texto\",\"id\":\"bEliminarCuadroTexto\"},on:{\"click\":_vm.eliminarse}}),_c('div',{ref:\"textoDummy\",staticClass:\"textoDummy\",style:([_vm.estiloFormato, _vm.estiloDummy])},[_vm._v(\" \"+_vm._s(_vm.esteCuadroTexto.texto)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"id\":\"zHandlers\"}},[_c('div',{staticClass:\"zHandler\",attrs:{\"id\":\"bSendBack\",\"title\":\"Mover hacia atrs\"},on:{\"click\":function($event){_vm.posicionZeta=_vm.posicionZeta>0?_vm.posicionZeta-1:0}}}),_c('div',{staticClass:\"zHandler\",attrs:{\"id\":\"bBringFront\",\"title\":\"Mover hacia adelante\"},on:{\"click\":function($event){_vm.posicionZeta++}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:(_vm.sizeDragHandle),attrs:{\"id\":\"dragHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarDrag($event)},\"mousemove\":_vm.drag,\"mouseup\":_vm.finDrag}},[_c('div',{class:{enDuda:_vm.posicionZeta!=_vm.esteCuadroTexto.posicionZeta},attrs:{\"id\":\"bolitaDragHandle\",\"title\":\"Arrastrar\"}},[_vm._v(_vm._s(_vm.posicionZeta))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:([_vm.sizeResizeHandle]),attrs:{\"id\":\"resizeHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarResize($event)},\"mousemove\":_vm.resize,\"mouseup\":_vm.finResize}},[_c('div',{attrs:{\"id\":\"bolitaResizeHandle\"}})]),(_vm.esteCuadroTexto.audio)?_c('audio',{ref:\"audio\",attrs:{\"type\":\"audio/ogg\"}},[_c('source',{attrs:{\"src\":_vm.urlAudio,\"type\":\"audio/ogg\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"cuadroTexto\"\n    :style=\"[estiloLayout]\"\n    @click=\"playAudio\"\n    :class=\"{\n      conAudio: esteCuadroTexto.audio,\n      deshabilitado: updatingInfo,\n      enPaginaSeleccionada: paginaSeleccionada,\n    }\"\n  >\n    <div\n      class=\"texto\"\n      :style=\"[estiloFormato, estiloFontSize, estiloVisibilidadTexto]\"\n      ref=\"texto\"\n      @click=\"iniciarEdicionTexto\"\n    >{{ esteCuadroTexto.texto }}</div>\n    <textarea\n      ref=\"inputNuevoTexto\"\n      id=\"inputNuevoTexto\"\n      :style=\"[estiloFormato, estiloFontSizeInput]\"\n      v-model=\"nuevoTexto\"\n      v-show=\"editandoTexto\"\n    ></textarea>\n\n    <textarea\n      ref=\"dummyInput\"\n      id=\"dummyInputTexto\"\n      :style=\"[estiloFormato, estiloInputDummy]\"\n      v-model=\"nuevoTexto\"\n    >\n    </textarea>\n\n    <img\n      src=\"@/assets/iconos/guardar.png\"\n      alt=\"guardar\"\n      title=\"Guardar cambios\"\n      id=\"bGuardarTexto\"\n      v-show=\"editandoTexto\"\n      @click.stop=\"guardarNuevoTexto\"\n    />\n\n    <img\n      src=\"@/assets/iconos/delete.png\"\n      alt=\"Eliminar\"\n      title=\"Eliminar cuadro de texto\"\n      id=\"bEliminarCuadroTexto\"\n      v-show=\"seleccionado\"\n      @click=\"eliminarse\"\n    />\n\n    <div\n      class=\"textoDummy\"\n      :style=\"[estiloFormato, estiloDummy]\"\n      ref=\"textoDummy\"\n    >\n      {{ esteCuadroTexto.texto }}\n    </div>\n    <div id=\"zHandlers\" v-show=\"seleccionado\">\n      <div class=\"zHandler\" id=\"bSendBack\" title=\"Mover hacia atrs\" @click=\"posicionZeta=posicionZeta>0?posicionZeta-1:0\"></div>\n      <div class=\"zHandler\" id=\"bBringFront\" title=\"Mover hacia adelante\" @click=\"posicionZeta++\"></div>\n    </div>\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div id=\"bolitaDragHandle\" :class=\"{enDuda:posicionZeta!=esteCuadroTexto.posicionZeta}\" title=\"Arrastrar\">{{ posicionZeta }}</div>\n    </div>\n\n    \n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left.stop=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroTexto.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport debounce from \"debounce\"\nexport default {\n  name: \"CuadroTexto\",\n  props: {\n    idLibro: String,\n    idPagina: String,\n    esteCuadroTexto: Object,\n    sizePagina: Object,\n    seleccionado: Boolean,\n    paginaSeleccionada: Boolean,\n    zBase:Number,\n  },\n  data() {\n    return {\n      fontSizeDummy: 10,\n      fontSizeInputDummy: 10,\n      fontSizeTexto: 10,\n      fontSizeInput: 10,\n\n      resizing: false,\n      dragging: false,\n\n      posicionZeta:0,\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo: false,\n\n      nuevoTexto: null,\n      editandoTexto: false,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n\n        zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta,\n      };\n    },\n    estiloFormato() {\n      return {\n        textAlign: this.esteCuadroTexto.formato.alineacion,\n        color: this.esteCuadroTexto.formato.colorLetra,\n        fontFamily:\n          this.esteCuadroTexto.formato.tipoLetra + \", 'Nunito', sans-serif\",\n      };\n    },\n    estiloFontSize() {\n      return {\n        fontSize: this.fontSizeTexto + \"px\",\n      };\n    },\n    estiloVisibilidadTexto() {\n      return {\n        visibility: this.editandoTexto ? \"hidden\" : \"visible\",\n      };\n    },\n    estiloFontSizeInput() {\n      return {\n        fontSize: this.fontSizeInput + \"px\",\n      };\n    },\n    estiloDummy() {\n      return {\n        fontSize: this.fontSizeDummy + \"px\",\n      };\n    },\n    estiloInputDummy() {\n      return {\n        fontSize: this.fontSizeInputDummy + \"px\",\n      };\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioTexto/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroTexto.id\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      if (!this.esteCuadroTexto.audio) return;\n      console.log(`Reproduciendo`);\n      this.$refs.audio.play();\n    },\n\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        var nuevox = e.clientX - cuadroPos.x - 5;\n        var nuevoy = e.clientY - cuadroPos.y - 5;\n\n        if (nuevox < 15 || nuevoy < 15) {\n          console.log(`Offlimits`);\n          return;\n        }\n\n        // if (\n        //   e.clientY > cuadroPos.y + this.sizePagina.y\n        // ) {\n        //   nuevox = this.sizePagina.x - cuadroPos.x;\n        // }\n\n        // if (\n        //   e.clientY > cuadroPos.y + this.sizePagina.y\n        // ) {\n        //   nuevoy = this.sizePagina.y - cuadroPos.y;\n        // }\n\n        var nuevoxP = Math.round((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.round((nuevoy * 100) / this.sizePagina.y);\n\n        if (this.posicion.x + nuevoxP > 100)\n          nuevoxP = Math.floor(100 - this.posicion.x);\n        if (this.posicion.y + nuevoyP > 100)\n          nuevoyP = Math.floor(100 - this.posicion.y);\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n      this.fontSizeDummy = 10;\n      this.$nextTick(() => {\n        this.findFontSize();\n\n        this.$apollo.mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoSize: CoordsInput!\n            ) {\n              updateSizeCuadroTexto(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoSize: $nuevoSize\n              ) {\n                id\n                size {\n                  x\n                  y\n                }\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n            nuevoSize: this.size,\n          },\n        });\n      });\n    },\n\n    findFontSize() {\n      if (\n        !this.esteCuadroTexto ||\n        !this.esteCuadroTexto.texto ||\n        this.esteCuadroTexto.texto.length < 1\n      )\n        return;\n      let hTexto = this.$refs.texto.offsetHeight;\n      let hDummy = this.$refs.textoDummy.offsetHeight;\n      let wDummy = this.$refs.textoDummy.scrollWidth;\n      let wTexto = this.$refs.texto.offsetWidth;\n      // if (!confirm(\"continuar\")) {\n      //   return;\n      // }\n\n      if (hDummy >= hTexto || wDummy >= wTexto) {\n        this.fontSizeDummy = this.fontSizeDummy - 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n\n          if ((hDummy < hTexto && wDummy < wTexto) || this.fontSizeDummy < 5) {\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      } else if (hDummy < hTexto && wDummy < wTexto) {\n        this.fontSizeDummy = this.fontSizeDummy + 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n\n          if (\n            hDummy >= hTexto ||\n            wDummy >= wTexto ||\n            this.fontSizeDummy > 100\n          ) {\n            this.fontSizeDummy = this.fontSizeDummy - 2;\n            \n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      }\n    },\n    findFontSizeInput() {\n      if (!this.nuevoTexto || this.nuevoTexto.length < 1) return;\n      let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n      let hDummy = this.$refs.dummyInput.scrollHeight;\n      let wDummy = this.$refs.dummyInput.scrollWidth;\n      let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n\n      if (hDummy >= hInput || wDummy >= wInput) {\n        this.fontSizeInputDummy = this.fontSizeInputDummy - 2;\n        this.$nextTick(() => {\n          let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n          let hDummy = this.$refs.dummyInput.scrollHeight;\n          let wDummy = this.$refs.dummyInput.scrollWidth;\n          let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n\n          if (\n            (hDummy < hInput && wDummy < wInput) ||\n            this.fontSizeInputDummy < 5\n          ) {\n            this.fontSizeInput = this.fontSizeInputDummy;\n            return;\n          } else {\n            this.findFontSizeInput();\n          }\n        });\n      } else if (hDummy < hInput && wDummy < wInput) {\n        this.fontSizeInputDummy = this.fontSizeInputDummy + 2;\n        this.$nextTick(() => {\n          let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n          let hDummy = this.$refs.dummyInput.scrollHeight;\n          let wDummy = this.$refs.dummyInput.scrollWidth;\n          let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n\n          if (\n            hDummy >= hInput ||\n            wDummy >= wInput ||\n            this.fontSizeInputDummy > 100\n          ) {\n            this.fontSizeInputDummy = this.fontSizeInputDummy - 2;\n            this.fontSizeInput = this.fontSizeInputDummy;\n            return;\n          } else {\n            this.findFontSizeInput();\n          }\n        });\n      }\n    },\n\n    guardarNuevoTexto() {\n      if (this.nuevoTexto.length > 3000) {\n        alert(\"Texto demasiado largo\");\n        return;\n      }\n      if (this.nuevoTexto == this.esteCuadroTexto.texto) {\n        console.log(`Texto no modificado`);\n        this.editandoTexto = false;\n        return;\n      }\n      this.updatingInfo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoTexto: String!\n            ) {\n              updateTextoCuadroTextoCuento(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoTexto: $nuevoTexto\n              ) {\n                id\n                texto\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n            nuevoTexto: this.nuevoTexto,\n          },\n        })\n        .then(() => {\n          this.editandoTexto = false;\n          this.updatingInfo = false;\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n    iniciarEdicionTexto() {\n      if (this.seleccionado) {\n        this.fontSizeInput = this.fontSizeTexto;\n        this.fontSizeInputDummy = this.fontSizeTexto;\n        this.nuevoTexto = this.esteCuadroTexto.texto;\n        this.editandoTexto = true;\n        this.$nextTick(() => {\n          this.$refs.inputNuevoTexto.focus();\n        });\n      }\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        if (nuevaPos.x + this.$el.offsetWidth > elemPagina.offsetWidth) {\n          nuevaPos.x = elemPagina.offsetWidth - this.$el.offsetWidth;\n        }\n        if (nuevaPos.x < 0) {\n          nuevaPos.x = 0;\n        }\n\n        if (nuevaPos.y + this.$el.offsetHeight > elemPagina.offsetHeight) {\n          nuevaPos.y = elemPagina.offsetHeight - this.$el.offsetHeight;\n        }\n        if (nuevaPos.y < 0) {\n          nuevaPos.y = 0;\n        }\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroTexto: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroTexto(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroTexto: $idCuadroTexto\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroTexto: this.esteCuadroTexto.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de texto. Esta operacin no se puede deshacer. Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de texto`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroTexto: ID!) {\n              eliminarCuadroTextoLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n              )\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroTextoLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroTextoLibro}`);\n          if (eliminarCuadroTextoLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n\n    guardarPosicionZeta: debounce(function(){\n      console.log(`Guardando posicin zeta`);\n      if(this.posicionZeta==this.esteCuadroTexto.posicionZeta)return;\n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idLibro:ID!, $idPagina:ID!, $idCuadroTexto:ID!, $nuevoPosicionZ:Int!){\n            setPosicionZCuadroTexto(idLibro:$idLibro, idPagina:$idPagina, idCuadroTexto:$idCuadroTexto, nuevoPosicionZ:$nuevoPosicionZ){\n              id\n              posicionZeta\n            }\n          }\n        `,\n        variables:{\n          idLibro:this.idLibro,\n          idPagina:this.idPagina,\n          idCuadroTexto:this.esteCuadroTexto.id,\n          nuevoPosicionZ:this.posicionZeta,\n        }\n      });\n    },3000),\n  },\n  watch: {\n    nuevoTexto() {\n      this.$nextTick(() => {\n        this.findFontSizeInput();\n      });\n    },\n    esteCuadroTexto() {\n      this.$nextTick(() => {\n        this.findFontSize();\n      });\n    },\n    seleccionado(nuevo) {\n      if (nuevo == false) {\n        this.editandoTexto = false;\n      }\n    },\n    posicionZeta(){      \n      this.guardarPosicionZeta();\n    }\n  },\n  mounted() {\n    this.$set(this.posicion, \"x\", this.esteCuadroTexto.posicion.x);\n    this.$set(this.posicion, \"y\", this.esteCuadroTexto.posicion.y);\n\n    this.$set(this.size, \"x\", this.esteCuadroTexto.size.x);\n    this.$set(this.size, \"y\", this.esteCuadroTexto.size.y);\n\n    this.posicionZeta=this.esteCuadroTexto.posicionZeta;\n    this.$nextTick(() => {\n      this.findFontSize();\n    });\n  },\n};\n</script>\n\n<style>\n.texto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  white-space: pre-wrap;\n}\n.cuadroTexto {\n  position: absolute;\n  resize: both;\n\n  border-width: 1px;\n  border-style: solid;\n}\n.cuadroTexto:not(.enPaginaSeleccionada) {\n  border-color: transparent;\n}\n.enPaginaSeleccionada {\n  border-color: purple;\n}\n.textoDummy {\n  width: 99%;\n  border: 1px solid pink;\n  overflow-x: scroll;\n  position: absolute;\n  left: -100%;\n  pointer-events: none;\n  white-space: pre-wrap;\n  visibility: hidden;\n}\n#dummyInputTexto {\n  width: 99%;\n  height: 99%;\n  overflow-x: scroll;\n  border: 1px solid pink;\n  visibility: hidden;\n  pointer-events: none;\n  position: absolute;\n  left: -100%;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  box-sizing: border-box;\n  word-wrap: normal;\n}\n#inputNuevoTexto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(255, 255, 0, 0.459);\n\n  box-sizing: border-box;\n  resize: none;\n  overflow: hidden;\n  display: block;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  word-wrap: normal;\n}\n#inputNuevoTexto:hover {\n  outline: none;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n  text-align: center;\n}\n\n.conAudio {\n  cursor: pointer;\n}\n\n#bGuardarTexto {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: 110%;\n  left: 50%;\n  transform: translateX(-50%);\n}\n#bGuardarTexto:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n\n#bEliminarCuadroTexto {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: -40px;\n  right: -35px;\n}\n#bEliminarCuadroTexto:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n\n#zHandlers{\n  position: absolute;\n  top:-33px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: rgba(104, 7, 104, 0.534);\n  border-radius: 13px;\n  padding: 5px 10px;\n  display: grid;\n  grid-template-columns: 16px 30px 16px;\n}\n.zHandler{\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;    \n}\n#bSendBack{\n  background-color: rgba(8, 83, 8, 0.377);\n  grid-column: 1/2;\n}\n#bSendBack:hover{\n  background-color: rgba(8, 83, 8, 0.61); \n}\n#bBringFront{\n  background-color: rgb(8, 83, 8);\n  grid-column: 3/4;\n}\n#bBringFront:hover{\n  background-color: rgb(4, 56, 4);\n\n}\n.enDuda{\n  color: purple;\n}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroTexto.vue?vue&type=template&id=d70c17b6&\"\nimport script from \"./CuadroTexto.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroTexto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroTexto.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"herramientasEdicion\"}},[_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='puntero'},attrs:{\"src\":require(\"@/assets/iconos/puntero.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('puntero');\n      _vm.herramientaSeleccionada = 'puntero';},\"mousedown\":function($event){$event.stopPropagation();}}}),_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='texto'},attrs:{\"src\":require(\"@/assets/iconos/texto.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('creacionTexto');\n      _vm.herramientaSeleccionada = 'texto';},\"mousedown\":function($event){$event.stopPropagation();}}}),_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='imagen'},attrs:{\"src\":require(\"@/assets/iconos/imagen.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('creacionImagen');\n      _vm.herramientaSeleccionada = 'imagen';},\"mousedown\":function($event){$event.stopPropagation();}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"herramientasEdicion\">\n    <img\n      src=\"@/assets/iconos/puntero.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='puntero'}\"\n      @click.stop=\"\n        $emit('puntero');\n        herramientaSeleccionada = 'puntero';\n      \"\n      @mousedown.stop=\"\"\n    />\n    <img\n      src=\"@/assets/iconos/texto.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='texto'}\"\n      @click.stop=\"\n        $emit('creacionTexto');\n        herramientaSeleccionada = 'texto';\n      \"\n      @mousedown.stop=\"\"\n    />\n    <img\n      src=\"@/assets/iconos/imagen.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='imagen'}\"\n      @click.stop=\"\n        $emit('creacionImagen');\n        herramientaSeleccionada = 'imagen';\n      \"\n      @mousedown.stop=\"\"\n    />\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"HerramientasEdicion\",\n  data() {\n    return {\n      herramientaSeleccionada: 'puntero',\n    };\n  },\n  methods:{\n      reset(){\n          this.herramientaSeleccionada='puntero';\n      }\n  }\n};\n</script>\n\n<style scoped>\n#herramientasEdicion {\n  padding: 20px 10px;\n  background-color: rgb(185, 126, 185);\n  border: 2px solid rgb(46, 0, 46);\n  user-select: none;\n}\n.bHerramientasEdicion {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  padding: 5px;\n  cursor: pointer;\n  display: block;\n  margin:2px 0px;\n}\n.bHerramientasEdicion:hover {\n  background-color: rgba(128, 0, 128, 0.507);\n}\n.hSeleccionada{\n  background-color: rgba(128, 0, 128, 0.507);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HerramientasEdicion.vue?vue&type=template&id=2c9e7702&scoped=true&\"\nimport script from \"./HerramientasEdicion.vue?vue&type=script&lang=js&\"\nexport * from \"./HerramientasEdicion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HerramientasEdicion.vue?vue&type=style&index=0&id=2c9e7702&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c9e7702\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"pagina\"\n    :style=\"[estiloColumna, estiloSize, estiloApariencia]\"\n    :class=\"{\n      seleccionada,\n      deshabilitado: uploadingInfo,\n      segundoPlano,\n      cursorTexto: creandoTexto,\n      cursorImagen: creandoImagen,\n    }\"\n    @mousedown.left.stop=\"accionCrearElemento\"\n    @mousemove=\"resizeFantasmaElemento\"\n    @mouseup=\"endDibujandoElemento\"\n    @click=\"idElementoSeleccionado = null\"\n  >\n    <div class=\"zonaControlesPagina\" v-show=\"seleccionada\">\n      <img\n        src=\"@/assets/iconos/delete.png\"\n        class=\"bControlesPagina bEliminarPagina\"\n        title=\"Eliminar esta pgina\"\n        @click=\"eliminarse\"\n      />\n      <img\n        src=\"@/assets/iconos/paletaColores.png\"\n        alt=\"Color\"\n        class=\"bControlesPagina bSelectColorPagina\"\n        title=\"Seleccionar color de la pgina\"\n        @click.stop=\"$refs.inputColorPagina.click()\"\n      />\n    </div>\n\n    <input type=\"color\" v-model=\"colorSeleccionado\" style=\"display:none\" @change=\"guardarNuevoColor\" ref=\"inputColorPagina\">\n\n    <herramientas-edicion\n      v-show=\"seleccionada\"\n      ref=\"herramientasEdicion\"\n      @creacionTexto=\"\n        desactivarHerramientas();\n        creandoTexto = true;\n      \"\n      @creacionImagen=\"\n        desactivarHerramientas();\n        creandoImagen = true;\n      \"\n      @mousedown.stop=\"\"\n      @mouseup.stop=\"\"\n    />\n\n    <div\n      id=\"fantasmaTexto\"\n      class=\"fantasmaElemento\"\n      :style=\"[estiloLayoutFantasmaTexto]\"\n      v-show=\"dibujandoTexto\"\n    ></div>\n    <div\n      id=\"fantasmaImagen\"\n      class=\"fantasmaElemento\"\n      :style=\"[estiloLayoutFantasmaImagen]\"\n      v-show=\"dibujandoImagen\"\n    ></div>\n\n    <cuadro-imagen\n      v-for=\"cuadroImagen of estaPagina.cuadrosImagen\"\n      class=\"elementoPagina\"\n      :ref=\"'cuadroImagen' + cuadroImagen.id\"\n      :class=\"{ primerPlano: idElementoSeleccionado == cuadroImagen.id }\"\n      :key=\"cuadroImagen.id\"\n      :esteCuadroImagen=\"cuadroImagen\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n      :seleccionado=\"idElementoSeleccionado == cuadroImagen.id && seleccionada\"\n      :paginaSeleccionada=\"seleccionada\"\n      :zBase=\"zElementos\"\n      @click.native=\"resolverSeleccion($event, cuadroImagen.id)\"\n      @meElimine=\"$emit('elimineCuadroImagen', cuadroImagen.id)\"\n    />\n\n    <cuadro-texto\n      v-for=\"cuadroTexto of estaPagina.cuadrosTexto\"\n      class=\"elementoPagina\"\n      :class=\"{ primerPlano: idElementoSeleccionado == cuadroTexto.id }\"\n      :key=\"cuadroTexto.id\"\n      :esteCuadroTexto=\"cuadroTexto\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n      :seleccionado=\"idElementoSeleccionado == cuadroTexto.id && seleccionada\"\n      :paginaSeleccionada=\"seleccionada\"\n      :zBase=\"zElementos\"\n      @click.native=\"resolverSeleccion($event, cuadroTexto.id)\"\n      @meElimine=\"$emit('elimineCuadroTexto', cuadroTexto.id)\"\n    />\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport CuadroImagen from \"./CuadroImagen.vue\";\nimport CuadroTexto from \"./CuadroTexto.vue\";\nimport HerramientasEdicion from \"./HerramientasEdicion.vue\";\nimport { fragmentoCuadroImagen, fragmentoCuadroTexto } from \"./Libro.vue\";\nexport default {\n  components: { CuadroImagen, CuadroTexto, HerramientasEdicion },\n  name: \"Pagina\",\n  props: {\n    estaPagina: Object,\n    paginaDerecha: Boolean,\n    preparada: {\n      type: Boolean,\n      default: false,\n    },\n    visible: {\n      type: Boolean,\n    },\n    idLibro: String,\n    seleccionada: Boolean,\n    segundoPlano: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      ancho: 450,\n      alto: 600,\n      uploadingInfo: false,\n      colorSeleccionado: \"#ffffff\",\n\n      creandoTexto: false,\n      creandoImagen: false,\n\n      dibujandoTexto: false,\n      dibujandoImagen: false,\n\n      zElementos:100,\n\n      posFantasmaTexto: {\n        x: 0,\n        y: 0,\n      },\n      sizeFantasmaTexto: {\n        x: 30,\n        y: 30,\n      },\n\n      posFantasmaImagen: {\n        x: 0,\n        y: 0,\n      },\n      sizeFantasmaImagen: {\n        x: 30,\n        y: 30,\n      },\n\n      idElementoSeleccionado: null,\n    };\n  },\n  computed: {\n    estiloColumna() {\n      if (this.paginaDerecha) {\n        return {\n          gridColumn: \"1/2\",\n          justifySelf: \"right\",\n        };\n      }\n      return null;\n    },\n    estiloSize() {\n      return {\n        width: this.ancho + \"px\",\n        height: this.alto + \"px\",\n      };\n    },\n    size() {\n      return {\n        x: this.ancho,\n        y: this.alto,\n      };\n    },\n    estiloApariencia() {\n      return {\n        backgroundColor: this.colorSeleccionado,\n      };\n    },\n    estiloLayoutFantasmaTexto() {\n      return {\n        top: this.posFantasmaTexto.y + \"px\",\n        left: this.posFantasmaTexto.x + \"px\",\n        width: this.sizeFantasmaTexto.x + \"px\",\n        height: this.sizeFantasmaTexto.y + \"px\",\n      };\n    },\n    estiloLayoutFantasmaImagen() {\n      return {\n        top: this.posFantasmaImagen.y + \"px\",\n        left: this.posFantasmaImagen.x + \"px\",\n        width: this.sizeFantasmaImagen.x + \"px\",\n        height: this.sizeFantasmaImagen.y + \"px\",\n      };\n    },\n  },\n  methods: {\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando pgina. Esta operacin no se puede deshacer. Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.uploadingInfo = true;\n      console.log(`Eliminando una pgina`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!) {\n              eliminarPaginaDeLibro(idLibro: $idLibro, idPagina: $idPagina)\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n          },\n        })\n        .then(({ data: { eliminarPaginaDeLibro } }) => {\n          console.log(`Resultado: ${eliminarPaginaDeLibro}`);\n          if (eliminarPaginaDeLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.uploadingInfo = false;\n        });\n    },\n    desactivarHerramientas() {\n      this.creandoTexto = false;\n      this.creandoImagen = false;\n    },\n    accionCrearElemento(e) {\n      const posPagina = this.$el.getBoundingClientRect();\n      const posClick = {\n        x: e.clientX - posPagina.left,\n        y: e.clientY - posPagina.top,\n      };\n\n      if (this.creandoTexto) {\n        this.dibujandoTexto = true;\n        this.$set(this.posFantasmaTexto, \"x\", Math.floor(posClick.x));\n        this.$set(this.posFantasmaTexto, \"y\", Math.floor(posClick.y));\n\n        this.$set(this.sizeFantasmaTexto, \"x\", 30);\n        this.$set(this.sizeFantasmaTexto, \"y\", 30);\n      } else if (this.creandoImagen) {\n        this.dibujandoImagen = true;\n        this.$set(this.posFantasmaImagen, \"x\", Math.floor(posClick.x));\n        this.$set(this.posFantasmaImagen, \"y\", Math.floor(posClick.y));\n\n        this.$set(this.sizeFantasmaImagen, \"x\", 30);\n        this.$set(this.sizeFantasmaImagen, \"y\", 30);\n      }\n    },\n    resizeFantasmaElemento(e) {\n      const posPagina = this.$el.getBoundingClientRect();\n      const posClick = {\n        x: e.clientX - posPagina.left,\n        y: e.clientY - posPagina.top,\n      };\n\n      if (this.dibujandoTexto) {\n        let sizeFantasma = {\n          x: posClick.x - this.posFantasmaTexto.x,\n          y: posClick.y - this.posFantasmaTexto.y,\n        };\n\n        if (sizeFantasma.x < 30) {\n          sizeFantasma.x = 30;\n        }\n        if (sizeFantasma.y < 30) {\n          sizeFantasma.y = 30;\n        }\n\n        this.$set(this.sizeFantasmaTexto, \"x\", Math.floor(sizeFantasma.x));\n        this.$set(this.sizeFantasmaTexto, \"y\", Math.floor(sizeFantasma.y));\n      }\n\n      if (this.dibujandoImagen) {\n        let sizeFantasma = {\n          x: posClick.x - this.posFantasmaImagen.x,\n          y: posClick.y - this.posFantasmaImagen.y,\n        };\n\n        if (sizeFantasma.x < 30) {\n          sizeFantasma.x = 30;\n        }\n        if (sizeFantasma.y < 30) {\n          sizeFantasma.y = 30;\n        }\n\n        this.$set(this.sizeFantasmaImagen, \"x\", Math.floor(sizeFantasma.x));\n        this.$set(this.sizeFantasmaImagen, \"y\", Math.floor(sizeFantasma.y));\n      }\n    },\n    endDibujandoElemento() {\n      if (this.dibujandoTexto) {\n        console.log(`Creando cuadroTexto`);\n        this.dibujandoTexto = false;\n        this.$refs.herramientasEdicion.reset();\n        this.crearTextoFromFantasma();\n      } else if (this.dibujandoImagen) {\n        console.log(`Creando cuadro de imgen`);\n        this.dibujandoImagen = false;\n        this.$refs.herramientasEdicion.reset();\n        this.crearCuadroImagenFromFantasma();\n      }\n      this.desactivarHerramientas();\n    },\n    crearCuadroImagenFromFantasma() {\n      var datosPosicion = {\n        x: Math.round((this.posFantasmaImagen.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.posFantasmaImagen.y * 100) / this.$el.offsetHeight),\n      };\n\n      var datosSize = {\n        x: Math.round((this.sizeFantasmaImagen.x * 100) / this.$el.offsetWidth),\n        y: Math.round(\n          (this.sizeFantasmaImagen.y * 100) / this.$el.offsetHeight\n        ),\n      };\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroImagenPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroImagen\n              }\n            }\n            ${fragmentoCuadroImagen}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n            datosPosicion,\n            datosSize,\n          },\n        })\n        .then(({ data: { crearCuadroImagenPaginaLibro } }) => {\n          this.$emit(\"tengoNuevoCuadroImagen\", crearCuadroImagenPaginaLibro);\n        })\n        .catch((error) => {\n          console.log(`Error en mutacin de crear cuadro imgen. E: ${error}`);\n        });\n    },\n    crearTextoFromFantasma() {\n      console.log(\n        `Enviando con ${JSON.stringify(this.idLibro)}, ${JSON.stringify(\n          this.estaPagina.id\n        )}, ${JSON.stringify(this.posFantasmaTexto)}, ${JSON.stringify(\n          this.sizeFantasmaTexto\n        )}`\n      );\n\n      var datosPosicion = {\n        x: Math.round((this.posFantasmaTexto.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.posFantasmaTexto.y * 100) / this.$el.offsetHeight),\n      };\n\n      var datosSize = {\n        x: Math.round((this.sizeFantasmaTexto.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.sizeFantasmaTexto.y * 100) / this.$el.offsetHeight),\n      };\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroTextoPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroTexto\n              }\n            }\n            ${fragmentoCuadroTexto}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n            datosPosicion,\n            datosSize,\n          },\n          errorPolicy: \"all\",\n        })\n        .then(({ data: { crearCuadroTextoPaginaLibro } }) => {\n          this.$emit(\"tengoNuevoCuadroTexto\", crearCuadroTextoPaginaLibro);\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error.message}`);\n          console.log(`Hubo ${error.graphQLErrors} errores graphql`);\n        });\n    },\n    resolverSeleccion(e, idElemento) {\n      if (this.seleccionada) {\n        e.stopPropagation();\n        this.idElementoSeleccionado = idElemento;\n      }\n    },\n    guardarNuevoColor(){\n      console.log(`Guardando nuevo color de pgina.`);\n      \n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idLibro:ID!, $idPagina:ID!, $nuevoColor:String!){\n            setNuevoColorPaginaLibro(idLibro:$idLibro, idPagina: $idPagina, nuevoColor:$nuevoColor){\n              id\n              color\n            }\n          }\n        `,\n        variables:{\n          idLibro:this.idLibro,\n          idPagina:this.estaPagina.id,\n          nuevoColor:this.$refs.inputColorPagina.value\n        }\n      }).then(()=>{\n        console.log(`Nuevo color guardado`);\n      }).catch((error)=>{\n        console.log(`Error guardando el nuevo color de pgina. E: ${error}`);        \n        this.colorSeleccionado=this.estaPagina.color;\n      })\n    }\n  },\n  mounted(){\n    this.colorSeleccionado=this.estaPagina.color;\n  }\n};\n</script>\n\n<style scoped>\n.pagina {\n  border: 2px solid black;\n  position: relative;\n\n  user-select: none;\n}\n.cursorTexto {\n  cursor: url(\"~../assets/iconos/punteroTexto.png\"), default;\n}\n.cursorImagen {\n  cursor: url(\"~../assets/iconos/punteroImagen.png\"), default;\n}\n.segundoPlano {\n  opacity: 0.3;\n}\n\n.primerPlano {\n  z-index: 500;\n}\n.seleccionada {\n  border-color: purple;\n  z-index: 2;\n}\n\n.zonaControlesPagina {\n  text-align: center;\n  padding: 10px;\n  position: absolute;\n  top: -60px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.bControlesPagina {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n\n  cursor: pointer;\n  display: inline-block;\n  background-color: rgba(189, 111, 189, 0.185);\n}\n.bControlesPagina:hover {\n  background-color: rgba(189, 111, 189, 0.555);\n}\n\n#herramientasEdicion {\n  position: absolute;\n  top: 150px;\n  left: -100px;\n}\n.fantasmaElemento {\n  position: absolute;\n  border: 3px dotted purple;\n  border-radius: 5px;\n  background-color: rgba(128, 0, 128, 0.205);\n  box-sizing: border-box;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagina.vue?vue&type=template&id=aa2cb084&scoped=true&\"\nimport script from \"./Pagina.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagina.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pagina.vue?vue&type=style&index=0&id=aa2cb084&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa2cb084\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"foro\"},[_c('div',{staticClass:\"barraSuperiorForo\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacionSeleccionada === null),expression:\"idConversacionSeleccionada === null\"}],attrs:{\"id\":\"anuncio\"}},[_vm._v(\" Conversaciones \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacionSeleccionada != null),expression:\"idConversacionSeleccionada != null\"}],attrs:{\"id\":\"bRegresarConversaciones\"},on:{\"click\":function($event){_vm.idConversacionSeleccionada = null}}},[_vm._v(\" Volver a conversaciones \")]),_c('div',{attrs:{\"id\":\"controlesForo\"}},[(\n          _vm.usuarioLogeado &&\n          (_vm.esteForo.acceso == 'publico' || _vm.usuarioMiembro == true || _vm.usuarioSuperadministrador) &&\n          _vm.esteForo.id\n        )?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.conversacionAbierta),expression:\"!conversacionAbierta\"}],staticClass:\"controlesForo botonesControles\",attrs:{\"id\":\"bCrearConversacion\"},on:{\"click\":function($event){_vm.creandoConversacion = !_vm.creandoConversacion}}},[_vm._v(\" \"+_vm._s(_vm.creandoConversacion ? \"Cancelar\" : \"Crear conversacin\")+\" \")]):_vm._e()])]),_c('div',{staticClass:\"zonaConversaciones\"},[(\n        _vm.usuarioLogeado &&\n        (_vm.esteForo.acceso == 'publico' || _vm.usuarioMiembro == true || _vm.usuarioSuperadministrador) &&\n        _vm.esteForo.id\n      )?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoConversacion),expression:\"creandoConversacion\"}],attrs:{\"id\":\"zonaCrearConversacion\"}},[_c('center',[_c('h3',[_vm._v(\"Creando conversacin\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tituloNuevaConversacion),expression:\"tituloNuevaConversacion\"}],class:{ letrasRojas: _vm.tituloNuevaConversacionIlegal },attrs:{\"type\":\"text\",\"id\":\"inputTituloNuevaConversacion\",\"placeholder\":\"Titulo de la nueva conversacin\"},domProps:{\"value\":(_vm.tituloNuevaConversacion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tituloNuevaConversacion=$event.target.value}}}),_c('cuadro-responder',{class:{ deshabilitado: _vm.tituloNuevaConversacionIlegal },attrs:{\"idForo\":_vm.esteForo.id,\"parent\":_vm.parent,\"tituloNuevaConversacion\":_vm.tituloNuevaConversacion},on:{\"hiceConversacion\":function($event){return _vm.addConversacion($event)}}})],1):_vm._e(),(_vm.numPaginas && !_vm.conversacionAbierta)?_c('div',{staticClass:\"zonaSelectorPagina\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"selectorPagina\",class:{ selectorSeleccionado: index == _vm.numPaginaSeleccionada },on:{\"click\":function($event){_vm.numPaginaSeleccionada = index}}},[_vm._v(\" \"+_vm._s(index)+\" \")])}),0):_vm._e(),(_vm.numPaginas)?_c('div',{staticClass:\"zonaPaginasConversaciones\"},[_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"paginaConversaciones\"})}),_vm._l((_vm.conversacionesPorPagina[_vm.numPaginaSeleccionada]),function(conversacion){return _c('conversacion',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.idConversacionSeleccionada == conversacion.id ||\n          !_vm.conversacionAbierta\n        ),expression:\"\\n          idConversacionSeleccionada == conversacion.id ||\\n          !conversacionAbierta\\n        \"}],key:conversacion.id,attrs:{\"estaConversacion\":conversacion,\"seleccionado\":_vm.idConversacionSeleccionada == conversacion.id,\"usuarioMiembro\":_vm.usuarioMiembro,\"idForo\":_vm.idForo,\"parent\":_vm.parent},on:{\"meElimine\":_vm.refreshPagina},nativeOn:{\"click\":function($event){_vm.idConversacionSeleccionada = conversacion.id;\n          _vm.setConversacionLeida(\n            conversacion.id,\n            conversacion.cantidadRespuestas\n          );}}})})],2):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"conversacion\",class:{ seleccionado: _vm.seleccionado, deshabilitado: _vm.seleccionado && _vm.loading }},[_c('div',{staticClass:\"tituloConversacion\"},[_c('img',{staticClass:\"imagenConversacion\",attrs:{\"src\":require(\"@/assets/iconos/conversacion.png\"),\"alt\":\"Conversacion\"}}),_vm._v(\" \"+_vm._s(_vm.estaConversacion.titulo)+\" \"),_c('span',{staticClass:\"datosConversacion\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.estaConversacion.cantidadRespuestas >\n          _vm.cantidadRespuestasLeidasUsuario\n        ),expression:\"\\n          estaConversacion.cantidadRespuestas >\\n          cantidadRespuestasLeidasUsuario\\n        \"}],staticClass:\"dato datoRespuestasNoLeidas\",attrs:{\"title\":\"Respuestas nuevas en esta conversacin\"}},[_vm._v(\" \"+_vm._s(_vm.estaConversacion.cantidadRespuestas - _vm.cantidadRespuestasLeidasUsuario)+\" \")]),_c('span',{staticClass:\"dato datoCantidadRespuestas\",attrs:{\"title\":\"Cantidad de respuestas en esta conversacin\"}},[_vm._v(\" \"+_vm._s(_vm.estaConversacion.cantidadRespuestas)+\" \")])])]),(_vm.numPaginas > 0)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"zonaSelectorPaginas\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"selectorPagina\",class:{ selectorSeleccionado: index == _vm.numPaginaSeleccionada },on:{\"click\":function($event){_vm.numPaginaSeleccionada = index}}},[_vm._v(\" \"+_vm._s(index)+\" \")])}),0):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"zonaRespuestas\"},[_c('div',{staticClass:\"zonaPaginas\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.numPaginaSeleccionada == index),expression:\"numPaginaSeleccionada == index\"}],key:'pagina' + index,staticClass:\"pagina\"},_vm._l((_vm.respuestasPorPagina[index]),function(respuesta){return _c('respuesta',{key:respuesta.id,attrs:{\"idConversacion\":_vm.estaConversacion.id,\"estaRespuesta\":respuesta},on:{\"meElimine\":function($event){return _vm.updateRespuestaEliminada(respuesta.id, index)}}})}),1)}),0),(\n        _vm.usuarioLogeado &&\n        (_vm.estaConversacion.acceso == 'publico' || _vm.usuarioMiembro == true) &&\n        _vm.estaConversacion.id\n      )?_c('cuadro-responder',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.numPaginaSeleccionada == _vm.numPaginas),expression:\"numPaginaSeleccionada == numPaginas\"}],ref:\"cuadroResponder\",attrs:{\"parent\":_vm.parent,\"idConversacion\":_vm.estaConversacion.id},on:{\"hiceRespuesta\":function($event){return _vm.addRespuesta($event)}}}):_vm._e()],1),_c('div',{staticClass:\"controlesConversacion\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroResponder\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacion),expression:\"idConversacion\"}],attrs:{\"id\":\"barraSuperior\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/mensaje.png\"),\"alt\":\"Contestar\",\"title\":\"Contestar en esta conversacin\",\"id\":\"imgMensaje\"},on:{\"click\":_vm.toggleCuadroAbierto}}),_c('span',{attrs:{\"id\":\"tituloCuadro\"}},[_vm._v(\"Enva una respuesta\")])]),_c('textarea',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"},{name:\"model\",rawName:\"v-model\",value:(_vm.mensaje),expression:\"mensaje\"}],class:{ letrasRojas: _vm.mensajeIlegal },attrs:{\"name\":\"inputMensaje\",\"id\":\"inputMensaje\",\"placeholder\":\"Escribe aqu tu respuesta\"},domProps:{\"value\":(_vm.mensaje)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.mensaje=$event.target.value}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],attrs:{\"id\":\"adjuntarArchivo\"}},[_c('input',{ref:\"inputArchivoAdjunto\",attrs:{\"type\":\"file\",\"id\":\"inputArchivoAdjunto\"},on:{\"change\":_vm.actualizarNombreDeArchivo}}),_c('img',{attrs:{\"src\":require(\"@/assets/iconos/adjuntar.png\"),\"alt\":\"Ajuntar archivo\",\"id\":\"imgAdjuntar\",\"title\":\"adjuntar un archivo\"},on:{\"click\":_vm.abrirSelectorDeArchivos}}),_c('br'),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nombreArchivoSeleccionado),expression:\"nombreArchivoSeleccionado\"}],attrs:{\"id\":\"nombreArchivoSeleccionado\"}},[_vm._v(\" \"+_vm._s(_vm.nombreArchivoSeleccionado)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],staticClass:\"bloqueAdjuntar\",attrs:{\"id\":\"bloqueAdjuntarEnlace\"}},[_c('div',{attrs:{\"id\":\"zonaIntroducirEnlace\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/hypervinculo.png\"),\"alt\":\"Ajuntar enlace\",\"id\":\"imgAdjuntarEnlace\",\"title\":\"adjuntar un enlace\"},on:{\"click\":function($event){_vm.introduciendoEnlace = true}}}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.introduciendoEnlace === true),expression:\"introduciendoEnlace === true\"},{name:\"model\",rawName:\"v-model\",value:(_vm.enlaceAdjuntable),expression:\"enlaceAdjuntable\"}],staticClass:\"inputAdjuntarEnlace\",attrs:{\"type\":\"text\",\"placeholder\":\"escribe o pega el enlace\"},domProps:{\"value\":(_vm.enlaceAdjuntable)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.enlaceAdjuntable=$event.target.value}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.introduciendoEnlace && !_vm.enlaceAdjuntableIlegal),expression:\"introduciendoEnlace && !enlaceAdjuntableIlegal\"}],attrs:{\"src\":require(\"@/assets/iconos/success.png\"),\"alt\":\"Confirmar\",\"id\":\"bAceptarAdjuntarEnlace\"},on:{\"click\":function($event){$event.stopPropagation();_vm.enlaceAdjunto.push(_vm.enlaceAdjuntable);\n          _vm.enlaceAdjuntable=null;\n          _vm.introduciendoEnlace = false;}}})]),_vm._l((_vm.enlaceAdjunto),function(enlace,index){return _c('div',{key:index,staticClass:\"enlaceAdjuntado\"},[_c('div',{attrs:{\"id\":\"nombreEnlaceAdjuntado\"}},[_c('span',[_vm._v(_vm._s(enlace))])]),_c('div',{attrs:{\"id\":\"bCancelarEnlaceAdjunto\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.enlaceAdjunto.splice(index, 1);}}},[_vm._m(0,true)])])})],2),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto && !_vm.enviandoRespuesta),expression:\"cuadroAbierto && !enviandoRespuesta\"}],class:{ deshabilitado: _vm.mensajeIlegal },attrs:{\"src\":require(\"@/assets/iconos/enviar.png\"),\"alt\":\"Enviar\",\"title\":\"Enviar respuesta\",\"id\":\"bEnviar\"},on:{\"click\":_vm.evaluarAdjunto}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoRespuesta),expression:\"enviandoRespuesta\"}],attrs:{\"texto\":\"Enviando respuesta...\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"linea1\"},[_c('div',{staticClass:\"linea2\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('span',{staticClass:\"textoLoading\"},[_vm._v(_vm._s(_vm.texto))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"loading\">\n    <span class=\"textoLoading\">{{ texto }}</span>\n  </div>\n</template>\n\n<script>\nexport default {\nname:\"Loading\",\nprops:{\n    texto:{\n        type:String,\n        default:\"Cargando...\"\n    }\n}\n}\n</script>\n\n<style scoped>\n.loading {\n  text-align: center;\n  pointer-events: none;\n  user-select: none;\n}\n.textoLoading {\n  text-align: center;\n  font-size: 11px;\n  font-style: italic;\n  border-radius: 10px;\n  border: 2px solid purple;\n  padding: 3px 5px;\n  background-color: rgba(128, 0, 128, 0.192);\n  box-shadow: 2px 2px 2px 2px rgb(190, 190, 190);\n  animation-name: parpadeo;\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n}\n\n@keyframes parpadeo{\n    0% {opacity:0.3}\n    50%{opacity:0.9}\n    100% {opacity:0.3}\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=5ff6e04b&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=5ff6e04b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ff6e04b\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"cuadroResponder\">\n    <div id=\"barraSuperior\" v-show=\"idConversacion\">\n      <img\n        src=\"@/assets/iconos/mensaje.png\"\n        alt=\"Contestar\"\n        title=\"Contestar en esta conversacin\"\n        id=\"imgMensaje\"\n        @click=\"toggleCuadroAbierto\"\n      />\n      <span id=\"tituloCuadro\">Enva una respuesta</span>\n    </div>\n\n    <textarea\n      v-show=\"cuadroAbierto\"\n      name=\"inputMensaje\"\n      id=\"inputMensaje\"\n      :class=\"{ letrasRojas: mensajeIlegal }\"\n      v-model=\"mensaje\"\n      placeholder=\"Escribe aqu tu respuesta\"\n    ></textarea>\n\n    <!--  -->\n    <div id=\"adjuntarArchivo\" v-show=\"cuadroAbierto\">\n      <input\n        type=\"file\"\n        id=\"inputArchivoAdjunto\"\n        ref=\"inputArchivoAdjunto\"\n        @change=\"actualizarNombreDeArchivo\"\n      />\n      <img\n        src=\"@/assets/iconos/adjuntar.png\"\n        alt=\"Ajuntar archivo\"\n        id=\"imgAdjuntar\"\n        title=\"adjuntar un archivo\"\n        @click=\"abrirSelectorDeArchivos\"\n      />\n      <br />\n      <div id=\"nombreArchivoSeleccionado\" v-show=\"nombreArchivoSeleccionado\">\n        {{ nombreArchivoSeleccionado }}\n      </div>\n    </div>\n    <!--  -->\n    <div\n      id=\"bloqueAdjuntarEnlace\"\n      class=\"bloqueAdjuntar\"\n      v-show=\"cuadroAbierto\"\n    >\n      <div id=\"zonaIntroducirEnlace\">\n        <img\n          src=\"@/assets/iconos/hypervinculo.png\"\n          alt=\"Ajuntar enlace\"\n          id=\"imgAdjuntarEnlace\"\n          title=\"adjuntar un enlace\"\n          @click=\"introduciendoEnlace = true\"\n        />\n        <input\n          type=\"text\"\n          v-show=\"introduciendoEnlace === true\"\n          class=\"inputAdjuntarEnlace\"\n          placeholder=\"escribe o pega el enlace\"\n          v-model=\"enlaceAdjuntable\"\n        />\n        <img\n          src=\"@/assets/iconos/success.png\"\n          alt=\"Confirmar\"\n          id=\"bAceptarAdjuntarEnlace\"\n          v-show=\"introduciendoEnlace && !enlaceAdjuntableIlegal\"\n          @click.stop=\"\n            enlaceAdjunto.push(enlaceAdjuntable);\n            enlaceAdjuntable=null;\n            introduciendoEnlace = false;\n          \"\n        />\n      </div>\n      <div class=\"enlaceAdjuntado\" v-for=\"(enlace, index) of enlaceAdjunto\" :key=\"index\">\n        <div\n          id=\"nombreEnlaceAdjuntado\"          \n        >\n          <span>{{ enlace }}</span>\n        </div>\n        <div\n          id=\"bCancelarEnlaceAdjunto\"          \n          @click.stop=\"\n            enlaceAdjunto.splice(index, 1);            \n          \"\n        >\n          <div class=\"linea1\"><div class=\"linea2\"></div></div>\n        </div>\n      </div>\n    </div>\n\n    <!--  -->\n\n    <img\n      v-show=\"cuadroAbierto && !enviandoRespuesta\"\n      :class=\"{ deshabilitado: mensajeIlegal }\"\n      src=\"@/assets/iconos/enviar.png\"\n      alt=\"Enviar\"\n      title=\"Enviar respuesta\"\n      id=\"bEnviar\"\n      @click=\"evaluarAdjunto\"\n    />\n\n    <loading texto=\"Enviando respuesta...\" v-show=\"enviandoRespuesta\" />\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport {fragmentoConversacion} from \"../Foro.vue\"\nimport {fragmentoRespuesta} from \"./Conversacion.vue\"\nimport axios from \"axios\";\n\n\n\nvar charProhibidosMensaje = /[^\\n\\r a-zA-Z-0-9_()\":;.,+!?@=-]/;\n\nexport default {\n  components: { Loading },\n  name: \"CuadroResponder\",\n  props: {\n    tituloNuevaConversacion: String,\n    idConversacion: String,\n    idForo: String,\n    parent: Object,\n  },\n  data() {\n    return {\n      mensaje: null,\n      cuadroAbierto: false,\n      enviandoRespuesta: false,\n      nombreArchivoSeleccionado: null,\n\n      introduciendoEnlace: false,\n      enlaceAdjuntable: null,\n      enlaceAdjunto: [],\n    };\n  },\n  methods: {\n    evaluarAdjunto() {\n      if (this.mensajeIlegal) {\n        return;\n      }\n      this.enviandoRespuesta = true;\n      let inputArchivoAdjunto = this.$refs.inputArchivoAdjunto;\n      var datos = new FormData();\n\n      if (!inputArchivoAdjunto.value) {\n        console.log(`El input de archivo adjunto estaba vacio`);\n        let nuevaRespuesta = {\n          infoArchivo: null,\n          mensaje: this.mensaje,\n        };\n        if (this.enlaceAdjunto && this.enlaceAdjunto.length>0) {\n          nuevaRespuesta.enlaceAdjunto = this.enlaceAdjunto;\n        }\n        if (!this.idConversacion) {\n          this.crearConversacionConRespuesta(nuevaRespuesta);\n        } else {\n          this.enviarNuevaRespuesta(nuevaRespuesta);\n        }\n      } else {\n        const archivoAdjunto = inputArchivoAdjunto.files[0];\n        const fileType = archivoAdjunto[\"type\"];\n        console.log(`subiendo un ${fileType}`);\n        datos.append(\"archivoAdjunto\", archivoAdjunto);\n        var dis = this;\n        axios({\n          method: \"post\",\n          url: this.serverUrl + \"/api/foros/adjuntarArchivoParaRespuesta\",\n          data: datos,\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: \"Bearer \" + this.$store.state.token,\n          },\n        })\n          .then(({ data: { infoArchivo } }) => {\n            //Se ha subido el archivo. Ahora publicar la respuesta\n\n            //Creando la nueva participacion\n\n            let nuevaRespuesta = {\n              infoArchivo: {\n                idGoogleDrive: infoArchivo.idGoogleDrive,\n                googleDriveDirectLink: infoArchivo.googleDriveDirectLink,\n                extension: infoArchivo.extensionDeArchivo,\n                nombre: infoArchivo.extensionDeArchivo,\n              },\n              mensaje: dis.mensaje,\n            };\n            if (this.enlaceAdjunto && this.enlaceAdjunto.length>0) {\n              nuevaRespuesta.enlaceAdjunto = this.enlaceAdjunto;\n            }\n            if (!this.idConversacion) {\n              this.crearConversacionConRespuesta(nuevaRespuesta);\n            } else {\n              this.enviarNuevaRespuesta(nuevaRespuesta);\n            }\n          })\n          .catch((error) => {\n            this.enviandoRespuesta = false;\n            console.log(`Errores: ${error}`);\n            if (error.response) {\n              if (error.response.data.msjUsuario) {\n                alert(error.response.data.msjUsuario);\n              }\n            }\n          });\n      }\n    },\n    crearConversacionConRespuesta(nuevaRespuesta) {\n      if (!this.tituloNuevaConversacion) {\n        return;\n      }\n      var input = {\n        titulo: this.tituloNuevaConversacion,\n        primeraRespuesta: nuevaRespuesta,\n      };\n      this.enviandoRespuesta = true;\n      var dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idForo: ID!\n              $input: InputIniciarConversacion\n              $parent: InputParent\n            ) {\n              iniciarConversacionConPrimerMensajeForo(\n                idForo: $idForo\n                input: $input\n                parent: $parent\n              ) {\n                ...fragConversacion\n              }\n            }\n            ${fragmentoConversacion}\n          `,\n          variables: {\n            idForo: dis.idForo,\n            input,\n            parent: dis.parent,\n          },\n        })\n        .then(({ data: { iniciarConversacionConPrimerMensajeForo } }) => {\n          dis.enviandoRespuesta = false;\n          dis.$emit(\n            \"hiceConversacion\",\n            iniciarConversacionConPrimerMensajeForo\n          );\n          this.reset();\n        })\n        .catch((error) => {\n          dis.enviandoRespuesta = false;\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    enviarNuevaRespuesta(nuevaRespuesta) {\n      if (this.mensajeIlegal) {\n        return;\n      }\n      console.log(`Enviando respuesta`);\n\n      var dis = this;\n      this.enviandoRespuesta = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idConversacion: ID!\n              $nuevaRespuesta: InputNuevaRespuesta\n              $parent: InputParent\n            ) {\n              postRespuestaConversacion(\n                idConversacion: $idConversacion\n                nuevaRespuesta: $nuevaRespuesta\n                parent: $parent\n              ) {\n                ...fragRespuesta\n              }\n            }\n            ${fragmentoRespuesta}\n          `,\n          variables: {\n            idConversacion: dis.idConversacion,\n            nuevaRespuesta,\n            parent: dis.parent,\n          },\n        })\n        .then(({ data: { postRespuestaConversacion } }) => {\n          dis.enviandoRespuesta = false;\n          this.$emit(\"hiceRespuesta\", postRespuestaConversacion);         \n          this.cerrarse();\n        })\n        .catch((error) => {\n          dis.enviandoRespuesta = false;\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    toggleCuadroAbierto() {\n      this.cuadroAbierto = !this.cuadroAbierto;\n    },\n    cerrarse() {\n      this.reset();\n      this.cuadroAbierto = false;\n    },\n    actualizarNombreDeArchivo() {\n      if (!this.$refs.inputArchivoAdjunto.value) {\n        console.log(`Nullificando el nombre de archivo seleccionado`);\n        this.nombreArchivoSeleccionado = null;\n        return;\n      }\n      this.nombreArchivoSeleccionado = this.$refs.inputArchivoAdjunto.files[0].name;\n    },\n    abrirSelectorDeArchivos() {\n      this.$refs.inputArchivoAdjunto.click();\n    },\n    reset() {\n      this.nombreArchivoSeleccionado = null;\n      this.$refs.inputArchivoAdjunto.value = null;\n      this.mensaje = null;\n      (this.enlaceAdjuntable = null), (this.enlaceAdjunto = []);\n    },\n  },\n  computed: {\n    mensajeIlegal() {\n      if (!this.mensaje || this.mensaje.length < 1) {\n        return true;\n      }\n      if (charProhibidosMensaje.test(this.mensaje)) {\n        return true;\n      }\n      return false;\n    },\n    enlaceAdjuntableIlegal() {\n      if (!this.enlaceAdjuntable) return true;\n      if (this.enlaceAdjuntable.substr(0, 8) != \"https://\") {\n        console.log(\n          `El inicio ${this.enlaceAdjuntable.substr(0, 8)} difiere del esperado`\n        );\n        return true;\n      }\n\n      if (this.enlaceAdjuntable.length < 7) {\n        return true;\n      }\n      return false;\n    },\n  },\n  mounted() {\n    console.log(`Revisando si hay idConversacion`);\n    if (!this.idConversacion) {\n      this.cuadroAbierto = true;\n    }\n  },\n};\n</script>\n\n<style scoped>\n.cuadroResponder {\n  border: 2px solid rgb(3, 49, 87);\n  background-color: rgb(194, 213, 238);\n  margin: 5px;\n  border-radius: 10px;\n}\n#barraSuperior {\n  display: flex;\n  align-items: center;\n}\n#imgMensaje {\n  margin: 5px;\n  cursor: pointer;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  background-color: green;\n}\n#bEnviar {\n  display: block;\n  margin: 5px auto;\n  cursor: pointer;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  background-color: green;\n}\n#bEnviar:hover {\n  background-color: rgb(84, 224, 103);\n}\n#inputMensaje {\n  width: 80%;\n  display: block;\n  margin: 5px auto;\n  min-height: 200px;\n  font-size: 20px;\n}\n#inputArchivoAdjunto {\n  display: none;\n}\n#imgAdjuntar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: #ecd1d1;\n}\n#imgAdjuntar:hover {\n  background-color: #55b95c;\n}\n#nombreArchivoSeleccionado {\n  background-color: #55b95c;\n  padding: 3px;\n  border-radius: 10px;\n  display: inline-block;\n}\n/* .bloqueAdjuntar {\n  \n} */\n#zonaIntroducirEnlace {\n  display: flex;\n  align-items: center;\n}\n#imgAdjuntarEnlace {\n  border-radius: 50%;\n  padding: 3px;\n  background-color: rgb(156, 214, 216);\n  width: 45px;\n  height: 45px;\n  cursor: pointer;\n}\n#imgAdjuntarEnlace:hover {\n  background-color: cadetblue;\n}\n.inputAdjuntarEnlace {\n  margin-left: 20px;\n  width: 350px;\n  padding: 3px 5px;\n  border-radius: 10px;\n}\n.enlaceAdjuntado{\n  display: flex;\n  align-items: center;\n  margin: 3px;\n}\n#nombreEnlaceAdjuntado {\n  width: 400px;\n  margin-left: 20px;\n  border-radius: 15px;\n  background-color: rgba(129, 66, 129, 0.349);\n  padding: 5px;  \n}\n#nombreEnlaceAdjuntado:hover {\n  background-color: rgba(129, 66, 129, 0.733);\n}\n#nombreEnlaceAdjuntado > span {\n  font-style: italic;\n  font-size: 14px;\n  word-wrap: break-word;\n\n  padding: 3px 5px;\n}\n#bCancelarEnlaceAdjunto {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background-color: rgb(219, 74, 74);\n  cursor: pointer;\n  border-radius: 50%;\n  position: relative;\n  margin-left: 10px;\n}\n#bCancelarEnlaceAdjunto:hover {\n  background-color: red;\n}\n#bCancelarEnlaceAdjunto > .linea1 {\n  width: 90%;\n  height: 2px;\n  border-radius: 1px;\n  position: absolute;\n  top: 48%;\n  left: 5%;\n  background-color: black;\n  transform: rotate(45deg);\n}\n#bCancelarEnlaceAdjunto > .linea1 > .linea2 {\n  background-color: black;\n  width: 100%;\n  height: 2px;\n  border-radius: 1px;\n  transform: rotate(90deg);\n}\n#bAceptarAdjuntarEnlace {\n  margin-left: 10px;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  background-color: rgb(138, 192, 194);\n  cursor: pointer;\n}\n#bAceptarAdjuntarEnlace:hover {\n  background-color: cadetblue;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroResponder.vue?vue&type=template&id=10aff977&scoped=true&\"\nimport script from \"./CuadroResponder.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroResponder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroResponder.vue?vue&type=style&index=0&id=10aff977&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10aff977\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"respuesta\"},[_c('div',{staticClass:\"infoRespuesta\"},[_vm._v(_vm._s(_vm.fechaFormateada))]),_c('img',{staticClass:\"caritaAutor\",attrs:{\"src\":this.serverUrl + '/api/usuarios/fotografias/' + _vm.estaRespuesta.infoAutor.id,\"alt\":_vm.estaRespuesta.infoAutor.nombre}}),_c('div',{staticClass:\"mensajeRespuesta\"},[_vm._v(\" \"+_vm._s(_vm.estaRespuesta.mensaje)+\" \")]),(_vm.estaRespuesta.archivo && _vm.estaRespuesta.archivo.googleDriveDirectLink)?_c('div',{attrs:{\"id\":\"archivo\"}},[_c('a',{attrs:{\"href\":_vm.estaRespuesta.archivo.googleDriveDirectLink}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/downloadFile.png\"),\"alt\":\"Descargar archivo\",\"id\":\"imgDownloadArchivo\"}})])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n      _vm.estaRespuesta.enlaceAdjunto &&\n      _vm.estaRespuesta.enlaceAdjunto.length > 0\n    ),expression:\"\\n      estaRespuesta.enlaceAdjunto &&\\n      estaRespuesta.enlaceAdjunto.length > 0\\n    \"}],staticClass:\"enlacesAdjuntos\"},_vm._l((_vm.estaRespuesta.enlaceAdjunto),function(enlace,index){return _c('a',{key:index,attrs:{\"target\":\"_blank\",\"href\":enlace}},[_c('div',{staticClass:\"enlaceAdjunto\"},[_vm._v(\" \"+_vm._s(enlace)+\" \")])])}),0),_c('div',{staticClass:\"controles\"},[(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"controlRespuesta\",attrs:{\"id\":\"bEliminar\"},on:{\"click\":_vm.eliminarse}},[_vm._v(\" Eliminar \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"respuesta\">\n    <div class=\"infoRespuesta\">{{ fechaFormateada }}</div>\n    <img\n      :src=\"\n        this.serverUrl + '/api/usuarios/fotografias/' + estaRespuesta.infoAutor.id\n      \"\n      :alt=\"estaRespuesta.infoAutor.nombre\"\n      class=\"caritaAutor\"\n    />\n    <div class=\"mensajeRespuesta\">\n      {{ estaRespuesta.mensaje }}\n    </div>\n    <div id=\"archivo\" v-if=\"estaRespuesta.archivo && estaRespuesta.archivo.googleDriveDirectLink\">\n      <a :href=\"estaRespuesta.archivo.googleDriveDirectLink\">\n        <img\n          src=\"@/assets/iconos/downloadFile.png\"\n          alt=\"Descargar archivo\"\n          id=\"imgDownloadArchivo\"\n        />\n      </a>\n    </div>\n\n    <div\n      class=\"enlacesAdjuntos\"\n      v-show=\"\n        estaRespuesta.enlaceAdjunto &&\n        estaRespuesta.enlaceAdjunto.length > 0\n      \"\n    >\n      <a\n        target=\"_blank\"\n        :href=\"enlace\"\n        :key=\"index\"\n        v-for=\"(enlace, index) of estaRespuesta.enlaceAdjunto\"\n      >\n        <div\n          class=\"enlaceAdjunto\"          \n        >\n          {{ enlace }}\n        </div>\n      </a>\n    </div>\n\n    <div class=\"controles\">\n      <div\n        class=\"controlRespuesta\"\n        id=\"bEliminar\"\n        v-if=\"usuarioSuperadministrador\"\n        @click=\"eliminarse\"\n      >\n        Eliminar\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nexport default {\n  name: \"Respuesta\",\n  props: {\n    estaRespuesta: {\n      type: Object,\n    },\n    idConversacion:String\n  },\n  computed: {\n    fechaFormateada: function () {\n      let laFecha = new Date(this.estaRespuesta.fecha).toString();\n      let indexParentesis = laFecha.indexOf(\"(\");\n      let fechaCorta = laFecha.substr(0, indexParentesis);\n      let indexGMT = fechaCorta.indexOf(\"GMT\");\n      if (indexGMT > -1) {\n        fechaCorta = fechaCorta.substr(0, indexGMT);\n      }\n      return fechaCorta;\n    },\n    usuarioAutor: function () {\n      if (this.usuario.id == this.estaRespuesta.infoAutor.id) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    eliminarse() {\n      let dis = this;\n      if (!confirm(\"Eliminando respuesta Continuar?\")) {\n        return;\n      }\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation($idRespuesta: ID!, $idConversacion:ID!) {\n            eliminarRespuesta(idRespuesta: $idRespuesta, idConversacion:$idConversacion)\n          }\n        `,\n        variables: {\n          idRespuesta: this.estaRespuesta.id,\n          idConversacion:this.idConversacion\n        },\n        update(store, { data: { eliminarRespuesta } }) {\n          if (eliminarRespuesta) {\n            console.log(`Respuesta eliminada`);\n            dis.$emit(\"meElimine\");\n          }\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.respuesta {\n  background-color: rgb(168, 213, 234);\n  border: 2px solid rgb(16, 89, 122);\n  border-radius: 5px;\n  display: grid;\n  grid-template-areas:\n    \"info info info\"\n    \"autor mensaje adjunto\"\n    \"... enlaceAdjunto enlaceAdjunto\"\n    \"controles controles controles\";\n  grid-template-columns: 100px 1fr 60px;\n  grid-template-rows: 50px 1fr min-content 15px;\n  row-gap: 10px;\n  align-items: center;\n  justify-items: center;\n  padding: 10px;\n}\n.infoRespuesta {\n  font-size: 10px;\n  margin: 5px 5px;\n  color: gray;\n  grid-area: info;\n  width: 100%;\n}\n.mensajeRespuesta {\n  padding: 5px 10px;\n  grid-area: mensaje;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  white-space: pre-wrap;\n}\n.caritaAutor {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  grid-area: autor;\n}\n.controles {\n  grid-area: controles;\n  width: 100%;\n  display: flex;\n  flex-flow: row-reverse;\n  font-size: 13px;\n}\n.controlRespuesta {\n  padding: 3px;\n  cursor: pointer;\n}\n.controlRespuesta:hover {\n  background-color: red;\n}\n#archivo{\n  padding: 5px;\n}\n\n#imgDownloadArchivo {\n  grid-area: adjunto;\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  background-color: #4bb36b;\n}\n\n.enlacesAdjuntos{\n  grid-area: enlaceAdjunto;\n  justify-self: left;\n}\n.enlaceAdjunto {\n  font-style: italic;\n  font-size: 14px;\n  word-wrap: break-word;\n  border-radius: 15px;\n  background-color: rgba(129, 66, 129, 0.349);\n  padding: 3px 5px;\n  cursor: pointer;\n  max-width: 600px;\n  margin:3px;\n}\n.enlaceAdjunto:hover{\n  background-color: rgba(129, 66, 129, 0.733);\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Respuesta.vue?vue&type=template&id=6ca7979c&scoped=true&\"\nimport script from \"./Respuesta.vue?vue&type=script&lang=js&\"\nexport * from \"./Respuesta.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Respuesta.vue?vue&type=style&index=0&id=6ca7979c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ca7979c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"conversacion\"\n    :class=\"{ seleccionado, deshabilitado: seleccionado && loading }\"\n  >\n    <div class=\"tituloConversacion\">\n      <img\n        src=\"@/assets/iconos/conversacion.png\"\n        alt=\"Conversacion\"\n        class=\"imagenConversacion\"\n      />\n      {{ estaConversacion.titulo }}\n      <span class=\"datosConversacion\">\n        <span\n          class=\"dato datoRespuestasNoLeidas\"\n          title=\"Respuestas nuevas en esta conversacin\"\n          v-show=\"\n            estaConversacion.cantidadRespuestas >\n            cantidadRespuestasLeidasUsuario\n          \"\n        >\n          {{\n            estaConversacion.cantidadRespuestas -\n            cantidadRespuestasLeidasUsuario\n          }}\n        </span>\n        <span\n          class=\"dato datoCantidadRespuestas\"\n          title=\"Cantidad de respuestas en esta conversacin\"\n        >\n          {{ estaConversacion.cantidadRespuestas }}\n        </span>\n      </span>\n    </div>\n\n    <div\n      class=\"zonaSelectorPaginas\"\n      v-if=\"numPaginas > 0\"\n      v-show=\"seleccionado\"\n    >\n      <div\n        class=\"selectorPagina\"\n        :class=\"{ selectorSeleccionado: index == numPaginaSeleccionada }\"\n        v-for=\"index in numPaginas\"\n        :key=\"index\"\n        @click=\"numPaginaSeleccionada = index\"\n      >\n        {{ index }}\n      </div>\n    </div>\n    <div class=\"zonaRespuestas\" v-show=\"seleccionado\">\n      <div class=\"zonaPaginas\">\n        <div\n          class=\"pagina\"\n          v-for=\"index in numPaginas\"\n          :key=\"'pagina' + index\"\n          v-show=\"numPaginaSeleccionada == index\"\n        >\n          <respuesta\n            v-for=\"respuesta of respuestasPorPagina[index]\"\n            :key=\"respuesta.id\"\n            :idConversacion=\"estaConversacion.id\"\n            :estaRespuesta=\"respuesta\"\n            @meElimine=\"updateRespuestaEliminada(respuesta.id, index)\"\n          />\n        </div>\n      </div>\n      <cuadro-responder\n        ref=\"cuadroResponder\"\n        :parent=\"parent\"\n        v-if=\"\n          usuarioLogeado &&\n          (estaConversacion.acceso == 'publico' || usuarioMiembro == true) &&\n          estaConversacion.id\n        \"\n        v-show=\"numPaginaSeleccionada == numPaginas\"\n        :idConversacion=\"estaConversacion.id\"\n        @hiceRespuesta=\"addRespuesta($event)\"\n      />\n    </div>\n\n    <div class=\"controlesConversacion\">\n      <!-- <div class=\"bEliminarConversacion\">Eliminar</div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport CuadroResponder from \"./CuadroResponder.vue\";\nimport Respuesta from \"./Respuesta.vue\";\n\nexport const fragmentoRespuesta = gql`\n  fragment fragRespuesta on RespuestaConversacionForo{\n    id\n    fecha\n    mensaje\n    enlaceAdjunto\n    infoAutor{\n      id\n      nombres\n      apellidos\n      username\n    }\n    archivo{\n      googleDriveDirectLink\n    }\n  }\n`;\n\nconst QUERY_RESPUESTAS = gql`\n  query($idConversacion: ID!, $pagina: Int!) {\n    respuestasPaginaDeConversacion(\n      idConversacion: $idConversacion\n      pagina: $pagina\n    ) {\n      pagina\n      numPaginas\n      respuestas {\n        ...fragRespuesta\n      }\n    }\n  }\n  ${fragmentoRespuesta}\n`;\n\nexport default {\n  components: { Respuesta, CuadroResponder },\n  name: \"Conversacion\",\n  apollo: {\n    numPaginas: {\n      query: QUERY_RESPUESTAS,\n      variables() {\n        return {\n          idConversacion: this.estaConversacion.id,\n          pagina: this.numPaginaSeleccionada,\n        };\n      },\n      update({\n        respuestasPaginaDeConversacion: { pagina, numPaginas, respuestas },\n      }) {\n        console.log(\n          `Llenando con ${respuestas.length} respuestas la pagina ${pagina} de ${numPaginas}`\n        );\n        this.$set(this.respuestasPorPagina, pagina, respuestas);\n        if (this.numPaginaSeleccionada != pagina) {\n          this.numPaginaSeleccionada = pagina;\n        }\n        this.loading = false;\n        return numPaginas;\n      },\n      skip() {\n        return !this.seleccionado;\n      },\n      fetchPolicy: \"no-cache\",\n    },\n  },\n  data() {\n    return {\n      numPaginas: 0,\n      numPaginaSeleccionada: 0,\n      respuestasPorPagina: {},\n      loading: true,\n    };\n  },\n  props: {\n    estaConversacion: {\n      type: Object,\n      default() {\n        return {\n          respuestas: [],\n        };\n      },\n    },\n    idForo: String,\n    parent: Object,\n    seleccionado: Boolean,\n    usuarioMiembro: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    addRespuesta(nuevaRespuesta) {\n      var targetPagina = this.numPaginas;\n      if (\n        this.respuestasPorPagina[targetPagina].length >= 5 ||\n        targetPagina < 1\n      ) {\n        targetPagina++;\n        if (!this.respuestasPorPagina[targetPagina]) {\n          this.$set(this.respuestasPorPagina, targetPagina, []);\n        }\n      }\n      console.log(`Pushing en targetPagina ${targetPagina}`);\n      this.respuestasPorPagina[targetPagina].push(nuevaRespuesta);\n      this.$refs.cuadroResponder.cerrarse();\n      if (this.numPaginaSeleccionada != targetPagina) {\n        this.numPaginaSeleccionada = targetPagina;\n      }\n    },\n    updateRespuestaEliminada(idRespuesta, pagina) {\n      console.log(`Respuesta ${idRespuesta} eliminada de la pagina ${pagina}`);\n      if (this.numPaginas == 1 && this.respuestasPorPagina[1].length < 2) {\n        console.log(`Era la ultima respuesta`);\n        this.$emit(\"meElimine\");\n      } else {\n        console.log(`Refreshing respuestas pagina`);\n        this.$apollo.queries.numPaginas.refresh();\n      }\n    },\n  },\n  computed: {\n    cantidadRespuestasLeidasUsuario() {\n      if (this.usuario && this.usuario.foros) {\n        const infoForo = this.usuario.foros.find(\n          (f) => f.idForo == this.idForo\n        );\n        if (!infoForo) {\n          return 0;\n        }\n        const infoConversacion = infoForo.conversaciones.find(\n          (c) => c.idConversacion == this.estaConversacion.id\n        );\n        if (!infoConversacion) {\n          return 0;\n        }\n        return infoConversacion.respuestasLeidas;\n      } else {\n        return 0;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.conversacion {\n  background-color: #91bfec;\n  border: 1px solid #023004;\n  padding: 0px 0px;\n}\n.conversacion:hover {\n  background-color: #aec6de;\n}\n.seleccionado {\n  background-color: #aec6de;\n}\n.respuesta {\n  margin: 5px;\n}\n.conversacion:not(.seleccionado) {\n  cursor: pointer;\n}\n.tituloConversacion {\n  padding: 15px 10px;\n  margin: 5px;\n  font-weight: bold;\n  display: grid;\n  align-items: center;\n  grid-template-columns: 100px 1fr 200px;\n}\n.imagenConversacion {\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n}\n.datosConversacion {\n  padding: 10px 10px;\n}\n.dato {\n  margin: 0px 4px;\n  cursor: pointer;\n}\n\n.datoRespuestasNoLeidas {\n  border-radius: 10px;\n  border: 1px solid chocolate;\n  padding: 6px;\n  text-align: center;\n  background-color: rgb(243, 206, 180);\n}\n\n.datoCantidadRespuestas {\n  border-radius: 10px;\n  border: 1px solid rgb(75, 73, 73);\n  padding: 6px;\n  text-align: center;\n}\n.zonaRespuestas {\n  padding-left: 0px;\n}\n.controlesConversacion {\n  display: flex;\n  flex-flow: row-reverse;\n}\n.bEliminarConversacion {\n  padding: 3px;\n}\n.bEliminarConversacion:hover {\n  padding: 3px;\n  background-color: red;\n  cursor: pointer;\n}\n.zonaSelectorPaginas {\n  display: flex;\n  padding: 2px 10px;\n}\n.selectorPagina {\n  border: 1px solid black;\n  padding: 3px 5px;\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: #aec6de;\n}\n\n.selectorPagina:hover {\n  background-color: #cddbe9;\n}\n.selectorSeleccionado {\n  background-color: #cddbe9;\n  pointer-events: none;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Conversacion.vue?vue&type=template&id=4390369d&scoped=true&\"\nimport script from \"./Conversacion.vue?vue&type=script&lang=js&\"\nexport * from \"./Conversacion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Conversacion.vue?vue&type=style&index=0&id=4390369d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4390369d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"foro\">\n    <div class=\"barraSuperiorForo\">\n      <div id=\"anuncio\" v-show=\"idConversacionSeleccionada === null\">\n        Conversaciones\n      </div>\n      <div\n        id=\"bRegresarConversaciones\"\n        v-show=\"idConversacionSeleccionada != null\"\n        @click=\"idConversacionSeleccionada = null\"\n      >\n        Volver a conversaciones\n      </div>\n      <div id=\"controlesForo\">\n        <div\n          class=\"controlesForo botonesControles\"\n          id=\"bCrearConversacion\"\n          v-if=\"\n            usuarioLogeado &&\n            (esteForo.acceso == 'publico' || usuarioMiembro == true || usuarioSuperadministrador) &&\n            esteForo.id\n          \"\n          v-show=\"!conversacionAbierta\"\n          @click=\"creandoConversacion = !creandoConversacion\"\n        >\n          {{ creandoConversacion ? \"Cancelar\" : \"Crear conversacin\" }}\n        </div>\n      </div>\n    </div>\n    <div class=\"zonaConversaciones\">\n      <!-- <creador-conversacion\n        v-if=\"\n          usuarioLogeado &&\n          (esteForo.acceso == 'publico' || usuarioMiembro == true) &&\n          esteForo.id\n        \"\n        :idForo=\"esteForo.id\"\n        :parent=\"parent\"\n        v-show=\"creandoConversacion\"\n        @hiceConversacion=\"addConversacion($event)\"\n      /> -->\n      <div\n        id=\"zonaCrearConversacion\"\n        v-if=\"\n          usuarioLogeado &&\n          (esteForo.acceso == 'publico' || usuarioMiembro == true || usuarioSuperadministrador) &&\n          esteForo.id\n        \"\n        v-show=\"creandoConversacion\"\n      >\n        <center><h3>Creando conversacin</h3></center>\n        <input\n          type=\"text\"\n          v-model=\"tituloNuevaConversacion\"\n          id=\"inputTituloNuevaConversacion\"\n          placeholder=\"Titulo de la nueva conversacin\"\n          :class=\"{ letrasRojas: tituloNuevaConversacionIlegal }\"\n        />\n        <cuadro-responder\n          :idForo=\"esteForo.id\"\n          :parent=\"parent\"\n          :tituloNuevaConversacion=\"tituloNuevaConversacion\"\n          :class=\"{ deshabilitado: tituloNuevaConversacionIlegal }\"\n          @hiceConversacion=\"addConversacion($event)\"\n        />\n      </div>\n\n      <div class=\"zonaSelectorPagina\" v-if=\"numPaginas && !conversacionAbierta\">\n        <div\n          class=\"selectorPagina\"\n          v-for=\"index in numPaginas\"\n          :key=\"index\"\n          :class=\"{ selectorSeleccionado: index == numPaginaSeleccionada }\"\n          @click=\"numPaginaSeleccionada = index\"\n        >\n          {{ index }}\n        </div>\n      </div>\n      <div class=\"zonaPaginasConversaciones\" v-if=\"numPaginas\">\n        <div\n          class=\"paginaConversaciones\"\n          :key=\"index\"\n          v-for=\"index in numPaginas\"\n        ></div>\n        <conversacion\n          v-for=\"conversacion of conversacionesPorPagina[numPaginaSeleccionada]\"\n          :key=\"conversacion.id\"\n          :estaConversacion=\"conversacion\"\n          :seleccionado=\"idConversacionSeleccionada == conversacion.id\"\n          :usuarioMiembro=\"usuarioMiembro\"\n          :idForo=\"idForo\"\n          :parent=\"parent\"\n          v-show=\"\n            idConversacionSeleccionada == conversacion.id ||\n            !conversacionAbierta\n          \"\n          @click.native=\"\n            idConversacionSeleccionada = conversacion.id;\n            setConversacionLeida(\n              conversacion.id,\n              conversacion.cantidadRespuestas\n            );\n          \"\n          @meElimine=\"refreshPagina\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Conversacion from \"./foros/Conversacion.vue\";\nimport CuadroResponder from \"./foros/CuadroResponder.vue\";\n\nconst charProhibidosTituloNuevaConversacion = /[^ a-zA-Z-0-9_():.,-!?]/;\n\nexport const fragmentoConversacion = gql`\n  fragment fragConversacion on Conversacion {\n    id\n    titulo\n    estado\n    acceso\n    cantidadRespuestas\n  }\n`;\n\nconst QUERY_FORO = gql`\n  query($idForo: ID!) {\n    foro(idForo: $idForo) {\n      id\n      acceso\n      miembros\n    }\n  }\n`;\n\nconst QUERY_CONVERSACIONES_PAGINA = gql`\n  query($idForo: ID!, $pagina: Int!) {\n    conversacionesPaginaForo(idForo: $idForo, pagina: $pagina) {\n      pagina\n      numPaginas\n      conversaciones {\n        ...fragConversacion\n      }\n    }\n  }\n  ${fragmentoConversacion}\n`;\n\nexport default {\n  components: { Conversacion, CuadroResponder },\n  name: \"Foro\",\n  apollo: {\n    esteForo: {\n      query: QUERY_FORO,\n      variables() {\n        return {\n          idForo: this.idForo,\n        };\n      },\n      fetchPolicy: \"cache-and-network\",\n      update: (data) => {\n        return data.foro;\n      },\n      skip() {\n        return !this.idForo;\n      },\n    },\n    numPaginas: {\n      query: QUERY_CONVERSACIONES_PAGINA,\n      variables() {\n        return {\n          idForo: this.idForo,\n          pagina: this.numPaginaSeleccionada,\n        };\n      },\n      fetchPolicy: \"no-cache\",\n      skip() {\n        return !this.idForo;\n      },\n      update({\n        conversacionesPaginaForo: { conversaciones, pagina, numPaginas },\n      }) {\n        if (this.numPaginaSeleccionada != pagina) {\n          this.numPaginaSeleccionada = pagina;\n        }\n        this.$set(this.conversacionesPorPagina, pagina, conversaciones);\n        return numPaginas;\n      },\n    },\n  },\n  props: {\n    idForo: String,\n    parent: Object,\n  },\n  data() {\n    return {\n      esteForo: {\n        miembros: [],\n        conversaciones: [],\n      },\n      idConversacionSeleccionada: null,\n      creandoConversacion: false,\n      numPaginaSeleccionada: 0,\n      conversacionesPorPagina: {},\n\n      tituloNuevaConversacion: null,\n    };\n  },\n  methods: {\n    addConversacion(nuevaConversacion) {\n      this.creandoConversacion = false;\n      var targetPagina = this.numPaginas;\n      console.log(`Target pgina: ${targetPagina}`);\n      if (\n        this.conversacionesPorPagina[targetPagina].length >= 6 ||\n        targetPagina < 1\n      ) {\n        targetPagina++;\n        if (!this.conversacionesPorPagina[targetPagina]) {\n          this.$set(this.conversacionesPorPagina, targetPagina, []);\n        }\n      }\n      console.log(`Pushing en targetPagina ${targetPagina}`);\n      this.conversacionesPorPagina[targetPagina].push(nuevaConversacion);\n      if (this.numPaginaSeleccionada != targetPagina) {\n        this.numPaginaSeleccionada = targetPagina;\n      }\n      this.tituloNuevaConversacion = null;\n    },\n    refreshPagina() {\n      //let store = this.$apollo.provider.defaultClient;\n      this.idConversacionSeleccionada = null;\n      this.$apollo.queries.numPaginas.refresh();\n    },\n    setConversacionLeida(idConversacion, cantidadRespuestasLeidas) {\n      if (!this.usuario || !this.usuario.id) {\n        return;\n      } else {\n        console.log(`Setting conversacin leida`);\n\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation(\n                $idUsuario: ID!\n                $idForo: ID!\n                $idConversacion: ID!\n                $cantidadRespuestasLeidas: Int!\n              ) {\n                setCantidadRespuestasConversacionLeidasPorUsuario(\n                  idUsuario: $idUsuario\n                  idForo: $idForo\n                  idConversacion: $idConversacion\n                  cantidadRespuestasLeidas: $cantidadRespuestasLeidas\n                )\n              }\n            `,\n            variables: {\n              idUsuario: this.usuario.id,\n              idForo: this.idForo,\n              idConversacion,\n              cantidadRespuestasLeidas: parseInt(cantidadRespuestasLeidas),\n            },\n          })\n          .then(\n            ({\n              data: { setCantidadRespuestasConversacionLeidasPorUsuario },\n            }) => {\n              console.log(\n                `Resultado: ${setCantidadRespuestasConversacionLeidasPorUsuario}`\n              );\n              if (setCantidadRespuestasConversacionLeidasPorUsuario) {\n                this.$store.commit(\"setRespuestasLeidasConversacionUsuario\", {\n                  idForo: this.idForo,\n                  idConversacion,\n                  respuestasLeidas: cantidadRespuestasLeidas,\n                });\n              }\n            }\n          )\n          .catch((error) => {\n            console.log(`Error. E: ${error}`);\n          });\n      }\n    },\n  },\n  computed: {\n    usuarioMiembro() {\n      if (this.esteForo.acceso == \"publico\") {\n        return true;\n      } else if (this.esteForo.acceso == \"privado\") {\n        if (this.esteForo.miembros.includes(this.$store.state.usuario.id)) {\n          return true;\n        }\n      }\n      return false;\n    },    \n    conversacionAbierta() {\n      return this.idConversacionSeleccionada;\n    },\n    tituloNuevaConversacionIlegal() {\n      if (\n        !this.tituloNuevaConversacion ||\n        this.tituloNuevaConversacion.length < 1\n      ) {\n        return true;\n      }\n      if (\n        charProhibidosTituloNuevaConversacion.test(this.tituloNuevaConversacion)\n      ) {\n        return true;\n      }\n      return false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.foro {\n  border: 2px solid black;\n  background-color: rgb(241, 241, 241);\n  margin: 0px auto;\n}\n#nombreForo {\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 20px;\n}\n\n.barraSuperiorForo {\n  display: flex;\n  background-color: #ddfeff;\n}\n\n#bRegresarConversaciones {\n  padding: 20px 5px;\n  text-align: center;\n  cursor: pointer;\n  border-radius: 10px;\n  margin: 10px auto;\n  border: 2px solid black;\n}\n#bRegresarConversaciones:hover {\n  background-color: cadetblue;\n}\n#controlesForo {\n  margin-left: auto;\n  display: flex;\n  flex-flow: row-reverse;\n}\n.controlesForo {\n  margin-left: 10px;\n}\n.botonesControles {\n  padding: 3px 5px;\n  cursor: pointer;\n}\n.botonesControles:hover {\n  background-color: #95cccc;\n}\n.zonaConversaciones {\n  padding-left: 0px;\n}\n\n.zonaSelectorPagina {\n  display: flex;\n  padding: 2px 10px;\n  background-color: #ddfeff;\n}\n.selectorPagina {\n  border: 1px solid black;\n  padding: 3px 5px;\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: #4db9b9;\n}\n\n.selectorPagina:hover {\n  background-color: #95cccc;\n}\n.selectorSeleccionado {\n  background-color: #95cccc;\n  pointer-events: none;\n}\n#anuncio {\n  padding: 5px 5px;\n}\n#zonaCrearConversacion {\n  border: 2px solid cadetblue;\n  border-radius: 10px;\n  padding: 10px;\n  background-color: rgba(95, 158, 160, 0.329);\n}\n#inputTituloNuevaConversacion {\n  font-size: 20px;\n  padding: 3px 5px;\n  width: min(80%, 500px);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Foro.vue?vue&type=template&id=71d42152&scoped=true&\"\nimport script from \"./Foro.vue?vue&type=script&lang=js&\"\nexport * from \"./Foro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Foro.vue?vue&type=style&index=0&id=71d42152&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71d42152\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"libro\" @click=\"idPaginaSeleccionada = null\">\n    <div id=\"zonaTitulo\">\n      <div id=\"titulo\" v-show=\"!editandoTitulo\">\n        {{ libro.titulo }}\n      </div>\n      <input\n        type=\"text\"\n        id=\"inputNuevoTitulo\"\n        :class=\"{ letrasRojas: nuevoTituloIlegal }\"\n        v-model=\"nuevoTitulo\"\n        v-show=\"editandoTitulo\"\n        @keypress.enter=\"guardarNuevoTitulo\"\n      />\n      <div id=\"controlesTitulo\">\n        <img\n          src=\"@/assets/iconos/editar.png\"\n          alt=\"Editar\"\n          id=\"bEditarrTitulo\"\n          class=\"bEditarTitulo\"\n          title=\"Editar titulo del libro\"\n          @click.stop=\"toggleEditandoTitulo\"\n        />\n        <img\n          src=\"@/assets/iconos/guardar.png\"\n          alt=\"Guardar\"\n          title=\"guardar\"\n          class=\"bEditarTitulo\"\n          id=\"bGuardarNuevoTitulo\"\n          v-show=\"editandoTitulo == true && nuevoTituloIlegal == false\"\n          @click.stop=\"guardarNuevoTitulo\"\n        />\n      </div>\n    </div>\n\n    \n\n    <div id=\"contenedorPaginas\">\n      <pagina\n        v-for=\"(pagina, index) of paginasOrdenadas\"\n        :key=\"pagina.id\"\n        :paginaDerecha=\"index % 2 > 0 || index == 0\"\n        :estaPagina=\"pagina\"\n        :idLibro=\"idLibro\"\n        :seleccionada=\"idPaginaSeleccionada == pagina.id\"\n        :segundoPlano=\"\n          idPaginaSeleccionada != null && idPaginaSeleccionada != pagina.id\n        \"\n        @click.native.stop=\"usuarioEditor?idPaginaSeleccionada = pagina.id:null\"\n        @meElimine=\"removePaginaFromCache(pagina.id)\"\n        @tengoNuevoCuadroTexto=\"updateCacheConNuevoCuadroTexto($event, pagina.id)\"\n        @tengoNuevoCuadroImagen=\"updateCacheConNuevoCuadroImagen($event, pagina.id)\"\n        @elimineCuadroTexto=\"removeCuadroTextoFromCache($event, pagina.id)\"\n        @elimineCuadroImagen=\"removeCuadroImagenFromCache($event, pagina.id)\"\n      />\n    </div>\n\n    <div\n      id=\"bCrearNuevaPagina\"\n      @click.stop=\"crearNuevaPaginaLibro\"\n      :class=\"{ deshabilitado: creandoPagina }\"\n    >\n      Crear nueva pgina\n    </div>\n\n    <div id=\"zonaForos\">\n      <div class=\"tituloForo\">Foro de editores</div>\n      <foro v-if=\"libro.idForo\" :parent=\"infoAsParent\" :idForo=\"libro.idForo\"/>\n\n    </div>\n\n\n\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Pagina from \"./Pagina.vue\";\nimport Foro from './Foro.vue';\nconst charProhibidosTitulo = /[^ a-zA-Z-0-9_():.,-?!]/;\n\nexport const fragmentoCuadroTexto = gql`\n  fragment fragCuadroTexto on CuadroTextoCuento {\n    id\n    texto\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n    formato {\n      fontSize\n      colorLetra\n      tipoLetra\n      alineacion\n    }\n  }\n`;\n\nexport const fragmentoCuadroImagen = gql`\n  fragment fragCuadroImagen on CuadroImagenCuento {\n    id\n    sinArchivo\n    tipoActivacionSecundario\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n  }\n`;\n\nconst fragmentoPagina = gql`\n  fragment fragPagina on PaginaCuento {\n    id    \n    numPag\n    color\n    cuadrosTexto {\n      ...fragCuadroTexto\n    }\n    cuadrosImagen {\n      ...fragCuadroImagen\n    }\n  }\n  ${fragmentoCuadroTexto}\n  ${fragmentoCuadroImagen}\n`;\n\nconst QUERY_LIBRO = gql`\n  query($idLibro: ID!) {\n    libro(idLibro: $idLibro) {\n      id\n      idsEditores\n      titulo\n      paginas {\n        ...fragPagina\n      },\n      idForo\n    }\n  }\n  ${fragmentoPagina}\n`;\n\nexport default {\n  components: { Pagina, Foro },\n  name: \"Libro\",\n  apollo: {\n    libro: {\n      query: QUERY_LIBRO,\n      variables() {\n        return {\n          idLibro: this.idLibro,\n        };\n      },\n      skip() {\n        return this.idLibro == null;\n      },\n      fetchPolicy:\"cache-and-network\"\n    },\n  },\n  props: {\n    idLibro: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      libro: {\n        paginas: null,\n      },\n      idPaginaSeleccionada: null,\n\n      creandoPagina: false,\n\n      nuevoTitulo: null,\n      editandoTitulo: false,\n    };\n  },\n  computed: {\n    paginasOrdenadas() {\n      if (this.libro.paginas) {\n        var aPags = this.libro.paginas;\n        return aPags.sort((a, b) => {\n          return parseInt(a.numPag) - parseInt(b.numPag);\n        });\n      }\n      return [];\n    },\n    nuevoTituloIlegal() {\n      if (!this.nuevoTitulo || this.nuevoTitulo.length < 1) {\n        return true;\n      }\n      if (charProhibidosTitulo.test(this.nuevoTitulo)) {\n        return true;\n      }\n      return false;\n    },\n    infoAsParent() {\n      return {\n        id: this.idLibro,\n        tipo: \"libro\",\n        nombre: this.libro.titulo,\n      };\n    },\n    usuarioEditor(){\n      return this.libro.idsEditores.includes(this.usuario.id);\n    }\n  },\n  methods: {\n    toggleEditandoTitulo() {\n      this.editandoTitulo = !this.editandoTitulo;\n      this.nuevoTitulo = this.libro.titulo;\n    },\n    guardarNuevoTitulo() {\n      if (this.nuevoTituloIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoTitulo == this.libro.titulo) {\n        this.editandoTitulo = false;\n        return;\n      }\n      console.log(`guardando nuevo ttulo`);\n      this.enviandoNuevoTitulo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $nuevoTitulo: String!) {\n              editarTituloLibro(idLibro: $idLibro, nuevoTitulo: $nuevoTitulo) {\n                id\n                titulo\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            nuevoTitulo: this.nuevoTitulo,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoTitulo = false;\n          this.editandoTitulo = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoTitulo = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    crearNuevaPaginaLibro() {\n      this.creandoPagina = true;\n      const dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!) {\n              crearNuevaPaginaLibro(idLibro: $idLibro) {\n                ...fragPagina\n              }\n            }\n            ${fragmentoPagina}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n          },\n        })\n        .then(({ data: { crearNuevaPaginaLibro } }) => {\n          var store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_LIBRO,\n            variables: { idLibro: dis.idLibro },\n          });\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          nuevoCache.libro.paginas.push(crearNuevaPaginaLibro);\n          store.writeQuery({\n            query: QUERY_LIBRO,\n            variables: { idLibro: dis.idLibro },\n            data: nuevoCache,\n          });\n          this.creandoPagina = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.creandoPagina = false;\n        });\n    },\n    removePaginaFromCache(idPagina) {\n      this.idPaginaSeleccionada=null;\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_LIBRO,\n        variables: { idLibro: this.idLibro },\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexP = nuevoCache.libro.paginas.findIndex(\n        (p) => p.id == idPagina\n      );\n      if (indexP > -1) {\n        nuevoCache.libro.paginas.splice(indexP, 1);\n\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables: { idLibro: this.idLibro },\n          data: nuevoCache,\n        });        \n      } else {\n        console.log(`La pagina no estaba en el cach`);\n      }\n    },\n    updateCacheConNuevoCuadroImagen(nuevoCuadroImagen, idPagina){\n      console.log(`Se actualizara el cache con info: ${nuevoCuadroImagen} en la pagina ${idPagina}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro}\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`Pagina no exista`);\n        return\n      }\n      if(laPagina.cuadrosImagen.some(c=>c==nuevoCuadroImagen.id)){\n        console.log(`Ese cuadro texto ya estaba incluido`);\n        return;\n      }\n      \n      laPagina.cuadrosImagen.push((nuevoCuadroImagen));\n\n      store.writeQuery({\n         query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},\n        data:nuevoCache\n      });\n\n    },\n    updateCacheConNuevoCuadroTexto(nuevoCuadroTexto, idPagina){\n      console.log(`Se actualizara el cache con info: ${nuevoCuadroTexto} en la pagina ${idPagina}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro}\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`Pagina no exista`);\n        return\n      }\n      if(laPagina.cuadrosTexto.some(c=>c==nuevoCuadroTexto.id)){\n        console.log(`Ese cuadro texto ya estaba incluido`);\n        return;\n      }\n      laPagina.cuadrosTexto.push(nuevoCuadroTexto);\n\n      store.writeQuery({\n         query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},\n        data:nuevoCache\n      })\n    },\n    removeCuadroTextoFromCache(idCuadroTexto, idPagina){\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query:QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},        \n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`No exista la pagina en el cach`);\n        return \n      }\n\n      const indexC=laPagina.cuadrosTexto.findIndex(c=>c.id==idCuadroTexto);\n      if(indexC>-1){\n        laPagina.cuadrosTexto.splice(indexC, 1);\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables:{idLibro:this.idLibro},\n          data: nuevoCache,\n        });\n      }\n      else{\n        console.log(`El cuadro texto no exista en el cach`);\n      }\n    },\n    removeCuadroImagenFromCache(idCuadroImagen, idPagina){\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query:QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},        \n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`No exista la pagina en el cach`);\n        return \n      }\n\n      const indexC=laPagina.cuadrosImagen.findIndex(c=>c.id==idCuadroImagen);\n      if(indexC>-1){\n        laPagina.cuadrosImagen.splice(indexC, 1);\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables:{idLibro:this.idLibro},\n          data: nuevoCache,\n        });\n      }\n      else{\n        console.log(`El cuadro texto no exista en el cach`);\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n.libro {\n  margin-top: 100px;\n  border: 2px solid black;\n  padding-bottom: 80vh;\n}\n#zonaTitulo {\n  padding: 5px 10px;\n  text-align: center;\n  font-size: 22px;\n  border: 1px solid purple;\n  background-color: rgb(131 94 134);\n  margin: 10px auto;\n}\n#inputNuevoTitulo{\n  font-size: inherit;\n}\n\n.bEditarTitulo {\n  cursor: pointer;\n  border-radius: 50%;\n  width: 35px;\n  height: 35px;\n}\n.bEditarTitulo:hover {\n  background-color: rgba(128, 0, 128, 0.459);\n}\n\n#contenedorPaginas {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  row-gap: 20px;\n}\n#bCrearNuevaPagina {\n  padding: 5px;\n  border: 1px solid rgb(65, 0, 65);\n  background-color: rgba(182, 105, 182, 0.267);\n  cursor: pointer;\n  margin: 10px auto;\n  border-radius: 5px;\n  max-width: 200px;\n}\n\n#bCrearNuevaPagina:hover {\n  background-color: rgb(182, 105, 182);\n}\n\n.tituloForo{\n  font-size: 19px;\n  padding: 5px 10px;\n  background-color: cadetblue;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Libro.vue?vue&type=template&id=0ab0dd54&scoped=true&\"\nimport script from \"./Libro.vue?vue&type=script&lang=js&\"\nexport * from \"./Libro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Libro.vue?vue&type=style&index=0&id=0ab0dd54&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ab0dd54\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"misLibros\"}},[_c('h3',[_vm._v(\"Mis libros\")]),_c('div',{attrs:{\"id\":\"controlesMisLibros\"}},[_c('img',{staticClass:\"bControlMisLibros\",attrs:{\"src\":require(\"@/assets/iconos/libro.png\"),\"title\":\"Crear nuevo libro\"},on:{\"click\":_vm.crearNuevoLibro}})]),_c('div',{attrs:{\"id\":\"listaMisLibros\"}},_vm._l((_vm.misLibros),function(portada){return _c('div',{key:portada.id,staticClass:\"portadaLibro\",on:{\"click\":function($event){return _vm.seleccionarLibro(portada.id)}}},[_c('div',{staticClass:\"nombreLibro\"},[_vm._v(\" \"+_vm._s(portada.titulo)+\" \")]),_c('div',{staticClass:\"controlesLibro\"},[_c('a',{attrs:{\"href\":_vm.URLLibrosolo + '?id=' + portada.id,\"target\":\"_blank\"}},[_c('img',{staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/libroAbierto.png\"),\"alt\":\"Libro\",\"title\":\"Ver libro\"}})]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"controlLibro\",style:({ backgroundColor: portada.publico ? 'green' : '' }),attrs:{\"src\":require(\"@/assets/iconos/share.png\"),\"alt\":\"Compartir\",\"title\":\"Compartir este libro en la seccin de libros pblicos\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setLibroPublico(portada.id, !portada.publico)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar este libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarLibro(portada.id)}}})])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"misLibros\">\n    <h3>Mis libros</h3>\n    <div id=\"controlesMisLibros\">\n      <img\n        src=\"@/assets/iconos/libro.png\"\n        class=\"bControlMisLibros\"\n        title=\"Crear nuevo libro\"\n        @click=\"crearNuevoLibro\"\n      />\n    </div>\n\n    <div id=\"listaMisLibros\">\n      <div\n        class=\"portadaLibro\"\n        v-for=\"portada of misLibros\"\n        :key=\"portada.id\"\n        @click=\"seleccionarLibro(portada.id)\"\n      >\n        <div class=\"nombreLibro\">\n          {{ portada.titulo }}\n        </div>\n        <div class=\"controlesLibro\">\n          <a :href=\"URLLibrosolo + '?id=' + portada.id\" target=\"_blank\">\n            <img\n              src=\"@/assets/iconos/libroAbierto.png\"\n              class=\"controlLibro\"\n              alt=\"Libro\"\n              title=\"Ver libro\"\n            />\n          </a>\n          <img\n            src=\"@/assets/iconos/share.png\"\n            alt=\"Compartir\"\n            title=\"Compartir este libro en la seccin de libros pblicos\"\n            class=\"controlLibro\"\n            v-show=\"usuarioSuperadministrador\"\n            :style=\"{ backgroundColor: portada.publico ? 'green' : '' }\"\n            @click.stop=\"setLibroPublico(portada.id, !portada.publico)\"\n          />\n          <img\n            src=\"@/assets/iconos/delete.png\"\n            alt=\"Eliminar\"\n            title=\"Eliminar este libro\"\n            class=\"controlLibro\"\n            v-show=\"usuarioSuperadministrador\"\n            @click.stop=\"eliminarLibro(portada.id)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\n\nconst QUERY_MIS_LIBROS = gql`\n  query {\n    misLibros {\n      id\n      titulo\n      publico\n    }\n  }\n`;\n\nexport default {\n  name: \"MisLibros\",\n  apollo: {\n    misLibros: {\n      query: QUERY_MIS_LIBROS,\n      skip() {\n        return this.usuario.id == null;\n      },\n    },\n  },\n  props: {\n    URLLibrosolo: String,\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    crearNuevoLibro() {\n      if (!confirm(\"Crear un nuevo libro?\")) return;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation {\n              crearNuevoLibro {\n                id\n                titulo\n                publico\n              }\n            }\n          `,\n        })\n        .then(({ data: { crearNuevoLibro } }) => {\n          console.log(`Creado ${JSON.stringify(crearNuevoLibro)}`);\n          const store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_MIS_LIBROS,\n          });\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          if (!nuevoCache.misLibros.some((l) => l.id == crearNuevoLibro.id)) {\n            nuevoCache.misLibros.push(crearNuevoLibro);\n            store.writeQuery({\n              query: QUERY_MIS_LIBROS,\n              data: nuevoCache,\n            });\n          } else {\n            console.log(`El libro ya estaba incluido en el cach`);\n          }\n        });\n    },\n    removerLibroCache(idLibro) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_MIS_LIBROS,\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexL = nuevoCache.misLibros.findIndex((l) => l.id == idLibro);\n      if (indexL > -1) {\n        nuevoCache.misLibros.splice(indexL, 1);\n        store.writeQuery({\n          query: QUERY_MIS_LIBROS,\n          data: nuevoCache,\n        });\n      } else {\n        console.log(`Libro no estaba en cach`);\n      }\n    },\n    seleccionarLibro(idLibro) {\n      this.$emit(\"libroSeleccionado\", idLibro);\n    },\n    setLibroPublico(idLibro, nuevoEstado) {\n      console.log(`Settin estado pblico de ${idLibro} en ${nuevoEstado}`);\n      //De una vez se cambia en el cach\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_MIS_LIBROS,\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n      var laPortada = nuevoCache.misLibros.find((p) => p.id == idLibro);\n      if (!laPortada) {\n        console.log(`Libro no estaba en cach`);\n        return;\n      }\n      laPortada.publico = nuevoEstado;\n      store.writeQuery({\n        query: QUERY_MIS_LIBROS,\n        data: nuevoCache,\n      });\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $nuevoEstado: Boolean!) {\n              setLibroPublico(idLibro: $idLibro, nuevoEstado: $nuevoEstado)\n            }\n          `,\n          variables: {\n            idLibro,\n            nuevoEstado,\n          },\n        })\n        .then(({ data: { setLibroPublico } }) => {\n          if (setLibroPublico) {\n            const store = this.$apollo.provider.defaultClient;\n            const cache = store.readQuery({\n              query: QUERY_MIS_LIBROS,\n            });\n            var nuevoCache = JSON.parse(JSON.stringify(cache));\n            var laPortada = nuevoCache.misLibros.find((p) => p.id == idLibro);\n            if (!laPortada) {\n              console.log(`Libro no estaba en cach`);\n              return;\n            }\n            laPortada.publico = nuevoEstado;\n            store.writeQuery({\n              query: QUERY_MIS_LIBROS,\n              data: nuevoCache,\n            });\n          }\n        }).catch((error)=>{\n          console.log(`Error. E: ${error}`);\n          const store = this.$apollo.provider.defaultClient;\n            const cache = store.readQuery({\n              query: QUERY_MIS_LIBROS,\n            });\n            var nuevoCache = JSON.parse(JSON.stringify(cache));\n            var laPortada = nuevoCache.misLibros.find((p) => p.id == idLibro);\n            if (!laPortada) {\n              console.log(`Libro no estaba en cach`);\n              return;\n            }\n            laPortada.publico = !nuevoEstado;\n            store.writeQuery({\n              query: QUERY_MIS_LIBROS,\n              data: nuevoCache,\n            });\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n#misLibros {\n  padding: 10px;\n  border: 2px solid cadetblue;\n  margin: 10px;\n  border-radius: 15px;\n  padding: 15px;\n  font-size: 22px;\n}\n\n.bControlMisLibros {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 5px 10px;\n}\n.bControlMisLibros:hover {\n  background-color: rgb(241, 153, 241);\n}\n\n.portadaLibro {\n  padding: 5px 10px;\n  font-size: inherit;\n  cursor: pointer;\n  padding-bottom: 20px;\n  display: grid;\n  grid-template-columns: 200px 1fr 200px;\n  grid-template-areas: \"nombre ... controles\";\n}\n.portadaLibro:hover {\n  background-color: rgba(128, 0, 128, 0.233);\n}\n\n.nombreLibro {\n  grid-area: nombre;\n}\n\n.controlesLibro {\n  grid-area: controles;\n  visibility: hidden;\n}\n\n.portadaLibro:hover > .controlesLibro {\n  visibility: visible;\n}\n.controlLibro {\n  width: 29px;\n\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 0px 10px;\n}\n.controlLibro:hover {\n  background-color: gray;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MisLibros.vue?vue&type=template&id=4dda7762&scoped=true&\"\nimport script from \"./MisLibros.vue?vue&type=script&lang=js&\"\nexport * from \"./MisLibros.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MisLibros.vue?vue&type=style&index=0&id=4dda7762&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dda7762\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"todosLibros\"}},[_c('h3',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.desplegado = !_vm.desplegado}}},[_vm._v(\" Todos los libros \")]),_c('div',{attrs:{\"id\":\"controlesTodosLibros\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado),expression:\"desplegado\"}],attrs:{\"id\":\"listaMisLibros\"}},_vm._l((_vm.librosPorAutor),function(listaLibros,idAutor){return _c('div',{key:idAutor,staticClass:\"bloqueAutor\"},[_c('icono-persona-autonomo',{attrs:{\"idPersona\":idAutor}}),_c('br'),_c('br'),_c('br'),_c('div',{staticClass:\"listaLibros\"},_vm._l((listaLibros),function(portada){return _c('div',{key:portada.id,staticClass:\"portadaLibro\",class:{ seleccionado: _vm.idLibroSeleccionado == portada.id },on:{\"click\":function($event){return _vm.seleccionarLibro(portada.id)}}},[_c('div',{staticClass:\"nombreLibro\"},[_vm._v(\" \"+_vm._s(portada.titulo)+\" \")]),_c('div',{staticClass:\"controlesLibro\"},[_c('a',{attrs:{\"href\":_vm.URLLibrosolo + '?id=' + portada.id,\"target\":\"_blank\"}},[_c('img',{staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/libroAbierto.png\"),\"alt\":\"Libro\",\"title\":\"Ver libro\"}})]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar este libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarLibro(portada.id)}}})])])}),0)],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoPersonaAutonomo\",class:{ yo: _vm.soyYo, seleccionado: _vm.seleccionado }},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fotografiaEnabled),expression:\"fotografiaEnabled\"}],staticClass:\"fotografia\",attrs:{\"src\":this.serverUrl + '/api/usuarios/fotografias/' + _vm.idPersona,\"alt\":\"\"},on:{\"load\":function($event){_vm.fotografiaEnabled = true}}}),_c('div',{attrs:{\"id\":\"contenedorAlertas\"}},[_vm._t(\"alertas\")],2),_c('div',{staticClass:\"nombres\",class:{ nombreSeleccionado: _vm.seleccionado }},[_vm._v(\" \"+_vm._s(_vm.estaPersona.nombres)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuContextual),expression:\"menuContextual\"}],attrs:{\"id\":\"menuCxPersona\"}},[_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.copiarId($event)}}},[_vm._v(_vm._s(_vm.idPersona))]),(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"botonMenuCx\"},[_vm._v(\" \"+_vm._s(_vm.estaPersona.username)+\" \")]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoPermiso),expression:\"nuevoPermiso\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Nuevo permiso\"},domProps:{\"value\":(_vm.nuevoPermiso)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoPermiso=$event.target.value}}}),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addPermisos($event)}}},[_vm._v(\"Dar permiso\")]),_vm._l((_vm.opcionesMenuCx),function(opcionCx,index){return _c('div',{key:index,staticClass:\"botonMenuCx\",on:{\"click\":function($event){return _vm.$emit(opcionCx.evento)}}},[_vm._v(\" \"+_vm._s(opcionCx.textoVisible)+\" \")])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"iconoPersonaAutonomo\"\n    :class=\"{ yo: soyYo, seleccionado: seleccionado }\"\n  >\n    <img\n      class=\"fotografia\"\n      :src=\"this.serverUrl + '/api/usuarios/fotografias/' + idPersona\"\n      v-show=\"fotografiaEnabled\"\n      @load=\"fotografiaEnabled = true\"\n      alt=\"\"\n    />\n    <div id=\"contenedorAlertas\">\n      <slot name=\"alertas\"></slot>\n    </div>\n    <div class=\"nombres\" :class=\"{ nombreSeleccionado: seleccionado }\">\n      {{ estaPersona.nombres }}\n    </div>\n    <div id=\"menuCxPersona\" v-show=\"menuContextual\">\n      <div class=\"botonMenuCx\" @click.stop=\"copiarId\">{{ idPersona }}</div>\n      <div class=\"botonMenuCx\" v-if=\"usuarioSuperadministrador\">\n        {{ estaPersona.username }}\n      </div>\n      <input type=\"text\" v-model=\"nuevoPermiso\" placeholder=\"Nuevo permiso\" />\n      <div class=\"botonMenuCx\" @click.stop=\"addPermisos\">Dar permiso</div>\n      <div\n        class=\"botonMenuCx\"\n        :key=\"index\"\n        v-for=\"(opcionCx, index) of opcionesMenuCx\"\n        @click=\"$emit(opcionCx.evento)\"\n      >\n        {{ opcionCx.textoVisible }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n\nconst QUERY_PERSONA = gql`\n  query($idUsuario: ID!) {\n    publicUsuario(idUsuario: $idUsuario) {\n      id\n      nombres\n      apellidos\n      username\n    }\n  }\n`;\n\nexport default {\n  name: \"IconoPersonaAutonomo\",\n  apollo: {\n    estaPersona: {\n      query: QUERY_PERSONA,\n      variables() {\n        return {\n          idUsuario: this.idPersona,\n        };\n      },\n      update({ publicUsuario }) {\n        return publicUsuario;\n      },\n      skip() {\n        return !this.idPersona;\n      },\n    },\n  },\n  data() {\n    return {\n      estaPersona: {\n        permisos: [],\n      },\n      nuevoPermiso: null,\n      mounted: false,\n      fotografiaEnabled: false,\n    };\n  },\n  props: {\n    idPersona: String,\n    seleccionado: Boolean,\n    menuContextual: Boolean,\n    opcionesMenuCx: {\n      type: Array,\n    },\n  },\n  computed: {\n    soyYo() {\n      if (this.mounted && this.idPersona && this.$store.state.usuario) {\n        return this.$store.state.usuario.id == this.idPersona ? true : false;\n      }\n      return false;\n    },\n  },\n  methods: {\n    addPermisos() {\n      console.log(\n        `enviando ${this.nuevoPermiso} para el usuario con id ${this.idPersona}`\n      );\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($nuevoPermiso: String!, $idUsuario: ID!) {\n              addPermisoUsuario(\n                nuevoPermiso: $nuevoPermiso\n                idUsuario: $idUsuario\n              ) {\n                id\n                permisos\n              }\n            }\n          `,\n          variables: {\n            nuevoPermiso: this.nuevoPermiso,\n            idUsuario: this.idPersona,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    copiarId(e) {\n      let str = e.target.innerText.trim();\n      const el = document.createElement(\"textarea\");\n      el.value = str;\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(el);\n    },\n    fotografiaCargada() {\n      console.log(`Fotografa cargada`);\n    },\n  },\n  mounted() {\n    this.mounted = true;\n  },\n  beforeRouteUpdate() {\n    console.log(`Before update`);\n  },\n};\n</script>\n\n<style scoped>\n.iconoPersonaAutonomo {\n  cursor: pointer;\n  position: relative;\n  border-radius: 50%;\n  user-select: none;\n  width: 70px;\n  height: 70px;\n  border: 1px solid transparent;\n}\n.iconoPersonaAutonomo:hover {\n  border-color: purple;\n}\n\n.fotografia {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  position: absolute;\n  pointer-events: none;\n}\n.seleccionado {\n  border-color: purple;\n}\n#contenedorAlertas {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n.yo {\n  border: 1px solid purple;\n}\n\n.nombres {\n  background-color: rgb(243, 216, 204);\n  position: absolute;\n  top: 105%;\n  left: 50%;\n  transform: translateX(-50%);\n  text-align: center;\n  border: 1px solid rgb(105, 24, 24);\n  padding: 3px 5px;\n  border-radius: 5px;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.nombreSeleccionado {\n  background-color: rgb(241, 175, 147);\n}\n\n.botonMenuCx {\n  cursor: pointer;\n  font-size: 14px;\n  padding: 3px 7px;\n}\n.seccionMenuCx {\n  font-size: 15px;\n  color: rgb(71, 71, 71);\n}\n.infoMenuCx {\n  font-size: 15px;\n  color: rgb(107, 107, 107);\n}\n.botonMenuCx:hover {\n  background-color: gray;\n}\n#menuCxPersona {\n  position: absolute;\n  top: 110%;\n  left: 110%;\n  min-width: 140px;\n\n  z-index: 10;\n  background-color: rgb(177, 177, 159);\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoPersonaAutonomo.vue?vue&type=template&id=1d1d781e&scoped=true&\"\nimport script from \"./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoPersonaAutonomo.vue?vue&type=style&index=0&id=1d1d781e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d1d781e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"todosLibros\">\n    <h3 style=\"cursor: pointer\" @click=\"desplegado = !desplegado\">\n      Todos los libros\n    </h3>\n    <div id=\"controlesTodosLibros\"></div>\n\n    <div id=\"listaMisLibros\" v-show=\"desplegado\">\n      <div\n        class=\"bloqueAutor\"\n        v-for=\"(listaLibros, idAutor) of librosPorAutor\"\n        :key=\"idAutor\"\n      >\n        <icono-persona-autonomo :idPersona=\"idAutor\" />\n        <br />\n        <br />\n        <br />\n        <div class=\"listaLibros\">\n          <div\n            class=\"portadaLibro\"\n            v-for=\"portada of listaLibros\"\n            :key=\"portada.id\"\n            @click=\"seleccionarLibro(portada.id)\"\n            :class=\"{ seleccionado: idLibroSeleccionado == portada.id }\"\n          >\n            <div class=\"nombreLibro\">\n              {{ portada.titulo }}\n            </div>\n            <div class=\"controlesLibro\">\n              <a :href=\"URLLibrosolo + '?id=' + portada.id\" target=\"_blank\">\n                <img\n                  src=\"@/assets/iconos/libroAbierto.png\"\n                  class=\"controlLibro\"\n                  alt=\"Libro\"\n                  title=\"Ver libro\"                  \n                />\n              </a>\n              <img\n                src=\"@/assets/iconos/delete.png\"\n                alt=\"Eliminar\"\n                title=\"Eliminar este libro\"\n                class=\"controlLibro\"\n                v-show=\"usuarioSuperadministrador\"\n                @click.stop=\"eliminarLibro(portada.id)\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport IconoPersonaAutonomo from \"./IconoPersonaAutonomo.vue\";\n\nconst QUERY_TODOS_LIBROS = gql`\n  query {\n    todosLibros {\n      id\n      titulo\n      idsEditores\n    }\n  }\n`;\n\nexport default {\n  components: { IconoPersonaAutonomo },\n  name: \"TodosLibros\",\n  apollo: {\n    todosLibros: {\n      query: QUERY_TODOS_LIBROS,\n      skip() {\n        return !this.usuarioSuperadministrador;\n      },\n    },\n  },\n  props: {\n    idLibroSeleccionado: String,\n    URLLibrosolo: String,\n  },\n  data() {\n    return {\n      desplegado: false,\n    };\n  },\n  methods: {\n    seleccionarLibro(idLibro) {\n      this.$emit(\"libroSeleccionado\", idLibro);\n    },\n    removerLibroCache(idLibro) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_TODOS_LIBROS,\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexL = nuevoCache.todosLibros.findIndex((l) => l.id == idLibro);\n      if (indexL > -1) {\n        nuevoCache.todosLibros.splice(indexL, 1);\n        store.writeQuery({\n          query: QUERY_TODOS_LIBROS,\n          data: nuevoCache,\n        });\n      } else {\n        console.log(`Libro no estaba en cach`);\n      }\n    },\n    eliminarLibro(idLibro) {\n      if (!confirm(\"Eliminando un libro. Continuar?\")) return;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!) {\n              eliminarLibro(idLibro: $idLibro)\n            }\n          `,\n          variables: {\n            idLibro,\n          },\n        })\n        .then(({ data: { eliminarLibro } }) => {\n          if (eliminarLibro) {\n            this.$emit(\"elimineUnLibro\", idLibro);\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n        });\n    },\n  },\n  computed: {\n    usuarioSuperadministrador() {\n      if (!this.usuario || !this.usuario.permisos) {\n        console.log(\n          `Datos insuficientes para decidir si usuario es speradministrador`\n        );\n        return false;\n      }\n      \n      return this.usuario.permisos.includes(\"superadministrador\");\n    },\n    librosPorAutor() {\n      var objetoFinal = {};\n      if (!this.todosLibros) {\n        return objetoFinal;\n      }\n      this.todosLibros.forEach((libro) => {\n        let idAutor = libro.idsEditores[0];\n        if (!objetoFinal[idAutor]) {\n          objetoFinal[idAutor] = [libro];\n        } else {\n          objetoFinal[idAutor].push(libro);\n        }\n      });\n      return objetoFinal;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#todosLibros {\n  padding: 10px;\n  border: 2px solid cadetblue;\n  margin: 10px;\n  border-radius: 15px;\n  padding: 15px;\n  font-size: 22px;\n}\n\n.bControlTodosLibros {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 5px 10px;\n}\n.bControlTodosLibros:hover {\n  background-color: rgb(241, 153, 241);\n}\n\n.bloqueAutor {\n  padding: 20px 0px;\n  margin: 20px 0px;\n  background-color: rgba(128, 128, 128, 0.404);\n  border-radius: 20px;\n}\n\n.iconoPersonaAutonomo {\n  margin: 5px 25px;\n}\n\n.portadaLibro {\n  padding: 5px 10px;\n  font-size: inherit;\n  cursor: pointer;\n  padding-bottom: 20px;\n  display: grid;\n  grid-template-columns: 200px 1fr 200px;\n  grid-template-areas: \"nombre ... controles\";\n}\n.portadaLibro:hover {\n  background-color: rgba(128, 0, 128, 0.233);\n}\n.seleccionado {\n  background-color: rgba(128, 0, 128, 0.233);\n}\n\n.nombreLibro {\n  grid-area: nombre;\n}\n\n.controlesLibro {\n  grid-area: controles;\n  visibility: hidden;\n}\n\n.portadaLibro:hover > .controlesLibro {\n  visibility: visible;\n}\n.controlLibro {\n  width: 29px;\n  \n  border-radius: 50%;\n  cursor: pointer;\n  margin: 0px 10px;\n}\n.controlLibro:hover {\n  background-color: gray;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TodosLibros.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TodosLibros.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TodosLibros.vue?vue&type=template&id=4be321fa&scoped=true&\"\nimport script from \"./TodosLibros.vue?vue&type=script&lang=js&\"\nexport * from \"./TodosLibros.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TodosLibros.vue?vue&type=style&index=0&id=4be321fa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4be321fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"librosPublicos\"}},[_c('h3',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.desplegado = !_vm.desplegado}}},[_vm._v(\" Libros publicos \")]),_c('div',{attrs:{\"id\":\"controlesLibrosPublicos\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado),expression:\"desplegado\"}],attrs:{\"id\":\"listaLibrosPublicos\"}},_vm._l((_vm.librosPorAutor),function(listaLibros,idAutor){return _c('div',{key:idAutor,staticClass:\"bloqueAutor\"},[_c('icono-persona-autonomo',{attrs:{\"idPersona\":idAutor}}),_c('br'),_c('br'),_c('br'),_c('div',{staticClass:\"listaLibros\"},_vm._l((listaLibros),function(portada){return _c('div',{key:portada.id,staticClass:\"portadaLibro\",class:{ seleccionado: _vm.idLibroSeleccionado == portada.id },on:{\"click\":function($event){return _vm.seleccionarLibro(portada.id)}}},[_c('div',{staticClass:\"nombreLibro\"},[_vm._v(\" \"+_vm._s(portada.titulo)+\" \")]),_c('div',{staticClass:\"controlesLibro\"},[_c('a',{attrs:{\"href\":_vm.URLLibrosolo + '?id=' + portada.id,\"target\":\"_blank\"}},[_c('img',{staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/libroAbierto.png\"),\"alt\":\"Libro\",\"title\":\"Ver libro\"}})]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar este libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarLibro(portada.id)}}})])])}),0)],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"librosPublicos\">\n    <h3 style=\"cursor: pointer\" @click=\"desplegado = !desplegado\">\n      Libros publicos\n    </h3>\n    <div id=\"controlesLibrosPublicos\"></div>\n\n    <div id=\"listaLibrosPublicos\" v-show=\"desplegado\">\n      <div\n        class=\"bloqueAutor\"\n        v-for=\"(listaLibros, idAutor) of librosPorAutor\"\n        :key=\"idAutor\"\n      >\n        <icono-persona-autonomo :idPersona=\"idAutor\" />\n        <br />\n        <br />\n        <br />\n        <div class=\"listaLibros\">\n          <div\n            class=\"portadaLibro\"\n            v-for=\"portada of listaLibros\"\n            :key=\"portada.id\"\n            @click=\"seleccionarLibro(portada.id)\"\n            :class=\"{ seleccionado: idLibroSeleccionado == portada.id }\"\n          >\n            <div class=\"nombreLibro\">\n              {{ portada.titulo }}\n            </div>\n            <div class=\"controlesLibro\">\n              <a :href=\"URLLibrosolo + '?id=' + portada.id\" target=\"_blank\">\n                <img\n                  src=\"@/assets/iconos/libroAbierto.png\"\n                  class=\"controlLibro\"\n                  alt=\"Libro\"\n                  title=\"Ver libro\"                  \n                />\n              </a>\n              <img\n                src=\"@/assets/iconos/delete.png\"\n                alt=\"Eliminar\"\n                title=\"Eliminar este libro\"\n                class=\"controlLibro\"\n                v-show=\"usuarioSuperadministrador\"\n                @click.stop=\"eliminarLibro(portada.id)\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport IconoPersonaAutonomo from \"./IconoPersonaAutonomo.vue\";\n\nconst QUERY_LIBROS_PUBLICOS = gql`\n  query {\n    librosPublicos {\n      id\n      titulo\n      idsEditores\n    }\n  }\n`;\n\nexport default {\n  components: { IconoPersonaAutonomo },\n  name: \"LibrosPublicos\",\n  apollo: {\n    librosPublicos: {\n      query: QUERY_LIBROS_PUBLICOS,\n      skip() {\n        return !this.usuarioLogeado;\n      },\n    },\n  },\n  props: {\n    idLibroSeleccionado: String,\n    URLLibrosolo: String,\n  },\n  data() {\n    return {\n      desplegado: false,\n    };\n  },\n  methods: {\n    seleccionarLibro(idLibro) {\n      this.$emit(\"libroSeleccionado\", idLibro);\n    },\n    removerLibroCache(idLibro) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_LIBROS_PUBLICOS,\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexL = nuevoCache.librosPublicos.findIndex((l) => l.id == idLibro);\n      if (indexL > -1) {\n        nuevoCache.librosPublicos.splice(indexL, 1);\n        store.writeQuery({\n          query: QUERY_LIBROS_PUBLICOS,\n          data: nuevoCache,\n        });\n      } else {\n        console.log(`Libro no estaba en cach`);\n      }\n    },\n    eliminarLibro(idLibro) {\n      if (!confirm(\"Eliminando un libro. Continuar?\")) return;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!) {\n              eliminarLibro(idLibro: $idLibro)\n            }\n          `,\n          variables: {\n            idLibro,\n          },\n        })\n        .then(({ data: { eliminarLibro } }) => {\n          if (eliminarLibro) {\n            this.$emit(\"elimineUnLibro\", idLibro);\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n        });\n    },\n  },\n  computed: {\n    usuarioSuperadministrador() {\n      if (!this.usuario || !this.usuario.permisos) {\n        console.log(\n          `Datos insuficientes para decidir si usuario es speradministrador`\n        );\n        return false;\n      }      \n      return this.usuario.permisos.includes(\"superadministrador\");\n    },\n    librosPorAutor() {\n      var objetoFinal = {};\n      if (!this.librosPublicos) {\n        return objetoFinal;\n      }\n      this.librosPublicos.forEach((libro) => {\n        let idAutor = libro.idsEditores[0];\n        if (!objetoFinal[idAutor]) {\n          objetoFinal[idAutor] = [libro];\n        } else {\n          objetoFinal[idAutor].push(libro);\n        }\n      });\n      return objetoFinal;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#librosPublicos {\n  padding: 10px;\n  border: 2px solid cadetblue;\n  margin: 10px;\n  border-radius: 15px;\n  padding: 15px;\n  font-size: 22px;\n}\n\n.bControlTodosLibros {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 5px 10px;\n}\n.bControlTodosLibros:hover {\n  background-color: rgb(241, 153, 241);\n}\n\n.bloqueAutor {\n  padding: 20px 0px;\n  margin: 20px 0px;\n  background-color: rgba(128, 128, 128, 0.404);\n  border-radius: 20px;\n}\n\n.iconoPersonaAutonomo {\n  margin: 5px 25px;\n}\n\n.portadaLibro {\n  padding: 5px 10px;\n  font-size: inherit;\n  cursor: pointer;\n  padding-bottom: 20px;\n  display: grid;\n  grid-template-columns: 200px 1fr 200px;\n  grid-template-areas: \"nombre ... controles\";\n}\n.portadaLibro:hover {\n  background-color: rgba(128, 0, 128, 0.233);\n}\n.seleccionado {\n  background-color: rgba(128, 0, 128, 0.233);\n}\n\n.nombreLibro {\n  grid-area: nombre;\n}\n\n.controlesLibro {\n  grid-area: controles;\n  visibility: hidden;\n}\n\n.portadaLibro:hover > .controlesLibro {\n  visibility: visible;\n}\n.controlLibro {\n  width: 29px;\n  \n  border-radius: 50%;\n  cursor: pointer;\n  margin: 0px 10px;\n}\n.controlLibro:hover {\n  background-color: gray;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibrosPublicos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibrosPublicos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LibrosPublicos.vue?vue&type=template&id=6aa0fe84&scoped=true&\"\nimport script from \"./LibrosPublicos.vue?vue&type=script&lang=js&\"\nexport * from \"./LibrosPublicos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LibrosPublicos.vue?vue&type=style&index=0&id=6aa0fe84&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6aa0fe84\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <center><h2>Taller de creacin de cuentos</h2></center>\n    <todos-libros\n      ref=\"todosLibros\"\n      v-if=\"usuarioSuperadministrador\"\n      :URLLibrosolo=\"URLLibrosolo\"\n      @elimineUnLibro=\"removerLibroCache\"\n      @libroSeleccionado=\"seleccionarLibro\"\n      :idLibroSeleccionado=\"idLibroSeleccionado\"\n    />\n    <libros-publicos\n      ref=\"librosPublicos\"\n      v-if=\"usuarioLogeado\"\n      :URLLibrosolo=\"URLLibrosolo\"\n      @elimineUnLibro=\"removerLibroCache\"\n      @libroSeleccionado=\"seleccionarLibro\"\n      :idLibroSeleccionado=\"idLibroSeleccionado\"\n    />\n    <mis-libros\n      :URLLibrosolo=\"URLLibrosolo\"\n      @libroSeleccionado=\"seleccionarLibro\"\n      ref=\"misLibros\"\n    />\n\n    <libro\n      :idLibro=\"idLibroSeleccionado\"\n      v-if=\"idLibroSeleccionado != null\"\n      ref=\"elLibro\"\n      :key=\"idLibroSeleccionado\"\n    />\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport Libro from \"./components/Libro.vue\";\nimport MisLibros from \"./components/MisLibros.vue\";\nimport TodosLibros from \"./components/TodosLibros.vue\";\nimport LibrosPublicos from \"./components/LibrosPublicos.vue\";\n\nexport const QUERY_YO = gql`\n  query {\n    yo {\n      id\n      nombres\n      apellidos\n      permisos\n      foros {\n        idForo\n        conversaciones {\n          idConversacion\n          respuestasLeidas\n        }\n      }\n    }\n  }\n`;\n\nexport default {\n  name: \"App\",\n  components: {\n    Libro,\n    MisLibros,\n    TodosLibros,\n    LibrosPublicos,\n  },\n  apollo: {\n    yo: {\n      query: QUERY_YO,\n      fetchPolicy: \"network-only\",\n      update({ yo }) {\n        this.$store.commit(\"setInfoForosUsuario\", yo.foros);\n        return yo;\n      },\n      skip() {\n        return !this.usuarioLogeado;\n      },\n    },\n  },\n  data() {\n    return {\n      idLibroSeleccionado: null,\n    };\n  },\n  methods: {\n    seleccionarLibro(idLibro) {\n      this.idLibroSeleccionado = idLibro;\n      this.$nextTick(function () {\n        this.$refs.elLibro.$el.scrollIntoView({ behavior: \"smooth\" });\n      });\n    },\n    removerLibroCache(idLibro) {\n      this.$refs.misLibros.removerLibroCache(idLibro);\n      this.$refs.librosPublicos.removerLibroCache(idLibro);\n      this.$refs.todosLibros.removerLibroCache(idLibro);\n    },\n  },\n  computed: {\n    usuarioSuperadministrador() {\n      if (\n        this.usuario &&\n        this.usuario.id &&\n        this.usuario.permisos.includes(\"superadministrador\")\n      ) {\n        return true;\n      }\n      return false;\n\n      // if (!this.usuario || !this.usuario.permisos) {\n      //   console.log(\n      //     `Datos insuficientes para decidir si usuario es speradministrador`\n      //   );\n      //   return false;\n      // }\n      // console.log(`Usuario tiene permisos: ${this.usuario.permisos}`);\n      // return this.usuario.permisos.includes(\"superadministrador\");\n    },\n    URLLibrosolo() {\n      return process.env.NODE_ENV === \"production\"\n        ? \"https://pe-pe-pe.herokuapp.com/libro\"\n        : \"http://localhost:8082\";\n    },\n  },\n  mounted() {\n    let uri = window.location.search.substring(1);\n    let params = new URLSearchParams(uri);\n\n    this.idLibro = params.get(\"id\");\n    const token = params.get(\"t\");\n\n    if (token && token.length > 10) {\n      this.$store.commit(\"setToken\", token);\n      this.$store.commit(\"setUserInfo\", token);\n\n      localStorage.setItem(\"token\", token);\n    } else {\n      this.$store.commit(\"deslogearse\");\n      localStorage.clear();\n    }\n    //Seleccionar libro by URL\n\n    const idLibroURL = params.get(\"l\");\n    if (idLibroURL) {\n      this.idLibroSeleccionado = idLibroURL;\n      this.$nextTick(function () {\n        this.$refs.elLibro.$el.scrollIntoView({ behavior: \"smooth\" });\n      });\n    }\n  },\n};\n</script>\n\n<style>\nbody {\n  background-color: rgb(228 227 227);\n}\n.letrasRojas {\n  color: red;\n}\n.deshabilitado {\n  opacity: 0.5;\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4501d07a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import gql from \"graphql-tag\"\n\n\n/*\nexport const typeDefs=gql`\n    type usuario{\n        username: String,\n    }\n`;\n*/\n\n\nexport const typeDefs = gql`\n    \n    enum TiposUsuario{\n        USUARIO,\n        ADMINISTRADOR,\n        SUPERADMINSTRADOR\n    }\n    \n    type Usuario{\n        username:String,\n        permisos: TiposUsuario\n     }\n\n    type Mutations{ \n        setUsuario(username: String, permisos: TiposUsuario):Usuario\n    }\n`;\n\n\n\nexport const resolvers={}\n\n\n","import { ApolloClient } from \"apollo-client\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { createHttpLink } from \"apollo-link-http\"\nimport VueApollo from \"vue-apollo\";\nimport { typeDefs, resolvers } from \"./apolloStore/Schema\"\nimport { split } from \"apollo-link\"\nimport { WebSocketLink } from \"apollo-link-ws\"\nimport { getMainDefinition } from \"apollo-utilities\"\nimport { setContext } from \"apollo-link-context\"\nimport Vue from 'vue'\nimport { onError } from '@apollo/client/link/error'\n\n\nVue.use(VueApollo);\n\nconst cache = new InMemoryCache();\n\n\nlet getToken = () => localStorage.getItem('token');\n\n\nexport const serverUrl = process.env.NODE_ENV === 'production'\n  ? 'https://pe-pe-pe.herokuapp.com'\n  : 'http://localhost:3000'\n\nexport const wsServerUrl = process.env.NODE_ENV === 'production'\n  ? 'wss://' + serverUrl.substr(7) + '/subscripciones'\n  : 'ws://' + serverUrl.substr(7) + '/subscripciones'\n\n//console.log(`Server url: ${serverUrl}`);\n\n\nconst httpLink = createHttpLink({\n  uri: serverUrl + \"/graphql\"\n});\n\n//console.log(`Direccion subscripciones ${wsServerUrl}`);\n\nconst wsLink = new WebSocketLink({\n  uri: wsServerUrl,\n  options: {\n    reconnect: true,\n    connectionParams: {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    }\n  },\n})\n\nconst authLink = setContext((_, { headers }) => {\n\n  return {\n    headers: {\n      ...headers,\n      authorization: getToken()\n    }\n  }\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (graphQLErrors)\n      graphQLErrors.map(({ message, locations, path }) =>\n        console.log(\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n        ),\n      )\n\n    if (networkError) console.log(`[Network error]: ${networkError}`)\n  }\n\n})\n\nconst link = errorLink.concat(authLink).concat(httpLink);\n\n\nconst finalLink = split(\n  // split based on operation type\n  ({ query }) => {\n    const definition = getMainDefinition(query)\n    return definition.kind === 'OperationDefinition' &&\n      definition.operation === 'subscription'\n  },\n  wsLink,\n  link\n)\n\nexport const apolloClient = new ApolloClient({\n  link: finalLink,\n  cache,\n  typeDefs,\n  resolvers,\n  connectToDevTools: true,\n});\n\nexport const apolloProvider = new VueApollo({\n  defaultClient: apolloClient\n})","import Vue from \"vue\"\nimport Vuex from \"vuex\"\n\nVue.use(Vuex);\n\nfunction parseJwt(token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n\n    return JSON.parse(jsonPayload);\n}\n\nexport default new Vuex.Store({\n    state:{\n        token:null,\n        usuario:{\n            username:null,\n            nombres:null,\n            id:null,\n            permisos:[],\n            foros:[]\n        }\n    },\n    mutations:{\n        setToken(state, token){\n            state.token=token;\n        },\n        setUserInfo(state, token){\n            const datos=parseJwt(token);\n            \n            state.usuario.username=datos.username,\n            state.usuario.id=datos.id;\n            state.usuario.permisos=datos.permisos\n        },\n        deslogearse(state){\n            state.usuario.username=null;\n            state.usuario.id=null;\n\n            state.token=null;\n        },\n        setRespuestasLeidasConversacionUsuario(state, datos){\n            var infoForo=state.usuario.foros.find(f=>f.idForo==datos.idForo);\n            if(!infoForo){\n                var nuevoInfoForo={\n                    idForo:datos.idForo,\n                    conversaciones:[],\n                    __typename:\"InfoForosUsuario\"\n                };\n                state.usuario.foros.push(nuevoInfoForo);\n                infoForo=state.usuario.foros.find(f=>f.idForo==datos.idForo);\n            }\n            \n\n            var infoConversacion=infoForo.conversaciones.find(c=>c.idConversacion==datos.idConversacion);\n            if(!infoConversacion){\n                var nuevoInfoConversacion={\n                    idConversacion:datos.idConversacion,                    \n                    __typename:\"InfoConversacionesUsuario\"\n                }\n                infoForo.conversaciones.push(nuevoInfoConversacion);\n                infoConversacion=infoForo.conversaciones.find(c=>c.idConversacion==datos.idConversacion);\n            }\n            infoConversacion.respuestasLeidas=datos.respuestasLeidas;                        \n            console.log(`En variable IC: ${JSON.stringify(infoConversacion)}`);\n            console.log(`En state IC: ${JSON.stringify(state.usuario.foros.find(f=>f.idForo==datos.idForo).conversaciones.find(c=>c.idConversacion==datos.idConversacion))}`);\n        },\n        setInfoForosUsuario(state, foros){\n            state.usuario.foros=foros;\n        },\n    }\n});","import Vue from 'vue'\nimport App from './App.vue'\nimport { apolloProvider, serverUrl } from \"./apollo\"\nimport store from \"./store/index\"\n\nVue.config.productionTip = false\n\nVue.mixin({\n  data(){\n    return {\n      serverUrl,\n    }\n  },\n  computed:{\n    usuario(){\n      return this.$store.state.usuario\n    },\n    usuarioSuperadministrador(){\n      return this.$store.state.usuario.permisos.includes(\"superadministrador\");\n    },    \n    usuarioLogeado: function () {\n      if(!this.$store.state.token){\n        return false;\n      }\n      return true;\n    },\n  }\n})\n\nnew Vue({\n  render: h => h(App),\n  store,\n  apolloProvider,\n}).$mount('#app')","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAA3lBMVEUAAAD/9fT/6uX/4eH/7evV1Nv+7uz/7OnS1d3/9/X/6eb/6OXU2ODaztL/3t7W0Nb27u7S1d3Y2+L14+Lg1tvQ0trR1t/uu7u/n5///////v7T1d3s7PA10Zb8/v0x0JPu+vXw+/dz3rM50Zc00JWt69Ns27D2/Prz9Pb5+vrY2uHo+fLu7/K57dhX16X6/fzv7/Li+O9C05vV19/k+PDf9u3F8N+y69Sd5smI4r6E4bx437ZR1qNO1aHz+/f09PbV8+fd3+Wp6c+W5cVw3bJn261e2ald2Kla2Kfw8fNijA/eAAAAGXRSTlMA+1ka2c5B2dbCtllQTC9X59jWuWxiWQ8IBi+1PwAAAb5JREFUWMPt2GlPgzAYwHE3ZffhrStbwa2KkzHcfcGcu/3+X8hnWTaMBkalTSDpP+EFb34h5WnS9EwkEomi1Lmv/iMnMsmL093k6eVCGvmpLNHb2VjJTw1ZKtLScX/0uyxLeW60nCpyoiEpx4mGrnKcaEi6p6VRvVF26wMfaSiVo6XLsmuf9f3wHey7R0q6c4L+ejt0ffvAbEHQjq6/HrtM0NCAu1f6VSzObEKC0shXDk2/1t416oiehgnxUaccLtr3goTpN3oW4rn+E4L40EhvtXTEhVZHljVS+dBVRakKWtCC9kOjnzRiSWtd06HNrsaO1uaTvnmgzf5krrGiTcNWNoa2pzVjo9iGyYhWR4SQ5kDf0fqgCS8jlRGNZ5MaIdZwpSiroUVIbTLDbGiwe2Ow2+39Uxv3MLsJQfoCzAoE+kJne5xUh7ayoxV7qLLejdNBEz4b/uaU+UZHmrEmZG1oiDUN4f5y2cd8ziG418PROz0xprFHgWgYi2fXYFiC0N1tpeZSZdsKRsM+cYk0g9EtfrQ+fnFtrAegwX7yCIV2rqNDZ+npLMXFJ13pAtPrWqdkJsH6ktnpTCQSiSLUN5DlNzinQAMLAAAAAElFTkSuQmCC\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=style&index=0&id=1d1d781e&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=style&index=0&id=71d42152&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAjVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADqhzP4AAAALnRSTlMA3x8j4xUmzPyx3gFmiAfUqRhE9zoq6dqbDrl9bu/DoJSCaVtQQPKzpnVfVUo0WjuT0wAAAcBJREFUWMPt2NlygjAAhWEhhoSwr+5LXbr3vP/jdZg6NYoaQ3LRsfx3evENkAUmg76+Ry6grlE0OPWqiAnHIMGiSvY8H8b5nnS/ESwUHe+aMhsgo7+gK9BUOx2r0STcI+g0f6xKt2PlCgCcM7AuB50r6xYo/9bPG/49MM7cLLYH0jBNRJKG1BKY+xxN3M+tgDk7TubcAkh9eQVTczDkEshDYzBOIZfGpmCWQC7JTEFXSNxhSyC2r5DYfobE9igTm/NQDyThbEsVK0UH3E85eFrdWstaYDVF0ytR7TbEuQukK/w0zhT7oQJsv63Xk8GlNMF5gd+i2BzcDnGMzwJTcM8gV7xJz9aj+mD1gtMWm8Gh3ctw+qkLTsY4b/h+WHkjAOxTDwye0G700UyX2QJNy70OKA+wLG5IOeb4afqlAX44uFjh1NK2UN0Nlgz39EpUoO738ThTg/IAq1tP1KA8wOqiWA1unjVA/hSowJ1QM+0V6V4FyyX0ep7fBEkK3erwBjhZQz9nex2ccXQo2V0DwwU6xfLL4HyEji3fL4HFCJ1LihZoWg/+Q1DYAIVr/RDD+jGL7YMgy0dVnvXDtL6+B+4bd8GYEidpbS8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABEVBMVEUAAAACAgIAAAAAAAABAQE0NDR7e3sBAQEEBAR5eXkeHh4MDAwwMDADAwMGBgYVFRUKCgoPDw8ODg4ICAggICATExMPDw9QUFBZWVkGBgYBAQEJCQkCAgIZGRkLCws2NjZkZGQODg4GBgYGBgYODg4MDAwPDw8SEhIICAgRERENDQ0bGxslJSUREREWFhYbGxsdHR0cHBwvLy9vb28xMTH///8ICAgODg4ICAgGBgYSEhIUFBQYGBgjIyMaGhoEBAQMDAwoKCgoKCgtLS0kJCQ7OzsMDAwDAwMAAAAjIyMPDw8QEBANDQ0HBwcMDAwcHBwKCgohISEtLS0NDQ0HBwc4ODgVFRVAQEBYWFg1NTUAAADjrFRNAAAAWnRSTlMA/qU/eUQdwVcCH78M79mVV9HB42dXPBIF+eLSWVc/Kgvy8u7OubOwpaN6aVhYT0tENzAdHAPq4daxi4B4cF1OSUhCOSMi8cPBr6almZmSdWlkT05OQDAgHRixeboEAAABzElEQVRYw+3WWU/CQBSG4YPiUnAB29KioIgCyg6K+77v+/r9/x8iTVpGI+kMHi686Hs1SZMnnTmTphQUFBTUa2OJ6vPLfjptmpVYu9FvxWLm/kHiU1WyCpAWn1OiThbgFuqW9+xJZX9tavEoQ341821M4c2WgWWSZgAbJMsOYYYUugaOpacF7KlY78AWSXoDGqRSSH4UDUBt3EkUSFICiChZWWwqWKtK1hlyRI9Vv8szC3woWfOYItKB3KmftaJkrTnWOoDQIduadiyrFm1jzX5YTiVAp+4NAsM9WTQJ1PtlZYBtpjWPqLvScce2vLu6jlumlUXeXW3gimklseSuZrDEtICbfllNYKdjDfCsRfENiPMsrQDkqRfrdeh3R/V6rVLUgQWrF2sSPumrpGTJqeS2TWqWR42XDMNIpZyfiFjFNNPpcrlcPagdNk61H2PwszwqQkpdSCxByRvxswTFtzxqd4tveRSSFte6dDdoAPEM0+qcVQ5YK81Ztqa1Wi3tD5agyJ6CT1FNav2Y4H3WF5NYkXA4QiLteO9hp1gM/27CwYTFaqyDCYuPCYuPCYuPCYuPCYuPnQuLjUFYbExYfExY7OxUKkFBQUH/sC/SIJ/NRVDIKwAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=style&index=0&id=10aff977&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAAA6lBMVEUAAAABAQEFBQUCAgJGRkYFBQVCQkIICAgTExMmJiYjIyMmJiYHBwcTExMPDw8oKCgHBwcODg7h4eEICAgPDw8AAAAWFhYSEhIVFRUQEBAdHR0hISE2NjapqakDAwMICAgGBgYQEBAQEBACAgIEBAQGBgYAAAAHBwcKCgoDAwMSEhIQEBAWFhYZGRkMDAwqKiocHBwGBgYhISE8PDxVVVV3d3cODg4mJiYfHx8hISEvLy8lJSUkJCQHBwcFBQUJCQkJCQkJCQktLS0kJCQRERENDQ0hISETExMjIyNycnIjIyM2NjYAAAABAQFu+6+gAAAATHRSTlMA+vjxB+wE0HgaSyHZinsx/KwB37ivkoFvXlQrEgXtzMe0sPbm4MnBrq2rqFxXU1JPNy4XFAuoTkRDHw0J5uLVuLaaiIJnWT07LSgnnXLyIwAAAadJREFUWMPtl8dWwzAQRZ3YcUt1eiPFpBcgENLpNSD9/+/gWAZbmAXWZKGF7973HOuNRjNCSEjIP9FWlWlaOoYpnlQ6YqM7OIOrZi2MDuBoUgaq0j30DU7CVLKBXKKw39SjHhcegAIoIi/dNMQ1pFyNKcRVoFxiBaA6eaBcnTWzqa6PM5RL0RhNVxejGFFAC2xebcfw4XvsulpxFtP1a56Ymmrxp8J6M5YTP2+LtulO1eTtS4IUvRG8uGRJN+wTj+RKG9IoyovCsKjLwbNbju2fOk081wQCMLuIkrqEmeZVk5x4S61lhaB8Tp4ey28Sya7qZKeom+D9YFfKRSzE+1XWyi5PskuoGkP/3LcxItxUlqaTXYrpmuwMTwNwsit9CEyUMaLIsGdX71Mu3EyR7Fh4v0Ve+nFAL5+IlKsgCHy4/vxHDs6eqgnofd7CapVmbwa4Q6C7De05DafnuJnCe2GT9EJeejR596m3A4ikjwBvGuythc8A8NmEPdOFf2biYJazyPpmTE5mX99Mzsuu8HuH4WW3onc+jnZRekeGo63t3T0kJOSofAHkCsd6OQ0YgAAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=style&index=0&id=6ca7979c&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAsVBMVEUAAAAAAAABAQEKCgoICAgEBAQHBwcEBAQAAAALCwsBAQEDAwMFBQUDAwMDAwMEBAQEBAQBAQENDQ0AAAAHBwcBAQEDAwMEBAQAAAABAQECAgICAgIODg4BAQECAgIGBgYBAQECAgICAgIDAwMEBAQBAQEEBAQCAgICAgIfHx8BAQEKCgoFBQUBAQEBAQECAgICAgIBAQEJCQkLCwsBAQEEBAQDAwMAAAACAgIDAwMAAAA7PaJUAAAAOnRSTlMA+t4VBFwodsAOonlOIX1nY68a8DLQjzrr48e2H7yBRfWynXJwyj6QhwhAGFbn16qZXycLpUlqAsKU+ypwswAAA9RJREFUWMPlWNmWojAQlX1HFBBX3Ntdu13aHv//wyYLIWkL1B7OmZfOE0rqJlV1b6VC7dcNy0vcwPB9I3ATz/onCFXXFqYcSjcypFA2F5qu/hCkqdkyQRCHJNva5gcgntGVBGvxuWt4L4Ios3lm1I4bLaOuaXWj1Yjb2Z/zmfIKijum02W7HilqHiolqtsyfTN2nyfH6ZDNm1NdhVGfmsTBjvMkbfqErDcIlBKHgwGZMNEfobz1iDtG80EOHeJa7618ytrEMxrDxzseNvAsc126F4LS6j+LX79FcEr2o2OPJP+VbPoS9ksvzNEEozivccvBOBOr6A3eqf8q0X08u2BNt4PjUm530i9bN+E8wPHpuIAQY5yjfinIR2MnSVI4T3UW5wbm8z29ZpgvpZmO7FyeXY3lHfNndqdprEajlE+DGx+dQAjm/LveDayAMu663Zs45EvG58H90k00UQpKUD72xHr0de51yNPhRF8EEvJRXFtDf5glaqzLtMxo1nWV2AQw245iosU1oQLgt9MSotFyZdLwH0mUltm7KXq2VS4DGXlcLP2UgHBBf5K6tYJ21CeKClVozFJ7PrL1XL4jBPN14l4IXi3Qq3oRyqp51PuWsuZxvGAY88Tihn4sclGiULWjolJ33u92cs8Q/F1ip84qo2UbYVqMe8jFWIF06THqxp+C8kTuKjEKDmNgEiI5qYAusnA8pVkQY8K/KE8xElaYsCWkAm1PdxyFsTWgyMuaqHOJyTwo0FMqUeru95Q3cpIjj73vIgrYM0iUtaR7aGybm/U7edQY8iARKS7swCfZF9lCLW8Tz02XrurIoZz2M+RzVLtTkV8Cc7SpxZ9milgS+tYxOR5z5BqAKXbKO1OLdKWYNBhTzf+i/y0IEaFTMMQqXTd08KyMOYxAKaUFDDFMuDYiNY4w7rrM7BkyHSDhkH6rA8nvB0vZKEfZc8cB/YAY9A524pOTuUeB2jYo+FwMUJpDbDVX+ILWxbcP77NkBUC4NGGh2OJwHtScQqnz1lcs0DmCQsHLFocZs6W9CXJenncDuBexbMFimISChqNDluiTaA3tYEnfxISsTeGYG4EGAZR0eMBQqhy2ejSN6TE5A/bwgKFbEI67iBpLO5QFRiEw+HG3KTt866FI3XgL7cXDF7YCDsNscxRTJB3sq7reg8ZkO8i02P4TQXPQmJS2SYr23t3HveVQheagTXrUtKnWRuGUg+MKmraqLWT1hrZae30F7XXVZr/61ePpRcipdhGqfi2rfkmsfmV9foFegAt0d6b8l+v86x8Xqn/qqP7h5beNvx6U8A4TgRU+AAAAAElFTkSuQmCC\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=style&index=0&id=4dda7762&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAh1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3YishAAAALHRSTlMAHWYM844W+fbOXRF7rtQHbBPl3NiGVcSrdjLqx7M6JebtiVG2PDmSZUW4lkeFA2IAAAKHSURBVFjDpZfterIwDIZTOlS+XgTlQ1FEdLp34/yPb6R0VCjYcvX54bVR7tCmSdrAnEiaBE61aZpN5QR1SmCRPu1dM9Lu+alLewdOSzYOng5efzSz+qiVJrZX/u46s90HoQCUPNw6W/PH1+1b/HLidH6jwxF6y7mN02Wed7vZV340NRr5VbcOd463u3Gfwoyo333BnhwNAzZ4frvj5MxeCsIJ/htHNhYoZG3wvbtsgX0/PoJSx5jNYXL9e62AJfsJP7iMX4GWVsyCO9h/9G6snTAkxt16jYcT+u8I2jqiJ08v8YtT+oIFspDoo9q74v7DIp0xL/4yq8YVLawYBL2W8Ang3z4slI9f7aZwwPyhGsz/w5fYaFq02AFQO70JrNhWuYMp7Fj9w/yP1Py/rlL0mx1hfSh5EOd6POrZP8oxoPkKbtp8c++fpRj9AATnRbX55ke4EddAmJ1Mlxc+QGXt/ykk7W+tzYuA595LWCFxtXlrXAMCcNrfBwjRZ7E+3XR4KNsnDlTME71Ch725VfOd/2PAzKajzEYLah4ohibgyLC2cgtKHkLGygaEBZmXDchLEBYUPF+C7MRevszLTpS2MXqxIPPyNsqBFDk6vAikRDplIkfNi1CWkwktqHmRTHI6owUVL9JZKijcgpLnBWWupHmOiuclbbaoRo6KX7GiOl/WvUxUcVmirPODpaBT54hF5nlxsJgfbZAYHK5Gx3vhDXLYWnzBsAyvOJnxJcv0mmd60TS86uZyib0vu2ybXffz0LDhULQ8hb+abnkK0fIom6503HSlf01XdtFv+0pCw5CS0rX7tq9QetlL3jWeiWfa+mqqtPdjem+XSkxu/2Ns/2MnSObb/1/3C6xgJU1VjAAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=5ff6e04b&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibrosPublicos.vue?vue&type=style&index=0&id=6aa0fe84&scoped=true&lang=css&\""],"sourceRoot":""}