(function(e){function i(i){for(var n,s,r=i[0],c=i[1],u=i[2],l=0,A=[];l<r.length;l++)s=r[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&A.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(i);while(A.length)A.shift()();return t.push.apply(t,u||[]),o()}function o(){for(var e,i=0;i<t.length;i++){for(var o=t[i],n=!0,r=1;r<o.length;r++){var c=o[r];0!==a[c]&&(n=!1)}n&&(t.splice(i--,1),e=s(s.s=o[0]))}return e}var n={},a={app:0},t=[];function s(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=n,s.d=function(e,i,o){s.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,i){if(1&i&&(e=s(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)s.d(o,n,function(i){return e[i]}.bind(null,n));return o},s.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(i,"a",i),i},s.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},s.p="/tallerCuentos/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=i,r=r.slice();for(var u=0;u<r.length;u++)i(r[u]);var d=c;t.push([0,"chunk-vendors"]),o()})({0:function(e,i,o){e.exports=o("56d7")},"01bb":function(e,i,o){},"034f":function(e,i,o){"use strict";o("85ec")},"06b2":function(e,i,o){"use strict";o("7a00")},"0705":function(e,i,o){"use strict";o("3593")},"0d62":function(e,i,o){"use strict";o("fef7")},1:function(e,i){},10:function(e,i){},1070:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAApVBMVEUAAADM28LI2L3h5tzj6d7R3srn7eTL2cPT38vW4s7g6uDF1bvH173C07fa4NTO3cTk7N7W4tPK2sDa5NTi7OLo8Oja5NXJ2b7M28LD1bfk7ODZ5dLY49DR38jd59fV4czT4MvP3sbP3cXK2r/H2LzW4s7S38rS38nQ3sfL2sHF1rna4tL////5+/j9/v3u8+v3+fXw9O31+PLy9u/7/Pr4+vfr8egF2h3MAAAALHRSTlMAcFEYHCQVFQUcDxkRDAh8ICBjJhEMAVc/KyjQx5XwrqiJg11Ku6Kcj2o4NHigeIkAAAKNSURBVGje3dl9U+IwEAbwR0opUKjg8S6e53nvV+RFuO//0W4SZXYYzG5owo74/COObX/QNLuGwDeDtMBBmmkDMZNkcKTZiyN8gpBWqNAIPyzie+xXJGYQEs60FU5pokpGOCGVH8ws4ND4KRCUITxSV5hbfQQnDygi0SbxX0RJ54yfg5IpGEAi/iG+Ej4/wgvT5ckBzTq0513ezWrD5FIuK5f3+OlCyKV8EP7SVxUzPqVflhWzOF4NUIuJicgJR/xb1enva+U6oyN9kltv42fA7fJV7oTbVXcgm6U567uX8dUcuiLk6OHNHcgSVrn3NdZ4IkQKIVibk79AyvWLUQ15Ve78DA4ZMAgpssEgXaQMslceJOMZPJLxCJ7NRa7dlZSMimNCypXjuN9kBCC8ckNGIIKNudQNY4QipIwZIxQhpfaWsUEUhAr55OCQRzIiIKRMQRmTEQ3B9lD5ZusuIiOlTU4GFfZoSPmaLkwm1KNiIHR+uV2Y65qWXTMv7P3bRUHIeAKs8m++fBmPpv0RByHDKCb7i+ekBCFk0JNMz+6UXvJILiBk2Mztb/uWPCGFRSYcQoYjY59S30IiIFtr8E1rzSNDZkxoosstPmDgyWDyqzQHC0jOIAtrCPlhFR6puxAyhNzbOepEOuzt2lGx4jO3SpUx2a2o7Eq5taNfMsiMWTpM4ZfP7qVDKq1P/gCnKNztGrmQ3WPNNw9HiOYSu62w+qXUz4dk0M0MZ0oC7QxxlgzEeRk/Iwh5r9/eJW8Vsg8Tna2Nhso0bCE8cs1KFYxoSiFumIano7AjlClU57bCplDxrnY9ejqdsKPSMAY67bWvs3XZ0+l57a7OfuJMaYs3KZT+NRimIxym793k/gPFdL6ma6aH6QAAAABJRU5ErkJggg=="},11:function(e,i){},12:function(e,i){},13:function(e,i){},14:function(e,i){},1566:function(e,i,o){"use strict";o("b8fa")},"1d2e":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAC8i1q6i1zyu1n2vVq3kUr/tki6i1vyvFm5i1xmXWZ9c2W3il2xiF7kpVqQgmuziV7uuFmpg2GrhmChgmHuuFntuVquhl/TmlrTqmCrhmCvh1+yiF7OqWDHlVqmg2Kog2KigWONd2aDdG3uvVrzvFq7jF349uzkpVvyu1rxuVrVm1vlp1rrsFrorFrJpX/08OP37tnzw2zCmW7w6NrstFr169ns4tHnsG3Ut5fIoHPAkWD07+Pv4cfk1L/VupvNrInYpm3xwGzutFov9SsWAAAAJXRSTlMAH9/fHwcHt7d+Bg38ubca5LeUij7v3863tK+mpI+PbVtFLSMf1QcYpQAAAOxJREFUWMPt10eywjAMgOG8R0+l914EhE4SEnq7/51gCyEOGnvF6D/ANyNbG0kURVE/lhwLCcf1WrUEu3oe4+U1FcJKIbyuBmAtmKFAOQewdQ9LRq6FAY0SLOwhMxsF/v3DeSgY3IoGd65gEC4ne/NsFdBxt29GDQwIe+vqed5tHZDjFCIVAwMCTEajqTlgFIkSSCCBBBJIIIEEvoLmzJ8z5gHn/rjAwfhDvG/o0zhB0zcvF/j+L3c8mGaOjF8bpSp4D6W2KhhUsioeZIu59BdgsY849zpZrazreiYZXKahIA/weEiyRFEU9Ts9APjdERj5ZBqjAAAAAElFTkSuQmCC"},2:function(e,i){},2191:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAMAAADGfvrlAAAAtFBMVEUAAAAAAAACAgIAAAAAAAAAAAAGBgYAAAAAAAAAAAAFBQUAAAABAQEGBgYCAgIAAAAAAAAEBAQFBQUAAAAAAAABAQEDAwMCAgIAAAAAAAAAAAAFBQUAAAAGBgYAAAAAAAAAAAAAAAADAwMBAQEAAAABAQEBAQEBAQEBAQEDAwMBAQEAAAACAgIBAQECAgIAAAAAAAABAQEAAAAAAAABAQEBAQEBAQEDAwMAAAAAAAAAAAAAAAAAI6fdAAAAO3RSTlMABQvg9KseO8T3ho92RZ0X129r+9M/KzjxyZkU3Q/ov7ykMiHOtV5SJRqplEx/ZK6gconruWhZQwmCwUKZof4AAAMbSURBVEjHpZeJlqIwEEUDuNGiIiACoqIi4761S9vv//9rwgxYgqB4fMfjEnOTkKpUVViuxN7E7HbNWasvsLfUq7aXniENLGsgGUOn3WkVJfurum8hIctf/umx15prxxKAkjvcHZR2W/naeWo4lDzcT17NevrVgcFUaVTE28NXOsp2AMDeP519teWof+1GIEnorm0A0z/5+6tIgKHkrK6y5/j3OmfyWROw6mOWq9nhGxhlduhMAfvMnuqPB3idDHZIo+bL3AHDS7q1y1mnkmocbzbdVFPrwOnU3JMyUO+nOgYq4J5YSmvgaCYssQSa6X2c+PB9qGbaanXe936eto7t5MHosjs2Df3BtPMRoNw9sAGjEw/cinXSDXNW09u3hp94K2y4jdtCmtC1eNN3hhpJAlRVhxT/NhareDNKGImx9fj3aFSzBjlXMKrRbA7kIPLKBQbxKvbwg0aky78XKbBxjbpVXUz7/zemhCWLVIfDcnXAKA4qX5DP0Rq+OwTbX7n6JXgsYRE+qck/BXYb8amcW0cHg9CXN7q+IQ93yk/UXNERkbHnq97Bnd35z1PdeYqBrcBaBsoCe19NuBPWtaAkm09Knz2quk4eMA2lBgt0eZUMN6pF3Uh1XJPn34LG1hiYSVgqVTOXWU/GJIk3OFDnWTDfh/hdyIJ7PkZsAbufAZvLTWjGpcm7HZQMWPyFx46oiRnwCZ7IRA98iGrJrTzCwhQ1VsuG22GzWIMWwlIWXIbNjm/DNDM985sw/8+j3S4M026TnQvDZGfysMIweRj5dmGYfJtOVWGYThWd58IwnWeKJEVhiiRRDPt5A6YYRtGzMEzRk+J2UZjiNmWMwjBlDMpVYgrWIniTgilX0XddIyOoMk/JF/srXJ194Y445blc2II3JLPkY35mPws44RhCOOyccbX6vIurB+whPz9WBoGuX+dCQmJ1gVolqzKgmoR+GNPyvTwJ0vm+JhFzq6He2tWRlOydU9VQfh1mBnvlXlqjlarDPq8ASdX3as/Pq97P6+3PK/3Xd4x27/Pbzef3qs9vdK/vkmJuvfMXl9icGVrQDtsAAAAASUVORK5CYII="},"28b8":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAAyMjIxMTE0NDQqKipBQUEwMDAjIyMxMTExMTEyMjI4ODgxMTFMTEw1NTUrKysjIyMwMDAxMTExMTE1NTUxMTEzMzMwMDAxMTExMTE4ODgwMDAxMTEvLy8gICB/f38yMjIxMTExMTEvLy8xMTExMTEuLi4wMDAyMjIyMjIxMTEvLy8xMTEyMjIxMTEwMDAzMzMuLi42NjYyMjIxMTExMTExMTEwMDAvLy8wMDAwMDAwMDAtLS0tLS0zMzMvLy80NDQ2NjY4ODgzMzN6YhNIAAAAQ3RSTlMA/fT6PVlzBiXd+8TnFCIJA3j7+BjxZS8N2ZFdz78OBO/kyrWmn5trUjspHOu8r5RJQzXV0sWQghKrqIpuWFZPpnmWvT1N0wAAAodJREFUWMPtl9mWmkAQQGlibDWGRRYhIMEFwX0Zt9FxMhP//5+C09UJKnhsOicv4T41p+BC2VWFCAUFBQX/D4peSWLx+ix1XU1gBwNOYVlDpyRouuPy4Sn1UdrDB6+UsZCC/HYttCuP6HSn3+2bo5TI3K2hGJJujLFVHvBFE+18/tpJiQ1CVVUDdI6/qWo5emSbFy6kU33NOkOMo58+C4/h9RAI0UQSUikxCY/+idJQ/4LQSlQGWo/4hYt6omxFh1uobFCyEXoWr1ByLxuhxCt0RHg2ui2cQtyHLugYxDjZ8QmHT8QjmhNiNiI+YblBhK6kwmqGeYRWFzLeKHMfcpd4hCUoQuOHIK3IUjM5hPgAm/skCXiGoBTl/MJRByRBLIkMkA/zC+dj2OPz3KrYkHOYVwhZxqzOM0Hew9HUyiukz4SCj1IxNXJYH+QVUoPmXPq3OYXyM+TY0cnoppNxrecTDugk7OPLtjGiXEJFrcEeO7/vAFU0w3mEuy6ihfedoLdA6Ep5hCWacfvnN8BGtP1yCJUDAiH6wwnYy2xCmP3ZVIfswlfxjhCVmYU4QPeELZ1VuGyf7lEvsQmh7bJpbBU2oQdtl0lnxCYcjOFC8cslPqIvBTbhC7Qt6kpfk+g9BIGDwiKUe3Q7t8rtnWAEsQh1l2ZMM6M0bbrPSxbhckz/s+qpzw7XMwh9qI7yTSjU8ghhdKFV87bHYYbZJCQPm81m+CF8j1dSltFpoxg/TAtVUYzxTt7cs2q9Xic/0DherV6UjOEV9VutZxOnvq3jUHDEZKo3rj/NFpnTwfOsrKLyPAwn7a8bCpkCD3hzLTTmAhfLrlhL4m8sgQ/pWE4QLmShoKCg4J/zC0L99j/wenPiAAAAAElFTkSuQmCC"},"2d68":function(e,i,o){},3:function(e,i){},3593:function(e,i,o){},"3a36":function(e,i,o){"use strict";o("3d30")},"3a9d":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAeFBMVEUAAAAXEAoUDQhlRSs0JBYrHRJLMh9FLhxeQCcaEgtiQykyIhUlGQ85JhgsHhJTOCIpGxEgFg1ZPCU/KhpWOSN0TzF6UzQvIBNrSS14UjNPNSFjRClyTjF8VTVcPiZnRyxuSy93UTIDAgEKBwQRDAcPCgYIBQMGBAI5vVJyAAAAInRSTlMA/v6A/v79/aX+kP7+/f7d/v6+/c00Ef5iHfGLPQewd1IkgWmI6gAAAZ1JREFUaN7t1eluqzAQhuGxwxInmDVrl7N8A+b+7/AcqdCChJrUxZVazfNrBBIvBgtICCGEEOK7ecpSGtWlUtmB1pc6RYMccAyUtLq018O0Rx8XRe6Qh4v8YUT0n0V/GU61i6r05B1pen4ZGPZliHgRoAvfSI5hUK9vZbvk0Bhw4RmJMewAg4zedSyhr6EjdDRogkcoRRU+smUdPrLh9isinUS+IHKGCRdxw0apVTp+VvK1Iwd2NNfBjtfaTT2evCNHjZqmLhgPWJ6rTr4RylDRVImOlv8nJXlHCu4TelM7WFr1nYy3XtBo10JRgMjJoLPX8QmBLyEidKzQqygpHqxx0BtaOTJqOsCxA/hMFCAySGKjTZZeyTPi1Vzye91IxG6BeVo1Uugl59lKQpHIRPocPmI5Dh/JYcJHYiga/Y32U1ESIhJjrt0EiGyNmtmvvJJlEpGIRH5YJP9QpCUvEZjuVTtDXrYOj/evOic/Gpruk3D/i/wUDL2jO1hGTr4sA6xuaR1Qkb+D4R43uTaiT9k10S324ZmEEEIIIb6xf4x8QD01P3dKAAAAAElFTkSuQmCC"},"3d30":function(e,i,o){},4:function(e,i){},"4a8c":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMA+/m7FsEEiBPmECX07x+ck5iQY1wMBt46InFINCkb6tXQyLaNf6x7QVdRTy0IysOjdbIknQAAAAI9SURBVGje7dbplqowDAfwUpACgqCCoHIRRdxny/s/3PWunmGxtIEPc6a/F/ifJoSEKIqiKMr39DJelWRQi3H4HsOKDMi4THMXIB6TwaRs62pw9/5CBrGYzAsX/nBDMgBzefFj+C8foFrOerb14EGbLvqOuB13vxvx4F76LZMRHjyo2ho9RmTrYAsNWG8J0YntPGjipj1FjFcjj0KzwuyjEdbV30C7OT7COLFXCk/kE+z/NSlHG3gOOSTZXN9owOFdMY1YBzF08CpdLSsp31zoQpuZco9IP3QbOnLXMhFGeLApdLZzhN8QJfschBxF11DyobsgxruJhvgg7EBETXQQdSbCliMNePCb5McIhMgNyVIXajt/SPB92WWy66l7Xyh/7+L74p0Qq7ZrxUYR4cH3hX/K4+fF5h+n+L74hAc/L/RKsCYFd0gsgpbyNjwz0RlO6cFTmxM6I2KUNyQGOmOm8dp+RNeK8TJgkyAzLEaBp1gg37GnwDVHZgQacMUZrlb3nvMFuIxarbwYeZzWM4JqBi1TvT4kDibDr9ZKY07DfjmamHfUMmZRw963EUNi1GvFoqb9UljyGdN6htO0X+hKPqPej73TuPftW48ZgdN8jx1k257VazVzPu/9N/grJJIYVDP2Vss9lktvkrNd/XattnuMEWlz+1PG1Gm7k72E9JNCA6v1HtMjRIgZ2o8Mo/0eWxGUfynatL21Ez8lfaRovkHaLUxkiPmrL/SewYFPuddqaGeWEUVRFEVRvqqfnnZk9rlieAEAAAAASUVORK5CYII="},"4e77":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABjFBMVEUAAAA+MzgAAAAiHBwgGBg+OzsiIh4eGxlEPj8WFBMhHh0nIyRAPT1ORkYfGhYjHhwfGhoeGRgeGRkgGxkmHx8oIiMoJCQlIyEpJyUrJyQpKCkiICAqJiQwKyscFxggHR0dFxYhHhwhHBwgGxoeGxsmISEdGRkjHh4dGhkgHRweGhsjHR4mJCE+PTlST08rKCgbFhYjGRogGxocGBcgHhwpJiUiHRwiHxwgGRkYFBMkHx8uKCcfHBoqJycsKSkdGRchGx0hHx9fX18kHRsaFRQmISIlHx4cGBckHB4sJSYhHRwdGRkhHx0cFhgiIB8cGhoeGxkhFxYdFxQaFxYZFhYoJSYaFxQaFxQVERFXUFckGBoiGRggGRkiGhogGRcnGRsjFxgjGBciHBwjGxshHBolGRclGBkhGBolGxkmFxkjGhckGBUhGxgkGhUlFxUfGBkhFxggGBQlFxcjGhkfGhkfGxciGRYgGRYdFxUeGhMgGhslFxgiGxUiFxYdGRkhGhEfFxccGBMhFxElHR4/VDeRAAAAWnRSTlMABBD+/AoH/h7JokYZD/bx5uHcya1tZ2BSOzIpJB/7+ffr2NPMxKqnl5WOiII1Fhb9+PPx0c66sbGgjnVvW1dLPy0I+unh0MbFmYN9eXBqYFLo2Na1nldWOyk6oaQ9AAADUElEQVRYw+3VV1MaURTA8SUgEFAporRg75qYbm/pvdd7t/cGuyu9aEzyxXNXTSZPEW+cPGT2/8rwmzl7OAvh5eXl5fX/5evNF87FuZJLz04mnv41dOVSev5RfPjgILTxV07fpVdPppKjgiCIoepYFtvpCWcWl5P9FknaQFU7nepyH5YT7N15Pj1xo9qs0jZggSxLxWJgA8fJrkcm7lmKYDa/NmibHR14rSFr7PIZF9aXG5q9eU8URZ7nBdFsNKhrK+uPr3GSpC73nGVh+c35h/FhyzRNZPl5wRTpWGormgrsc1ItNNj9wjJPpxKjlEkqUFX1I0qwErPRvpcPSNvmoJnY7ca5U8g8W3nT7xeApOs6B9DWBDRiKzG3EwwvxPwKtG26utpzqrMU3ZiZ6O/ojkNT7raKbY0RBN7vv7+W9RE7KRJSQlmH9Kkj5l5EJm/4G1+bnXqdtqG7ekNiGPB9eHwBba3nxThNwzIA5bKZPGWLwcWRg5ZFIwtRkKQAsiRJBoFHz/Po48LadWhDCFmEiZEg8efCm5H4VafebB5RFPqOrqvXpgYLBGr7Ngl1eGIFhrp47rknA3fRszIViqLKFCVevz0YPlrs+n3yEMgsCgDAJfNd/TyXNlfjDZ5CCVZs5tXxunZnR0QFMIyGKJQd8XV7NdmFByPfeXJsJnOy+K2plkUqMqNpMnBDI3ZfOJ26ORc9ka48G/O7FtB+Wsn8GV8xP8fIRUb8vNhSFCCfUMKMD+99nH5YFUVBoCB6VDJgAWDt0SEsqncx1ux0dJWROY7d2+MMg1Na45dwqOh04Nu3L186KsPsGaVSyTBqNbLyHoe68K6xbyCryCCrdGzBSn8ay7po7ZdKxaKOLG3PzajR1ZsFPItEliFJrqW1223XCs0RuJZRQvetqqrWZjkUGvEjplV1nJqOjlmV2m0OutEDS7hW06lRVOCwXuPYY6oxR2BapuPogZXVqwc0hO6EkLyxjWlNmk797kI4uBir0CQLACQrt3oxrQGRnxj0oUsaeltBxw2AcnWewLX4VJQ46sO4SCqKYl3fxrVur/06va1bvEWSh5NLBGa//9tkpyuVSmjeR5xHu9OhVvwTcT59fjyMtnhOBV9mCC8vLy+vf9UP6nkGH0hHtzsAAAAASUVORK5CYII="},"4fc3":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC"},5:function(e,i){},"53c9":function(e,i,o){},"559e":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAMAAAD26OlUAAAAtFBMVEUAAAAAAAAAAAAAAAAaGhoCAgIDAwMBAQEQEBAAAAABAQEBAQECAgIAAAABAQEBAQECAgIEBAQBAQEAAAAFBQUDAwMDAwMAAAAAAAACAgIDAwMFBQUGBgYAAAABAQEBAQEDAwMDAwMICAgJCQkMDAwBAQEBAQEBAQECAgIBAQECAgICAgICAgIGBgYGBgYNDQ0EBAQCAgIEBAQBAQEBAQEDAwMCAgIDAwMEBAQFBQUQEBAAAAAlv8O7AAAAO3RSTlMAvz/5B4MexQP7YBe0n+vmf03b2F0SC+DPqVlRLfbKo3lENiEP89PAu66Ja2dJOjIncUfthpmTjT4pJj+7kzoAAAIXSURBVDjLnZTnlrIwEIbHDaEI0lFAQFGkWrBty/3f16cU0Q3sd86+vybwnMnUwJ/FWGxZshbzOyVqOLN1RdHtDGviILa/2D5S7ESSEltBvn3Z92JePhPid9ezpgwztTz3PRZmuUdzZkCSgoUnsUVCAvMHxqsbRW2xDlWVjcq/pJqTZA49mickfy4AJtJ+IEGJ4O50JOkKBrRKybG1T7r9RhNtGd9s/VRbUwdtae7NGTfWFjnTyhijCUNzIzJrSGaCKiuS5JDu+JKQBxnKUgQA2mZBOSxFdtKRzGKjAcAHcul7J2xN1mm46APA4gyWjo/U5KiuGmtwFhxkh6e5mhw1VeMd+QAawjRXk2L56BzSYCuMKa7WsstxLGxhKcz7udFTt+bCErC/+y8HOx93HmnuxeNLjOKC5toYn7NmwDVors3akzO+qZZ5AFfv4/hM9sDi9HV9jALpAKZOc7DWOQsgR82mfSmkIikOTJTfU2+nR/PJnQyprbhNz66ax/Op2ZybnDVQOp2lqJ7wyiV/VbjJUpsC7RCN250pqn0rLR56VLQ7A6ERhzCoMDYefwthtB/i9iOh6E4qST/7uc+UqM+lx4Trf3s4gl8DV88ypiqzxvJZhR9yOcId1y/Y8fbJBUrlZUaMq+mJ9xdX9MyrQWaXr/6HCwc+kmMuTblYRn6AVzAkcadmgaEoRpCpOxF+FR+J399iRPXoHwT7P6mwTTR1AAAAAElFTkSuQmCC"},"56d7":function(e,i,o){"use strict";o.r(i);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("caad"),o("2532");var n,a,t,s,r,c,u,d,l,A,m,h,g,v,p,f,b,C,x,P,y,I,T,S,L,E,w,F,j,z,D,R,M,N,B,k,O=o("2b0e"),U=function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("div",{attrs:{id:"app"}},[o("center",[o("h2",[e._v("Taller de creación de cuentos")])]),e.usuarioSuperadministrador?o("todos-libros",{ref:"todosLibros",attrs:{idLibroSeleccionado:e.idLibroSeleccionado},on:{elimineUnLibro:e.removerLibroCache,libroSeleccionado:e.seleccionarLibro}}):e._e(),o("mis-libros",{ref:"misLibros",on:{libroSeleccionado:e.seleccionarLibro}}),null!=e.idLibroSeleccionado?o("libro",{key:e.idLibroSeleccionado,ref:"elLibro",attrs:{idLibro:e.idLibroSeleccionado}}):e._e()],1)},Q=[],G=o("8785"),$=(o("841c"),o("ac1f"),o("2b3d"),o("d3b7"),o("3ca3"),o("ddb0"),o("898b")),H=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"libro",on:{click:function(i){e.idPaginaSeleccionada=null}}},[n("div",{attrs:{id:"zonaTitulo"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.editandoTitulo,expression:"!editandoTitulo"}],attrs:{id:"titulo"}},[e._v(" "+e._s(e.libro.titulo)+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevoTitulo,expression:"nuevoTitulo"},{name:"show",rawName:"v-show",value:e.editandoTitulo,expression:"editandoTitulo"}],class:{letrasRojas:e.nuevoTituloIlegal},attrs:{type:"text",id:"inputNuevoTitulo"},domProps:{value:e.nuevoTitulo},on:{keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.guardarNuevoTitulo(i)},input:function(i){i.target.composing||(e.nuevoTitulo=i.target.value)}}}),n("div",{attrs:{id:"controlesTitulo"}},[n("img",{staticClass:"bEditarTitulo",attrs:{src:o("559e"),alt:"Editar",id:"bEditarrTitulo",title:"Editar titulo del libro"},on:{click:function(i){return i.stopPropagation(),e.toggleEditandoTitulo(i)}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:1==e.editandoTitulo&&0==e.nuevoTituloIlegal,expression:"editandoTitulo == true && nuevoTituloIlegal == false"}],staticClass:"bEditarTitulo",attrs:{src:o("4fc3"),alt:"Guardar",title:"guardar",id:"bGuardarNuevoTitulo"},on:{click:function(i){return i.stopPropagation(),e.guardarNuevoTitulo(i)}}})])]),n("div",{attrs:{id:"contenedorPaginas"}},e._l(e.paginasOrdenadas,(function(i,o){return n("pagina",{key:i.id,attrs:{paginaDerecha:o%2>0||0==o,estaPagina:i,idLibro:e.idLibro,seleccionada:e.idPaginaSeleccionada==i.id,segundoPlano:null!=e.idPaginaSeleccionada&&e.idPaginaSeleccionada!=i.id},on:{meElimine:function(o){return e.removePaginaFromCache(i.id)},tengoNuevoCuadroTexto:function(o){return e.updateCacheConNuevoCuadroTexto(o,i.id)},tengoNuevoCuadroImagen:function(o){return e.updateCacheConNuevoCuadroImagen(o,i.id)},elimineCuadroTexto:function(o){return e.removeCuadroTextoFromCache(o,i.id)},elimineCuadroImagen:function(o){return e.removeCuadroImagenFromCache(o,i.id)}},nativeOn:{click:function(o){o.stopPropagation(),e.idPaginaSeleccionada=i.id}}})})),1),n("div",{class:{deshabilitado:e.creandoPagina},attrs:{id:"bCrearNuevaPagina"},on:{click:function(i){return i.stopPropagation(),e.crearNuevaPaginaLibro(i)}}},[e._v(" Crear nueva página ")]),n("div",{attrs:{id:"zonaForos"}},[n("div",{staticClass:"tituloForo"},[e._v("Foro de editores")]),e.libro.idForo?n("foro",{attrs:{parent:e.infoAsParent,idForo:e.libro.idForo}}):e._e()],1)])},V=[],Z=(o("c740"),o("a434"),o("99af"),o("7db0"),o("aa5a")),q=o.n(Z),Y=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"pagina",class:{seleccionada:e.seleccionada,deshabilitado:e.uploadingInfo,segundoPlano:e.segundoPlano,cursorTexto:e.creandoTexto,cursorImagen:e.creandoImagen},style:[e.estiloColumna,e.estiloSize,e.estiloApariencia],on:{mousedown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])||"button"in i&&0!==i.button?null:(i.stopPropagation(),e.accionCrearElemento(i))},mousemove:e.resizeFantasmaElemento,mouseup:e.endDibujandoElemento,click:function(i){e.idElementoSeleccionado=null}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionada,expression:"seleccionada"}],staticClass:"zonaControlesPagina"},[n("img",{staticClass:"bControlesPagina bEliminarPagina",attrs:{src:o("2191"),title:"Eliminar esta página"},on:{click:e.eliminarse}}),n("img",{staticClass:"bControlesPagina bSelectColorPagina",attrs:{src:o("df69"),alt:"Color",title:"Seleccionar color de la página"},on:{click:function(i){return i.stopPropagation(),e.$refs.inputColorPagina.click()}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.colorSeleccionado,expression:"colorSeleccionado"}],ref:"inputColorPagina",staticStyle:{display:"none"},attrs:{type:"color"},domProps:{value:e.colorSeleccionado},on:{change:e.guardarNuevoColor,input:function(i){i.target.composing||(e.colorSeleccionado=i.target.value)}}}),n("herramientas-edicion",{directives:[{name:"show",rawName:"v-show",value:e.seleccionada,expression:"seleccionada"}],ref:"herramientasEdicion",on:{creacionTexto:function(i){e.desactivarHerramientas(),e.creandoTexto=!0},creacionImagen:function(i){e.desactivarHerramientas(),e.creandoImagen=!0},mousedown:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.dibujandoTexto,expression:"dibujandoTexto"}],staticClass:"fantasmaElemento",style:[e.estiloLayoutFantasmaTexto],attrs:{id:"fantasmaTexto"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.dibujandoImagen,expression:"dibujandoImagen"}],staticClass:"fantasmaElemento",style:[e.estiloLayoutFantasmaImagen],attrs:{id:"fantasmaImagen"}}),e._l(e.estaPagina.cuadrosImagen,(function(i){return n("cuadro-imagen",{key:i.id,ref:"cuadroImagen"+i.id,refInFor:!0,staticClass:"elementoPagina",class:{primerPlano:e.idElementoSeleccionado==i.id},attrs:{esteCuadroImagen:i,idLibro:e.idLibro,idPagina:e.estaPagina.id,sizePagina:e.size,seleccionado:e.idElementoSeleccionado==i.id&&e.seleccionada,paginaSeleccionada:e.seleccionada,zBase:e.zElementos},on:{meElimine:function(o){return e.$emit("elimineCuadroImagen",i.id)}},nativeOn:{click:function(o){return e.resolverSeleccion(o,i.id)}}})})),e._l(e.estaPagina.cuadrosTexto,(function(i){return n("cuadro-texto",{key:i.id,staticClass:"elementoPagina",class:{primerPlano:e.idElementoSeleccionado==i.id},attrs:{esteCuadroTexto:i,idLibro:e.idLibro,idPagina:e.estaPagina.id,sizePagina:e.size,seleccionado:e.idElementoSeleccionado==i.id&&e.seleccionada,paginaSeleccionada:e.seleccionada,zBase:e.zElementos},on:{meElimine:function(o){return e.$emit("elimineCuadroTexto",i.id)}},nativeOn:{click:function(o){return e.resolverSeleccion(o,i.id)}}})}))],2)},W=[],J=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"cuadroImagen",class:{conAudio:e.esteCuadroImagen.audio,deshabilitado:e.updatingInfo,enPaginaSeleccionada:e.paginaSeleccionada},style:[e.estiloLayout],on:{click:e.playAudio}},[n("img",{staticClass:"imagenContenido",attrs:{src:e.urlImagen+"?v="+e.versionImagen,alt:"ilustracion"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],attrs:{id:"zHandlers"}},[n("div",{staticClass:"zHandler",attrs:{id:"bSendBack",title:"Mover hacia atrás"},on:{click:function(i){e.posicionZeta=e.posicionZeta>0?e.posicionZeta-1:0}}}),n("div",{staticClass:"zHandler",attrs:{id:"bBringFront",title:"Mover hacia adelante"},on:{click:function(i){e.posicionZeta++}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],style:e.sizeDragHandle,attrs:{id:"dragHandle"},on:{mousedown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])||"button"in i&&0!==i.button?null:(i.stopPropagation(),e.iniciarDrag(i))},mousemove:e.drag,mouseup:e.finDrag}},[n("div",{class:{enDuda:e.posicionZeta!=e.esteCuadroImagen.posicionZeta},attrs:{id:"bolitaDragHandle",title:"arrastrar"}},[e._v(e._s(e.posicionZeta))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],style:[e.sizeResizeHandle],attrs:{id:"resizeHandle"},on:{mousedown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])||"button"in i&&0!==i.button?null:e.iniciarResize(i)},mousemove:e.resize,mouseup:e.finResize}},[n("div",{attrs:{id:"bolitaResizeHandle"}})]),n("img",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],attrs:{src:o("2191"),alt:"Eliminar",title:"Eliminar cuadro de imagen",id:"bEliminarCuadroImagen"},on:{click:e.eliminarse}}),n("input",{ref:"inputArchivoImagen",staticStyle:{display:"none"},attrs:{type:"file",id:"inputArchivoImagen"},on:{change:e.uploadArchivoCuadroImagen}}),e.esteCuadroImagen.audio?n("audio",{ref:"audio",attrs:{type:"audio/ogg"}},[n("source",{attrs:{src:e.urlAudio,type:"audio/ogg"}})]):e._e()])},K=[],X=(o("a9e3"),o("bc3a")),_=o.n(X),ee=o("b012"),ie=o.n(ee),oe={name:"cuadroImagen",props:{esteCuadroImagen:Object,idLibro:String,idPagina:String,sizePagina:Object,seleccionado:Boolean,archivoCuadroImagenPagina:Object,paginaSeleccionada:Boolean,zBase:Number},data:function(){return{posicionZeta:0,resizing:!1,dragging:!1,posicion:{x:null,y:null},size:{x:null,y:null},updatingInfo:!1,versionImagen:0}},computed:{estiloLayout:function(){return{top:this.posicion.y+"%",left:this.posicion.x+"%",width:this.size.x+"%",height:this.size.y+"%",zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta}},urlImagen:function(){return this.serverUrl+"/apiCuentos/imagenCuento/"+this.idLibro+"/"+this.idPagina+"/"+this.esteCuadroImagen.id},sizeResizeHandle:function(){return{width:this.resizing?"200px":"10px",height:this.resizing?"200px":"10px"}},sizeDragHandle:function(){return{width:this.dragging?"200px":"10px",height:this.dragging?"200px":"10px"}},urlAudio:function(){return this.serverUrl+"/apiCuentos/audioImagen/"+this.idLibro+"/"+this.idPagina+"/"+this.esteCuadroImagen.id}},methods:{playAudio:function(){this.esteCuadroImagen.audio&&this.$refs.audio.play()},iniciarResize:function(){this.resizing=!0},resize:function(e){if(this.resizing){var i={x:this.$el.getBoundingClientRect().left,y:this.$el.getBoundingClientRect().top},o=e.clientX-i.x-5,n=e.clientY-i.y-5,a=Math.floor(100*o/this.sizePagina.x),t=Math.floor(100*n/this.sizePagina.y);this.posicion.x+a>100&&(a=Math.floor(100-this.posicion.x)),this.posicion.y+t>100&&(t=Math.floor(100-this.posicion.y)),this.$set(this.size,"x",a),this.$set(this.size,"y",t)}},finResize:function(){this.resizing=!1,this.$apollo.mutate({mutation:Object($["gql"])(n||(n=Object(G["a"])(["\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoSize: CoordsInput!\n          ) {\n            updateSizeCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoSize: $nuevoSize\n            ) {\n              id\n              size {\n                x\n                y\n              }\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoSize:this.size}})},iniciarDrag:function(){this.dragging=!0},drag:function(e){if(this.dragging){console.log("Dragging");var i=this.$el.closest(".pagina"),o=i.getBoundingClientRect(),n={x:e.clientX-o.left,y:e.clientY-o.top},a={x:n.x-this.$el.offsetWidth/2,y:n.y+20};a.x+this.$el.offsetWidth>i.offsetWidth&&(a.x=i.offsetWidth-this.$el.offsetWidth),a.x<0&&(a.x=0),a.y+this.$el.offsetHeight>i.offsetHeight&&(a.y=i.offsetHeight-this.$el.offsetHeight),a.y<0&&(a.y=0);var t={x:Math.round(100*a.x/i.offsetWidth),y:Math.round(100*a.y/i.offsetHeight)};this.posicion=t}},finDrag:function(){this.dragging=!1,this.$apollo.mutate({mutation:Object($["gql"])(a||(a=Object(G["a"])(["\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoPosicion:this.posicion}})},uploadArchivoCuadroImagen:function(){var e=this,i=new FormData;this.$refs.inputArchivoImagen.value?(i.append("idLibro",this.idLibro),i.append("idPagina",this.idPagina),i.append("idCuadroImagen",this.esteCuadroImagen.id),i.append("imagen",this.$refs.inputArchivoImagen.files[0]),_()({method:"post",url:this.serverUrl+"/apiCuentos/subirArchivoCuadroImagen",data:i,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$store.state.token}}).then((function(i){var o=i.res;console.log("Resultado de upload archivo: ".concat(o)),e.versionImagen++})).catch((function(e){console.log("Error uploading archivo de cuadroImagen. E: ".concat(e))}))):console.log("No había archivo seleccionado")},guardarPosicionZeta:ie()((function(){this.posicionZeta!=this.esteCuadroImagen.posicionZeta&&(console.log("Guardando posición zeta"),this.$apollo.mutate({mutation:Object($["gql"])(t||(t=Object(G["a"])(["\n          mutation($idLibro:ID!, $idPagina:ID!, $idCuadroImagen:ID!, $nuevoPosicionZ:Int!){\n            setPosicionZCuadroImagen(idLibro:$idLibro, idPagina:$idPagina, idCuadroImagen:$idCuadroImagen, nuevoPosicionZ:$nuevoPosicionZ){\n              id\n              posicionZeta\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoPosicionZ:this.posicionZeta}}))}),3e3),eliminarse:function(){var e=this;confirm("Eliminando cuadro de imagen. Esta operación no se puede deshacer. ¿Continuar?")&&(this.updatingInfo=!0,console.log("Eliminando un cuadro de imagen"),this.$apollo.mutate({mutation:Object($["gql"])(s||(s=Object(G["a"])(["\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroImagen: ID!) {\n              eliminarCuadroImagenLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroImagen: $idCuadroImagen\n              )\n            }\n          "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id}}).then((function(i){var o=i.data.eliminarCuadroImagenLibro;console.log("Resultado: ".concat(o)),o&&e.$emit("meElimine")})).catch((function(i){console.log("Error. E: ".concat(i)),e.updatingInfo=!1})))}},watch:{posicionZeta:function(){console.log("Cambio de posicion zeta"),this.guardarPosicionZeta()}},mounted:function(){console.log("Montado"),this.$set(this.posicion,"x",this.esteCuadroImagen.posicion.x),this.$set(this.posicion,"y",this.esteCuadroImagen.posicion.y),this.$set(this.size,"x",this.esteCuadroImagen.size.x),this.$set(this.size,"y",this.esteCuadroImagen.size.y),this.posicionZeta=this.esteCuadroImagen.posicionZeta,this.esteCuadroImagen.sinArchivo&&(console.log("Abriendo el input de archivo"),this.$refs.inputArchivoImagen.click())}},ne=oe,ae=(o("bf1b"),o("2877")),te=Object(ae["a"])(ne,J,K,!1,null,"2e27fb58",null),se=te.exports,re=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"cuadroTexto",class:{conAudio:e.esteCuadroTexto.audio,deshabilitado:e.updatingInfo,enPaginaSeleccionada:e.paginaSeleccionada},style:[e.estiloLayout],on:{click:e.playAudio}},[n("div",{ref:"texto",staticClass:"texto",style:[e.estiloFormato,e.estiloFontSize,e.estiloVisibilidadTexto],on:{click:e.iniciarEdicionTexto}},[e._v(e._s(e.esteCuadroTexto.texto))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.nuevoTexto,expression:"nuevoTexto"},{name:"show",rawName:"v-show",value:e.editandoTexto,expression:"editandoTexto"}],ref:"inputNuevoTexto",style:[e.estiloFormato,e.estiloFontSizeInput],attrs:{id:"inputNuevoTexto"},domProps:{value:e.nuevoTexto},on:{input:function(i){i.target.composing||(e.nuevoTexto=i.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.nuevoTexto,expression:"nuevoTexto"}],ref:"dummyInput",style:[e.estiloFormato,e.estiloInputDummy],attrs:{id:"dummyInputTexto"},domProps:{value:e.nuevoTexto},on:{input:function(i){i.target.composing||(e.nuevoTexto=i.target.value)}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:e.editandoTexto,expression:"editandoTexto"}],attrs:{src:o("4fc3"),alt:"guardar",title:"Guardar cambios",id:"bGuardarTexto"},on:{click:function(i){return i.stopPropagation(),e.guardarNuevoTexto(i)}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],attrs:{src:o("2191"),alt:"Eliminar",title:"Eliminar cuadro de texto",id:"bEliminarCuadroTexto"},on:{click:e.eliminarse}}),n("div",{ref:"textoDummy",staticClass:"textoDummy",style:[e.estiloFormato,e.estiloDummy]},[e._v(" "+e._s(e.esteCuadroTexto.texto)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],attrs:{id:"zHandlers"}},[n("div",{staticClass:"zHandler",attrs:{id:"bSendBack",title:"Mover hacia atrás"},on:{click:function(i){e.posicionZeta=e.posicionZeta>0?e.posicionZeta-1:0}}}),n("div",{staticClass:"zHandler",attrs:{id:"bBringFront",title:"Mover hacia adelante"},on:{click:function(i){e.posicionZeta++}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],style:e.sizeDragHandle,attrs:{id:"dragHandle"},on:{mousedown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])||"button"in i&&0!==i.button?null:(i.stopPropagation(),e.iniciarDrag(i))},mousemove:e.drag,mouseup:e.finDrag}},[n("div",{class:{enDuda:e.posicionZeta!=e.esteCuadroTexto.posicionZeta},attrs:{id:"bolitaDragHandle",title:"Arrastrar"}},[e._v(e._s(e.posicionZeta))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],style:[e.sizeResizeHandle],attrs:{id:"resizeHandle"},on:{mousedown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])||"button"in i&&0!==i.button?null:(i.stopPropagation(),e.iniciarResize(i))},mousemove:e.resize,mouseup:e.finResize}},[n("div",{attrs:{id:"bolitaResizeHandle"}})]),e.esteCuadroTexto.audio?n("audio",{ref:"audio",attrs:{type:"audio/ogg"}},[n("source",{attrs:{src:e.urlAudio,type:"audio/ogg"}})]):e._e()])},ce=[],ue={name:"CuadroTexto",props:{idLibro:String,idPagina:String,esteCuadroTexto:Object,sizePagina:Object,seleccionado:Boolean,paginaSeleccionada:Boolean,zBase:Number},data:function(){return{fontSizeDummy:10,fontSizeInputDummy:10,fontSizeTexto:10,fontSizeInput:10,resizing:!1,dragging:!1,posicionZeta:0,posicion:{x:null,y:null},size:{x:null,y:null},updatingInfo:!1,nuevoTexto:null,editandoTexto:!1}},computed:{estiloLayout:function(){return{top:this.posicion.y+"%",left:this.posicion.x+"%",width:this.size.x+"%",height:this.size.y+"%",zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta}},estiloFormato:function(){return{textAlign:this.esteCuadroTexto.formato.alineacion,color:this.esteCuadroTexto.formato.colorLetra,fontFamily:this.esteCuadroTexto.formato.tipoLetra+", 'Nunito', sans-serif"}},estiloFontSize:function(){return{fontSize:this.fontSizeTexto+"px"}},estiloVisibilidadTexto:function(){return{visibility:this.editandoTexto?"hidden":"visible"}},estiloFontSizeInput:function(){return{fontSize:this.fontSizeInput+"px"}},estiloDummy:function(){return{fontSize:this.fontSizeDummy+"px"}},estiloInputDummy:function(){return{fontSize:this.fontSizeInputDummy+"px"}},sizeResizeHandle:function(){return{width:this.resizing?"200px":"10px",height:this.resizing?"200px":"10px"}},sizeDragHandle:function(){return{width:this.dragging?"200px":"10px",height:this.dragging?"200px":"10px"}},urlAudio:function(){return this.serverUrl+"/apiCuentos/audioTexto/"+this.idLibro+"/"+this.idPagina+"/"+this.esteCuadroTexto.id}},methods:{playAudio:function(){this.esteCuadroTexto.audio&&(console.log("Reproduciendo"),this.$refs.audio.play())},iniciarResize:function(){this.resizing=!0},resize:function(e){if(this.resizing){var i={x:this.$el.getBoundingClientRect().left,y:this.$el.getBoundingClientRect().top},o=e.clientX-i.x-5,n=e.clientY-i.y-5;if(o<15||n<15)return void console.log("Offlimits");var a=Math.round(100*o/this.sizePagina.x),t=Math.round(100*n/this.sizePagina.y);this.posicion.x+a>100&&(a=Math.floor(100-this.posicion.x)),this.posicion.y+t>100&&(t=Math.floor(100-this.posicion.y)),this.$set(this.size,"x",a),this.$set(this.size,"y",t)}},finResize:function(){var e=this;this.resizing=!1,this.fontSizeDummy=10,this.$nextTick((function(){e.findFontSize(),e.$apollo.mutate({mutation:Object($["gql"])(r||(r=Object(G["a"])(["\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoSize: CoordsInput!\n            ) {\n              updateSizeCuadroTexto(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoSize: $nuevoSize\n              ) {\n                id\n                size {\n                  x\n                  y\n                }\n              }\n            }\n          "]))),variables:{idLibro:e.idLibro,idPagina:e.idPagina,idCuadroTexto:e.esteCuadroTexto.id,nuevoSize:e.size}})}))},findFontSize:function(){var e=this;if(this.esteCuadroTexto&&this.esteCuadroTexto.texto&&!(this.esteCuadroTexto.texto.length<1)){var i=this.$refs.texto.offsetHeight,o=this.$refs.textoDummy.offsetHeight,n=this.$refs.textoDummy.scrollWidth,a=this.$refs.texto.offsetWidth;o>=i||n>=a?(this.fontSizeDummy=this.fontSizeDummy-2,this.$nextTick((function(){var i=e.$refs.texto.offsetHeight,o=e.$refs.textoDummy.offsetHeight,n=e.$refs.textoDummy.scrollWidth,a=e.$refs.texto.offsetWidth;if(o<i&&n<a||e.fontSizeDummy<5)return e.fontSizeTexto=e.fontSizeDummy,void(e.fontSizeInput=e.fontSizeDummy);e.findFontSize()}))):o<i&&n<a&&(this.fontSizeDummy=this.fontSizeDummy+2,this.$nextTick((function(){var i=e.$refs.texto.offsetHeight,o=e.$refs.textoDummy.offsetHeight,n=e.$refs.textoDummy.scrollWidth,a=e.$refs.texto.offsetWidth;if(o>=i||n>=a||e.fontSizeDummy>100)return e.fontSizeDummy=e.fontSizeDummy-2,e.fontSizeTexto=e.fontSizeDummy,void(e.fontSizeInput=e.fontSizeDummy);e.findFontSize()})))}},findFontSizeInput:function(){var e=this;if(this.nuevoTexto&&!(this.nuevoTexto.length<1)){var i=this.$refs.inputNuevoTexto.offsetHeight,o=this.$refs.dummyInput.scrollHeight,n=this.$refs.dummyInput.scrollWidth,a=this.$refs.inputNuevoTexto.offsetWidth;o>=i||n>=a?(this.fontSizeInputDummy=this.fontSizeInputDummy-2,this.$nextTick((function(){var i=e.$refs.inputNuevoTexto.offsetHeight,o=e.$refs.dummyInput.scrollHeight,n=e.$refs.dummyInput.scrollWidth,a=e.$refs.inputNuevoTexto.offsetWidth;o<i&&n<a||e.fontSizeInputDummy<5?e.fontSizeInput=e.fontSizeInputDummy:e.findFontSizeInput()}))):o<i&&n<a&&(this.fontSizeInputDummy=this.fontSizeInputDummy+2,this.$nextTick((function(){var i=e.$refs.inputNuevoTexto.offsetHeight,o=e.$refs.dummyInput.scrollHeight,n=e.$refs.dummyInput.scrollWidth,a=e.$refs.inputNuevoTexto.offsetWidth;if(o>=i||n>=a||e.fontSizeInputDummy>100)return e.fontSizeInputDummy=e.fontSizeInputDummy-2,void(e.fontSizeInput=e.fontSizeInputDummy);e.findFontSizeInput()})))}},guardarNuevoTexto:function(){var e=this;if(this.nuevoTexto.length>3e3)alert("Texto demasiado largo");else{if(this.nuevoTexto==this.esteCuadroTexto.texto)return console.log("Texto no modificado"),void(this.editandoTexto=!1);this.updatingInfo=!0,this.$apollo.mutate({mutation:Object($["gql"])(c||(c=Object(G["a"])(["\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoTexto: String!\n            ) {\n              updateTextoCuadroTextoCuento(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoTexto: $nuevoTexto\n              ) {\n                id\n                texto\n              }\n            }\n          "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoTexto:this.nuevoTexto}}).then((function(){e.editandoTexto=!1,e.updatingInfo=!1})).catch((function(i){console.log("Error. E: ".concat(i)),e.updatingInfo=!1}))}},iniciarEdicionTexto:function(){var e=this;this.seleccionado&&(this.fontSizeInput=this.fontSizeTexto,this.fontSizeInputDummy=this.fontSizeTexto,this.nuevoTexto=this.esteCuadroTexto.texto,this.editandoTexto=!0,this.$nextTick((function(){e.$refs.inputNuevoTexto.focus()})))},iniciarDrag:function(){this.dragging=!0},drag:function(e){if(this.dragging){console.log("Dragging");var i=this.$el.closest(".pagina"),o=i.getBoundingClientRect(),n={x:e.clientX-o.left,y:e.clientY-o.top},a={x:n.x-this.$el.offsetWidth/2,y:n.y+20};a.x+this.$el.offsetWidth>i.offsetWidth&&(a.x=i.offsetWidth-this.$el.offsetWidth),a.x<0&&(a.x=0),a.y+this.$el.offsetHeight>i.offsetHeight&&(a.y=i.offsetHeight-this.$el.offsetHeight),a.y<0&&(a.y=0);var t={x:Math.round(100*a.x/i.offsetWidth),y:Math.round(100*a.y/i.offsetHeight)};this.posicion=t}},finDrag:function(){this.dragging=!1,this.$apollo.mutate({mutation:Object($["gql"])(u||(u=Object(G["a"])(["\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroTexto: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroTexto(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroTexto: $idCuadroTexto\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoPosicion:this.posicion}})},eliminarse:function(){var e=this;confirm("Eliminando cuadro de texto. Esta operación no se puede deshacer. ¿Continuar?")&&(this.updatingInfo=!0,console.log("Eliminando un cuadro de texto"),this.$apollo.mutate({mutation:Object($["gql"])(d||(d=Object(G["a"])(["\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroTexto: ID!) {\n              eliminarCuadroTextoLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n              )\n            }\n          "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id}}).then((function(i){var o=i.data.eliminarCuadroTextoLibro;console.log("Resultado: ".concat(o)),o&&e.$emit("meElimine")})).catch((function(i){console.log("Error. E: ".concat(i)),e.updatingInfo=!1})))},guardarPosicionZeta:ie()((function(){console.log("Guardando posición zeta"),this.posicionZeta!=this.esteCuadroTexto.posicionZeta&&this.$apollo.mutate({mutation:Object($["gql"])(l||(l=Object(G["a"])(["\n          mutation($idLibro:ID!, $idPagina:ID!, $idCuadroTexto:ID!, $nuevoPosicionZ:Int!){\n            setPosicionZCuadroTexto(idLibro:$idLibro, idPagina:$idPagina, idCuadroTexto:$idCuadroTexto, nuevoPosicionZ:$nuevoPosicionZ){\n              id\n              posicionZeta\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoPosicionZ:this.posicionZeta}})}),3e3)},watch:{nuevoTexto:function(){var e=this;this.$nextTick((function(){e.findFontSizeInput()}))},esteCuadroTexto:function(){var e=this;this.$nextTick((function(){e.findFontSize()}))},seleccionado:function(e){0==e&&(this.editandoTexto=!1)},posicionZeta:function(){this.guardarPosicionZeta()}},mounted:function(){var e=this;this.$set(this.posicion,"x",this.esteCuadroTexto.posicion.x),this.$set(this.posicion,"y",this.esteCuadroTexto.posicion.y),this.$set(this.size,"x",this.esteCuadroTexto.size.x),this.$set(this.size,"y",this.esteCuadroTexto.size.y),this.posicionZeta=this.esteCuadroTexto.posicionZeta,this.$nextTick((function(){e.findFontSize()}))}},de=ue,le=(o("0d62"),Object(ae["a"])(de,re,ce,!1,null,null,null)),Ae=le.exports,me=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{attrs:{id:"herramientasEdicion"}},[n("img",{staticClass:"bHerramientasEdicion",class:{hSeleccionada:"puntero"==e.herramientaSeleccionada},attrs:{src:o("4a8c")},on:{click:function(i){i.stopPropagation(),e.$emit("puntero"),e.herramientaSeleccionada="puntero"},mousedown:function(e){e.stopPropagation()}}}),n("img",{staticClass:"bHerramientasEdicion",class:{hSeleccionada:"texto"==e.herramientaSeleccionada},attrs:{src:o("28b8")},on:{click:function(i){i.stopPropagation(),e.$emit("creacionTexto"),e.herramientaSeleccionada="texto"},mousedown:function(e){e.stopPropagation()}}}),n("img",{staticClass:"bHerramientasEdicion",class:{hSeleccionada:"imagen"==e.herramientaSeleccionada},attrs:{src:o("885c")},on:{click:function(i){i.stopPropagation(),e.$emit("creacionImagen"),e.herramientaSeleccionada="imagen"},mousedown:function(e){e.stopPropagation()}}})])},he=[],ge={name:"HerramientasEdicion",data:function(){return{herramientaSeleccionada:"puntero"}},methods:{reset:function(){this.herramientaSeleccionada="puntero"}}},ve=ge,pe=(o("0705"),Object(ae["a"])(ve,me,he,!1,null,"2c9e7702",null)),fe=pe.exports,be={components:{CuadroImagen:se,CuadroTexto:Ae,HerramientasEdicion:fe},name:"Pagina",props:{estaPagina:Object,paginaDerecha:Boolean,preparada:{type:Boolean,default:!1},visible:{type:Boolean},idLibro:String,seleccionada:Boolean,segundoPlano:{type:Boolean,default:!1}},data:function(){return{ancho:450,alto:600,uploadingInfo:!1,colorSeleccionado:"#ffffff",creandoTexto:!1,creandoImagen:!1,dibujandoTexto:!1,dibujandoImagen:!1,zElementos:100,posFantasmaTexto:{x:0,y:0},sizeFantasmaTexto:{x:30,y:30},posFantasmaImagen:{x:0,y:0},sizeFantasmaImagen:{x:30,y:30},idElementoSeleccionado:null}},computed:{estiloColumna:function(){return this.paginaDerecha?{gridColumn:"1/2",justifySelf:"right"}:null},estiloSize:function(){return{width:this.ancho+"px",height:this.alto+"px"}},size:function(){return{x:this.ancho,y:this.alto}},estiloApariencia:function(){return{backgroundColor:this.colorSeleccionado}},estiloLayoutFantasmaTexto:function(){return{top:this.posFantasmaTexto.y+"px",left:this.posFantasmaTexto.x+"px",width:this.sizeFantasmaTexto.x+"px",height:this.sizeFantasmaTexto.y+"px"}},estiloLayoutFantasmaImagen:function(){return{top:this.posFantasmaImagen.y+"px",left:this.posFantasmaImagen.x+"px",width:this.sizeFantasmaImagen.x+"px",height:this.sizeFantasmaImagen.y+"px"}}},methods:{eliminarse:function(){var e=this;confirm("Eliminando página. Esta operación no se puede deshacer. ¿Continuar?")&&(this.uploadingInfo=!0,console.log("Eliminando una página"),this.$apollo.mutate({mutation:Object($["gql"])(A||(A=Object(G["a"])(["\n            mutation($idLibro: ID!, $idPagina: ID!) {\n              eliminarPaginaDeLibro(idLibro: $idLibro, idPagina: $idPagina)\n            }\n          "]))),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id}}).then((function(i){var o=i.data.eliminarPaginaDeLibro;console.log("Resultado: ".concat(o)),o&&e.$emit("meElimine")})).catch((function(i){console.log("Error. E: ".concat(i)),e.uploadingInfo=!1})))},desactivarHerramientas:function(){this.creandoTexto=!1,this.creandoImagen=!1},accionCrearElemento:function(e){var i=this.$el.getBoundingClientRect(),o={x:e.clientX-i.left,y:e.clientY-i.top};this.creandoTexto?(this.dibujandoTexto=!0,this.$set(this.posFantasmaTexto,"x",Math.floor(o.x)),this.$set(this.posFantasmaTexto,"y",Math.floor(o.y)),this.$set(this.sizeFantasmaTexto,"x",30),this.$set(this.sizeFantasmaTexto,"y",30)):this.creandoImagen&&(this.dibujandoImagen=!0,this.$set(this.posFantasmaImagen,"x",Math.floor(o.x)),this.$set(this.posFantasmaImagen,"y",Math.floor(o.y)),this.$set(this.sizeFantasmaImagen,"x",30),this.$set(this.sizeFantasmaImagen,"y",30))},resizeFantasmaElemento:function(e){var i=this.$el.getBoundingClientRect(),o={x:e.clientX-i.left,y:e.clientY-i.top};if(this.dibujandoTexto){var n={x:o.x-this.posFantasmaTexto.x,y:o.y-this.posFantasmaTexto.y};n.x<30&&(n.x=30),n.y<30&&(n.y=30),this.$set(this.sizeFantasmaTexto,"x",Math.floor(n.x)),this.$set(this.sizeFantasmaTexto,"y",Math.floor(n.y))}if(this.dibujandoImagen){var a={x:o.x-this.posFantasmaImagen.x,y:o.y-this.posFantasmaImagen.y};a.x<30&&(a.x=30),a.y<30&&(a.y=30),this.$set(this.sizeFantasmaImagen,"x",Math.floor(a.x)),this.$set(this.sizeFantasmaImagen,"y",Math.floor(a.y))}},endDibujandoElemento:function(){this.dibujandoTexto?(console.log("Creando cuadroTexto"),this.dibujandoTexto=!1,this.$refs.herramientasEdicion.reset(),this.crearTextoFromFantasma()):this.dibujandoImagen&&(console.log("Creando cuadro de imágen"),this.dibujandoImagen=!1,this.$refs.herramientasEdicion.reset(),this.crearCuadroImagenFromFantasma()),this.desactivarHerramientas()},crearCuadroImagenFromFantasma:function(){var e=this,i={x:Math.round(100*this.posFantasmaImagen.x/this.$el.offsetWidth),y:Math.round(100*this.posFantasmaImagen.y/this.$el.offsetHeight)},o={x:Math.round(100*this.sizeFantasmaImagen.x/this.$el.offsetWidth),y:Math.round(100*this.sizeFantasmaImagen.y/this.$el.offsetHeight)};this.$apollo.mutate({mutation:Object($["gql"])(m||(m=Object(G["a"])(["\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroImagenPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroImagen\n              }\n            }\n            ","\n          "])),ci),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,datosPosicion:i,datosSize:o}}).then((function(i){var o=i.data.crearCuadroImagenPaginaLibro;e.$emit("tengoNuevoCuadroImagen",o)})).catch((function(e){console.log("Error en mutación de crear cuadro imágen. E: ".concat(e))}))},crearTextoFromFantasma:function(){var e=this;console.log("Enviando con ".concat(JSON.stringify(this.idLibro),", ").concat(JSON.stringify(this.estaPagina.id),", ").concat(JSON.stringify(this.posFantasmaTexto),", ").concat(JSON.stringify(this.sizeFantasmaTexto)));var i={x:Math.round(100*this.posFantasmaTexto.x/this.$el.offsetWidth),y:Math.round(100*this.posFantasmaTexto.y/this.$el.offsetHeight)},o={x:Math.round(100*this.sizeFantasmaTexto.x/this.$el.offsetWidth),y:Math.round(100*this.sizeFantasmaTexto.y/this.$el.offsetHeight)};this.$apollo.mutate({mutation:Object($["gql"])(h||(h=Object(G["a"])(["\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroTextoPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroTexto\n              }\n            }\n            ","\n          "])),ri),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,datosPosicion:i,datosSize:o},errorPolicy:"all"}).then((function(i){var o=i.data.crearCuadroTextoPaginaLibro;e.$emit("tengoNuevoCuadroTexto",o)})).catch((function(e){console.log("Error. E: ".concat(e.message)),console.log("Hubo ".concat(e.graphQLErrors," errores graphql"))}))},resolverSeleccion:function(e,i){this.seleccionada&&(e.stopPropagation(),this.idElementoSeleccionado=i)},guardarNuevoColor:function(){var e=this;console.log("Guardando nuevo color de página."),this.$apollo.mutate({mutation:Object($["gql"])(g||(g=Object(G["a"])(["\n          mutation($idLibro:ID!, $idPagina:ID!, $nuevoColor:String!){\n            setNuevoColorPaginaLibro(idLibro:$idLibro, idPagina: $idPagina, nuevoColor:$nuevoColor){\n              id\n              color\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,nuevoColor:this.$refs.inputColorPagina.value}}).then((function(){console.log("Nuevo color guardado")})).catch((function(i){console.log("Error guardando el nuevo color de página. E: ".concat(i)),e.colorSeleccionado=e.estaPagina.color}))}},mounted:function(){this.colorSeleccionado=this.estaPagina.color}},Ce=be,xe=(o("3a36"),Object(ae["a"])(Ce,Y,W,!1,null,"aa2cb084",null)),Pe=xe.exports,ye=function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("div",{staticClass:"foro"},[o("div",{staticClass:"barraSuperiorForo"},[o("div",{directives:[{name:"show",rawName:"v-show",value:null===e.idConversacionSeleccionada,expression:"idConversacionSeleccionada === null"}],attrs:{id:"anuncio"}},[e._v(" Conversaciones ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:null!=e.idConversacionSeleccionada,expression:"idConversacionSeleccionada != null"}],attrs:{id:"bRegresarConversaciones"},on:{click:function(i){e.idConversacionSeleccionada=null}}},[e._v(" Volver a conversaciones ")]),o("div",{attrs:{id:"controlesForo"}},[e.usuarioLogeado&&("publico"==e.esteForo.acceso||1==e.usuarioMiembro||e.usuarioSuperadministrador)&&e.esteForo.id?o("div",{directives:[{name:"show",rawName:"v-show",value:!e.conversacionAbierta,expression:"!conversacionAbierta"}],staticClass:"controlesForo botonesControles",attrs:{id:"bCrearConversacion"},on:{click:function(i){e.creandoConversacion=!e.creandoConversacion}}},[e._v(" "+e._s(e.creandoConversacion?"Cancelar":"Crear conversación")+" ")]):e._e()])]),o("div",{staticClass:"zonaConversaciones"},[e.usuarioLogeado&&("publico"==e.esteForo.acceso||1==e.usuarioMiembro||e.usuarioSuperadministrador)&&e.esteForo.id?o("div",{directives:[{name:"show",rawName:"v-show",value:e.creandoConversacion,expression:"creandoConversacion"}],attrs:{id:"zonaCrearConversacion"}},[o("center",[o("h3",[e._v("Creando conversación")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.tituloNuevaConversacion,expression:"tituloNuevaConversacion"}],class:{letrasRojas:e.tituloNuevaConversacionIlegal},attrs:{type:"text",id:"inputTituloNuevaConversacion",placeholder:"Titulo de la nueva conversación"},domProps:{value:e.tituloNuevaConversacion},on:{input:function(i){i.target.composing||(e.tituloNuevaConversacion=i.target.value)}}}),o("cuadro-responder",{class:{deshabilitado:e.tituloNuevaConversacionIlegal},attrs:{idForo:e.esteForo.id,parent:e.parent,tituloNuevaConversacion:e.tituloNuevaConversacion},on:{hiceConversacion:function(i){return e.addConversacion(i)}}})],1):e._e(),e.numPaginas&&!e.conversacionAbierta?o("div",{staticClass:"zonaSelectorPagina"},e._l(e.numPaginas,(function(i){return o("div",{key:i,staticClass:"selectorPagina",class:{selectorSeleccionado:i==e.numPaginaSeleccionada},on:{click:function(o){e.numPaginaSeleccionada=i}}},[e._v(" "+e._s(i)+" ")])})),0):e._e(),e.numPaginas?o("div",{staticClass:"zonaPaginasConversaciones"},[e._l(e.numPaginas,(function(e){return o("div",{key:e,staticClass:"paginaConversaciones"})})),e._l(e.conversacionesPorPagina[e.numPaginaSeleccionada],(function(i){return o("conversacion",{directives:[{name:"show",rawName:"v-show",value:e.idConversacionSeleccionada==i.id||!e.conversacionAbierta,expression:"\n          idConversacionSeleccionada == conversacion.id ||\n          !conversacionAbierta\n        "}],key:i.id,attrs:{estaConversacion:i,seleccionado:e.idConversacionSeleccionada==i.id,usuarioMiembro:e.usuarioMiembro,idForo:e.idForo,parent:e.parent},on:{meElimine:e.refreshPagina},nativeOn:{click:function(o){e.idConversacionSeleccionada=i.id,e.setConversacionLeida(i.id,i.cantidadRespuestas)}}})}))],2):e._e()])])},Ie=[],Te=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"conversacion",class:{seleccionado:e.seleccionado,deshabilitado:e.seleccionado&&e.loading}},[n("div",{staticClass:"tituloConversacion"},[n("img",{staticClass:"imagenConversacion",attrs:{src:o("96cc"),alt:"Conversacion"}}),e._v(" "+e._s(e.estaConversacion.titulo)+" "),n("span",{staticClass:"datosConversacion"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.estaConversacion.cantidadRespuestas>e.cantidadRespuestasLeidasUsuario,expression:"\n          estaConversacion.cantidadRespuestas >\n          cantidadRespuestasLeidasUsuario\n        "}],staticClass:"dato datoRespuestasNoLeidas",attrs:{title:"Respuestas nuevas en esta conversación"}},[e._v(" "+e._s(e.estaConversacion.cantidadRespuestas-e.cantidadRespuestasLeidasUsuario)+" ")]),n("span",{staticClass:"dato datoCantidadRespuestas",attrs:{title:"Cantidad de respuestas en esta conversación"}},[e._v(" "+e._s(e.estaConversacion.cantidadRespuestas)+" ")])])]),e.numPaginas>0?n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],staticClass:"zonaSelectorPaginas"},e._l(e.numPaginas,(function(i){return n("div",{key:i,staticClass:"selectorPagina",class:{selectorSeleccionado:i==e.numPaginaSeleccionada},on:{click:function(o){e.numPaginaSeleccionada=i}}},[e._v(" "+e._s(i)+" ")])})),0):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.seleccionado,expression:"seleccionado"}],staticClass:"zonaRespuestas"},[n("div",{staticClass:"zonaPaginas"},e._l(e.numPaginas,(function(i){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.numPaginaSeleccionada==i,expression:"numPaginaSeleccionada == index"}],key:"pagina"+i,staticClass:"pagina"},e._l(e.respuestasPorPagina[i],(function(o){return n("respuesta",{key:o.id,attrs:{idConversacion:e.estaConversacion.id,estaRespuesta:o},on:{meElimine:function(n){return e.updateRespuestaEliminada(o.id,i)}}})})),1)})),0),e.usuarioLogeado&&("publico"==e.estaConversacion.acceso||1==e.usuarioMiembro)&&e.estaConversacion.id?n("cuadro-responder",{directives:[{name:"show",rawName:"v-show",value:e.numPaginaSeleccionada==e.numPaginas,expression:"numPaginaSeleccionada == numPaginas"}],ref:"cuadroResponder",attrs:{parent:e.parent,idConversacion:e.estaConversacion.id},on:{hiceRespuesta:function(i){return e.addRespuesta(i)}}}):e._e()],1),n("div",{staticClass:"controlesConversacion"})])},Se=[],Le=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"cuadroResponder"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.idConversacion,expression:"idConversacion"}],attrs:{id:"barraSuperior"}},[n("img",{attrs:{src:o("1070"),alt:"Contestar",title:"Contestar en esta conversación",id:"imgMensaje"},on:{click:e.toggleCuadroAbierto}}),n("span",{attrs:{id:"tituloCuadro"}},[e._v("Envía una respuesta")])]),n("textarea",{directives:[{name:"show",rawName:"v-show",value:e.cuadroAbierto,expression:"cuadroAbierto"},{name:"model",rawName:"v-model",value:e.mensaje,expression:"mensaje"}],class:{letrasRojas:e.mensajeIlegal},attrs:{name:"inputMensaje",id:"inputMensaje",placeholder:"Escribe aquí tu respuesta"},domProps:{value:e.mensaje},on:{input:function(i){i.target.composing||(e.mensaje=i.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.cuadroAbierto,expression:"cuadroAbierto"}],attrs:{id:"adjuntarArchivo"}},[n("input",{ref:"inputArchivoAdjunto",attrs:{type:"file",id:"inputArchivoAdjunto"},on:{change:e.actualizarNombreDeArchivo}}),n("img",{attrs:{src:o("3a9d"),alt:"Ajuntar archivo",id:"imgAdjuntar",title:"adjuntar un archivo"},on:{click:e.abrirSelectorDeArchivos}}),n("br"),n("div",{directives:[{name:"show",rawName:"v-show",value:e.nombreArchivoSeleccionado,expression:"nombreArchivoSeleccionado"}],attrs:{id:"nombreArchivoSeleccionado"}},[e._v(" "+e._s(e.nombreArchivoSeleccionado)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.cuadroAbierto,expression:"cuadroAbierto"}],staticClass:"bloqueAdjuntar",attrs:{id:"bloqueAdjuntarEnlace"}},[n("div",{attrs:{id:"zonaIntroducirEnlace"}},[n("img",{attrs:{src:o("dffa"),alt:"Ajuntar enlace",id:"imgAdjuntarEnlace",title:"adjuntar un enlace"},on:{click:function(i){e.introduciendoEnlace=!0}}}),n("input",{directives:[{name:"show",rawName:"v-show",value:!0===e.introduciendoEnlace,expression:"introduciendoEnlace === true"},{name:"model",rawName:"v-model",value:e.enlaceAdjuntable,expression:"enlaceAdjuntable"}],staticClass:"inputAdjuntarEnlace",attrs:{type:"text",placeholder:"escribe o pega el enlace"},domProps:{value:e.enlaceAdjuntable},on:{input:function(i){i.target.composing||(e.enlaceAdjuntable=i.target.value)}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:e.introduciendoEnlace&&!e.enlaceAdjuntableIlegal,expression:"introduciendoEnlace && !enlaceAdjuntableIlegal"}],attrs:{src:o("f0d1"),alt:"Confirmar",id:"bAceptarAdjuntarEnlace"},on:{click:function(i){i.stopPropagation(),e.enlaceAdjunto.push(e.enlaceAdjuntable),e.enlaceAdjuntable=null,e.introduciendoEnlace=!1}}})]),e._l(e.enlaceAdjunto,(function(i,o){return n("div",{key:o,staticClass:"enlaceAdjuntado"},[n("div",{attrs:{id:"nombreEnlaceAdjuntado"}},[n("span",[e._v(e._s(i))])]),n("div",{attrs:{id:"bCancelarEnlaceAdjunto"},on:{click:function(i){return i.stopPropagation(),e.enlaceAdjunto.splice(o,1)}}},[e._m(0,!0)])])}))],2),n("img",{directives:[{name:"show",rawName:"v-show",value:e.cuadroAbierto&&!e.enviandoRespuesta,expression:"cuadroAbierto && !enviandoRespuesta"}],class:{deshabilitado:e.mensajeIlegal},attrs:{src:o("4e77"),alt:"Enviar",title:"Enviar respuesta",id:"bEnviar"},on:{click:e.evaluarAdjunto}}),n("loading",{directives:[{name:"show",rawName:"v-show",value:e.enviandoRespuesta,expression:"enviandoRespuesta"}],attrs:{texto:"Enviando respuesta..."}})],1)},Ee=[function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("div",{staticClass:"linea1"},[o("div",{staticClass:"linea2"})])}],we=(o("b0c0"),function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("div",{staticClass:"loading"},[o("span",{staticClass:"textoLoading"},[e._v(e._s(e.texto))])])}),Fe=[],je={name:"Loading",props:{texto:{type:String,default:"Cargando..."}}},ze=je,De=(o("fc23"),Object(ae["a"])(ze,we,Fe,!1,null,"5ff6e04b",null)),Re=De.exports,Me=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/,Ne={components:{Loading:Re},name:"CuadroResponder",props:{tituloNuevaConversacion:String,idConversacion:String,idForo:String,parent:Object},data:function(){return{mensaje:null,cuadroAbierto:!1,enviandoRespuesta:!1,nombreArchivoSeleccionado:null,introduciendoEnlace:!1,enlaceAdjuntable:null,enlaceAdjunto:[]}},methods:{evaluarAdjunto:function(){var e=this;if(!this.mensajeIlegal){this.enviandoRespuesta=!0;var i=this.$refs.inputArchivoAdjunto,o=new FormData;if(i.value){var n=i.files[0],a=n["type"];console.log("subiendo un ".concat(a)),o.append("archivoAdjunto",n);var t=this;_()({method:"post",url:this.serverUrl+"/api/foros/adjuntarArchivoParaRespuesta",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$store.state.token}}).then((function(i){var o=i.data.infoArchivo,n={infoArchivo:{idGoogleDrive:o.idGoogleDrive,googleDriveDirectLink:o.googleDriveDirectLink,extension:o.extensionDeArchivo,nombre:o.extensionDeArchivo},mensaje:t.mensaje};e.enlaceAdjunto&&e.enlaceAdjunto.length>0&&(n.enlaceAdjunto=e.enlaceAdjunto),e.idConversacion?e.enviarNuevaRespuesta(n):e.crearConversacionConRespuesta(n)})).catch((function(i){e.enviandoRespuesta=!1,console.log("Errores: ".concat(i)),i.response&&i.response.data.msjUsuario&&alert(i.response.data.msjUsuario)}))}else{console.log("El input de archivo adjunto estaba vacio");var s={infoArchivo:null,mensaje:this.mensaje};this.enlaceAdjunto&&this.enlaceAdjunto.length>0&&(s.enlaceAdjunto=this.enlaceAdjunto),this.idConversacion?this.enviarNuevaRespuesta(s):this.crearConversacionConRespuesta(s)}}},crearConversacionConRespuesta:function(e){var i=this;if(this.tituloNuevaConversacion){var o={titulo:this.tituloNuevaConversacion,primeraRespuesta:e};this.enviandoRespuesta=!0;var n=this;this.$apollo.mutate({mutation:q()(v||(v=Object(G["a"])(["\n            mutation(\n              $idForo: ID!\n              $input: InputIniciarConversacion\n              $parent: InputParent\n            ) {\n              iniciarConversacionConPrimerMensajeForo(\n                idForo: $idForo\n                input: $input\n                parent: $parent\n              ) {\n                ...fragConversacion\n              }\n            }\n            ","\n          "])),_e),variables:{idForo:n.idForo,input:o,parent:n.parent}}).then((function(e){var o=e.data.iniciarConversacionConPrimerMensajeForo;n.enviandoRespuesta=!1,n.$emit("hiceConversacion",o),i.reset()})).catch((function(e){n.enviandoRespuesta=!1,console.log("Error. E: ".concat(e))}))}},enviarNuevaRespuesta:function(e){var i=this;if(!this.mensajeIlegal){console.log("Enviando respuesta");var o=this;this.enviandoRespuesta=!0,this.$apollo.mutate({mutation:q()(p||(p=Object(G["a"])(["\n            mutation(\n              $idConversacion: ID!\n              $nuevaRespuesta: InputNuevaRespuesta\n              $parent: InputParent\n            ) {\n              postRespuestaConversacion(\n                idConversacion: $idConversacion\n                nuevaRespuesta: $nuevaRespuesta\n                parent: $parent\n              ) {\n                ...fragRespuesta\n              }\n            }\n            ","\n          "])),Ze),variables:{idConversacion:o.idConversacion,nuevaRespuesta:e,parent:o.parent}}).then((function(e){var n=e.data.postRespuestaConversacion;o.enviandoRespuesta=!1,i.$emit("hiceRespuesta",n),i.cerrarse()})).catch((function(e){o.enviandoRespuesta=!1,console.log("Error. E: ".concat(e))}))}},toggleCuadroAbierto:function(){this.cuadroAbierto=!this.cuadroAbierto},cerrarse:function(){this.reset(),this.cuadroAbierto=!1},actualizarNombreDeArchivo:function(){if(!this.$refs.inputArchivoAdjunto.value)return console.log("Nullificando el nombre de archivo seleccionado"),void(this.nombreArchivoSeleccionado=null);this.nombreArchivoSeleccionado=this.$refs.inputArchivoAdjunto.files[0].name},abrirSelectorDeArchivos:function(){this.$refs.inputArchivoAdjunto.click()},reset:function(){this.nombreArchivoSeleccionado=null,this.$refs.inputArchivoAdjunto.value=null,this.mensaje=null,this.enlaceAdjuntable=null,this.enlaceAdjunto=[]}},computed:{mensajeIlegal:function(){return!this.mensaje||this.mensaje.length<1||!!Me.test(this.mensaje)},enlaceAdjuntableIlegal:function(){return!this.enlaceAdjuntable||("https://"!=this.enlaceAdjuntable.substr(0,8)?(console.log("El inicio ".concat(this.enlaceAdjuntable.substr(0,8)," difiere del esperado")),!0):this.enlaceAdjuntable.length<7)}},mounted:function(){console.log("Revisando si hay idConversacion"),this.idConversacion||(this.cuadroAbierto=!0)}},Be=Ne,ke=(o("a747"),Object(ae["a"])(Be,Le,Ee,!1,null,"10aff977",null)),Oe=ke.exports,Ue=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"respuesta"},[n("div",{staticClass:"infoRespuesta"},[e._v(e._s(e.fechaFormateada))]),n("img",{staticClass:"caritaAutor",attrs:{src:this.serverUrl+"/api/usuarios/fotografias/"+e.estaRespuesta.infoAutor.id,alt:e.estaRespuesta.infoAutor.nombre}}),n("div",{staticClass:"mensajeRespuesta"},[e._v(" "+e._s(e.estaRespuesta.mensaje)+" ")]),e.estaRespuesta.archivo&&e.estaRespuesta.archivo.googleDriveDirectLink?n("div",{attrs:{id:"archivo"}},[n("a",{attrs:{href:e.estaRespuesta.archivo.googleDriveDirectLink}},[n("img",{attrs:{src:o("60ee"),alt:"Descargar archivo",id:"imgDownloadArchivo"}})])]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.estaRespuesta.enlaceAdjunto&&e.estaRespuesta.enlaceAdjunto.length>0,expression:"\n      estaRespuesta.enlaceAdjunto &&\n      estaRespuesta.enlaceAdjunto.length > 0\n    "}],staticClass:"enlacesAdjuntos"},e._l(e.estaRespuesta.enlaceAdjunto,(function(i,o){return n("a",{key:o,attrs:{target:"_blank",href:i}},[n("div",{staticClass:"enlaceAdjunto"},[e._v(" "+e._s(i)+" ")])])})),0),n("div",{staticClass:"controles"},[e.usuarioSuperadministrador?n("div",{staticClass:"controlRespuesta",attrs:{id:"bEliminar"},on:{click:e.eliminarse}},[e._v(" Eliminar ")]):e._e()])])},Qe=[],Ge=(o("25f0"),{name:"Respuesta",props:{estaRespuesta:{type:Object},idConversacion:String},computed:{fechaFormateada:function(){var e=new Date(this.estaRespuesta.fecha).toString(),i=e.indexOf("("),o=e.substr(0,i),n=o.indexOf("GMT");return n>-1&&(o=o.substr(0,n)),o},usuarioAutor:function(){return this.usuario.id==this.estaRespuesta.infoAutor.id}},methods:{eliminarse:function(){var e=this;confirm("Eliminando respuesta ¿Continuar?")&&this.$apollo.mutate({mutation:q()(f||(f=Object(G["a"])(["\n          mutation($idRespuesta: ID!, $idConversacion:ID!) {\n            eliminarRespuesta(idRespuesta: $idRespuesta, idConversacion:$idConversacion)\n          }\n        "]))),variables:{idRespuesta:this.estaRespuesta.id,idConversacion:this.idConversacion},update:function(i,o){var n=o.data.eliminarRespuesta;n&&(console.log("Respuesta eliminada"),e.$emit("meElimine"))}})}}}),$e=Ge,He=(o("cae2"),Object(ae["a"])($e,Ue,Qe,!1,null,"6ca7979c",null)),Ve=He.exports,Ze=q()(b||(b=Object(G["a"])(["\n  fragment fragRespuesta on RespuestaConversacionForo{\n    id\n    fecha\n    mensaje\n    enlaceAdjunto\n    infoAutor{\n      id\n      nombres\n      apellidos\n      username\n    }\n    archivo{\n      googleDriveDirectLink\n    }\n  }\n"]))),qe=q()(C||(C=Object(G["a"])(["\n  query($idConversacion: ID!, $pagina: Int!) {\n    respuestasPaginaDeConversacion(\n      idConversacion: $idConversacion\n      pagina: $pagina\n    ) {\n      pagina\n      numPaginas\n      respuestas {\n        ...fragRespuesta\n      }\n    }\n  }\n  ","\n"])),Ze),Ye={components:{Respuesta:Ve,CuadroResponder:Oe},name:"Conversacion",apollo:{numPaginas:{query:qe,variables:function(){return{idConversacion:this.estaConversacion.id,pagina:this.numPaginaSeleccionada}},update:function(e){var i=e.respuestasPaginaDeConversacion,o=i.pagina,n=i.numPaginas,a=i.respuestas;return console.log("Llenando con ".concat(a.length," respuestas la pagina ").concat(o," de ").concat(n)),this.$set(this.respuestasPorPagina,o,a),this.numPaginaSeleccionada!=o&&(this.numPaginaSeleccionada=o),this.loading=!1,n},skip:function(){return!this.seleccionado},fetchPolicy:"no-cache"}},data:function(){return{numPaginas:0,numPaginaSeleccionada:0,respuestasPorPagina:{},loading:!0}},props:{estaConversacion:{type:Object,default:function(){return{respuestas:[]}}},idForo:String,parent:Object,seleccionado:Boolean,usuarioMiembro:{type:Boolean,default:!1}},methods:{addRespuesta:function(e){var i=this.numPaginas;(this.respuestasPorPagina[i].length>=5||i<1)&&(i++,this.respuestasPorPagina[i]||this.$set(this.respuestasPorPagina,i,[])),console.log("Pushing en targetPagina ".concat(i)),this.respuestasPorPagina[i].push(e),this.$refs.cuadroResponder.cerrarse(),this.numPaginaSeleccionada!=i&&(this.numPaginaSeleccionada=i)},updateRespuestaEliminada:function(e,i){console.log("Respuesta ".concat(e," eliminada de la pagina ").concat(i)),1==this.numPaginas&&this.respuestasPorPagina[1].length<2?(console.log("Era la ultima respuesta"),this.$emit("meElimine")):(console.log("Refreshing respuestas pagina"),this.$apollo.queries.numPaginas.refresh())}},computed:{cantidadRespuestasLeidasUsuario:function(){var e=this;if(this.usuario&&this.usuario.foros){var i=this.usuario.foros.find((function(i){return i.idForo==e.idForo}));if(!i)return 0;var o=i.conversaciones.find((function(i){return i.idConversacion==e.estaConversacion.id}));return o?o.respuestasLeidas:0}return 0}}},We=Ye,Je=(o("1566"),Object(ae["a"])(We,Te,Se,!1,null,"4390369d",null)),Ke=Je.exports,Xe=/[^ a-zA-ZÀ-ž0-9_():.,-¡!¿?]/,_e=q()(x||(x=Object(G["a"])(["\n  fragment fragConversacion on Conversacion {\n    id\n    titulo\n    estado\n    acceso\n    cantidadRespuestas\n  }\n"]))),ei=q()(P||(P=Object(G["a"])(["\n  query($idForo: ID!) {\n    foro(idForo: $idForo) {\n      id\n      acceso\n      miembros\n    }\n  }\n"]))),ii=q()(y||(y=Object(G["a"])(["\n  query($idForo: ID!, $pagina: Int!) {\n    conversacionesPaginaForo(idForo: $idForo, pagina: $pagina) {\n      pagina\n      numPaginas\n      conversaciones {\n        ...fragConversacion\n      }\n    }\n  }\n  ","\n"])),_e),oi={components:{Conversacion:Ke,CuadroResponder:Oe},name:"Foro",apollo:{esteForo:{query:ei,variables:function(){return{idForo:this.idForo}},fetchPolicy:"cache-and-network",update:function(e){return e.foro},skip:function(){return!this.idForo}},numPaginas:{query:ii,variables:function(){return{idForo:this.idForo,pagina:this.numPaginaSeleccionada}},fetchPolicy:"no-cache",skip:function(){return!this.idForo},update:function(e){var i=e.conversacionesPaginaForo,o=i.conversaciones,n=i.pagina,a=i.numPaginas;return this.numPaginaSeleccionada!=n&&(this.numPaginaSeleccionada=n),this.$set(this.conversacionesPorPagina,n,o),a}}},props:{idForo:String,parent:Object},data:function(){return{esteForo:{miembros:[],conversaciones:[]},idConversacionSeleccionada:null,creandoConversacion:!1,numPaginaSeleccionada:0,conversacionesPorPagina:{},tituloNuevaConversacion:null}},methods:{addConversacion:function(e){this.creandoConversacion=!1;var i=this.numPaginas;console.log("Target página: ".concat(i)),(this.conversacionesPorPagina[i].length>=6||i<1)&&(i++,this.conversacionesPorPagina[i]||this.$set(this.conversacionesPorPagina,i,[])),console.log("Pushing en targetPagina ".concat(i)),this.conversacionesPorPagina[i].push(e),this.numPaginaSeleccionada!=i&&(this.numPaginaSeleccionada=i),this.tituloNuevaConversacion=null},refreshPagina:function(){this.idConversacionSeleccionada=null,this.$apollo.queries.numPaginas.refresh()},setConversacionLeida:function(e,i){var o=this;this.usuario&&this.usuario.id&&(console.log("Setting conversación leida"),this.$apollo.mutate({mutation:q()(I||(I=Object(G["a"])(["\n              mutation(\n                $idUsuario: ID!\n                $idForo: ID!\n                $idConversacion: ID!\n                $cantidadRespuestasLeidas: Int!\n              ) {\n                setCantidadRespuestasConversacionLeidasPorUsuario(\n                  idUsuario: $idUsuario\n                  idForo: $idForo\n                  idConversacion: $idConversacion\n                  cantidadRespuestasLeidas: $cantidadRespuestasLeidas\n                )\n              }\n            "]))),variables:{idUsuario:this.usuario.id,idForo:this.idForo,idConversacion:e,cantidadRespuestasLeidas:parseInt(i)}}).then((function(n){var a=n.data.setCantidadRespuestasConversacionLeidasPorUsuario;console.log("Resultado: ".concat(a)),a&&o.$store.commit("setRespuestasLeidasConversacionUsuario",{idForo:o.idForo,idConversacion:e,respuestasLeidas:i})})).catch((function(e){console.log("Error. E: ".concat(e))})))}},computed:{usuarioMiembro:function(){return"publico"==this.esteForo.acceso||!("privado"!=this.esteForo.acceso||!this.esteForo.miembros.includes(this.$store.state.usuario.id))},conversacionAbierta:function(){return this.idConversacionSeleccionada},tituloNuevaConversacionIlegal:function(){return!this.tituloNuevaConversacion||this.tituloNuevaConversacion.length<1||!!Xe.test(this.tituloNuevaConversacion)}}},ni=oi,ai=(o("79b1"),Object(ae["a"])(ni,ye,Ie,!1,null,"71d42152",null)),ti=ai.exports,si=/[^ a-zA-ZÀ-ž0-9_():.,-¿?¡!]/,ri=q()(T||(T=Object(G["a"])(["\n  fragment fragCuadroTexto on CuadroTextoCuento {\n    id\n    texto\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n    formato {\n      fontSize\n      colorLetra\n      tipoLetra\n      alineacion\n    }\n  }\n"]))),ci=q()(S||(S=Object(G["a"])(["\n  fragment fragCuadroImagen on CuadroImagenCuento {\n    id\n    sinArchivo\n    tipoActivacionSecundario\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n  }\n"]))),ui=q()(L||(L=Object(G["a"])(["\n  fragment fragPagina on PaginaCuento {\n    id    \n    numPag\n    color\n    cuadrosTexto {\n      ...fragCuadroTexto\n    }\n    cuadrosImagen {\n      ...fragCuadroImagen\n    }\n  }\n  ","\n  ","\n"])),ri,ci),di=q()(E||(E=Object(G["a"])(["\n  query($idLibro: ID!) {\n    libro(idLibro: $idLibro) {\n      id\n      idsEditores\n      titulo\n      paginas {\n        ...fragPagina\n      },\n      idForo\n    }\n  }\n  ","\n"])),ui),li={components:{Pagina:Pe,Foro:ti},name:"Libro",apollo:{libro:{query:di,variables:function(){return{idLibro:this.idLibro}},skip:function(){return null==this.idLibro},fetchPolicy:"cache-and-network"}},props:{idLibro:{type:String,default:null}},data:function(){return{libro:{paginas:null},idPaginaSeleccionada:null,creandoPagina:!1,nuevoTitulo:null,editandoTitulo:!1}},computed:{paginasOrdenadas:function(){if(this.libro.paginas){var e=this.libro.paginas;return e.sort((function(e,i){return parseInt(e.numPag)-parseInt(i.numPag)}))}return[]},nuevoTituloIlegal:function(){return!this.nuevoTitulo||this.nuevoTitulo.length<1||!!si.test(this.nuevoTitulo)},infoAsParent:function(){return{id:this.idLibro,tipo:"libro",nombre:this.libro.titulo}}},methods:{toggleEditandoTitulo:function(){this.editandoTitulo=!this.editandoTitulo,this.nuevoTitulo=this.libro.titulo},guardarNuevoTitulo:function(){var e=this;this.nuevoTituloIlegal?console.log("No enviado"):this.nuevoTitulo!=this.libro.titulo?(console.log("guardando nuevo título"),this.enviandoNuevoTitulo=!0,this.$apollo.mutate({mutation:q()(w||(w=Object(G["a"])(["\n            mutation($idLibro: ID!, $nuevoTitulo: String!) {\n              editarTituloLibro(idLibro: $idLibro, nuevoTitulo: $nuevoTitulo) {\n                id\n                titulo\n              }\n            }\n          "]))),variables:{idLibro:this.idLibro,nuevoTitulo:this.nuevoTitulo}}).then((function(){e.enviandoNuevoTitulo=!1,e.editandoTitulo=!1})).catch((function(i){e.enviandoNuevoTitulo=!1,console.log("Error. E :".concat(i))}))):this.editandoTitulo=!1},crearNuevaPaginaLibro:function(){var e=this;this.creandoPagina=!0;var i=this;this.$apollo.mutate({mutation:q()(F||(F=Object(G["a"])(["\n            mutation($idLibro: ID!) {\n              crearNuevaPaginaLibro(idLibro: $idLibro) {\n                ...fragPagina\n              }\n            }\n            ","\n          "])),ui),variables:{idLibro:this.idLibro}}).then((function(o){var n=o.data.crearNuevaPaginaLibro,a=e.$apollo.provider.defaultClient,t=a.readQuery({query:di,variables:{idLibro:i.idLibro}}),s=JSON.parse(JSON.stringify(t));s.libro.paginas.push(n),a.writeQuery({query:di,variables:{idLibro:i.idLibro},data:s}),e.creandoPagina=!1})).catch((function(i){console.log("Error: ".concat(i)),e.creandoPagina=!1}))},removePaginaFromCache:function(e){this.idPaginaSeleccionada=null;var i=this.$apollo.provider.defaultClient,o=i.readQuery({query:di,variables:{idLibro:this.idLibro}}),n=JSON.parse(JSON.stringify(o)),a=n.libro.paginas.findIndex((function(i){return i.id==e}));a>-1?(n.libro.paginas.splice(a,1),i.writeQuery({query:di,variables:{idLibro:this.idLibro},data:n})):console.log("La pagina no estaba en el caché")},updateCacheConNuevoCuadroImagen:function(e,i){console.log("Se actualizara el cache con info: ".concat(e," en la pagina ").concat(i));var o=this.$apollo.provider.defaultClient,n=o.readQuery({query:di,variables:{idLibro:this.idLibro}}),a=JSON.parse(JSON.stringify(n)),t=a.libro.paginas.find((function(e){return e.id==i}));t?t.cuadrosImagen.some((function(i){return i==e.id}))?console.log("Ese cuadro texto ya estaba incluido"):(t.cuadrosImagen.push(e),o.writeQuery({query:di,variables:{idLibro:this.idLibro},data:a})):console.log("Pagina no existía")},updateCacheConNuevoCuadroTexto:function(e,i){console.log("Se actualizara el cache con info: ".concat(e," en la pagina ").concat(i));var o=this.$apollo.provider.defaultClient,n=o.readQuery({query:di,variables:{idLibro:this.idLibro}}),a=JSON.parse(JSON.stringify(n)),t=a.libro.paginas.find((function(e){return e.id==i}));t?t.cuadrosTexto.some((function(i){return i==e.id}))?console.log("Ese cuadro texto ya estaba incluido"):(t.cuadrosTexto.push(e),o.writeQuery({query:di,variables:{idLibro:this.idLibro},data:a})):console.log("Pagina no existía")},removeCuadroTextoFromCache:function(e,i){var o=this.$apollo.provider.defaultClient,n=o.readQuery({query:di,variables:{idLibro:this.idLibro}}),a=JSON.parse(JSON.stringify(n)),t=a.libro.paginas.find((function(e){return e.id==i}));if(t){var s=t.cuadrosTexto.findIndex((function(i){return i.id==e}));s>-1?(t.cuadrosTexto.splice(s,1),o.writeQuery({query:di,variables:{idLibro:this.idLibro},data:a})):console.log("El cuadro texto no existía en el caché")}else console.log("No existía la pagina en el caché")},removeCuadroImagenFromCache:function(e,i){var o=this.$apollo.provider.defaultClient,n=o.readQuery({query:di,variables:{idLibro:this.idLibro}}),a=JSON.parse(JSON.stringify(n)),t=a.libro.paginas.find((function(e){return e.id==i}));if(t){var s=t.cuadrosImagen.findIndex((function(i){return i.id==e}));s>-1?(t.cuadrosImagen.splice(s,1),o.writeQuery({query:di,variables:{idLibro:this.idLibro},data:a})):console.log("El cuadro texto no existía en el caché")}else console.log("No existía la pagina en el caché")}}},Ai=li,mi=(o("06b2"),Object(ae["a"])(Ai,H,V,!1,null,"3332e406",null)),hi=mi.exports,gi=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{attrs:{id:"misLibros"}},[n("h3",[e._v("Mis libros")]),n("div",{attrs:{id:"controlesMisLibros"}},[n("img",{staticClass:"bControlMisLibros",attrs:{src:o("1d2e"),title:"Crear nuevo libro"},on:{click:e.crearNuevoLibro}})]),n("div",{attrs:{id:"listaMisLibros"}},e._l(e.misLibros,(function(i){return n("div",{key:i.id,staticClass:"portadaLibro",on:{click:function(o){return e.seleccionarLibro(i.id)}}},[e._v(" "+e._s(i.titulo)+" ")])})),0)])},vi=[],pi=Object($["gql"])(j||(j=Object(G["a"])(["\n  query {\n    misLibros {\n      id\n      titulo\n    }\n  }\n"]))),fi={name:"MisLibros",apollo:{misLibros:{query:pi,skip:function(){return null==this.usuario.id}}},data:function(){return{}},methods:{crearNuevoLibro:function(){var e=this;confirm("¿Crear un nuevo libro?")&&this.$apollo.mutate({mutation:Object($["gql"])(z||(z=Object(G["a"])(["\n          mutation {\n            crearNuevoLibro {\n              id\n              titulo\n            }\n          }\n        "])))}).then((function(i){var o=i.data.crearNuevoLibro;console.log("Creado ".concat(JSON.stringify(o)));var n=e.$apollo.provider.defaultClient,a=n.readQuery({query:pi}),t=JSON.parse(JSON.stringify(a));t.misLibros.some((function(e){return e.id==o.id}))?console.log("El libro ya estaba incluido en el caché"):(t.misLibros.push(o),n.writeQuery({query:pi,data:t}))}))},removerLibroCache:function(e){var i=this.$apollo.provider.defaultClient,o=i.readQuery({query:pi}),n=JSON.parse(JSON.stringify(o)),a=n.misLibros.findIndex((function(i){return i.id==e}));a>-1?(n.misLibros.splice(a,1),i.writeQuery({query:pi,data:n})):console.log("Libro no estaba en caché")},seleccionarLibro:function(e){this.$emit("libroSeleccionado",e)}}},bi=fi,Ci=(o("f872"),Object(ae["a"])(bi,gi,vi,!1,null,"673410ee",null)),xi=Ci.exports,Pi=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{attrs:{id:"todosLibros"}},[n("h3",{staticStyle:{cursor:"pointer"},on:{click:function(i){e.desplegado=!e.desplegado}}},[e._v("Todos los libros")]),n("div",{attrs:{id:"controlesTodosLibros"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.desplegado,expression:"desplegado"}],attrs:{id:"listaMisLibros"}},e._l(e.librosPorAutor,(function(i,a){return n("div",{key:a,staticClass:"bloqueAutor"},[n("icono-persona-autonomo",{attrs:{idPersona:a}}),n("br"),n("br"),n("br"),n("div",{staticClass:"listaLibros"},e._l(i,(function(i){return n("div",{key:i.id,staticClass:"portadaLibro",class:{seleccionado:e.idLibroSeleccionado==i.id},on:{click:function(o){return e.seleccionarLibro(i.id)}}},[n("div",{staticClass:"nombreLibro"},[e._v(" "+e._s(i.titulo)+" ")]),n("div",{staticClass:"controlesLibro"},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.usuarioSuperadministrador||e.usuarioAdministradorAtlas,expression:"usuarioSuperadministrador || usuarioAdministradorAtlas"}],staticClass:"controlLibro",attrs:{src:o("2191"),alt:"Eliminar",title:"Eliminar este libro"},on:{click:function(o){return o.stopPropagation(),e.eliminarLibro(i.id)}}})])])})),0)],1)})),0)])},yi=[],Ii=(o("159b"),function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("div",{staticClass:"iconoPersonaAutonomo",class:{yo:e.soyYo,seleccionado:e.seleccionado}},[o("img",{directives:[{name:"show",rawName:"v-show",value:e.fotografiaEnabled,expression:"fotografiaEnabled"}],staticClass:"fotografia",attrs:{src:this.serverUrl+"/api/usuarios/fotografias/"+e.idPersona,alt:""},on:{load:function(i){e.fotografiaEnabled=!0}}}),o("div",{attrs:{id:"contenedorAlertas"}},[e._t("alertas")],2),o("div",{staticClass:"nombres",class:{nombreSeleccionado:e.seleccionado}},[e._v(" "+e._s(e.estaPersona.nombres)+" ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.menuContextual,expression:"menuContextual"}],attrs:{id:"menuCxPersona"}},[o("div",{staticClass:"botonMenuCx",on:{click:function(i){return i.stopPropagation(),e.copiarId(i)}}},[e._v(e._s(e.idPersona))]),e.usuarioSuperadministrador?o("div",{staticClass:"botonMenuCx"},[e._v(" "+e._s(e.estaPersona.username)+" ")]):e._e(),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevoPermiso,expression:"nuevoPermiso"}],attrs:{type:"text",placeholder:"Nuevo permiso"},domProps:{value:e.nuevoPermiso},on:{input:function(i){i.target.composing||(e.nuevoPermiso=i.target.value)}}}),o("div",{staticClass:"botonMenuCx",on:{click:function(i){return i.stopPropagation(),e.addPermisos(i)}}},[e._v("Dar permiso")]),e._l(e.opcionesMenuCx,(function(i,n){return o("div",{key:n,staticClass:"botonMenuCx",on:{click:function(o){return e.$emit(i.evento)}}},[e._v(" "+e._s(i.textoVisible)+" ")])}))],2)])}),Ti=[],Si=(o("498a"),q()(D||(D=Object(G["a"])(["\n  query($idUsuario: ID!) {\n    publicUsuario(idUsuario: $idUsuario) {\n      id\n      nombres\n      apellidos\n      username\n    }\n  }\n"])))),Li={name:"IconoPersonaAutonomo",apollo:{estaPersona:{query:Si,variables:function(){return{idUsuario:this.idPersona}},update:function(e){var i=e.publicUsuario;return i},skip:function(){return!this.idPersona}}},data:function(){return{estaPersona:{permisos:[]},nuevoPermiso:null,mounted:!1,fotografiaEnabled:!1}},props:{idPersona:String,seleccionado:Boolean,menuContextual:Boolean,opcionesMenuCx:{type:Array}},computed:{soyYo:function(){return!!(this.mounted&&this.idPersona&&this.$store.state.usuario)&&this.$store.state.usuario.id==this.idPersona}},methods:{addPermisos:function(){console.log("enviando ".concat(this.nuevoPermiso," para el usuario con id ").concat(this.idPersona)),this.$apollo.mutate({mutation:q()(R||(R=Object(G["a"])(["\n            mutation($nuevoPermiso: String!, $idUsuario: ID!) {\n              addPermisoUsuario(\n                nuevoPermiso: $nuevoPermiso\n                idUsuario: $idUsuario\n              ) {\n                id\n                permisos\n              }\n            }\n          "]))),variables:{nuevoPermiso:this.nuevoPermiso,idUsuario:this.idPersona}}).then((function(){})).catch((function(e){console.log("error: "+e)}))},copiarId:function(e){var i=e.target.innerText.trim(),o=document.createElement("textarea");o.value=i,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},fotografiaCargada:function(){console.log("Fotografía cargada")}},mounted:function(){this.mounted=!0},beforeRouteUpdate:function(){console.log("Before update")}},Ei=Li,wi=(o("699c"),Object(ae["a"])(Ei,Ii,Ti,!1,null,"1d1d781e",null)),Fi=wi.exports,ji=Object($["gql"])(M||(M=Object(G["a"])(["\n  query {\n    todosLibros {\n      id\n      titulo\n      idsEditores\n    }\n  }\n"]))),zi={components:{IconoPersonaAutonomo:Fi},name:"TodosLibros",apollo:{todosLibros:{query:ji,skip:function(){return!this.usuarioSuperadministrador}}},props:{idLibroSeleccionado:String},data:function(){return{desplegado:!1}},methods:{seleccionarLibro:function(e){this.$emit("libroSeleccionado",e)},removerLibroCache:function(e){var i=this.$apollo.provider.defaultClient,o=i.readQuery({query:ji}),n=JSON.parse(JSON.stringify(o)),a=n.todosLibros.findIndex((function(i){return i.id==e}));a>-1?(n.todosLibros.splice(a,1),i.writeQuery({query:ji,data:n})):console.log("Libro no estaba en caché")},eliminarLibro:function(e){var i=this;confirm("Eliminando un libro. ¿Continuar?")&&this.$apollo.mutate({mutation:Object($["gql"])(N||(N=Object(G["a"])(["\n          mutation($idLibro:ID!){\n            eliminarLibro(idLibro:$idLibro)\n          }\n        "]))),variables:{idLibro:e}}).then((function(o){var n=o.data.eliminarLibro;n&&i.$emit("elimineUnLibro",e)})).catch((function(e){console.log("Error. E: ".concat(e))}))}},computed:{usuarioSuperadministrador:function(){return this.usuario&&this.usuario.permisos?(console.log("Usuario tiene permisos: ".concat(this.usuario.permisos)),this.usuario.permisos.includes("superadministrador")):(console.log("Datos insuficientes para decidir si usuario es súperadministrador"),!1)},librosPorAutor:function(){var e={};return this.todosLibros?(this.todosLibros.forEach((function(i){var o=i.idsEditores[0];e[o]?e[o].push(i):e[o]=[i]})),e):e}}},Di=zi,Ri=(o("79ff"),Object(ae["a"])(Di,Pi,yi,!1,null,"32b4ce8a",null)),Mi=Ri.exports,Ni=Object($["gql"])(B||(B=Object(G["a"])(["\n  query {\n    yo {\n      id\n      nombres\n      apellidos      \n      permisos\n      foros {\n        idForo\n        conversaciones {\n          idConversacion\n          respuestasLeidas\n        }\n      }\n    }\n  }\n"]))),Bi={name:"App",components:{Libro:hi,MisLibros:xi,TodosLibros:Mi},apollo:{yo:{query:Ni,fetchPolicy:"network-only",update:function(e){var i=e.yo;return this.$store.commit("setInfoForosUsuario",i.foros),i},skip:function(){return!this.usuarioLogeado}}},data:function(){return{idLibroSeleccionado:null}},methods:{seleccionarLibro:function(e){this.idLibroSeleccionado=e,this.$nextTick((function(){this.$refs.elLibro.$el.scrollIntoView({behavior:"smooth"})}))},removerLibroCache:function(e){this.$refs.misLibros.removerLibroCache(e),this.$refs.todosLibros.removerLibroCache(e)}},computed:{usuarioSuperadministrador:function(){return!!(this.usuario&&this.usuario.id&&this.usuario.permisos.includes("superadministrador"))}},mounted:function(){var e=window.location.search.substring(1),i=new URLSearchParams(e);this.idLibro=i.get("id");var o=i.get("t");o&&o.length>10?(this.$store.commit("setToken",o),this.$store.commit("setUserInfo",o),localStorage.setItem("token",o)):(this.$store.commit("deslogearse"),localStorage.clear());var n=i.get("l");n&&(this.idLibroSeleccionado=n,this.$nextTick((function(){this.$refs.elLibro.$el.scrollIntoView({behavior:"smooth"})})))}},ki=Bi,Oi=(o("034f"),Object(ae["a"])(ki,U,Q,!1,null,null,null)),Ui=Oi.exports,Qi=o("5530"),Gi=(o("d81d"),o("09bf")),$i=o("e312"),Hi=o("b7cf"),Vi=o("522d"),Zi=q()(k||(k=Object(G["a"])(["\n    \n    enum TiposUsuario{\n        USUARIO,\n        ADMINISTRADOR,\n        SUPERADMINSTRADOR\n    }\n    \n    type Usuario{\n        username:String,\n        permisos: TiposUsuario\n     }\n\n    type Mutations{ \n        setUsuario(username: String, permisos: TiposUsuario):Usuario\n    }\n"]))),qi={},Yi=o("11c2"),Wi=o("a000"),Ji=o("36f1"),Ki=o("f5a8"),Xi=o("a1b6");O["a"].use(Vi["a"]);var _i=new $i["a"],eo=function(){return localStorage.getItem("token")},io="https://pe-pe-pe.herokuapp.com",oo="wss://"+io.substr(7)+"/subscripciones",no=Object(Hi["a"])({uri:io+"/graphql"}),ao=new Wi["a"]({uri:oo,options:{reconnect:!0,connectionParams:{headers:{Authorization:"Bearer ".concat(eo())}}}}),to=Object(Ki["a"])((function(e,i){var o=i.headers;return{headers:Object(Qi["a"])(Object(Qi["a"])({},o),{},{authorization:eo()})}})),so=Object(Xi["a"])((function(e){e.graphQLErrors,e.networkError})),ro=so.concat(to).concat(no),co=Object(Yi["split"])((function(e){var i=e.query,o=Object(Ji["l"])(i);return"OperationDefinition"===o.kind&&"subscription"===o.operation}),ao,ro),uo=new Gi["a"]({link:co,cache:_i,typeDefs:Zi,resolvers:qi,connectToDevTools:!0}),lo=new Vi["a"]({defaultClient:uo}),Ao=(o("1276"),o("5319"),o("a15b"),o("fb6a"),o("2f62"));function mo(e){var i=e.split(".")[1],o=i.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(o).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}O["a"].use(Ao["a"]);var ho=new Ao["a"].Store({state:{token:null,usuario:{username:null,nombres:null,id:null,permisos:[],foros:[]}},mutations:{setToken:function(e,i){e.token=i},setUserInfo:function(e,i){var o=mo(i);e.usuario.username=o.username,e.usuario.id=o.id,e.usuario.permisos=o.permisos},deslogearse:function(e){e.usuario.username=null,e.usuario.id=null,e.token=null},setRespuestasLeidasConversacionUsuario:function(e,i){var o=e.usuario.foros.find((function(e){return e.idForo==i.idForo}));if(!o){var n={idForo:i.idForo,conversaciones:[],__typename:"InfoForosUsuario"};e.usuario.foros.push(n),o=e.usuario.foros.find((function(e){return e.idForo==i.idForo}))}var a=o.conversaciones.find((function(e){return e.idConversacion==i.idConversacion}));if(!a){var t={idConversacion:i.idConversacion,__typename:"InfoConversacionesUsuario"};o.conversaciones.push(t),a=o.conversaciones.find((function(e){return e.idConversacion==i.idConversacion}))}a.respuestasLeidas=i.respuestasLeidas,console.log("En variable IC: ".concat(JSON.stringify(a))),console.log("En state IC: ".concat(JSON.stringify(e.usuario.foros.find((function(e){return e.idForo==i.idForo})).conversaciones.find((function(e){return e.idConversacion==i.idConversacion})))))},setInfoForosUsuario:function(e,i){e.usuario.foros=i}}});O["a"].config.productionTip=!1,O["a"].mixin({data:function(){return{serverUrl:io}},computed:{usuario:function(){return this.$store.state.usuario},usuarioSuperadministrador:function(){return this.$store.state.usuario.permisos.includes("superadministrador")},usuarioLogeado:function(){return!!this.$store.state.token}}}),new O["a"]({render:function(e){return e(Ui)},store:ho,apolloProvider:lo}).$mount("#app")},6:function(e,i){},"60ee":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAA3lBMVEUAAAD/9fT/6uX/4eH/7evV1Nv+7uz/7OnS1d3/9/X/6eb/6OXU2ODaztL/3t7W0Nb27u7S1d3Y2+L14+Lg1tvQ0trR1t/uu7u/n5///////v7T1d3s7PA10Zb8/v0x0JPu+vXw+/dz3rM50Zc00JWt69Ns27D2/Prz9Pb5+vrY2uHo+fLu7/K57dhX16X6/fzv7/Li+O9C05vV19/k+PDf9u3F8N+y69Sd5smI4r6E4bx437ZR1qNO1aHz+/f09PbV8+fd3+Wp6c+W5cVw3bJn261e2ald2Kla2Kfw8fNijA/eAAAAGXRSTlMA+1ka2c5B2dbCtllQTC9X59jWuWxiWQ8IBi+1PwAAAb5JREFUWMPt2GlPgzAYwHE3ZffhrStbwa2KkzHcfcGcu/3+X8hnWTaMBkalTSDpP+EFb34h5WnS9EwkEomi1Lmv/iMnMsmL093k6eVCGvmpLNHb2VjJTw1ZKtLScX/0uyxLeW60nCpyoiEpx4mGrnKcaEi6p6VRvVF26wMfaSiVo6XLsmuf9f3wHey7R0q6c4L+ejt0ffvAbEHQjq6/HrtM0NCAu1f6VSzObEKC0shXDk2/1t416oiehgnxUaccLtr3goTpN3oW4rn+E4L40EhvtXTEhVZHljVS+dBVRakKWtCC9kOjnzRiSWtd06HNrsaO1uaTvnmgzf5krrGiTcNWNoa2pzVjo9iGyYhWR4SQ5kDf0fqgCS8jlRGNZ5MaIdZwpSiroUVIbTLDbGiwe2Ow2+39Uxv3MLsJQfoCzAoE+kJne5xUh7ayoxV7qLLejdNBEz4b/uaU+UZHmrEmZG1oiDUN4f5y2cd8ziG418PROz0xprFHgWgYi2fXYFiC0N1tpeZSZdsKRsM+cYk0g9EtfrQ+fnFtrAegwX7yCIV2rqNDZ+npLMXFJ13pAtPrWqdkJsH6ktnpTCQSiSLUN5DlNzinQAMLAAAAAElFTkSuQmCC"},"699c":function(e,i,o){"use strict";o("b13e")},7:function(e,i){},"79b1":function(e,i,o){"use strict";o("2d68")},"79ff":function(e,i,o){"use strict";o("01bb")},"7a00":function(e,i,o){},8:function(e,i){},"85ec":function(e,i,o){},"885c":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAjVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADqhzP4AAAALnRSTlMA3x8j4xUmzPyx3gFmiAfUqRhE9zoq6dqbDrl9bu/DoJSCaVtQQPKzpnVfVUo0WjuT0wAAAcBJREFUWMPt2NlygjAAhWEhhoSwr+5LXbr3vP/jdZg6NYoaQ3LRsfx3evENkAUmg76+Ry6grlE0OPWqiAnHIMGiSvY8H8b5nnS/ESwUHe+aMhsgo7+gK9BUOx2r0STcI+g0f6xKt2PlCgCcM7AuB50r6xYo/9bPG/49MM7cLLYH0jBNRJKG1BKY+xxN3M+tgDk7TubcAkh9eQVTczDkEshDYzBOIZfGpmCWQC7JTEFXSNxhSyC2r5DYfobE9igTm/NQDyThbEsVK0UH3E85eFrdWstaYDVF0ytR7TbEuQukK/w0zhT7oQJsv63Xk8GlNMF5gd+i2BzcDnGMzwJTcM8gV7xJz9aj+mD1gtMWm8Gh3ctw+qkLTsY4b/h+WHkjAOxTDwye0G700UyX2QJNy70OKA+wLG5IOeb4afqlAX44uFjh1NK2UN0Nlgz39EpUoO738ThTg/IAq1tP1KA8wOqiWA1unjVA/hSowJ1QM+0V6V4FyyX0ep7fBEkK3erwBjhZQz9nex2ccXQo2V0DwwU6xfLL4HyEji3fL4HFCJ1LihZoWg/+Q1DYAIVr/RDD+jGL7YMgy0dVnvXDtL6+B+4bd8GYEidpbS8AAAAASUVORK5CYII="},9:function(e,i){},9262:function(e,i,o){},"96cc":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABEVBMVEUAAAACAgIAAAAAAAABAQE0NDR7e3sBAQEEBAR5eXkeHh4MDAwwMDADAwMGBgYVFRUKCgoPDw8ODg4ICAggICATExMPDw9QUFBZWVkGBgYBAQEJCQkCAgIZGRkLCws2NjZkZGQODg4GBgYGBgYODg4MDAwPDw8SEhIICAgRERENDQ0bGxslJSUREREWFhYbGxsdHR0cHBwvLy9vb28xMTH///8ICAgODg4ICAgGBgYSEhIUFBQYGBgjIyMaGhoEBAQMDAwoKCgoKCgtLS0kJCQ7OzsMDAwDAwMAAAAjIyMPDw8QEBANDQ0HBwcMDAwcHBwKCgohISEtLS0NDQ0HBwc4ODgVFRVAQEBYWFg1NTUAAADjrFRNAAAAWnRSTlMA/qU/eUQdwVcCH78M79mVV9HB42dXPBIF+eLSWVc/Kgvy8u7OubOwpaN6aVhYT0tENzAdHAPq4daxi4B4cF1OSUhCOSMi8cPBr6almZmSdWlkT05OQDAgHRixeboEAAABzElEQVRYw+3WWU/CQBSG4YPiUnAB29KioIgCyg6K+77v+/r9/x8iTVpGI+kMHi686Hs1SZMnnTmTphQUFBTUa2OJ6vPLfjptmpVYu9FvxWLm/kHiU1WyCpAWn1OiThbgFuqW9+xJZX9tavEoQ341821M4c2WgWWSZgAbJMsOYYYUugaOpacF7KlY78AWSXoDGqRSSH4UDUBt3EkUSFICiChZWWwqWKtK1hlyRI9Vv8szC3woWfOYItKB3KmftaJkrTnWOoDQIduadiyrFm1jzX5YTiVAp+4NAsM9WTQJ1PtlZYBtpjWPqLvScce2vLu6jlumlUXeXW3gimklseSuZrDEtICbfllNYKdjDfCsRfENiPMsrQDkqRfrdeh3R/V6rVLUgQWrF2sSPumrpGTJqeS2TWqWR42XDMNIpZyfiFjFNNPpcrlcPagdNk61H2PwszwqQkpdSCxByRvxswTFtzxqd4tveRSSFte6dDdoAPEM0+qcVQ5YK81Ztqa1Wi3tD5agyJ6CT1FNav2Y4H3WF5NYkXA4QiLteO9hp1gM/27CwYTFaqyDCYuPCYuPCYuPCYuPCYuPnQuLjUFYbExYfExY7OxUKkFBQUH/sC/SIJ/NRVDIKwAAAABJRU5ErkJggg=="},a747:function(e,i,o){"use strict";o("aa01")},aa01:function(e,i,o){},b13e:function(e,i,o){},b8fa:function(e,i,o){},bf1b:function(e,i,o){"use strict";o("9262")},cae2:function(e,i,o){"use strict";o("db41")},db41:function(e,i,o){},df69:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAACx1BMVEUAAADmvpPovpPmvpPmvY/jupjmvpPmvpPrvpLmvZPmv5Pov5HovZTmuYjmvZPmvZPmvpPmvZLnvpbmvZPmvZPmvZLmvZLnwJXpwJXwxpnvz6HmvZPmvpPnvpPqwpXnvpTmvpPlvZLmvZPmvZLmvpPnvZLmv5TmvpTnvpPov5PnvpTnv5TnvpPlvJLlvZHmvZLmvZHmvZLnvpPmvZLovpPovZHmvJLlvZPmvpTmvpPmvpTnvZLnwJPmv5bmvZPlv5XpxZ3mvpT/zQBM1/8Aw3r/TxgAm8rnvpTlvZPovpTlvZdK1//lvZTpvZEAw3kAmsr/UBtQ1/4Amsv/TBXmwJbkvZTrvpJY1fcKnMiux7vnv5Tmvo//jGJi3Uz9VyH+Ux3YwJ3MuZnqvpTovorprYDsoHH5ZTH3yCr/0huw7/+j7P9Y2v8FoM+Zyskkn8HlwZjgvpfsvpXmu5C1vo4mwn7ww1X1dUL3yC38ywxI1/9w0eZ1rK/ExKyqtKHau5bfvJXNvpFKwYI8wYAcwn0MwnsBw3kIxHjso3b/5nDwxFrzxUT1xzr/2DP7XSj/1SWc6v+V6f9u3/9U1vo8y/QqvOYjtuF4z98RqNYpoMEuob8/o7u6xbNoqrHJwqiRr6jLwqbNwqSutKHcv5vWu5jfvpPnvZPtv5LKvpDEvo+wv43nuI2kv4ygv4ubv4t+wIfov4ZkwIXosYVVwYPpv34Xwnz/53UQxnH/5W0fymv/42TtwmTulGQ30V870V3xi1tH1Fj+glVZ2k/9d0r+ckL+bDz4bDn1xzf+YS75yhx64v9k3P9E0Phn0utp0uoZr9sTqteKzNOMy9EAm8yiycQen8NLpbhXprZgqLSEraqJrqiUsKefsaSztJ/EuJvTupfZvZLXvpG9vo7ntYozwX/pv3vqp3vrwXHtmGnvkWPyhVT/2j/3bz76XysFSLteAAAAQXRSTlMA/Dv4XgLvzhP0RBkQCvHro4oN2MmOVjUkBgTjv04p5+HCtK5+dGtnW0D43ca8t6iUknlwSh/j2tSgnGIt7NovLi2yvIcAAAUaSURBVEjHnZaFVxtBEMYJlCS40xYrlEKh7m4buUuIh5YkpYVCkRqUlrpAKU5L3d3d3d3d3d3+iO7uXS6Xi9F+79175DI/vtnZ3Zm4OVCEb+OWgVHN+K3bhnURerr9i4K9O4Z6ASADSDxBZ2HD0aZJbSDJUqvmvg1E/aLjAFeyBtLu8R7Ajno2dY16tggAduXv7ZJt0h7X6L+s3QXAoUJcVDy5G3AsXrJz31jgTF2csY1DcMzYXdWnT1fvGmihlEqAlOiE7dqGiszNy9RqM/NyxzL5xrWLRGUMc3KqAgFWboZUKtVmSjO+097NouEmtIV/dHQMJ/JQ5MCD9alSacalC5e19TmYDUjG5eADEOV4g7uTeME/ISu9MmTIkOvSczKUc1AE+loI6+HVxxHcgT7DV1HSGE6dNB5Agj5YQU4W7U7fovF5EKbSlv5GcLeudAAPrsDBCQ0EFmdcMK1Uip1jfVgRoUK7W8yn4bHnUqW0tD9wrWPYRWnva+8q8QCtT3k0nZp3EH32CDcHtfSAiUU1tm06UYDR1/pUzP6pxvs8ON58mXwi0UeBOxfu7w8sypmUkZmZMSkHsti6NxuGVWvEgVsClgbKcnJzc2SYxdEJwTgonHbgd4qwgtsDZ/JomySM8AsPIQGtIKt69WD6XHp6utIWlwX0iGV3mCCWt4/XYCrmW93k/GunhqfY4ghl000tu8zDsKxuiggp/zCkXagzAzfC/zdlIiJHzB0hyt/vEvaPZmDMHp6C2JNHj88T1QKXEvgwMGM8t6bm6C/R5HSXcKsETzY8R4Sda6DzjeENsBZyYLzmeSLHMCmXy831D+ekTcth2mmlWVklafRhCaTgAR4I3j+FgWvt225+sdJofLLmLcCK9aMOiT+2rmWM7WadnbVKoyc0j/SFG9PQ/eLRLY2aUOkTKe9r9ldc+lRDEPqli5eMKczCC0+yakIpX+ry8+ecUtpPeqaRIDT3FWLxUv10ZA3ou9lbRtMp1CMfN07OhQdNJyB8TywWL9GvLGXBMXySFSYnd+zZvV1OcuDnBNSYxeLby4nCzaQF9o1ihxWXVajVFYd2cOA1BKaXj9EQK0oQ7G3TAIFyb7laIqmsUk/YaX0p1xFYGg2hf4ZYfx9u6wXkrAkSieTY+YtnKme/typYViFBy4j3KtSm6YPsfWoInxk6dOgJyV45hVHPttdGGp6+Db0Osxk3QD4bwWcxfGAcfKFSrjU9Nq3fuhWkzVxl1Os1K14Owp0t2WbQkTKYNU77bKWkLBu+GPbAoNPpDA+HqQAoefNq3cx3mB0c6ssasa1JxhlKXQUf5LxpmQJu7ejRU5cNQ9+q0ugDwGvhyeqgnXnMms3aIweqAsTeHDVqoaJgELt8kTFWIydexlSb0ucPMGmDAvqOGjlyvvgOsmaU4GalmNbUPu8+QrHlxSRQrYYsDS9aS1rYOD/ugI+kMtpZdqSqovzQx2wA4aliqIULFtxS6GZY4GbublwleVD0lu3FxbO2oFDVDOgMpdOJxYYNDMxLZFXLMoKZVkUFkkV3oTWWYtom5qSGBbvZUXQ/YC2VSQe9sbmJuee9/Bz8sAnlTKWiAjGiFYoCMyvr4PBHv0/HVpyraJpmWGSYZlKZB24Y9HWo8FBO5kXrZ2woollZSDhkncg3MYTTvkjSXOZeTdxcSdhJ4GVvNDbHzcM17h0UF4DzRA+qFb9NkDedsWt5BneNTohvJ+Dz+wraNe/UJSY4wjboL2Yes2GneRhMAAAAAElFTkSuQmCC"},dffa:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAsVBMVEUAAAAAAAABAQEKCgoICAgEBAQHBwcEBAQAAAALCwsBAQEDAwMFBQUDAwMDAwMEBAQEBAQBAQENDQ0AAAAHBwcBAQEDAwMEBAQAAAABAQECAgICAgIODg4BAQECAgIGBgYBAQECAgICAgIDAwMEBAQBAQEEBAQCAgICAgIfHx8BAQEKCgoFBQUBAQEBAQECAgICAgIBAQEJCQkLCwsBAQEEBAQDAwMAAAACAgIDAwMAAAA7PaJUAAAAOnRSTlMA+t4VBFwodsAOonlOIX1nY68a8DLQjzrr48e2H7yBRfWynXJwyj6QhwhAGFbn16qZXycLpUlqAsKU+ypwswAAA9RJREFUWMPlWNmWojAQlX1HFBBX3Ntdu13aHv//wyYLIWkL1B7OmZfOE0rqJlV1b6VC7dcNy0vcwPB9I3ATz/onCFXXFqYcSjcypFA2F5qu/hCkqdkyQRCHJNva5gcgntGVBGvxuWt4L4Ios3lm1I4bLaOuaXWj1Yjb2Z/zmfIKijum02W7HilqHiolqtsyfTN2nyfH6ZDNm1NdhVGfmsTBjvMkbfqErDcIlBKHgwGZMNEfobz1iDtG80EOHeJa7618ytrEMxrDxzseNvAsc126F4LS6j+LX79FcEr2o2OPJP+VbPoS9ksvzNEEozivccvBOBOr6A3eqf8q0X08u2BNt4PjUm530i9bN+E8wPHpuIAQY5yjfinIR2MnSVI4T3UW5wbm8z29ZpgvpZmO7FyeXY3lHfNndqdprEajlE+DGx+dQAjm/LveDayAMu663Zs45EvG58H90k00UQpKUD72xHr0de51yNPhRF8EEvJRXFtDf5glaqzLtMxo1nWV2AQw245iosU1oQLgt9MSotFyZdLwH0mUltm7KXq2VS4DGXlcLP2UgHBBf5K6tYJ21CeKClVozFJ7PrL1XL4jBPN14l4IXi3Qq3oRyqp51PuWsuZxvGAY88Tihn4sclGiULWjolJ33u92cs8Q/F1ip84qo2UbYVqMe8jFWIF06THqxp+C8kTuKjEKDmNgEiI5qYAusnA8pVkQY8K/KE8xElaYsCWkAm1PdxyFsTWgyMuaqHOJyTwo0FMqUeru95Q3cpIjj73vIgrYM0iUtaR7aGybm/U7edQY8iARKS7swCfZF9lCLW8Tz02XrurIoZz2M+RzVLtTkV8Cc7SpxZ9milgS+tYxOR5z5BqAKXbKO1OLdKWYNBhTzf+i/y0IEaFTMMQqXTd08KyMOYxAKaUFDDFMuDYiNY4w7rrM7BkyHSDhkH6rA8nvB0vZKEfZc8cB/YAY9A524pOTuUeB2jYo+FwMUJpDbDVX+ILWxbcP77NkBUC4NGGh2OJwHtScQqnz1lcs0DmCQsHLFocZs6W9CXJenncDuBexbMFimISChqNDluiTaA3tYEnfxISsTeGYG4EGAZR0eMBQqhy2ejSN6TE5A/bwgKFbEI67iBpLO5QFRiEw+HG3KTt866FI3XgL7cXDF7YCDsNscxRTJB3sq7reg8ZkO8i02P4TQXPQmJS2SYr23t3HveVQheagTXrUtKnWRuGUg+MKmraqLWT1hrZae30F7XXVZr/61ePpRcipdhGqfi2rfkmsfmV9foFegAt0d6b8l+v86x8Xqn/qqP7h5beNvx6U8A4TgRU+AAAAAElFTkSuQmCC"},e048:function(e,i,o){},f0d1:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAh1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3YishAAAALHRSTlMAHWYM844W+fbOXRF7rtQHbBPl3NiGVcSrdjLqx7M6JebtiVG2PDmSZUW4lkeFA2IAAAKHSURBVFjDpZfterIwDIZTOlS+XgTlQ1FEdLp34/yPb6R0VCjYcvX54bVR7tCmSdrAnEiaBE61aZpN5QR1SmCRPu1dM9Lu+alLewdOSzYOng5efzSz+qiVJrZX/u46s90HoQCUPNw6W/PH1+1b/HLidH6jwxF6y7mN02Wed7vZV340NRr5VbcOd463u3Gfwoyo333BnhwNAzZ4frvj5MxeCsIJ/htHNhYoZG3wvbtsgX0/PoJSx5jNYXL9e62AJfsJP7iMX4GWVsyCO9h/9G6snTAkxt16jYcT+u8I2jqiJ08v8YtT+oIFspDoo9q74v7DIp0xL/4yq8YVLawYBL2W8Ang3z4slI9f7aZwwPyhGsz/w5fYaFq02AFQO70JrNhWuYMp7Fj9w/yP1Py/rlL0mx1hfSh5EOd6POrZP8oxoPkKbtp8c++fpRj9AATnRbX55ke4EddAmJ1Mlxc+QGXt/ykk7W+tzYuA595LWCFxtXlrXAMCcNrfBwjRZ7E+3XR4KNsnDlTME71Ch725VfOd/2PAzKajzEYLah4ohibgyLC2cgtKHkLGygaEBZmXDchLEBYUPF+C7MRevszLTpS2MXqxIPPyNsqBFDk6vAikRDplIkfNi1CWkwktqHmRTHI6owUVL9JZKijcgpLnBWWupHmOiuclbbaoRo6KX7GiOl/WvUxUcVmirPODpaBT54hF5nlxsJgfbZAYHK5Gx3vhDXLYWnzBsAyvOJnxJcv0mmd60TS86uZyib0vu2ybXffz0LDhULQ8hb+abnkK0fIom6503HSlf01XdtFv+0pCw5CS0rX7tq9QetlL3jWeiWfa+mqqtPdjem+XSkxu/2Ns/2MnSObb/1/3C6xgJU1VjAAAAABJRU5ErkJggg=="},f872:function(e,i,o){"use strict";o("53c9")},fc23:function(e,i,o){"use strict";o("e048")},fef7:function(e,i,o){}});
//# sourceMappingURL=app.ac840f47.js.map