{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/HerramientasEdicion.vue?8d96","webpack:///./src/components/CuadroTexto.vue?b975","webpack:///./src/assets/iconos/mensaje.png","webpack:///./src/assets/iconos/libro.png","webpack:///./src/assets/iconos/delete.png","webpack:///./src/components/CuadroImagen.vue?5054","webpack:///./src/assets/iconos/audioFile.svg","webpack:///./src/assets/iconos/texto.png","webpack:///./src/components/Pagina.vue?3104","webpack:///./src/assets/iconos/adjuntar.png","webpack:///./src/assets/iconos/loading.png","webpack:///./src/components/foros/Respuesta.vue?dce3","webpack:///./src/components/IconoPersonaAutonomo.vue?2deb","webpack:///./src/assets/iconos/puntero.png","webpack:///./src/assets/iconos/enviar.png","webpack:///./src/assets/iconos/guardar.png","webpack:///./src/assets/iconos/editar.png","webpack:///./src/App.vue?012c","webpack:///./src/components/Libro.vue?03bd","webpack:///./src/components/Pagina.vue?b8ae","webpack:///./src/components/CuadroImagen.vue?8b1b","webpack:///src/components/CuadroImagen.vue","webpack:///./src/components/CuadroImagen.vue?230e","webpack:///./src/components/CuadroImagen.vue","webpack:///./src/components/CuadroTexto.vue?3208","webpack:///./src/components/utilidades/Loading.vue?ca7e","webpack:///src/components/utilidades/Loading.vue","webpack:///./src/components/utilidades/Loading.vue?3516","webpack:///./src/components/utilidades/Loading.vue","webpack:///src/components/CuadroTexto.vue","webpack:///./src/components/CuadroTexto.vue?0afe","webpack:///./src/components/CuadroTexto.vue","webpack:///./src/components/HerramientasEdicion.vue?849b","webpack:///src/components/HerramientasEdicion.vue","webpack:///./src/components/HerramientasEdicion.vue?3c90","webpack:///./src/components/HerramientasEdicion.vue","webpack:///src/components/Pagina.vue","webpack:///./src/components/Pagina.vue?e9dd","webpack:///./src/components/Pagina.vue","webpack:///./src/components/Foro.vue?e707","webpack:///./src/components/utilidades/recursosGql.js","webpack:///./src/components/foros/Conversacion.vue?72b9","webpack:///./src/components/foros/CuadroResponder.vue?c7c9","webpack:///./src/components/foros/CreadorInterpolacion.vue?37b5","webpack:///./src/components/foros/Interpolacion.vue?2a3b","webpack:///src/components/foros/Interpolacion.vue","webpack:///./src/components/foros/Interpolacion.vue?db53","webpack:///./src/components/foros/Interpolacion.vue","webpack:///src/components/foros/CreadorInterpolacion.vue","webpack:///./src/components/foros/CreadorInterpolacion.vue?c8a0","webpack:///./src/components/foros/CreadorInterpolacion.vue","webpack:///src/components/foros/CuadroResponder.vue","webpack:///./src/components/foros/CuadroResponder.vue?e045","webpack:///./src/components/foros/CuadroResponder.vue","webpack:///./src/components/foros/Respuesta.vue?f792","webpack:///src/components/foros/Respuesta.vue","webpack:///./src/components/foros/Respuesta.vue?9d56","webpack:///./src/components/foros/Respuesta.vue","webpack:///src/components/foros/Conversacion.vue","webpack:///./src/components/foros/Conversacion.vue?5fa9","webpack:///./src/components/foros/Conversacion.vue","webpack:///src/components/Foro.vue","webpack:///./src/components/Foro.vue?22c5","webpack:///./src/components/Foro.vue","webpack:///src/components/Libro.vue","webpack:///./src/components/Libro.vue?7455","webpack:///./src/components/Libro.vue","webpack:///./src/components/MisLibros.vue?0a78","webpack:///src/components/MisLibros.vue","webpack:///./src/components/MisLibros.vue?138b","webpack:///./src/components/MisLibros.vue","webpack:///./src/components/TodosLibros.vue?7c76","webpack:///./src/components/IconoPersonaAutonomo.vue?4915","webpack:///src/components/IconoPersonaAutonomo.vue","webpack:///./src/components/IconoPersonaAutonomo.vue?6e98","webpack:///./src/components/IconoPersonaAutonomo.vue","webpack:///src/components/TodosLibros.vue","webpack:///./src/components/TodosLibros.vue?396b","webpack:///./src/components/TodosLibros.vue","webpack:///./src/components/LibrosPublicos.vue?3099","webpack:///src/components/LibrosPublicos.vue","webpack:///./src/components/LibrosPublicos.vue?7a8e","webpack:///./src/components/LibrosPublicos.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/apolloStore/Schema.js","webpack:///./src/apollo.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/iconos/libroAbierto.png","webpack:///./src/assets/iconos/downloadFile.png","webpack:///./src/components/Libro.vue?04e1","webpack:///./src/components/foros/Interpolacion.vue?d682","webpack:///./src/App.vue?24d6","webpack:///./src/assets/iconos/imagen.png","webpack:///./src/components/foros/CuadroResponder.vue?6657","webpack:///./src/components/foros/Conversacion.vue?7ea1","webpack:///./src/components/Foro.vue?1067","webpack:///./src/components/foros/CreadorInterpolacion.vue?8a7f","webpack:///./src/assets/iconos/conversacion.png","webpack:///./src/App.vue?abff","webpack:///./src/assets/iconos/video.png","webpack:///./src/assets/iconos/share.png","webpack:///./src/components/MisLibros.vue?5c70","webpack:///./src/assets/iconos/paletaColores.png","webpack:///./src/assets/iconos/hypervinculo.png","webpack:///./src/assets/iconos/quote.png","webpack:///./src/assets/iconos/success.png","webpack:///./src/components/utilidades/Loading.vue?be15"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","ref","staticClass","URLLibrosolo","idLibroSeleccionado","on","removerLibroCache","seleccionarLibro","_e","$event","$refs","librosPublicos","toggleLibro","staticRenderFns","idPaginaSeleccionada","directives","rawName","editandoTitulo","expression","_s","libro","titulo","class","letrasRojas","nuevoTituloIlegal","domProps","type","indexOf","_k","keyCode","guardarNuevoTitulo","target","composing","nuevoTitulo","stopPropagation","toggleEditandoTitulo","$apollo","queries","staticStyle","_l","pagina","index","id","idLibro","removePaginaFromCache","updateCacheConNuevoCuadroTexto","updateCacheConNuevoCuadroImagen","removeCuadroTextoFromCache","removeCuadroImagenFromCache","nativeOn","usuarioEditor","usuarioSuperadministrador","deshabilitado","creandoPagina","crearNuevaPaginaLibro","infoAsParent","idForo","seleccionada","uploadingInfo","segundoPlano","cursorTexto","creandoTexto","cursorImagen","creandoImagen","style","estiloColumna","estiloSize","estiloApariencia","button","accionCrearElemento","resizeFantasmaElemento","endDibujandoElemento","idElementoSeleccionado","eliminarse","inputColorPagina","click","guardarNuevoColor","colorSeleccionado","desactivarHerramientas","estiloLayoutFantasmaTexto","estiloLayoutFantasmaImagen","estaPagina","cuadroImagen","refInFor","primerPlano","size","zElementos","$emit","resolverSeleccion","cuadroTexto","conAudio","esteCuadroImagen","audio","updatingInfo","enPaginaSeleccionada","paginaSeleccionada","estiloLayout","playAudio","urlImagen","versionImagen","imagenLoaded","posicionZeta","iniciarDrag","drag","finDrag","enDuda","sizeResizeHandle","iniciarResize","resize","finResize","seleccionado","mostrandoAcciones","toggleMostrandoAcciones","uploadingAudio","inputAudio","uploadAudio","uploadArchivoCuadroImagen","urlAudio","props","String","idPagina","sizePagina","Boolean","archivoCuadroImagenPagina","zBase","Number","resizing","dragging","posicion","x","y","computed","top","left","width","height","zIndex","sizeDragHandle","methods","play","cuadroPos","$el","getBoundingClientRect","nuevoxP","Math","floor","nuevoyP","$set","mutate","mutation","variables","idCuadroImagen","nuevoSize","console","log","posMouse","e","clientX","posPagina","clientY","nuevaPos","offsetWidth","elemPagina","offsetHeight","nuevaPosP","round","nuevoPosicion","datos","FormData","inputArchivoImagen","append","files","method","url","serverUrl","headers","Authorization","$store","state","token","guardarPosicionZeta","nuevoPosicionZ","watch","mounted","sinArchivo","component","esteCuadroTexto","estiloFormato","estiloFontSize","estiloVisibilidadTexto","iniciarEdicionTexto","texto","estiloFontSizeInput","nuevoTexto","estiloInputDummy","guardarNuevoTexto","estiloDummy","estiloTexto","colorLetra","default","color","components","fontSizeDummy","fontSizeInputDummy","fontSizeTexto","fontSizeInput","editandoTexto","textAlign","formato","alineacion","fontFamily","fontSize","visibility","nuevox","nuevoy","$nextTick","idCuadroTexto","findFontSize","hDummy","hTexto","wDummy","wTexto","findFontSizeInput","hInput","wInput","alert","nuevo","hSeleccionada","herramientaSeleccionada","paginaDerecha","preparada","visible","ancho","alto","dibujandoTexto","dibujandoImagen","posFantasmaTexto","sizeFantasmaTexto","posFantasmaImagen","sizeFantasmaImagen","gridColumn","justifySelf","backgroundColor","posClick","sizeFantasma","herramientasEdicion","reset","crearTextoFromFantasma","crearCuadroImagenFromFantasma","datosPosicion","datosSize","idElemento","nuevoColor","idConversacionSeleccionada","numPaginas","refetch","usuarioLogeado","esteForo","acceso","usuarioMiembro","conversacionAbierta","creandoConversacion","tituloNuevaConversacionIlegal","tituloNuevaConversacion","parent","addConversacion","selectorSeleccionado","numPaginaSeleccionada","conversacionesPorPagina","conversacion","setTodaConversacionLeida","refreshPagina","cantidadRespuestas","fragmentoMinimoPersona","gql","fragmentoParticipacion","fragmentoDesarrollo","fragmentoQuote","fragmentoInterpolacion","fragmentoRespuesta","fragmentoConversacion","loading","conRespuestasNoLeidas","estaConversacion","cantidadRespuestasLeidasUsuario","fechaFormateada","respuestasPorPagina","respuesta","citarRespuesta","updateRespuestaEliminada","addRespuesta","toggleCuadroAbierto","mensajeIlegal","mensaje","checkHeight","interpolacion","eliminarInterpolacion","setEnlaceIframeInterpolacion","insertarCreadorInterpolacion","actualizarNombreDeArchivo","abrirSelectorDeArchivos","nombreArchivoSeleccionado","introduciendoEnlace","enlaceAdjuntable","enlaceAdjuntableIlegal","enlaceAdjunto","enlace","_m","cuadroAbierto","enviandoRespuesta","evaluarAdjunto","estaInterpolacion","tipo","enlaceIframe","enlaceAceptado","setEnlaceIframe","onPasteEnlace","quote","infoAutor","nombres","altoIframe","charProhibidosMensaje","enlaceIframeSet","substr","inputMensaje","rows","addToMensaje","temp","test","idConversacion","interpolaciones","setInterpolacionesData","inputArchivoAdjunto","archivoAdjunto","dis","infoArchivo","nuevaRespuesta","enviarNuevaRespuesta","crearConversacionConRespuesta","input","primeraRespuesta","cerrarse","interpolarQuote","nuevaInterpolacion","creadoresInterpolacion","retirarTypeName","arrayInterpolaciones","forEach","__typename","mensajeTotal","estaRespuesta","nombre","archivo","googleDriveDirectLink","emitirSolicitudCita","indexGMT","fechaCorta","usuarioAutor","usuario","fecha","confirm","idRespuesta","update","eliminarRespuesta","apollo","query","QUERY_RESPUESTAS","respuestas","skip","fetchPolicy","targetPagina","cuadroResponder","refresh","foros","infoForo","infoConversacion","respuestasLeidas","QUERY_FORO","foro","QUERY_CONVERSACIONES_PAGINA","conversaciones","miembros","nuevaConversacion","setConversacionLeida","includes","QUERY_LIBRO","paginas","paginasOrdenadas","aPags","sort","parseInt","a","numPag","b","charProhibidosTitulo","idsEditores","enviandoNuevoTitulo","nuevoCache","JSON","parse","stringify","cache","indexP","store","writeQuery","laPagina","cuadrosImagen","cuadrosTexto","nuevoCuadroTexto","indexC","desplegado","transform","creandoNuevoLibro","crearNuevoLibro","misLibros","portada","eliminarLibro","publico","setLibroPublico","QUERY_MIS_LIBROS","indexL","laPortada","find","nuevoEstado","todosLibros","listaLibros","idAutor","yo","soyYo","idPersona","fotografiaEnabled","_t","nombreSeleccionado","estaPersona","copiarId","username","nuevoPermiso","addPermisos","opcionCx","evento","textoVisible","QUERY_PERSONA","idUsuario","Usuario","permisos","menuContextual","opcionesMenuCx","Array","el","str","document","body","appendChild","select","execCommand","removeChild","fotografiaCargada","beforeRouteUpdate","QUERY_TODOS_LIBROS","librosPorAutor","objetoFinal","sinAutor","QUERY_LIBROS_PUBLICOS","Libro","MisLibros","TodosLibros","LibrosPublicos","QUERY_YO","commit","elLibro","scrollIntoView","params","localStorage","setItem","clear","idLibroURL","typeDefs","resolvers","Vue","use","VueApollo","InMemoryCache","getToken","getItem","wsServerUrl","httpLink","createHttpLink","uri","wsLink","WebSocketLink","options","reconnect","connectionParams","authLink","setContext","_","authorization","errorLink","onError","graphQLErrors","networkError","link","concat","finalLink","split","definition","getMainDefinition","kind","operation","apolloClient","ApolloClient","connectToDevTools","apolloProvider","defaultClient","parseJwt","base64Url","base64","replace","jsonPayload","decodeURIComponent","atob","map","charCodeAt","toString","join","Vuex","Store","mutations","setToken","setUserInfo","deslogearse","setRespuestasLeidasConversacionUsuario","f","nuevoInfoForo","nuevoInfoConversacion","setInfoForosUsuario","config","productionTip","mixin","render","h","App","$mount"],"mappings":"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","file":"js/app.e410c66e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tallerCuentos/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=style&index=0&id=2c9e7702&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=style&index=0&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAApVBMVEUAAADM28LI2L3h5tzj6d7R3srn7eTL2cPT38vW4s7g6uDF1bvH173C07fa4NTO3cTk7N7W4tPK2sDa5NTi7OLo8Oja5NXJ2b7M28LD1bfk7ODZ5dLY49DR38jd59fV4czT4MvP3sbP3cXK2r/H2LzW4s7S38rS38nQ3sfL2sHF1rna4tL////5+/j9/v3u8+v3+fXw9O31+PLy9u/7/Pr4+vfr8egF2h3MAAAALHRSTlMAcFEYHCQVFQUcDxkRDAh8ICBjJhEMAVc/KyjQx5XwrqiJg11Ku6Kcj2o4NHigeIkAAAKNSURBVGje3dl9U+IwEAbwR0opUKjg8S6e53nvV+RFuO//0W4SZXYYzG5owo74/COObX/QNLuGwDeDtMBBmmkDMZNkcKTZiyN8gpBWqNAIPyzie+xXJGYQEs60FU5pokpGOCGVH8ws4ND4KRCUITxSV5hbfQQnDygi0SbxX0RJ54yfg5IpGEAi/iG+Ej4/wgvT5ckBzTq0513ezWrD5FIuK5f3+OlCyKV8EP7SVxUzPqVflhWzOF4NUIuJicgJR/xb1enva+U6oyN9kltv42fA7fJV7oTbVXcgm6U567uX8dUcuiLk6OHNHcgSVrn3NdZ4IkQKIVibk79AyvWLUQ15Ve78DA4ZMAgpssEgXaQMslceJOMZPJLxCJ7NRa7dlZSMimNCypXjuN9kBCC8ckNGIIKNudQNY4QipIwZIxQhpfaWsUEUhAr55OCQRzIiIKRMQRmTEQ3B9lD5ZusuIiOlTU4GFfZoSPmaLkwm1KNiIHR+uV2Y65qWXTMv7P3bRUHIeAKs8m++fBmPpv0RByHDKCb7i+ekBCFk0JNMz+6UXvJILiBk2Mztb/uWPCGFRSYcQoYjY59S30IiIFtr8E1rzSNDZkxoosstPmDgyWDyqzQHC0jOIAtrCPlhFR6puxAyhNzbOepEOuzt2lGx4jO3SpUx2a2o7Eq5taNfMsiMWTpM4ZfP7qVDKq1P/gCnKNztGrmQ3WPNNw9HiOYSu62w+qXUz4dk0M0MZ0oC7QxxlgzEeRk/Iwh5r9/eJW8Vsg8Tna2Nhso0bCE8cs1KFYxoSiFumIano7AjlClU57bCplDxrnY9ejqdsKPSMAY67bWvs3XZ0+l57a7OfuJMaYs3KZT+NRimIxym793k/gPFdL6ma6aH6QAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAC8i1q6i1zyu1n2vVq3kUr/tki6i1vyvFm5i1xmXWZ9c2W3il2xiF7kpVqQgmuziV7uuFmpg2GrhmChgmHuuFntuVquhl/TmlrTqmCrhmCvh1+yiF7OqWDHlVqmg2Kog2KigWONd2aDdG3uvVrzvFq7jF349uzkpVvyu1rxuVrVm1vlp1rrsFrorFrJpX/08OP37tnzw2zCmW7w6NrstFr169ns4tHnsG3Ut5fIoHPAkWD07+Pv4cfk1L/VupvNrInYpm3xwGzutFov9SsWAAAAJXRSTlMAH9/fHwcHt7d+Bg38ubca5LeUij7v3863tK+mpI+PbVtFLSMf1QcYpQAAAOxJREFUWMPt10eywjAMgOG8R0+l914EhE4SEnq7/51gCyEOGnvF6D/ANyNbG0kURVE/lhwLCcf1WrUEu3oe4+U1FcJKIbyuBmAtmKFAOQewdQ9LRq6FAY0SLOwhMxsF/v3DeSgY3IoGd65gEC4ne/NsFdBxt29GDQwIe+vqed5tHZDjFCIVAwMCTEajqTlgFIkSSCCBBBJIIIEEvoLmzJ8z5gHn/rjAwfhDvG/o0zhB0zcvF/j+L3c8mGaOjF8bpSp4D6W2KhhUsioeZIu59BdgsY849zpZrazreiYZXKahIA/weEiyRFEU9Ts9APjdERj5ZBqjAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAMAAADGfvrlAAAAtFBMVEUAAAAAAAACAgIAAAAAAAAAAAAGBgYAAAAAAAAAAAAFBQUAAAABAQEGBgYCAgIAAAAAAAAEBAQFBQUAAAAAAAABAQEDAwMCAgIAAAAAAAAAAAAFBQUAAAAGBgYAAAAAAAAAAAAAAAADAwMBAQEAAAABAQEBAQEBAQEBAQEDAwMBAQEAAAACAgIBAQECAgIAAAAAAAABAQEAAAAAAAABAQEBAQEBAQEDAwMAAAAAAAAAAAAAAAAAI6fdAAAAO3RSTlMABQvg9KseO8T3ho92RZ0X129r+9M/KzjxyZkU3Q/ov7ykMiHOtV5SJRqplEx/ZK6gconruWhZQwmCwUKZof4AAAMbSURBVEjHpZeJlqIwEEUDuNGiIiACoqIi4761S9vv//9rwgxYgqB4fMfjEnOTkKpUVViuxN7E7HbNWasvsLfUq7aXniENLGsgGUOn3WkVJfurum8hIctf/umx15prxxKAkjvcHZR2W/naeWo4lDzcT17NevrVgcFUaVTE28NXOsp2AMDeP519teWof+1GIEnorm0A0z/5+6tIgKHkrK6y5/j3OmfyWROw6mOWq9nhGxhlduhMAfvMnuqPB3idDHZIo+bL3AHDS7q1y1mnkmocbzbdVFPrwOnU3JMyUO+nOgYq4J5YSmvgaCYssQSa6X2c+PB9qGbaanXe936eto7t5MHosjs2Df3BtPMRoNw9sAGjEw/cinXSDXNW09u3hp94K2y4jdtCmtC1eNN3hhpJAlRVhxT/NhareDNKGImx9fj3aFSzBjlXMKrRbA7kIPLKBQbxKvbwg0aky78XKbBxjbpVXUz7/zemhCWLVIfDcnXAKA4qX5DP0Rq+OwTbX7n6JXgsYRE+qck/BXYb8amcW0cHg9CXN7q+IQ93yk/UXNERkbHnq97Bnd35z1PdeYqBrcBaBsoCe19NuBPWtaAkm09Knz2quk4eMA2lBgt0eZUMN6pF3Uh1XJPn34LG1hiYSVgqVTOXWU/GJIk3OFDnWTDfh/hdyIJ7PkZsAbufAZvLTWjGpcm7HZQMWPyFx46oiRnwCZ7IRA98iGrJrTzCwhQ1VsuG22GzWIMWwlIWXIbNjm/DNDM985sw/8+j3S4M026TnQvDZGfysMIweRj5dmGYfJtOVWGYThWd58IwnWeKJEVhiiRRDPt5A6YYRtGzMEzRk+J2UZjiNmWMwjBlDMpVYgrWIniTgilX0XddIyOoMk/JF/srXJ194Y445blc2II3JLPkY35mPws44RhCOOyccbX6vIurB+whPz9WBoGuX+dCQmJ1gVolqzKgmoR+GNPyvTwJ0vm+JhFzq6He2tWRlOydU9VQfh1mBnvlXlqjlarDPq8ASdX3as/Pq97P6+3PK/3Xd4x27/Pbzef3qs9vdK/vkmJuvfMXl9icGVrQDtsAAAAASUVORK5CYII=\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=style&index=0&id=f6be9804&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/audioFile.aa11d611.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAAyMjIxMTE0NDQqKipBQUEwMDAjIyMxMTExMTEyMjI4ODgxMTFMTEw1NTUrKysjIyMwMDAxMTExMTE1NTUxMTEzMzMwMDAxMTExMTE4ODgwMDAxMTEvLy8gICB/f38yMjIxMTExMTEvLy8xMTExMTEuLi4wMDAyMjIyMjIxMTEvLy8xMTEyMjIxMTEwMDAzMzMuLi42NjYyMjIxMTExMTExMTEwMDAvLy8wMDAwMDAwMDAtLS0tLS0zMzMvLy80NDQ2NjY4ODgzMzN6YhNIAAAAQ3RSTlMA/fT6PVlzBiXd+8TnFCIJA3j7+BjxZS8N2ZFdz78OBO/kyrWmn5trUjspHOu8r5RJQzXV0sWQghKrqIpuWFZPpnmWvT1N0wAAAodJREFUWMPtl9mWmkAQQGlibDWGRRYhIMEFwX0Zt9FxMhP//5+C09UJKnhsOicv4T41p+BC2VWFCAUFBQX/D4peSWLx+ix1XU1gBwNOYVlDpyRouuPy4Sn1UdrDB6+UsZCC/HYttCuP6HSn3+2bo5TI3K2hGJJujLFVHvBFE+18/tpJiQ1CVVUDdI6/qWo5emSbFy6kU33NOkOMo58+C4/h9RAI0UQSUikxCY/+idJQ/4LQSlQGWo/4hYt6omxFh1uobFCyEXoWr1ByLxuhxCt0RHg2ui2cQtyHLugYxDjZ8QmHT8QjmhNiNiI+YblBhK6kwmqGeYRWFzLeKHMfcpd4hCUoQuOHIK3IUjM5hPgAm/skCXiGoBTl/MJRByRBLIkMkA/zC+dj2OPz3KrYkHOYVwhZxqzOM0Hew9HUyiukz4SCj1IxNXJYH+QVUoPmXPq3OYXyM+TY0cnoppNxrecTDugk7OPLtjGiXEJFrcEeO7/vAFU0w3mEuy6ihfedoLdA6Ep5hCWacfvnN8BGtP1yCJUDAiH6wwnYy2xCmP3ZVIfswlfxjhCVmYU4QPeELZ1VuGyf7lEvsQmh7bJpbBU2oQdtl0lnxCYcjOFC8cslPqIvBTbhC7Qt6kpfk+g9BIGDwiKUe3Q7t8rtnWAEsQh1l2ZMM6M0bbrPSxbhckz/s+qpzw7XMwh9qI7yTSjU8ghhdKFV87bHYYbZJCQPm81m+CF8j1dSltFpoxg/TAtVUYzxTt7cs2q9Xic/0DherV6UjOEV9VutZxOnvq3jUHDEZKo3rj/NFpnTwfOsrKLyPAwn7a8bCpkCD3hzLTTmAhfLrlhL4m8sgQ/pWE4QLmShoKCg4J/zC0L99j/wenPiAAAAAElFTkSuQmCC\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=style&index=0&id=aa2cb084&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAeFBMVEUAAAAXEAoUDQhlRSs0JBYrHRJLMh9FLhxeQCcaEgtiQykyIhUlGQ85JhgsHhJTOCIpGxEgFg1ZPCU/KhpWOSN0TzF6UzQvIBNrSS14UjNPNSFjRClyTjF8VTVcPiZnRyxuSy93UTIDAgEKBwQRDAcPCgYIBQMGBAI5vVJyAAAAInRSTlMA/v6A/v79/aX+kP7+/f7d/v6+/c00Ef5iHfGLPQewd1IkgWmI6gAAAZ1JREFUaN7t1eluqzAQhuGxwxInmDVrl7N8A+b+7/AcqdCChJrUxZVazfNrBBIvBgtICCGEEOK7ecpSGtWlUtmB1pc6RYMccAyUtLq018O0Rx8XRe6Qh4v8YUT0n0V/GU61i6r05B1pen4ZGPZliHgRoAvfSI5hUK9vZbvk0Bhw4RmJMewAg4zedSyhr6EjdDRogkcoRRU+smUdPrLh9isinUS+IHKGCRdxw0apVTp+VvK1Iwd2NNfBjtfaTT2evCNHjZqmLhgPWJ6rTr4RylDRVImOlv8nJXlHCu4TelM7WFr1nYy3XtBo10JRgMjJoLPX8QmBLyEidKzQqygpHqxx0BtaOTJqOsCxA/hMFCAySGKjTZZeyTPi1Vzye91IxG6BeVo1Uugl59lKQpHIRPocPmI5Dh/JYcJHYiga/Y32U1ESIhJjrt0EiGyNmtmvvJJlEpGIRH5YJP9QpCUvEZjuVTtDXrYOj/evOic/Gpruk3D/i/wUDL2jO1hGTr4sA6xuaR1Qkb+D4R43uTaiT9k10S324ZmEEEIIIb6xf4x8QD01P3dKAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABm1BMVEUAAAB9fX2jo6NeXl6Pj4+Pj4+ioqIvLy82NjY1NTWMjIxLS0tra2uOjo4tLS1VVVWioqJXV1ehoaGhoaFdXV2Li4s5OTl5eXksLCwaGhpTU1MdHR17e3uOjo5BQUGOjo4vLy9UVFSOjo4dHR0wMDCPj49nZ2dDQ0MfHx9paWkyMjI+Pj4mJiY3NzcdHR17e3tqamqOjo6Ojo56enqgoKA7OztpaWmQkJChoaFPT08mJiY9PT2NjY2Pj49/f3+fn5+lpaVoaGh6enp7e3sdHR1oaGhTU1NBQUEvLy9UVFR7e3t7e3saGhpoaGg+Pj4dHR1qamp7e3tCQkJCQkKPj498fHweHh5paWmPj49paWlCQkJnZ2dVVVV9fX0vLy9nZ2d7e3tUVFQfHx9ra2t8fHxVVVVERERERERqampAQECPj49DQ0MzMzNVVVV6enpVVVVpaWl6enpFRUUmJiYaGhpmZmZTU1NTU1MyMjJ7e3ufn596enqPj493d3d8fHwbGxukpKRoaGhUVFQrKysaGhp7e3s/Pz8+Pj49PT291zY1AAAAgXRSTlMABlYN4txVHhcSEQoD4N6UUDAuJxgLB/39+/ba2NfHxcS7qKSej4mBdm1sZmBaWlZWUEtJSEdAOjc2NDEpHBoYCPz49vXv7+/s6+bl5ODg09HKwby7u7u6ubGwrKinp6KhoKCWlY2NgoF6eXlzcWxrY2JRT01IQz09PDs2MC8nJSDBqhNCAAABgklEQVRIx+3SRVPDQBTA8VdClTptcZeWCnVX3N3d3d0lJG352GwuDKewb4YZLv3fkskvu/N2odAfZZErkSK2WTXbDpQp5RaAkiae56tidMJZr22Ow9swIRV0y9xrOY5rtsjHBHJNRewcSSsHWzfPN9ENwFVOSL0C4MrmVABVitVyrt8OtAX3juKgcBwHqYVrNJ+vjQKiksUcyYohzKRAdtUYc/CZz/VdAibGWjvlAGRKBlAxBoMaJwzLvQM6E4rsfJDOUKfSIBAdhqh1AjkBTNGGysoNE6Ay3d4xgE4iwYq2pTUPUnSw7MgNRjBzLKkVdTILAtkHTOc9LDseAlSerdYQmP3ul59DTKdFx6gGYLa7yqrd32/MEb3sUQWi+Tuz2ewM+SjhC5PflxaRjOLkooyQ6hR4pzU1hxIwEiGLiJOHQULWJapGaXFxTRje9TKZvhTEO50YWnmCZB0hGh/ZWSBg/PUapV7NZFAtUo10PkEeMxmg7LmlrtGLvdVJFRT6v74ABqxMskl6QHIAAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=style&index=0&id=02ceacf0&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=style&index=0&id=bd4dc75c&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMA+/m7FsEEiBPmECX07x+ck5iQY1wMBt46InFINCkb6tXQyLaNf6x7QVdRTy0IysOjdbIknQAAAAI9SURBVGje7dbplqowDAfwUpACgqCCoHIRRdxny/s/3PWunmGxtIEPc6a/F/ifJoSEKIqiKMr39DJelWRQi3H4HsOKDMi4THMXIB6TwaRs62pw9/5CBrGYzAsX/nBDMgBzefFj+C8foFrOerb14EGbLvqOuB13vxvx4F76LZMRHjyo2ho9RmTrYAsNWG8J0YntPGjipj1FjFcjj0KzwuyjEdbV30C7OT7COLFXCk/kE+z/NSlHG3gOOSTZXN9owOFdMY1YBzF08CpdLSsp31zoQpuZco9IP3QbOnLXMhFGeLApdLZzhN8QJfschBxF11DyobsgxruJhvgg7EBETXQQdSbCliMNePCb5McIhMgNyVIXajt/SPB92WWy66l7Xyh/7+L74p0Qq7ZrxUYR4cH3hX/K4+fF5h+n+L74hAc/L/RKsCYFd0gsgpbyNjwz0RlO6cFTmxM6I2KUNyQGOmOm8dp+RNeK8TJgkyAzLEaBp1gg37GnwDVHZgQacMUZrlb3nvMFuIxarbwYeZzWM4JqBi1TvT4kDibDr9ZKY07DfjmamHfUMmZRw963EUNi1GvFoqb9UljyGdN6htO0X+hKPqPej73TuPftW48ZgdN8jx1k257VazVzPu/9N/grJJIYVDP2Vss9lktvkrNd/XattnuMEWlz+1PG1Gm7k72E9JNCA6v1HtMjRIgZ2o8Mo/0eWxGUfynatL21Ez8lfaRovkHaLUxkiPmrL/SewYFPuddqaGeWEUVRFEVRvqqfnnZk9rlieAEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABjFBMVEUAAAA+MzgAAAAiHBwgGBg+OzsiIh4eGxlEPj8WFBMhHh0nIyRAPT1ORkYfGhYjHhwfGhoeGRgeGRkgGxkmHx8oIiMoJCQlIyEpJyUrJyQpKCkiICAqJiQwKyscFxggHR0dFxYhHhwhHBwgGxoeGxsmISEdGRkjHh4dGhkgHRweGhsjHR4mJCE+PTlST08rKCgbFhYjGRogGxocGBcgHhwpJiUiHRwiHxwgGRkYFBMkHx8uKCcfHBoqJycsKSkdGRchGx0hHx9fX18kHRsaFRQmISIlHx4cGBckHB4sJSYhHRwdGRkhHx0cFhgiIB8cGhoeGxkhFxYdFxQaFxYZFhYoJSYaFxQaFxQVERFXUFckGBoiGRggGRkiGhogGRcnGRsjFxgjGBciHBwjGxshHBolGRclGBkhGBolGxkmFxkjGhckGBUhGxgkGhUlFxUfGBkhFxggGBQlFxcjGhkfGhkfGxciGRYgGRYdFxUeGhMgGhslFxgiGxUiFxYdGRkhGhEfFxccGBMhFxElHR4/VDeRAAAAWnRSTlMABBD+/AoH/h7JokYZD/bx5uHcya1tZ2BSOzIpJB/7+ffr2NPMxKqnl5WOiII1Fhb9+PPx0c66sbGgjnVvW1dLPy0I+unh0MbFmYN9eXBqYFLo2Na1nldWOyk6oaQ9AAADUElEQVRYw+3VV1MaURTA8SUgEFAporRg75qYbm/pvdd7t/cGuyu9aEzyxXNXTSZPEW+cPGT2/8rwmzl7OAvh5eXl5fX/5evNF87FuZJLz04mnv41dOVSev5RfPjgILTxV07fpVdPppKjgiCIoepYFtvpCWcWl5P9FknaQFU7nepyH5YT7N15Pj1xo9qs0jZggSxLxWJgA8fJrkcm7lmKYDa/NmibHR14rSFr7PIZF9aXG5q9eU8URZ7nBdFsNKhrK+uPr3GSpC73nGVh+c35h/FhyzRNZPl5wRTpWGormgrsc1ItNNj9wjJPpxKjlEkqUFX1I0qwErPRvpcPSNvmoJnY7ca5U8g8W3nT7xeApOs6B9DWBDRiKzG3EwwvxPwKtG26utpzqrMU3ZiZ6O/ojkNT7raKbY0RBN7vv7+W9RE7KRJSQlmH9Kkj5l5EJm/4G1+bnXqdtqG7ekNiGPB9eHwBba3nxThNwzIA5bKZPGWLwcWRg5ZFIwtRkKQAsiRJBoFHz/Po48LadWhDCFmEiZEg8efCm5H4VafebB5RFPqOrqvXpgYLBGr7Ngl1eGIFhrp47rknA3fRszIViqLKFCVevz0YPlrs+n3yEMgsCgDAJfNd/TyXNlfjDZ5CCVZs5tXxunZnR0QFMIyGKJQd8XV7NdmFByPfeXJsJnOy+K2plkUqMqNpMnBDI3ZfOJ26ORc9ka48G/O7FtB+Wsn8GV8xP8fIRUb8vNhSFCCfUMKMD+99nH5YFUVBoCB6VDJgAWDt0SEsqncx1ux0dJWROY7d2+MMg1Na45dwqOh04Nu3L186KsPsGaVSyTBqNbLyHoe68K6xbyCryCCrdGzBSn8ay7po7ZdKxaKOLG3PzajR1ZsFPItEliFJrqW1223XCs0RuJZRQvetqqrWZjkUGvEjplV1nJqOjlmV2m0OutEDS7hW06lRVOCwXuPYY6oxR2BapuPogZXVqwc0hO6EkLyxjWlNmk797kI4uBir0CQLACQrt3oxrQGRnxj0oUsaeltBxw2AcnWewLX4VJQ46sO4SCqKYl3fxrVur/06va1bvEWSh5NLBGa//9tkpyuVSmjeR5xHu9OhVvwTcT59fjyMtnhOBV9mCC8vLy+vf9UP6nkGH0hHtzsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAMAAAD26OlUAAAAtFBMVEUAAAAAAAAAAAAAAAAaGhoCAgIDAwMBAQEQEBAAAAABAQEBAQECAgIAAAABAQEBAQECAgIEBAQBAQEAAAAFBQUDAwMDAwMAAAAAAAACAgIDAwMFBQUGBgYAAAABAQEBAQEDAwMDAwMICAgJCQkMDAwBAQEBAQEBAQECAgIBAQECAgICAgICAgIGBgYGBgYNDQ0EBAQCAgIEBAQBAQEBAQEDAwMCAgIDAwMEBAQFBQUQEBAAAAAlv8O7AAAAO3RSTlMAvz/5B4MexQP7YBe0n+vmf03b2F0SC+DPqVlRLfbKo3lENiEP89PAu66Ja2dJOjIncUfthpmTjT4pJj+7kzoAAAIXSURBVDjLnZTnlrIwEIbHDaEI0lFAQFGkWrBty/3f16cU0Q3sd86+vybwnMnUwJ/FWGxZshbzOyVqOLN1RdHtDGviILa/2D5S7ESSEltBvn3Z92JePhPid9ezpgwztTz3PRZmuUdzZkCSgoUnsUVCAvMHxqsbRW2xDlWVjcq/pJqTZA49mickfy4AJtJ+IEGJ4O50JOkKBrRKybG1T7r9RhNtGd9s/VRbUwdtae7NGTfWFjnTyhijCUNzIzJrSGaCKiuS5JDu+JKQBxnKUgQA2mZBOSxFdtKRzGKjAcAHcul7J2xN1mm46APA4gyWjo/U5KiuGmtwFhxkh6e5mhw1VeMd+QAawjRXk2L56BzSYCuMKa7WsstxLGxhKcz7udFTt+bCErC/+y8HOx93HmnuxeNLjOKC5toYn7NmwDVors3akzO+qZZ5AFfv4/hM9sDi9HV9jALpAKZOc7DWOQsgR82mfSmkIikOTJTfU2+nR/PJnQyprbhNz66ax/Op2ZybnDVQOp2lqJ7wyiV/VbjJUpsC7RCN250pqn0rLR56VLQ7A6ERhzCoMDYefwthtB/i9iOh6E4qST/7uc+UqM+lx4Trf3s4gl8DV88ypiqzxvJZhR9yOcId1y/Y8fbJBUrlZUaMq+mJ9xdX9MyrQWaXr/6HCwc+kmMuTblYRn6AVzAkcadmgaEoRpCpOxF+FR+J399iRPXoHwT7P6mwTTR1AAAAAElFTkSuQmCC\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('center',[_c('h2',[_vm._v(\"Taller de creación de cuentos\")])]),(_vm.usuarioSuperadministrador)?_c('todos-libros',{ref:\"todosLibros\",staticClass:\"bloqueListaLibros\",attrs:{\"URLLibrosolo\":_vm.URLLibrosolo,\"idLibroSeleccionado\":_vm.idLibroSeleccionado},on:{\"elimineUnLibro\":_vm.removerLibroCache,\"libroSeleccionado\":_vm.seleccionarLibro}}):_vm._e(),(_vm.usuarioLogeado)?_c('libros-publicos',{ref:\"librosPublicos\",staticClass:\"bloqueListaLibros\",attrs:{\"URLLibrosolo\":_vm.URLLibrosolo,\"idLibroSeleccionado\":_vm.idLibroSeleccionado},on:{\"elimineUnLibro\":_vm.removerLibroCache,\"libroSeleccionado\":_vm.seleccionarLibro}}):_vm._e(),_c('mis-libros',{ref:\"misLibros\",staticClass:\"bloqueListaLibros\",attrs:{\"URLLibrosolo\":_vm.URLLibrosolo},on:{\"libroSeleccionado\":_vm.seleccionarLibro,\"toggleLibroPublico\":function($event){return _vm.$refs.librosPublicos.toggleLibro($event)}}}),(_vm.idLibroSeleccionado != null)?_c('libro',{key:_vm.idLibroSeleccionado,ref:\"elLibro\",attrs:{\"idLibro\":_vm.idLibroSeleccionado}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"libro\",on:{\"click\":function($event){_vm.idPaginaSeleccionada = null}}},[_c('div',{attrs:{\"id\":\"zonaTitulo\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoTitulo),expression:\"!editandoTitulo\"}],attrs:{\"id\":\"titulo\"}},[_vm._v(\" \"+_vm._s(_vm.libro.titulo)+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTitulo),expression:\"nuevoTitulo\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTitulo),expression:\"editandoTitulo\"}],class:{ letrasRojas: _vm.nuevoTituloIlegal },attrs:{\"type\":\"text\",\"id\":\"inputNuevoTitulo\"},domProps:{\"value\":(_vm.nuevoTitulo)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoTitulo($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTitulo=$event.target.value}}}),_c('div',{attrs:{\"id\":\"controlesTitulo\"}},[_c('img',{staticClass:\"bEditarTitulo\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarrTitulo\",\"title\":\"Editar titulo del libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleEditandoTitulo($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTitulo == true && _vm.nuevoTituloIlegal == false),expression:\"editandoTitulo == true && nuevoTituloIlegal == false\"}],staticClass:\"bEditarTitulo\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoTitulo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoTitulo($event)}}})])]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$apollo.queries.libro.loading),expression:\"$apollo.queries.libro.loading\"}],staticClass:\"simboloLoading\",staticStyle:{\"width\":\"50px\",\"margin\":\"30px auto\",\"display\":\"block\"},attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\"}}),_c('div',{attrs:{\"id\":\"contenedorPaginas\"}},_vm._l((_vm.paginasOrdenadas),function(pagina,index){return _c('pagina',{key:pagina.id,attrs:{\"paginaDerecha\":index % 2 > 0 || index == 0,\"estaPagina\":pagina,\"idLibro\":_vm.idLibro,\"seleccionada\":_vm.idPaginaSeleccionada == pagina.id,\"segundoPlano\":_vm.idPaginaSeleccionada != null && _vm.idPaginaSeleccionada != pagina.id},on:{\"meElimine\":function($event){return _vm.removePaginaFromCache(pagina.id)},\"tengoNuevoCuadroTexto\":function($event){return _vm.updateCacheConNuevoCuadroTexto($event, pagina.id)},\"tengoNuevoCuadroImagen\":function($event){return _vm.updateCacheConNuevoCuadroImagen($event, pagina.id)},\"elimineCuadroTexto\":function($event){return _vm.removeCuadroTextoFromCache($event, pagina.id)},\"elimineCuadroImagen\":function($event){return _vm.removeCuadroImagenFromCache($event, pagina.id)}},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.usuarioEditor || _vm.usuarioSuperadministrador?_vm.idPaginaSeleccionada = pagina.id:null}}})}),1),_c('div',{class:{ deshabilitado: _vm.creandoPagina },attrs:{\"id\":\"bCrearNuevaPagina\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevaPaginaLibro($event)}}},[_vm._v(\" Crear nueva página \")]),_c('div',{attrs:{\"id\":\"zonaForos\"}},[_c('div',{staticClass:\"tituloForo\"},[_vm._v(\"Foro de editores\")]),(_vm.libro.idForo)?_c('foro',{attrs:{\"parent\":_vm.infoAsParent,\"idForo\":_vm.libro.idForo}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagina\",class:{\n    seleccionada: _vm.seleccionada,\n    deshabilitado: _vm.uploadingInfo,\n    segundoPlano: _vm.segundoPlano,\n    cursorTexto: _vm.creandoTexto,\n    cursorImagen: _vm.creandoImagen,\n  },style:([_vm.estiloColumna, _vm.estiloSize, _vm.estiloApariencia]),on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.accionCrearElemento($event)},\"mousemove\":_vm.resizeFantasmaElemento,\"mouseup\":_vm.endDibujandoElemento,\"click\":function($event){_vm.idElementoSeleccionado = null}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionada),expression:\"seleccionada\"}],staticClass:\"zonaControlesPagina\"},[_c('img',{staticClass:\"bControlesPagina bEliminarPagina\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"title\":\"Eliminar esta página\"},on:{\"click\":_vm.eliminarse}}),_c('img',{staticClass:\"bControlesPagina bSelectColorPagina\",attrs:{\"src\":require(\"@/assets/iconos/paletaColores.png\"),\"alt\":\"Color\",\"title\":\"Seleccionar color de la página\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.inputColorPagina.click()}}})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.colorSeleccionado),expression:\"colorSeleccionado\"}],ref:\"inputColorPagina\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"color\"},domProps:{\"value\":(_vm.colorSeleccionado)},on:{\"change\":_vm.guardarNuevoColor,\"input\":function($event){if($event.target.composing){ return; }_vm.colorSeleccionado=$event.target.value}}}),_c('herramientas-edicion',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionada),expression:\"seleccionada\"}],ref:\"herramientasEdicion\",on:{\"creacionTexto\":function($event){_vm.desactivarHerramientas();\n      _vm.creandoTexto = true;},\"creacionImagen\":function($event){_vm.desactivarHerramientas();\n      _vm.creandoImagen = true;},\"mousedown\":function($event){$event.stopPropagation();},\"mouseup\":function($event){$event.stopPropagation();}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dibujandoTexto),expression:\"dibujandoTexto\"}],staticClass:\"fantasmaElemento\",style:([_vm.estiloLayoutFantasmaTexto]),attrs:{\"id\":\"fantasmaTexto\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dibujandoImagen),expression:\"dibujandoImagen\"}],staticClass:\"fantasmaElemento\",style:([_vm.estiloLayoutFantasmaImagen]),attrs:{\"id\":\"fantasmaImagen\"}}),_vm._l((_vm.estaPagina.cuadrosImagen),function(cuadroImagen){return _c('cuadro-imagen',{key:cuadroImagen.id,ref:'cuadroImagen' + cuadroImagen.id,refInFor:true,staticClass:\"elementoPagina\",class:{ primerPlano: _vm.idElementoSeleccionado == cuadroImagen.id },attrs:{\"esteCuadroImagen\":cuadroImagen,\"idLibro\":_vm.idLibro,\"idPagina\":_vm.estaPagina.id,\"sizePagina\":_vm.size,\"seleccionado\":_vm.idElementoSeleccionado == cuadroImagen.id && _vm.seleccionada,\"paginaSeleccionada\":_vm.seleccionada,\"zBase\":_vm.zElementos},on:{\"meElimine\":function($event){return _vm.$emit('elimineCuadroImagen', cuadroImagen.id)}},nativeOn:{\"click\":function($event){return _vm.resolverSeleccion($event, cuadroImagen.id)}}})}),_vm._l((_vm.estaPagina.cuadrosTexto),function(cuadroTexto){return _c('cuadro-texto',{key:cuadroTexto.id,staticClass:\"elementoPagina\",class:{ primerPlano: _vm.idElementoSeleccionado == cuadroTexto.id },attrs:{\"esteCuadroTexto\":cuadroTexto,\"idLibro\":_vm.idLibro,\"idPagina\":_vm.estaPagina.id,\"sizePagina\":_vm.size,\"seleccionado\":_vm.idElementoSeleccionado == cuadroTexto.id && _vm.seleccionada,\"paginaSeleccionada\":_vm.seleccionada,\"zBase\":_vm.zElementos},on:{\"meElimine\":function($event){return _vm.$emit('elimineCuadroTexto', cuadroTexto.id)}},nativeOn:{\"click\":function($event){return _vm.resolverSeleccion($event, cuadroTexto.id)}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroImagen\",class:{\n    conAudio: _vm.esteCuadroImagen.audio,\n    deshabilitado: _vm.updatingInfo,\n    enPaginaSeleccionada: _vm.paginaSeleccionada,\n  },style:([_vm.estiloLayout]),on:{\"click\":_vm.playAudio}},[_c('img',{staticClass:\"imagenContenido\",attrs:{\"src\":_vm.urlImagen + '?v=' + _vm.versionImagen,\"alt\":\"ilustracion\"},on:{\"load\":function($event){_vm.imagenLoaded = true}}}),(!_vm.imagenLoaded)?_c('img',{staticClass:\"simboloLoading\",attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\"}}):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"id\":\"zHandlers\"}},[_c('div',{staticClass:\"zHandler\",attrs:{\"id\":\"bSendBack\",\"title\":\"Mover hacia atrás\"},on:{\"click\":function($event){_vm.posicionZeta = _vm.posicionZeta > 0 ? _vm.posicionZeta - 1 : 0}}}),_c('div',{staticClass:\"zHandler\",attrs:{\"id\":\"bBringFront\",\"title\":\"Mover hacia adelante\"},on:{\"click\":function($event){_vm.posicionZeta++}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:(_vm.sizeDragHandle),attrs:{\"id\":\"dragHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarDrag($event)},\"mousemove\":_vm.drag,\"mouseup\":_vm.finDrag}},[_c('div',{class:{ enDuda: _vm.posicionZeta != _vm.esteCuadroImagen.posicionZeta },attrs:{\"id\":\"bolitaDragHandle\",\"title\":\"arrastrar\"}},[_vm._v(\" \"+_vm._s(_vm.posicionZeta)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:([_vm.sizeResizeHandle]),attrs:{\"id\":\"resizeHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.iniciarResize($event)},\"mousemove\":_vm.resize,\"mouseup\":_vm.finResize}},[_c('div',{attrs:{\"id\":\"bolitaResizeHandle\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado && !_vm.mostrandoAcciones),expression:\"seleccionado && !mostrandoAcciones\"}],staticClass:\"boton\",attrs:{\"id\":\"botonMostrarAcciones\"},on:{\"click\":_vm.toggleMostrandoAcciones}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoAcciones && _vm.seleccionado),expression:\"mostrandoAcciones && seleccionado\"}],attrs:{\"id\":\"zonaAcciones\"}},[_c('div',{staticClass:\"boton botonAccion\",attrs:{\"title\":\"Eliminar cuadro de texto\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\"},on:{\"click\":_vm.eliminarse}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.uploadingAudio),expression:\"!uploadingAudio\"}],staticClass:\"boton\",class:{ deshabilitado: _vm.uploadingAudio },on:{\"click\":function($event){return _vm.$refs.inputAudio.click()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/audioFile.svg\"),\"alt\":\"Audio\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uploadingAudio),expression:\"uploadingAudio\"}]}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"inputAudio\",attrs:{\"type\":\"file\",\"id\":\"inputAudio\"},on:{\"change\":_vm.uploadAudio}})],1),_c('input',{ref:\"inputArchivoImagen\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"inputArchivoImagen\"},on:{\"change\":_vm.uploadArchivoCuadroImagen}}),(_vm.esteCuadroImagen.audio)?_c('audio',{ref:\"audio\",attrs:{\"type\":\"audio/ogg\"}},[_c('source',{attrs:{\"src\":_vm.urlAudio,\"type\":\"audio/ogg\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"cuadroImagen\"\n    :style=\"[estiloLayout]\"\n    @click=\"playAudio\"\n    :class=\"{\n      conAudio: esteCuadroImagen.audio,\n      deshabilitado: updatingInfo,\n      enPaginaSeleccionada: paginaSeleccionada,\n    }\"\n  >\n    <img\n      :src=\"urlImagen + '?v=' + versionImagen\"\n      alt=\"ilustracion\"\n      class=\"imagenContenido\"\n      @load=\"imagenLoaded = true\"\n    />\n\n    <img\n      src=\"@/assets/iconos/loading.png\"\n      alt=\"Cargando\"\n      class=\"simboloLoading\"\n      v-if=\"!imagenLoaded\"\n    />\n\n    <div id=\"zHandlers\" v-show=\"seleccionado\">\n      <div\n        class=\"zHandler\"\n        id=\"bSendBack\"\n        title=\"Mover hacia atrás\"\n        @click=\"posicionZeta = posicionZeta > 0 ? posicionZeta - 1 : 0\"\n      ></div>\n      <div\n        class=\"zHandler\"\n        id=\"bBringFront\"\n        title=\"Mover hacia adelante\"\n        @click=\"posicionZeta++\"\n      ></div>\n    </div>\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div\n        id=\"bolitaDragHandle\"\n        :class=\"{ enDuda: posicionZeta != esteCuadroImagen.posicionZeta }\"\n        title=\"arrastrar\"\n      >\n        {{ posicionZeta }}\n      </div>\n    </div>\n\n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <div\n      class=\"boton\"\n      id=\"botonMostrarAcciones\"\n      v-show=\"seleccionado && !mostrandoAcciones\"\n      @click=\"toggleMostrandoAcciones\"\n    >\n      <img src=\"@/assets/iconos/editar.png\" alt=\"Editar\" />\n    </div>\n\n    <div id=\"zonaAcciones\" v-show=\"mostrandoAcciones && seleccionado\">\n      <div class=\"boton botonAccion\" title=\"Eliminar cuadro de texto\">\n        <img\n          src=\"@/assets/iconos/delete.png\"\n          alt=\"Eliminar\"\n          @click=\"eliminarse\"\n        />\n      </div>\n\n      <div\n        class=\"boton\"\n        v-show=\"!uploadingAudio\"\n        :class=\"{ deshabilitado: uploadingAudio }\"\n        @click=\"$refs.inputAudio.click()\"\n      >\n        <img src=\"@/assets/iconos/audioFile.svg\" alt=\"Audio\" />\n      </div>\n      <loading v-show=\"uploadingAudio\" />\n      <input\n        type=\"file\"\n        @change=\"uploadAudio\"\n        ref=\"inputAudio\"\n        id=\"inputAudio\"\n        v-show=\"false\"\n      />\n    </div>\n\n    <input\n      type=\"file\"\n      id=\"inputArchivoImagen\"\n      style=\"display: none\"\n      ref=\"inputArchivoImagen\"\n      @change=\"uploadArchivoCuadroImagen\"\n    />\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroImagen.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport axios from \"axios\";\nimport debounce from \"debounce\";\nexport default {\n  name: \"cuadroImagen\",\n  props: {\n    esteCuadroImagen: Object,\n    idLibro: String,\n    idPagina: String,\n    sizePagina: Object,\n    seleccionado: Boolean,\n    archivoCuadroImagenPagina: Object,\n    paginaSeleccionada: Boolean,\n    zBase: Number,\n  },\n  data() {\n    return {\n      posicionZeta: 0,\n      resizing: false,\n      dragging: false,\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo: false,\n      versionImagen: 0,\n      imagenLoaded: false,\n\n      mostrandoAcciones: false,\n\n      uploadingAudio: false,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n\n        zIndex: this.seleccionado\n          ? this.zBase + this.posicionZeta + 100\n          : this.zBase + this.posicionZeta,\n      };\n    },\n    urlImagen() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/imagenCuento/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioImagen/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      if (!this.esteCuadroImagen.audio) return;\n      this.$refs.audio.play();\n    },\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        const nuevox = e.clientX - cuadroPos.x - 5;\n        const nuevoy = e.clientY - cuadroPos.y - 5;\n\n        var nuevoxP = Math.floor((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.floor((nuevoy * 100) / this.sizePagina.y);\n\n        if (this.posicion.x + nuevoxP > 100)\n          nuevoxP = Math.floor(100 - this.posicion.x);\n        if (this.posicion.y + nuevoyP > 100)\n          nuevoyP = Math.floor(100 - this.posicion.y);\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation (\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoSize: CoordsInput!\n          ) {\n            updateSizeCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoSize: $nuevoSize\n            ) {\n              id\n              size {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoSize: this.size,\n        },\n      });\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        if (nuevaPos.x + this.$el.offsetWidth > elemPagina.offsetWidth) {\n          nuevaPos.x = elemPagina.offsetWidth - this.$el.offsetWidth;\n        }\n        if (nuevaPos.x < 0) {\n          nuevaPos.x = 0;\n        }\n\n        if (nuevaPos.y + this.$el.offsetHeight > elemPagina.offsetHeight) {\n          nuevaPos.y = elemPagina.offsetHeight - this.$el.offsetHeight;\n        }\n        if (nuevaPos.y < 0) {\n          nuevaPos.y = 0;\n        }\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation (\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n\n    toggleMostrandoAcciones() {\n      this.mostrandoAcciones = !this.mostrandoAcciones;\n    },\n\n    uploadArchivoCuadroImagen() {\n      var datos = new FormData();\n      if (!this.$refs.inputArchivoImagen.value) {\n        console.log(`No había archivo seleccionado`);\n        return;\n      }\n      datos.append(\"idLibro\", this.idLibro);\n      datos.append(\"idPagina\", this.idPagina);\n      datos.append(\"idCuadroImagen\", this.esteCuadroImagen.id);\n      datos.append(\"imagen\", this.$refs.inputArchivoImagen.files[0]);\n\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/apiCuentos/subirArchivoCuadroImagen\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ res }) => {\n          console.log(`Resultado de upload archivo: ${res}`);\n          this.versionImagen++;\n        })\n        .catch((error) => {\n          console.log(`Error uploading archivo de cuadroImagen. E: ${error}`);\n        });\n    },\n    uploadAudio() {\n      var datos = new FormData();\n      if (!this.$refs.inputAudio.value) {\n        console.log(`No había archivo seleccionado`);\n        return;\n      }\n      datos.append(\"idLibro\", this.idLibro);\n      datos.append(\"idPagina\", this.idPagina);\n      datos.append(\"idCuadroImagen\", this.esteCuadroImagen.id);\n      datos.append(\"audio\", this.$refs.inputAudio.files[0]);\n\n      this.uploadingAudio = true;\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/apiCuentos/subirArchivoAudioCuadroImagen\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ res }) => {\n          console.log(`Resultado de upload archivo de audio: ${res}`);\n          this.uploadingAudio = false;\n        })\n        .catch((error) => {\n          this.uploadingAudio = false;\n          console.log(`Error uploading archivo de audio. E: ${error}`);\n        });\n    },\n    guardarPosicionZeta: debounce(function () {\n      if (this.posicionZeta == this.esteCuadroImagen.posicionZeta) return;\n      console.log(`Guardando posición zeta`);\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation (\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoPosicionZ: Int!\n          ) {\n            setPosicionZCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoPosicionZ: $nuevoPosicionZ\n            ) {\n              id\n              posicionZeta\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoPosicionZ: this.posicionZeta,\n        },\n      });\n    }, 3000),\n\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de imagen. Esta operación no se puede deshacer. ¿Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de imagen`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idLibro: ID!, $idPagina: ID!, $idCuadroImagen: ID!) {\n              eliminarCuadroImagenLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroImagen: $idCuadroImagen\n              )\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroImagen: this.esteCuadroImagen.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroImagenLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroImagenLibro}`);\n          if (eliminarCuadroImagenLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n  },\n  watch: {\n    posicionZeta() {\n      console.log(`Cambio de posicion zeta`);\n      this.guardarPosicionZeta();\n    },\n  },\n  mounted() {\n    console.log(`Montado`);\n    this.$set(this.posicion, \"x\", this.esteCuadroImagen.posicion.x);\n    this.$set(this.posicion, \"y\", this.esteCuadroImagen.posicion.y);\n\n    this.$set(this.size, \"x\", this.esteCuadroImagen.size.x);\n    this.$set(this.size, \"y\", this.esteCuadroImagen.size.y);\n\n    this.posicionZeta = this.esteCuadroImagen.posicionZeta;\n\n    if (this.esteCuadroImagen.sinArchivo) {\n      console.log(`Abriendo el input de archivo`);\n      this.$refs.inputArchivoImagen.click();\n    }\n  },\n};\n</script>\n\n<style scoped>\n.cuadroImagen {\n  position: absolute;\n  border-width: 1px;\n  border-style: solid;\n}\n.cuadroImagen:not(.enPaginaSeleccionada) {\n  border-color: transparent;\n}\n.enPaginaSeleccionada {\n  border-color: purple;\n}\n.imagenContenido {\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n}\n#botonMostrarAcciones {\n  position: absolute;\n  top: 0px;\n  left: calc(100%+5px);\n}\n#zonaAcciones {\n  position: absolute;\n  top: -0px;\n  left: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 5px;\n  padding: 5px 10px;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n  text-align: center;\n}\n.conAudio {\n  cursor: pointer;\n}\n\n#bEliminarCuadroImagen {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: -40px;\n  right: -35px;\n}\n#bEliminarCuadroImagen:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n\n#zHandlers {\n  position: absolute;\n  top: -33px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: rgba(104, 7, 104, 0.534);\n  border-radius: 13px;\n  padding: 5px 10px;\n  display: grid;\n  grid-template-columns: 16px 30px 16px;\n}\n\n.zHandler {\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n}\n#bSendBack {\n  background-color: rgba(8, 83, 8, 0.377);\n  grid-column: 1/2;\n}\n#bSendBack:hover {\n  background-color: rgba(8, 83, 8, 0.61);\n}\n#bBringFront {\n  background-color: rgb(8, 83, 8);\n  grid-column: 3/4;\n}\n#bBringFront:hover {\n  background-color: rgb(4, 56, 4);\n}\n.enDuda {\n  color: purple;\n}\n\n.simboloLoading {\n  width: 50px;\n  height: 50px;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50% -50%);\n  z-index: -1;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroImagen.vue?vue&type=template&id=f6be9804&scoped=true&\"\nimport script from \"./CuadroImagen.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroImagen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroImagen.vue?vue&type=style&index=0&id=f6be9804&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6be9804\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroTexto\",class:{\n    conAudio: _vm.esteCuadroTexto.audio,\n    deshabilitado: _vm.updatingInfo,\n    enPaginaSeleccionada: _vm.paginaSeleccionada,\n  },style:([_vm.estiloLayout]),on:{\"click\":_vm.playAudio}},[_c('div',{ref:\"texto\",staticClass:\"texto\",style:([_vm.estiloFormato, _vm.estiloFontSize, _vm.estiloVisibilidadTexto]),on:{\"click\":_vm.iniciarEdicionTexto}},[_vm._v(\" \"+_vm._s(_vm.esteCuadroTexto.texto)+\" \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTexto),expression:\"nuevoTexto\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTexto),expression:\"editandoTexto\"}],ref:\"inputNuevoTexto\",style:([_vm.estiloFormato, _vm.estiloFontSizeInput]),attrs:{\"id\":\"inputNuevoTexto\"},domProps:{\"value\":(_vm.nuevoTexto)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTexto=$event.target.value}}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTexto),expression:\"nuevoTexto\"}],ref:\"dummyInput\",style:([_vm.estiloFormato, _vm.estiloInputDummy]),attrs:{\"id\":\"dummyInputTexto\"},domProps:{\"value\":(_vm.nuevoTexto)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTexto=$event.target.value}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTexto),expression:\"editandoTexto\"}],attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"guardar\",\"title\":\"Guardar cambios\",\"id\":\"bGuardarTexto\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoTexto($event)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado && !_vm.mostrandoAcciones),expression:\"seleccionado && !mostrandoAcciones\"}],staticClass:\"boton\",attrs:{\"id\":\"botonMostrarAcciones\"},on:{\"click\":_vm.toggleMostrandoAcciones}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrandoAcciones && _vm.seleccionado),expression:\"mostrandoAcciones && seleccionado\"}],attrs:{\"id\":\"zonaAcciones\"}},[_c('div',{staticClass:\"boton botonAccion\",attrs:{\"title\":\"Eliminar cuadro de texto\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\"},on:{\"click\":_vm.eliminarse}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.uploadingAudio),expression:\"!uploadingAudio\"}],staticClass:\"boton\",class:{deshabilitado:_vm.uploadingAudio},on:{\"click\":function($event){return _vm.$refs.inputAudio.click()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/audioFile.svg\"),\"alt\":\"Audio\"}})]),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uploadingAudio),expression:\"uploadingAudio\"}]}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"inputAudio\",attrs:{\"type\":\"file\",\"id\":\"inputAudio\"},on:{\"change\":_vm.uploadAudio}})],1),_c('div',{ref:\"textoDummy\",staticClass:\"textoDummy\",style:([_vm.estiloFormato, _vm.estiloDummy])},[_vm._v(\" \"+_vm._s(_vm.esteCuadroTexto.texto)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"id\":\"zHandlers\"}},[_c('div',{staticClass:\"zHandler\",attrs:{\"id\":\"bSendBack\",\"title\":\"Mover hacia atrás\"},on:{\"click\":function($event){_vm.posicionZeta = _vm.posicionZeta > 0 ? _vm.posicionZeta - 1 : 0}}}),_c('div',{staticClass:\"zHandler\",attrs:{\"id\":\"bBringFront\",\"title\":\"Mover hacia adelante\"},on:{\"click\":function($event){_vm.posicionZeta++}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:(_vm.sizeDragHandle),attrs:{\"id\":\"dragHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarDrag($event)},\"mousemove\":_vm.drag,\"mouseup\":_vm.finDrag}},[_c('div',{class:{ enDuda: _vm.posicionZeta != _vm.esteCuadroTexto.posicionZeta },attrs:{\"id\":\"bolitaDragHandle\",\"title\":\"Arrastrar\"}},[_vm._v(\" \"+_vm._s(_vm.posicionZeta)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:([_vm.sizeResizeHandle]),attrs:{\"id\":\"resizeHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarResize($event)},\"mousemove\":_vm.resize,\"mouseup\":_vm.finResize}},[_c('div',{attrs:{\"id\":\"bolitaResizeHandle\"}})]),(_vm.esteCuadroTexto.audio)?_c('audio',{ref:\"audio\",attrs:{\"type\":\"audio/ogg\"}},[_c('source',{attrs:{\"src\":_vm.urlAudio,\"type\":\"audio/ogg\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\",\"id\":\"iconoLoading\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.texto),expression:\"texto\"}],staticClass:\"textoLoading\",style:([_vm.estiloTexto])},[_vm._v(_vm._s(_vm.texto))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"loading\">\n    <img src=\"@/assets/iconos/loading.png\" alt=\"Cargando\" id=\"iconoLoading\" />\n    <span v-show=\"texto\" :style=\"[estiloTexto]\" class=\"textoLoading\">{{ texto }}</span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Loading\",\n  props: {\n    texto: {\n      type: String,      \n    },\n    colorLetra: {\n      type: String,\n      default: \"black\",\n    },\n  },\n  computed: {\n    estiloTexto() {\n      return {\n        color: this.colorLetra,\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.loading {\n  text-align: center;\n  pointer-events: none;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  justify-items: center;\n  align-items: center;\n}\n#iconoLoading {\n  animation: rotacion 0.9s linear infinite;\n  width: 20px;\n}\n.textoLoading {\n  text-align: center;\n  font-size: 11px;\n  font-style: italic;\n}\n\n@keyframes rotacion {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=2592dc00&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=2592dc00&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2592dc00\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"cuadroTexto\"\n    :style=\"[estiloLayout]\"\n    @click=\"playAudio\"\n    :class=\"{\n      conAudio: esteCuadroTexto.audio,\n      deshabilitado: updatingInfo,\n      enPaginaSeleccionada: paginaSeleccionada,\n    }\"\n  >\n    <div\n      class=\"texto\"\n      :style=\"[estiloFormato, estiloFontSize, estiloVisibilidadTexto]\"\n      ref=\"texto\"\n      @click=\"iniciarEdicionTexto\"\n    >\n      {{ esteCuadroTexto.texto }}\n    </div>\n    <textarea\n      ref=\"inputNuevoTexto\"\n      id=\"inputNuevoTexto\"\n      :style=\"[estiloFormato, estiloFontSizeInput]\"\n      v-model=\"nuevoTexto\"\n      v-show=\"editandoTexto\"\n    ></textarea>\n\n    <textarea\n      ref=\"dummyInput\"\n      id=\"dummyInputTexto\"\n      :style=\"[estiloFormato, estiloInputDummy]\"\n      v-model=\"nuevoTexto\"\n    >\n    </textarea>\n\n    <img\n      src=\"@/assets/iconos/guardar.png\"\n      alt=\"guardar\"\n      title=\"Guardar cambios\"\n      id=\"bGuardarTexto\"\n      v-show=\"editandoTexto\"\n      @click.stop=\"guardarNuevoTexto\"\n    />\n\n    <div\n      class=\"boton\"\n      id=\"botonMostrarAcciones\"\n      v-show=\"seleccionado && !mostrandoAcciones\"\n      @click=\"toggleMostrandoAcciones\"\n    >\n      <img src=\"@/assets/iconos/editar.png\" alt=\"Editar\" />\n    </div>\n\n    <div id=\"zonaAcciones\" v-show=\"mostrandoAcciones && seleccionado\">\n      <div class=\"boton botonAccion\" title=\"Eliminar cuadro de texto\">\n        <img\n          src=\"@/assets/iconos/delete.png\"\n          alt=\"Eliminar\"\n          @click=\"eliminarse\"\n        />\n      </div>\n\n      <div class=\"boton\" v-show=\"!uploadingAudio\" :class=\"{deshabilitado:uploadingAudio}\" @click=\"$refs.inputAudio.click()\">\n        <img src=\"@/assets/iconos/audioFile.svg\" alt=\"Audio\" />\n      </div>\n      <loading v-show=\"uploadingAudio\" />\n      <input\n        type=\"file\"\n        @change=\"uploadAudio\"\n        ref=\"inputAudio\"\n        id=\"inputAudio\"\n        v-show=\"false\"\n      />\n    </div>\n\n    <div\n      class=\"textoDummy\"\n      :style=\"[estiloFormato, estiloDummy]\"\n      ref=\"textoDummy\"\n    >\n      {{ esteCuadroTexto.texto }}\n    </div>\n    <div id=\"zHandlers\" v-show=\"seleccionado\">\n      <div\n        class=\"zHandler\"\n        id=\"bSendBack\"\n        title=\"Mover hacia atrás\"\n        @click=\"posicionZeta = posicionZeta > 0 ? posicionZeta - 1 : 0\"\n      ></div>\n      <div\n        class=\"zHandler\"\n        id=\"bBringFront\"\n        title=\"Mover hacia adelante\"\n        @click=\"posicionZeta++\"\n      ></div>\n    </div>\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div\n        id=\"bolitaDragHandle\"\n        :class=\"{ enDuda: posicionZeta != esteCuadroTexto.posicionZeta }\"\n        title=\"Arrastrar\"\n      >\n        {{ posicionZeta }}\n      </div>\n    </div>\n\n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left.stop=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroTexto.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport debounce from \"debounce\";\nimport axios from \"axios\";\nimport Loading from './utilidades/Loading.vue';\nexport default {\n  components: { Loading },\n  name: \"CuadroTexto\",\n  props: {\n    idLibro: String,\n    idPagina: String,\n    esteCuadroTexto: Object,\n    sizePagina: Object,\n    seleccionado: Boolean,\n    paginaSeleccionada: Boolean,\n    zBase: Number,\n  },\n  data() {\n    return {\n      fontSizeDummy: 10,\n      fontSizeInputDummy: 10,\n      fontSizeTexto: 10,\n      fontSizeInput: 10,\n\n      resizing: false,\n      dragging: false,\n\n      posicionZeta: 0,\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo: false,\n\n      nuevoTexto: null,\n      editandoTexto: false,\n      mostrandoAcciones: false,\n\n      uploadingAudio:false,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n\n        zIndex: this.seleccionado\n          ? this.zBase + this.posicionZeta + 100\n          : this.zBase + this.posicionZeta,\n      };\n    },\n    estiloFormato() {\n      return {\n        textAlign: this.esteCuadroTexto.formato.alineacion,\n        color: this.esteCuadroTexto.formato.colorLetra,\n        fontFamily:\n          this.esteCuadroTexto.formato.tipoLetra + \", 'Nunito', sans-serif\",\n      };\n    },\n    estiloFontSize() {\n      return {\n        fontSize: this.fontSizeTexto + \"px\",\n      };\n    },\n    estiloVisibilidadTexto() {\n      return {\n        visibility: this.editandoTexto ? \"hidden\" : \"visible\",\n      };\n    },\n    estiloFontSizeInput() {\n      return {\n        fontSize: this.fontSizeInput + \"px\",\n      };\n    },\n    estiloDummy() {\n      return {\n        fontSize: this.fontSizeDummy + \"px\",\n      };\n    },\n    estiloInputDummy() {\n      return {\n        fontSize: this.fontSizeInputDummy + \"px\",\n      };\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioTexto/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroTexto.id\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      if (!this.esteCuadroTexto.audio) return;\n      console.log(`Reproduciendo`);\n      this.$refs.audio.play();\n    },\n\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        var nuevox = e.clientX - cuadroPos.x - 5;\n        var nuevoy = e.clientY - cuadroPos.y - 5;\n\n        if (nuevox < 15 || nuevoy < 15) {\n          console.log(`Offlimits`);\n          return;\n        }\n\n        // if (\n        //   e.clientY > cuadroPos.y + this.sizePagina.y\n        // ) {\n        //   nuevox = this.sizePagina.x - cuadroPos.x;\n        // }\n\n        // if (\n        //   e.clientY > cuadroPos.y + this.sizePagina.y\n        // ) {\n        //   nuevoy = this.sizePagina.y - cuadroPos.y;\n        // }\n\n        var nuevoxP = Math.round((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.round((nuevoy * 100) / this.sizePagina.y);\n\n        if (this.posicion.x + nuevoxP > 100)\n          nuevoxP = Math.floor(100 - this.posicion.x);\n        if (this.posicion.y + nuevoyP > 100)\n          nuevoyP = Math.floor(100 - this.posicion.y);\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n      this.fontSizeDummy = 10;\n      this.$nextTick(() => {\n        this.findFontSize();\n\n        this.$apollo.mutate({\n          mutation: gql`\n            mutation (\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoSize: CoordsInput!\n            ) {\n              updateSizeCuadroTexto(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoSize: $nuevoSize\n              ) {\n                id\n                size {\n                  x\n                  y\n                }\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n            nuevoSize: this.size,\n          },\n        });\n      });\n    },\n\n    findFontSize() {\n      if (\n        !this.esteCuadroTexto ||\n        !this.esteCuadroTexto.texto ||\n        this.esteCuadroTexto.texto.length < 1\n      )\n        return;\n      let hTexto = this.$refs.texto.offsetHeight;\n      let hDummy = this.$refs.textoDummy.offsetHeight;\n      let wDummy = this.$refs.textoDummy.scrollWidth;\n      let wTexto = this.$refs.texto.offsetWidth;\n      // if (!confirm(\"continuar\")) {\n      //   return;\n      // }\n\n      if (hDummy >= hTexto || wDummy >= wTexto) {\n        this.fontSizeDummy = this.fontSizeDummy - 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n\n          if ((hDummy < hTexto && wDummy < wTexto) || this.fontSizeDummy < 5) {\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      } else if (hDummy < hTexto && wDummy < wTexto) {\n        this.fontSizeDummy = this.fontSizeDummy + 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n\n          if (\n            hDummy >= hTexto ||\n            wDummy >= wTexto ||\n            this.fontSizeDummy > 100\n          ) {\n            this.fontSizeDummy = this.fontSizeDummy - 2;\n\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      }\n    },\n    findFontSizeInput() {\n      if (!this.nuevoTexto || this.nuevoTexto.length < 1) return;\n      let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n      let hDummy = this.$refs.dummyInput.scrollHeight;\n      let wDummy = this.$refs.dummyInput.scrollWidth;\n      let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n\n      if (hDummy >= hInput || wDummy >= wInput) {\n        this.fontSizeInputDummy = this.fontSizeInputDummy - 2;\n        this.$nextTick(() => {\n          let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n          let hDummy = this.$refs.dummyInput.scrollHeight;\n          let wDummy = this.$refs.dummyInput.scrollWidth;\n          let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n\n          if (\n            (hDummy < hInput && wDummy < wInput) ||\n            this.fontSizeInputDummy < 5\n          ) {\n            this.fontSizeInput = this.fontSizeInputDummy;\n            return;\n          } else {\n            this.findFontSizeInput();\n          }\n        });\n      } else if (hDummy < hInput && wDummy < wInput) {\n        this.fontSizeInputDummy = this.fontSizeInputDummy + 2;\n        this.$nextTick(() => {\n          let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n          let hDummy = this.$refs.dummyInput.scrollHeight;\n          let wDummy = this.$refs.dummyInput.scrollWidth;\n          let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n\n          if (\n            hDummy >= hInput ||\n            wDummy >= wInput ||\n            this.fontSizeInputDummy > 100\n          ) {\n            this.fontSizeInputDummy = this.fontSizeInputDummy - 2;\n            this.fontSizeInput = this.fontSizeInputDummy;\n            return;\n          } else {\n            this.findFontSizeInput();\n          }\n        });\n      }\n    },\n\n    guardarNuevoTexto() {\n      if (this.nuevoTexto.length > 3000) {\n        alert(\"Texto demasiado largo\");\n        return;\n      }\n      if (this.nuevoTexto == this.esteCuadroTexto.texto) {\n        console.log(`Texto no modificado`);\n        this.editandoTexto = false;\n        return;\n      }\n      this.updatingInfo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation (\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoTexto: String!\n            ) {\n              updateTextoCuadroTextoCuento(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoTexto: $nuevoTexto\n              ) {\n                id\n                texto\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n            nuevoTexto: this.nuevoTexto,\n          },\n        })\n        .then(() => {\n          this.editandoTexto = false;\n          this.updatingInfo = false;\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n    iniciarEdicionTexto() {\n      if (this.seleccionado) {\n        this.fontSizeInput = this.fontSizeTexto;\n        this.fontSizeInputDummy = this.fontSizeTexto;\n        this.nuevoTexto = this.esteCuadroTexto.texto;\n        this.editandoTexto = true;\n        this.$nextTick(() => {\n          this.$refs.inputNuevoTexto.focus();\n        });\n      }\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        if (nuevaPos.x + this.$el.offsetWidth > elemPagina.offsetWidth) {\n          nuevaPos.x = elemPagina.offsetWidth - this.$el.offsetWidth;\n        }\n        if (nuevaPos.x < 0) {\n          nuevaPos.x = 0;\n        }\n\n        if (nuevaPos.y + this.$el.offsetHeight > elemPagina.offsetHeight) {\n          nuevaPos.y = elemPagina.offsetHeight - this.$el.offsetHeight;\n        }\n        if (nuevaPos.y < 0) {\n          nuevaPos.y = 0;\n        }\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation (\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroTexto: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroTexto(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroTexto: $idCuadroTexto\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroTexto: this.esteCuadroTexto.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n\n    uploadAudio() {\n      var datos = new FormData();\n      if (!this.$refs.inputAudio.value) {\n        console.log(`No había archivo seleccionado`);\n        return;\n      }\n      datos.append(\"idLibro\", this.idLibro);\n      datos.append(\"idPagina\", this.idPagina);\n      datos.append(\"idCuadroTexto\", this.esteCuadroTexto.id);\n      datos.append(\"audio\", this.$refs.inputAudio.files[0]);\n\n      this.uploadingAudio = true;\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/apiCuentos/subirArchivoAudioCuadroTexto\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ res }) => {\n          console.log(`Resultado de upload archivo de audio: ${res}`);\n          this.uploadingAudio = false;\n        })\n        .catch((error) => {\n          this.uploadingAudio = false;\n          console.log(`Error uploading archivo de audio. E: ${error}`);\n        });\n    },\n\n    toggleMostrandoAcciones() {\n      this.mostrandoAcciones = !this.mostrandoAcciones;\n    },\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de texto. Esta operación no se puede deshacer. ¿Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de texto`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($idLibro: ID!, $idPagina: ID!, $idCuadroTexto: ID!) {\n              eliminarCuadroTextoLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n              )\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroTextoLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroTextoLibro}`);\n          if (eliminarCuadroTextoLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n\n    guardarPosicionZeta: debounce(function () {\n      console.log(`Guardando posición zeta`);\n      if (this.posicionZeta == this.esteCuadroTexto.posicionZeta) return;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation (\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroTexto: ID!\n            $nuevoPosicionZ: Int!\n          ) {\n            setPosicionZCuadroTexto(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroTexto: $idCuadroTexto\n              nuevoPosicionZ: $nuevoPosicionZ\n            ) {\n              id\n              posicionZeta\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroTexto: this.esteCuadroTexto.id,\n          nuevoPosicionZ: this.posicionZeta,\n        },\n      });\n    }, 3000),\n  },\n  watch: {\n    nuevoTexto() {\n      this.$nextTick(() => {\n        this.findFontSizeInput();\n      });\n    },\n    esteCuadroTexto() {\n      this.$nextTick(() => {\n        this.findFontSize();\n      });\n    },\n    seleccionado(nuevo) {\n      if (nuevo == false) {\n        this.guardarNuevoTexto();\n        this.mostrandoAcciones = false;\n      }\n    },\n    posicionZeta() {\n      this.guardarPosicionZeta();\n    },\n  },\n  mounted() {\n    this.$set(this.posicion, \"x\", this.esteCuadroTexto.posicion.x);\n    this.$set(this.posicion, \"y\", this.esteCuadroTexto.posicion.y);\n\n    this.$set(this.size, \"x\", this.esteCuadroTexto.size.x);\n    this.$set(this.size, \"y\", this.esteCuadroTexto.size.y);\n\n    this.posicionZeta = this.esteCuadroTexto.posicionZeta;\n    this.$nextTick(() => {\n      this.findFontSize();\n    });\n  },\n};\n</script>\n\n<style>\n.texto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  white-space: pre-wrap;\n}\n.cuadroTexto {\n  position: absolute;\n  resize: both;\n\n  border-width: 1px;\n  border-style: solid;\n}\n.cuadroTexto:not(.enPaginaSeleccionada) {\n  border-color: transparent;\n}\n.enPaginaSeleccionada {\n  border-color: purple;\n}\n\n#botonMostrarAcciones {\n  position: absolute;\n  top: 0px;\n  left: calc(100%+5px);\n}\n.textoDummy {\n  width: 99%;\n  border: 1px solid pink;\n  overflow-x: scroll;\n  position: absolute;\n  left: -100%;\n  pointer-events: none;\n  white-space: pre-wrap;\n  visibility: hidden;\n}\n#dummyInputTexto {\n  width: 99%;\n  height: 99%;\n  overflow-x: scroll;\n  border: 1px solid pink;\n  visibility: hidden;\n  pointer-events: none;\n  position: absolute;\n  left: -100%;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  box-sizing: border-box;\n  word-wrap: normal;\n}\n#inputNuevoTexto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(255, 255, 0, 0.459);\n\n  box-sizing: border-box;\n  resize: none;\n  overflow: hidden;\n  display: block;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  word-wrap: normal;\n}\n#inputNuevoTexto:hover {\n  outline: none;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n  text-align: center;\n}\n\n.conAudio {\n  cursor: pointer;\n}\n\n#bGuardarTexto {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: 110%;\n  left: 50%;\n  transform: translateX(-50%);\n}\n#bGuardarTexto:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n#zonaAcciones {\n  position: absolute;\n  top: -0px;\n  left: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 5px;\n  padding: 5px 10px;\n}\n#bEliminarCuadroTexto {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n}\n#bEliminarCuadroTexto:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n\n#zHandlers {\n  position: absolute;\n  top: -33px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: rgba(104, 7, 104, 0.534);\n  border-radius: 13px;\n  padding: 5px 10px;\n  display: grid;\n  grid-template-columns: 16px 30px 16px;\n}\n.zHandler {\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n}\n#bSendBack {\n  background-color: rgba(8, 83, 8, 0.377);\n  grid-column: 1/2;\n}\n#bSendBack:hover {\n  background-color: rgba(8, 83, 8, 0.61);\n}\n#bBringFront {\n  background-color: rgb(8, 83, 8);\n  grid-column: 3/4;\n}\n#bBringFront:hover {\n  background-color: rgb(4, 56, 4);\n}\n.enDuda {\n  color: purple;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroTexto.vue?vue&type=template&id=a79b37c8&\"\nimport script from \"./CuadroTexto.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroTexto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroTexto.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"herramientasEdicion\"}},[_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='puntero'},attrs:{\"src\":require(\"@/assets/iconos/puntero.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('puntero');\n      _vm.herramientaSeleccionada = 'puntero';},\"mousedown\":function($event){$event.stopPropagation();}}}),_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='texto'},attrs:{\"src\":require(\"@/assets/iconos/texto.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('creacionTexto');\n      _vm.herramientaSeleccionada = 'texto';},\"mousedown\":function($event){$event.stopPropagation();}}}),_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='imagen'},attrs:{\"src\":require(\"@/assets/iconos/imagen.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('creacionImagen');\n      _vm.herramientaSeleccionada = 'imagen';},\"mousedown\":function($event){$event.stopPropagation();}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"herramientasEdicion\">\n    <img\n      src=\"@/assets/iconos/puntero.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='puntero'}\"\n      @click.stop=\"\n        $emit('puntero');\n        herramientaSeleccionada = 'puntero';\n      \"\n      @mousedown.stop=\"\"\n    />\n    <img\n      src=\"@/assets/iconos/texto.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='texto'}\"\n      @click.stop=\"\n        $emit('creacionTexto');\n        herramientaSeleccionada = 'texto';\n      \"\n      @mousedown.stop=\"\"\n    />\n    <img\n      src=\"@/assets/iconos/imagen.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='imagen'}\"\n      @click.stop=\"\n        $emit('creacionImagen');\n        herramientaSeleccionada = 'imagen';\n      \"\n      @mousedown.stop=\"\"\n    />\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"HerramientasEdicion\",\n  data() {\n    return {\n      herramientaSeleccionada: 'puntero',\n    };\n  },\n  methods:{\n      reset(){\n          this.herramientaSeleccionada='puntero';\n      }\n  }\n};\n</script>\n\n<style scoped>\n#herramientasEdicion {\n  padding: 20px 10px;\n  background-color: rgb(185, 126, 185);\n  border: 2px solid rgb(46, 0, 46);\n  user-select: none;\n}\n.bHerramientasEdicion {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  padding: 5px;\n  cursor: pointer;\n  display: block;\n  margin:2px 0px;\n}\n.bHerramientasEdicion:hover {\n  background-color: rgba(128, 0, 128, 0.507);\n}\n.hSeleccionada{\n  background-color: rgba(128, 0, 128, 0.507);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HerramientasEdicion.vue?vue&type=template&id=2c9e7702&scoped=true&\"\nimport script from \"./HerramientasEdicion.vue?vue&type=script&lang=js&\"\nexport * from \"./HerramientasEdicion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HerramientasEdicion.vue?vue&type=style&index=0&id=2c9e7702&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c9e7702\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"pagina\"\n    :style=\"[estiloColumna, estiloSize, estiloApariencia]\"\n    :class=\"{\n      seleccionada,\n      deshabilitado: uploadingInfo,\n      segundoPlano,\n      cursorTexto: creandoTexto,\n      cursorImagen: creandoImagen,\n    }\"\n    @mousedown.left.stop=\"accionCrearElemento\"\n    @mousemove=\"resizeFantasmaElemento\"\n    @mouseup=\"endDibujandoElemento\"\n    @click=\"idElementoSeleccionado = null\"\n  >\n    <div class=\"zonaControlesPagina\" v-show=\"seleccionada\">\n      <img\n        src=\"@/assets/iconos/delete.png\"\n        class=\"bControlesPagina bEliminarPagina\"\n        title=\"Eliminar esta página\"\n        @click=\"eliminarse\"\n      />\n      <img\n        src=\"@/assets/iconos/paletaColores.png\"\n        alt=\"Color\"\n        class=\"bControlesPagina bSelectColorPagina\"\n        title=\"Seleccionar color de la página\"\n        @click.stop=\"$refs.inputColorPagina.click()\"\n      />\n    </div>\n\n    <input type=\"color\" v-model=\"colorSeleccionado\" style=\"display:none\" @change=\"guardarNuevoColor\" ref=\"inputColorPagina\">\n\n    <herramientas-edicion\n      v-show=\"seleccionada\"\n      ref=\"herramientasEdicion\"\n      @creacionTexto=\"\n        desactivarHerramientas();\n        creandoTexto = true;\n      \"\n      @creacionImagen=\"\n        desactivarHerramientas();\n        creandoImagen = true;\n      \"\n      @mousedown.stop=\"\"\n      @mouseup.stop=\"\"\n    />\n\n    <div\n      id=\"fantasmaTexto\"\n      class=\"fantasmaElemento\"\n      :style=\"[estiloLayoutFantasmaTexto]\"\n      v-show=\"dibujandoTexto\"\n    ></div>\n    <div\n      id=\"fantasmaImagen\"\n      class=\"fantasmaElemento\"\n      :style=\"[estiloLayoutFantasmaImagen]\"\n      v-show=\"dibujandoImagen\"\n    ></div>\n\n    <cuadro-imagen\n      v-for=\"cuadroImagen of estaPagina.cuadrosImagen\"\n      class=\"elementoPagina\"\n      :ref=\"'cuadroImagen' + cuadroImagen.id\"\n      :class=\"{ primerPlano: idElementoSeleccionado == cuadroImagen.id }\"\n      :key=\"cuadroImagen.id\"\n      :esteCuadroImagen=\"cuadroImagen\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n      :seleccionado=\"idElementoSeleccionado == cuadroImagen.id && seleccionada\"\n      :paginaSeleccionada=\"seleccionada\"\n      :zBase=\"zElementos\"\n      @click.native=\"resolverSeleccion($event, cuadroImagen.id)\"\n      @meElimine=\"$emit('elimineCuadroImagen', cuadroImagen.id)\"\n    />\n\n    <cuadro-texto\n      v-for=\"cuadroTexto of estaPagina.cuadrosTexto\"\n      class=\"elementoPagina\"\n      :class=\"{ primerPlano: idElementoSeleccionado == cuadroTexto.id }\"\n      :key=\"cuadroTexto.id\"\n      :esteCuadroTexto=\"cuadroTexto\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n      :seleccionado=\"idElementoSeleccionado == cuadroTexto.id && seleccionada\"\n      :paginaSeleccionada=\"seleccionada\"\n      :zBase=\"zElementos\"\n      @click.native=\"resolverSeleccion($event, cuadroTexto.id)\"\n      @meElimine=\"$emit('elimineCuadroTexto', cuadroTexto.id)\"\n    />\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport CuadroImagen from \"./CuadroImagen.vue\";\nimport CuadroTexto from \"./CuadroTexto.vue\";\nimport HerramientasEdicion from \"./HerramientasEdicion.vue\";\nimport { fragmentoCuadroImagen, fragmentoCuadroTexto } from \"./Libro.vue\";\nexport default {\n  components: { CuadroImagen, CuadroTexto, HerramientasEdicion },\n  name: \"Pagina\",\n  props: {\n    estaPagina: Object,\n    paginaDerecha: Boolean,\n    preparada: {\n      type: Boolean,\n      default: false,\n    },\n    visible: {\n      type: Boolean,\n    },\n    idLibro: String,\n    seleccionada: Boolean,\n    segundoPlano: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      ancho: 450,\n      alto: 600,\n      uploadingInfo: false,\n      colorSeleccionado: \"#ffffff\",\n\n      creandoTexto: false,\n      creandoImagen: false,\n\n      dibujandoTexto: false,\n      dibujandoImagen: false,\n\n      zElementos:100,\n\n      posFantasmaTexto: {\n        x: 0,\n        y: 0,\n      },\n      sizeFantasmaTexto: {\n        x: 30,\n        y: 30,\n      },\n\n      posFantasmaImagen: {\n        x: 0,\n        y: 0,\n      },\n      sizeFantasmaImagen: {\n        x: 30,\n        y: 30,\n      },\n\n      idElementoSeleccionado: null,\n    };\n  },\n  computed: {\n    estiloColumna() {\n      if (this.paginaDerecha) {\n        return {\n          gridColumn: \"1/2\",\n          justifySelf: \"right\",\n        };\n      }\n      return null;\n    },\n    estiloSize() {\n      return {\n        width: this.ancho + \"px\",\n        height: this.alto + \"px\",\n      };\n    },\n    size() {\n      return {\n        x: this.ancho,\n        y: this.alto,\n      };\n    },\n    estiloApariencia() {\n      return {\n        backgroundColor: this.colorSeleccionado,\n      };\n    },\n    estiloLayoutFantasmaTexto() {\n      return {\n        top: this.posFantasmaTexto.y + \"px\",\n        left: this.posFantasmaTexto.x + \"px\",\n        width: this.sizeFantasmaTexto.x + \"px\",\n        height: this.sizeFantasmaTexto.y + \"px\",\n      };\n    },\n    estiloLayoutFantasmaImagen() {\n      return {\n        top: this.posFantasmaImagen.y + \"px\",\n        left: this.posFantasmaImagen.x + \"px\",\n        width: this.sizeFantasmaImagen.x + \"px\",\n        height: this.sizeFantasmaImagen.y + \"px\",\n      };\n    },\n  },\n  methods: {\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando página. Esta operación no se puede deshacer. ¿Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.uploadingInfo = true;\n      console.log(`Eliminando una página`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!) {\n              eliminarPaginaDeLibro(idLibro: $idLibro, idPagina: $idPagina)\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n          },\n        })\n        .then(({ data: { eliminarPaginaDeLibro } }) => {\n          console.log(`Resultado: ${eliminarPaginaDeLibro}`);\n          if (eliminarPaginaDeLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.uploadingInfo = false;\n        });\n    },\n    desactivarHerramientas() {\n      this.creandoTexto = false;\n      this.creandoImagen = false;\n    },\n    accionCrearElemento(e) {\n      const posPagina = this.$el.getBoundingClientRect();\n      const posClick = {\n        x: e.clientX - posPagina.left,\n        y: e.clientY - posPagina.top,\n      };\n\n      if (this.creandoTexto) {\n        this.dibujandoTexto = true;\n        this.$set(this.posFantasmaTexto, \"x\", Math.floor(posClick.x));\n        this.$set(this.posFantasmaTexto, \"y\", Math.floor(posClick.y));\n\n        this.$set(this.sizeFantasmaTexto, \"x\", 30);\n        this.$set(this.sizeFantasmaTexto, \"y\", 30);\n      } else if (this.creandoImagen) {\n        this.dibujandoImagen = true;\n        this.$set(this.posFantasmaImagen, \"x\", Math.floor(posClick.x));\n        this.$set(this.posFantasmaImagen, \"y\", Math.floor(posClick.y));\n\n        this.$set(this.sizeFantasmaImagen, \"x\", 30);\n        this.$set(this.sizeFantasmaImagen, \"y\", 30);\n      }\n    },\n    resizeFantasmaElemento(e) {\n      const posPagina = this.$el.getBoundingClientRect();\n      const posClick = {\n        x: e.clientX - posPagina.left,\n        y: e.clientY - posPagina.top,\n      };\n\n      if (this.dibujandoTexto) {\n        let sizeFantasma = {\n          x: posClick.x - this.posFantasmaTexto.x,\n          y: posClick.y - this.posFantasmaTexto.y,\n        };\n\n        if (sizeFantasma.x < 30) {\n          sizeFantasma.x = 30;\n        }\n        if (sizeFantasma.y < 30) {\n          sizeFantasma.y = 30;\n        }\n\n        this.$set(this.sizeFantasmaTexto, \"x\", Math.floor(sizeFantasma.x));\n        this.$set(this.sizeFantasmaTexto, \"y\", Math.floor(sizeFantasma.y));\n      }\n\n      if (this.dibujandoImagen) {\n        let sizeFantasma = {\n          x: posClick.x - this.posFantasmaImagen.x,\n          y: posClick.y - this.posFantasmaImagen.y,\n        };\n\n        if (sizeFantasma.x < 30) {\n          sizeFantasma.x = 30;\n        }\n        if (sizeFantasma.y < 30) {\n          sizeFantasma.y = 30;\n        }\n\n        this.$set(this.sizeFantasmaImagen, \"x\", Math.floor(sizeFantasma.x));\n        this.$set(this.sizeFantasmaImagen, \"y\", Math.floor(sizeFantasma.y));\n      }\n    },\n    endDibujandoElemento() {\n      if (this.dibujandoTexto) {\n        console.log(`Creando cuadroTexto`);\n        this.dibujandoTexto = false;\n        this.$refs.herramientasEdicion.reset();\n        this.crearTextoFromFantasma();\n      } else if (this.dibujandoImagen) {\n        console.log(`Creando cuadro de imágen`);\n        this.dibujandoImagen = false;\n        this.$refs.herramientasEdicion.reset();\n        this.crearCuadroImagenFromFantasma();\n      }\n      this.desactivarHerramientas();\n    },\n    crearCuadroImagenFromFantasma() {\n      var datosPosicion = {\n        x: Math.round((this.posFantasmaImagen.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.posFantasmaImagen.y * 100) / this.$el.offsetHeight),\n      };\n\n      var datosSize = {\n        x: Math.round((this.sizeFantasmaImagen.x * 100) / this.$el.offsetWidth),\n        y: Math.round(\n          (this.sizeFantasmaImagen.y * 100) / this.$el.offsetHeight\n        ),\n      };\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroImagenPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroImagen\n              }\n            }\n            ${fragmentoCuadroImagen}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n            datosPosicion,\n            datosSize,\n          },\n        })\n        .then(({ data: { crearCuadroImagenPaginaLibro } }) => {\n          this.$emit(\"tengoNuevoCuadroImagen\", crearCuadroImagenPaginaLibro);\n        })\n        .catch((error) => {\n          console.log(`Error en mutación de crear cuadro imágen. E: ${error}`);\n        });\n    },\n    crearTextoFromFantasma() {\n      console.log(\n        `Enviando con ${JSON.stringify(this.idLibro)}, ${JSON.stringify(\n          this.estaPagina.id\n        )}, ${JSON.stringify(this.posFantasmaTexto)}, ${JSON.stringify(\n          this.sizeFantasmaTexto\n        )}`\n      );\n\n      var datosPosicion = {\n        x: Math.round((this.posFantasmaTexto.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.posFantasmaTexto.y * 100) / this.$el.offsetHeight),\n      };\n\n      var datosSize = {\n        x: Math.round((this.sizeFantasmaTexto.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.sizeFantasmaTexto.y * 100) / this.$el.offsetHeight),\n      };\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroTextoPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroTexto\n              }\n            }\n            ${fragmentoCuadroTexto}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n            datosPosicion,\n            datosSize,\n          },\n          errorPolicy: \"all\",\n        })\n        .then(({ data: { crearCuadroTextoPaginaLibro } }) => {\n          this.$emit(\"tengoNuevoCuadroTexto\", crearCuadroTextoPaginaLibro);\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error.message}`);\n          console.log(`Hubo ${error.graphQLErrors} errores graphql`);\n        });\n    },\n    resolverSeleccion(e, idElemento) {\n      if (this.seleccionada) {\n        e.stopPropagation();\n        this.idElementoSeleccionado = idElemento;\n      }\n    },\n    guardarNuevoColor(){\n      console.log(`Guardando nuevo color de página.`);\n      \n      this.$apollo.mutate({\n        mutation:gql`\n          mutation($idLibro:ID!, $idPagina:ID!, $nuevoColor:String!){\n            setNuevoColorPaginaLibro(idLibro:$idLibro, idPagina: $idPagina, nuevoColor:$nuevoColor){\n              id\n              color\n            }\n          }\n        `,\n        variables:{\n          idLibro:this.idLibro,\n          idPagina:this.estaPagina.id,\n          nuevoColor:this.$refs.inputColorPagina.value\n        }\n      }).then(()=>{\n        console.log(`Nuevo color guardado`);\n      }).catch((error)=>{\n        console.log(`Error guardando el nuevo color de página. E: ${error}`);        \n        this.colorSeleccionado=this.estaPagina.color;\n      })\n    }\n  },\n  mounted(){\n    this.colorSeleccionado=this.estaPagina.color;\n  }\n};\n</script>\n\n<style scoped>\n.pagina {\n  border: 2px solid black;\n  position: relative;\n\n  user-select: none;\n}\n.cursorTexto {\n  cursor: url(\"~../assets/iconos/punteroTexto.png\"), default;\n}\n.cursorImagen {\n  cursor: url(\"~../assets/iconos/punteroImagen.png\"), default;\n}\n.segundoPlano {\n  opacity: 0.3;\n}\n\n.primerPlano {\n  z-index: 500;\n}\n.seleccionada {\n  border-color: purple;\n  z-index: 2;\n}\n\n.zonaControlesPagina {\n  text-align: center;\n  padding: 10px;\n  position: absolute;\n  top: -60px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.bControlesPagina {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n\n  cursor: pointer;\n  display: inline-block;\n  background-color: rgba(189, 111, 189, 0.185);\n}\n.bControlesPagina:hover {\n  background-color: rgba(189, 111, 189, 0.555);\n}\n\n#herramientasEdicion {\n  position: absolute;\n  top: 150px;\n  left: -100px;\n}\n.fantasmaElemento {\n  position: absolute;\n  border: 3px dotted purple;\n  border-radius: 5px;\n  background-color: rgba(128, 0, 128, 0.205);\n  box-sizing: border-box;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagina.vue?vue&type=template&id=aa2cb084&scoped=true&\"\nimport script from \"./Pagina.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagina.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pagina.vue?vue&type=style&index=0&id=aa2cb084&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa2cb084\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"foro\"},[_c('div',{staticClass:\"barraSuperiorForo\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacionSeleccionada === null),expression:\"idConversacionSeleccionada === null\"}],attrs:{\"id\":\"anuncio\"}},[_vm._v(\" Conversaciones \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacionSeleccionada != null),expression:\"idConversacionSeleccionada != null\"}],attrs:{\"id\":\"bRegresarConversaciones\"},on:{\"click\":function($event){_vm.idConversacionSeleccionada = null;\n        _vm.$apollo.queries.numPaginas.refetch();}}},[_vm._v(\" Volver a conversaciones \")]),_c('div',{attrs:{\"id\":\"controlesForo\"}},[(\n          _vm.usuarioLogeado &&\n          (_vm.esteForo.acceso == 'publico' || _vm.usuarioMiembro == true || _vm.usuarioSuperadministrador) &&\n          _vm.esteForo.id\n        )?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.conversacionAbierta),expression:\"!conversacionAbierta\"}],staticClass:\"controlesForo botonesControles\",attrs:{\"id\":\"bCrearConversacion\"},on:{\"click\":function($event){_vm.creandoConversacion = !_vm.creandoConversacion}}},[_vm._v(\" \"+_vm._s(_vm.creandoConversacion ? \"Cancelar\" : \"Crear conversación\")+\" \")]):_vm._e()])]),_c('div',{staticClass:\"zonaConversaciones\"},[(\n        _vm.usuarioLogeado &&\n        (_vm.esteForo.acceso == 'publico' || _vm.usuarioMiembro == true || _vm.usuarioSuperadministrador) &&\n        _vm.esteForo.id\n      )?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoConversacion),expression:\"creandoConversacion\"}],attrs:{\"id\":\"zonaCrearConversacion\"}},[_c('center',[_c('h3',[_vm._v(\"Creando conversación\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tituloNuevaConversacion),expression:\"tituloNuevaConversacion\"}],class:{ letrasRojas: _vm.tituloNuevaConversacionIlegal },attrs:{\"type\":\"text\",\"id\":\"inputTituloNuevaConversacion\",\"placeholder\":\"Titulo de la nueva conversación\"},domProps:{\"value\":(_vm.tituloNuevaConversacion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tituloNuevaConversacion=$event.target.value}}}),_c('cuadro-responder',{class:{ deshabilitado: _vm.tituloNuevaConversacionIlegal },attrs:{\"idForo\":_vm.esteForo.id,\"parent\":_vm.parent,\"tituloNuevaConversacion\":_vm.tituloNuevaConversacion},on:{\"hiceConversacion\":function($event){return _vm.addConversacion($event)}}})],1):_vm._e(),(_vm.numPaginas && !_vm.conversacionAbierta)?_c('div',{staticClass:\"zonaSelectorPagina\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"selectorPagina\",class:{ selectorSeleccionado: index == _vm.numPaginaSeleccionada },on:{\"click\":function($event){_vm.numPaginaSeleccionada = index}}},[_vm._v(\" \"+_vm._s(index)+\" \")])}),0):_vm._e(),(_vm.numPaginas)?_c('div',{staticClass:\"zonaPaginasConversaciones\"},[_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"paginaConversaciones\"})}),_vm._l((_vm.conversacionesPorPagina[_vm.numPaginaSeleccionada]),function(conversacion){return _c('conversacion',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.idConversacionSeleccionada == conversacion.id ||\n          !_vm.conversacionAbierta\n        ),expression:\"\\n          idConversacionSeleccionada == conversacion.id ||\\n          !conversacionAbierta\\n        \"}],key:conversacion.id,attrs:{\"estaConversacion\":conversacion,\"seleccionado\":_vm.idConversacionSeleccionada == conversacion.id,\"usuarioMiembro\":_vm.usuarioMiembro,\"idForo\":_vm.idForo,\"parent\":_vm.parent},on:{\"meAbrieron\":function($event){return _vm.setTodaConversacionLeida(conversacion.id)},\"meElimine\":_vm.refreshPagina,\"respuestaPublicada\":function($event){return _vm.setTodaConversacionLeida(\n            conversacion.id,\n            conversacion.cantidadRespuestas\n          )}},nativeOn:{\"click\":function($event){_vm.idConversacionSeleccionada = conversacion.id}}})})],2):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import gql from \"graphql-tag\"\n\nexport const fragmentoResponsables = gql`\nfragment fragResponsables on Usuario {\n  id\n  username\n  nombres\n  apellidos\n  email\n  numeroTel\n  lugarResidencia\n}\n`;\n\nexport const fragmentoMinimoPersona = gql`\nfragment fragMinimoPersona on Usuario {\n  id\n  nombres\n  apellidos\n  username\n}\n`;\n\nexport const fragmentoParticipacion = gql`\n  fragment fragParticipacion on ParticipacionActividadGrupoEstudiantil{\n    id\n      fechaUpload\n      archivo {\n        extension\n        nombre\n        googleDriveDirectLink,        \n      }\n      comentario\n      enlaceAdjunto\n      infoAutor{\n        ...fragMinimoPersona\n      }\n  }\n  ${fragmentoMinimoPersona}\n`\n\nexport const fragmentoDesarrollo = gql`\nfragment fragDesarrollo on DesarrolloActividadGrupoEstudiantil{\n    id\n    estado\n    leidoPorProfe\n    infoEstudiante{\n      ...fragMinimoPersona\n    }\n    participaciones {\n      ...fragParticipacion\n    }\n}\n${fragmentoParticipacion}\n`;\n\nexport const fragmentoActividad = gql`\nfragment fragActividad on ActividadGrupoEstudiantil {\n  id\n  nombre\n  fechaUpload\n  hayGuia\n  infoCreador{\n    ...fragMinimoPersona\n  }\n  desarrollos {\n    ...fragDesarrollo \n  }\n}\n${fragmentoDesarrollo}\n`;\n\n\nexport const fragmentoProyecto = gql`\n  fragment fragProyecto on Proyecto{\n    id\n    nombre\n    descripcion\n    idForo\n    responsables\n    posiblesResponsables\n    idsTrabajos\n    objetivos {\n      id\n      nombre\n      descripcion\n      estado\n      vinculos{\n        idRef\n        tipo\n        tipoRef\n      }\n      diagramaProyecto{\n        posicion{\n          x\n          y\n        }        \n      }\n    }\n  }\n  \n`;\n\nconst fragmentoQuote =gql`\n  fragment fragQuote on Quote{\n    mensaje    \n    infoAutor{\n      id\n      nombres\n      apellidos\n      username\n    }\n    fecha\n  }\n`;\n\nconst fragmentoInterpolacion =gql`\n  fragment fragInterpolacion on Interpolacion{\n    tipo\n    enlaceIframe\n    mensaje    \n  }\n`;\n\nexport const fragmentoRespuesta = gql`\n  fragment fragRespuesta on RespuestaConversacionForo{\n    id\n    fecha\n    mensaje\n    interpolaciones{\n      ...fragInterpolacion\n      quote{\n        ...fragQuote\n        interpolaciones{\n          ...fragInterpolacion\n          quote{\n            ...fragQuote\n            interpolaciones{\n              ...fragInterpolacion\n              quote{\n                ...fragQuote\n                interpolaciones{\n                  ...fragInterpolacion\n                  quote{\n                    ...fragQuote\n                    interpolaciones{\n                      ...fragInterpolacion\n                      quote{\n                        ...fragQuote\n                        interpolaciones{\n                          ...fragInterpolacion\n                          quote{\n                            ...fragQuote\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    enlaceAdjunto\n    infoAutor{\n      id\n      nombres\n      apellidos\n      username\n    }\n    archivo{\n      googleDriveDirectLink\n    }\n  }\n  ${fragmentoQuote}, \n  ${fragmentoInterpolacion}\n`;\n\nexport const fragmentoConversacion = gql`\n  fragment fragConversacion on Conversacion{\n    id\n    titulo    \n    estado\n    acceso   \n    cantidadRespuestas\n    infoUltimaRespuesta{\n      fecha      \n    }\n  }\n`;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"conversacion\",class:{\n    seleccionado: _vm.seleccionado,\n    deshabilitado: _vm.seleccionado && _vm.loading,\n    conRespuestasNoLeidas:\n      _vm.estaConversacion.cantidadRespuestas > _vm.cantidadRespuestasLeidasUsuario,\n  }},[_c('div',{staticClass:\"infoConversacion\"},[_vm._v(\" \"+_vm._s(_vm.estaConversacion.cantidadRespuestas)+\" publicacion\"+_vm._s(_vm.estaConversacion.cantidadRespuestas > 1 ? \"es\" : \"\")+\". Última publicación en \"+_vm._s(_vm.fechaFormateada)+\" \")]),_c('div',{staticClass:\"tituloConversacion\"},[_c('img',{staticClass:\"imagenConversacion\",attrs:{\"src\":require(\"@/assets/iconos/conversacion.png\"),\"alt\":\"Conversacion\"}}),_vm._v(\" \"+_vm._s(_vm.estaConversacion.titulo)+\" \"),_c('span',{staticClass:\"datosConversacion\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.estaConversacion.cantidadRespuestas >\n          _vm.cantidadRespuestasLeidasUsuario\n        ),expression:\"\\n          estaConversacion.cantidadRespuestas >\\n          cantidadRespuestasLeidasUsuario\\n        \"}],staticClass:\"dato datoRespuestasNoLeidas\",attrs:{\"title\":\"Respuestas nuevas en esta conversación\"}},[_vm._v(\" \"+_vm._s(_vm.estaConversacion.cantidadRespuestas - _vm.cantidadRespuestasLeidasUsuario)+\" \")])])]),(_vm.numPaginas > 0)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"zonaSelectorPaginas\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{key:index,staticClass:\"selectorPagina\",class:{ selectorSeleccionado: index == _vm.numPaginaSeleccionada },on:{\"click\":function($event){_vm.numPaginaSeleccionada = index}}},[_vm._v(\" \"+_vm._s(index)+\" \")])}),0):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],staticClass:\"zonaRespuestas\"},[_c('div',{staticClass:\"zonaPaginas\"},_vm._l((_vm.numPaginas),function(index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.numPaginaSeleccionada == index),expression:\"numPaginaSeleccionada == index\"}],key:'pagina' + index,staticClass:\"pagina\"},_vm._l((_vm.respuestasPorPagina[index]),function(respuesta){return _c('respuesta',{key:respuesta.id,attrs:{\"idConversacion\":_vm.estaConversacion.id,\"estaRespuesta\":respuesta},on:{\"meQuierenCitar\":_vm.citarRespuesta,\"meElimine\":function($event){return _vm.updateRespuestaEliminada(respuesta.id, index)}}})}),1)}),0),(\n        _vm.usuarioLogeado &&\n        (_vm.estaConversacion.acceso == 'publico' || _vm.usuarioMiembro == true) &&\n        _vm.estaConversacion.id\n      )?_c('cuadro-responder',{ref:\"cuadroResponder\",attrs:{\"parent\":_vm.parent,\"idConversacion\":_vm.estaConversacion.id},on:{\"hiceRespuesta\":function($event){return _vm.addRespuesta($event)}}}):_vm._e()],1),_c('div',{staticClass:\"controlesConversacion\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroResponder\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.idConversacion),expression:\"idConversacion\"}],attrs:{\"id\":\"barraSuperior\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/mensaje.png\"),\"alt\":\"Contestar\",\"title\":\"Contestar en esta conversación\",\"id\":\"imgMensaje\"},on:{\"click\":_vm.toggleCuadroAbierto}}),_c('span',{attrs:{\"id\":\"tituloCuadro\"}},[_vm._v(\"Envía una respuesta\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],attrs:{\"id\":\"zonaMensaje\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mensaje),expression:\"mensaje\"}],ref:\"inputMensaje\",class:{ letrasRojas: _vm.mensajeIlegal },attrs:{\"name\":\"inputMensaje\",\"id\":\"inputMensaje\",\"rows\":\"2\"},domProps:{\"value\":(_vm.mensaje)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.mensaje=$event.target.value},_vm.checkHeight]}}),_vm._l((_vm.interpolaciones),function(interpolacion,index){return _c('creador-interpolacion',{key:index,ref:'creadoresInterpolacion',refInFor:true,attrs:{\"estaInterpolacion\":interpolacion},on:{\"eliminarse\":function($event){return _vm.eliminarInterpolacion($event, index)},\"enlaceIframeSet\":function($event){return _vm.setEnlaceIframeInterpolacion($event, index)}}})})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],attrs:{\"id\":\"zonaInsertar\"}},[_c('img',{staticClass:\"bInsertar\",attrs:{\"src\":require(\"@/assets/iconos/video.png\"),\"alt\":\"Video\",\"title\":\"Insertar un enlace a un video\"},on:{\"click\":function($event){return _vm.insertarCreadorInterpolacion('video')}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],attrs:{\"id\":\"adjuntarArchivo\"}},[_c('input',{ref:\"inputArchivoAdjunto\",attrs:{\"type\":\"file\",\"id\":\"inputArchivoAdjunto\"},on:{\"change\":_vm.actualizarNombreDeArchivo}}),_c('img',{attrs:{\"src\":require(\"@/assets/iconos/adjuntar.png\"),\"alt\":\"Ajuntar archivo\",\"id\":\"imgAdjuntar\",\"title\":\"adjuntar un archivo\"},on:{\"click\":_vm.abrirSelectorDeArchivos}}),_c('br'),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nombreArchivoSeleccionado),expression:\"nombreArchivoSeleccionado\"}],attrs:{\"id\":\"nombreArchivoSeleccionado\"}},[_vm._v(\" \"+_vm._s(_vm.nombreArchivoSeleccionado)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto),expression:\"cuadroAbierto\"}],staticClass:\"bloqueAdjuntar\",attrs:{\"id\":\"bloqueAdjuntarEnlace\"}},[_c('div',{attrs:{\"id\":\"zonaIntroducirEnlace\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/hypervinculo.png\"),\"alt\":\"Ajuntar enlace\",\"id\":\"imgAdjuntarEnlace\",\"title\":\"adjuntar un enlace\"},on:{\"click\":function($event){_vm.introduciendoEnlace = true}}}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.introduciendoEnlace === true),expression:\"introduciendoEnlace === true\"},{name:\"model\",rawName:\"v-model\",value:(_vm.enlaceAdjuntable),expression:\"enlaceAdjuntable\"}],staticClass:\"inputAdjuntarEnlace\",attrs:{\"type\":\"text\",\"placeholder\":\"escribe o pega el enlace\"},domProps:{\"value\":(_vm.enlaceAdjuntable)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.enlaceAdjuntable=$event.target.value}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.introduciendoEnlace && !_vm.enlaceAdjuntableIlegal),expression:\"introduciendoEnlace && !enlaceAdjuntableIlegal\"}],attrs:{\"src\":require(\"@/assets/iconos/success.png\"),\"alt\":\"Confirmar\",\"id\":\"bAceptarAdjuntarEnlace\"},on:{\"click\":function($event){$event.stopPropagation();_vm.enlaceAdjunto.push(_vm.enlaceAdjuntable);\n          _vm.enlaceAdjuntable = null;\n          _vm.introduciendoEnlace = false;}}})]),_vm._l((_vm.enlaceAdjunto),function(enlace,index){return _c('div',{key:index,staticClass:\"enlaceAdjuntado\"},[_c('div',{attrs:{\"id\":\"nombreEnlaceAdjuntado\"}},[_c('span',[_vm._v(_vm._s(enlace))])]),_c('div',{attrs:{\"id\":\"bCancelarEnlaceAdjunto\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.enlaceAdjunto.splice(index, 1)}}},[_vm._m(0,true)])])})],2),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cuadroAbierto && !_vm.enviandoRespuesta),expression:\"cuadroAbierto && !enviandoRespuesta\"}],class:{ deshabilitado: _vm.mensajeIlegal },attrs:{\"src\":require(\"@/assets/iconos/enviar.png\"),\"alt\":\"Enviar\",\"title\":\"Enviar respuesta\",\"id\":\"bEnviar\"},on:{\"click\":_vm.evaluarAdjunto}}),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.enviandoRespuesta),expression:\"enviandoRespuesta\"}],attrs:{\"texto\":\"Enviando respuesta...\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"linea1\"},[_c('div',{staticClass:\"linea2\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"creadorInterpolacion\"},[_c('div',{staticClass:\"bEliminarInterpolacion bolitaX\",on:{\"click\":function($event){return _vm.$emit('eliminarse', _vm.mensaje)}}},[_c('div',{staticClass:\"rayaX1\"}),_c('div',{staticClass:\"rayaX2\"})]),(_vm.estaInterpolacion.tipo == 'video')?_c('div',{attrs:{\"id\":\"bloqueIframe\"}},[(_vm.estaInterpolacion.tipo == 'video')?_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.estaInterpolacion.enlaceIframe),expression:\"estaInterpolacion.enlaceIframe\"}],attrs:{\"id\":\"elIframe\",\"src\":_vm.estaInterpolacion.enlaceIframe,\"frameborder\":\"0\"}}):_vm._e(),_c('div',{attrs:{\"id\":\"zonaInputEnlace\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enlaceIframe),expression:\"enlaceIframe\"}],attrs:{\"type\":\"text\",\"id\":\"inputEnlace\",\"placeholder\":\"Introduce el enlace\"},domProps:{\"value\":(_vm.enlaceIframe)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.enlaceIframe=$event.target.value},function($event){_vm.enlaceAceptado = false}],\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.setEnlaceIframe($event)},\"paste\":_vm.onPasteEnlace}}),_c('img',{staticClass:\"bAceptar\",staticStyle:{\"cursor\":\"pointer\"},style:([{ backgroundColor: _vm.enlaceAceptado ? 'green' : '' }]),attrs:{\"src\":require(\"@/assets/iconos/success.png\"),\"width\":\"17px\",\"alt\":\"Ok\",\"title\":\"Aceptar\"},on:{\"click\":_vm.setEnlaceIframe}})])]):_vm._e(),(_vm.estaInterpolacion.tipo == 'quote')?_c('div',{attrs:{\"id\":\"bloqueQuote\"}},[_c('div',{attrs:{\"id\":\"infoQuote\"}},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.quote.infoAutor.nombres)+\" escribio: \")]),_c('div',{attrs:{\"id\":\"quote\"}},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.quote.mensaje)+\" \"),_vm._l((_vm.estaInterpolacion.quote.interpolaciones),function(interpolacion){return _c('interpolacion',{key:interpolacion.id,attrs:{\"estaInterpolacion\":interpolacion}})})],2)]):_vm._e(),_c('div',{attrs:{\"id\":\"zonaMensaje\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mensaje),expression:\"mensaje\"}],ref:\"inputMensaje\",class:{ letrasRojas: _vm.mensajeIlegal },attrs:{\"name\":\"inputMensaje\",\"id\":\"inputMensaje\"},domProps:{\"value\":(_vm.mensaje)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.mensaje=$event.target.value},_vm.checkHeight]}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"interpolacion\"},[(_vm.estaInterpolacion.tipo == 'video')?_c('div',{attrs:{\"id\":\"bloqueIframe\"}},[_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.estaInterpolacion.enlaceIframe),expression:\"estaInterpolacion.enlaceIframe\"}],ref:\"elIframe\",style:([_vm.altoIframe]),attrs:{\"id\":\"elIframe\",\"src\":_vm.estaInterpolacion.enlaceIframe,\"frameborder\":\"0\"}})]):_vm._e(),(_vm.estaInterpolacion.tipo == 'quote')?_c('div',{attrs:{\"id\":\"bloqueQuote\"}},[_c('div',{attrs:{\"id\":\"infoQuote\"}},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.quote.infoAutor.nombres)+\" escribio: \")]),_c('div',{staticClass:\"quote\"},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.quote.mensaje)+\" \"),_vm._l((_vm.estaInterpolacion.quote.interpolaciones),function(interpolacion){return _c('interpolacion',{key:interpolacion.id,attrs:{\"estaInterpolacion\":interpolacion}})})],2)]):_vm._e(),_c('div',{attrs:{\"id\":\"bloqueMensaje\"}},[_c('div',{attrs:{\"id\":\"elMensaje\"}},[_vm._v(\" \"+_vm._s(_vm.estaInterpolacion.mensaje)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"interpolacion\">\n    <div id=\"bloqueIframe\" v-if=\"estaInterpolacion.tipo == 'video'\">\n      <iframe\n        id=\"elIframe\"\n        ref=\"elIframe\"\n        :src=\"estaInterpolacion.enlaceIframe\"\n        :style=\"[altoIframe]\"\n        frameborder=\"0\"\n        v-show=\"estaInterpolacion.enlaceIframe\"\n      ></iframe>\n    </div>\n\n    <div id=\"bloqueQuote\" v-if=\"estaInterpolacion.tipo == 'quote'\">\n      <div id=\"infoQuote\">\n        {{ estaInterpolacion.quote.infoAutor.nombres }} escribio:\n      </div>\n      <div class=\"quote\">\n        {{ estaInterpolacion.quote.mensaje }}\n        <interpolacion\n          v-for=\"interpolacion of estaInterpolacion.quote.interpolaciones\"\n          :key=\"interpolacion.id\"\n          :estaInterpolacion=\"interpolacion\"\n        />\n      </div>\n    </div>\n\n    <div id=\"bloqueMensaje\">\n      <div id=\"elMensaje\">\n        {{ estaInterpolacion.mensaje }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Interpolacion\",\n  props: {\n    estaInterpolacion: Object,\n  },\n  data() {\n    return {\n      altoIframe: {\n        height: \"200px\",\n      },\n    };\n  },\n  mounted() {\n    if (this.estaInterpolacion.tipo == \"video\") {\n      this.$set(\n        this.altoIframe,\n        \"height\",\n        this.$refs.elIframe.offsetWidth / 1.77 + \"px\"\n      );\n    }\n  },\n};\n</script>\n\n<style scoped>\n#elIframe {\n  width: min(500px, 80%);\n  margin: 0px auto;\n  display: block;\n}\n#elMensaje {\n  width: 100%;\n  font-size: 20px;\n  resize: none;\n  white-space: pre-wrap;\n  margin-top: 15px;\n  margin-bottom: 15px;\n}\n#infoQuote {\n  font-size: 11px;\n  font-style: italic;\n  color: gray;\n  width: 90%;\n  margin: 5px auto;\n}\n\n.quote {\n  border: 1px solid gray;\n  background-color: rgb(197, 144, 107);\n  width: 90%;\n  margin: 5px auto;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Interpolacion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Interpolacion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Interpolacion.vue?vue&type=template&id=4df81ef6&scoped=true&\"\nimport script from \"./Interpolacion.vue?vue&type=script&lang=js&\"\nexport * from \"./Interpolacion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Interpolacion.vue?vue&type=style&index=0&id=4df81ef6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4df81ef6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"creadorInterpolacion\">\n    <div\n      class=\"bEliminarInterpolacion bolitaX\"\n      @click=\"$emit('eliminarse', mensaje)\"\n    >\n      <div class=\"rayaX1\"></div>\n      <div class=\"rayaX2\"></div>\n    </div>\n    <div id=\"bloqueIframe\" v-if=\"estaInterpolacion.tipo == 'video'\">\n      <iframe\n        id=\"elIframe\"\n        :src=\"estaInterpolacion.enlaceIframe\"\n        frameborder=\"0\"\n        v-if=\"estaInterpolacion.tipo == 'video'\"\n        v-show=\"estaInterpolacion.enlaceIframe\"\n      ></iframe>\n      <div id=\"zonaInputEnlace\">\n        <input\n          type=\"text\"\n          id=\"inputEnlace\"\n          v-model=\"enlaceIframe\"\n          @input=\"enlaceAceptado = false\"\n          @keypress.enter=\"setEnlaceIframe\"\n          @paste=\"onPasteEnlace\"\n          placeholder=\"Introduce el enlace\"\n        />\n        <img\n          src=\"@/assets/iconos/success.png\"\n          width=\"17px\"\n          style=\"cursor: pointer\"\n          :style=\"[{ backgroundColor: enlaceAceptado ? 'green' : '' }]\"\n          alt=\"Ok\"\n          title=\"Aceptar\"\n          class=\"bAceptar\"\n          @click=\"setEnlaceIframe\"\n        />\n      </div>\n    </div>\n\n    <div id=\"bloqueQuote\" v-if=\"estaInterpolacion.tipo == 'quote'\">\n      <div id=\"infoQuote\">\n        {{ estaInterpolacion.quote.infoAutor.nombres }} escribio:\n      </div>\n      <div id=\"quote\">\n        {{ estaInterpolacion.quote.mensaje }}\n        <interpolacion\n          v-for=\"interpolacion of estaInterpolacion.quote.interpolaciones\"\n          :key=\"interpolacion.id\"\n          :estaInterpolacion=\"interpolacion\"\n        />\n      </div>\n    </div>\n\n    <div id=\"zonaMensaje\">\n      <textarea\n        name=\"inputMensaje\"\n        id=\"inputMensaje\"\n        ref=\"inputMensaje\"\n        :class=\"{ letrasRojas: mensajeIlegal }\"\n        v-model=\"mensaje\"\n        @input=\"checkHeight\"\n      ></textarea>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Interpolacion from \"./Interpolacion.vue\";\nvar charProhibidosMensaje = /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;\n\nexport default {\n  components: { Interpolacion },\n  name: \"CreadorInterpolacion\",\n  props: {\n    estaInterpolacion: Object,\n  },\n  data() {\n    return {\n      mensaje: null,\n      enlaceIframe: null,\n      enlaceIframeSet: null,\n\n      enlaceAceptado: false,\n    };\n  },\n  methods: {\n    onPasteEnlace() {\n      this.enlaceAceptado = false;\n      console.log(`Paste`);\n      // setTimeout(() => {\n      //   console.log(`Seting con url ${this.enlaceIframe}`);\n      //   this.setEnlaceIframe();\n      // }, 300);\n    },\n    setEnlaceIframe() {\n      if (!this.enlaceIframe || this.enlaceIframe.substr(0, 8) != \"https://\") {\n        return;\n      }\n      if (this.enlaceIframe.substr(12, 17) == \"youtube.com/watch\") {\n        this.enlaceIframe =\n          this.enlaceIframe.substr(0, 24) +\n          \"embed/\" +\n          this.enlaceIframe.substr(32);\n      }\n\n      if (this.enlaceIframe.substr(0, 24) != \"https://www.youtube.com/\") {\n        console.log(`Enlace no válido`);\n        this.enlaceIframe.alert(\"Enlace no válido\");\n        return;\n      }\n\n      this.enlaceIframeSet = this.enlaceIframe;\n      this.$emit(\"enlaceIframeSet\", this.enlaceIframeSet);\n      this.enlaceAceptado = true;\n    },\n    checkHeight() {\n      while (\n        this.$refs.inputMensaje.scrollHeight >\n        this.$refs.inputMensaje.offsetHeight\n      ) {\n        this.$refs.inputMensaje.rows++;\n      }\n    },\n    addToMensaje(mensaje) {\n      if (!mensaje) return;\n      this.mensaje += \"\\n\\n\" + mensaje;\n\n      this.$nextTick(() => {\n        this.checkHeight();\n      });\n    },\n    temp() {\n      console.log(`1`);\n    },\n  },\n  computed: {\n    mensajeIlegal() {\n      if (!this.mensaje || this.mensaje.length < 1) {\n        return true;\n      }\n      if (charProhibidosMensaje.test(this.mensaje)) {\n        return true;\n      }\n      return false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.creadorInterpolacion {\n  position: relative;\n}\n#infoQuote {\n  font-size: 11px;\n  font-style: italic;\n  color: gray;\n  width: 90%;\n  margin: 5px auto;\n}\n\n#quote {\n  border: 1px solid gray;\n  background-color: rgb(197, 144, 107);\n  width: 90%;\n  margin: 5px auto;\n}\n\n#bloqueIframe {\n  border: 2px solid rgb(219, 87, 87);\n  width: min(600px, 95%);\n  margin: 0px auto;\n  border-radius: 10px;\n}\n#elIframe {\n  display: block;\n  width: 560px;\n  height: 315px;\n  margin: 2px auto;\n}\n#zonaInputEnlace {\n  display: block;\n  margin: 2px auto;\n  width: 280px;\n}\n.bAceptar {\n  border-radius: 50%;\n}\n.bAceptar:hover {\n  background-color: green;\n}\n#inputEnlace {\n  font-size: 19px;\n  border-radius: 5px;\n  width: 250px;\n  margin-right: 5px;\n}\n#zonaMensaje {\n  margin-top: 15px;\n}\n#inputMensaje {\n  width: 100%;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  font-size: 20px;\n  resize: none;\n}\n\n.bolitaX {\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  background-color: chocolate;\n  cursor: pointer;\n  position: relative;\n}\n\n.bEliminarInterpolacion {\n  position: absolute;\n  top: 1%;\n  right: 1%;\n}\n\n.rayaX1 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background-color: black;\n\n  transform: translate(-50%, -50%) rotate(45deg);\n  height: 2px;\n  width: 80%;\n}\n.rayaX2 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background-color: black;\n  transform: translate(-50%, -50%) rotate(-45deg);\n  height: 2px;\n  width: 80%;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreadorInterpolacion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreadorInterpolacion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreadorInterpolacion.vue?vue&type=template&id=1244a928&scoped=true&\"\nimport script from \"./CreadorInterpolacion.vue?vue&type=script&lang=js&\"\nexport * from \"./CreadorInterpolacion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreadorInterpolacion.vue?vue&type=style&index=0&id=1244a928&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1244a928\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"cuadroResponder\">\n    <div id=\"barraSuperior\" v-show=\"idConversacion\">\n      <img\n        src=\"@/assets/iconos/mensaje.png\"\n        alt=\"Contestar\"\n        title=\"Contestar en esta conversación\"\n        id=\"imgMensaje\"\n        @click=\"toggleCuadroAbierto\"\n      />\n      <span id=\"tituloCuadro\">Envía una respuesta</span>\n    </div>\n\n    <div id=\"zonaMensaje\" v-show=\"cuadroAbierto\">\n      <textarea\n        name=\"inputMensaje\"\n        id=\"inputMensaje\"\n        ref=\"inputMensaje\"\n        :class=\"{ letrasRojas: mensajeIlegal }\"\n        v-model=\"mensaje\"\n        rows=\"2\"\n        @input=\"checkHeight\"\n      ></textarea>\n\n      <creador-interpolacion\n        v-for=\"(interpolacion, index) of interpolaciones\"\n        :ref=\"'creadoresInterpolacion'\"\n        :key=\"index\"\n        :estaInterpolacion=\"interpolacion\"\n        @eliminarse=\"eliminarInterpolacion($event, index)\"\n        @enlaceIframeSet=\"setEnlaceIframeInterpolacion($event, index)\"\n      />\n    </div>\n    <div id=\"zonaInsertar\" v-show=\"cuadroAbierto\">\n      <img\n        src=\"@/assets/iconos/video.png\"\n        alt=\"Video\"\n        @click=\"insertarCreadorInterpolacion('video')\"\n        class=\"bInsertar\"\n        title=\"Insertar un enlace a un video\"\n      />\n    </div>\n\n    <!--  -->\n    <div id=\"adjuntarArchivo\" v-show=\"cuadroAbierto\">\n      <input\n        type=\"file\"\n        id=\"inputArchivoAdjunto\"\n        ref=\"inputArchivoAdjunto\"\n        @change=\"actualizarNombreDeArchivo\"\n      />\n      <img\n        src=\"@/assets/iconos/adjuntar.png\"\n        alt=\"Ajuntar archivo\"\n        id=\"imgAdjuntar\"\n        title=\"adjuntar un archivo\"\n        @click=\"abrirSelectorDeArchivos\"\n      />\n      <br />\n      <div id=\"nombreArchivoSeleccionado\" v-show=\"nombreArchivoSeleccionado\">\n        {{ nombreArchivoSeleccionado }}\n      </div>\n    </div>\n    <!--  -->\n    <div\n      id=\"bloqueAdjuntarEnlace\"\n      class=\"bloqueAdjuntar\"\n      v-show=\"cuadroAbierto\"\n    >\n      <div id=\"zonaIntroducirEnlace\">\n        <img\n          src=\"@/assets/iconos/hypervinculo.png\"\n          alt=\"Ajuntar enlace\"\n          id=\"imgAdjuntarEnlace\"\n          title=\"adjuntar un enlace\"\n          @click=\"introduciendoEnlace = true\"\n        />\n        <input\n          type=\"text\"\n          v-show=\"introduciendoEnlace === true\"\n          class=\"inputAdjuntarEnlace\"\n          placeholder=\"escribe o pega el enlace\"\n          v-model=\"enlaceAdjuntable\"\n        />\n        <img\n          src=\"@/assets/iconos/success.png\"\n          alt=\"Confirmar\"\n          id=\"bAceptarAdjuntarEnlace\"\n          v-show=\"introduciendoEnlace && !enlaceAdjuntableIlegal\"\n          @click.stop=\"\n            enlaceAdjunto.push(enlaceAdjuntable);\n            enlaceAdjuntable = null;\n            introduciendoEnlace = false;\n          \"\n        />\n      </div>\n      <div\n        class=\"enlaceAdjuntado\"\n        v-for=\"(enlace, index) of enlaceAdjunto\"\n        :key=\"index\"\n      >\n        <div id=\"nombreEnlaceAdjuntado\">\n          <span>{{ enlace }}</span>\n        </div>\n        <div\n          id=\"bCancelarEnlaceAdjunto\"\n          @click.stop=\"enlaceAdjunto.splice(index, 1)\"\n        >\n          <div class=\"linea1\"><div class=\"linea2\"></div></div>\n        </div>\n      </div>\n    </div>\n\n    <!--  -->\n\n    <img\n      v-show=\"cuadroAbierto && !enviandoRespuesta\"\n      :class=\"{ deshabilitado: mensajeIlegal }\"\n      src=\"@/assets/iconos/enviar.png\"\n      alt=\"Enviar\"\n      title=\"Enviar respuesta\"\n      id=\"bEnviar\"\n      @click=\"evaluarAdjunto\"\n    />\n\n    <loading texto=\"Enviando respuesta...\" v-show=\"enviandoRespuesta\" />\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Loading from \"../utilidades/Loading.vue\";\nimport {\n  fragmentoConversacion,\n  fragmentoRespuesta,\n} from \"../utilidades/recursosGql\";\nimport axios from \"axios\";\nimport CreadorInterpolacion from \"./CreadorInterpolacion.vue\";\n\nexport var charProhibidosMensaje = /[^\\n\\r a-zA-ZÀ-ž0-9_()\":;.,+¡!¿?@=-]/;\n\nexport default {\n  components: { Loading, CreadorInterpolacion },\n  name: \"CuadroResponder\",\n  props: {\n    tituloNuevaConversacion: String,\n    idConversacion: String,\n    idForo: String,\n    parent: Object,\n  },\n  data() {\n    return {\n      mensaje: null,\n      cuadroAbierto: false,\n      enviandoRespuesta: false,\n      nombreArchivoSeleccionado: null,\n\n      introduciendoEnlace: false,\n      enlaceAdjuntable: null,\n      enlaceAdjunto: [],\n\n      interpolaciones: [],\n    };\n  },\n  methods: {\n    evaluarAdjunto() {\n      if (this.mensajeIlegal) {\n        return;\n      }\n      this.enviandoRespuesta = true;\n      let inputArchivoAdjunto = this.$refs.inputArchivoAdjunto;\n      var datos = new FormData();\n      this.setInterpolacionesData();\n\n      if (!inputArchivoAdjunto.value) {\n        let nuevaRespuesta = {\n          infoArchivo: null,\n          mensaje: this.mensaje,\n          interpolaciones: this.interpolaciones\n        };\n        if (this.enlaceAdjunto && this.enlaceAdjunto.length > 0) {\n          nuevaRespuesta.enlaceAdjunto = this.enlaceAdjunto;\n        }\n        if (!this.idConversacion) {\n          this.crearConversacionConRespuesta(nuevaRespuesta);\n        } else {\n          this.enviarNuevaRespuesta(nuevaRespuesta);\n        }\n      } else {\n        const archivoAdjunto = inputArchivoAdjunto.files[0];\n        const fileType = archivoAdjunto[\"type\"];\n        console.log(`subiendo un ${fileType}`);\n        datos.append(\"archivoAdjunto\", archivoAdjunto);\n        var dis = this;\n        axios({\n          method: \"post\",\n          url: this.serverUrl + \"/api/foros/adjuntarArchivoParaRespuesta\",\n          data: datos,\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: \"Bearer \" + this.$store.state.token,\n          },\n        })\n          .then(({ data: { infoArchivo } }) => {\n            //Se ha subido el archivo. Ahora publicar la respuesta\n\n            //Creando la nueva participacion\n\n            let nuevaRespuesta = {\n              infoArchivo: {\n                idGoogleDrive: infoArchivo.idGoogleDrive,\n                googleDriveDirectLink: infoArchivo.googleDriveDirectLink,\n                extension: infoArchivo.extensionDeArchivo,\n                nombre: infoArchivo.extensionDeArchivo,\n              },\n              mensaje: dis.mensaje,\n              interpolaciones:this.interpolaciones,\n            };\n            if (this.enlaceAdjunto && this.enlaceAdjunto.length > 0) {\n              nuevaRespuesta.enlaceAdjunto = this.enlaceAdjunto;\n            }\n            if (!this.idConversacion) {\n              this.crearConversacionConRespuesta(nuevaRespuesta);\n            } else {\n              this.enviarNuevaRespuesta(nuevaRespuesta);\n            }\n          })\n          .catch((error) => {\n            this.enviandoRespuesta = false;\n            console.log(`Errores: ${error}`);\n            if (error.response) {\n              if (error.response.data.msjUsuario) {\n                alert(error.response.data.msjUsuario);\n              }\n            }\n          });\n      }\n    },\n    crearConversacionConRespuesta(nuevaRespuesta) {\n      if (!this.tituloNuevaConversacion) {\n        return;\n      }\n      var input = {\n        titulo: this.tituloNuevaConversacion,\n        primeraRespuesta: nuevaRespuesta,\n      };\n      this.enviandoRespuesta = true;\n      var dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idForo: ID!\n              $input: InputIniciarConversacion\n              $parent: InputParent\n            ) {\n              iniciarConversacionConPrimerMensajeForo(\n                idForo: $idForo\n                input: $input\n                parent: $parent\n              ) {\n                ...fragConversacion\n              }\n            }\n            ${fragmentoConversacion}\n          `,\n          variables: {\n            idForo: dis.idForo,\n            input,\n            parent: dis.parent,\n          },\n        })\n        .then(({ data: { iniciarConversacionConPrimerMensajeForo } }) => {\n          dis.enviandoRespuesta = false;\n          dis.$emit(\n            \"hiceConversacion\",\n            iniciarConversacionConPrimerMensajeForo\n          );\n          this.reset();\n        })\n        .catch((error) => {\n          dis.enviandoRespuesta = false;\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    enviarNuevaRespuesta(nuevaRespuesta) {\n      if (this.mensajeIlegal) {\n        return;\n      }\n      var dis = this;\n      this.enviandoRespuesta = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idConversacion: ID!\n              $nuevaRespuesta: InputNuevaRespuesta\n              $parent: InputParent\n            ) {\n              postRespuestaConversacion(\n                idConversacion: $idConversacion\n                nuevaRespuesta: $nuevaRespuesta\n                parent: $parent\n              ) {\n                ...fragRespuesta\n              }\n            }\n            ${fragmentoRespuesta}\n          `,\n          variables: {\n            idConversacion: dis.idConversacion,\n            nuevaRespuesta,\n            parent: dis.parent,\n          },\n        })\n        .then(({ data: { postRespuestaConversacion } }) => {\n          dis.enviandoRespuesta = false;\n          this.$emit(\"hiceRespuesta\", postRespuestaConversacion);\n          this.cerrarse();\n        })\n        .catch((error) => {\n          dis.enviandoRespuesta = false;\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    toggleCuadroAbierto() {\n      this.cuadroAbierto = !this.cuadroAbierto;\n    },\n    cerrarse() {\n      this.reset();\n      this.cuadroAbierto = false;\n    },\n    actualizarNombreDeArchivo() {\n      if (!this.$refs.inputArchivoAdjunto.value) {\n        console.log(`Nullificando el nombre de archivo seleccionado`);\n        this.nombreArchivoSeleccionado = null;\n        return;\n      }\n      this.nombreArchivoSeleccionado = this.$refs.inputArchivoAdjunto.files[0].name;\n    },\n    abrirSelectorDeArchivos() {\n      this.$refs.inputArchivoAdjunto.click();\n    },\n    reset() {\n      this.nombreArchivoSeleccionado = null;\n      this.$refs.inputArchivoAdjunto.value = null;\n      this.mensaje = null;\n      this.interpolaciones=[];\n      (this.enlaceAdjuntable = null), (this.enlaceAdjunto = []);\n    },\n    interpolarQuote(quote){\n      var nuevaInterpolacion={\n        tipo:\"quote\",\n        quote,\n      }\n\n      this.interpolaciones.push(nuevaInterpolacion);\n      if(!this.cuadroAbierto)this.cuadroAbierto=true;\n      this.$nextTick(()=>{\n        this.$el.scrollIntoView({behavior:\"smooth\"});\n      })\n    },\n    insertarCreadorInterpolacion(tipo) {\n      var nuevaInterpolacion = {\n        tipo,\n      };\n\n      this.interpolaciones.push(nuevaInterpolacion);\n    },\n    checkHeight() {\n      console.log(\n        `El textarea tiene un height de ${this.$refs.inputMensaje.offsetHeight} pero un scroll height de ${this.$refs.inputMensaje.scrollHeight}`\n      );\n      while (\n        this.$refs.inputMensaje.scrollHeight >\n        this.$refs.inputMensaje.offsetHeight\n      ) {\n        this.$refs.inputMensaje.rows++;\n      }\n    },\n    eliminarInterpolacion(mensaje, index) {\n      if (mensaje) {\n        if (index == 0) {\n          if (!this.mensaje) {\n            this.mensaje = mensaje;\n          } else {\n            this.mensaje += \"\\n\\n\" + mensaje;\n            this.$nextTick(() => {\n              this.checkHeight();\n            });\n          }\n        } else {\n          \n          \n          console.log(\n            `añadiendo el mensaje ${mensaje} al creador de interpolacion ${\n              (index-1)\n            }`\n          );\n          this.$refs.creadoresInterpolacion[index-1].addToMensaje(\n            mensaje\n          );\n        }\n      }\n      this.interpolaciones.splice(index, 1);\n    },\n    setEnlaceIframeInterpolacion(enlace, index){\n      console.log(`Seting enlace iframe en el array de interpolaciones`);\n      this.$set(this.interpolaciones[index], \"enlaceIframe\", enlace);\n      \n    },\n    retirarTypeName(arrayInterpolaciones){\n      console.log(`Retirando typenames`);\n      arrayInterpolaciones.forEach(interpolacion=>{\n        delete interpolacion.__typename        \n        if(interpolacion.quote){\n          delete interpolacion.quote.__typename\n          if(interpolacion.quote.infoAutor){\n            delete interpolacion.quote.infoAutor.__typename\n          }\n          if(interpolacion.quote.interpolaciones){\n            interpolacion.quote.interpolaciones=this.retirarTypeName(interpolacion.quote.interpolaciones)\n          }\n        }\n      });\n      return arrayInterpolaciones\n    },\n    setInterpolacionesData(){\n      this.interpolaciones.forEach((interpolacion, index)=>{\n        interpolacion.mensaje=this.$refs.creadoresInterpolacion[index].mensaje;\n      });\n      this.interpolaciones=this.retirarTypeName(this.interpolaciones);\n    }\n  },\n  computed: {\n    mensajeIlegal() {\n      var mensajeTotal=this.mensaje?this.mensaje:'';\n      \n      this.interpolaciones.forEach(interpolacion=>{\n        if(interpolacion.mensaje){\n          mensajeTotal+=interpolacion.mensaje;\n        }\n      })\n\n      if (charProhibidosMensaje.test(mensajeTotal)) {\n        return true;\n      }\n      return false;\n    },\n    enlaceAdjuntableIlegal() {\n      if (!this.enlaceAdjuntable) return true;\n      if (this.enlaceAdjuntable.substr(0, 8) != \"https://\") {\n        console.log(\n          `El inicio ${this.enlaceAdjuntable.substr(0, 8)} difiere del esperado`\n        );\n        return true;\n      }\n\n      if (this.enlaceAdjuntable.length < 7) {\n        return true;\n      }\n      return false;\n    },\n  },\n  mounted() {\n    console.log(`Revisando si hay idConversacion`);\n    if (!this.idConversacion) {\n      this.cuadroAbierto = true;\n    }\n  },\n};\n</script>\n\n<style scoped>\n.cuadroResponder {\n  border: 2px solid white;\n  margin: 5px;\n  border-radius: 10px;\n  background-color: #ffcda4;\n}\n#barraSuperior {\n  display: flex;\n  align-items: center;\n}\n#imgMensaje {\n  margin: 5px;\n  cursor: pointer;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  background-color: #e2a03d;\n}\n\n#zonaMensaje {\n  border: 2px solid black;\n  width: 80%;\n  margin: 5px auto;\n}\n\n#inputMensaje {\n  width: 100%;\n  display: block;\n  margin: 5px auto;\n  font-size: 20px;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  resize: none;\n}\n#zonaInsertar {\n  width: 80%;\n  margin: 0px auto;\n}\n.bInsertar {\n  width: 30px;\n  cursor: pointer;\n  border: 1px solid black;\n  border-radius: 50%;\n}\n#inputArchivoAdjunto {\n  display: none;\n}\n#imgAdjuntar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: #f5a25f;\n}\n#imgAdjuntar:hover {\n  background-color: #f7760e;\n}\n#nombreArchivoSeleccionado {\n  background-color: #55b95c;\n  padding: 3px;\n  border-radius: 10px;\n  display: inline-block;\n}\n\n#zonaIntroducirEnlace {\n  display: flex;\n  align-items: center;\n}\n#imgAdjuntarEnlace {\n  border-radius: 50%;\n  padding: 3px;\n  background-color: #f5a25f;\n  width: 45px;\n  height: 45px;\n  cursor: pointer;\n}\n#imgAdjuntarEnlace:hover {\n  background-color: #f7760e;\n}\n.inputAdjuntarEnlace {\n  margin-left: 20px;\n  width: 350px;\n  padding: 3px 5px;\n  border-radius: 10px;\n}\n.enlaceAdjuntado {\n  display: flex;\n  align-items: center;\n  margin: 3px;\n}\n#nombreEnlaceAdjuntado {\n  width: 400px;\n  margin-left: 20px;\n  border-radius: 15px;\n  background-color: rgba(129, 66, 129, 0.349);\n  padding: 5px;\n}\n#nombreEnlaceAdjuntado:hover {\n  background-color: rgba(129, 66, 129, 0.733);\n}\n#nombreEnlaceAdjuntado > span {\n  font-style: italic;\n  font-size: 14px;\n  word-wrap: break-word;\n\n  padding: 3px 5px;\n}\n#bCancelarEnlaceAdjunto {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background-color: rgb(219, 74, 74);\n  cursor: pointer;\n  border-radius: 50%;\n  position: relative;\n  margin-left: 10px;\n}\n#bCancelarEnlaceAdjunto:hover {\n  background-color: red;\n}\n#bCancelarEnlaceAdjunto > .linea1 {\n  width: 90%;\n  height: 2px;\n  border-radius: 1px;\n  position: absolute;\n  top: 48%;\n  left: 5%;\n  background-color: black;\n  transform: rotate(45deg);\n}\n#bCancelarEnlaceAdjunto > .linea1 > .linea2 {\n  background-color: black;\n  width: 100%;\n  height: 2px;\n  border-radius: 1px;\n  transform: rotate(90deg);\n}\n#bAceptarAdjuntarEnlace {\n  margin-left: 10px;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  background-color: rgb(138, 192, 194);\n  cursor: pointer;\n}\n#bAceptarAdjuntarEnlace:hover {\n  background-color: cadetblue;\n}\n#bEnviar {\n  display: block;\n  margin: 5px auto;\n  cursor: pointer;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  background-color: #f5a25f;\n}\n#bEnviar:hover {\n  background-color: #f7760e;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroResponder.vue?vue&type=template&id=1cc9b412&scoped=true&\"\nimport script from \"./CuadroResponder.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroResponder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroResponder.vue?vue&type=style&index=0&id=1cc9b412&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cc9b412\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"respuesta\"},[_c('div',{staticClass:\"infoRespuesta\"},[_vm._v(_vm._s(_vm.fechaFormateada))]),_c('img',{staticClass:\"caritaAutor\",attrs:{\"src\":this.serverUrl +\n      '/api/usuarios/fotografias/' +\n      _vm.estaRespuesta.infoAutor.id,\"alt\":_vm.estaRespuesta.infoAutor.nombre}}),_c('div',{attrs:{\"id\":\"zonaCuerpoMensaje\"}},[_c('div',{staticClass:\"mensajeRespuesta\"},[_vm._v(\" \"+_vm._s(_vm.estaRespuesta.mensaje)+\" \")]),_vm._l((_vm.estaRespuesta.interpolaciones),function(interpolacion){return _c('interpolacion',{key:interpolacion.id,attrs:{\"estaInterpolacion\":interpolacion}})})],2),(\n      _vm.estaRespuesta.archivo && _vm.estaRespuesta.archivo.googleDriveDirectLink\n    )?_c('div',{attrs:{\"id\":\"archivo\"}},[_c('a',{attrs:{\"href\":_vm.estaRespuesta.archivo.googleDriveDirectLink}},[_c('img',{attrs:{\"src\":require(\"@/assets/iconos/downloadFile.png\"),\"alt\":\"Descargar archivo\",\"id\":\"imgDownloadArchivo\"}})])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n      _vm.estaRespuesta.enlaceAdjunto && _vm.estaRespuesta.enlaceAdjunto.length > 0\n    ),expression:\"\\n      estaRespuesta.enlaceAdjunto && estaRespuesta.enlaceAdjunto.length > 0\\n    \"}],staticClass:\"enlacesAdjuntos\"},_vm._l((_vm.estaRespuesta.enlaceAdjunto),function(enlace,index){return _c('a',{key:index,attrs:{\"target\":\"_blank\",\"href\":enlace}},[_c('div',{staticClass:\"enlaceAdjunto\"},[_vm._v(\" \"+_vm._s(enlace)+\" \")])])}),0),_c('div',{staticClass:\"controles\"},[_c('img',{staticClass:\"botonInsertar\",attrs:{\"src\":require(\"@/assets/iconos/quote.png\"),\"alt\":\"Cita\",\"title\":\"Citar esta respuesta\"},on:{\"click\":_vm.emitirSolicitudCita}}),(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"controlRespuesta\",attrs:{\"id\":\"bEliminar\"},on:{\"click\":_vm.eliminarse}},[_vm._v(\" Eliminar \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"respuesta\">\n    <div class=\"infoRespuesta\">{{ fechaFormateada }}</div>\n    <img\n      :src=\"\n        this.serverUrl +\n        '/api/usuarios/fotografias/' +\n        estaRespuesta.infoAutor.id\n      \"\n      :alt=\"estaRespuesta.infoAutor.nombre\"\n      class=\"caritaAutor\"\n    />\n    <div id=\"zonaCuerpoMensaje\">\n      <div class=\"mensajeRespuesta\">\n        {{ estaRespuesta.mensaje }}\n      </div>\n      <interpolacion\n        v-for=\"interpolacion of estaRespuesta.interpolaciones\"\n        :key=\"interpolacion.id\"\n        :estaInterpolacion=\"interpolacion\"\n      />\n    </div>\n\n    <div\n      id=\"archivo\"\n      v-if=\"\n        estaRespuesta.archivo && estaRespuesta.archivo.googleDriveDirectLink\n      \"\n    >\n      <a :href=\"estaRespuesta.archivo.googleDriveDirectLink\">\n        <img\n          src=\"@/assets/iconos/downloadFile.png\"\n          alt=\"Descargar archivo\"\n          id=\"imgDownloadArchivo\"\n        />\n      </a>\n    </div>\n\n    <div\n      class=\"enlacesAdjuntos\"\n      v-show=\"\n        estaRespuesta.enlaceAdjunto && estaRespuesta.enlaceAdjunto.length > 0\n      \"\n    >\n      <a\n        target=\"_blank\"\n        :href=\"enlace\"\n        :key=\"index\"\n        v-for=\"(enlace, index) of estaRespuesta.enlaceAdjunto\"\n      >\n        <div class=\"enlaceAdjunto\">\n          {{ enlace }}\n        </div>\n      </a>\n    </div>\n\n    <div class=\"controles\">\n      <img\n        src=\"@/assets/iconos/quote.png\"\n        alt=\"Cita\"\n        title=\"Citar esta respuesta\"\n        class=\"botonInsertar\"\n        @click=\"emitirSolicitudCita\"\n      />\n      <div\n        class=\"controlRespuesta\"\n        id=\"bEliminar\"\n        v-if=\"usuarioSuperadministrador\"\n        @click=\"eliminarse\"\n      >\n        Eliminar\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Interpolacion from \"./Interpolacion.vue\";\nexport default {\n  components: { Interpolacion },\n  name: \"Respuesta\",\n  props: {\n    estaRespuesta: {\n      type: Object,\n    },\n    idConversacion: String,\n  },\n  computed: {\n    fechaFormateada: function () {\n      let laFecha = new Date(this.estaRespuesta.fecha).toString();\n      let indexParentesis = laFecha.indexOf(\"(\");\n      let fechaCorta = laFecha.substr(0, indexParentesis);\n      let indexGMT = fechaCorta.indexOf(\"GMT\");\n      if (indexGMT > -1) {\n        fechaCorta = fechaCorta.substr(0, indexGMT);\n      }\n      return fechaCorta;\n    },\n    usuarioAutor: function () {\n      if (this.usuario.id == this.estaRespuesta.infoAutor.id) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    emitirSolicitudCita(){\n      var quote={\n        mensaje: this.estaRespuesta.mensaje,\n        interpolaciones:this.estaRespuesta.interpolaciones,\n        infoAutor:this.estaRespuesta.infoAutor,\n        fecha:this.estaRespuesta.fecha \n      }\n\n      quote.interpolaciones.forEach(interpolacion=>{\n        delete interpolacion.__typename;\n      })\n      delete quote.infoAutor.__typename;\n\n      this.$emit('meQuierenCitar', quote)\n    },\n    eliminarse() {\n      let dis = this;\n      if (!confirm(\"Eliminando respuesta ¿Continuar?\")) {\n        return;\n      }\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation($idRespuesta: ID!, $idConversacion: ID!) {\n            eliminarRespuesta(\n              idRespuesta: $idRespuesta\n              idConversacion: $idConversacion\n            )\n          }\n        `,\n        variables: {\n          idRespuesta: this.estaRespuesta.id,\n          idConversacion: this.idConversacion,\n        },\n        update(store, { data: { eliminarRespuesta } }) {\n          if (eliminarRespuesta) {\n            console.log(`Respuesta eliminada`);\n            dis.$emit(\"meElimine\");\n          }\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.respuesta {\n  background-color: rgb(255 205 164);\n\n  border-radius: 15px;\n  display: grid;\n  grid-template-areas:\n    \"info info info\"\n    \"autor mensaje adjunto\"\n    \"... enlaceAdjunto enlaceAdjunto\"\n    \"controles controles controles\";\n  grid-template-columns: 100px 1fr 60px;\n  grid-template-rows: 50px 1fr min-content 15px;\n  row-gap: 10px;\n  align-items: center;\n  justify-items: center;\n  padding: 10px;\n}\n.infoRespuesta {\n  font-size: 10px;\n  margin: 5px 5px;\n  color: gray;\n  grid-area: info;\n  width: 100%;\n}\n#zonaCuerpoMensaje {\n  grid-area: mensaje;\n  width: 100%;\n  padding: 10px;\n  height: 100%;\n}\n.mensajeRespuesta {\n  white-space: pre-wrap;\n  margin-bottom: 15px;\n  font-size: 20px;\n}\n.caritaAutor {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  grid-area: autor;\n  align-self: flex-start;\n}\n.controles {\n  grid-area: controles;\n  width: 100%;\n  display: flex;\n  flex-flow: row-reverse;\n  font-size: 13px;\n}\n.controlRespuesta {\n  padding: 3px;\n  cursor: pointer;\n}\n.controlRespuesta:hover {\n  background-color: red;\n}\n#archivo {\n  padding: 5px;\n}\n\n#imgDownloadArchivo {\n  grid-area: adjunto;\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  background-color: #4bb36b;\n}\n\n.enlacesAdjuntos {\n  grid-area: enlaceAdjunto;\n  justify-self: left;\n}\n.enlaceAdjunto {\n  font-style: italic;\n  font-size: 14px;\n  word-wrap: break-word;\n  border-radius: 15px;\n  background-color: rgba(129, 66, 129, 0.349);\n  padding: 3px 5px;\n  cursor: pointer;\n  max-width: 600px;\n  margin: 3px;\n}\n.enlaceAdjunto:hover {\n  background-color: rgba(129, 66, 129, 0.733);\n}\n.botonInsertar {\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n.botonInsertar:hover {\n  background-color: gray;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respuesta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Respuesta.vue?vue&type=template&id=02ceacf0&scoped=true&\"\nimport script from \"./Respuesta.vue?vue&type=script&lang=js&\"\nexport * from \"./Respuesta.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Respuesta.vue?vue&type=style&index=0&id=02ceacf0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02ceacf0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"conversacion\"\n    :class=\"{\n      seleccionado,\n      deshabilitado: seleccionado && loading,\n      conRespuestasNoLeidas:\n        estaConversacion.cantidadRespuestas > cantidadRespuestasLeidasUsuario,\n    }\"\n  >\n    <div class=\"infoConversacion\">\n      {{ estaConversacion.cantidadRespuestas }} publicacion{{\n        estaConversacion.cantidadRespuestas > 1 ? \"es\" : \"\"\n      }}. Última publicación en {{ fechaFormateada }}\n    </div>\n    <div class=\"tituloConversacion\">\n      <img\n        src=\"@/assets/iconos/conversacion.png\"\n        alt=\"Conversacion\"\n        class=\"imagenConversacion\"\n      />\n      {{ estaConversacion.titulo }}\n      <span class=\"datosConversacion\">\n        <span\n          class=\"dato datoRespuestasNoLeidas\"\n          title=\"Respuestas nuevas en esta conversación\"\n          v-show=\"\n            estaConversacion.cantidadRespuestas >\n            cantidadRespuestasLeidasUsuario\n          \"\n        >\n          {{\n            estaConversacion.cantidadRespuestas -\n            cantidadRespuestasLeidasUsuario\n          }}\n        </span>\n      </span>\n    </div>\n\n    <div\n      class=\"zonaSelectorPaginas\"\n      v-if=\"numPaginas > 0\"\n      v-show=\"seleccionado\"\n    >\n      <div\n        class=\"selectorPagina\"\n        :class=\"{ selectorSeleccionado: index == numPaginaSeleccionada }\"\n        v-for=\"index in numPaginas\"\n        :key=\"index\"\n        @click=\"numPaginaSeleccionada = index\"\n      >\n        {{ index }}\n      </div>\n    </div>\n    <div class=\"zonaRespuestas\" v-show=\"seleccionado\">\n      <div class=\"zonaPaginas\">\n        <div\n          class=\"pagina\"\n          v-for=\"index in numPaginas\"\n          :key=\"'pagina' + index\"\n          v-show=\"numPaginaSeleccionada == index\"\n        >\n          <respuesta\n            v-for=\"respuesta of respuestasPorPagina[index]\"\n            :key=\"respuesta.id\"\n            :idConversacion=\"estaConversacion.id\"\n            :estaRespuesta=\"respuesta\"\n            @meQuierenCitar=\"citarRespuesta\"\n            @meElimine=\"updateRespuestaEliminada(respuesta.id, index)\"\n          />\n        </div>\n      </div>\n      <cuadro-responder\n        ref=\"cuadroResponder\"\n        :parent=\"parent\"\n        v-if=\"\n          usuarioLogeado &&\n          (estaConversacion.acceso == 'publico' || usuarioMiembro == true) &&\n          estaConversacion.id\n        \"        \n        :idConversacion=\"estaConversacion.id\"\n        @hiceRespuesta=\"addRespuesta($event)\"\n      />\n    </div>\n\n    <div class=\"controlesConversacion\">\n      <!-- <div class=\"bEliminarConversacion\">Eliminar</div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport CuadroResponder from \"./CuadroResponder.vue\";\nimport Respuesta from \"./Respuesta.vue\";\nimport { fragmentoRespuesta } from \"../utilidades/recursosGql\";\n\nconst QUERY_RESPUESTAS = gql`\n  query($idConversacion: ID!, $pagina: Int!) {\n    respuestasPaginaDeConversacion(\n      idConversacion: $idConversacion\n      pagina: $pagina\n    ) {\n      pagina\n      numPaginas\n      respuestas {\n        ...fragRespuesta\n      }\n    }\n  }\n  ${fragmentoRespuesta}\n`;\n\nexport default {\n  components: { Respuesta, CuadroResponder },\n  name: \"Conversacion\",\n  apollo: {\n    numPaginas: {\n      query: QUERY_RESPUESTAS,\n      variables() {\n        return {\n          idConversacion: this.estaConversacion.id,\n          pagina: this.numPaginaSeleccionada,\n        };\n      },\n      update({\n        respuestasPaginaDeConversacion: { pagina, numPaginas, respuestas },\n      }) {        \n        this.$set(this.respuestasPorPagina, pagina, respuestas);\n        if (this.numPaginaSeleccionada != pagina) {\n          this.numPaginaSeleccionada = pagina;\n        }\n        this.loading = false;\n        return numPaginas;\n      },\n      skip() {\n        return !this.seleccionado;\n      },\n      fetchPolicy: \"no-cache\",\n    },\n  },\n  data() {\n    return {\n      numPaginas: 0,\n      numPaginaSeleccionada: 0,\n      respuestasPorPagina: {},\n      loading: true,\n    };\n  },\n  props: {\n    estaConversacion: {\n      type: Object,\n      default() {\n        return {\n          respuestas: [],\n        };\n      },\n    },\n    idForo: String,\n    parent: Object,\n    seleccionado: Boolean,\n    usuarioMiembro: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    addRespuesta(nuevaRespuesta) {\n      var targetPagina = this.numPaginas;\n      if (\n        this.respuestasPorPagina[targetPagina].length >= 5 ||\n        targetPagina < 1\n      ) {\n        targetPagina++;\n        if (!this.respuestasPorPagina[targetPagina]) {\n          this.$set(this.respuestasPorPagina, targetPagina, []);\n        }\n      }\n      this.respuestasPorPagina[targetPagina].push(nuevaRespuesta);\n      this.$refs.cuadroResponder.cerrarse();\n      if (this.numPaginaSeleccionada != targetPagina) {\n        this.numPaginaSeleccionada = targetPagina;\n      }\n      console.log(`Emitiendo 'respuesta publicada'`);\n      this.$emit(\"respuestaPublicada\");\n    },\n    updateRespuestaEliminada(idRespuesta, pagina) {\n      console.log(`Respuesta ${idRespuesta} eliminada de la pagina ${pagina}`);\n      if (this.numPaginas == 1 && this.respuestasPorPagina[1].length < 2) {\n        console.log(`Era la ultima respuesta`);\n        this.$emit(\"meElimine\");\n      } else {\n        console.log(`Refreshing respuestas pagina`);\n        this.$apollo.queries.numPaginas.refresh();\n      }\n    },\n    citarRespuesta(quote){\n      this.$refs.cuadroResponder.interpolarQuote(quote);\n    }\n  },\n  computed: {\n    cantidadRespuestasLeidasUsuario() {\n      if (this.usuario && this.usuario.foros) {\n        const infoForo = this.usuario.foros.find(\n          (f) => f.idForo == this.idForo\n        );\n        if (!infoForo) {\n          return 0;\n        }\n        const infoConversacion = infoForo.conversaciones.find(\n          (c) => c.idConversacion == this.estaConversacion.id\n        );\n        if (!infoConversacion) {\n          return 0;\n        }\n        return infoConversacion.respuestasLeidas;\n      } else {\n        return 0;\n      }\n    },\n    fechaFormateada: function () {\n      if (\n        !this.estaConversacion.infoUltimaRespuesta ||\n        !this.estaConversacion.infoUltimaRespuesta.fecha\n      ) {\n        return \"Fecha desconocida\";\n      }\n      let laFecha = new Date(\n        this.estaConversacion.infoUltimaRespuesta.fecha\n      ).toString();\n      let indexParentesis = laFecha.indexOf(\"(\");\n      let fechaCorta = laFecha.substr(0, indexParentesis);\n      let indexGMT = fechaCorta.indexOf(\"GMT\");\n      if (indexGMT > -1) {\n        fechaCorta = fechaCorta.substr(0, indexGMT);\n      }\n      return fechaCorta;\n    },\n  },\n  watch:{\n    seleccionado(nuevo, viejo){\n      if(nuevo && !viejo){\n        this.$emit(\"meAbrieron\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.conversacion {\n  background-color: #fdc190;\n  border: 1px solid white;\n  padding: 0px 0px;\n}\n.conversacion:hover {\n  background-color: #f7b57f;\n}\n.conRespuestasNoLeidas {\n  background-color: #f8cca8;\n}\n.seleccionado {\n  background-color: #f7b57f;\n}\n.infoConversacion {\n  font-size: 10px;\n  font-style: italic;\n  color: gray;\n  text-align: right;\n}\n.respuesta {\n  margin: 5px;\n}\n.conversacion:not(.seleccionado) {\n  cursor: pointer;\n}\n.tituloConversacion {\n  padding: 15px 0px;\n  margin: 5px;\n  font-weight: bold;\n  display: grid;\n  align-items: center;\n  grid-template-columns: 35px 1fr 50px;\n  color: #9c1a1a;\n}\n.imagenConversacion {\n  width: 30px;\n  height: 30px;\n  margin-right: 10px;\n}\n.datosConversacion {\n  padding: 10px 0px;\n}\n.dato {\n  margin: 0px 3px;\n  cursor: pointer;\n  border-radius: 10px;\n  padding: 3px;\n  text-align: center;\n  font-size: 12px;\n}\n\n.datoRespuestasNoLeidas {\n  border: 1px solid chocolate;\n  background-color: rgb(243, 206, 180);\n}\n\n.datoCantidadRespuestas {\n  border: 1px solid rgb(75, 73, 73);\n}\n.zonaRespuestas {\n  padding-left: 0px;\n}\n.controlesConversacion {\n  display: flex;\n  flex-flow: row-reverse;\n}\n.bEliminarConversacion {\n  padding: 3px;\n}\n.bEliminarConversacion:hover {\n  padding: 3px;\n  background-color: red;\n  cursor: pointer;\n}\n.zonaSelectorPaginas {\n  display: flex;\n  padding: 2px 10px;\n}\n.selectorPagina {\n  border: 1px solid black;\n  padding: 3px 5px;\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: #f7b57f;\n}\n\n.selectorPagina:hover {\n  background-color: #ffd0aa;\n}\n.selectorSeleccionado {\n  background-color: #ffd0aa;\n\n  pointer-events: none;\n  font-weight: bold;\n}\n\n@media only screen and (min-width: 768px) {\n  .tituloConversacion {\n    padding: 15px 10px;\n    margin: 5px;\n    font-weight: bold;\n    display: grid;\n    align-items: center;\n    grid-template-columns: 65px 1fr 90px;\n    color: #9c1a1a;\n  }\n  .imagenConversacion {\n    width: 50px;\n    height: 50px;\n    margin-right: 10px;\n  }\n  .dato {\n    margin: 0px 4px;\n    cursor: pointer;\n    border-radius: 10px;\n    padding: 6px;\n    text-align: center;\n    font-size: 14px;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Conversacion.vue?vue&type=template&id=9e3ce0f2&scoped=true&\"\nimport script from \"./Conversacion.vue?vue&type=script&lang=js&\"\nexport * from \"./Conversacion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Conversacion.vue?vue&type=style&index=0&id=9e3ce0f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e3ce0f2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"foro\">\n    <div class=\"barraSuperiorForo\">\n      <div id=\"anuncio\" v-show=\"idConversacionSeleccionada === null\">\n        Conversaciones\n      </div>\n      <div\n        id=\"bRegresarConversaciones\"\n        v-show=\"idConversacionSeleccionada != null\"\n        @click=\"\n          idConversacionSeleccionada = null;\n          $apollo.queries.numPaginas.refetch();\n        \"\n      >\n        Volver a conversaciones\n      </div>\n      <div id=\"controlesForo\">\n        <div\n          class=\"controlesForo botonesControles\"\n          id=\"bCrearConversacion\"\n          v-if=\"\n            usuarioLogeado &&\n            (esteForo.acceso == 'publico' || usuarioMiembro == true || usuarioSuperadministrador) &&\n            esteForo.id\n          \"\n          v-show=\"!conversacionAbierta\"\n          @click=\"creandoConversacion = !creandoConversacion\"\n        >\n          {{ creandoConversacion ? \"Cancelar\" : \"Crear conversación\" }}\n        </div>\n      </div>\n    </div>\n    <div class=\"zonaConversaciones\">\n      <!-- <creador-conversacion\n        v-if=\"\n          usuarioLogeado &&\n          (esteForo.acceso == 'publico' || usuarioMiembro == true) &&\n          esteForo.id\n        \"\n        :idForo=\"esteForo.id\"\n        :parent=\"parent\"\n        v-show=\"creandoConversacion\"\n        @hiceConversacion=\"addConversacion($event)\"\n      /> -->\n      <div\n        id=\"zonaCrearConversacion\"\n        v-if=\"\n          usuarioLogeado &&\n          (esteForo.acceso == 'publico' || usuarioMiembro == true || usuarioSuperadministrador) &&\n          esteForo.id\n        \"\n        v-show=\"creandoConversacion\"\n      >\n        <center><h3>Creando conversación</h3></center>\n        <input\n          type=\"text\"\n          v-model=\"tituloNuevaConversacion\"\n          id=\"inputTituloNuevaConversacion\"\n          placeholder=\"Titulo de la nueva conversación\"\n          :class=\"{ letrasRojas: tituloNuevaConversacionIlegal }\"\n        />\n        <cuadro-responder\n          :idForo=\"esteForo.id\"\n          :parent=\"parent\"\n          :tituloNuevaConversacion=\"tituloNuevaConversacion\"\n          :class=\"{ deshabilitado: tituloNuevaConversacionIlegal }\"\n          @hiceConversacion=\"addConversacion($event)\"\n        />\n      </div>\n\n      <div class=\"zonaSelectorPagina\" v-if=\"numPaginas && !conversacionAbierta\">\n        <div\n          class=\"selectorPagina\"\n          v-for=\"index in numPaginas\"\n          :key=\"index\"\n          :class=\"{ selectorSeleccionado: index == numPaginaSeleccionada }\"\n          @click=\"numPaginaSeleccionada = index\"\n        >\n          {{ index }}\n        </div>\n      </div>\n      <div class=\"zonaPaginasConversaciones\" v-if=\"numPaginas\">\n        <div\n          class=\"paginaConversaciones\"\n          :key=\"index\"\n          v-for=\"index in numPaginas\"\n        ></div>\n        <conversacion\n          v-for=\"conversacion of conversacionesPorPagina[numPaginaSeleccionada]\"\n          :key=\"conversacion.id\"\n          :estaConversacion=\"conversacion\"\n          :seleccionado=\"idConversacionSeleccionada == conversacion.id\"\n          :usuarioMiembro=\"usuarioMiembro\"\n          :idForo=\"idForo\"\n          :parent=\"parent\"\n          v-show=\"\n            idConversacionSeleccionada == conversacion.id ||\n            !conversacionAbierta\n          \"\n          @click.native=\"idConversacionSeleccionada = conversacion.id\"\n          @meAbrieron=\"\n            setTodaConversacionLeida(conversacion.id)\n          \"\n          @meElimine=\"refreshPagina\"\n          @respuestaPublicada=\"\n            setTodaConversacionLeida(\n              conversacion.id,\n              conversacion.cantidadRespuestas\n            )\n          \"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n// import CreadorConversacion from \"./foros/CreadorConversacion.vue\";\nimport { fragmentoConversacion } from \"./utilidades/recursosGql\";\nimport Conversacion from \"./foros/Conversacion.vue\";\nimport CuadroResponder from \"./foros/CuadroResponder.vue\";\n\nconst charProhibidosTituloNuevaConversacion = /[^ a-zA-ZÀ-ž0-9_():.,-¡!¿?]/;\n\nconst QUERY_FORO = gql`\n  query($idForo: ID!) {\n    foro(idForo: $idForo) {\n      id\n      acceso\n      miembros\n    }\n  }\n`;\n\nconst QUERY_CONVERSACIONES_PAGINA = gql`\n  query($idForo: ID!, $pagina: Int!) {\n    conversacionesPaginaForo(idForo: $idForo, pagina: $pagina) {\n      pagina\n      numPaginas\n      conversaciones {\n        ...fragConversacion\n      }\n    }\n  }\n  ${fragmentoConversacion}\n`;\n\nexport default {\n  components: { Conversacion, CuadroResponder },\n  name: \"Foro\",\n  apollo: {\n    esteForo: {\n      query: QUERY_FORO,\n      variables() {\n        return {\n          idForo: this.idForo,\n        };\n      },\n      fetchPolicy: \"cache-and-network\",\n      update: (data) => {\n        return data.foro;\n      },\n      skip() {\n        return !this.idForo;\n      },\n    },\n    numPaginas: {\n      query: QUERY_CONVERSACIONES_PAGINA,\n      variables() {\n        return {\n          idForo: this.idForo,\n          pagina: this.numPaginaSeleccionada,\n        };\n      },\n      fetchPolicy: \"no-cache\",\n      skip() {\n        return !this.idForo;\n      },\n      update({\n        conversacionesPaginaForo: { conversaciones, pagina, numPaginas },\n      }) {\n        if (this.numPaginaSeleccionada != pagina) {\n          this.numPaginaSeleccionada = pagina;\n        }\n        this.$set(this.conversacionesPorPagina, pagina, conversaciones);\n        return numPaginas;\n      },\n    },\n  },\n  props: {\n    idForo: String,\n    parent: Object,\n  },\n  data() {\n    return {\n      esteForo: {\n        miembros: [],\n        conversaciones: [],\n      },\n      idConversacionSeleccionada: null,\n      creandoConversacion: false,\n      numPaginaSeleccionada: 0,\n      conversacionesPorPagina: {},\n\n      tituloNuevaConversacion: null,\n    };\n  },\n  methods: {\n    addConversacion(nuevaConversacion) {\n      this.creandoConversacion = false;\n      // var targetPagina = this.numPaginas;\n      // console.log(`Target página: ${targetPagina}`);\n      // if (\n      //   this.conversacionesPorPagina[targetPagina].length >= 6 ||\n      //   targetPagina < 1\n      // ) {\n      //   targetPagina++;\n      //   if (!this.conversacionesPorPagina[targetPagina]) {\n      //     this.$set(this.conversacionesPorPagina, targetPagina, []);\n      //   }\n      // }\n      // console.log(`Pushing en targetPagina ${targetPagina}`);\n      // this.conversacionesPorPagina[targetPagina].push(nuevaConversacion);\n      this.setTodaConversacionLeida(nuevaConversacion.id);\n\n      // if (this.numPaginaSeleccionada != targetPagina) {\n      //   this.numPaginaSeleccionada = targetPagina;\n      // }\n      this.tituloNuevaConversacion = null;\n      this.numPaginaSeleccionada=1;\n      this.$apollo.queries.numPaginas.refetch();\n\n\n    },\n    refreshPagina() {\n      //let store = this.$apollo.provider.defaultClient;\n      this.idConversacionSeleccionada = null;\n      this.$apollo.queries.numPaginas.refresh();\n    },    \n    setTodaConversacionLeida(idConversacion) {\n      if (!this.usuario || !this.usuario.id) {\n        return;\n      } else {\n        console.log(`Setting toda conversación leida`);\n\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation($idUsuario: ID!, $idForo: ID!, $idConversacion: ID!) {\n                setTodasRespuestasConversacionLeidasPorUsuario(\n                  idUsuario: $idUsuario\n                  idForo: $idForo\n                  idConversacion: $idConversacion\n                )\n              }\n            `,\n            variables: {\n              idUsuario: this.usuario.id,\n              idForo: this.idForo,\n              idConversacion,\n            },\n          })\n          .then(\n            ({ data: { setTodasRespuestasConversacionLeidasPorUsuario } }) => {\n              console.log(\n                `Resultado: ${setTodasRespuestasConversacionLeidasPorUsuario}`\n              );\n\n              this.$store.commit(\"setRespuestasLeidasConversacionUsuario\", {\n                idForo: this.idForo,\n                idConversacion,\n                respuestasLeidas: setTodasRespuestasConversacionLeidasPorUsuario,\n              });\n            }\n          )\n          .catch((error) => {\n            console.log(`Error. E: ${error}`);\n          });\n      }\n    },\n    setConversacionLeida(idConversacion, cantidadRespuestasLeidas) {\n      if (!this.usuario || !this.usuario.id) {\n        return;\n      } else {\n        console.log(`Setting conversación leida`);\n\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation(\n                $idUsuario: ID!\n                $idForo: ID!\n                $idConversacion: ID!\n                $cantidadRespuestasLeidas: Int!\n              ) {\n                setCantidadRespuestasConversacionLeidasPorUsuario(\n                  idUsuario: $idUsuario\n                  idForo: $idForo\n                  idConversacion: $idConversacion\n                  cantidadRespuestasLeidas: $cantidadRespuestasLeidas\n                )\n              }\n            `,\n            variables: {\n              idUsuario: this.usuario.id,\n              idForo: this.idForo,\n              idConversacion,\n              cantidadRespuestasLeidas: parseInt(cantidadRespuestasLeidas),\n            },\n          })\n          .then(\n            ({\n              data: { setCantidadRespuestasConversacionLeidasPorUsuario },\n            }) => {\n              console.log(\n                `Resultado: ${setCantidadRespuestasConversacionLeidasPorUsuario}`\n              );\n              if (setCantidadRespuestasConversacionLeidasPorUsuario) {\n                this.$store.commit(\"setRespuestasLeidasConversacionUsuario\", {\n                  idForo: this.idForo,\n                  idConversacion,\n                  respuestasLeidas: cantidadRespuestasLeidas,\n                });\n              }\n            }\n          )\n          .catch((error) => {\n            console.log(`Error. E: ${error}`);\n          });\n      }\n    },\n  },\n  computed: {\n    usuarioMiembro() {\n      if (this.esteForo.acceso == \"publico\") {\n        return true;\n      } else if (this.esteForo.acceso == \"privado\") {\n        if (this.esteForo.miembros.includes(this.$store.state.usuario.id)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    conversacionAbierta() {\n      return this.idConversacionSeleccionada;\n    },\n    tituloNuevaConversacionIlegal() {\n      if (\n        !this.tituloNuevaConversacion ||\n        this.tituloNuevaConversacion.length < 1\n      ) {\n        return true;\n      }\n      if (\n        charProhibidosTituloNuevaConversacion.test(this.tituloNuevaConversacion)\n      ) {\n        return true;\n      }\n      return false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.foro {\n  border: 2px solid white;\n  background-color: rgb(239 158 93);\n  margin: 0px auto;\n}\n#nombreForo {\n  text-align: center;\n  font-size: 22px;\n  margin-bottom: 20px;\n}\n\n.barraSuperiorForo {\n  display: grid;\n  grid-template-columns: 1fr 100px 1fr;\n}\n\n#bRegresarConversaciones {\n  padding: 15px 5px;\n  text-align: center;\n  cursor: pointer;\n  border-radius: 7px;\n  grid-column: 2/3;\n  justify-self: center;\n  align-self: center;\n  border: 1px solid black;\n  margin: 10px;\n  background-color: #f5a25f;\n}\n#bRegresarConversaciones:hover {\n  background-color: #f8cba6;\n}\n#controlesForo {\n  margin-left: auto;\n  display: flex;\n  flex-flow: row-reverse;\n  grid-column: 3/4;\n}\n.controlesForo {\n  margin-left: 10px;\n}\n.botonesControles {\n  padding: 3px 5px;\n  cursor: pointer;\n}\n.botonesControles:hover {\n  background-color: #f8cba6;\n}\n.zonaConversaciones {\n  padding-left: 0px;\n}\n\n.zonaSelectorPagina {\n  display: flex;\n  padding: 2px 10px;\n}\n.selectorPagina {\n  border: 1px solid black;\n  padding: 3px 5px;\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  background-color: #f7b57f;\n}\n\n.selectorPagina:hover {\n  background-color: #ffd0aa;\n}\n.selectorSeleccionado {\n  background-color: #ffd0aa;\n  pointer-events: none;\n  font-weight: bold;\n}\n#anuncio {\n  padding: 5px 5px;\n}\n#zonaCrearConversacion {\n  border: 2px solid cadetblue;\n  border-radius: 10px;\n  padding: 10px;\n  background-color: rgba(95, 158, 160, 0.329);\n}\n#inputTituloNuevaConversacion {\n  font-size: 20px;\n  padding: 3px 5px;\n  width: min(80%, 500px);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Foro.vue?vue&type=template&id=db0b9c9c&scoped=true&\"\nimport script from \"./Foro.vue?vue&type=script&lang=js&\"\nexport * from \"./Foro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Foro.vue?vue&type=style&index=0&id=db0b9c9c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"db0b9c9c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"libro\" @click=\"idPaginaSeleccionada = null\">\n    <div id=\"zonaTitulo\">\n      <div id=\"titulo\" v-show=\"!editandoTitulo\">\n        {{ libro.titulo }}\n      </div>\n      <input\n        type=\"text\"\n        id=\"inputNuevoTitulo\"\n        :class=\"{ letrasRojas: nuevoTituloIlegal }\"\n        v-model=\"nuevoTitulo\"\n        v-show=\"editandoTitulo\"\n        @keypress.enter=\"guardarNuevoTitulo\"\n      />\n      <div id=\"controlesTitulo\">\n        <img\n          src=\"@/assets/iconos/editar.png\"\n          alt=\"Editar\"\n          id=\"bEditarrTitulo\"\n          class=\"bEditarTitulo\"\n          title=\"Editar titulo del libro\"\n          @click.stop=\"toggleEditandoTitulo\"\n        />\n        <img\n          src=\"@/assets/iconos/guardar.png\"\n          alt=\"Guardar\"\n          title=\"guardar\"\n          class=\"bEditarTitulo\"\n          id=\"bGuardarNuevoTitulo\"\n          v-show=\"editandoTitulo == true && nuevoTituloIlegal == false\"\n          @click.stop=\"guardarNuevoTitulo\"\n        />\n      </div>\n    </div>\n\n    <img src=\"@/assets/iconos/loading.png\" alt=\"Cargando\" class=\"simboloLoading\" style=\"width:50px; margin: 30px auto; display: block\" v-show=\"$apollo.queries.libro.loading\">\n\n    <div id=\"contenedorPaginas\">\n      <pagina\n        v-for=\"(pagina, index) of paginasOrdenadas\"\n        :key=\"pagina.id\"\n        :paginaDerecha=\"index % 2 > 0 || index == 0\"\n        :estaPagina=\"pagina\"\n        :idLibro=\"idLibro\"\n        :seleccionada=\"idPaginaSeleccionada == pagina.id\"\n        :segundoPlano=\"\n          idPaginaSeleccionada != null && idPaginaSeleccionada != pagina.id\n        \"\n        @click.native.stop=\"usuarioEditor || usuarioSuperadministrador?idPaginaSeleccionada = pagina.id:null\"\n        @meElimine=\"removePaginaFromCache(pagina.id)\"\n        @tengoNuevoCuadroTexto=\"updateCacheConNuevoCuadroTexto($event, pagina.id)\"\n        @tengoNuevoCuadroImagen=\"updateCacheConNuevoCuadroImagen($event, pagina.id)\"\n        @elimineCuadroTexto=\"removeCuadroTextoFromCache($event, pagina.id)\"\n        @elimineCuadroImagen=\"removeCuadroImagenFromCache($event, pagina.id)\"\n      />\n    </div>\n\n    <div\n      id=\"bCrearNuevaPagina\"\n      @click.stop=\"crearNuevaPaginaLibro\"\n      :class=\"{ deshabilitado: creandoPagina }\"\n    >\n      Crear nueva página\n    </div>\n\n    <div id=\"zonaForos\">\n      <div class=\"tituloForo\">Foro de editores</div>\n      <foro v-if=\"libro.idForo\" :parent=\"infoAsParent\" :idForo=\"libro.idForo\"/>\n\n    </div>\n\n\n\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Pagina from \"./Pagina.vue\";\nimport Foro from './Foro.vue';\nconst charProhibidosTitulo = /[^ a-zA-ZÀ-ž0-9_():.,-¿?¡!]/;\n\nexport const fragmentoCuadroTexto = gql`\n  fragment fragCuadroTexto on CuadroTextoCuento {\n    id\n    texto\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n    formato {\n      fontSize\n      colorLetra\n      tipoLetra\n      alineacion\n    }\n  }\n`;\n\nexport const fragmentoCuadroImagen = gql`\n  fragment fragCuadroImagen on CuadroImagenCuento {\n    id\n    sinArchivo\n    tipoActivacionSecundario\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n  }\n`;\n\nconst fragmentoPagina = gql`\n  fragment fragPagina on PaginaCuento {\n    id    \n    numPag\n    color\n    cuadrosTexto {\n      ...fragCuadroTexto\n    }\n    cuadrosImagen {\n      ...fragCuadroImagen\n    }\n  }\n  ${fragmentoCuadroTexto}\n  ${fragmentoCuadroImagen}\n`;\n\nconst QUERY_LIBRO = gql`\n  query($idLibro: ID!) {\n    libro(idLibro: $idLibro) {\n      id\n      idsEditores\n      titulo\n      paginas {\n        ...fragPagina\n      },\n      idForo\n    }\n  }\n  ${fragmentoPagina}\n`;\n\nexport default {\n  components: { Pagina, Foro },\n  name: \"Libro\",\n  apollo: {\n    libro: {\n      query: QUERY_LIBRO,\n      variables() {\n        return {\n          idLibro: this.idLibro,\n        };\n      },      \n      skip() {\n        return this.idLibro == null;\n      },\n      fetchPolicy:\"cache-and-network\"\n    },\n  },\n  props: {\n    idLibro: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      libro: {\n        paginas: null,\n      },\n      idPaginaSeleccionada: null,\n\n      creandoPagina: false,\n\n      nuevoTitulo: null,\n      editandoTitulo: false,\n    };\n  },\n  computed: {\n    paginasOrdenadas() {\n      if (this.libro.paginas) {\n        var aPags = this.libro.paginas;\n        return aPags.sort((a, b) => {\n          return parseInt(a.numPag) - parseInt(b.numPag);\n        });\n      }\n      return [];\n    },\n    nuevoTituloIlegal() {\n      if (!this.nuevoTitulo || this.nuevoTitulo.length < 1) {\n        return true;\n      }\n      if (charProhibidosTitulo.test(this.nuevoTitulo)) {\n        return true;\n      }\n      return false;\n    },\n    infoAsParent() {\n      return {\n        id: this.idLibro,\n        tipo: \"libro\",\n        nombre: this.libro.titulo,\n      };\n    },\n    usuarioEditor(){\n      return this.libro.idsEditores.includes(this.usuario.id);\n    }\n  },\n  methods: {\n    toggleEditandoTitulo() {\n      this.editandoTitulo = !this.editandoTitulo;\n      this.nuevoTitulo = this.libro.titulo;\n    },\n    guardarNuevoTitulo() {\n      if (this.nuevoTituloIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoTitulo == this.libro.titulo) {\n        this.editandoTitulo = false;\n        return;\n      }\n      console.log(`guardando nuevo título`);\n      this.enviandoNuevoTitulo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $nuevoTitulo: String!) {\n              editarTituloLibro(idLibro: $idLibro, nuevoTitulo: $nuevoTitulo) {\n                id\n                titulo\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            nuevoTitulo: this.nuevoTitulo,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoTitulo = false;\n          this.editandoTitulo = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoTitulo = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    crearNuevaPaginaLibro() {\n      this.creandoPagina = true;\n      const dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!) {\n              crearNuevaPaginaLibro(idLibro: $idLibro) {\n                ...fragPagina\n              }\n            }\n            ${fragmentoPagina}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n          },\n        })\n        .then(({ data: { crearNuevaPaginaLibro } }) => {\n          var store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_LIBRO,\n            variables: { idLibro: dis.idLibro },\n          });\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          nuevoCache.libro.paginas.push(crearNuevaPaginaLibro);\n          store.writeQuery({\n            query: QUERY_LIBRO,\n            variables: { idLibro: dis.idLibro },\n            data: nuevoCache,\n          });\n          this.creandoPagina = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.creandoPagina = false;\n        });\n    },\n    removePaginaFromCache(idPagina) {\n      this.idPaginaSeleccionada=null;\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_LIBRO,\n        variables: { idLibro: this.idLibro },\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexP = nuevoCache.libro.paginas.findIndex(\n        (p) => p.id == idPagina\n      );\n      if (indexP > -1) {\n        nuevoCache.libro.paginas.splice(indexP, 1);\n\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables: { idLibro: this.idLibro },\n          data: nuevoCache,\n        });        \n      } else {\n        console.log(`La pagina no estaba en el caché`);\n      }\n    },\n    updateCacheConNuevoCuadroImagen(nuevoCuadroImagen, idPagina){\n      console.log(`Se actualizara el cache con info: ${nuevoCuadroImagen} en la pagina ${idPagina}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro}\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`Pagina no existía`);\n        return\n      }\n      if(laPagina.cuadrosImagen.some(c=>c==nuevoCuadroImagen.id)){\n        console.log(`Ese cuadro texto ya estaba incluido`);\n        return;\n      }\n      \n      laPagina.cuadrosImagen.push((nuevoCuadroImagen));\n\n      store.writeQuery({\n         query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},\n        data:nuevoCache\n      });\n\n    },\n    updateCacheConNuevoCuadroTexto(nuevoCuadroTexto, idPagina){\n      console.log(`Se actualizara el cache con info: ${nuevoCuadroTexto} en la pagina ${idPagina}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro}\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`Pagina no existía`);\n        return\n      }\n      if(laPagina.cuadrosTexto.some(c=>c==nuevoCuadroTexto.id)){\n        console.log(`Ese cuadro texto ya estaba incluido`);\n        return;\n      }\n      laPagina.cuadrosTexto.push(nuevoCuadroTexto);\n\n      store.writeQuery({\n         query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},\n        data:nuevoCache\n      })\n    },\n    removeCuadroTextoFromCache(idCuadroTexto, idPagina){\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query:QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},        \n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`No existía la pagina en el caché`);\n        return \n      }\n\n      const indexC=laPagina.cuadrosTexto.findIndex(c=>c.id==idCuadroTexto);\n      if(indexC>-1){\n        laPagina.cuadrosTexto.splice(indexC, 1);\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables:{idLibro:this.idLibro},\n          data: nuevoCache,\n        });\n      }\n      else{\n        console.log(`El cuadro texto no existía en el caché`);\n      }\n    },\n    removeCuadroImagenFromCache(idCuadroImagen, idPagina){\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query:QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},        \n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`No existía la pagina en el caché`);\n        return \n      }\n\n      const indexC=laPagina.cuadrosImagen.findIndex(c=>c.id==idCuadroImagen);\n      if(indexC>-1){\n        laPagina.cuadrosImagen.splice(indexC, 1);\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables:{idLibro:this.idLibro},\n          data: nuevoCache,\n        });\n      }\n      else{\n        console.log(`El cuadro texto no existía en el caché`);\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n.libro {\n  margin: 100px 100px;\n  border: 2px solid black;\n  padding-bottom: 80vh;\n}\n#zonaTitulo {\n  padding: 5px 10px;\n  text-align: center;\n  font-size: 22px;\n  border: 1px solid purple;\n  background-color: rgb(131 94 134);\n  margin: 10px auto;\n}\n#inputNuevoTitulo{\n  font-size: inherit;\n}\n\n.bEditarTitulo {\n  cursor: pointer;\n  border-radius: 50%;\n  width: 35px;\n  height: 35px;\n}\n.bEditarTitulo:hover {\n  background-color: rgba(128, 0, 128, 0.459);\n}\n\n#contenedorPaginas {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  row-gap: 20px;\n}\n#bCrearNuevaPagina {\n  padding: 5px;\n  border: 1px solid rgb(65, 0, 65);\n  background-color: rgba(182, 105, 182, 0.267);\n  cursor: pointer;\n  margin: 10px auto;\n  border-radius: 5px;\n  max-width: 200px;\n}\n\n#bCrearNuevaPagina:hover {\n  background-color: rgb(182, 105, 182);\n}\n\n.tituloForo{\n  font-size: 19px;\n  padding: 5px 10px;\n  background-color: cadetblue;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Libro.vue?vue&type=template&id=8f93a39c&scoped=true&\"\nimport script from \"./Libro.vue?vue&type=script&lang=js&\"\nexport * from \"./Libro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Libro.vue?vue&type=style&index=0&id=8f93a39c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f93a39c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"misLibros\"}},[_c('h4',{staticClass:\"tituloZona\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.desplegado = !_vm.desplegado}}},[_c('div',{staticClass:\"trianguloBullet\",style:({transform: _vm.desplegado?'rotateZ(90deg)':'rotateZ(0deg)'})}),_vm._v(\" Mis libros \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado),expression:\"desplegado\"}],attrs:{\"id\":\"controlesMisLibros\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.creandoNuevoLibro),expression:\"!creandoNuevoLibro\"}],staticClass:\"bControlMisLibros\",attrs:{\"src\":require(\"@/assets/iconos/libro.png\"),\"title\":\"Crear nuevo libro\"},on:{\"click\":_vm.crearNuevoLibro}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creandoNuevoLibro),expression:\"creandoNuevoLibro\"}],staticStyle:{\"width\":\"15px\"},attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\"}})]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado && _vm.$apollo.queries.misLibros.loading),expression:\"desplegado && $apollo.queries.misLibros.loading\"}],staticClass:\"simboloLoading\",staticStyle:{\"width\":\"20px\",\"margin\":\"10px auto\",\"display\":\"block\"},attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado),expression:\"desplegado\"}],attrs:{\"id\":\"listaMisLibros\"}},_vm._l((_vm.misLibros),function(portada){return _c('div',{key:portada.id,staticClass:\"portadaLibro\",on:{\"click\":function($event){return _vm.seleccionarLibro(portada.id)}}},[_c('div',{staticClass:\"nombreLibro\"},[_vm._v(\" \"+_vm._s(portada.titulo)+\" \")]),_c('div',{staticClass:\"controlesLibro\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar este libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarLibro(portada.id)}}}),_c('a',{attrs:{\"href\":_vm.URLLibrosolo + '?id=' + portada.id,\"target\":\"_blank\"}},[_c('img',{staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/libroAbierto.png\"),\"alt\":\"Libro\",\"title\":\"Ver libro\"}})]),_c('img',{staticClass:\"controlLibro\",style:({ backgroundColor: portada.publico ? 'green' : '' }),attrs:{\"src\":require(\"@/assets/iconos/share.png\"),\"alt\":\"Compartir\",\"title\":\"Compartir este libro en la sección de libros públicos\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setLibroPublico(portada.id, !portada.publico)}}})])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"misLibros\">\n    <h4\n      style=\"cursor: pointer\"\n      class=\"tituloZona\"\n      @click=\"desplegado = !desplegado\"\n    >\n     <div class=\"trianguloBullet\" :style=\"{transform: desplegado?'rotateZ(90deg)':'rotateZ(0deg)'}\"></div>\n      Mis libros\n    </h4>\n    <div id=\"controlesMisLibros\" v-show=\"desplegado\">\n      <img\n        src=\"@/assets/iconos/libro.png\"\n        class=\"bControlMisLibros\"\n        title=\"Crear nuevo libro\"\n        v-show=\"!creandoNuevoLibro\"\n        @click=\"crearNuevoLibro\"\n      />\n      <img src=\"@/assets/iconos/loading.png\" alt=\"Cargando\" style=\"width:15px\" v-show=\"creandoNuevoLibro\">\n    </div>\n    <img\n      src=\"@/assets/iconos/loading.png\"\n      alt=\"Cargando\"\n      class=\"simboloLoading\"\n      style=\"width: 20px; margin: 10px auto; display: block\"\n      v-show=\"desplegado && $apollo.queries.misLibros.loading\"\n    />\n\n    <div id=\"listaMisLibros\" v-show=\"desplegado\">\n      <div\n        class=\"portadaLibro\"\n        v-for=\"portada of misLibros\"\n        :key=\"portada.id\"\n        @click=\"seleccionarLibro(portada.id)\"\n      >\n        <div class=\"nombreLibro\">\n          {{ portada.titulo }}\n        </div>\n        <div class=\"controlesLibro\" @click.stop=\"\">\n          <img\n            src=\"@/assets/iconos/delete.png\"\n            alt=\"Eliminar\"\n            title=\"Eliminar este libro\"\n            class=\"controlLibro\"\n            v-show=\"usuarioSuperadministrador\"\n            @click.stop=\"eliminarLibro(portada.id)\"\n          />\n          <a :href=\"URLLibrosolo + '?id=' + portada.id\" target=\"_blank\">\n            <img\n              src=\"@/assets/iconos/libroAbierto.png\"\n              class=\"controlLibro\"\n              alt=\"Libro\"\n              title=\"Ver libro\"\n            />\n          </a>\n          <img\n            src=\"@/assets/iconos/share.png\"\n            alt=\"Compartir\"\n            title=\"Compartir este libro en la sección de libros públicos\"\n            class=\"controlLibro\"            \n            :style=\"{ backgroundColor: portada.publico ? 'green' : '' }\"\n            @click.stop=\"setLibroPublico(portada.id, !portada.publico)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\n\nconst QUERY_MIS_LIBROS = gql`\n  query {\n    misLibros {\n      id\n      titulo\n      publico\n      idsEditores\n    }\n  }\n`;\n\nexport default {\n  name: \"MisLibros\",\n  apollo: {\n    misLibros: {\n      query: QUERY_MIS_LIBROS,\n      skip() {\n        return this.usuario.id == null;\n      },\n    },\n  },\n  props: {\n    URLLibrosolo: String,\n  },\n  data() {\n    return {\n      desplegado: true,\n      creandoNuevoLibro:false,\n    };\n  },\n  methods: {\n    crearNuevoLibro() {\n      if (!confirm(\"¿Crear un nuevo libro?\")) return;\n      this.creandoNuevoLibro=true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation {\n              crearNuevoLibro {\n                id\n                titulo\n                publico\n                idsEditores\n              }\n            }\n          `,\n        })\n        .then(({ data: { crearNuevoLibro } }) => {\n          console.log(`Creado ${JSON.stringify(crearNuevoLibro)}`);\n          this.creandoNuevoLibro=false;\n          const store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_MIS_LIBROS,\n          });\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          if (!nuevoCache.misLibros.some((l) => l.id == crearNuevoLibro.id)) {\n            nuevoCache.misLibros.push(crearNuevoLibro);\n            store.writeQuery({\n              query: QUERY_MIS_LIBROS,\n              data: nuevoCache,\n            });\n          } else {\n            console.log(`El libro ya estaba incluido en el caché`);\n          }\n\n          this.seleccionarLibro(crearNuevoLibro.id)\n        });\n    },\n    removerLibroCache(idLibro) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_MIS_LIBROS,\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexL = nuevoCache.misLibros.findIndex((l) => l.id == idLibro);\n      if (indexL > -1) {\n        nuevoCache.misLibros.splice(indexL, 1);\n        store.writeQuery({\n          query: QUERY_MIS_LIBROS,\n          data: nuevoCache,\n        });\n      } else {\n        console.log(`Libro no estaba en caché`);\n      }\n    },\n    seleccionarLibro(idLibro) {\n      this.$emit(\"libroSeleccionado\", idLibro);\n    },\n    setLibroPublico(idLibro, nuevoEstado) {\n      console.log(`Settin estado público de ${idLibro} en ${nuevoEstado}`);\n      //De una vez se cambia en el caché\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_MIS_LIBROS,\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n      var laPortada = nuevoCache.misLibros.find((p) => p.id == idLibro);\n      if (!laPortada) {\n        console.log(`Libro no estaba en caché`);\n        return;\n      }\n      laPortada.publico = nuevoEstado;\n      store.writeQuery({\n        query: QUERY_MIS_LIBROS,\n        data: nuevoCache,\n      });\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $nuevoEstado: Boolean!) {\n              setLibroPublico(idLibro: $idLibro, nuevoEstado: $nuevoEstado)\n            }\n          `,\n          variables: {\n            idLibro,\n            nuevoEstado,\n          },\n        })\n        .then(({ data: { setLibroPublico } }) => {\n          if (setLibroPublico) {\n            const store = this.$apollo.provider.defaultClient;\n            const cache = store.readQuery({\n              query: QUERY_MIS_LIBROS,\n            });\n            var nuevoCache = JSON.parse(JSON.stringify(cache));\n            var laPortada = nuevoCache.misLibros.find((p) => p.id == idLibro);\n            if (!laPortada) {\n              console.log(`Libro no estaba en caché`);\n              return;\n            }\n            laPortada.publico = nuevoEstado;\n            store.writeQuery({\n              query: QUERY_MIS_LIBROS,\n              data: nuevoCache,\n            });\n\n            this.$emit(\"toggleLibroPublico\", {libro: this.misLibros.find(p=>p.id==idLibro), nuevoEstado})\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          const store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_MIS_LIBROS,\n          });\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          var laPortada = nuevoCache.misLibros.find((p) => p.id == idLibro);\n          if (!laPortada) {\n            console.log(`Libro no estaba en caché`);\n            return;\n          }\n          laPortada.publico = !nuevoEstado;\n          store.writeQuery({\n            query: QUERY_MIS_LIBROS,\n            data: nuevoCache,\n          });\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.bControlMisLibros {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 5px 10px;\n}\n.bControlMisLibros:hover {\n  background-color: rgb(241, 153, 241);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MisLibros.vue?vue&type=template&id=70d9f6b1&scoped=true&\"\nimport script from \"./MisLibros.vue?vue&type=script&lang=js&\"\nexport * from \"./MisLibros.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MisLibros.vue?vue&type=style&index=0&id=70d9f6b1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70d9f6b1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"todosLibros\"}},[_c('h4',{staticClass:\"tituloZona\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.desplegado = !_vm.desplegado}}},[_c('div',{staticClass:\"trianguloBullet\",style:({transform: _vm.desplegado?'rotateZ(90deg)':'rotateZ(0deg)'})}),_vm._v(\" Todos los libros \")]),_c('div',{attrs:{\"id\":\"controlesTodosLibros\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado && _vm.$apollo.queries.todosLibros.loading),expression:\"desplegado && $apollo.queries.todosLibros.loading\"}],staticClass:\"simboloLoading\",staticStyle:{\"width\":\"20px\",\"margin\":\"10px auto\",\"display\":\"block\"},attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado),expression:\"desplegado\"}],attrs:{\"id\":\"listaMisLibros\"}},_vm._l((_vm.librosPorAutor),function(listaLibros,idAutor){return _c('div',{key:idAutor,staticClass:\"bloqueAutor\"},[(idAutor!='sinAutor')?_c('icono-persona-autonomo',{attrs:{\"idPersona\":idAutor}}):_vm._e(),_c('br'),_c('br'),_c('br'),_c('div',{staticClass:\"listaLibros\"},_vm._l((listaLibros),function(portada){return _c('div',{key:portada.id,staticClass:\"portadaLibro\",class:{ seleccionado: _vm.idLibroSeleccionado == portada.id },on:{\"click\":function($event){return _vm.seleccionarLibro(portada.id)}}},[_c('div',{staticClass:\"bulletPortada\"}),_c('div',{staticClass:\"nombreLibro\"},[_vm._v(\" \"+_vm._s(portada.titulo)+\" \")]),_c('div',{staticClass:\"controlesLibro\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar este libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarLibro(portada.id)}}}),_c('a',{attrs:{\"href\":_vm.URLLibrosolo + '?id=' + portada.id,\"target\":\"_blank\"}},[_c('img',{staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/libroAbierto.png\"),\"alt\":\"Libro\",\"title\":\"Ver libro\"}})])])])}),0)],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoPersonaAutonomo\",class:{ yo: _vm.soyYo, seleccionado: _vm.seleccionado }},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fotografiaEnabled),expression:\"fotografiaEnabled\"}],staticClass:\"fotografia\",attrs:{\"src\":this.serverUrl + '/api/usuarios/fotografias/' + _vm.idPersona,\"alt\":\"\"},on:{\"load\":function($event){_vm.fotografiaEnabled = true}}}),_c('div',{attrs:{\"id\":\"contenedorAlertas\"}},[_vm._t(\"alertas\")],2),_c('div',{staticClass:\"nombres\",class:{ nombreSeleccionado: _vm.seleccionado }},[_vm._v(\" \"+_vm._s(_vm.estaPersona.nombres)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuContextual),expression:\"menuContextual\"}],attrs:{\"id\":\"menuCxPersona\"}},[_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.copiarId($event)}}},[_vm._v(_vm._s(_vm.idPersona))]),(_vm.usuarioSuperadministrador)?_c('div',{staticClass:\"botonMenuCx\"},[_vm._v(\" \"+_vm._s(_vm.estaPersona.username)+\" \")]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoPermiso),expression:\"nuevoPermiso\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Nuevo permiso\"},domProps:{\"value\":(_vm.nuevoPermiso)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoPermiso=$event.target.value}}}),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addPermisos($event)}}},[_vm._v(\"Dar permiso\")]),_vm._l((_vm.opcionesMenuCx),function(opcionCx,index){return _c('div',{key:index,staticClass:\"botonMenuCx\",on:{\"click\":function($event){return _vm.$emit(opcionCx.evento)}}},[_vm._v(\" \"+_vm._s(opcionCx.textoVisible)+\" \")])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"iconoPersonaAutonomo\"\n    :class=\"{ yo: soyYo, seleccionado: seleccionado }\"\n  >\n    <img\n      class=\"fotografia\"\n      :src=\"this.serverUrl + '/api/usuarios/fotografias/' + idPersona\"\n      v-show=\"fotografiaEnabled\"\n      @load=\"fotografiaEnabled = true\"\n      alt=\"\"\n    />\n    <div id=\"contenedorAlertas\">\n      <slot name=\"alertas\"></slot>\n    </div>\n    <div class=\"nombres\" :class=\"{ nombreSeleccionado: seleccionado }\">\n      {{ estaPersona.nombres }}\n    </div>\n    <div id=\"menuCxPersona\" v-show=\"menuContextual\">\n      <div class=\"botonMenuCx\" @click.stop=\"copiarId\">{{ idPersona }}</div>\n      <div class=\"botonMenuCx\" v-if=\"usuarioSuperadministrador\">\n        {{ estaPersona.username }}\n      </div>\n      <input type=\"text\" v-model=\"nuevoPermiso\" placeholder=\"Nuevo permiso\" />\n      <div class=\"botonMenuCx\" @click.stop=\"addPermisos\">Dar permiso</div>\n      <div\n        class=\"botonMenuCx\"\n        :key=\"index\"\n        v-for=\"(opcionCx, index) of opcionesMenuCx\"\n        @click=\"$emit(opcionCx.evento)\"\n      >\n        {{ opcionCx.textoVisible }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n\nconst QUERY_PERSONA = gql`\n  query($idUsuario: ID!) {\n    Usuario(idUsuario: $idUsuario) {\n      id\n      nombres\n      apellidos\n      username\n    }\n  }\n`;\n\nexport default {\n  name: \"IconoPersonaAutonomo\",\n  apollo: {\n    estaPersona: {\n      query: QUERY_PERSONA,\n      variables() {\n        return {\n          idUsuario: this.idPersona,\n        };\n      },\n      update({ Usuario }) {\n        return Usuario;\n      },\n      skip() {\n        return !this.idPersona;\n      },\n    },\n  },\n  data() {\n    return {\n      estaPersona: {\n        permisos: [],\n      },\n      nuevoPermiso: null,\n      mounted: false,\n      fotografiaEnabled: false,\n    };\n  },\n  props: {\n    idPersona: String,\n    seleccionado: Boolean,\n    menuContextual: Boolean,\n    opcionesMenuCx: {\n      type: Array,\n    },\n  },\n  computed: {\n    soyYo() {\n      if (this.mounted && this.idPersona && this.$store.state.usuario) {\n        return this.$store.state.usuario.id == this.idPersona ? true : false;\n      }\n      return false;\n    },\n  },\n  methods: {\n    addPermisos() {\n      console.log(\n        `enviando ${this.nuevoPermiso} para el usuario con id ${this.idPersona}`\n      );\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($nuevoPermiso: String!, $idUsuario: ID!) {\n              addPermisoUsuario(\n                nuevoPermiso: $nuevoPermiso\n                idUsuario: $idUsuario\n              ) {\n                id\n                permisos\n              }\n            }\n          `,\n          variables: {\n            nuevoPermiso: this.nuevoPermiso,\n            idUsuario: this.idPersona,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    copiarId(e) {\n      let str = e.target.innerText.trim();\n      const el = document.createElement(\"textarea\");\n      el.value = str;\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(el);\n    },\n    fotografiaCargada() {\n      console.log(`Fotografía cargada`);\n    },\n  },\n  mounted() {\n    this.mounted = true;\n  },\n  beforeRouteUpdate() {\n    console.log(`Before update`);\n  },\n};\n</script>\n\n<style scoped>\n.iconoPersonaAutonomo {\n  cursor: pointer;\n  position: relative;\n  border-radius: 50%;\n  user-select: none;\n  width: 70px;\n  height: 70px;\n  border: 1px solid transparent;\n}\n.iconoPersonaAutonomo:hover {\n  border-color: purple;\n}\n\n.fotografia {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  position: absolute;\n  pointer-events: none;\n}\n.seleccionado {\n  border-color: purple;\n}\n#contenedorAlertas {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n.yo {\n  border: 1px solid purple;\n}\n\n.nombres {\n  background-color: rgb(243, 216, 204);\n  font-size: 14px;\n  position: absolute;\n  top: 105%;\n  left: 50%;\n  transform: translateX(-50%);\n  text-align: center;\n  border: 1px solid rgb(105, 24, 24);\n  padding: 3px 5px;\n  border-radius: 5px;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.nombreSeleccionado {\n  background-color: rgb(241, 175, 147);\n}\n\n.botonMenuCx {\n  cursor: pointer;\n  font-size: 14px;\n  padding: 3px 7px;\n}\n.seccionMenuCx {\n  font-size: 15px;\n  color: rgb(71, 71, 71);\n}\n.infoMenuCx {\n  font-size: 15px;\n  color: rgb(107, 107, 107);\n}\n.botonMenuCx:hover {\n  background-color: gray;\n}\n#menuCxPersona {\n  position: absolute;\n  top: 110%;\n  left: 110%;\n  min-width: 140px;\n\n  z-index: 10;\n  background-color: rgb(177, 177, 159);\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoPersonaAutonomo.vue?vue&type=template&id=bd4dc75c&scoped=true&\"\nimport script from \"./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoPersonaAutonomo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoPersonaAutonomo.vue?vue&type=style&index=0&id=bd4dc75c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd4dc75c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"todosLibros\">\n    <h4\n      style=\"cursor: pointer\"\n      class=\"tituloZona\"\n      @click=\"desplegado = !desplegado\"\n    >\n     <div class=\"trianguloBullet\" :style=\"{transform: desplegado?'rotateZ(90deg)':'rotateZ(0deg)'}\"></div>\n      Todos los libros\n    </h4>\n    <div id=\"controlesTodosLibros\"></div>\n\n    <img\n      src=\"@/assets/iconos/loading.png\"\n      alt=\"Cargando\"\n      class=\"simboloLoading\"\n      style=\"width: 20px; margin: 10px auto; display: block\"\n      v-show=\"desplegado && $apollo.queries.todosLibros.loading\"\n    />\n\n    <div id=\"listaMisLibros\" v-show=\"desplegado\">\n      <div\n        class=\"bloqueAutor\"\n        v-for=\"(listaLibros, idAutor) of librosPorAutor\"\n        :key=\"idAutor\"\n      >\n        <icono-persona-autonomo :idPersona=\"idAutor\" v-if=\"idAutor!='sinAutor'\"/>\n        <br />\n        <br />\n        <br />\n        <div class=\"listaLibros\">\n          <div\n            class=\"portadaLibro\"\n            v-for=\"portada of listaLibros\"\n            :key=\"portada.id\"\n            @click=\"seleccionarLibro(portada.id)\"\n            :class=\"{ seleccionado: idLibroSeleccionado == portada.id }\"\n          >\n            <div class=\"bulletPortada\"></div>\n\n            <div class=\"nombreLibro\">\n              {{ portada.titulo }}\n            </div>\n            <div class=\"controlesLibro\" @click.stop=\"\">\n              <img\n                src=\"@/assets/iconos/delete.png\"\n                alt=\"Eliminar\"\n                title=\"Eliminar este libro\"\n                class=\"controlLibro\"\n                v-show=\"usuarioSuperadministrador\"\n                @click.stop=\"eliminarLibro(portada.id)\"\n              />\n              <a\n                :href=\"URLLibrosolo + '?id=' + portada.id\"\n                target=\"_blank\"                \n              >\n                <img\n                  src=\"@/assets/iconos/libroAbierto.png\"\n                  class=\"controlLibro\"\n                  alt=\"Libro\"\n                  title=\"Ver libro\"\n                />\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport IconoPersonaAutonomo from \"./IconoPersonaAutonomo.vue\";\n\nconst QUERY_TODOS_LIBROS = gql`\n  query {\n    todosLibros {\n      id\n      titulo\n      idsEditores\n    }\n  }\n`;\n\nexport default {\n  components: { IconoPersonaAutonomo },\n  name: \"TodosLibros\",\n  apollo: {\n    todosLibros: {\n      query: QUERY_TODOS_LIBROS,\n      skip() {\n        return !this.usuarioSuperadministrador;\n      },\n    },\n  },\n  props: {\n    idLibroSeleccionado: String,\n    URLLibrosolo: String,\n  },\n  data() {\n    return {\n      desplegado: false,\n    };\n  },\n  methods: {\n    seleccionarLibro(idLibro) {\n      this.$emit(\"libroSeleccionado\", idLibro);\n    },\n    removerLibroCache(idLibro) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_TODOS_LIBROS,\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexL = nuevoCache.todosLibros.findIndex((l) => l.id == idLibro);\n      if (indexL > -1) {\n        nuevoCache.todosLibros.splice(indexL, 1);\n        store.writeQuery({\n          query: QUERY_TODOS_LIBROS,\n          data: nuevoCache,\n        });\n      } else {\n        console.log(`Libro no estaba en caché`);\n      }\n    },\n    eliminarLibro(idLibro) {\n      if (!confirm(\"Eliminando un libro. ¿Continuar?\")) return;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!) {\n              eliminarLibro(idLibro: $idLibro)\n            }\n          `,\n          variables: {\n            idLibro,\n          },\n        })\n        .then(({ data: { eliminarLibro } }) => {\n          if (eliminarLibro) {\n            this.$emit(\"elimineUnLibro\", idLibro);\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    \n  },\n  computed: {\n    usuarioSuperadministrador() {\n      if (!this.usuario || !this.usuario.permisos) {\n        console.log(\n          `Datos insuficientes para decidir si usuario es súperadministrador`\n        );\n        return false;\n      }\n\n      return this.usuario.permisos.includes(\"superadministrador\");\n    },\n    librosPorAutor() {\n      var objetoFinal = {\n        sinAutor:[]\n      };\n      if (!this.todosLibros) {\n        return objetoFinal;\n      }\n      this.todosLibros.forEach((libro) => {  \n        if(libro.idsEditores.length<1){\n          objetoFinal.sinAutor.push(libro);\n        }      \n        else{\n          let idAutor = libro.idsEditores[0];\n          if (!objetoFinal[idAutor]) {\n            objetoFinal[idAutor] = [libro];\n          } else {\n            objetoFinal[idAutor].push(libro);\n          }\n        }\n        \n      });\n      return objetoFinal;\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TodosLibros.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TodosLibros.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TodosLibros.vue?vue&type=template&id=f566f6ce&scoped=true&\"\nimport script from \"./TodosLibros.vue?vue&type=script&lang=js&\"\nexport * from \"./TodosLibros.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f566f6ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"librosPublicos\"}},[_c('h4',{staticClass:\"tituloZona\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.desplegado = !_vm.desplegado}}},[_c('div',{staticClass:\"trianguloBullet\",style:({ transform: _vm.desplegado ? 'rotateZ(90deg)' : 'rotateZ(0deg)' })}),_vm._v(\" Libros publicos \")]),_c('div',{attrs:{\"id\":\"controlesLibrosPublicos\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado && _vm.$apollo.queries.librosPublicos.loading),expression:\"desplegado && $apollo.queries.librosPublicos.loading\"}],staticClass:\"simboloLoading\",staticStyle:{\"width\":\"20px\",\"margin\":\"10px auto\",\"display\":\"block\"},attrs:{\"src\":require(\"@/assets/iconos/loading.png\"),\"alt\":\"Cargando\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.desplegado),expression:\"desplegado\"}],attrs:{\"id\":\"listaLibrosPublicos\"}},_vm._l((_vm.librosPorAutor),function(listaLibros,idAutor){return _c('div',{key:idAutor,staticClass:\"bloqueAutor\"},[_c('icono-persona-autonomo',{attrs:{\"idPersona\":idAutor}}),_c('br'),_c('br'),_c('br'),_c('div',{staticClass:\"listaLibros\"},_vm._l((listaLibros),function(portada){return _c('div',{key:portada.id,staticClass:\"portadaLibro\",class:{ seleccionado: _vm.idLibroSeleccionado == portada.id },on:{\"click\":function($event){return _vm.seleccionarLibro(portada.id)}}},[_c('div',{staticClass:\"nombreLibro\"},[_vm._v(\" \"+_vm._s(portada.titulo)+\" \")]),_c('div',{staticClass:\"controlesLibro\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.usuarioSuperadministrador),expression:\"usuarioSuperadministrador\"}],staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar este libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarLibro(portada.id)}}}),_c('a',{attrs:{\"href\":_vm.URLLibrosolo + '?id=' + portada.id,\"target\":\"_blank\"}},[_c('img',{staticClass:\"controlLibro\",attrs:{\"src\":require(\"@/assets/iconos/libroAbierto.png\"),\"alt\":\"Libro\",\"title\":\"Ver libro\"}})])])])}),0)],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"librosPublicos\">\n    <h4\n      style=\"cursor: pointer\"\n      class=\"tituloZona\"\n      @click=\"desplegado = !desplegado\"\n    >\n      <div\n        class=\"trianguloBullet\"\n        :style=\"{ transform: desplegado ? 'rotateZ(90deg)' : 'rotateZ(0deg)' }\"\n      ></div>\n      Libros publicos\n    </h4>\n    <div id=\"controlesLibrosPublicos\"></div>\n    <img\n      src=\"@/assets/iconos/loading.png\"\n      alt=\"Cargando\"\n      class=\"simboloLoading\"\n      style=\"width: 20px; margin: 10px auto; display: block\"\n      v-show=\"desplegado && $apollo.queries.librosPublicos.loading\"\n    />\n\n    <div id=\"listaLibrosPublicos\" v-show=\"desplegado\">\n      <div\n        class=\"bloqueAutor\"\n        v-for=\"(listaLibros, idAutor) of librosPorAutor\"\n        :key=\"idAutor\"\n      >\n        <icono-persona-autonomo :idPersona=\"idAutor\" />\n        <br />\n        <br />\n        <br />\n        <div class=\"listaLibros\">\n          <div\n            class=\"portadaLibro\"\n            v-for=\"portada of listaLibros\"\n            :key=\"portada.id\"\n            @click=\"seleccionarLibro(portada.id)\"\n            :class=\"{ seleccionado: idLibroSeleccionado == portada.id }\"\n          >\n            <div class=\"nombreLibro\">\n              {{ portada.titulo }}\n            </div>\n            <div class=\"controlesLibro\" @click.stop=\"\">\n              <img\n                src=\"@/assets/iconos/delete.png\"\n                alt=\"Eliminar\"\n                title=\"Eliminar este libro\"\n                class=\"controlLibro\"\n                v-show=\"usuarioSuperadministrador\"\n                @click.stop=\"eliminarLibro(portada.id)\"\n              />\n              <a :href=\"URLLibrosolo + '?id=' + portada.id\" target=\"_blank\">\n                <img\n                  src=\"@/assets/iconos/libroAbierto.png\"\n                  class=\"controlLibro\"\n                  alt=\"Libro\"\n                  title=\"Ver libro\"\n                />\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport IconoPersonaAutonomo from \"./IconoPersonaAutonomo.vue\";\n\nconst QUERY_LIBROS_PUBLICOS = gql`\n  query {\n    librosPublicos {\n      id\n      titulo\n      idsEditores\n    }\n  }\n`;\n\nexport default {\n  components: { IconoPersonaAutonomo },\n  name: \"LibrosPublicos\",\n  apollo: {\n    librosPublicos: {\n      query: QUERY_LIBROS_PUBLICOS,\n      skip() {\n        return !this.usuarioLogeado;\n      },\n    },\n  },\n  props: {\n    idLibroSeleccionado: String,\n    URLLibrosolo: String,\n  },\n  data() {\n    return {\n      desplegado: false,\n    };\n  },\n  methods: {\n    seleccionarLibro(idLibro) {\n      this.$emit(\"libroSeleccionado\", idLibro);\n    },\n    removerLibroCache(idLibro) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_LIBROS_PUBLICOS,\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexL = nuevoCache.librosPublicos.findIndex(\n        (l) => l.id == idLibro\n      );\n      if (indexL > -1) {\n        nuevoCache.librosPublicos.splice(indexL, 1);\n        store.writeQuery({\n          query: QUERY_LIBROS_PUBLICOS,\n          data: nuevoCache,\n        });\n      } else {\n        console.log(`Libro no estaba en caché`);\n      }\n    },\n    eliminarLibro(idLibro) {\n      if (!confirm(\"Eliminando un libro. ¿Continuar?\")) return;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!) {\n              eliminarLibro(idLibro: $idLibro)\n            }\n          `,\n          variables: {\n            idLibro,\n          },\n        })\n        .then(({ data: { eliminarLibro } }) => {\n          if (eliminarLibro) {\n            this.$emit(\"elimineUnLibro\", idLibro);\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n        });\n    },\n    toggleLibro({libro, nuevoEstado}){\n      const publico=nuevoEstado;\n      console.log(`Toggling libro en la lista de libros publicos. Estado: ${publico}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBROS_PUBLICOS\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      if(publico){          \n        if(!nuevoCache.librosPublicos.some(p=>p.id==libro.id)){\n          console.log(`Pushing libro a la lista de libros públicos`);\n          nuevoCache.librosPublicos.push(libro);\n          store.writeQuery({\n            query:QUERY_LIBROS_PUBLICOS,\n            data:nuevoCache\n          });\n        }\n        else{\n          console.log(`El libro ya estaba en la lista de libros públicos`);\n        }\n      }\n      else{\n        const indexP=nuevoCache.librosPublicos.findIndex(p=>p.id==libro.id)\n        if(indexP>-1){\n          nuevoCache.librosPublicos.splice(indexP, 1);\n          store.writeQuery({\n            query:QUERY_LIBROS_PUBLICOS,\n            data:nuevoCache\n          });\n        }\n      }\n    }\n  },\n  computed: {\n    usuarioSuperadministrador() {\n      if (!this.usuario || !this.usuario.permisos) {\n        console.log(\n          `Datos insuficientes para decidir si usuario es súperadministrador`\n        );\n        return false;\n      }\n      return this.usuario.permisos.includes(\"superadministrador\");\n    },\n    librosPorAutor() {\n      var objetoFinal = {};\n      if (!this.librosPublicos) {\n        return objetoFinal;\n      }\n      this.librosPublicos.forEach((libro) => {\n        let idAutor = libro.idsEditores[0];\n        if (!objetoFinal[idAutor]) {\n          objetoFinal[idAutor] = [libro];\n        } else {\n          objetoFinal[idAutor].push(libro);\n        }\n      });\n      return objetoFinal;\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibrosPublicos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibrosPublicos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LibrosPublicos.vue?vue&type=template&id=21df8fb8&scoped=true&\"\nimport script from \"./LibrosPublicos.vue?vue&type=script&lang=js&\"\nexport * from \"./LibrosPublicos.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21df8fb8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <center><h2>Taller de creación de cuentos</h2></center>\n    <todos-libros\n      ref=\"todosLibros\"\n      class=\"bloqueListaLibros\"\n      v-if=\"usuarioSuperadministrador\"\n      :URLLibrosolo=\"URLLibrosolo\"\n      @elimineUnLibro=\"removerLibroCache\"\n      @libroSeleccionado=\"seleccionarLibro\"\n      :idLibroSeleccionado=\"idLibroSeleccionado\"\n    />\n    <libros-publicos\n      ref=\"librosPublicos\"\n      v-if=\"usuarioLogeado\"\n      class=\"bloqueListaLibros\"\n      :URLLibrosolo=\"URLLibrosolo\"\n      @elimineUnLibro=\"removerLibroCache\"\n      @libroSeleccionado=\"seleccionarLibro\"\n      :idLibroSeleccionado=\"idLibroSeleccionado\"\n    />\n    <mis-libros\n      :URLLibrosolo=\"URLLibrosolo\"\n      class=\"bloqueListaLibros\"\n      @libroSeleccionado=\"seleccionarLibro\"\n      @toggleLibroPublico=\"$refs.librosPublicos.toggleLibro($event)\"\n      ref=\"misLibros\"\n    />\n\n    <libro\n      :idLibro=\"idLibroSeleccionado\"\n      v-if=\"idLibroSeleccionado != null\"\n      ref=\"elLibro\"\n      :key=\"idLibroSeleccionado\"\n    />\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport Libro from \"./components/Libro.vue\";\nimport MisLibros from \"./components/MisLibros.vue\";\nimport TodosLibros from \"./components/TodosLibros.vue\";\nimport LibrosPublicos from \"./components/LibrosPublicos.vue\";\n\nexport const QUERY_YO = gql`\n  query {\n    yo {\n      id\n      nombres\n      apellidos\n      permisos\n      foros {\n        idForo\n        conversaciones {\n          idConversacion\n          respuestasLeidas\n        }\n      }\n    }\n  }\n`;\n\nexport default {\n  name: \"App\",\n  components: {\n    Libro,\n    MisLibros,\n    TodosLibros,\n    LibrosPublicos,\n  },\n  apollo: {\n    yo: {\n      query: QUERY_YO,\n      fetchPolicy: \"network-only\",\n      update({ yo }) {\n        this.$store.commit(\"setInfoForosUsuario\", yo.foros);\n        return yo;\n      },\n      skip() {\n        return !this.usuarioLogeado;\n      },\n    },\n  },\n  data() {\n    return {\n      idLibroSeleccionado: null,\n    };\n  },\n  methods: {\n    seleccionarLibro(idLibro) {\n      this.idLibroSeleccionado = idLibro;\n      this.$nextTick(function () {\n        this.$refs.elLibro.$el.scrollIntoView({ behavior: \"smooth\" });\n      });\n    },\n    removerLibroCache(idLibro) {\n      this.$refs.misLibros.removerLibroCache(idLibro);\n      this.$refs.librosPublicos.removerLibroCache(idLibro);\n      this.$refs.todosLibros.removerLibroCache(idLibro);\n    },\n  },\n  computed: {\n    usuarioSuperadministrador() {\n      if (\n        this.usuario &&\n        this.usuario.id &&\n        this.usuario.permisos.includes(\"superadministrador\")\n      ) {\n        return true;\n      }\n      return false;\n\n      // if (!this.usuario || !this.usuario.permisos) {\n      //   console.log(\n      //     `Datos insuficientes para decidir si usuario es súperadministrador`\n      //   );\n      //   return false;\n      // }\n      // console.log(`Usuario tiene permisos: ${this.usuario.permisos}`);\n      // return this.usuario.permisos.includes(\"superadministrador\");\n    },\n    URLLibrosolo() {\n      return process.env.NODE_ENV === \"production\"\n        ? \"https://pe-pe-pe.herokuapp.com/libro\"\n        : \"http://localhost:8082\";\n    },\n  },\n  mounted() {\n    let uri = window.location.search.substring(1);\n    let params = new URLSearchParams(uri);\n\n    this.idLibro = params.get(\"id\");\n    const token = params.get(\"t\");\n\n    if (token && token.length > 10) {\n      this.$store.commit(\"setToken\", token);\n      this.$store.commit(\"setUserInfo\", token);\n\n      localStorage.setItem(\"token\", token);\n    } else {\n      this.$store.commit(\"deslogearse\");\n      localStorage.clear();\n    }\n    //Seleccionar libro by URL\n\n    const idLibroURL = params.get(\"l\");\n    if (idLibroURL) {\n      this.idLibroSeleccionado = idLibroURL;\n      this.$nextTick(function () {\n        this.$refs.elLibro.$el.scrollIntoView({ behavior: \"smooth\" });\n      });\n    }\n  },\n};\n</script>\n\n<style scoped>\nbody {\n  background-color: rgb(228 227 227);\n}\n.letrasRojas {\n  color: red;\n}\n.deshabilitado {\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n</style>\n\n<style>\n\n.bloqueListaLibros{\n  background-color: #ceccdc;\n  border: 2px solid purple;\n  border-radius: 6px;\n}\n.trianguloBullet{\n  \n  border:10px solid transparent;\n  border-left: 10px solid black;\n  \n  display: inline-block;\n  margin-right: 20px;\n  transform-origin: left center;\n  transition: transform 0.2s;\n}\n.tituloZona{\n  padding-left:15px ;\n}\n.boton {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  flex-shrink: 0;\n}\n.boton img {\n  height: 100%;\n}\n.boton svg {\n  height: 100%;\n}\n.portadaLibro {\n  padding: 5px 10px;\n  font-size: inherit;\n  cursor: pointer;\n  padding-bottom: 20px;\n  display: grid;\n  grid-template-columns: 20px 200px 1fr 200px;\n  grid-template-areas: \"bullet nombre ... controles\";\n  background-color:rgb(128 128 128 / 11%)\n\n}\n.portadaLibro:hover {\n  background-color: rgba(128, 0, 128, 0.233);\n}\n.bulletPortada{\n  width: 10px;\n  height: 10px;\n  background-color: purple;\n  border-radius: 50%;\n  justify-self: center;\n  align-self: center;  \n}\n.nombreLibro{\n  align-self: center;\n}\n\n.seleccionado {\n  background-color: rgba(128, 0, 128, 0.233);\n}\n\n.nombreLibro {\n  grid-area: nombre;\n}\n\n.controlesLibro {\n  grid-area: controles;\n  visibility: hidden;\n  align-self: center;\n}\n\n.portadaLibro:hover > .controlesLibro {\n  visibility: visible;\n}\n.controlLibro {\n  width: 29px;\n  float: right;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 0px 10px;\n}\n.controlLibro:hover {\n  background-color: gray;\n}\n\n.bloqueAutor {\n  padding: 20px 0px;\n  margin: 20px 0px;\n  background-color: rgb(128 128 128 / 11%);  \n  \n}\n\n.iconoPersonaAutonomo {\n  margin: 5px 25px;\n}\n\n.simboloLoading{\nanimation: girar 1.5s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  pointer-events: none;\n  user-select: none;\n}\n\n@keyframes girar{\n  0%{transform: rotateZ(0deg);}\n  100%{transform: rotateZ(360deg);}\n}\n\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=993e192c&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=993e192c&scoped=true&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"993e192c\",\n  null\n  \n)\n\nexport default component.exports","import gql from \"graphql-tag\"\n\n\n/*\nexport const typeDefs=gql`\n    type usuario{\n        username: String,\n    }\n`;\n*/\n\n\nexport const typeDefs = gql`\n    \n    enum TiposUsuario{\n        USUARIO,\n        ADMINISTRADOR,\n        SUPERADMINSTRADOR\n    }\n    \n    type Usuario{\n        username:String,\n        permisos: TiposUsuario\n     }\n\n    type Mutations{ \n        setUsuario(username: String, permisos: TiposUsuario):Usuario\n    }\n`;\n\n\n\nexport const resolvers={}\n\n\n","import { ApolloClient } from \"apollo-client\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { createHttpLink } from \"apollo-link-http\"\nimport VueApollo from \"vue-apollo\";\nimport { typeDefs, resolvers } from \"./apolloStore/Schema\"\nimport { split } from \"apollo-link\"\nimport { WebSocketLink } from \"apollo-link-ws\"\nimport { getMainDefinition } from \"apollo-utilities\"\nimport { setContext } from \"apollo-link-context\"\nimport Vue from 'vue'\nimport { onError } from '@apollo/client/link/error'\n\n\nVue.use(VueApollo);\n\nconst cache = new InMemoryCache();\n\n\nlet getToken = () => localStorage.getItem('token');\n\n\nexport const serverUrl = process.env.NODE_ENV === 'production'\n  ? 'https://pe-pe-pe.herokuapp.com'\n  : 'http://localhost:3000'\n\nexport const wsServerUrl = process.env.NODE_ENV === 'production'\n  ? 'wss://' + serverUrl.substr(7) + '/subscripciones'\n  : 'ws://' + serverUrl.substr(7) + '/subscripciones'\n\n//console.log(`Server url: ${serverUrl}`);\n\n\nconst httpLink = createHttpLink({\n  uri: serverUrl + \"/graphql\"\n});\n\n//console.log(`Direccion subscripciones ${wsServerUrl}`);\n\nconst wsLink = new WebSocketLink({\n  uri: wsServerUrl,\n  options: {\n    reconnect: true,\n    connectionParams: {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    }\n  },\n})\n\nconst authLink = setContext((_, { headers }) => {\n\n  return {\n    headers: {\n      ...headers,\n      authorization: getToken()\n    }\n  }\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (graphQLErrors)\n      graphQLErrors.map(({ message, locations, path }) =>\n        console.log(\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n        ),\n      )\n\n    if (networkError) console.log(`[Network error]: ${networkError}`)\n  }\n\n})\n\nconst link = errorLink.concat(authLink).concat(httpLink);\n\n\nconst finalLink = split(\n  // split based on operation type\n  ({ query }) => {\n    const definition = getMainDefinition(query)\n    return definition.kind === 'OperationDefinition' &&\n      definition.operation === 'subscription'\n  },\n  wsLink,\n  link\n)\n\nexport const apolloClient = new ApolloClient({\n  link: finalLink,\n  cache,\n  typeDefs,\n  resolvers,\n  connectToDevTools: true,\n});\n\nexport const apolloProvider = new VueApollo({\n  defaultClient: apolloClient\n})","import Vue from \"vue\"\nimport Vuex from \"vuex\"\n\nVue.use(Vuex);\n\nfunction parseJwt(token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n\n    return JSON.parse(jsonPayload);\n}\n\nexport default new Vuex.Store({\n    state:{\n        token:null,\n        usuario:{\n            username:null,\n            nombres:null,\n            id:null,\n            permisos:[],\n            foros:[]\n        }\n    },\n    mutations:{\n        setToken(state, token){\n            state.token=token;\n        },\n        setUserInfo(state, token){\n            const datos=parseJwt(token);\n            \n            state.usuario.username=datos.username,\n            state.usuario.id=datos.id;\n            state.usuario.permisos=datos.permisos\n        },\n        deslogearse(state){\n            state.usuario.username=null;\n            state.usuario.id=null;\n\n            state.token=null;\n        },\n        setRespuestasLeidasConversacionUsuario(state, datos){\n            var infoForo=state.usuario.foros.find(f=>f.idForo==datos.idForo);\n            if(!infoForo){\n                var nuevoInfoForo={\n                    idForo:datos.idForo,\n                    conversaciones:[],\n                    __typename:\"InfoForosUsuario\"\n                };\n                state.usuario.foros.push(nuevoInfoForo);\n                infoForo=state.usuario.foros.find(f=>f.idForo==datos.idForo);\n            }\n            \n\n            var infoConversacion=infoForo.conversaciones.find(c=>c.idConversacion==datos.idConversacion);\n            if(!infoConversacion){\n                var nuevoInfoConversacion={\n                    idConversacion:datos.idConversacion,                    \n                    __typename:\"InfoConversacionesUsuario\"\n                }\n                infoForo.conversaciones.push(nuevoInfoConversacion);\n                infoConversacion=infoForo.conversaciones.find(c=>c.idConversacion==datos.idConversacion);\n            }\n            infoConversacion.respuestasLeidas=datos.respuestasLeidas;                        \n            console.log(`En variable IC: ${JSON.stringify(infoConversacion)}`);\n            console.log(`En state IC: ${JSON.stringify(state.usuario.foros.find(f=>f.idForo==datos.idForo).conversaciones.find(c=>c.idConversacion==datos.idConversacion))}`);\n        },\n        setInfoForosUsuario(state, foros){\n            state.usuario.foros=foros;\n        },\n    }\n});","import Vue from 'vue'\nimport App from './App.vue'\nimport { apolloProvider, serverUrl } from \"./apollo\"\nimport store from \"./store/index\"\n\nVue.config.productionTip = false\n\nVue.mixin({\n  data(){\n    return {\n      serverUrl,\n    }\n  },\n  computed:{\n    usuario(){\n      return this.$store.state.usuario\n    },\n    usuarioSuperadministrador(){\n      return this.$store.state.usuario.permisos.includes(\"superadministrador\");\n    },    \n    usuarioLogeado: function () {\n      if(!this.$store.state.token){\n        return false;\n      }\n      return true;\n    },\n  }\n})\n\nnew Vue({\n  render: h => h(App),\n  store,\n  apolloProvider,\n}).$mount('#app')","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAA3lBMVEUAAAD/9fT/6uX/4eH/7evV1Nv+7uz/7OnS1d3/9/X/6eb/6OXU2ODaztL/3t7W0Nb27u7S1d3Y2+L14+Lg1tvQ0trR1t/uu7u/n5///////v7T1d3s7PA10Zb8/v0x0JPu+vXw+/dz3rM50Zc00JWt69Ns27D2/Prz9Pb5+vrY2uHo+fLu7/K57dhX16X6/fzv7/Li+O9C05vV19/k+PDf9u3F8N+y69Sd5smI4r6E4bx437ZR1qNO1aHz+/f09PbV8+fd3+Wp6c+W5cVw3bJn261e2ald2Kla2Kfw8fNijA/eAAAAGXRSTlMA+1ka2c5B2dbCtllQTC9X59jWuWxiWQ8IBi+1PwAAAb5JREFUWMPt2GlPgzAYwHE3ZffhrStbwa2KkzHcfcGcu/3+X8hnWTaMBkalTSDpP+EFb34h5WnS9EwkEomi1Lmv/iMnMsmL093k6eVCGvmpLNHb2VjJTw1ZKtLScX/0uyxLeW60nCpyoiEpx4mGrnKcaEi6p6VRvVF26wMfaSiVo6XLsmuf9f3wHey7R0q6c4L+ejt0ffvAbEHQjq6/HrtM0NCAu1f6VSzObEKC0shXDk2/1t416oiehgnxUaccLtr3goTpN3oW4rn+E4L40EhvtXTEhVZHljVS+dBVRakKWtCC9kOjnzRiSWtd06HNrsaO1uaTvnmgzf5krrGiTcNWNoa2pzVjo9iGyYhWR4SQ5kDf0fqgCS8jlRGNZ5MaIdZwpSiroUVIbTLDbGiwe2Ow2+39Uxv3MLsJQfoCzAoE+kJne5xUh7ayoxV7qLLejdNBEz4b/uaU+UZHmrEmZG1oiDUN4f5y2cd8ziG418PROz0xprFHgWgYi2fXYFiC0N1tpeZSZdsKRsM+cYk0g9EtfrQ+fnFtrAegwX7yCIV2rqNDZ+npLMXFJ13pAtPrWqdkJsH6ktnpTCQSiSLUN5DlNzinQAMLAAAAAElFTkSuQmCC\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=style&index=0&id=8f93a39c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Interpolacion.vue?vue&type=style&index=0&id=4df81ef6&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=993e192c&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAjVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADqhzP4AAAALnRSTlMA3x8j4xUmzPyx3gFmiAfUqRhE9zoq6dqbDrl9bu/DoJSCaVtQQPKzpnVfVUo0WjuT0wAAAcBJREFUWMPt2NlygjAAhWEhhoSwr+5LXbr3vP/jdZg6NYoaQ3LRsfx3evENkAUmg76+Ry6grlE0OPWqiAnHIMGiSvY8H8b5nnS/ESwUHe+aMhsgo7+gK9BUOx2r0STcI+g0f6xKt2PlCgCcM7AuB50r6xYo/9bPG/49MM7cLLYH0jBNRJKG1BKY+xxN3M+tgDk7TubcAkh9eQVTczDkEshDYzBOIZfGpmCWQC7JTEFXSNxhSyC2r5DYfobE9igTm/NQDyThbEsVK0UH3E85eFrdWstaYDVF0ytR7TbEuQukK/w0zhT7oQJsv63Xk8GlNMF5gd+i2BzcDnGMzwJTcM8gV7xJz9aj+mD1gtMWm8Gh3ctw+qkLTsY4b/h+WHkjAOxTDwye0G700UyX2QJNy70OKA+wLG5IOeb4afqlAX44uFjh1NK2UN0Nlgz39EpUoO738ThTg/IAq1tP1KA8wOqiWA1unjVA/hSowJ1QM+0V6V4FyyX0ep7fBEkK3erwBjhZQz9nex2ccXQo2V0DwwU6xfLL4HyEji3fL4HFCJ1LihZoWg/+Q1DYAIVr/RDD+jGL7YMgy0dVnvXDtL6+B+4bd8GYEidpbS8AAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroResponder.vue?vue&type=style&index=0&id=1cc9b412&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversacion.vue?vue&type=style&index=0&id=9e3ce0f2&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Foro.vue?vue&type=style&index=0&id=db0b9c9c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreadorInterpolacion.vue?vue&type=style&index=0&id=1244a928&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABEVBMVEUAAAACAgIAAAAAAAABAQE0NDR7e3sBAQEEBAR5eXkeHh4MDAwwMDADAwMGBgYVFRUKCgoPDw8ODg4ICAggICATExMPDw9QUFBZWVkGBgYBAQEJCQkCAgIZGRkLCws2NjZkZGQODg4GBgYGBgYODg4MDAwPDw8SEhIICAgRERENDQ0bGxslJSUREREWFhYbGxsdHR0cHBwvLy9vb28xMTH///8ICAgODg4ICAgGBgYSEhIUFBQYGBgjIyMaGhoEBAQMDAwoKCgoKCgtLS0kJCQ7OzsMDAwDAwMAAAAjIyMPDw8QEBANDQ0HBwcMDAwcHBwKCgohISEtLS0NDQ0HBwc4ODgVFRVAQEBYWFg1NTUAAADjrFRNAAAAWnRSTlMA/qU/eUQdwVcCH78M79mVV9HB42dXPBIF+eLSWVc/Kgvy8u7OubOwpaN6aVhYT0tENzAdHAPq4daxi4B4cF1OSUhCOSMi8cPBr6almZmSdWlkT05OQDAgHRixeboEAAABzElEQVRYw+3WWU/CQBSG4YPiUnAB29KioIgCyg6K+77v+/r9/x8iTVpGI+kMHi686Hs1SZMnnTmTphQUFBTUa2OJ6vPLfjptmpVYu9FvxWLm/kHiU1WyCpAWn1OiThbgFuqW9+xJZX9tavEoQ341821M4c2WgWWSZgAbJMsOYYYUugaOpacF7KlY78AWSXoDGqRSSH4UDUBt3EkUSFICiChZWWwqWKtK1hlyRI9Vv8szC3woWfOYItKB3KmftaJkrTnWOoDQIduadiyrFm1jzX5YTiVAp+4NAsM9WTQJ1PtlZYBtpjWPqLvScce2vLu6jlumlUXeXW3gimklseSuZrDEtICbfllNYKdjDfCsRfENiPMsrQDkqRfrdeh3R/V6rVLUgQWrF2sSPumrpGTJqeS2TWqWR42XDMNIpZyfiFjFNNPpcrlcPagdNk61H2PwszwqQkpdSCxByRvxswTFtzxqd4tveRSSFte6dDdoAPEM0+qcVQ5YK81Ztqa1Wi3tD5agyJ6CT1FNav2Y4H3WF5NYkXA4QiLteO9hp1gM/27CwYTFaqyDCYuPCYuPCYuPCYuPCYuPnQuLjUFYbExYfExY7OxUKkFBQUH/sC/SIJ/NRVDIKwAAAABJRU5ErkJggg==\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAjVBMVEUAAABJSUo5Tk9BSFdGTVxHTl1FTVxGTV1FTF0+RFdFTFw8RVVHTV1JUF9JT15FTF1FTVxGTV1GTVxHT15GUV9ESltITl5GTV1HTV1JUF9FTVxGTl1GTV1GTFtGTV1ITlxGTFxGTVxFTVtGTVxGTF1GTVxHTl1FTFtHTV1HT1tFTV1ITl1GTVxHR1VHTl5Dm7GSAAAALnRSTlMABgokwLbn/OMp3R73SIRVqO9tsRA0YevIwnVc8z2fLJWOQdeCfGcxyxrPT7oJm8OXKQAAAppJREFUeNrt2WuPojAYhuEiCijoCIg4nBQ8jYd5///PW0vXYLLLMmmBZSbP9c2YNDeBljYwAAAAAAAAAAAAAACARlr7mKpplE1a5+/iFVOxvlInTL9g8mKLujI+M1mXMXUnZ7LeHOrO3maSInowjZJLgmvIcEgIDS6khyRlkg5E5ETbKTeflGMt0qmM25K4PCh/pRkfeM4kLYjo4zmVTyYRHZgkm1+VsWVC4apmbZ5Z8SMrlJ8+Hs/SmRC0mzWz5aePWZOlehOVs6qbmCpnuSe7FCxJOcs86Dan56SaRcmsZJF6FpnPsVSzKupZFWQh6ztn3aJ4NbysOCRz7F36zpq9lzZ1WRkR8TD7C1nh77ES5SxrPiqtdjVZSxI+Ir0py1mPhMhs7Z24NuuzhOtx+6+sfncQS6rsD+chZhHN8qCXrOul2tg3ZAlWntZlhc9/bolqFmWnNRddG7Iqxq7Q/ppFvrfmvHsL65YpUGNWJczm2p9Z1VitL6fNWYKbBQ3Lae9Zwk4bZNZ9NcQsJxrgTXT8mA0uK1m+jdjQstzs9tn9xmYZedxh35xVLVk1WRMx1nGsnLXXmXBsyqoW+LqssHj+SPp8VVt5qg1uB8E3D4Pbb5Vbrf6yrEIrfeY1z9ai2pg2ZSWxJnimahbtJz73btZkBX64ifSvHcgsMdYk7OGcuNpehnh8HeipGlnI+llZjlUKW8kyLM5Qz0o8vVT4LWQttjp33tEP/VyweWa9DerjisiqLleW1+E3HzoySRefWruJh5dHPvXpITyedRlFRtxi2sYjH70sEAYJhiXDJeFlrCRVmtRdmelMkr2h7uyYtLVLXRkHTJ63p06Y9zlTERz9cfuy04Up0kbtYwAAAAAAAAAAAAAAAAD/yS+cHKxqoQUmgQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAAA6lBMVEUAAAABAQEFBQUCAgJGRkYFBQVCQkIICAgTExMmJiYjIyMmJiYHBwcTExMPDw8oKCgHBwcODg7h4eEICAgPDw8AAAAWFhYSEhIVFRUQEBAdHR0hISE2NjapqakDAwMICAgGBgYQEBAQEBACAgIEBAQGBgYAAAAHBwcKCgoDAwMSEhIQEBAWFhYZGRkMDAwqKiocHBwGBgYhISE8PDxVVVV3d3cODg4mJiYfHx8hISEvLy8lJSUkJCQHBwcFBQUJCQkJCQkJCQktLS0kJCQRERENDQ0hISETExMjIyNycnIjIyM2NjYAAAABAQFu+6+gAAAATHRSTlMA+vjxB+wE0HgaSyHZinsx/KwB37ivkoFvXlQrEgXtzMe0sPbm4MnBrq2rqFxXU1JPNy4XFAuoTkRDHw0J5uLVuLaaiIJnWT07LSgnnXLyIwAAAadJREFUWMPtl8dWwzAQRZ3YcUt1eiPFpBcgENLpNSD9/+/gWAZbmAXWZKGF7973HOuNRjNCSEjIP9FWlWlaOoYpnlQ6YqM7OIOrZi2MDuBoUgaq0j30DU7CVLKBXKKw39SjHhcegAIoIi/dNMQ1pFyNKcRVoFxiBaA6eaBcnTWzqa6PM5RL0RhNVxejGFFAC2xebcfw4XvsulpxFtP1a56Ymmrxp8J6M5YTP2+LtulO1eTtS4IUvRG8uGRJN+wTj+RKG9IoyovCsKjLwbNbju2fOk081wQCMLuIkrqEmeZVk5x4S61lhaB8Tp4ey28Sya7qZKeom+D9YFfKRSzE+1XWyi5PskuoGkP/3LcxItxUlqaTXYrpmuwMTwNwsit9CEyUMaLIsGdX71Mu3EyR7Fh4v0Ve+nFAL5+IlKsgCHy4/vxHDs6eqgnofd7CapVmbwa4Q6C7De05DafnuJnCe2GT9EJeejR596m3A4ikjwBvGuythc8A8NmEPdOFf2biYJazyPpmTE5mX99Mzsuu8HuH4WW3onc+jnZRekeGo63t3T0kJOSofAHkCsd6OQ0YgAAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=style&index=0&id=70d9f6b1&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAsVBMVEUAAAAAAAABAQEKCgoICAgEBAQHBwcEBAQAAAALCwsBAQEDAwMFBQUDAwMDAwMEBAQEBAQBAQENDQ0AAAAHBwcBAQEDAwMEBAQAAAABAQECAgICAgIODg4BAQECAgIGBgYBAQECAgICAgIDAwMEBAQBAQEEBAQCAgICAgIfHx8BAQEKCgoFBQUBAQEBAQECAgICAgIBAQEJCQkLCwsBAQEEBAQDAwMAAAACAgIDAwMAAAA7PaJUAAAAOnRSTlMA+t4VBFwodsAOonlOIX1nY68a8DLQjzrr48e2H7yBRfWynXJwyj6QhwhAGFbn16qZXycLpUlqAsKU+ypwswAAA9RJREFUWMPlWNmWojAQlX1HFBBX3Ntdu13aHv//wyYLIWkL1B7OmZfOE0rqJlV1b6VC7dcNy0vcwPB9I3ATz/onCFXXFqYcSjcypFA2F5qu/hCkqdkyQRCHJNva5gcgntGVBGvxuWt4L4Ios3lm1I4bLaOuaXWj1Yjb2Z/zmfIKijum02W7HilqHiolqtsyfTN2nyfH6ZDNm1NdhVGfmsTBjvMkbfqErDcIlBKHgwGZMNEfobz1iDtG80EOHeJa7618ytrEMxrDxzseNvAsc126F4LS6j+LX79FcEr2o2OPJP+VbPoS9ksvzNEEozivccvBOBOr6A3eqf8q0X08u2BNt4PjUm530i9bN+E8wPHpuIAQY5yjfinIR2MnSVI4T3UW5wbm8z29ZpgvpZmO7FyeXY3lHfNndqdprEajlE+DGx+dQAjm/LveDayAMu663Zs45EvG58H90k00UQpKUD72xHr0de51yNPhRF8EEvJRXFtDf5glaqzLtMxo1nWV2AQw245iosU1oQLgt9MSotFyZdLwH0mUltm7KXq2VS4DGXlcLP2UgHBBf5K6tYJ21CeKClVozFJ7PrL1XL4jBPN14l4IXi3Qq3oRyqp51PuWsuZxvGAY88Tihn4sclGiULWjolJ33u92cs8Q/F1ip84qo2UbYVqMe8jFWIF06THqxp+C8kTuKjEKDmNgEiI5qYAusnA8pVkQY8K/KE8xElaYsCWkAm1PdxyFsTWgyMuaqHOJyTwo0FMqUeru95Q3cpIjj73vIgrYM0iUtaR7aGybm/U7edQY8iARKS7swCfZF9lCLW8Tz02XrurIoZz2M+RzVLtTkV8Cc7SpxZ9milgS+tYxOR5z5BqAKXbKO1OLdKWYNBhTzf+i/y0IEaFTMMQqXTd08KyMOYxAKaUFDDFMuDYiNY4w7rrM7BkyHSDhkH6rA8nvB0vZKEfZc8cB/YAY9A524pOTuUeB2jYo+FwMUJpDbDVX+ILWxbcP77NkBUC4NGGh2OJwHtScQqnz1lcs0DmCQsHLFocZs6W9CXJenncDuBexbMFimISChqNDluiTaA3tYEnfxISsTeGYG4EGAZR0eMBQqhy2ejSN6TE5A/bwgKFbEI67iBpLO5QFRiEw+HG3KTt866FI3XgL7cXDF7YCDsNscxRTJB3sq7reg8ZkO8i02P4TQXPQmJS2SYr23t3HveVQheagTXrUtKnWRuGUg+MKmraqLWT1hrZae30F7XXVZr/61ePpRcipdhGqfi2rfkmsfmV9foFegAt0d6b8l+v86x8Xqn/qqP7h5beNvx6U8A4TgRU+AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAt1BMVEUAAAAJCQkBAQEBAQEAAAAFBQUBAQEMDAwgICADAwMFBQUICAgKCgoMDAwXFxcFBQUCAgIEBAQPDw8VFRUPDw8yMjIDAwMDAwMGBgYHBwcNDQ0SEhITExMCAgIDAwMICAgjIyMCAgIFBQUFBQUGBgYHBwcNDQ0CAgIDAwMCAgICAgIFBQULCwsCAgIDAwMFBQUGBgYGBgYICAgNDQ0ICAgHBwcJCQkQEBAFBQUNDQ0LCwsKCgoAAAAVYtoZAAAAPHRSTlMAHPv427ffLgjWql5bPRSg7bsYDwsD5MCnhjgzIOavfQXyrZuBairY09DGs0bqzJKOcW47iXlmJZZUT1Yx0+xAAAADDklEQVRYw+2Y2XaqMBSGA4oVRBBEQMQRnFqnWq0d8v7PdY6l+wiBNImw1rnpf6eGLzt7yhb0q19VL2fxGfveuvFXa8+P3xdOGdokOCtDGacku8o5aN6J6+r+Fhdoq+ndO3BN/amGKao96cJWtk3AFSPNtpjzjipmSD1O+HnhXsZMyXuJlzfQMJe0AR8vUDCnlIDLvifMLYXDxnCGBaSFzPjusZD2rFg/Y0E9M/JZFQUu2z/Wm4mFZf5Uha2aOLDWovMMBd8hxWAYWJ2JjpYv2OFSrXfwTdO6qrrEvjOHFuIOybNeF7YhtfsuTtQ5bCTDvrRGmVUdWqDHJM+/oETvamLeHJx9yKwbU1q+RfDc287Hr372hkBSZq1VfOaHIQEcNW+A9dX7H5SKGj4UAnWyq/ZTP0ZXiy+pHpf2t6wXAvu0MgX/Lu3bZ6lObp1XLmni1I+vMsaNMOXwXaaLFQIfcyXQTeW8nM3gbmb1YyFQzWX1nAiCdTPRzqxWC4ENTGq1QaATvurQg89hZnWDE4gtyIfJt4PPsPhlKgYEvU2+S2P9nXFg8xzfB+y8EGUeJTv0Ig7gCheoRZT52k5cqGadzUobsgYMD77YGZCW7LTRio4cEM9HX3HuKhizE7tPvYHCfwZOP5KQyETVM5sDHCWJSUw8OdiRjuFrX9jaJDtt4faIkwPDZctoX45FNuxkFNqAPe6R4hvL4boCIilJQQ94kEI514xpg2F26D8l9gEPL78c2oxzvG2bNoho2ZS5WtRap5LDRujyhnPSqMOInr1wd4Edd7LZ8aEIzSJdYnj1iDBNZ67YKIL0iocl1IzKjnPlB06VPnBClQpJPqKf1Ttws+CWYUgyRXi+hJhaiPzxeUAcGoy4eS+ISwuf87xgH1P2qcaR0PsQcas3n7J4q3mPnwfTGl1TM0CoIiC8xKgOOPQ/Yc4rD6y5ynkA1t0JVE6mt1rW68uVZ47hVVUJ4GiAeo5hS5JtOBDXMsBRJnnLA2fAKw8E+yoDgn2VAcG+yoDAqwwI561IxixaoF/9J/0BY7A5D9cSe1UAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAh1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3YishAAAALHRSTlMAHWYM844W+fbOXRF7rtQHbBPl3NiGVcSrdjLqx7M6JebtiVG2PDmSZUW4lkeFA2IAAAKHSURBVFjDpZfterIwDIZTOlS+XgTlQ1FEdLp34/yPb6R0VCjYcvX54bVR7tCmSdrAnEiaBE61aZpN5QR1SmCRPu1dM9Lu+alLewdOSzYOng5efzSz+qiVJrZX/u46s90HoQCUPNw6W/PH1+1b/HLidH6jwxF6y7mN02Wed7vZV340NRr5VbcOd463u3Gfwoyo333BnhwNAzZ4frvj5MxeCsIJ/htHNhYoZG3wvbtsgX0/PoJSx5jNYXL9e62AJfsJP7iMX4GWVsyCO9h/9G6snTAkxt16jYcT+u8I2jqiJ08v8YtT+oIFspDoo9q74v7DIp0xL/4yq8YVLawYBL2W8Ang3z4slI9f7aZwwPyhGsz/w5fYaFq02AFQO70JrNhWuYMp7Fj9w/yP1Py/rlL0mx1hfSh5EOd6POrZP8oxoPkKbtp8c++fpRj9AATnRbX55ke4EddAmJ1Mlxc+QGXt/ykk7W+tzYuA595LWCFxtXlrXAMCcNrfBwjRZ7E+3XR4KNsnDlTME71Ch725VfOd/2PAzKajzEYLah4ohibgyLC2cgtKHkLGygaEBZmXDchLEBYUPF+C7MRevszLTpS2MXqxIPPyNsqBFDk6vAikRDplIkfNi1CWkwktqHmRTHI6owUVL9JZKijcgpLnBWWupHmOiuclbbaoRo6KX7GiOl/WvUxUcVmirPODpaBT54hF5nlxsJgfbZAYHK5Gx3vhDXLYWnzBsAyvOJnxJcv0mmd60TS86uZyib0vu2ybXffz0LDhULQ8hb+abnkK0fIom6503HSlf01XdtFv+0pCw5CS0rX7tq9QetlL3jWeiWfa+mqqtPdjem+XSkxu/2Ns/2MnSObb/1/3C6xgJU1VjAAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=2592dc00&scoped=true&lang=css&\""],"sourceRoot":""}