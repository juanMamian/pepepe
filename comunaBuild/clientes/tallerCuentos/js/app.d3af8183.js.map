{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/HerramientasEdicion.vue?8d96","webpack:///./src/components/CuadroTexto.vue?b975","webpack:///./src/assets/iconos/libro.png","webpack:///./src/assets/iconos/delete.png","webpack:///./src/components/Libro.vue?6443","webpack:///./src/assets/iconos/texto.png","webpack:///./src/assets/iconos/puntero.png","webpack:///./src/assets/iconos/guardar.png","webpack:///./src/components/Pagina.vue?8780","webpack:///./src/assets/iconos/editar.png","webpack:///./src/App.vue?6079","webpack:///./src/components/Libro.vue?25aa","webpack:///./src/components/Pagina.vue?5011","webpack:///./src/components/CuadroImagen.vue?bee3","webpack:///src/components/CuadroImagen.vue","webpack:///./src/components/CuadroImagen.vue?230e","webpack:///./src/components/CuadroImagen.vue","webpack:///./src/components/CuadroTexto.vue?67ba","webpack:///src/components/CuadroTexto.vue","webpack:///./src/components/CuadroTexto.vue?0afe","webpack:///./src/components/CuadroTexto.vue","webpack:///./src/components/HerramientasEdicion.vue?af2e","webpack:///src/components/HerramientasEdicion.vue","webpack:///./src/components/HerramientasEdicion.vue?3c90","webpack:///./src/components/HerramientasEdicion.vue","webpack:///src/components/Pagina.vue","webpack:///./src/components/Pagina.vue?e9dd","webpack:///./src/components/Pagina.vue","webpack:///src/components/Libro.vue","webpack:///./src/components/Libro.vue?7455","webpack:///./src/components/Libro.vue","webpack:///./src/components/MisLibros.vue?dc75","webpack:///src/components/MisLibros.vue","webpack:///./src/components/MisLibros.vue?138b","webpack:///./src/components/MisLibros.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/apolloStore/Schema.js","webpack:///./src/apollo.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/iconos/imagen.png","webpack:///./src/components/MisLibros.vue?74ca","webpack:///./src/components/CuadroImagen.vue?cb16"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","on","seleccionarLibro","idLibroSeleccionado","_e","staticRenderFns","staticClass","$event","idPaginaSeleccionada","directives","rawName","editandoTitulo","expression","_s","libro","titulo","class","letrasRojas","nuevoTituloIlegal","domProps","type","indexOf","_k","keyCode","guardarNuevoTitulo","target","composing","nuevoTitulo","stopPropagation","toggleEditandoTitulo","_l","pagina","index","id","idLibro","removePaginaFromCache","updateCacheConNuevoCuadroTexto","updateCacheConNuevoCuadroImagen","removeCuadroTextoFromCache","removeCuadroImagenFromCache","nativeOn","deshabilitado","creandoPagina","crearNuevaPaginaLibro","seleccionada","uploadingInfo","segundoPlano","style","estiloColumna","estiloSize","estiloApariencia","button","accionCrearElemento","resizeFantasmaElemento","endDibujandoElemento","idElementoSeleccionado","eliminarse","ref","desactivarHerramientas","creandoTexto","creandoImagen","estiloLayoutFantasmaTexto","estiloLayoutFantasmaImagen","estaPagina","cuadroImagen","refInFor","primerPlano","size","$emit","resolverSeleccion","cuadroTexto","conAudio","esteCuadroImagen","audio","updatingInfo","enPaginaSeleccionada","paginaSeleccionada","estiloLayout","playAudio","urlImagen","versionImagen","iniciarDrag","drag","finDrag","sizeResizeHandle","iniciarResize","resize","finResize","staticStyle","uploadArchivoCuadroImagen","urlAudio","props","String","idPagina","sizePagina","seleccionado","archivoCuadroImagenPagina","resizing","dragging","posicion","x","y","computed","top","left","width","height","sizeDragHandle","methods","$refs","play","cuadroPos","$el","getBoundingClientRect","nuevoxP","Math","floor","nuevoyP","$set","console","log","posMouse","e","clientX","posPagina","clientY","nuevaPos","offsetWidth","nuevaPosP","round","$apollo","mutate","mutation","variables","idCuadroImagen","nuevoPosicion","datos","FormData","inputArchivoImagen","append","files","method","url","serverUrl","headers","Authorization","$store","state","token","mounted","click","component","esteCuadroTexto","estiloFormato","estiloFontSize","estiloVisibilidadTexto","iniciarEdicionTexto","texto","estiloFontSizeInput","nuevoTexto","estiloInputDummy","guardarNuevoTexto","estiloDummy","Boolean","fontSizeDummy","fontSizeInputDummy","fontSizeTexto","fontSizeInput","editandoTexto","textAlign","formato","alineacion","color","colorLetra","fontFamily","fontSize","visibility","nuevox","nuevoy","$nextTick","idCuadroTexto","nuevoSize","findFontSize","hDummy","hTexto","wDummy","wTexto","findFontSizeInput","hInput","wInput","alert","elemPagina","offsetHeight","watch","nuevo","hSeleccionada","herramientaSeleccionada","components","paginaDerecha","preparada","default","visible","ancho","alto","dibujandoTexto","dibujandoImagen","posFantasmaTexto","sizeFantasmaTexto","posFantasmaImagen","sizeFantasmaImagen","gridColumn","justifySelf","backgroundColor","posClick","sizeFantasma","herramientasEdicion","reset","crearTextoFromFantasma","crearCuadroImagenFromFantasma","datosPosicion","datosSize","apollo","query","QUERY_LIBRO","skip","paginas","paginasOrdenadas","aPags","sort","parseInt","a","numPag","b","charProhibidosTitulo","test","enviandoNuevoTitulo","nuevoCache","JSON","parse","stringify","cache","indexP","store","writeQuery","laPagina","cuadrosImagen","cuadrosTexto","nuevoCuadroTexto","indexC","crearNuevoLibro","portada","misLibros","QUERY_MIS_LIBROS","usuario","confirm","Libro","MisLibros","params","commit","localStorage","setItem","clear","typeDefs","gql","resolvers","Vue","use","VueApollo","InMemoryCache","getToken","getItem","wsServerUrl","substr","httpLink","createHttpLink","uri","wsLink","WebSocketLink","options","reconnect","connectionParams","authLink","setContext","_","authorization","errorLink","onError","graphQLErrors","networkError","link","concat","finalLink","split","definition","getMainDefinition","kind","operation","apolloClient","ApolloClient","connectToDevTools","apolloProvider","defaultClient","parseJwt","base64Url","base64","replace","jsonPayload","decodeURIComponent","atob","map","charCodeAt","toString","join","Vuex","Store","username","nombres","mutations","setToken","setUserInfo","deslogearse","config","productionTip","mixin","render","h","App","$mount"],"mappings":"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","file":"js/app.d3af8183.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tallerCuentos/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=style&index=0&id=2c9e7702&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=style&index=0&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAC8i1q6i1zyu1n2vVq3kUr/tki6i1vyvFm5i1xmXWZ9c2W3il2xiF7kpVqQgmuziV7uuFmpg2GrhmChgmHuuFntuVquhl/TmlrTqmCrhmCvh1+yiF7OqWDHlVqmg2Kog2KigWONd2aDdG3uvVrzvFq7jF349uzkpVvyu1rxuVrVm1vlp1rrsFrorFrJpX/08OP37tnzw2zCmW7w6NrstFr169ns4tHnsG3Ut5fIoHPAkWD07+Pv4cfk1L/VupvNrInYpm3xwGzutFov9SsWAAAAJXRSTlMAH9/fHwcHt7d+Bg38ubca5LeUij7v3863tK+mpI+PbVtFLSMf1QcYpQAAAOxJREFUWMPt10eywjAMgOG8R0+l914EhE4SEnq7/51gCyEOGnvF6D/ANyNbG0kURVE/lhwLCcf1WrUEu3oe4+U1FcJKIbyuBmAtmKFAOQewdQ9LRq6FAY0SLOwhMxsF/v3DeSgY3IoGd65gEC4ne/NsFdBxt29GDQwIe+vqed5tHZDjFCIVAwMCTEajqTlgFIkSSCCBBBJIIIEEvoLmzJ8z5gHn/rjAwfhDvG/o0zhB0zcvF/j+L3c8mGaOjF8bpSp4D6W2KhhUsioeZIu59BdgsY849zpZrazreiYZXKahIA/weEiyRFEU9Ts9APjdERj5ZBqjAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAMAAADGfvrlAAAAtFBMVEUAAAAAAAACAgIAAAAAAAAAAAAGBgYAAAAAAAAAAAAFBQUAAAABAQEGBgYCAgIAAAAAAAAEBAQFBQUAAAAAAAABAQEDAwMCAgIAAAAAAAAAAAAFBQUAAAAGBgYAAAAAAAAAAAAAAAADAwMBAQEAAAABAQEBAQEBAQEBAQEDAwMBAQEAAAACAgIBAQECAgIAAAAAAAABAQEAAAAAAAABAQEBAQEBAQEDAwMAAAAAAAAAAAAAAAAAI6fdAAAAO3RSTlMABQvg9KseO8T3ho92RZ0X129r+9M/KzjxyZkU3Q/ov7ykMiHOtV5SJRqplEx/ZK6gconruWhZQwmCwUKZof4AAAMbSURBVEjHpZeJlqIwEEUDuNGiIiACoqIi4761S9vv//9rwgxYgqB4fMfjEnOTkKpUVViuxN7E7HbNWasvsLfUq7aXniENLGsgGUOn3WkVJfurum8hIctf/umx15prxxKAkjvcHZR2W/naeWo4lDzcT17NevrVgcFUaVTE28NXOsp2AMDeP519teWof+1GIEnorm0A0z/5+6tIgKHkrK6y5/j3OmfyWROw6mOWq9nhGxhlduhMAfvMnuqPB3idDHZIo+bL3AHDS7q1y1mnkmocbzbdVFPrwOnU3JMyUO+nOgYq4J5YSmvgaCYssQSa6X2c+PB9qGbaanXe936eto7t5MHosjs2Df3BtPMRoNw9sAGjEw/cinXSDXNW09u3hp94K2y4jdtCmtC1eNN3hhpJAlRVhxT/NhareDNKGImx9fj3aFSzBjlXMKrRbA7kIPLKBQbxKvbwg0aky78XKbBxjbpVXUz7/zemhCWLVIfDcnXAKA4qX5DP0Rq+OwTbX7n6JXgsYRE+qck/BXYb8amcW0cHg9CXN7q+IQ93yk/UXNERkbHnq97Bnd35z1PdeYqBrcBaBsoCe19NuBPWtaAkm09Knz2quk4eMA2lBgt0eZUMN6pF3Uh1XJPn34LG1hiYSVgqVTOXWU/GJIk3OFDnWTDfh/hdyIJ7PkZsAbufAZvLTWjGpcm7HZQMWPyFx46oiRnwCZ7IRA98iGrJrTzCwhQ1VsuG22GzWIMWwlIWXIbNjm/DNDM985sw/8+j3S4M026TnQvDZGfysMIweRj5dmGYfJtOVWGYThWd58IwnWeKJEVhiiRRDPt5A6YYRtGzMEzRk+J2UZjiNmWMwjBlDMpVYgrWIniTgilX0XddIyOoMk/JF/srXJ194Y445blc2II3JLPkY35mPws44RhCOOyccbX6vIurB+whPz9WBoGuX+dCQmJ1gVolqzKgmoR+GNPyvTwJ0vm+JhFzq6He2tWRlOydU9VQfh1mBnvlXlqjlarDPq8ASdX3as/Pq97P6+3PK/3Xd4x27/Pbzef3qs9vdK/vkmJuvfMXl9icGVrQDtsAAAAASUVORK5CYII=\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=style&index=0&id=c12df12c&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAAyMjIxMTE0NDQqKipBQUEwMDAjIyMxMTExMTEyMjI4ODgxMTFMTEw1NTUrKysjIyMwMDAxMTExMTE1NTUxMTEzMzMwMDAxMTExMTE4ODgwMDAxMTEvLy8gICB/f38yMjIxMTExMTEvLy8xMTExMTEuLi4wMDAyMjIyMjIxMTEvLy8xMTEyMjIxMTEwMDAzMzMuLi42NjYyMjIxMTExMTExMTEwMDAvLy8wMDAwMDAwMDAtLS0tLS0zMzMvLy80NDQ2NjY4ODgzMzN6YhNIAAAAQ3RSTlMA/fT6PVlzBiXd+8TnFCIJA3j7+BjxZS8N2ZFdz78OBO/kyrWmn5trUjspHOu8r5RJQzXV0sWQghKrqIpuWFZPpnmWvT1N0wAAAodJREFUWMPtl9mWmkAQQGlibDWGRRYhIMEFwX0Zt9FxMhP//5+C09UJKnhsOicv4T41p+BC2VWFCAUFBQX/D4peSWLx+ix1XU1gBwNOYVlDpyRouuPy4Sn1UdrDB6+UsZCC/HYttCuP6HSn3+2bo5TI3K2hGJJujLFVHvBFE+18/tpJiQ1CVVUDdI6/qWo5emSbFy6kU33NOkOMo58+C4/h9RAI0UQSUikxCY/+idJQ/4LQSlQGWo/4hYt6omxFh1uobFCyEXoWr1ByLxuhxCt0RHg2ui2cQtyHLugYxDjZ8QmHT8QjmhNiNiI+YblBhK6kwmqGeYRWFzLeKHMfcpd4hCUoQuOHIK3IUjM5hPgAm/skCXiGoBTl/MJRByRBLIkMkA/zC+dj2OPz3KrYkHOYVwhZxqzOM0Hew9HUyiukz4SCj1IxNXJYH+QVUoPmXPq3OYXyM+TY0cnoppNxrecTDugk7OPLtjGiXEJFrcEeO7/vAFU0w3mEuy6ihfedoLdA6Ep5hCWacfvnN8BGtP1yCJUDAiH6wwnYy2xCmP3ZVIfswlfxjhCVmYU4QPeELZ1VuGyf7lEvsQmh7bJpbBU2oQdtl0lnxCYcjOFC8cslPqIvBTbhC7Qt6kpfk+g9BIGDwiKUe3Q7t8rtnWAEsQh1l2ZMM6M0bbrPSxbhckz/s+qpzw7XMwh9qI7yTSjU8ghhdKFV87bHYYbZJCQPm81m+CF8j1dSltFpoxg/TAtVUYzxTt7cs2q9Xic/0DherV6UjOEV9VutZxOnvq3jUHDEZKo3rj/NFpnTwfOsrKLyPAwn7a8bCpkCD3hzLTTmAhfLrlhL4m8sgQ/pWE4QLmShoKCg4J/zC0L99j/wenPiAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMA+/m7FsEEiBPmECX07x+ck5iQY1wMBt46InFINCkb6tXQyLaNf6x7QVdRTy0IysOjdbIknQAAAAI9SURBVGje7dbplqowDAfwUpACgqCCoHIRRdxny/s/3PWunmGxtIEPc6a/F/ifJoSEKIqiKMr39DJelWRQi3H4HsOKDMi4THMXIB6TwaRs62pw9/5CBrGYzAsX/nBDMgBzefFj+C8foFrOerb14EGbLvqOuB13vxvx4F76LZMRHjyo2ho9RmTrYAsNWG8J0YntPGjipj1FjFcjj0KzwuyjEdbV30C7OT7COLFXCk/kE+z/NSlHG3gOOSTZXN9owOFdMY1YBzF08CpdLSsp31zoQpuZco9IP3QbOnLXMhFGeLApdLZzhN8QJfschBxF11DyobsgxruJhvgg7EBETXQQdSbCliMNePCb5McIhMgNyVIXajt/SPB92WWy66l7Xyh/7+L74p0Qq7ZrxUYR4cH3hX/K4+fF5h+n+L74hAc/L/RKsCYFd0gsgpbyNjwz0RlO6cFTmxM6I2KUNyQGOmOm8dp+RNeK8TJgkyAzLEaBp1gg37GnwDVHZgQacMUZrlb3nvMFuIxarbwYeZzWM4JqBi1TvT4kDibDr9ZKY07DfjmamHfUMmZRw963EUNi1GvFoqb9UljyGdN6htO0X+hKPqPej73TuPftW48ZgdN8jx1k257VazVzPu/9N/grJJIYVDP2Vss9lktvkrNd/XattnuMEWlz+1PG1Gm7k72E9JNCA6v1HtMjRIgZ2o8Mo/0eWxGUfynatL21Ez8lfaRovkHaLUxkiPmrL/SewYFPuddqaGeWEUVRFEVRvqqfnnZk9rlieAEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=style&index=0&id=5cbcb1bc&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAMAAAD26OlUAAAAtFBMVEUAAAAAAAAAAAAAAAAaGhoCAgIDAwMBAQEQEBAAAAABAQEBAQECAgIAAAABAQEBAQECAgIEBAQBAQEAAAAFBQUDAwMDAwMAAAAAAAACAgIDAwMFBQUGBgYAAAABAQEBAQEDAwMDAwMICAgJCQkMDAwBAQEBAQEBAQECAgIBAQECAgICAgICAgIGBgYGBgYNDQ0EBAQCAgIEBAQBAQEBAQEDAwMCAgIDAwMEBAQFBQUQEBAAAAAlv8O7AAAAO3RSTlMAvz/5B4MexQP7YBe0n+vmf03b2F0SC+DPqVlRLfbKo3lENiEP89PAu66Ja2dJOjIncUfthpmTjT4pJj+7kzoAAAIXSURBVDjLnZTnlrIwEIbHDaEI0lFAQFGkWrBty/3f16cU0Q3sd86+vybwnMnUwJ/FWGxZshbzOyVqOLN1RdHtDGviILa/2D5S7ESSEltBvn3Z92JePhPid9ezpgwztTz3PRZmuUdzZkCSgoUnsUVCAvMHxqsbRW2xDlWVjcq/pJqTZA49mickfy4AJtJ+IEGJ4O50JOkKBrRKybG1T7r9RhNtGd9s/VRbUwdtae7NGTfWFjnTyhijCUNzIzJrSGaCKiuS5JDu+JKQBxnKUgQA2mZBOSxFdtKRzGKjAcAHcul7J2xN1mm46APA4gyWjo/U5KiuGmtwFhxkh6e5mhw1VeMd+QAawjRXk2L56BzSYCuMKa7WsstxLGxhKcz7udFTt+bCErC/+y8HOx93HmnuxeNLjOKC5toYn7NmwDVors3akzO+qZZ5AFfv4/hM9sDi9HV9jALpAKZOc7DWOQsgR82mfSmkIikOTJTfU2+nR/PJnQyprbhNz66ax/Op2ZybnDVQOp2lqJ7wyiV/VbjJUpsC7RCN250pqn0rLR56VLQ7A6ERhzCoMDYefwthtB/i9iOh6E4qST/7uc+UqM+lx4Trf3s4gl8DV88ypiqzxvJZhR9yOcId1y/Y8fbJBUrlZUaMq+mJ9xdX9MyrQWaXr/6HCwc+kmMuTblYRn6AVzAkcadmgaEoRpCpOxF+FR+J399iRPXoHwT7P6mwTTR1AAAAAElFTkSuQmCC\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('center',[_c('h2',[_vm._v(\"Taller de creacin de cuentos\")])]),_c('mis-libros',{on:{\"libroSeleccionado\":_vm.seleccionarLibro}}),(_vm.idLibroSeleccionado!=null)?_c('libro',{attrs:{\"idLibro\":_vm.idLibroSeleccionado}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"libro\",on:{\"click\":function($event){_vm.idPaginaSeleccionada = null}}},[_c('div',{attrs:{\"id\":\"zonaTitulo\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editandoTitulo),expression:\"!editandoTitulo\"}],attrs:{\"id\":\"titulo\"}},[_vm._v(\" \"+_vm._s(_vm.libro.titulo)+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTitulo),expression:\"nuevoTitulo\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTitulo),expression:\"editandoTitulo\"}],class:{ letrasRojas: _vm.nuevoTituloIlegal },attrs:{\"type\":\"text\",\"id\":\"inputNuevoTitulo\"},domProps:{\"value\":(_vm.nuevoTitulo)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.guardarNuevoTitulo($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTitulo=$event.target.value}}}),_c('div',{attrs:{\"id\":\"controlesTitulo\"}},[_c('img',{staticClass:\"bEditarTitulo\",attrs:{\"src\":require(\"@/assets/iconos/editar.png\"),\"alt\":\"Editar\",\"id\":\"bEditarrTitulo\",\"title\":\"Editar titulo del libro\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleEditandoTitulo($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTitulo == true && _vm.nuevoTituloIlegal == false),expression:\"editandoTitulo == true && nuevoTituloIlegal == false\"}],staticClass:\"bEditarTitulo\",attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"Guardar\",\"title\":\"guardar\",\"id\":\"bGuardarNuevoTitulo\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoTitulo($event)}}})])]),_c('div',{attrs:{\"id\":\"contenedorPaginas\"}},_vm._l((_vm.paginasOrdenadas),function(pagina,index){return _c('pagina',{key:pagina.id,attrs:{\"paginaDerecha\":index % 2 > 0 || index == 0,\"estaPagina\":pagina,\"idLibro\":_vm.idLibro,\"seleccionada\":_vm.idPaginaSeleccionada == pagina.id,\"segundoPlano\":_vm.idPaginaSeleccionada != null && _vm.idPaginaSeleccionada != pagina.id},on:{\"meElimine\":function($event){return _vm.removePaginaFromCache(pagina.id)},\"tengoNuevoCuadroTexto\":function($event){return _vm.updateCacheConNuevoCuadroTexto($event, pagina.id)},\"tengoNuevoCuadroImagen\":function($event){return _vm.updateCacheConNuevoCuadroImagen($event, pagina.id)},\"elimineCuadroTexto\":function($event){return _vm.removeCuadroTextoFromCache($event, pagina.id)},\"elimineCuadroImagen\":function($event){return _vm.removeCuadroImagenFromCache($event, pagina.id)}},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.idPaginaSeleccionada = pagina.id}}})}),1),_c('div',{class:{ deshabilitado: _vm.creandoPagina },attrs:{\"id\":\"bCrearNuevaPagina\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.crearNuevaPaginaLibro($event)}}},[_vm._v(\" Crear nueva pgina \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagina\",class:{ seleccionada: _vm.seleccionada, deshabilitado: _vm.uploadingInfo, segundoPlano: _vm.segundoPlano },style:([_vm.estiloColumna, _vm.estiloSize, _vm.estiloApariencia]),on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.accionCrearElemento($event)},\"mousemove\":_vm.resizeFantasmaElemento,\"mouseup\":_vm.endDibujandoElemento,\"click\":function($event){_vm.idElementoSeleccionado = null}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionada),expression:\"seleccionada\"}],staticClass:\"zonaControlesPagina\"},[_c('img',{staticClass:\"bControlesPagina bEliminarPagina\",attrs:{\"src\":require(\"@/assets/iconos/delete.png\")},on:{\"click\":_vm.eliminarse}})]),_c('herramientas-edicion',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionada),expression:\"seleccionada\"}],ref:\"herramientasEdicion\",on:{\"creacionTexto\":function($event){_vm.desactivarHerramientas();\n      _vm.creandoTexto = true;},\"creacionImagen\":function($event){_vm.desactivarHerramientas();        \n      _vm.creandoImagen = true;}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dibujandoTexto),expression:\"dibujandoTexto\"}],staticClass:\"fantasmaElemento\",style:([_vm.estiloLayoutFantasmaTexto]),attrs:{\"id\":\"fantasmaTexto\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dibujandoImagen),expression:\"dibujandoImagen\"}],staticClass:\"fantasmaElemento\",style:([_vm.estiloLayoutFantasmaImagen]),attrs:{\"id\":\"fantasmaImagen\"}}),_vm._l((_vm.estaPagina.cuadrosImagen),function(cuadroImagen){return _c('cuadro-imagen',{key:cuadroImagen.id,ref:'cuadroImagen'+cuadroImagen.id,refInFor:true,staticClass:\"elementoPagina\",class:{ primerPlano: _vm.idElementoSeleccionado == cuadroImagen.id },attrs:{\"esteCuadroImagen\":cuadroImagen,\"idLibro\":_vm.idLibro,\"idPagina\":_vm.estaPagina.id,\"sizePagina\":_vm.size,\"seleccionado\":_vm.idElementoSeleccionado == cuadroImagen.id,\"paginaSeleccionada\":_vm.seleccionada},on:{\"meElimine\":function($event){return _vm.$emit('elimineCuadroImagen', cuadroImagen.id)}},nativeOn:{\"click\":function($event){return _vm.resolverSeleccion($event, cuadroImagen.id)}}})}),_vm._l((_vm.estaPagina.cuadrosTexto),function(cuadroTexto){return _c('cuadro-texto',{key:cuadroTexto.id,staticClass:\"elementoPagina\",class:{ primerPlano: _vm.idElementoSeleccionado == cuadroTexto.id },attrs:{\"esteCuadroTexto\":cuadroTexto,\"idLibro\":_vm.idLibro,\"idPagina\":_vm.estaPagina.id,\"sizePagina\":_vm.size,\"seleccionado\":_vm.idElementoSeleccionado == cuadroTexto.id,\"paginaSeleccionada\":_vm.seleccionada},on:{\"meElimine\":function($event){return _vm.$emit('elimineCuadroTexto', cuadroTexto.id)}},nativeOn:{\"click\":function($event){return _vm.resolverSeleccion($event, cuadroTexto.id)}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroImagen\",class:{conAudio:_vm.esteCuadroImagen.audio, deshabilitado:_vm.updatingInfo, enPaginaSeleccionada:_vm.paginaSeleccionada},style:([_vm.estiloLayout]),on:{\"click\":_vm.playAudio}},[_c('img',{staticClass:\"imagenContenido\",attrs:{\"src\":_vm.urlImagen+'?v='+_vm.versionImagen,\"alt\":\"ilustracion\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:(_vm.sizeDragHandle),attrs:{\"id\":\"dragHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarDrag($event)},\"mousemove\":_vm.drag,\"mouseup\":_vm.finDrag}},[_c('div',{attrs:{\"id\":\"bolitaDragHandle\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:([_vm.sizeResizeHandle]),attrs:{\"id\":\"resizeHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.iniciarResize($event)},\"mousemove\":_vm.resize,\"mouseup\":_vm.finResize}},[_c('div',{attrs:{\"id\":\"bolitaResizeHandle\"}})]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar cuadro de imagen\",\"id\":\"bEliminarCuadroImagen\"},on:{\"click\":_vm.eliminarse}}),_c('input',{ref:\"inputArchivoImagen\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"inputArchivoImagen\"},on:{\"change\":_vm.uploadArchivoCuadroImagen}}),(_vm.esteCuadroImagen.audio)?_c('audio',{ref:\"audio\",attrs:{\"type\":\"audio/ogg\"}},[_c('source',{attrs:{\"src\":_vm.urlAudio,\"type\":\"audio/ogg\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cuadroImagen\" :style=\"[estiloLayout]\" @click=\"playAudio\" :class=\"{conAudio:esteCuadroImagen.audio, deshabilitado:updatingInfo, enPaginaSeleccionada:paginaSeleccionada}\">\n    <img :src=\"urlImagen+'?v='+versionImagen\" alt=\"ilustracion\" class=\"imagenContenido\" />\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div id=\"bolitaDragHandle\"></div>\n    </div>\n\n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <img\n      src=\"@/assets/iconos/delete.png\"\n      alt=\"Eliminar\"\n      title=\"Eliminar cuadro de imagen\"\n      id=\"bEliminarCuadroImagen\"\n      v-show=\"seleccionado\"\n      @click=\"eliminarse\"\n    />\n\n    <input type=\"file\" id=\"inputArchivoImagen\" style=\"display:none\" ref=\"inputArchivoImagen\" @change=\"uploadArchivoCuadroImagen\">\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroImagen.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n\n  </div>\n</template>\n\n<script>\nimport { gql } from 'apollo-server-core';\nimport axios from 'axios';\nexport default {\n  name: \"cuadroImagen\",\n  props: {\n    esteCuadroImagen: Object,\n    idLibro: String,\n    idPagina: String,\n    sizePagina:Object,\n    seleccionado:Boolean,\n    archivoCuadroImagenPagina:Object,\n    paginaSeleccionada:Boolean,\n  },\n  data() {\n    return {\n      resizing: false,\n      dragging:false,\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo:false,\n      versionImagen:0,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n      };\n    },\n    urlImagen() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/imagenCuento/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };      \n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioImagen/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroImagen.id\n      );\n    },\n  },\n  methods: {\n    playAudio(){\n      if(!this.esteCuadroImagen.audio)return;\n      this.$refs.audio.play();\n    },\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        const nuevox = e.clientX - cuadroPos.x - 5;\n        const nuevoy = e.clientY - cuadroPos.y - 5;\n\n        \n        var nuevoxP = Math.floor((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.floor((nuevoy * 100) / this.sizePagina.y);\n\n        if(this.posicion.x+nuevoxP>100)nuevoxP=Math.floor(100-this.posicion.x);\n        if(this.posicion.y+nuevoyP>100)nuevoyP=Math.floor(100-this.posicion.y);\n\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        if(nuevaPos.x+this.$el.offsetWidth>elemPagina.offsetWidth){\n          nuevaPos.x=elemPagina.offsetWidth-this.$el.offsetWidth;          \n        }\n        if(nuevaPos.x<0){\n          nuevaPos.x=0;          \n        }\n\n        if(nuevaPos.y+this.$el.offsetHeight>elemPagina.offsetHeight){\n          nuevaPos.y=elemPagina.offsetHeight-this.$el.offsetHeight;          \n        }\n        if(nuevaPos.y<0){\n          nuevaPos.y=0;          \n        }\n\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroImagen: this.esteCuadroImagen.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n  \n    uploadArchivoCuadroImagen() {\n      var datos = new FormData();\n      if (!this.$refs.inputArchivoImagen.value) {\n        console.log(`No haba archivo seleccionado`);\n        return;\n      }\n      datos.append(\"idLibro\", this.idLibro);\n      datos.append(\"idPagina\", this.idPagina);\n      datos.append(\"idCuadroImagen\", this.esteCuadroImagen.id);\n      datos.append(\"imagen\", this.$refs.inputArchivoImagen.files[0]);\n\n      axios({\n        method: \"post\",\n        url: this.serverUrl + \"/apiCuentos/subirArchivoCuadroImagen\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + this.$store.state.token,\n        },\n      })\n        .then(({ res }) => {\n          console.log(`Resultado de upload archivo: ${res}`);\n          this.versionImagen++;\n        })\n        .catch((error) => {\n          console.log(`Error uploading archivo de cuadroImagen. E: ${error}`);\n        });\n    },\n\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de imagen. Esta operacin no se puede deshacer. Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de imagen`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroImagen:ID!) {\n              eliminarCuadroImagenLibro(idLibro: $idLibro, idPagina: $idPagina, idCuadroImagen:$idCuadroImagen)\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroImagen:this.esteCuadroImagen.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroImagenLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroImagenLibro}`);\n          if (eliminarCuadroImagenLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n  },\n  mounted() {\n    console.log(`Montado`);\n    this.posicion = this.esteCuadroImagen.posicion;\n    this.size = this.esteCuadroImagen.size;    \n\n    if(this.esteCuadroImagen.sinArchivo){\n      console.log(`Abriendo el input de archivo`);\n      this.$refs.inputArchivoImagen.click();\n    }\n  },\n};\n</script>\n\n<style scoped>\n.cuadroImagen {\n  position: absolute;\n   border-width: 1px;\n  border-style: solid;\n}\n.cuadroImagen:not(.enPaginaSeleccionada){\n  border-color: transparent;\n}\n.enPaginaSeleccionada{\n  border-color:purple;\n}\n.imagenContenido {\n  width: 100%;\n  height: 100%;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n.conAudio{\n  cursor:pointer;\n}\n\n#bEliminarCuadroImagen {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: -40px;\n  right: -35px;\n}\n#bEliminarCuadroImagen:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroImagen.vue?vue&type=template&id=20b4bbac&scoped=true&\"\nimport script from \"./CuadroImagen.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroImagen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroImagen.vue?vue&type=style&index=0&id=20b4bbac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20b4bbac\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cuadroTexto\",class:{ conAudio: _vm.esteCuadroTexto.audio, deshabilitado: _vm.updatingInfo, enPaginaSeleccionada:_vm.paginaSeleccionada },style:([_vm.estiloLayout]),on:{\"click\":_vm.playAudio}},[_c('div',{ref:\"texto\",staticClass:\"texto\",style:([_vm.estiloFormato, _vm.estiloFontSize, _vm.estiloVisibilidadTexto]),on:{\"click\":_vm.iniciarEdicionTexto}},[_vm._v(_vm._s(_vm.esteCuadroTexto.texto))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTexto),expression:\"nuevoTexto\"},{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTexto),expression:\"editandoTexto\"}],ref:\"inputNuevoTexto\",style:([_vm.estiloFormato, _vm.estiloFontSizeInput]),attrs:{\"id\":\"inputNuevoTexto\"},domProps:{\"value\":(_vm.nuevoTexto)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTexto=$event.target.value}}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nuevoTexto),expression:\"nuevoTexto\"}],ref:\"dummyInput\",style:([_vm.estiloFormato, _vm.estiloInputDummy]),attrs:{\"id\":\"dummyInputTexto\"},domProps:{\"value\":(_vm.nuevoTexto)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nuevoTexto=$event.target.value}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editandoTexto),expression:\"editandoTexto\"}],attrs:{\"src\":require(\"@/assets/iconos/guardar.png\"),\"alt\":\"guardar\",\"title\":\"Guardar cambios\",\"id\":\"bGuardarTexto\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.guardarNuevoTexto($event)}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"src\":require(\"@/assets/iconos/delete.png\"),\"alt\":\"Eliminar\",\"title\":\"Eliminar cuadro de texto\",\"id\":\"bEliminarCuadroTexto\"},on:{\"click\":_vm.eliminarse}}),_c('div',{ref:\"textoDummy\",staticClass:\"textoDummy\",style:([_vm.estiloFormato, _vm.estiloDummy])},[_vm._v(\" \"+_vm._s(_vm.esteCuadroTexto.texto)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:(_vm.sizeDragHandle),attrs:{\"id\":\"dragHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarDrag($event)},\"mousemove\":_vm.drag,\"mouseup\":_vm.finDrag}},[_c('div',{attrs:{\"id\":\"bolitaDragHandle\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],style:([_vm.sizeResizeHandle]),attrs:{\"id\":\"resizeHandle\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.stopPropagation();return _vm.iniciarResize($event)},\"mousemove\":_vm.resize,\"mouseup\":_vm.finResize}},[_c('div',{attrs:{\"id\":\"bolitaResizeHandle\"}})]),(_vm.esteCuadroTexto.audio)?_c('audio',{ref:\"audio\",attrs:{\"type\":\"audio/ogg\"}},[_c('source',{attrs:{\"src\":_vm.urlAudio,\"type\":\"audio/ogg\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"cuadroTexto\"\n    :style=\"[estiloLayout]\"\n    @click=\"playAudio\"\n    :class=\"{ conAudio: esteCuadroTexto.audio, deshabilitado: updatingInfo, enPaginaSeleccionada:paginaSeleccionada }\"\n  >\n    <div\n      class=\"texto\"\n      :style=\"[estiloFormato, estiloFontSize, estiloVisibilidadTexto]\"\n      ref=\"texto\"\n      @click=\"iniciarEdicionTexto\"\n    >{{ esteCuadroTexto.texto }}</div>\n    <textarea\n      ref=\"inputNuevoTexto\"\n      id=\"inputNuevoTexto\"\n      :style=\"[estiloFormato, estiloFontSizeInput]\"\n      v-model=\"nuevoTexto\"\n      v-show=\"editandoTexto\"\n    ></textarea>\n\n    <textarea\n      ref=\"dummyInput\"\n      id=\"dummyInputTexto\"\n      :style=\"[estiloFormato, estiloInputDummy]\"\n      v-model=\"nuevoTexto\"\n    >\n    </textarea>\n\n    <img\n      src=\"@/assets/iconos/guardar.png\"\n      alt=\"guardar\"\n      title=\"Guardar cambios\"\n      id=\"bGuardarTexto\"\n      v-show=\"editandoTexto\"\n      @click.stop=\"guardarNuevoTexto\"\n    />\n\n    <img\n      src=\"@/assets/iconos/delete.png\"\n      alt=\"Eliminar\"\n      title=\"Eliminar cuadro de texto\"\n      id=\"bEliminarCuadroTexto\"\n      v-show=\"seleccionado\"\n      @click=\"eliminarse\"\n    />\n\n    <div\n      class=\"textoDummy\"\n      :style=\"[estiloFormato, estiloDummy]\"\n      ref=\"textoDummy\"\n    >\n      {{ esteCuadroTexto.texto }}\n    </div>\n\n    <div\n      id=\"dragHandle\"\n      v-show=\"seleccionado\"\n      :style=\"sizeDragHandle\"\n      @mousedown.left.stop=\"iniciarDrag\"\n      @mousemove=\"drag\"\n      @mouseup=\"finDrag\"\n    >\n      <div id=\"bolitaDragHandle\"></div>\n    </div>\n\n    <div\n      id=\"resizeHandle\"\n      :style=\"[sizeResizeHandle]\"\n      v-show=\"seleccionado\"\n      @mousedown.left.stop=\"iniciarResize\"\n      @mousemove=\"resize\"\n      @mouseup=\"finResize\"\n    >\n      <div id=\"bolitaResizeHandle\"></div>\n    </div>\n\n    <audio type=\"audio/ogg\" v-if=\"esteCuadroTexto.audio\" ref=\"audio\">\n      <source :src=\"urlAudio\" type=\"audio/ogg\" />\n    </audio>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nexport default {\n  name: \"CuadroTexto\",\n  props: {\n    idLibro: String,\n    idPagina: String,\n    esteCuadroTexto: Object,\n    sizePagina: Object,\n    seleccionado: Boolean,\n    paginaSeleccionada:Boolean,\n  },\n  data() {\n    return {\n      fontSizeDummy: 10,\n      fontSizeInputDummy: 10,\n      fontSizeTexto: 10,\n      fontSizeInput: 10,\n\n      resizing: false,\n      dragging: false,\n\n      posicion: {\n        x: null,\n        y: null,\n      },\n      size: {\n        x: null,\n        y: null,\n      },\n      updatingInfo: false,\n\n      nuevoTexto: null,\n      editandoTexto: false,\n    };\n  },\n  computed: {\n    estiloLayout() {\n      return {\n        top: this.posicion.y + \"%\",\n        left: this.posicion.x + \"%\",\n\n        width: this.size.x + \"%\",\n        height: this.size.y + \"%\",\n      };\n    },\n    estiloFormato() {\n      return {\n        textAlign: this.esteCuadroTexto.formato.alineacion,\n        color: this.esteCuadroTexto.formato.colorLetra,\n        fontFamily:\n          this.esteCuadroTexto.formato.tipoLetra + \", 'Nunito', sans-serif\",\n      };\n    },\n    estiloFontSize() {\n      return {\n        fontSize: this.fontSizeTexto + \"px\",\n      };\n    },\n    estiloVisibilidadTexto() {\n      return {\n        visibility: this.editandoTexto ? \"hidden\" : \"visible\",\n      };\n    },\n    estiloFontSizeInput() {\n      return {\n        fontSize: this.fontSizeInput + \"px\",\n      };\n    },\n    estiloDummy() {\n      return {\n        fontSize: this.fontSizeDummy + \"px\",\n      };\n    },\n    estiloInputDummy() {\n      return {\n        fontSize: this.fontSizeInputDummy + \"px\",\n      };\n    },\n    sizeResizeHandle() {\n      return {\n        width: this.resizing ? 200 + \"px\" : 10 + \"px\",\n        height: this.resizing ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    sizeDragHandle() {\n      return {\n        width: this.dragging ? 200 + \"px\" : 10 + \"px\",\n        height: this.dragging ? 200 + \"px\" : 10 + \"px\",\n      };\n    },\n    urlAudio() {\n      return (\n        this.serverUrl +\n        \"/apiCuentos/audioTexto/\" +\n        this.idLibro +\n        \"/\" +\n        this.idPagina +\n        \"/\" +\n        this.esteCuadroTexto.id\n      );\n    },\n  },\n  methods: {\n    playAudio() {\n      if (!this.esteCuadroTexto.audio) return;\n      console.log(`Reproduciendo`);\n      this.$refs.audio.play();\n    },\n\n    iniciarResize() {\n      this.resizing = true;\n    },\n    resize(e) {\n      if (this.resizing) {\n        var cuadroPos = {\n          x: this.$el.getBoundingClientRect().left,\n          y: this.$el.getBoundingClientRect().top,\n        };\n\n        var nuevox = e.clientX - cuadroPos.x - 5;\n        var nuevoy = e.clientY - cuadroPos.y - 5;\n\n        if (nuevox < 15 || nuevoy < 15) {\n          console.log(`Offlimits`);\n          return;\n        }\n\n        // if (\n        //   e.clientY > cuadroPos.y + this.sizePagina.y\n        // ) {\n        //   nuevox = this.sizePagina.x - cuadroPos.x;\n        // }\n\n        // if (\n        //   e.clientY > cuadroPos.y + this.sizePagina.y\n        // ) {\n        //   nuevoy = this.sizePagina.y - cuadroPos.y;\n        // }\n\n        var nuevoxP = Math.round((nuevox * 100) / this.sizePagina.x);\n        var nuevoyP = Math.round((nuevoy * 100) / this.sizePagina.y);\n\n        if (this.posicion.x + nuevoxP > 100)\n          nuevoxP = Math.floor(100 - this.posicion.x);\n        if (this.posicion.y + nuevoyP > 100)\n          nuevoyP = Math.floor(100 - this.posicion.y);\n\n        this.$set(this.size, \"x\", nuevoxP);\n        this.$set(this.size, \"y\", nuevoyP);\n      }\n    },\n    finResize() {\n      this.resizing = false;\n      this.fontSizeDummy = 10;\n      this.$nextTick(() => {\n        this.findFontSize();\n\n        this.$apollo.mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoSize: CoordsInput!\n            ) {\n              updateSizeCuadroTexto(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoSize: $nuevoSize\n              ) {\n                id\n                size {\n                  x\n                  y\n                }\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n            nuevoSize: this.size,\n          },\n        });\n      });\n    },\n\n    findFontSize() {\n      if (\n        !this.esteCuadroTexto ||\n        !this.esteCuadroTexto.texto ||\n        this.esteCuadroTexto.texto.length < 1\n      )\n        return;\n      console.log(`Ajustando font size texto`);\n      let hTexto = this.$refs.texto.offsetHeight;\n      let hDummy = this.$refs.textoDummy.offsetHeight;\n      let wDummy = this.$refs.textoDummy.scrollWidth;\n      let wTexto = this.$refs.texto.offsetWidth;\n      // if (!confirm(\"continuar\")) {\n      //   return;\n      // }\n      console.log(`Dummy: ${wDummy}x${hDummy}. Texto: ${wTexto}x${hTexto}`);\n\n      if (hDummy >= hTexto || wDummy >= wTexto) {\n        console.log(\n          `El dummy es ms grande que el texto. Disminuyendo font size`\n        );\n        this.fontSizeDummy = this.fontSizeDummy - 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n          console.log(\n            `Ahora: Dummy: ${wDummy}x${hDummy}. texto: ${wTexto}x${hTexto}`\n          );\n\n          if ((hDummy < hTexto && wDummy < wTexto) || this.fontSizeDummy < 5) {\n            console.log(`Encontrado`);\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      } else if (hDummy < hTexto && wDummy < wTexto) {\n        console.log(\n          `El dummy es ms pequeo que el texto. Creciendo font size`\n        );\n        this.fontSizeDummy = this.fontSizeDummy + 2;\n        this.$nextTick(() => {\n          let hTexto = this.$refs.texto.offsetHeight;\n          let hDummy = this.$refs.textoDummy.offsetHeight;\n          let wDummy = this.$refs.textoDummy.scrollWidth;\n          let wTexto = this.$refs.texto.offsetWidth;\n          console.log(\n            `Ahora: Dummy: ${wDummy}x${hDummy}. Texto: ${wTexto}x${hTexto}`\n          );\n          if (\n            hDummy >= hTexto ||\n            wDummy >= wTexto ||\n            this.fontSizeDummy > 100\n          ) {\n            console.log(`Encontrado`);\n            this.fontSizeDummy = this.fontSizeDummy - 2;\n            console.log(`Qued en ${this.fontSizeDummy}`);\n            this.fontSizeTexto = this.fontSizeDummy;\n            this.fontSizeInput = this.fontSizeDummy;\n\n            return;\n          } else {\n            this.findFontSize();\n          }\n        });\n      }\n    },\n    findFontSizeInput() {\n      if (!this.nuevoTexto || this.nuevoTexto.length < 1) return;\n      console.log(`Ajustando font size input`);\n      let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n      let hDummy = this.$refs.dummyInput.scrollHeight;\n      let wDummy = this.$refs.dummyInput.scrollWidth;\n      let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n      // if (!confirm(\"continuar\")) {\n      //   return;\n      // }\n      console.log(`Dummy: ${wDummy}x${hDummy}. Input: ${wInput}x${hInput}`);\n\n      if (hDummy >= hInput || wDummy >= wInput) {\n        console.log(\n          `El dummy es ms grande que el input. Disminuyendo font size`\n        );\n        this.fontSizeInputDummy = this.fontSizeInputDummy - 2;\n        this.$nextTick(() => {\n          let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n          let hDummy = this.$refs.dummyInput.scrollHeight;\n          let wDummy = this.$refs.dummyInput.scrollWidth;\n          let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n          console.log(\n            `Ahora: Dummy: ${wDummy}x${hDummy}. Input: ${wInput}x${hInput}`\n          );\n\n          if (\n            (hDummy < hInput && wDummy < wInput) ||\n            this.fontSizeInputDummy < 5\n          ) {\n            this.fontSizeInput = this.fontSizeInputDummy;\n            return;\n          } else {\n            this.findFontSizeInput();\n          }\n        });\n      } else if (hDummy < hInput && wDummy < wInput) {\n        console.log(\n          `El dummy es ms pequeo que el input. Creciendo font size`\n        );\n        this.fontSizeInputDummy = this.fontSizeInputDummy + 2;\n        this.$nextTick(() => {\n          let hInput = this.$refs.inputNuevoTexto.offsetHeight;\n          let hDummy = this.$refs.dummyInput.scrollHeight;\n          let wDummy = this.$refs.dummyInput.scrollWidth;\n          let wInput = this.$refs.inputNuevoTexto.offsetWidth;\n          console.log(\n            `Ahora: Dummy: ${wDummy}x${hDummy}. Input: ${wInput}x${hInput}`\n          );\n          if (\n            hDummy >= hInput ||\n            wDummy >= wInput ||\n            this.fontSizeInputDummy > 100\n          ) {\n            this.fontSizeInputDummy = this.fontSizeInputDummy - 2;\n            this.fontSizeInput = this.fontSizeInputDummy;\n            return;\n          } else {\n            this.findFontSizeInput();\n          }\n        });\n      }\n    },\n\n    guardarNuevoTexto() {\n      if (this.nuevoTexto.length > 3000) {\n        alert(\"Texto demasiado largo\");\n        return;\n      }\n      if (this.nuevoTexto == this.esteCuadroTexto.texto) {\n        console.log(`Texto no modificado`);\n        this.editandoTexto = false;\n        return;\n      }\n      this.updatingInfo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoTexto: String!\n            ) {\n              updateTextoCuadroTextoCuento(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoTexto: $nuevoTexto\n              ) {\n                id\n                texto\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n            nuevoTexto: this.nuevoTexto,\n          },\n        })\n        .then(() => {\n          this.editandoTexto = false;\n          this.updatingInfo = false;\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n    iniciarEdicionTexto() {\n      if (this.seleccionado) {\n        this.fontSizeInput = this.fontSizeTexto;\n        this.fontSizeInputDummy = this.fontSizeTexto;\n        this.nuevoTexto = this.esteCuadroTexto.texto;\n        this.editandoTexto = true;\n        this.$nextTick(()=>{\n          this.$refs.inputNuevoTexto.focus();\n        })\n      }\n    },\n\n    iniciarDrag() {\n      this.dragging = true;\n    },\n    drag(e) {\n      if (this.dragging) {\n        console.log(`Dragging`);\n        const elemPagina = this.$el.closest(\".pagina\");\n        const posPagina = elemPagina.getBoundingClientRect();\n        var posMouse = {\n          x: e.clientX - posPagina.left,\n          y: e.clientY - posPagina.top,\n        };\n        var nuevaPos = {\n          x: posMouse.x - this.$el.offsetWidth / 2,\n          y: posMouse.y + 20,\n        };\n\n        if (nuevaPos.x + this.$el.offsetWidth > elemPagina.offsetWidth) {\n          nuevaPos.x = elemPagina.offsetWidth - this.$el.offsetWidth;\n        }\n        if (nuevaPos.x < 0) {\n          nuevaPos.x = 0;\n        }\n\n        if (nuevaPos.y + this.$el.offsetHeight > elemPagina.offsetHeight) {\n          nuevaPos.y = elemPagina.offsetHeight - this.$el.offsetHeight;\n        }\n        if (nuevaPos.y < 0) {\n          nuevaPos.y = 0;\n        }\n\n        var nuevaPosP = {\n          x: Math.round((nuevaPos.x * 100) / elemPagina.offsetWidth),\n          y: Math.round((nuevaPos.y * 100) / elemPagina.offsetHeight),\n        };\n\n        this.posicion = nuevaPosP;\n      }\n    },\n    finDrag() {\n      this.dragging = false;\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroTexto: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroTexto(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroTexto: $idCuadroTexto\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        `,\n        variables: {\n          idLibro: this.idLibro,\n          idPagina: this.idPagina,\n          idCuadroTexto: this.esteCuadroTexto.id,\n          nuevoPosicion: this.posicion,\n        },\n      });\n    },\n\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando cuadro de texto. Esta operacin no se puede deshacer. Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.updatingInfo = true;\n      console.log(`Eliminando un cuadro de texto`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroTexto: ID!) {\n              eliminarCuadroTextoLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n              )\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.idPagina,\n            idCuadroTexto: this.esteCuadroTexto.id,\n          },\n        })\n        .then(({ data: { eliminarCuadroTextoLibro } }) => {\n          console.log(`Resultado: ${eliminarCuadroTextoLibro}`);\n          if (eliminarCuadroTextoLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.updatingInfo = false;\n        });\n    },\n  },\n  watch: {\n    nuevoTexto() {\n      this.$nextTick(() => {\n        this.findFontSizeInput();\n      });\n    },\n    esteCuadroTexto() {\n      this.$nextTick(() => {\n        this.findFontSize();\n      });\n    },\n    seleccionado(nuevo) {\n      if (nuevo == false) {\n        this.editandoTexto = false;\n      }\n    },\n  },\n  mounted() {\n    this.$set(this.posicion, \"x\", this.esteCuadroTexto.posicion.x);\n    this.$set(this.posicion, \"y\", this.esteCuadroTexto.posicion.y);\n\n    this.$set(this.size, \"x\", this.esteCuadroTexto.size.x);\n    this.$set(this.size, \"y\", this.esteCuadroTexto.size.y);\n\n    this.$nextTick(() => {\n      this.findFontSize();\n    });\n  },\n};\n</script>\n\n<style>\n.texto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  white-space: pre-wrap;\n}\n.cuadroTexto {\n  position: absolute;  \n  resize: both;\n  \n  border-width: 1px;\n  border-style: solid;\n}\n.cuadroTexto:not(.enPaginaSeleccionada){\n  border-color: transparent;\n}\n.enPaginaSeleccionada{\n  border-color:purple;\n}\n.textoDummy {\n  width: 99%;\n  border: 1px solid pink;\n  overflow-x: scroll;\n  position: absolute;\n  left: -100%;\n  pointer-events: none;\n  white-space: pre-wrap;\n  visibility: hidden;\n}\n#dummyInputTexto {\n  width: 99%;\n  height: 99%;\n  overflow-x: scroll;\n  border: 1px solid pink;\n  visibility: hidden;\n  pointer-events: none;\n  position: absolute;\n  left: -100%;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  box-sizing: border-box;\n  word-wrap: normal;\n}\n#inputNuevoTexto {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(255, 255, 0, 0.459);\n\n  box-sizing: border-box;\n  resize: none;\n  overflow: hidden;\n  display: block;\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  word-wrap: normal;\n}\n#inputNuevoTexto:hover {\n  outline: none;\n}\n#resizeHandle {\n  position: absolute;\n  top: 100%;\n  left: 100%;\n\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaResizeHandle {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n#dragHandle {\n  position: absolute;\n  top: -20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid purple;\n}\n#bolitaDragHandle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: green;\n}\n\n.conAudio {\n  cursor: pointer;\n}\n\n#bGuardarTexto {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: 110%;\n  left: 50%;\n  transform: translateX(-50%);\n}\n#bGuardarTexto:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n\n#bEliminarCuadroTexto {\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(128, 0, 128, 0.212);\n  position: absolute;\n  top: -40px;\n  right: -35px;\n}\n#bEliminarCuadroTexto:hover {\n  background-color: rgba(128, 0, 128, 0.637);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroTexto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CuadroTexto.vue?vue&type=template&id=05f9aebc&\"\nimport script from \"./CuadroTexto.vue?vue&type=script&lang=js&\"\nexport * from \"./CuadroTexto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CuadroTexto.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"herramientasEdicion\"}},[_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='puntero'},attrs:{\"src\":require(\"@/assets/iconos/puntero.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('puntero');\n      _vm.herramientaSeleccionada = 'puntero';},\"mousedown\":function($event){$event.stopPropagation();}}}),_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='texto'},attrs:{\"src\":require(\"@/assets/iconos/texto.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('creacionTexto');\n      _vm.herramientaSeleccionada = 'texto';},\"mousedown\":function($event){$event.stopPropagation();}}}),_c('img',{staticClass:\"bHerramientasEdicion\",class:{hSeleccionada:_vm.herramientaSeleccionada=='imagen'},attrs:{\"src\":require(\"@/assets/iconos/imagen.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.$emit('creacionImagen');\n      _vm.herramientaSeleccionada = 'imagen';},\"mousedown\":function($event){$event.stopPropagation();}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"herramientasEdicion\">\n    <img\n      src=\"@/assets/iconos/puntero.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='puntero'}\"\n      @click.stop=\"\n        $emit('puntero');\n        herramientaSeleccionada = 'puntero';\n      \"\n      @mousedown.stop=\"\"\n    />\n    <img\n      src=\"@/assets/iconos/texto.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='texto'}\"\n      @click.stop=\"\n        $emit('creacionTexto');\n        herramientaSeleccionada = 'texto';\n      \"\n      @mousedown.stop=\"\"\n    />\n    <img\n      src=\"@/assets/iconos/imagen.png\"\n      class=\"bHerramientasEdicion\"\n      :class=\"{hSeleccionada:herramientaSeleccionada=='imagen'}\"\n      @click.stop=\"\n        $emit('creacionImagen');\n        herramientaSeleccionada = 'imagen';\n      \"\n      @mousedown.stop=\"\"\n    />\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"HerramientasEdicion\",\n  data() {\n    return {\n      herramientaSeleccionada: 'puntero',\n    };\n  },\n  methods:{\n      reset(){\n          this.herramientaSeleccionada='puntero';\n      }\n  }\n};\n</script>\n\n<style scoped>\n#herramientasEdicion {\n  padding: 20px 10px;\n  background-color: rgb(185, 126, 185);\n  border: 2px solid rgb(46, 0, 46);\n  user-select: none;\n}\n.bHerramientasEdicion {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  padding: 5px;\n  cursor: pointer;\n  display: block;\n  margin:2px 0px;\n}\n.bHerramientasEdicion:hover {\n  background-color: rgba(128, 0, 128, 0.507);\n}\n.hSeleccionada{\n  background-color: rgba(128, 0, 128, 0.507);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HerramientasEdicion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HerramientasEdicion.vue?vue&type=template&id=2c9e7702&scoped=true&\"\nimport script from \"./HerramientasEdicion.vue?vue&type=script&lang=js&\"\nexport * from \"./HerramientasEdicion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HerramientasEdicion.vue?vue&type=style&index=0&id=2c9e7702&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c9e7702\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"pagina\"\n    :style=\"[estiloColumna, estiloSize, estiloApariencia]\"\n    :class=\"{ seleccionada, deshabilitado: uploadingInfo, segundoPlano }\"\n    @mousedown.left.stop=\"accionCrearElemento\"\n    @mousemove=\"resizeFantasmaElemento\"\n    @mouseup=\"endDibujandoElemento\"\n    @click=\"idElementoSeleccionado = null\"\n  >\n    <div class=\"zonaControlesPagina\" v-show=\"seleccionada\">\n      <img\n        src=\"@/assets/iconos/delete.png\"\n        class=\"bControlesPagina bEliminarPagina\"\n        @click=\"eliminarse\"\n      />\n    </div>\n\n    <herramientas-edicion\n      v-show=\"seleccionada\"\n      ref=\"herramientasEdicion\"\n      @creacionTexto=\"\n        desactivarHerramientas();\n        creandoTexto = true;\n      \"\n      @creacionImagen=\"\n        desactivarHerramientas();        \n        creandoImagen = true;\n      \"\n    />\n\n    <div\n      id=\"fantasmaTexto\"\n      class=\"fantasmaElemento\"\n      :style=\"[estiloLayoutFantasmaTexto]\"\n      v-show=\"dibujandoTexto\"\n    ></div>\n    <div\n      id=\"fantasmaImagen\"\n      class=\"fantasmaElemento\"\n      :style=\"[estiloLayoutFantasmaImagen]\"\n      v-show=\"dibujandoImagen\"\n    ></div>\n    \n    <cuadro-imagen\n      v-for=\"cuadroImagen of estaPagina.cuadrosImagen\"\n      class=\"elementoPagina\"\n      :ref=\"'cuadroImagen'+cuadroImagen.id\"\n      :class=\"{ primerPlano: idElementoSeleccionado == cuadroImagen.id }\"\n      :key=\"cuadroImagen.id\"\n      :esteCuadroImagen=\"cuadroImagen\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n      :seleccionado=\"idElementoSeleccionado == cuadroImagen.id\"\n      :paginaSeleccionada=\"seleccionada\"\n      @click.native=\"resolverSeleccion($event, cuadroImagen.id)\"      \n      @meElimine=\"$emit('elimineCuadroImagen', cuadroImagen.id)\"\n    />\n\n    <cuadro-texto\n      v-for=\"cuadroTexto of estaPagina.cuadrosTexto\"\n      class=\"elementoPagina\"\n      :class=\"{ primerPlano: idElementoSeleccionado == cuadroTexto.id }\"\n      :key=\"cuadroTexto.id\"\n      :esteCuadroTexto=\"cuadroTexto\"\n      :idLibro=\"idLibro\"\n      :idPagina=\"estaPagina.id\"\n      :sizePagina=\"size\"\n      :seleccionado=\"idElementoSeleccionado == cuadroTexto.id\"\n      :paginaSeleccionada=\"seleccionada\"\n      @click.native=\"resolverSeleccion($event, cuadroTexto.id)\"      \n      @meElimine=\"$emit('elimineCuadroTexto', cuadroTexto.id)\"\n    />\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\nimport CuadroImagen from \"./CuadroImagen.vue\";\nimport CuadroTexto from \"./CuadroTexto.vue\";\nimport HerramientasEdicion from \"./HerramientasEdicion.vue\";\nimport { fragmentoCuadroImagen, fragmentoCuadroTexto } from \"./Libro.vue\";\nexport default {\n  components: { CuadroImagen, CuadroTexto, HerramientasEdicion },\n  name: \"Pagina\",\n  props: {\n    estaPagina: Object,\n    paginaDerecha: Boolean,\n    preparada: {\n      type: Boolean,\n      default: false,\n    },\n    visible: {\n      type: Boolean,\n    },\n    idLibro: String,\n    seleccionada: Boolean,\n    segundoPlano: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      ancho: 450,\n      alto: 600,\n      uploadingInfo: false,\n\n      creandoTexto: false,\n      creandoImagen: false,\n\n      dibujandoTexto: false,\n      dibujandoImagen: false,\n\n      posFantasmaTexto: {\n        x: 0,\n        y: 0,\n      },\n      sizeFantasmaTexto: {\n        x: 30,\n        y: 30,\n      },\n\n      posFantasmaImagen: {\n        x: 0,\n        y: 0,\n      },\n      sizeFantasmaImagen: {\n        x: 30,\n        y: 30,\n      },\n\n      idElementoSeleccionado: null,\n    };\n  },\n  computed: {\n    estiloColumna() {\n      if (this.paginaDerecha) {\n        return {\n          gridColumn: \"1/2\",\n          justifySelf: \"right\",\n        };\n      }\n      return null;\n    },\n    estiloSize() {\n      return {\n        width: this.ancho + \"px\",\n        height: this.alto + \"px\",\n      };\n    },\n    size() {\n      return {\n        x: this.ancho,\n        y: this.alto,\n      };\n    },\n    estiloApariencia() {\n      return {\n        backgroundColor: this.estaPagina.color,\n      };\n    },\n    estiloLayoutFantasmaTexto() {\n      return {\n        top: this.posFantasmaTexto.y + \"px\",\n        left: this.posFantasmaTexto.x + \"px\",\n        width: this.sizeFantasmaTexto.x + \"px\",\n        height: this.sizeFantasmaTexto.y + \"px\",\n      };\n    },\n    estiloLayoutFantasmaImagen() {\n      return {\n        top: this.posFantasmaImagen.y + \"px\",\n        left: this.posFantasmaImagen.x + \"px\",\n        width: this.sizeFantasmaImagen.x + \"px\",\n        height: this.sizeFantasmaImagen.y + \"px\",\n      };\n    },\n  },\n  methods: {\n    eliminarse() {\n      if (\n        !confirm(\n          \"Eliminando pgina. Esta operacin no se puede deshacer. Continuar?\"\n        )\n      ) {\n        return;\n      }\n      this.uploadingInfo = true;\n      console.log(`Eliminando una pgina`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $idPagina: ID!) {\n              eliminarPaginaDeLibro(idLibro: $idLibro, idPagina: $idPagina)\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n          },\n        })\n        .then(({ data: { eliminarPaginaDeLibro } }) => {\n          console.log(`Resultado: ${eliminarPaginaDeLibro}`);\n          if (eliminarPaginaDeLibro) {\n            this.$emit(\"meElimine\");\n          }\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error}`);\n          this.uploadingInfo = false;\n        });\n    },\n    desactivarHerramientas() {\n      this.creandoTexto = false;\n      this.creandoImagen = false;\n    },\n    accionCrearElemento(e) {\n      const posPagina = this.$el.getBoundingClientRect();\n      const posClick = {\n        x: e.clientX - posPagina.left,\n        y: e.clientY - posPagina.top,\n      };\n\n      if (this.creandoTexto) {\n        this.dibujandoTexto = true;\n        this.$set(this.posFantasmaTexto, \"x\", Math.floor(posClick.x));\n        this.$set(this.posFantasmaTexto, \"y\", Math.floor(posClick.y));\n\n        this.$set(this.sizeFantasmaTexto, \"x\", 30);\n        this.$set(this.sizeFantasmaTexto, \"y\", 30);\n      } else if (this.creandoImagen) {\n        this.dibujandoImagen = true;\n        this.$set(this.posFantasmaImagen, \"x\", Math.floor(posClick.x));\n        this.$set(this.posFantasmaImagen, \"y\", Math.floor(posClick.y));\n\n        this.$set(this.sizeFantasmaImagen, \"x\", 30);\n        this.$set(this.sizeFantasmaImagen, \"y\", 30);\n      }\n    },\n    resizeFantasmaElemento(e) {\n      const posPagina = this.$el.getBoundingClientRect();\n      const posClick = {\n        x: e.clientX - posPagina.left,\n        y: e.clientY - posPagina.top,\n      };\n\n      if (this.dibujandoTexto) {\n        let sizeFantasma = {\n          x: posClick.x - this.posFantasmaTexto.x,\n          y: posClick.y - this.posFantasmaTexto.y,\n        };\n\n        if (sizeFantasma.x < 30) {\n          sizeFantasma.x = 30;\n        }\n        if (sizeFantasma.y < 30) {\n          sizeFantasma.y = 30;\n        }\n\n        this.$set(this.sizeFantasmaTexto, \"x\", Math.floor(sizeFantasma.x));\n        this.$set(this.sizeFantasmaTexto, \"y\", Math.floor(sizeFantasma.y));\n      }\n\n      if (this.dibujandoImagen) {\n        let sizeFantasma = {\n          x: posClick.x - this.posFantasmaImagen.x,\n          y: posClick.y - this.posFantasmaImagen.y,\n        };\n\n        if (sizeFantasma.x < 30) {\n          sizeFantasma.x = 30;\n        }\n        if (sizeFantasma.y < 30) {\n          sizeFantasma.y = 30;\n        }\n\n        this.$set(this.sizeFantasmaImagen, \"x\", Math.floor(sizeFantasma.x));\n        this.$set(this.sizeFantasmaImagen, \"y\", Math.floor(sizeFantasma.y));\n      }\n    },\n    endDibujandoElemento() {\n      if (this.dibujandoTexto) {\n        console.log(`Creando cuadroTexto`);\n        this.dibujandoTexto = false;\n        this.$refs.herramientasEdicion.reset();\n        this.crearTextoFromFantasma();\n      } else if (this.dibujandoImagen) {\n        console.log(`Creando cuadro de imgen`);\n        this.dibujandoImagen = false;\n        this.$refs.herramientasEdicion.reset();\n        this.crearCuadroImagenFromFantasma();\n      }\n      this.desactivarHerramientas();\n    },\n    crearCuadroImagenFromFantasma() {\n      var datosPosicion = {\n        x: Math.round((this.posFantasmaImagen.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.posFantasmaImagen.y * 100) / this.$el.offsetHeight),\n      };\n\n      var datosSize = {\n        x: Math.round((this.sizeFantasmaImagen.x * 100) / this.$el.offsetWidth),\n        y: Math.round(\n          (this.sizeFantasmaImagen.y * 100) / this.$el.offsetHeight\n        ),\n      };\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroImagenPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroImagen\n              }\n            }\n            ${fragmentoCuadroImagen}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n            datosPosicion,\n            datosSize,\n          },\n        })\n        .then(({ data: { crearCuadroImagenPaginaLibro } }) => {\n          this.$emit(\"tengoNuevoCuadroImagen\", crearCuadroImagenPaginaLibro);\n        })\n        .catch((error) => {\n          console.log(`Error en mutacin de crear cuadro imgen. E: ${error}`);\n        });\n    },\n    crearTextoFromFantasma() {\n      console.log(\n        `Enviando con ${JSON.stringify(this.idLibro)}, ${JSON.stringify(\n          this.estaPagina.id\n        )}, ${JSON.stringify(this.posFantasmaTexto)}, ${JSON.stringify(\n          this.sizeFantasmaTexto\n        )}`\n      );\n\n      var datosPosicion = {\n        x: Math.round((this.posFantasmaTexto.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.posFantasmaTexto.y * 100) / this.$el.offsetHeight),\n      };\n\n      var datosSize = {\n        x: Math.round((this.sizeFantasmaTexto.x * 100) / this.$el.offsetWidth),\n        y: Math.round((this.sizeFantasmaTexto.y * 100) / this.$el.offsetHeight),\n      };\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroTextoPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroTexto\n              }\n            }\n            ${fragmentoCuadroTexto}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            idPagina: this.estaPagina.id,\n            datosPosicion,\n            datosSize,\n          },\n          errorPolicy: \"all\",\n        })\n        .then(({ data: { crearCuadroTextoPaginaLibro } }) => {\n          this.$emit(\"tengoNuevoCuadroTexto\", crearCuadroTextoPaginaLibro);\n        })\n        .catch((error) => {\n          console.log(`Error. E: ${error.message}`);\n          console.log(`Hubo ${error.graphQLErrors} errores graphql`);\n        });\n    },\n    resolverSeleccion(e, idElemento){\n      if(this.seleccionada){\n        e.stopPropagation();\n        this.idElementoSeleccionado=idElemento;\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n.pagina {\n  border: 2px solid black;\n  position: relative;\n  \n  user-select: none;\n}\n\n.segundoPlano {\n  opacity: 0.3;\n}\n.elementoPagina {\n  z-index: 100;\n}\n.primerPlano {\n  z-index: 500;\n}\n.seleccionada {\n  border-color: purple;\n  z-index: 2;\n}\n\n.zonaControlesPagina {\n  text-align: center;\n  padding: 10px;\n  position: absolute;\n  top: -60px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.bControlesPagina {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n\n  cursor: pointer;\n  display: inline-block;\n  background-color: rgb(255, 231, 255);\n}\n\n#herramientasEdicion {\n  position: absolute;\n  top: 150px;\n  left: -100px;\n}\n.fantasmaElemento {\n  position: absolute;\n  border: 3px dotted purple;\n  border-radius: 5px;\n  background-color: rgba(128, 0, 128, 0.205);\n  box-sizing: border-box;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagina.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagina.vue?vue&type=template&id=5cbcb1bc&scoped=true&\"\nimport script from \"./Pagina.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagina.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pagina.vue?vue&type=style&index=0&id=5cbcb1bc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5cbcb1bc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"libro\" @click=\"idPaginaSeleccionada = null\">\n    <div id=\"zonaTitulo\">\n      <div id=\"titulo\" v-show=\"!editandoTitulo\">\n        {{ libro.titulo }}\n      </div>\n      <input\n        type=\"text\"\n        id=\"inputNuevoTitulo\"\n        :class=\"{ letrasRojas: nuevoTituloIlegal }\"\n        v-model=\"nuevoTitulo\"\n        v-show=\"editandoTitulo\"\n        @keypress.enter=\"guardarNuevoTitulo\"\n      />\n      <div id=\"controlesTitulo\">\n        <img\n          src=\"@/assets/iconos/editar.png\"\n          alt=\"Editar\"\n          id=\"bEditarrTitulo\"\n          class=\"bEditarTitulo\"\n          title=\"Editar titulo del libro\"\n          @click.stop=\"toggleEditandoTitulo\"\n        />\n        <img\n          src=\"@/assets/iconos/guardar.png\"\n          alt=\"Guardar\"\n          title=\"guardar\"\n          class=\"bEditarTitulo\"\n          id=\"bGuardarNuevoTitulo\"\n          v-show=\"editandoTitulo == true && nuevoTituloIlegal == false\"\n          @click.stop=\"guardarNuevoTitulo\"\n        />\n      </div>\n    </div>\n\n    \n\n    <div id=\"contenedorPaginas\">\n      <pagina\n        v-for=\"(pagina, index) of paginasOrdenadas\"\n        :key=\"pagina.id\"\n        :paginaDerecha=\"index % 2 > 0 || index == 0\"\n        :estaPagina=\"pagina\"\n        :idLibro=\"idLibro\"\n        :seleccionada=\"idPaginaSeleccionada == pagina.id\"\n        :segundoPlano=\"\n          idPaginaSeleccionada != null && idPaginaSeleccionada != pagina.id\n        \"\n        @click.native.stop=\"idPaginaSeleccionada = pagina.id\"\n        @meElimine=\"removePaginaFromCache(pagina.id)\"\n        @tengoNuevoCuadroTexto=\"updateCacheConNuevoCuadroTexto($event, pagina.id)\"\n        @tengoNuevoCuadroImagen=\"updateCacheConNuevoCuadroImagen($event, pagina.id)\"\n        @elimineCuadroTexto=\"removeCuadroTextoFromCache($event, pagina.id)\"\n        @elimineCuadroImagen=\"removeCuadroImagenFromCache($event, pagina.id)\"\n      />\n    </div>\n    <div\n      id=\"bCrearNuevaPagina\"\n      @click.stop=\"crearNuevaPaginaLibro\"\n      :class=\"{ deshabilitado: creandoPagina }\"\n    >\n      Crear nueva pgina\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport Pagina from \"./Pagina.vue\";\nconst charProhibidosTitulo = /[^ a-zA-Z-0-9_():.,-?!]/;\n\nexport const fragmentoCuadroTexto = gql`\n  fragment fragCuadroTexto on CuadroTextoCuento {\n    id\n    texto\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n    formato {\n      fontSize\n      colorLetra\n      tipoLetra\n      alineacion\n    }\n  }\n`;\n\nexport const fragmentoCuadroImagen = gql`\n  fragment fragCuadroImagen on CuadroImagenCuento {\n    id\n    sinArchivo\n    tipoActivacionSecundario\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n  }\n`;\n\nconst fragmentoPagina = gql`\n  fragment fragPagina on PaginaCuento {\n    id    \n    numPag\n    color\n    cuadrosTexto {\n      ...fragCuadroTexto\n    }\n    cuadrosImagen {\n      ...fragCuadroImagen\n    }\n  }\n  ${fragmentoCuadroTexto}\n  ${fragmentoCuadroImagen}\n`;\n\nconst QUERY_LIBRO = gql`\n  query($idLibro: ID!) {\n    libro(idLibro: $idLibro) {\n      id\n      idsEditores\n      titulo\n      paginas {\n        ...fragPagina\n      }\n    }\n  }\n  ${fragmentoPagina}\n`;\n\nexport default {\n  components: { Pagina },\n  name: \"Libro\",\n  apollo: {\n    libro: {\n      query: QUERY_LIBRO,\n      variables() {\n        return {\n          idLibro: this.idLibro,\n        };\n      },\n      skip() {\n        return this.idLibro == null;\n      },\n    },\n  },\n  props: {\n    idLibro: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      libro: {\n        paginas: null,\n      },\n      idPaginaSeleccionada: null,\n\n      creandoPagina: false,\n\n      nuevoTitulo: null,\n      editandoTitulo: false,\n    };\n  },\n  computed: {\n    paginasOrdenadas() {\n      if (this.libro.paginas) {\n        var aPags = this.libro.paginas;\n        return aPags.sort((a, b) => {\n          return parseInt(a.numPag) - parseInt(b.numPag);\n        });\n      }\n      return [];\n    },\n    nuevoTituloIlegal() {\n      if (!this.nuevoTitulo || this.nuevoTitulo.length < 1) {\n        return true;\n      }\n      if (charProhibidosTitulo.test(this.nuevoTitulo)) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    toggleEditandoTitulo() {\n      this.editandoTitulo = !this.editandoTitulo;\n      this.nuevoTitulo = this.libro.titulo;\n    },\n    guardarNuevoTitulo() {\n      if (this.nuevoTituloIlegal) {\n        console.log(`No enviado`);\n        return;\n      }\n      if (this.nuevoTitulo == this.libro.titulo) {\n        this.editandoTitulo = false;\n        return;\n      }\n      console.log(`guardando nuevo ttulo`);\n      this.enviandoNuevoTitulo = true;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!, $nuevoTitulo: String!) {\n              editarTituloLibro(idLibro: $idLibro, nuevoTitulo: $nuevoTitulo) {\n                id\n                titulo\n              }\n            }\n          `,\n          variables: {\n            idLibro: this.idLibro,\n            nuevoTitulo: this.nuevoTitulo,\n          },\n        })\n        .then(() => {\n          this.enviandoNuevoTitulo = false;\n          this.editandoTitulo = false;\n        })\n        .catch((error) => {\n          this.enviandoNuevoTitulo = false;\n          console.log(`Error. E :${error}`);\n        });\n    },\n    crearNuevaPaginaLibro() {\n      this.creandoPagina = true;\n      const dis = this;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idLibro: ID!) {\n              crearNuevaPaginaLibro(idLibro: $idLibro) {\n                ...fragPagina\n              }\n            }\n            ${fragmentoPagina}\n          `,\n          variables: {\n            idLibro: this.idLibro,\n          },\n        })\n        .then(({ data: { crearNuevaPaginaLibro } }) => {\n          var store = this.$apollo.provider.defaultClient;\n          const cache = store.readQuery({\n            query: QUERY_LIBRO,\n            variables: { idLibro: dis.idLibro },\n          });\n          var nuevoCache = JSON.parse(JSON.stringify(cache));\n          nuevoCache.libro.paginas.push(crearNuevaPaginaLibro);\n          store.writeQuery({\n            query: QUERY_LIBRO,\n            variables: { idLibro: dis.idLibro },\n            data: nuevoCache,\n          });\n          this.creandoPagina = false;\n        })\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n          this.creandoPagina = false;\n        });\n    },\n    removePaginaFromCache(idPagina) {\n      const store = this.$apollo.provider.defaultClient;\n      const cache = store.readQuery({\n        query: QUERY_LIBRO,\n        variables: { idLibro: this.idLibro },\n      });\n      var nuevoCache = JSON.parse(JSON.stringify(cache));\n\n      const indexP = nuevoCache.libro.paginas.findIndex(\n        (p) => p.id == idPagina\n      );\n      if (indexP > -1) {\n        nuevoCache.libro.paginas.splice(indexP, 1);\n\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables: { idLibro: this.idLibro },\n          data: nuevoCache,\n        });\n      } else {\n        console.log(`La pagina no estaba en el cach`);\n      }\n    },\n    updateCacheConNuevoCuadroImagen(nuevoCuadroImagen, idPagina){\n      console.log(`Se actualizara el cache con info: ${nuevoCuadroImagen} en la pagina ${idPagina}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro}\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`Pagina no exista`);\n        return\n      }\n      if(laPagina.cuadrosImagen.some(c=>c==nuevoCuadroImagen.id)){\n        console.log(`Ese cuadro texto ya estaba incluido`);\n        return;\n      }\n      \n      laPagina.cuadrosImagen.push((nuevoCuadroImagen));\n\n      store.writeQuery({\n         query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},\n        data:nuevoCache\n      });\n\n      this.$nextTick(()=>{\n        \n      })\n    },\n    updateCacheConNuevoCuadroTexto(nuevoCuadroTexto, idPagina){\n      console.log(`Se actualizara el cache con info: ${nuevoCuadroTexto} en la pagina ${idPagina}`);\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro}\n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`Pagina no exista`);\n        return\n      }\n      if(laPagina.cuadrosTexto.some(c=>c==nuevoCuadroTexto.id)){\n        console.log(`Ese cuadro texto ya estaba incluido`);\n        return;\n      }\n      laPagina.cuadrosTexto.push(nuevoCuadroTexto);\n\n      store.writeQuery({\n         query: QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},\n        data:nuevoCache\n      })\n    },\n    removeCuadroTextoFromCache(idCuadroTexto, idPagina){\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query:QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},        \n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`No exista la pagina en el cach`);\n        return \n      }\n\n      const indexC=laPagina.cuadrosTexto.findIndex(c=>c.id==idCuadroTexto);\n      if(indexC>-1){\n        laPagina.cuadrosTexto.splice(indexC, 1);\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables:{idLibro:this.idLibro},\n          data: nuevoCache,\n        });\n      }\n      else{\n        console.log(`El cuadro texto no exista en el cach`);\n      }\n    },\n    removeCuadroImagenFromCache(idCuadroImagen, idPagina){\n      const store=this.$apollo.provider.defaultClient;\n      const cache=store.readQuery({\n        query:QUERY_LIBRO,\n        variables:{idLibro:this.idLibro},        \n      });\n      var nuevoCache=JSON.parse(JSON.stringify(cache));\n\n      var laPagina=nuevoCache.libro.paginas.find(p=>p.id==idPagina);\n      if(!laPagina){\n        console.log(`No exista la pagina en el cach`);\n        return \n      }\n\n      const indexC=laPagina.cuadrosImagen.findIndex(c=>c.id==idCuadroImagen);\n      if(indexC>-1){\n        laPagina.cuadrosImagen.splice(indexC, 1);\n        store.writeQuery({\n          query: QUERY_LIBRO,\n          variables:{idLibro:this.idLibro},\n          data: nuevoCache,\n        });\n      }\n      else{\n        console.log(`El cuadro texto no exista en el cach`);\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n.libro {\n  margin-top: 100px;\n\n  border: 2px solid black;\n}\n#zonaTitulo {\n  padding: 5px 10px;\n  text-align: center;\n  font-size: 22px;\n  border: 1px solid purple;\n  background-color: rgb(131 94 134);\n  margin: 10px auto;\n}\n#inputNuevoTitulo{\n  font-size: inherit;\n}\n\n.bEditarTitulo {\n  cursor: pointer;\n  border-radius: 50%;\n  width: 35px;\n  height: 35px;\n}\n.bEditarTitulo:hover {\n  background-color: rgba(128, 0, 128, 0.459);\n}\n\n#contenedorPaginas {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  row-gap: 20px;\n}\n#bCrearNuevaPagina {\n  padding: 5px;\n  border: 1px solid rgb(65, 0, 65);\n  background-color: rgba(182, 105, 182, 0.267);\n  cursor: pointer;\n  margin: 10px auto;\n  border-radius: 5px;\n  max-width: 200px;\n}\n\n#bCrearNuevaPagina:hover {\n  background-color: rgb(182, 105, 182);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Libro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Libro.vue?vue&type=template&id=c12df12c&scoped=true&\"\nimport script from \"./Libro.vue?vue&type=script&lang=js&\"\nexport * from \"./Libro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Libro.vue?vue&type=style&index=0&id=c12df12c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c12df12c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"misLibros\"}},[_c('h3',[_vm._v(\"Mis libros\")]),_c('div',{attrs:{\"id\":\"controlesMisLibros\"}},[_c('img',{staticClass:\"bControlMisLibros\",attrs:{\"src\":require(\"@/assets/iconos/libro.png\"),\"title\":\"Crear nuevo libro\"},on:{\"click\":_vm.crearNuevoLibro}})]),_c('div',{attrs:{\"id\":\"listaMisLibros\"}},_vm._l((_vm.misLibros),function(portada){return _c('div',{key:portada.id,staticClass:\"portadaLibro\",on:{\"click\":function($event){return _vm.seleccionarLibro(portada.id)}}},[_vm._v(\" \"+_vm._s(portada.titulo)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"misLibros\">\n    <h3>Mis libros</h3>\n    <div id=\"controlesMisLibros\">\n      <img\n        src=\"@/assets/iconos/libro.png\"\n        class=\"bControlMisLibros\"\n        title=\"Crear nuevo libro\"\n        @click=\"crearNuevoLibro\"\n      />\n    </div>\n\n    <div id=\"listaMisLibros\">\n        <div class=\"portadaLibro\" v-for=\"portada of misLibros\" :key=\"portada.id\" @click=\"seleccionarLibro(portada.id)\">\n            {{portada.titulo}}\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gql } from \"apollo-server-core\";\n\nconst QUERY_MIS_LIBROS = gql`\n  query {\n    misLibros {\n      id\n      titulo\n    }\n  }\n`;\n\nexport default {\n  name: \"MisLibros\",\n  apollo: {\n    misLibros: {\n      query: QUERY_MIS_LIBROS,\n      skip() {\n        return this.usuario.id==null;\n      },\n    },\n  },\n  data() {\n    return {\n    };\n  },\n  methods: {\n    crearNuevoLibro() {\n      if (!confirm(\"Crear un nuevo libro?\")) return;\n\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation {\n            crearNuevoLibro {\n              id\n              titulo\n            }\n          }\n        `,\n      }).then(({data:{crearNuevoLibro}})=>{\n          console.log(`Creado ${JSON.stringify(crearNuevoLibro)}`);\n          const store=this.$apollo.provider.defaultClient;\n          const cache=store.readQuery({\n            query:QUERY_MIS_LIBROS,            \n          });\n          var nuevoCache=JSON.parse(JSON.stringify(cache));\n          if(!nuevoCache.misLibros.some(l=>l.id==crearNuevoLibro.id)){\n            nuevoCache.misLibros.push(crearNuevoLibro);\n            store.writeQuery({\n              query:QUERY_MIS_LIBROS,\n              data:nuevoCache\n            });\n          }\n          else{\n            console.log(`El libro ya estaba incluido en el cach`);\n          }\n      });\n    },\n    seleccionarLibro(idLibro){\n        this.$emit(\"libroSeleccionado\", idLibro);\n    }\n  },\n  \n};\n</script>\n\n<style scoped>\n#misLibros {\n  padding: 10px;\n  border: 2px solid cadetblue;\n  margin: 10px;\n  border-radius: 15px;\n  padding: 15px;\n  font-size: 22px;\n}\n\n.bControlMisLibros {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 5px 10px;\n}\n.bControlMisLibros:hover {\n  background-color: rgb(241, 153, 241);\n}\n\n.portadaLibro{\n    padding: 5px 10px;\n    font-size: inherit;\n    cursor:pointer\n}\n.portadaLibro:hover{\n    background-color: rgba(128, 0, 128, 0.233);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MisLibros.vue?vue&type=template&id=24147a09&scoped=true&\"\nimport script from \"./MisLibros.vue?vue&type=script&lang=js&\"\nexport * from \"./MisLibros.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MisLibros.vue?vue&type=style&index=0&id=24147a09&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24147a09\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <center><h2>Taller de creacin de cuentos</h2></center>\n    <mis-libros @libroSeleccionado=\"seleccionarLibro\"/>\n\n    <libro :idLibro=\"idLibroSeleccionado\" v-if=\"idLibroSeleccionado!=null\"/>\n  </div>\n</template>\n\n<script>\nimport Libro from './components/Libro.vue'\nimport MisLibros from './components/MisLibros.vue'\n\n\nexport default {\n  name: 'App',\n  components: {\n    Libro,\n    MisLibros,    \n  },\n  data(){\n    return {\n      idLibroSeleccionado:null,\n    }\n  },\n  methods:{\n    seleccionarLibro(idLibro){\n      this.idLibroSeleccionado=idLibro;\n    }\n  },\n  mounted() {\n    let uri = window.location.search.substring(1);\n    let params = new URLSearchParams(uri);\n\n    this.idLibro = params.get(\"id\");\n    const token=params.get(\"t\");\n    console.log(`Token: ${token}`);\n\n    if(token && token.length>10){\n      this.$store.commit(\"setToken\", token);\n      this.$store.commit(\"setUserInfo\", token);\n\n      localStorage.setItem(\"token\", token);\n    }\n    else{\n      this.$store.commit(\"deslogearse\");\n      localStorage.clear();\n    }\n    \n  },\n\n}\n</script>\n\n<style>\nbody{\n  background-color: rgb(228 227 227);\n}\n.letrasRojas{\n  color:red;\n}\n.deshabilitado{\n  opacity: 0.5;\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=10fcef4b&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import gql from \"graphql-tag\"\n\n\n/*\nexport const typeDefs=gql`\n    type usuario{\n        username: String,\n    }\n`;\n*/\n\n\nexport const typeDefs = gql`\n    \n    enum TiposUsuario{\n        USUARIO,\n        ADMINISTRADOR,\n        SUPERADMINSTRADOR\n    }\n    \n    type Usuario{\n        username:String,\n        permisos: TiposUsuario\n     }\n\n    type Mutations{ \n        setUsuario(username: String, permisos: TiposUsuario):Usuario\n    }\n`;\n\n\n\nexport const resolvers={}\n\n\n","import { ApolloClient } from \"apollo-client\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { createHttpLink } from \"apollo-link-http\"\nimport VueApollo from \"vue-apollo\";\nimport { typeDefs, resolvers } from \"./apolloStore/Schema\"\nimport { split } from \"apollo-link\"\nimport { WebSocketLink } from \"apollo-link-ws\"\nimport { getMainDefinition } from \"apollo-utilities\"\nimport { setContext } from \"apollo-link-context\"\nimport Vue from 'vue'\nimport { onError } from '@apollo/client/link/error'\n\n\nVue.use(VueApollo);\n\nconst cache = new InMemoryCache();\n\n\nlet getToken = () => localStorage.getItem('token');\n\n\nexport const serverUrl = process.env.NODE_ENV === 'production'\n  ? 'https://pe-pe-pe.herokuapp.com'\n  : 'http://localhost:3000'\n\nexport const wsServerUrl = process.env.NODE_ENV === 'production'\n  ? 'wss://' + serverUrl.substr(7) + '/subscripciones'\n  : 'ws://' + serverUrl.substr(7) + '/subscripciones'\n\n//console.log(`Server url: ${serverUrl}`);\n\n\nconst httpLink = createHttpLink({\n  uri: serverUrl + \"/graphql\"\n});\n\n//console.log(`Direccion subscripciones ${wsServerUrl}`);\n\nconst wsLink = new WebSocketLink({\n  uri: wsServerUrl,\n  options: {\n    reconnect: true,\n    connectionParams: {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    }\n  },\n})\n\nconst authLink = setContext((_, { headers }) => {\n\n  return {\n    headers: {\n      ...headers,\n      authorization: getToken()\n    }\n  }\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (graphQLErrors)\n      graphQLErrors.map(({ message, locations, path }) =>\n        console.log(\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n        ),\n      )\n\n    if (networkError) console.log(`[Network error]: ${networkError}`)\n  }\n\n})\n\nconst link = errorLink.concat(authLink).concat(httpLink);\n\n\nconst finalLink = split(\n  // split based on operation type\n  ({ query }) => {\n    const definition = getMainDefinition(query)\n    return definition.kind === 'OperationDefinition' &&\n      definition.operation === 'subscription'\n  },\n  wsLink,\n  link\n)\n\nexport const apolloClient = new ApolloClient({\n  link: finalLink,\n  cache,\n  typeDefs,\n  resolvers,\n  connectToDevTools: true,\n});\n\nexport const apolloProvider = new VueApollo({\n  defaultClient: apolloClient\n})","import Vue from \"vue\"\nimport Vuex from \"vuex\"\n\nVue.use(Vuex);\n\nfunction parseJwt(token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n\n    return JSON.parse(jsonPayload);\n}\n\nexport default new Vuex.Store({\n    state:{\n        token:null,\n        usuario:{\n            username:null,\n            nombres:null,\n            id:null,\n        }\n    },\n    mutations:{\n        setToken(state, token){\n            state.token=token;\n        },\n        setUserInfo(state, token){\n            const datos=parseJwt(token);\n            state.usuario.username=datos.username,\n            state.usuario.id=datos.id;\n        },\n        deslogearse(state){\n            state.usuario.username=null;\n            state.usuario.id=null;\n\n            state.token=null;\n        }\n    }\n});","import Vue from 'vue'\nimport App from './App.vue'\nimport { apolloProvider, serverUrl } from \"./apollo\"\nimport store from \"./store/index\"\n\nVue.config.productionTip = false\n\nVue.mixin({\n  data(){\n    return {\n      serverUrl,\n    }\n  },\n  computed:{\n    usuario(){\n      return this.$store.state.usuario\n    }\n  }\n})\n\nnew Vue({\n  render: h => h(App),\n  store,\n  apolloProvider,\n}).$mount('#app')","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAjVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADqhzP4AAAALnRSTlMA3x8j4xUmzPyx3gFmiAfUqRhE9zoq6dqbDrl9bu/DoJSCaVtQQPKzpnVfVUo0WjuT0wAAAcBJREFUWMPt2NlygjAAhWEhhoSwr+5LXbr3vP/jdZg6NYoaQ3LRsfx3evENkAUmg76+Ry6grlE0OPWqiAnHIMGiSvY8H8b5nnS/ESwUHe+aMhsgo7+gK9BUOx2r0STcI+g0f6xKt2PlCgCcM7AuB50r6xYo/9bPG/49MM7cLLYH0jBNRJKG1BKY+xxN3M+tgDk7TubcAkh9eQVTczDkEshDYzBOIZfGpmCWQC7JTEFXSNxhSyC2r5DYfobE9igTm/NQDyThbEsVK0UH3E85eFrdWstaYDVF0ytR7TbEuQukK/w0zhT7oQJsv63Xk8GlNMF5gd+i2BzcDnGMzwJTcM8gV7xJz9aj+mD1gtMWm8Gh3ctw+qkLTsY4b/h+WHkjAOxTDwye0G700UyX2QJNy70OKA+wLG5IOeb4afqlAX44uFjh1NK2UN0Nlgz39EpUoO738ThTg/IAq1tP1KA8wOqiWA1unjVA/hSowJ1QM+0V6V4FyyX0ep7fBEkK3erwBjhZQz9nex2ccXQo2V0DwwU6xfLL4HyEji3fL4HFCJ1LihZoWg/+Q1DYAIVr/RDD+jGL7YMgy0dVnvXDtL6+B+4bd8GYEidpbS8AAAAASUVORK5CYII=\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MisLibros.vue?vue&type=style&index=0&id=24147a09&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CuadroImagen.vue?vue&type=style&index=0&id=20b4bbac&scoped=true&lang=css&\""],"sourceRoot":""}