(function(i){function o(o){for(var n,s,r=o[0],c=o[1],u=o[2],l=0,A=[];l<r.length;l++)s=r[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&A.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(i[n]=c[n]);d&&d(o);while(A.length)A.shift()();return t.push.apply(t,u||[]),e()}function e(){for(var i,o=0;o<t.length;o++){for(var e=t[o],n=!0,r=1;r<e.length;r++){var c=e[r];0!==a[c]&&(n=!1)}n&&(t.splice(o--,1),i=s(s.s=e[0]))}return i}var n={},a={app:0},t=[];function s(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return i[o].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=i,s.c=n,s.d=function(i,o,e){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:e})},s.r=function(i){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(1&o&&(i=s(i)),8&o)return i;if(4&o&&"object"===typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&o&&"string"!=typeof i)for(var n in i)s.d(e,n,function(o){return i[o]}.bind(null,n));return e},s.n=function(i){var o=i&&i.__esModule?function(){return i["default"]}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="/tallerCuentos/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=o,r=r.slice();for(var u=0;u<r.length;u++)o(r[u]);var d=c;t.push([0,"chunk-vendors"]),e()})({0:function(i,o,e){i.exports=e("56d7")},"0216":function(i,o,e){"use strict";e("a9a1")},"0705":function(i,o,e){"use strict";e("3593")},"0d62":function(i,o,e){"use strict";e("fef7")},1:function(i,o){},10:function(i,o){},1070:function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAApVBMVEUAAADM28LI2L3h5tzj6d7R3srn7eTL2cPT38vW4s7g6uDF1bvH173C07fa4NTO3cTk7N7W4tPK2sDa5NTi7OLo8Oja5NXJ2b7M28LD1bfk7ODZ5dLY49DR38jd59fV4czT4MvP3sbP3cXK2r/H2LzW4s7S38rS38nQ3sfL2sHF1rna4tL////5+/j9/v3u8+v3+fXw9O31+PLy9u/7/Pr4+vfr8egF2h3MAAAALHRSTlMAcFEYHCQVFQUcDxkRDAh8ICBjJhEMAVc/KyjQx5XwrqiJg11Ku6Kcj2o4NHigeIkAAAKNSURBVGje3dl9U+IwEAbwR0opUKjg8S6e53nvV+RFuO//0W4SZXYYzG5owo74/COObX/QNLuGwDeDtMBBmmkDMZNkcKTZiyN8gpBWqNAIPyzie+xXJGYQEs60FU5pokpGOCGVH8ws4ND4KRCUITxSV5hbfQQnDygi0SbxX0RJ54yfg5IpGEAi/iG+Ej4/wgvT5ckBzTq0513ezWrD5FIuK5f3+OlCyKV8EP7SVxUzPqVflhWzOF4NUIuJicgJR/xb1enva+U6oyN9kltv42fA7fJV7oTbVXcgm6U567uX8dUcuiLk6OHNHcgSVrn3NdZ4IkQKIVibk79AyvWLUQ15Ve78DA4ZMAgpssEgXaQMslceJOMZPJLxCJ7NRa7dlZSMimNCypXjuN9kBCC8ckNGIIKNudQNY4QipIwZIxQhpfaWsUEUhAr55OCQRzIiIKRMQRmTEQ3B9lD5ZusuIiOlTU4GFfZoSPmaLkwm1KNiIHR+uV2Y65qWXTMv7P3bRUHIeAKs8m++fBmPpv0RByHDKCb7i+ekBCFk0JNMz+6UXvJILiBk2Mztb/uWPCGFRSYcQoYjY59S30IiIFtr8E1rzSNDZkxoosstPmDgyWDyqzQHC0jOIAtrCPlhFR6puxAyhNzbOepEOuzt2lGx4jO3SpUx2a2o7Eq5taNfMsiMWTpM4ZfP7qVDKq1P/gCnKNztGrmQ3WPNNw9HiOYSu62w+qXUz4dk0M0MZ0oC7QxxlgzEeRk/Iwh5r9/eJW8Vsg8Tna2Nhso0bCE8cs1KFYxoSiFumIano7AjlClU57bCplDxrnY9ejqdsKPSMAY67bWvs3XZ0+l57a7OfuJMaYs3KZT+NRimIxym793k/gPFdL6ma6aH6QAAAABJRU5ErkJggg=="},11:function(i,o){},12:function(i,o){},13:function(i,o){},14:function(i,o){},1566:function(i,o,e){"use strict";e("b8fa")},"1d2e":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAC8i1q6i1zyu1n2vVq3kUr/tki6i1vyvFm5i1xmXWZ9c2W3il2xiF7kpVqQgmuziV7uuFmpg2GrhmChgmHuuFntuVquhl/TmlrTqmCrhmCvh1+yiF7OqWDHlVqmg2Kog2KigWONd2aDdG3uvVrzvFq7jF349uzkpVvyu1rxuVrVm1vlp1rrsFrorFrJpX/08OP37tnzw2zCmW7w6NrstFr169ns4tHnsG3Ut5fIoHPAkWD07+Pv4cfk1L/VupvNrInYpm3xwGzutFov9SsWAAAAJXRSTlMAH9/fHwcHt7d+Bg38ubca5LeUij7v3863tK+mpI+PbVtFLSMf1QcYpQAAAOxJREFUWMPt10eywjAMgOG8R0+l914EhE4SEnq7/51gCyEOGnvF6D/ANyNbG0kURVE/lhwLCcf1WrUEu3oe4+U1FcJKIbyuBmAtmKFAOQewdQ9LRq6FAY0SLOwhMxsF/v3DeSgY3IoGd65gEC4ne/NsFdBxt29GDQwIe+vqed5tHZDjFCIVAwMCTEajqTlgFIkSSCCBBBJIIIEEvoLmzJ8z5gHn/rjAwfhDvG/o0zhB0zcvF/j+L3c8mGaOjF8bpSp4D6W2KhhUsioeZIu59BdgsY849zpZrazreiYZXKahIA/weEiyRFEU9Ts9APjdERj5ZBqjAAAAAElFTkSuQmCC"},2:function(i,o){},2191:function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAMAAADGfvrlAAAAtFBMVEUAAAAAAAACAgIAAAAAAAAAAAAGBgYAAAAAAAAAAAAFBQUAAAABAQEGBgYCAgIAAAAAAAAEBAQFBQUAAAAAAAABAQEDAwMCAgIAAAAAAAAAAAAFBQUAAAAGBgYAAAAAAAAAAAAAAAADAwMBAQEAAAABAQEBAQEBAQEBAQEDAwMBAQEAAAACAgIBAQECAgIAAAAAAAABAQEAAAAAAAABAQEBAQEBAQEDAwMAAAAAAAAAAAAAAAAAI6fdAAAAO3RSTlMABQvg9KseO8T3ho92RZ0X129r+9M/KzjxyZkU3Q/ov7ykMiHOtV5SJRqplEx/ZK6gconruWhZQwmCwUKZof4AAAMbSURBVEjHpZeJlqIwEEUDuNGiIiACoqIi4761S9vv//9rwgxYgqB4fMfjEnOTkKpUVViuxN7E7HbNWasvsLfUq7aXniENLGsgGUOn3WkVJfurum8hIctf/umx15prxxKAkjvcHZR2W/naeWo4lDzcT17NevrVgcFUaVTE28NXOsp2AMDeP519teWof+1GIEnorm0A0z/5+6tIgKHkrK6y5/j3OmfyWROw6mOWq9nhGxhlduhMAfvMnuqPB3idDHZIo+bL3AHDS7q1y1mnkmocbzbdVFPrwOnU3JMyUO+nOgYq4J5YSmvgaCYssQSa6X2c+PB9qGbaanXe936eto7t5MHosjs2Df3BtPMRoNw9sAGjEw/cinXSDXNW09u3hp94K2y4jdtCmtC1eNN3hhpJAlRVhxT/NhareDNKGImx9fj3aFSzBjlXMKrRbA7kIPLKBQbxKvbwg0aky78XKbBxjbpVXUz7/zemhCWLVIfDcnXAKA4qX5DP0Rq+OwTbX7n6JXgsYRE+qck/BXYb8amcW0cHg9CXN7q+IQ93yk/UXNERkbHnq97Bnd35z1PdeYqBrcBaBsoCe19NuBPWtaAkm09Knz2quk4eMA2lBgt0eZUMN6pF3Uh1XJPn34LG1hiYSVgqVTOXWU/GJIk3OFDnWTDfh/hdyIJ7PkZsAbufAZvLTWjGpcm7HZQMWPyFx46oiRnwCZ7IRA98iGrJrTzCwhQ1VsuG22GzWIMWwlIWXIbNjm/DNDM985sw/8+j3S4M026TnQvDZGfysMIweRj5dmGYfJtOVWGYThWd58IwnWeKJEVhiiRRDPt5A6YYRtGzMEzRk+J2UZjiNmWMwjBlDMpVYgrWIniTgilX0XddIyOoMk/JF/srXJ194Y445blc2II3JLPkY35mPws44RhCOOyccbX6vIurB+whPz9WBoGuX+dCQmJ1gVolqzKgmoR+GNPyvTwJ0vm+JhFzq6He2tWRlOydU9VQfh1mBnvlXlqjlarDPq8ASdX3as/Pq97P6+3PK/3Xd4x27/Pbzef3qs9vdK/vkmJuvfMXl9icGVrQDtsAAAAASUVORK5CYII="},"28b8":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAzFBMVEUAAAAyMjIxMTE0NDQqKipBQUEwMDAjIyMxMTExMTEyMjI4ODgxMTFMTEw1NTUrKysjIyMwMDAxMTExMTE1NTUxMTEzMzMwMDAxMTExMTE4ODgwMDAxMTEvLy8gICB/f38yMjIxMTExMTEvLy8xMTExMTEuLi4wMDAyMjIyMjIxMTEvLy8xMTEyMjIxMTEwMDAzMzMuLi42NjYyMjIxMTExMTExMTEwMDAvLy8wMDAwMDAwMDAtLS0tLS0zMzMvLy80NDQ2NjY4ODgzMzN6YhNIAAAAQ3RSTlMA/fT6PVlzBiXd+8TnFCIJA3j7+BjxZS8N2ZFdz78OBO/kyrWmn5trUjspHOu8r5RJQzXV0sWQghKrqIpuWFZPpnmWvT1N0wAAAodJREFUWMPtl9mWmkAQQGlibDWGRRYhIMEFwX0Zt9FxMhP//5+C09UJKnhsOicv4T41p+BC2VWFCAUFBQX/D4peSWLx+ix1XU1gBwNOYVlDpyRouuPy4Sn1UdrDB6+UsZCC/HYttCuP6HSn3+2bo5TI3K2hGJJujLFVHvBFE+18/tpJiQ1CVVUDdI6/qWo5emSbFy6kU33NOkOMo58+C4/h9RAI0UQSUikxCY/+idJQ/4LQSlQGWo/4hYt6omxFh1uobFCyEXoWr1ByLxuhxCt0RHg2ui2cQtyHLugYxDjZ8QmHT8QjmhNiNiI+YblBhK6kwmqGeYRWFzLeKHMfcpd4hCUoQuOHIK3IUjM5hPgAm/skCXiGoBTl/MJRByRBLIkMkA/zC+dj2OPz3KrYkHOYVwhZxqzOM0Hew9HUyiukz4SCj1IxNXJYH+QVUoPmXPq3OYXyM+TY0cnoppNxrecTDugk7OPLtjGiXEJFrcEeO7/vAFU0w3mEuy6ihfedoLdA6Ep5hCWacfvnN8BGtP1yCJUDAiH6wwnYy2xCmP3ZVIfswlfxjhCVmYU4QPeELZ1VuGyf7lEvsQmh7bJpbBU2oQdtl0lnxCYcjOFC8cslPqIvBTbhC7Qt6kpfk+g9BIGDwiKUe3Q7t8rtnWAEsQh1l2ZMM6M0bbrPSxbhckz/s+qpzw7XMwh9qI7yTSjU8ghhdKFV87bHYYbZJCQPm81m+CF8j1dSltFpoxg/TAtVUYzxTt7cs2q9Xic/0DherV6UjOEV9VutZxOnvq3jUHDEZKo3rj/NFpnTwfOsrKLyPAwn7a8bCpkCD3hzLTTmAhfLrlhL4m8sgQ/pWE4QLmShoKCg4J/zC0L99j/wenPiAAAAAElFTkSuQmCC"},"2d68":function(i,o,e){},3:function(i,o){},3593:function(i,o,e){},"3a36":function(i,o,e){"use strict";e("3d30")},"3a9d":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAeFBMVEUAAAAXEAoUDQhlRSs0JBYrHRJLMh9FLhxeQCcaEgtiQykyIhUlGQ85JhgsHhJTOCIpGxEgFg1ZPCU/KhpWOSN0TzF6UzQvIBNrSS14UjNPNSFjRClyTjF8VTVcPiZnRyxuSy93UTIDAgEKBwQRDAcPCgYIBQMGBAI5vVJyAAAAInRSTlMA/v6A/v79/aX+kP7+/f7d/v6+/c00Ef5iHfGLPQewd1IkgWmI6gAAAZ1JREFUaN7t1eluqzAQhuGxwxInmDVrl7N8A+b+7/AcqdCChJrUxZVazfNrBBIvBgtICCGEEOK7ecpSGtWlUtmB1pc6RYMccAyUtLq018O0Rx8XRe6Qh4v8YUT0n0V/GU61i6r05B1pen4ZGPZliHgRoAvfSI5hUK9vZbvk0Bhw4RmJMewAg4zedSyhr6EjdDRogkcoRRU+smUdPrLh9isinUS+IHKGCRdxw0apVTp+VvK1Iwd2NNfBjtfaTT2evCNHjZqmLhgPWJ6rTr4RylDRVImOlv8nJXlHCu4TelM7WFr1nYy3XtBo10JRgMjJoLPX8QmBLyEidKzQqygpHqxx0BtaOTJqOsCxA/hMFCAySGKjTZZeyTPi1Vzye91IxG6BeVo1Uugl59lKQpHIRPocPmI5Dh/JYcJHYiga/Y32U1ESIhJjrt0EiGyNmtmvvJJlEpGIRH5YJP9QpCUvEZjuVTtDXrYOj/evOic/Gpruk3D/i/wUDL2jO1hGTr4sA6xuaR1Qkb+D4R43uTaiT9k10S324ZmEEEIIIb6xf4x8QD01P3dKAAAAAElFTkSuQmCC"},"3c35":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABm1BMVEUAAAB9fX2jo6NeXl6Pj4+Pj4+ioqIvLy82NjY1NTWMjIxLS0tra2uOjo4tLS1VVVWioqJXV1ehoaGhoaFdXV2Li4s5OTl5eXksLCwaGhpTU1MdHR17e3uOjo5BQUGOjo4vLy9UVFSOjo4dHR0wMDCPj49nZ2dDQ0MfHx9paWkyMjI+Pj4mJiY3NzcdHR17e3tqamqOjo6Ojo56enqgoKA7OztpaWmQkJChoaFPT08mJiY9PT2NjY2Pj49/f3+fn5+lpaVoaGh6enp7e3sdHR1oaGhTU1NBQUEvLy9UVFR7e3t7e3saGhpoaGg+Pj4dHR1qamp7e3tCQkJCQkKPj498fHweHh5paWmPj49paWlCQkJnZ2dVVVV9fX0vLy9nZ2d7e3tUVFQfHx9ra2t8fHxVVVVERERERERqampAQECPj49DQ0MzMzNVVVV6enpVVVVpaWl6enpFRUUmJiYaGhpmZmZTU1NTU1MyMjJ7e3ufn596enqPj493d3d8fHwbGxukpKRoaGhUVFQrKysaGhp7e3s/Pz8+Pj49PT291zY1AAAAgXRSTlMABlYN4txVHhcSEQoD4N6UUDAuJxgLB/39+/ba2NfHxcS7qKSej4mBdm1sZmBaWlZWUEtJSEdAOjc2NDEpHBoYCPz49vXv7+/s6+bl5ODg09HKwby7u7u6ubGwrKinp6KhoKCWlY2NgoF6eXlzcWxrY2JRT01IQz09PDs2MC8nJSDBqhNCAAABgklEQVRIx+3SRVPDQBTA8VdClTptcZeWCnVX3N3d3d0lJG352GwuDKewb4YZLv3fkskvu/N2odAfZZErkSK2WTXbDpQp5RaAkiae56tidMJZr22Ow9swIRV0y9xrOY5rtsjHBHJNRewcSSsHWzfPN9ENwFVOSL0C4MrmVABVitVyrt8OtAX3juKgcBwHqYVrNJ+vjQKiksUcyYohzKRAdtUYc/CZz/VdAibGWjvlAGRKBlAxBoMaJwzLvQM6E4rsfJDOUKfSIBAdhqh1AjkBTNGGysoNE6Ay3d4xgE4iwYq2pTUPUnSw7MgNRjBzLKkVdTILAtkHTOc9LDseAlSerdYQmP3ul59DTKdFx6gGYLa7yqrd32/MEb3sUQWi+Tuz2ewM+SjhC5PflxaRjOLkooyQ6hR4pzU1hxIwEiGLiJOHQULWJapGaXFxTRje9TKZvhTEO50YWnmCZB0hGh/ZWSBg/PUapV7NZFAtUo10PkEeMxmg7LmlrtGLvdVJFRT6v74ABqxMskl6QHIAAAAASUVORK5CYII="},"3d30":function(i,o,e){},4:function(i,o){},"452c":function(i,o,e){},"4a8c":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMA+/m7FsEEiBPmECX07x+ck5iQY1wMBt46InFINCkb6tXQyLaNf6x7QVdRTy0IysOjdbIknQAAAAI9SURBVGje7dbplqowDAfwUpACgqCCoHIRRdxny/s/3PWunmGxtIEPc6a/F/ifJoSEKIqiKMr39DJelWRQi3H4HsOKDMi4THMXIB6TwaRs62pw9/5CBrGYzAsX/nBDMgBzefFj+C8foFrOerb14EGbLvqOuB13vxvx4F76LZMRHjyo2ho9RmTrYAsNWG8J0YntPGjipj1FjFcjj0KzwuyjEdbV30C7OT7COLFXCk/kE+z/NSlHG3gOOSTZXN9owOFdMY1YBzF08CpdLSsp31zoQpuZco9IP3QbOnLXMhFGeLApdLZzhN8QJfschBxF11DyobsgxruJhvgg7EBETXQQdSbCliMNePCb5McIhMgNyVIXajt/SPB92WWy66l7Xyh/7+L74p0Qq7ZrxUYR4cH3hX/K4+fF5h+n+L74hAc/L/RKsCYFd0gsgpbyNjwz0RlO6cFTmxM6I2KUNyQGOmOm8dp+RNeK8TJgkyAzLEaBp1gg37GnwDVHZgQacMUZrlb3nvMFuIxarbwYeZzWM4JqBi1TvT4kDibDr9ZKY07DfjmamHfUMmZRw963EUNi1GvFoqb9UljyGdN6htO0X+hKPqPej73TuPftW48ZgdN8jx1k257VazVzPu/9N/grJJIYVDP2Vss9lktvkrNd/XattnuMEWlz+1PG1Gm7k72E9JNCA6v1HtMjRIgZ2o8Mo/0eWxGUfynatL21Ez8lfaRovkHaLUxkiPmrL/SewYFPuddqaGeWEUVRFEVRvqqfnnZk9rlieAEAAAAASUVORK5CYII="},"4e77":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABjFBMVEUAAAA+MzgAAAAiHBwgGBg+OzsiIh4eGxlEPj8WFBMhHh0nIyRAPT1ORkYfGhYjHhwfGhoeGRgeGRkgGxkmHx8oIiMoJCQlIyEpJyUrJyQpKCkiICAqJiQwKyscFxggHR0dFxYhHhwhHBwgGxoeGxsmISEdGRkjHh4dGhkgHRweGhsjHR4mJCE+PTlST08rKCgbFhYjGRogGxocGBcgHhwpJiUiHRwiHxwgGRkYFBMkHx8uKCcfHBoqJycsKSkdGRchGx0hHx9fX18kHRsaFRQmISIlHx4cGBckHB4sJSYhHRwdGRkhHx0cFhgiIB8cGhoeGxkhFxYdFxQaFxYZFhYoJSYaFxQaFxQVERFXUFckGBoiGRggGRkiGhogGRcnGRsjFxgjGBciHBwjGxshHBolGRclGBkhGBolGxkmFxkjGhckGBUhGxgkGhUlFxUfGBkhFxggGBQlFxcjGhkfGhkfGxciGRYgGRYdFxUeGhMgGhslFxgiGxUiFxYdGRkhGhEfFxccGBMhFxElHR4/VDeRAAAAWnRSTlMABBD+/AoH/h7JokYZD/bx5uHcya1tZ2BSOzIpJB/7+ffr2NPMxKqnl5WOiII1Fhb9+PPx0c66sbGgjnVvW1dLPy0I+unh0MbFmYN9eXBqYFLo2Na1nldWOyk6oaQ9AAADUElEQVRYw+3VV1MaURTA8SUgEFAporRg75qYbm/pvdd7t/cGuyu9aEzyxXNXTSZPEW+cPGT2/8rwmzl7OAvh5eXl5fX/5evNF87FuZJLz04mnv41dOVSev5RfPjgILTxV07fpVdPppKjgiCIoepYFtvpCWcWl5P9FknaQFU7nepyH5YT7N15Pj1xo9qs0jZggSxLxWJgA8fJrkcm7lmKYDa/NmibHR14rSFr7PIZF9aXG5q9eU8URZ7nBdFsNKhrK+uPr3GSpC73nGVh+c35h/FhyzRNZPl5wRTpWGormgrsc1ItNNj9wjJPpxKjlEkqUFX1I0qwErPRvpcPSNvmoJnY7ca5U8g8W3nT7xeApOs6B9DWBDRiKzG3EwwvxPwKtG26utpzqrMU3ZiZ6O/ojkNT7raKbY0RBN7vv7+W9RE7KRJSQlmH9Kkj5l5EJm/4G1+bnXqdtqG7ekNiGPB9eHwBba3nxThNwzIA5bKZPGWLwcWRg5ZFIwtRkKQAsiRJBoFHz/Po48LadWhDCFmEiZEg8efCm5H4VafebB5RFPqOrqvXpgYLBGr7Ngl1eGIFhrp47rknA3fRszIViqLKFCVevz0YPlrs+n3yEMgsCgDAJfNd/TyXNlfjDZ5CCVZs5tXxunZnR0QFMIyGKJQd8XV7NdmFByPfeXJsJnOy+K2plkUqMqNpMnBDI3ZfOJ26ORc9ka48G/O7FtB+Wsn8GV8xP8fIRUb8vNhSFCCfUMKMD+99nH5YFUVBoCB6VDJgAWDt0SEsqncx1ux0dJWROY7d2+MMg1Na45dwqOh04Nu3L186KsPsGaVSyTBqNbLyHoe68K6xbyCryCCrdGzBSn8ay7po7ZdKxaKOLG3PzajR1ZsFPItEliFJrqW1223XCs0RuJZRQvetqqrWZjkUGvEjplV1nJqOjlmV2m0OutEDS7hW06lRVOCwXuPYY6oxR2BapuPogZXVqwc0hO6EkLyxjWlNmk797kI4uBir0CQLACQrt3oxrQGRnxj0oUsaeltBxw2AcnWewLX4VJQ46sO4SCqKYl3fxrVur/06va1bvEWSh5NLBGa//9tkpyuVSmjeR5xHu9OhVvwTcT59fjyMtnhOBV9mCC8vLy+vf9UP6nkGH0hHtzsAAAAASUVORK5CYII="},"4fc3":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC"},5:function(i,o){},5340:function(i,o,e){},"559e":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAMAAAD26OlUAAAAtFBMVEUAAAAAAAAAAAAAAAAaGhoCAgIDAwMBAQEQEBAAAAABAQEBAQECAgIAAAABAQEBAQECAgIEBAQBAQEAAAAFBQUDAwMDAwMAAAAAAAACAgIDAwMFBQUGBgYAAAABAQEBAQEDAwMDAwMICAgJCQkMDAwBAQEBAQEBAQECAgIBAQECAgICAgICAgIGBgYGBgYNDQ0EBAQCAgIEBAQBAQEBAQEDAwMCAgIDAwMEBAQFBQUQEBAAAAAlv8O7AAAAO3RSTlMAvz/5B4MexQP7YBe0n+vmf03b2F0SC+DPqVlRLfbKo3lENiEP89PAu66Ja2dJOjIncUfthpmTjT4pJj+7kzoAAAIXSURBVDjLnZTnlrIwEIbHDaEI0lFAQFGkWrBty/3f16cU0Q3sd86+vybwnMnUwJ/FWGxZshbzOyVqOLN1RdHtDGviILa/2D5S7ESSEltBvn3Z92JePhPid9ezpgwztTz3PRZmuUdzZkCSgoUnsUVCAvMHxqsbRW2xDlWVjcq/pJqTZA49mickfy4AJtJ+IEGJ4O50JOkKBrRKybG1T7r9RhNtGd9s/VRbUwdtae7NGTfWFjnTyhijCUNzIzJrSGaCKiuS5JDu+JKQBxnKUgQA2mZBOSxFdtKRzGKjAcAHcul7J2xN1mm46APA4gyWjo/U5KiuGmtwFhxkh6e5mhw1VeMd+QAawjRXk2L56BzSYCuMKa7WsstxLGxhKcz7udFTt+bCErC/+y8HOx93HmnuxeNLjOKC5toYn7NmwDVors3akzO+qZZ5AFfv4/hM9sDi9HV9jALpAKZOc7DWOQsgR82mfSmkIikOTJTfU2+nR/PJnQyprbhNz66ax/Op2ZybnDVQOp2lqJ7wyiV/VbjJUpsC7RCN250pqn0rLR56VLQ7A6ERhzCoMDYefwthtB/i9iOh6E4qST/7uc+UqM+lx4Trf3s4gl8DV88ypiqzxvJZhR9yOcId1y/Y8fbJBUrlZUaMq+mJ9xdX9MyrQWaXr/6HCwc+kmMuTblYRn6AVzAkcadmgaEoRpCpOxF+FR+J399iRPXoHwT7P6mwTTR1AAAAAElFTkSuQmCC"},"56d7":function(i,o,e){"use strict";e.r(o);e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("caad"),e("2532");var n,a,t,s,r,c,u,d,l,A,g,m,h,p,v,f,b,C,x,P,L,y,E,I,S,w,T,B,j,R,F,D,N,M,z,k,U,O,Q,G=e("2b0e"),V=function(){var i=this,o=i.$createElement,e=i._self._c||o;return e("div",{attrs:{id:"app"}},[e("center",[e("h2",[i._v("Taller de creación de cuentos")])]),i.usuarioSuperadministrador?e("todos-libros",{ref:"todosLibros",staticClass:"bloqueListaLibros",attrs:{URLLibrosolo:i.URLLibrosolo,idLibroSeleccionado:i.idLibroSeleccionado},on:{elimineUnLibro:i.removerLibroCache,libroSeleccionado:i.seleccionarLibro}}):i._e(),i.usuarioLogeado?e("libros-publicos",{ref:"librosPublicos",staticClass:"bloqueListaLibros",attrs:{URLLibrosolo:i.URLLibrosolo,idLibroSeleccionado:i.idLibroSeleccionado},on:{elimineUnLibro:i.removerLibroCache,libroSeleccionado:i.seleccionarLibro}}):i._e(),e("mis-libros",{ref:"misLibros",staticClass:"bloqueListaLibros",attrs:{URLLibrosolo:i.URLLibrosolo},on:{libroSeleccionado:i.seleccionarLibro}}),null!=i.idLibroSeleccionado?e("libro",{key:i.idLibroSeleccionado,ref:"elLibro",attrs:{idLibro:i.idLibroSeleccionado}}):i._e()],1)},H=[],q=e("8785"),Z=(e("841c"),e("ac1f"),e("2b3d"),e("d3b7"),e("3ca3"),e("ddb0"),e("898b")),Y=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{staticClass:"libro",on:{click:function(o){i.idPaginaSeleccionada=null}}},[n("div",{attrs:{id:"zonaTitulo"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!i.editandoTitulo,expression:"!editandoTitulo"}],attrs:{id:"titulo"}},[i._v(" "+i._s(i.libro.titulo)+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:i.nuevoTitulo,expression:"nuevoTitulo"},{name:"show",rawName:"v-show",value:i.editandoTitulo,expression:"editandoTitulo"}],class:{letrasRojas:i.nuevoTituloIlegal},attrs:{type:"text",id:"inputNuevoTitulo"},domProps:{value:i.nuevoTitulo},on:{keypress:function(o){return!o.type.indexOf("key")&&i._k(o.keyCode,"enter",13,o.key,"Enter")?null:i.guardarNuevoTitulo(o)},input:function(o){o.target.composing||(i.nuevoTitulo=o.target.value)}}}),n("div",{attrs:{id:"controlesTitulo"}},[n("img",{staticClass:"bEditarTitulo",attrs:{src:e("559e"),alt:"Editar",id:"bEditarrTitulo",title:"Editar titulo del libro"},on:{click:function(o){return o.stopPropagation(),i.toggleEditandoTitulo(o)}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:1==i.editandoTitulo&&0==i.nuevoTituloIlegal,expression:"editandoTitulo == true && nuevoTituloIlegal == false"}],staticClass:"bEditarTitulo",attrs:{src:e("4fc3"),alt:"Guardar",title:"guardar",id:"bGuardarNuevoTitulo"},on:{click:function(o){return o.stopPropagation(),i.guardarNuevoTitulo(o)}}})])]),n("img",{directives:[{name:"show",rawName:"v-show",value:i.$apollo.queries.libro.loading,expression:"$apollo.queries.libro.loading"}],staticClass:"simboloLoading",staticStyle:{width:"50px",margin:"30px auto",display:"block"},attrs:{src:e("3c35"),alt:"Cargando"}}),n("div",{attrs:{id:"contenedorPaginas"}},i._l(i.paginasOrdenadas,(function(o,e){return n("pagina",{key:o.id,attrs:{paginaDerecha:e%2>0||0==e,estaPagina:o,idLibro:i.idLibro,seleccionada:i.idPaginaSeleccionada==o.id,segundoPlano:null!=i.idPaginaSeleccionada&&i.idPaginaSeleccionada!=o.id},on:{meElimine:function(e){return i.removePaginaFromCache(o.id)},tengoNuevoCuadroTexto:function(e){return i.updateCacheConNuevoCuadroTexto(e,o.id)},tengoNuevoCuadroImagen:function(e){return i.updateCacheConNuevoCuadroImagen(e,o.id)},elimineCuadroTexto:function(e){return i.removeCuadroTextoFromCache(e,o.id)},elimineCuadroImagen:function(e){return i.removeCuadroImagenFromCache(e,o.id)}},nativeOn:{click:function(e){e.stopPropagation(),i.usuarioEditor&&(i.idPaginaSeleccionada=o.id)}}})})),1),n("div",{class:{deshabilitado:i.creandoPagina},attrs:{id:"bCrearNuevaPagina"},on:{click:function(o){return o.stopPropagation(),i.crearNuevaPaginaLibro(o)}}},[i._v(" Crear nueva página ")]),n("div",{attrs:{id:"zonaForos"}},[n("div",{staticClass:"tituloForo"},[i._v("Foro de editores")]),i.libro.idForo?n("foro",{attrs:{parent:i.infoAsParent,idForo:i.libro.idForo}}):i._e()],1)])},J=[],$=(e("c740"),e("a434"),e("99af"),e("7db0"),e("aa5a")),K=e.n($),W=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{staticClass:"pagina",class:{seleccionada:i.seleccionada,deshabilitado:i.uploadingInfo,segundoPlano:i.segundoPlano,cursorTexto:i.creandoTexto,cursorImagen:i.creandoImagen},style:[i.estiloColumna,i.estiloSize,i.estiloApariencia],on:{mousedown:function(o){return!o.type.indexOf("key")&&i._k(o.keyCode,"left",37,o.key,["Left","ArrowLeft"])||"button"in o&&0!==o.button?null:(o.stopPropagation(),i.accionCrearElemento(o))},mousemove:i.resizeFantasmaElemento,mouseup:i.endDibujandoElemento,click:function(o){i.idElementoSeleccionado=null}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionada,expression:"seleccionada"}],staticClass:"zonaControlesPagina"},[n("img",{staticClass:"bControlesPagina bEliminarPagina",attrs:{src:e("2191"),title:"Eliminar esta página"},on:{click:i.eliminarse}}),n("img",{staticClass:"bControlesPagina bSelectColorPagina",attrs:{src:e("df69"),alt:"Color",title:"Seleccionar color de la página"},on:{click:function(o){return o.stopPropagation(),i.$refs.inputColorPagina.click()}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:i.colorSeleccionado,expression:"colorSeleccionado"}],ref:"inputColorPagina",staticStyle:{display:"none"},attrs:{type:"color"},domProps:{value:i.colorSeleccionado},on:{change:i.guardarNuevoColor,input:function(o){o.target.composing||(i.colorSeleccionado=o.target.value)}}}),n("herramientas-edicion",{directives:[{name:"show",rawName:"v-show",value:i.seleccionada,expression:"seleccionada"}],ref:"herramientasEdicion",on:{creacionTexto:function(o){i.desactivarHerramientas(),i.creandoTexto=!0},creacionImagen:function(o){i.desactivarHerramientas(),i.creandoImagen=!0},mousedown:function(i){i.stopPropagation()},mouseup:function(i){i.stopPropagation()}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.dibujandoTexto,expression:"dibujandoTexto"}],staticClass:"fantasmaElemento",style:[i.estiloLayoutFantasmaTexto],attrs:{id:"fantasmaTexto"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.dibujandoImagen,expression:"dibujandoImagen"}],staticClass:"fantasmaElemento",style:[i.estiloLayoutFantasmaImagen],attrs:{id:"fantasmaImagen"}}),i._l(i.estaPagina.cuadrosImagen,(function(o){return n("cuadro-imagen",{key:o.id,ref:"cuadroImagen"+o.id,refInFor:!0,staticClass:"elementoPagina",class:{primerPlano:i.idElementoSeleccionado==o.id},attrs:{esteCuadroImagen:o,idLibro:i.idLibro,idPagina:i.estaPagina.id,sizePagina:i.size,seleccionado:i.idElementoSeleccionado==o.id&&i.seleccionada,paginaSeleccionada:i.seleccionada,zBase:i.zElementos},on:{meElimine:function(e){return i.$emit("elimineCuadroImagen",o.id)}},nativeOn:{click:function(e){return i.resolverSeleccion(e,o.id)}}})})),i._l(i.estaPagina.cuadrosTexto,(function(o){return n("cuadro-texto",{key:o.id,staticClass:"elementoPagina",class:{primerPlano:i.idElementoSeleccionado==o.id},attrs:{esteCuadroTexto:o,idLibro:i.idLibro,idPagina:i.estaPagina.id,sizePagina:i.size,seleccionado:i.idElementoSeleccionado==o.id&&i.seleccionada,paginaSeleccionada:i.seleccionada,zBase:i.zElementos},on:{meElimine:function(e){return i.$emit("elimineCuadroTexto",o.id)}},nativeOn:{click:function(e){return i.resolverSeleccion(e,o.id)}}})}))],2)},X=[],_=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{staticClass:"cuadroImagen",class:{conAudio:i.esteCuadroImagen.audio,deshabilitado:i.updatingInfo,enPaginaSeleccionada:i.paginaSeleccionada},style:[i.estiloLayout],on:{click:i.playAudio}},[n("img",{staticClass:"imagenContenido",attrs:{src:i.urlImagen+"?v="+i.versionImagen,alt:"ilustracion"}}),n("img",{staticClass:"simboloLoading",attrs:{src:e("3c35"),alt:"Cargando"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],attrs:{id:"zHandlers"}},[n("div",{staticClass:"zHandler",attrs:{id:"bSendBack",title:"Mover hacia atrás"},on:{click:function(o){i.posicionZeta=i.posicionZeta>0?i.posicionZeta-1:0}}}),n("div",{staticClass:"zHandler",attrs:{id:"bBringFront",title:"Mover hacia adelante"},on:{click:function(o){i.posicionZeta++}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],style:i.sizeDragHandle,attrs:{id:"dragHandle"},on:{mousedown:function(o){return!o.type.indexOf("key")&&i._k(o.keyCode,"left",37,o.key,["Left","ArrowLeft"])||"button"in o&&0!==o.button?null:(o.stopPropagation(),i.iniciarDrag(o))},mousemove:i.drag,mouseup:i.finDrag}},[n("div",{class:{enDuda:i.posicionZeta!=i.esteCuadroImagen.posicionZeta},attrs:{id:"bolitaDragHandle",title:"arrastrar"}},[i._v(i._s(i.posicionZeta))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],style:[i.sizeResizeHandle],attrs:{id:"resizeHandle"},on:{mousedown:function(o){return!o.type.indexOf("key")&&i._k(o.keyCode,"left",37,o.key,["Left","ArrowLeft"])||"button"in o&&0!==o.button?null:i.iniciarResize(o)},mousemove:i.resize,mouseup:i.finResize}},[n("div",{attrs:{id:"bolitaResizeHandle"}})]),n("img",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],attrs:{src:e("2191"),alt:"Eliminar",title:"Eliminar cuadro de imagen",id:"bEliminarCuadroImagen"},on:{click:i.eliminarse}}),n("input",{ref:"inputArchivoImagen",staticStyle:{display:"none"},attrs:{type:"file",id:"inputArchivoImagen"},on:{change:i.uploadArchivoCuadroImagen}}),i.esteCuadroImagen.audio?n("audio",{ref:"audio",attrs:{type:"audio/ogg"}},[n("source",{attrs:{src:i.urlAudio,type:"audio/ogg"}})]):i._e()])},ii=[],oi=(e("a9e3"),e("bc3a")),ei=e.n(oi),ni=e("b012"),ai=e.n(ni),ti={name:"cuadroImagen",props:{esteCuadroImagen:Object,idLibro:String,idPagina:String,sizePagina:Object,seleccionado:Boolean,archivoCuadroImagenPagina:Object,paginaSeleccionada:Boolean,zBase:Number},data:function(){return{posicionZeta:0,resizing:!1,dragging:!1,posicion:{x:null,y:null},size:{x:null,y:null},updatingInfo:!1,versionImagen:0}},computed:{estiloLayout:function(){return{top:this.posicion.y+"%",left:this.posicion.x+"%",width:this.size.x+"%",height:this.size.y+"%",zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta}},urlImagen:function(){return this.serverUrl+"/apiCuentos/imagenCuento/"+this.idLibro+"/"+this.idPagina+"/"+this.esteCuadroImagen.id},sizeResizeHandle:function(){return{width:this.resizing?"200px":"10px",height:this.resizing?"200px":"10px"}},sizeDragHandle:function(){return{width:this.dragging?"200px":"10px",height:this.dragging?"200px":"10px"}},urlAudio:function(){return this.serverUrl+"/apiCuentos/audioImagen/"+this.idLibro+"/"+this.idPagina+"/"+this.esteCuadroImagen.id}},methods:{playAudio:function(){this.esteCuadroImagen.audio&&this.$refs.audio.play()},iniciarResize:function(){this.resizing=!0},resize:function(i){if(this.resizing){var o={x:this.$el.getBoundingClientRect().left,y:this.$el.getBoundingClientRect().top},e=i.clientX-o.x-5,n=i.clientY-o.y-5,a=Math.floor(100*e/this.sizePagina.x),t=Math.floor(100*n/this.sizePagina.y);this.posicion.x+a>100&&(a=Math.floor(100-this.posicion.x)),this.posicion.y+t>100&&(t=Math.floor(100-this.posicion.y)),this.$set(this.size,"x",a),this.$set(this.size,"y",t)}},finResize:function(){this.resizing=!1,this.$apollo.mutate({mutation:Object(Z["gql"])(n||(n=Object(q["a"])(["\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoSize: CoordsInput!\n          ) {\n            updateSizeCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoSize: $nuevoSize\n            ) {\n              id\n              size {\n                x\n                y\n              }\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoSize:this.size}})},iniciarDrag:function(){this.dragging=!0},drag:function(i){if(this.dragging){console.log("Dragging");var o=this.$el.closest(".pagina"),e=o.getBoundingClientRect(),n={x:i.clientX-e.left,y:i.clientY-e.top},a={x:n.x-this.$el.offsetWidth/2,y:n.y+20};a.x+this.$el.offsetWidth>o.offsetWidth&&(a.x=o.offsetWidth-this.$el.offsetWidth),a.x<0&&(a.x=0),a.y+this.$el.offsetHeight>o.offsetHeight&&(a.y=o.offsetHeight-this.$el.offsetHeight),a.y<0&&(a.y=0);var t={x:Math.round(100*a.x/o.offsetWidth),y:Math.round(100*a.y/o.offsetHeight)};this.posicion=t}},finDrag:function(){this.dragging=!1,this.$apollo.mutate({mutation:Object(Z["gql"])(a||(a=Object(q["a"])(["\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroImagen: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroImagen(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroImagen: $idCuadroImagen\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoPosicion:this.posicion}})},uploadArchivoCuadroImagen:function(){var i=this,o=new FormData;this.$refs.inputArchivoImagen.value?(o.append("idLibro",this.idLibro),o.append("idPagina",this.idPagina),o.append("idCuadroImagen",this.esteCuadroImagen.id),o.append("imagen",this.$refs.inputArchivoImagen.files[0]),ei()({method:"post",url:this.serverUrl+"/apiCuentos/subirArchivoCuadroImagen",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$store.state.token}}).then((function(o){var e=o.res;console.log("Resultado de upload archivo: ".concat(e)),i.versionImagen++})).catch((function(i){console.log("Error uploading archivo de cuadroImagen. E: ".concat(i))}))):console.log("No había archivo seleccionado")},guardarPosicionZeta:ai()((function(){this.posicionZeta!=this.esteCuadroImagen.posicionZeta&&(console.log("Guardando posición zeta"),this.$apollo.mutate({mutation:Object(Z["gql"])(t||(t=Object(q["a"])(["\n          mutation($idLibro:ID!, $idPagina:ID!, $idCuadroImagen:ID!, $nuevoPosicionZ:Int!){\n            setPosicionZCuadroImagen(idLibro:$idLibro, idPagina:$idPagina, idCuadroImagen:$idCuadroImagen, nuevoPosicionZ:$nuevoPosicionZ){\n              id\n              posicionZeta\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id,nuevoPosicionZ:this.posicionZeta}}))}),3e3),eliminarse:function(){var i=this;confirm("Eliminando cuadro de imagen. Esta operación no se puede deshacer. ¿Continuar?")&&(this.updatingInfo=!0,console.log("Eliminando un cuadro de imagen"),this.$apollo.mutate({mutation:Object(Z["gql"])(s||(s=Object(q["a"])(["\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroImagen: ID!) {\n              eliminarCuadroImagenLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroImagen: $idCuadroImagen\n              )\n            }\n          "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroImagen:this.esteCuadroImagen.id}}).then((function(o){var e=o.data.eliminarCuadroImagenLibro;console.log("Resultado: ".concat(e)),e&&i.$emit("meElimine")})).catch((function(o){console.log("Error. E: ".concat(o)),i.updatingInfo=!1})))}},watch:{posicionZeta:function(){console.log("Cambio de posicion zeta"),this.guardarPosicionZeta()}},mounted:function(){console.log("Montado"),this.$set(this.posicion,"x",this.esteCuadroImagen.posicion.x),this.$set(this.posicion,"y",this.esteCuadroImagen.posicion.y),this.$set(this.size,"x",this.esteCuadroImagen.size.x),this.$set(this.size,"y",this.esteCuadroImagen.size.y),this.posicionZeta=this.esteCuadroImagen.posicionZeta,this.esteCuadroImagen.sinArchivo&&(console.log("Abriendo el input de archivo"),this.$refs.inputArchivoImagen.click())}},si=ti,ri=(e("b545"),e("2877")),ci=Object(ri["a"])(si,_,ii,!1,null,"68a1aab8",null),ui=ci.exports,di=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{staticClass:"cuadroTexto",class:{conAudio:i.esteCuadroTexto.audio,deshabilitado:i.updatingInfo,enPaginaSeleccionada:i.paginaSeleccionada},style:[i.estiloLayout],on:{click:i.playAudio}},[n("div",{ref:"texto",staticClass:"texto",style:[i.estiloFormato,i.estiloFontSize,i.estiloVisibilidadTexto],on:{click:i.iniciarEdicionTexto}},[i._v(i._s(i.esteCuadroTexto.texto))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:i.nuevoTexto,expression:"nuevoTexto"},{name:"show",rawName:"v-show",value:i.editandoTexto,expression:"editandoTexto"}],ref:"inputNuevoTexto",style:[i.estiloFormato,i.estiloFontSizeInput],attrs:{id:"inputNuevoTexto"},domProps:{value:i.nuevoTexto},on:{input:function(o){o.target.composing||(i.nuevoTexto=o.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:i.nuevoTexto,expression:"nuevoTexto"}],ref:"dummyInput",style:[i.estiloFormato,i.estiloInputDummy],attrs:{id:"dummyInputTexto"},domProps:{value:i.nuevoTexto},on:{input:function(o){o.target.composing||(i.nuevoTexto=o.target.value)}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:i.editandoTexto,expression:"editandoTexto"}],attrs:{src:e("4fc3"),alt:"guardar",title:"Guardar cambios",id:"bGuardarTexto"},on:{click:function(o){return o.stopPropagation(),i.guardarNuevoTexto(o)}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],attrs:{src:e("2191"),alt:"Eliminar",title:"Eliminar cuadro de texto",id:"bEliminarCuadroTexto"},on:{click:i.eliminarse}}),n("div",{ref:"textoDummy",staticClass:"textoDummy",style:[i.estiloFormato,i.estiloDummy]},[i._v(" "+i._s(i.esteCuadroTexto.texto)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],attrs:{id:"zHandlers"}},[n("div",{staticClass:"zHandler",attrs:{id:"bSendBack",title:"Mover hacia atrás"},on:{click:function(o){i.posicionZeta=i.posicionZeta>0?i.posicionZeta-1:0}}}),n("div",{staticClass:"zHandler",attrs:{id:"bBringFront",title:"Mover hacia adelante"},on:{click:function(o){i.posicionZeta++}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],style:i.sizeDragHandle,attrs:{id:"dragHandle"},on:{mousedown:function(o){return!o.type.indexOf("key")&&i._k(o.keyCode,"left",37,o.key,["Left","ArrowLeft"])||"button"in o&&0!==o.button?null:(o.stopPropagation(),i.iniciarDrag(o))},mousemove:i.drag,mouseup:i.finDrag}},[n("div",{class:{enDuda:i.posicionZeta!=i.esteCuadroTexto.posicionZeta},attrs:{id:"bolitaDragHandle",title:"Arrastrar"}},[i._v(i._s(i.posicionZeta))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],style:[i.sizeResizeHandle],attrs:{id:"resizeHandle"},on:{mousedown:function(o){return!o.type.indexOf("key")&&i._k(o.keyCode,"left",37,o.key,["Left","ArrowLeft"])||"button"in o&&0!==o.button?null:(o.stopPropagation(),i.iniciarResize(o))},mousemove:i.resize,mouseup:i.finResize}},[n("div",{attrs:{id:"bolitaResizeHandle"}})]),i.esteCuadroTexto.audio?n("audio",{ref:"audio",attrs:{type:"audio/ogg"}},[n("source",{attrs:{src:i.urlAudio,type:"audio/ogg"}})]):i._e()])},li=[],Ai={name:"CuadroTexto",props:{idLibro:String,idPagina:String,esteCuadroTexto:Object,sizePagina:Object,seleccionado:Boolean,paginaSeleccionada:Boolean,zBase:Number},data:function(){return{fontSizeDummy:10,fontSizeInputDummy:10,fontSizeTexto:10,fontSizeInput:10,resizing:!1,dragging:!1,posicionZeta:0,posicion:{x:null,y:null},size:{x:null,y:null},updatingInfo:!1,nuevoTexto:null,editandoTexto:!1}},computed:{estiloLayout:function(){return{top:this.posicion.y+"%",left:this.posicion.x+"%",width:this.size.x+"%",height:this.size.y+"%",zIndex:this.seleccionado?this.zBase+this.posicionZeta+100:this.zBase+this.posicionZeta}},estiloFormato:function(){return{textAlign:this.esteCuadroTexto.formato.alineacion,color:this.esteCuadroTexto.formato.colorLetra,fontFamily:this.esteCuadroTexto.formato.tipoLetra+", 'Nunito', sans-serif"}},estiloFontSize:function(){return{fontSize:this.fontSizeTexto+"px"}},estiloVisibilidadTexto:function(){return{visibility:this.editandoTexto?"hidden":"visible"}},estiloFontSizeInput:function(){return{fontSize:this.fontSizeInput+"px"}},estiloDummy:function(){return{fontSize:this.fontSizeDummy+"px"}},estiloInputDummy:function(){return{fontSize:this.fontSizeInputDummy+"px"}},sizeResizeHandle:function(){return{width:this.resizing?"200px":"10px",height:this.resizing?"200px":"10px"}},sizeDragHandle:function(){return{width:this.dragging?"200px":"10px",height:this.dragging?"200px":"10px"}},urlAudio:function(){return this.serverUrl+"/apiCuentos/audioTexto/"+this.idLibro+"/"+this.idPagina+"/"+this.esteCuadroTexto.id}},methods:{playAudio:function(){this.esteCuadroTexto.audio&&(console.log("Reproduciendo"),this.$refs.audio.play())},iniciarResize:function(){this.resizing=!0},resize:function(i){if(this.resizing){var o={x:this.$el.getBoundingClientRect().left,y:this.$el.getBoundingClientRect().top},e=i.clientX-o.x-5,n=i.clientY-o.y-5;if(e<15||n<15)return void console.log("Offlimits");var a=Math.round(100*e/this.sizePagina.x),t=Math.round(100*n/this.sizePagina.y);this.posicion.x+a>100&&(a=Math.floor(100-this.posicion.x)),this.posicion.y+t>100&&(t=Math.floor(100-this.posicion.y)),this.$set(this.size,"x",a),this.$set(this.size,"y",t)}},finResize:function(){var i=this;this.resizing=!1,this.fontSizeDummy=10,this.$nextTick((function(){i.findFontSize(),i.$apollo.mutate({mutation:Object(Z["gql"])(r||(r=Object(q["a"])(["\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoSize: CoordsInput!\n            ) {\n              updateSizeCuadroTexto(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoSize: $nuevoSize\n              ) {\n                id\n                size {\n                  x\n                  y\n                }\n              }\n            }\n          "]))),variables:{idLibro:i.idLibro,idPagina:i.idPagina,idCuadroTexto:i.esteCuadroTexto.id,nuevoSize:i.size}})}))},findFontSize:function(){var i=this;if(this.esteCuadroTexto&&this.esteCuadroTexto.texto&&!(this.esteCuadroTexto.texto.length<1)){var o=this.$refs.texto.offsetHeight,e=this.$refs.textoDummy.offsetHeight,n=this.$refs.textoDummy.scrollWidth,a=this.$refs.texto.offsetWidth;e>=o||n>=a?(this.fontSizeDummy=this.fontSizeDummy-2,this.$nextTick((function(){var o=i.$refs.texto.offsetHeight,e=i.$refs.textoDummy.offsetHeight,n=i.$refs.textoDummy.scrollWidth,a=i.$refs.texto.offsetWidth;if(e<o&&n<a||i.fontSizeDummy<5)return i.fontSizeTexto=i.fontSizeDummy,void(i.fontSizeInput=i.fontSizeDummy);i.findFontSize()}))):e<o&&n<a&&(this.fontSizeDummy=this.fontSizeDummy+2,this.$nextTick((function(){var o=i.$refs.texto.offsetHeight,e=i.$refs.textoDummy.offsetHeight,n=i.$refs.textoDummy.scrollWidth,a=i.$refs.texto.offsetWidth;if(e>=o||n>=a||i.fontSizeDummy>100)return i.fontSizeDummy=i.fontSizeDummy-2,i.fontSizeTexto=i.fontSizeDummy,void(i.fontSizeInput=i.fontSizeDummy);i.findFontSize()})))}},findFontSizeInput:function(){var i=this;if(this.nuevoTexto&&!(this.nuevoTexto.length<1)){var o=this.$refs.inputNuevoTexto.offsetHeight,e=this.$refs.dummyInput.scrollHeight,n=this.$refs.dummyInput.scrollWidth,a=this.$refs.inputNuevoTexto.offsetWidth;e>=o||n>=a?(this.fontSizeInputDummy=this.fontSizeInputDummy-2,this.$nextTick((function(){var o=i.$refs.inputNuevoTexto.offsetHeight,e=i.$refs.dummyInput.scrollHeight,n=i.$refs.dummyInput.scrollWidth,a=i.$refs.inputNuevoTexto.offsetWidth;e<o&&n<a||i.fontSizeInputDummy<5?i.fontSizeInput=i.fontSizeInputDummy:i.findFontSizeInput()}))):e<o&&n<a&&(this.fontSizeInputDummy=this.fontSizeInputDummy+2,this.$nextTick((function(){var o=i.$refs.inputNuevoTexto.offsetHeight,e=i.$refs.dummyInput.scrollHeight,n=i.$refs.dummyInput.scrollWidth,a=i.$refs.inputNuevoTexto.offsetWidth;if(e>=o||n>=a||i.fontSizeInputDummy>100)return i.fontSizeInputDummy=i.fontSizeInputDummy-2,void(i.fontSizeInput=i.fontSizeInputDummy);i.findFontSizeInput()})))}},guardarNuevoTexto:function(){var i=this;if(this.nuevoTexto.length>3e3)alert("Texto demasiado largo");else{if(this.nuevoTexto==this.esteCuadroTexto.texto)return console.log("Texto no modificado"),void(this.editandoTexto=!1);this.updatingInfo=!0,this.$apollo.mutate({mutation:Object(Z["gql"])(c||(c=Object(q["a"])(["\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $idCuadroTexto: ID!\n              $nuevoTexto: String!\n            ) {\n              updateTextoCuadroTextoCuento(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n                nuevoTexto: $nuevoTexto\n              ) {\n                id\n                texto\n              }\n            }\n          "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoTexto:this.nuevoTexto}}).then((function(){i.editandoTexto=!1,i.updatingInfo=!1})).catch((function(o){console.log("Error. E: ".concat(o)),i.updatingInfo=!1}))}},iniciarEdicionTexto:function(){var i=this;this.seleccionado&&(this.fontSizeInput=this.fontSizeTexto,this.fontSizeInputDummy=this.fontSizeTexto,this.nuevoTexto=this.esteCuadroTexto.texto,this.editandoTexto=!0,this.$nextTick((function(){i.$refs.inputNuevoTexto.focus()})))},iniciarDrag:function(){this.dragging=!0},drag:function(i){if(this.dragging){console.log("Dragging");var o=this.$el.closest(".pagina"),e=o.getBoundingClientRect(),n={x:i.clientX-e.left,y:i.clientY-e.top},a={x:n.x-this.$el.offsetWidth/2,y:n.y+20};a.x+this.$el.offsetWidth>o.offsetWidth&&(a.x=o.offsetWidth-this.$el.offsetWidth),a.x<0&&(a.x=0),a.y+this.$el.offsetHeight>o.offsetHeight&&(a.y=o.offsetHeight-this.$el.offsetHeight),a.y<0&&(a.y=0);var t={x:Math.round(100*a.x/o.offsetWidth),y:Math.round(100*a.y/o.offsetHeight)};this.posicion=t}},finDrag:function(){this.dragging=!1,this.$apollo.mutate({mutation:Object(Z["gql"])(u||(u=Object(q["a"])(["\n          mutation(\n            $idLibro: ID!\n            $idPagina: ID!\n            $idCuadroTexto: ID!\n            $nuevoPosicion: CoordsInput!\n          ) {\n            updatePosicionCuadroTexto(\n              idLibro: $idLibro\n              idPagina: $idPagina\n              idCuadroTexto: $idCuadroTexto\n              nuevoPosicion: $nuevoPosicion\n            ) {\n              id\n              posicion {\n                x\n                y\n              }\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoPosicion:this.posicion}})},eliminarse:function(){var i=this;confirm("Eliminando cuadro de texto. Esta operación no se puede deshacer. ¿Continuar?")&&(this.updatingInfo=!0,console.log("Eliminando un cuadro de texto"),this.$apollo.mutate({mutation:Object(Z["gql"])(d||(d=Object(q["a"])(["\n            mutation($idLibro: ID!, $idPagina: ID!, $idCuadroTexto: ID!) {\n              eliminarCuadroTextoLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                idCuadroTexto: $idCuadroTexto\n              )\n            }\n          "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id}}).then((function(o){var e=o.data.eliminarCuadroTextoLibro;console.log("Resultado: ".concat(e)),e&&i.$emit("meElimine")})).catch((function(o){console.log("Error. E: ".concat(o)),i.updatingInfo=!1})))},guardarPosicionZeta:ai()((function(){console.log("Guardando posición zeta"),this.posicionZeta!=this.esteCuadroTexto.posicionZeta&&this.$apollo.mutate({mutation:Object(Z["gql"])(l||(l=Object(q["a"])(["\n          mutation($idLibro:ID!, $idPagina:ID!, $idCuadroTexto:ID!, $nuevoPosicionZ:Int!){\n            setPosicionZCuadroTexto(idLibro:$idLibro, idPagina:$idPagina, idCuadroTexto:$idCuadroTexto, nuevoPosicionZ:$nuevoPosicionZ){\n              id\n              posicionZeta\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.idPagina,idCuadroTexto:this.esteCuadroTexto.id,nuevoPosicionZ:this.posicionZeta}})}),3e3)},watch:{nuevoTexto:function(){var i=this;this.$nextTick((function(){i.findFontSizeInput()}))},esteCuadroTexto:function(){var i=this;this.$nextTick((function(){i.findFontSize()}))},seleccionado:function(i){0==i&&(this.editandoTexto=!1)},posicionZeta:function(){this.guardarPosicionZeta()}},mounted:function(){var i=this;this.$set(this.posicion,"x",this.esteCuadroTexto.posicion.x),this.$set(this.posicion,"y",this.esteCuadroTexto.posicion.y),this.$set(this.size,"x",this.esteCuadroTexto.size.x),this.$set(this.size,"y",this.esteCuadroTexto.size.y),this.posicionZeta=this.esteCuadroTexto.posicionZeta,this.$nextTick((function(){i.findFontSize()}))}},gi=Ai,mi=(e("0d62"),Object(ri["a"])(gi,di,li,!1,null,null,null)),hi=mi.exports,pi=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{attrs:{id:"herramientasEdicion"}},[n("img",{staticClass:"bHerramientasEdicion",class:{hSeleccionada:"puntero"==i.herramientaSeleccionada},attrs:{src:e("4a8c")},on:{click:function(o){o.stopPropagation(),i.$emit("puntero"),i.herramientaSeleccionada="puntero"},mousedown:function(i){i.stopPropagation()}}}),n("img",{staticClass:"bHerramientasEdicion",class:{hSeleccionada:"texto"==i.herramientaSeleccionada},attrs:{src:e("28b8")},on:{click:function(o){o.stopPropagation(),i.$emit("creacionTexto"),i.herramientaSeleccionada="texto"},mousedown:function(i){i.stopPropagation()}}}),n("img",{staticClass:"bHerramientasEdicion",class:{hSeleccionada:"imagen"==i.herramientaSeleccionada},attrs:{src:e("885c")},on:{click:function(o){o.stopPropagation(),i.$emit("creacionImagen"),i.herramientaSeleccionada="imagen"},mousedown:function(i){i.stopPropagation()}}})])},vi=[],fi={name:"HerramientasEdicion",data:function(){return{herramientaSeleccionada:"puntero"}},methods:{reset:function(){this.herramientaSeleccionada="puntero"}}},bi=fi,Ci=(e("0705"),Object(ri["a"])(bi,pi,vi,!1,null,"2c9e7702",null)),xi=Ci.exports,Pi={components:{CuadroImagen:ui,CuadroTexto:hi,HerramientasEdicion:xi},name:"Pagina",props:{estaPagina:Object,paginaDerecha:Boolean,preparada:{type:Boolean,default:!1},visible:{type:Boolean},idLibro:String,seleccionada:Boolean,segundoPlano:{type:Boolean,default:!1}},data:function(){return{ancho:450,alto:600,uploadingInfo:!1,colorSeleccionado:"#ffffff",creandoTexto:!1,creandoImagen:!1,dibujandoTexto:!1,dibujandoImagen:!1,zElementos:100,posFantasmaTexto:{x:0,y:0},sizeFantasmaTexto:{x:30,y:30},posFantasmaImagen:{x:0,y:0},sizeFantasmaImagen:{x:30,y:30},idElementoSeleccionado:null}},computed:{estiloColumna:function(){return this.paginaDerecha?{gridColumn:"1/2",justifySelf:"right"}:null},estiloSize:function(){return{width:this.ancho+"px",height:this.alto+"px"}},size:function(){return{x:this.ancho,y:this.alto}},estiloApariencia:function(){return{backgroundColor:this.colorSeleccionado}},estiloLayoutFantasmaTexto:function(){return{top:this.posFantasmaTexto.y+"px",left:this.posFantasmaTexto.x+"px",width:this.sizeFantasmaTexto.x+"px",height:this.sizeFantasmaTexto.y+"px"}},estiloLayoutFantasmaImagen:function(){return{top:this.posFantasmaImagen.y+"px",left:this.posFantasmaImagen.x+"px",width:this.sizeFantasmaImagen.x+"px",height:this.sizeFantasmaImagen.y+"px"}}},methods:{eliminarse:function(){var i=this;confirm("Eliminando página. Esta operación no se puede deshacer. ¿Continuar?")&&(this.uploadingInfo=!0,console.log("Eliminando una página"),this.$apollo.mutate({mutation:Object(Z["gql"])(A||(A=Object(q["a"])(["\n            mutation($idLibro: ID!, $idPagina: ID!) {\n              eliminarPaginaDeLibro(idLibro: $idLibro, idPagina: $idPagina)\n            }\n          "]))),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id}}).then((function(o){var e=o.data.eliminarPaginaDeLibro;console.log("Resultado: ".concat(e)),e&&i.$emit("meElimine")})).catch((function(o){console.log("Error. E: ".concat(o)),i.uploadingInfo=!1})))},desactivarHerramientas:function(){this.creandoTexto=!1,this.creandoImagen=!1},accionCrearElemento:function(i){var o=this.$el.getBoundingClientRect(),e={x:i.clientX-o.left,y:i.clientY-o.top};this.creandoTexto?(this.dibujandoTexto=!0,this.$set(this.posFantasmaTexto,"x",Math.floor(e.x)),this.$set(this.posFantasmaTexto,"y",Math.floor(e.y)),this.$set(this.sizeFantasmaTexto,"x",30),this.$set(this.sizeFantasmaTexto,"y",30)):this.creandoImagen&&(this.dibujandoImagen=!0,this.$set(this.posFantasmaImagen,"x",Math.floor(e.x)),this.$set(this.posFantasmaImagen,"y",Math.floor(e.y)),this.$set(this.sizeFantasmaImagen,"x",30),this.$set(this.sizeFantasmaImagen,"y",30))},resizeFantasmaElemento:function(i){var o=this.$el.getBoundingClientRect(),e={x:i.clientX-o.left,y:i.clientY-o.top};if(this.dibujandoTexto){var n={x:e.x-this.posFantasmaTexto.x,y:e.y-this.posFantasmaTexto.y};n.x<30&&(n.x=30),n.y<30&&(n.y=30),this.$set(this.sizeFantasmaTexto,"x",Math.floor(n.x)),this.$set(this.sizeFantasmaTexto,"y",Math.floor(n.y))}if(this.dibujandoImagen){var a={x:e.x-this.posFantasmaImagen.x,y:e.y-this.posFantasmaImagen.y};a.x<30&&(a.x=30),a.y<30&&(a.y=30),this.$set(this.sizeFantasmaImagen,"x",Math.floor(a.x)),this.$set(this.sizeFantasmaImagen,"y",Math.floor(a.y))}},endDibujandoElemento:function(){this.dibujandoTexto?(console.log("Creando cuadroTexto"),this.dibujandoTexto=!1,this.$refs.herramientasEdicion.reset(),this.crearTextoFromFantasma()):this.dibujandoImagen&&(console.log("Creando cuadro de imágen"),this.dibujandoImagen=!1,this.$refs.herramientasEdicion.reset(),this.crearCuadroImagenFromFantasma()),this.desactivarHerramientas()},crearCuadroImagenFromFantasma:function(){var i=this,o={x:Math.round(100*this.posFantasmaImagen.x/this.$el.offsetWidth),y:Math.round(100*this.posFantasmaImagen.y/this.$el.offsetHeight)},e={x:Math.round(100*this.sizeFantasmaImagen.x/this.$el.offsetWidth),y:Math.round(100*this.sizeFantasmaImagen.y/this.$el.offsetHeight)};this.$apollo.mutate({mutation:Object(Z["gql"])(g||(g=Object(q["a"])(["\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroImagenPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroImagen\n              }\n            }\n            ","\n          "])),Ao),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,datosPosicion:o,datosSize:e}}).then((function(o){var e=o.data.crearCuadroImagenPaginaLibro;i.$emit("tengoNuevoCuadroImagen",e)})).catch((function(i){console.log("Error en mutación de crear cuadro imágen. E: ".concat(i))}))},crearTextoFromFantasma:function(){var i=this;console.log("Enviando con ".concat(JSON.stringify(this.idLibro),", ").concat(JSON.stringify(this.estaPagina.id),", ").concat(JSON.stringify(this.posFantasmaTexto),", ").concat(JSON.stringify(this.sizeFantasmaTexto)));var o={x:Math.round(100*this.posFantasmaTexto.x/this.$el.offsetWidth),y:Math.round(100*this.posFantasmaTexto.y/this.$el.offsetHeight)},e={x:Math.round(100*this.sizeFantasmaTexto.x/this.$el.offsetWidth),y:Math.round(100*this.sizeFantasmaTexto.y/this.$el.offsetHeight)};this.$apollo.mutate({mutation:Object(Z["gql"])(m||(m=Object(q["a"])(["\n            mutation(\n              $idLibro: ID!\n              $idPagina: ID!\n              $datosPosicion: CoordsInput!\n              $datosSize: CoordsInput!\n            ) {\n              crearCuadroTextoPaginaLibro(\n                idLibro: $idLibro\n                idPagina: $idPagina\n                datosPosicion: $datosPosicion\n                datosSize: $datosSize\n              ) {\n                ...fragCuadroTexto\n              }\n            }\n            ","\n          "])),lo),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,datosPosicion:o,datosSize:e},errorPolicy:"all"}).then((function(o){var e=o.data.crearCuadroTextoPaginaLibro;i.$emit("tengoNuevoCuadroTexto",e)})).catch((function(i){console.log("Error. E: ".concat(i.message)),console.log("Hubo ".concat(i.graphQLErrors," errores graphql"))}))},resolverSeleccion:function(i,o){this.seleccionada&&(i.stopPropagation(),this.idElementoSeleccionado=o)},guardarNuevoColor:function(){var i=this;console.log("Guardando nuevo color de página."),this.$apollo.mutate({mutation:Object(Z["gql"])(h||(h=Object(q["a"])(["\n          mutation($idLibro:ID!, $idPagina:ID!, $nuevoColor:String!){\n            setNuevoColorPaginaLibro(idLibro:$idLibro, idPagina: $idPagina, nuevoColor:$nuevoColor){\n              id\n              color\n            }\n          }\n        "]))),variables:{idLibro:this.idLibro,idPagina:this.estaPagina.id,nuevoColor:this.$refs.inputColorPagina.value}}).then((function(){console.log("Nuevo color guardado")})).catch((function(o){console.log("Error guardando el nuevo color de página. E: ".concat(o)),i.colorSeleccionado=i.estaPagina.color}))}},mounted:function(){this.colorSeleccionado=this.estaPagina.color}},Li=Pi,yi=(e("3a36"),Object(ri["a"])(Li,W,X,!1,null,"aa2cb084",null)),Ei=yi.exports,Ii=function(){var i=this,o=i.$createElement,e=i._self._c||o;return e("div",{staticClass:"foro"},[e("div",{staticClass:"barraSuperiorForo"},[e("div",{directives:[{name:"show",rawName:"v-show",value:null===i.idConversacionSeleccionada,expression:"idConversacionSeleccionada === null"}],attrs:{id:"anuncio"}},[i._v(" Conversaciones ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:null!=i.idConversacionSeleccionada,expression:"idConversacionSeleccionada != null"}],attrs:{id:"bRegresarConversaciones"},on:{click:function(o){i.idConversacionSeleccionada=null}}},[i._v(" Volver a conversaciones ")]),e("div",{attrs:{id:"controlesForo"}},[i.usuarioLogeado&&("publico"==i.esteForo.acceso||1==i.usuarioMiembro||i.usuarioSuperadministrador)&&i.esteForo.id?e("div",{directives:[{name:"show",rawName:"v-show",value:!i.conversacionAbierta,expression:"!conversacionAbierta"}],staticClass:"controlesForo botonesControles",attrs:{id:"bCrearConversacion"},on:{click:function(o){i.creandoConversacion=!i.creandoConversacion}}},[i._v(" "+i._s(i.creandoConversacion?"Cancelar":"Crear conversación")+" ")]):i._e()])]),e("div",{staticClass:"zonaConversaciones"},[i.usuarioLogeado&&("publico"==i.esteForo.acceso||1==i.usuarioMiembro||i.usuarioSuperadministrador)&&i.esteForo.id?e("div",{directives:[{name:"show",rawName:"v-show",value:i.creandoConversacion,expression:"creandoConversacion"}],attrs:{id:"zonaCrearConversacion"}},[e("center",[e("h3",[i._v("Creando conversación")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:i.tituloNuevaConversacion,expression:"tituloNuevaConversacion"}],class:{letrasRojas:i.tituloNuevaConversacionIlegal},attrs:{type:"text",id:"inputTituloNuevaConversacion",placeholder:"Titulo de la nueva conversación"},domProps:{value:i.tituloNuevaConversacion},on:{input:function(o){o.target.composing||(i.tituloNuevaConversacion=o.target.value)}}}),e("cuadro-responder",{class:{deshabilitado:i.tituloNuevaConversacionIlegal},attrs:{idForo:i.esteForo.id,parent:i.parent,tituloNuevaConversacion:i.tituloNuevaConversacion},on:{hiceConversacion:function(o){return i.addConversacion(o)}}})],1):i._e(),i.numPaginas&&!i.conversacionAbierta?e("div",{staticClass:"zonaSelectorPagina"},i._l(i.numPaginas,(function(o){return e("div",{key:o,staticClass:"selectorPagina",class:{selectorSeleccionado:o==i.numPaginaSeleccionada},on:{click:function(e){i.numPaginaSeleccionada=o}}},[i._v(" "+i._s(o)+" ")])})),0):i._e(),i.numPaginas?e("div",{staticClass:"zonaPaginasConversaciones"},[i._l(i.numPaginas,(function(i){return e("div",{key:i,staticClass:"paginaConversaciones"})})),i._l(i.conversacionesPorPagina[i.numPaginaSeleccionada],(function(o){return e("conversacion",{directives:[{name:"show",rawName:"v-show",value:i.idConversacionSeleccionada==o.id||!i.conversacionAbierta,expression:"\n          idConversacionSeleccionada == conversacion.id ||\n          !conversacionAbierta\n        "}],key:o.id,attrs:{estaConversacion:o,seleccionado:i.idConversacionSeleccionada==o.id,usuarioMiembro:i.usuarioMiembro,idForo:i.idForo,parent:i.parent},on:{meElimine:i.refreshPagina},nativeOn:{click:function(e){i.idConversacionSeleccionada=o.id,i.setConversacionLeida(o.id,o.cantidadRespuestas)}}})}))],2):i._e()])])},Si=[],wi=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{staticClass:"conversacion",class:{seleccionado:i.seleccionado,deshabilitado:i.seleccionado&&i.loading}},[n("div",{staticClass:"tituloConversacion"},[n("img",{staticClass:"imagenConversacion",attrs:{src:e("96cc"),alt:"Conversacion"}}),i._v(" "+i._s(i.estaConversacion.titulo)+" "),n("span",{staticClass:"datosConversacion"},[n("span",{directives:[{name:"show",rawName:"v-show",value:i.estaConversacion.cantidadRespuestas>i.cantidadRespuestasLeidasUsuario,expression:"\n          estaConversacion.cantidadRespuestas >\n          cantidadRespuestasLeidasUsuario\n        "}],staticClass:"dato datoRespuestasNoLeidas",attrs:{title:"Respuestas nuevas en esta conversación"}},[i._v(" "+i._s(i.estaConversacion.cantidadRespuestas-i.cantidadRespuestasLeidasUsuario)+" ")]),n("span",{staticClass:"dato datoCantidadRespuestas",attrs:{title:"Cantidad de respuestas en esta conversación"}},[i._v(" "+i._s(i.estaConversacion.cantidadRespuestas)+" ")])])]),i.numPaginas>0?n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],staticClass:"zonaSelectorPaginas"},i._l(i.numPaginas,(function(o){return n("div",{key:o,staticClass:"selectorPagina",class:{selectorSeleccionado:o==i.numPaginaSeleccionada},on:{click:function(e){i.numPaginaSeleccionada=o}}},[i._v(" "+i._s(o)+" ")])})),0):i._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:i.seleccionado,expression:"seleccionado"}],staticClass:"zonaRespuestas"},[n("div",{staticClass:"zonaPaginas"},i._l(i.numPaginas,(function(o){return n("div",{directives:[{name:"show",rawName:"v-show",value:i.numPaginaSeleccionada==o,expression:"numPaginaSeleccionada == index"}],key:"pagina"+o,staticClass:"pagina"},i._l(i.respuestasPorPagina[o],(function(e){return n("respuesta",{key:e.id,attrs:{idConversacion:i.estaConversacion.id,estaRespuesta:e},on:{meElimine:function(n){return i.updateRespuestaEliminada(e.id,o)}}})})),1)})),0),i.usuarioLogeado&&("publico"==i.estaConversacion.acceso||1==i.usuarioMiembro)&&i.estaConversacion.id?n("cuadro-responder",{directives:[{name:"show",rawName:"v-show",value:i.numPaginaSeleccionada==i.numPaginas,expression:"numPaginaSeleccionada == numPaginas"}],ref:"cuadroResponder",attrs:{parent:i.parent,idConversacion:i.estaConversacion.id},on:{hiceRespuesta:function(o){return i.addRespuesta(o)}}}):i._e()],1),n("div",{staticClass:"controlesConversacion"})])},Ti=[],Bi=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{staticClass:"cuadroResponder"},[n("div",{directives:[{name:"show",rawName:"v-show",value:i.idConversacion,expression:"idConversacion"}],attrs:{id:"barraSuperior"}},[n("img",{attrs:{src:e("1070"),alt:"Contestar",title:"Contestar en esta conversación",id:"imgMensaje"},on:{click:i.toggleCuadroAbierto}}),n("span",{attrs:{id:"tituloCuadro"}},[i._v("Envía una respuesta")])]),n("textarea",{directives:[{name:"show",rawName:"v-show",value:i.cuadroAbierto,expression:"cuadroAbierto"},{name:"model",rawName:"v-model",value:i.mensaje,expression:"mensaje"}],class:{letrasRojas:i.mensajeIlegal},attrs:{name:"inputMensaje",id:"inputMensaje",placeholder:"Escribe aquí tu respuesta"},domProps:{value:i.mensaje},on:{input:function(o){o.target.composing||(i.mensaje=o.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.cuadroAbierto,expression:"cuadroAbierto"}],attrs:{id:"adjuntarArchivo"}},[n("input",{ref:"inputArchivoAdjunto",attrs:{type:"file",id:"inputArchivoAdjunto"},on:{change:i.actualizarNombreDeArchivo}}),n("img",{attrs:{src:e("3a9d"),alt:"Ajuntar archivo",id:"imgAdjuntar",title:"adjuntar un archivo"},on:{click:i.abrirSelectorDeArchivos}}),n("br"),n("div",{directives:[{name:"show",rawName:"v-show",value:i.nombreArchivoSeleccionado,expression:"nombreArchivoSeleccionado"}],attrs:{id:"nombreArchivoSeleccionado"}},[i._v(" "+i._s(i.nombreArchivoSeleccionado)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:i.cuadroAbierto,expression:"cuadroAbierto"}],staticClass:"bloqueAdjuntar",attrs:{id:"bloqueAdjuntarEnlace"}},[n("div",{attrs:{id:"zonaIntroducirEnlace"}},[n("img",{attrs:{src:e("dffa"),alt:"Ajuntar enlace",id:"imgAdjuntarEnlace",title:"adjuntar un enlace"},on:{click:function(o){i.introduciendoEnlace=!0}}}),n("input",{directives:[{name:"show",rawName:"v-show",value:!0===i.introduciendoEnlace,expression:"introduciendoEnlace === true"},{name:"model",rawName:"v-model",value:i.enlaceAdjuntable,expression:"enlaceAdjuntable"}],staticClass:"inputAdjuntarEnlace",attrs:{type:"text",placeholder:"escribe o pega el enlace"},domProps:{value:i.enlaceAdjuntable},on:{input:function(o){o.target.composing||(i.enlaceAdjuntable=o.target.value)}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:i.introduciendoEnlace&&!i.enlaceAdjuntableIlegal,expression:"introduciendoEnlace && !enlaceAdjuntableIlegal"}],attrs:{src:e("f0d1"),alt:"Confirmar",id:"bAceptarAdjuntarEnlace"},on:{click:function(o){o.stopPropagation(),i.enlaceAdjunto.push(i.enlaceAdjuntable),i.enlaceAdjuntable=null,i.introduciendoEnlace=!1}}})]),i._l(i.enlaceAdjunto,(function(o,e){return n("div",{key:e,staticClass:"enlaceAdjuntado"},[n("div",{attrs:{id:"nombreEnlaceAdjuntado"}},[n("span",[i._v(i._s(o))])]),n("div",{attrs:{id:"bCancelarEnlaceAdjunto"},on:{click:function(o){return o.stopPropagation(),i.enlaceAdjunto.splice(e,1)}}},[i._m(0,!0)])])}))],2),n("img",{directives:[{name:"show",rawName:"v-show",value:i.cuadroAbierto&&!i.enviandoRespuesta,expression:"cuadroAbierto && !enviandoRespuesta"}],class:{deshabilitado:i.mensajeIlegal},attrs:{src:e("4e77"),alt:"Enviar",title:"Enviar respuesta",id:"bEnviar"},on:{click:i.evaluarAdjunto}}),n("loading",{directives:[{name:"show",rawName:"v-show",value:i.enviandoRespuesta,expression:"enviandoRespuesta"}],attrs:{texto:"Enviando respuesta..."}})],1)},ji=[function(){var i=this,o=i.$createElement,e=i._self._c||o;return e("div",{staticClass:"linea1"},[e("div",{staticClass:"linea2"})])}],Ri=(e("b0c0"),function(){var i=this,o=i.$createElement,e=i._self._c||o;return e("div",{staticClass:"loading"},[e("span",{staticClass:"textoLoading"},[i._v(i._s(i.texto))])])}),Fi=[],Di={name:"Loading",props:{texto:{type:String,default:"Cargando..."}}},Ni=Di,Mi=(e("fc23"),Object(ri["a"])(Ni,Ri,Fi,!1,null,"5ff6e04b",null)),zi=Mi.exports,ki=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/,Ui={components:{Loading:zi},name:"CuadroResponder",props:{tituloNuevaConversacion:String,idConversacion:String,idForo:String,parent:Object},data:function(){return{mensaje:null,cuadroAbierto:!1,enviandoRespuesta:!1,nombreArchivoSeleccionado:null,introduciendoEnlace:!1,enlaceAdjuntable:null,enlaceAdjunto:[]}},methods:{evaluarAdjunto:function(){var i=this;if(!this.mensajeIlegal){this.enviandoRespuesta=!0;var o=this.$refs.inputArchivoAdjunto,e=new FormData;if(o.value){var n=o.files[0],a=n["type"];console.log("subiendo un ".concat(a)),e.append("archivoAdjunto",n);var t=this;ei()({method:"post",url:this.serverUrl+"/api/foros/adjuntarArchivoParaRespuesta",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$store.state.token}}).then((function(o){var e=o.data.infoArchivo,n={infoArchivo:{idGoogleDrive:e.idGoogleDrive,googleDriveDirectLink:e.googleDriveDirectLink,extension:e.extensionDeArchivo,nombre:e.extensionDeArchivo},mensaje:t.mensaje};i.enlaceAdjunto&&i.enlaceAdjunto.length>0&&(n.enlaceAdjunto=i.enlaceAdjunto),i.idConversacion?i.enviarNuevaRespuesta(n):i.crearConversacionConRespuesta(n)})).catch((function(o){i.enviandoRespuesta=!1,console.log("Errores: ".concat(o)),o.response&&o.response.data.msjUsuario&&alert(o.response.data.msjUsuario)}))}else{console.log("El input de archivo adjunto estaba vacio");var s={infoArchivo:null,mensaje:this.mensaje};this.enlaceAdjunto&&this.enlaceAdjunto.length>0&&(s.enlaceAdjunto=this.enlaceAdjunto),this.idConversacion?this.enviarNuevaRespuesta(s):this.crearConversacionConRespuesta(s)}}},crearConversacionConRespuesta:function(i){var o=this;if(this.tituloNuevaConversacion){var e={titulo:this.tituloNuevaConversacion,primeraRespuesta:i};this.enviandoRespuesta=!0;var n=this;this.$apollo.mutate({mutation:K()(p||(p=Object(q["a"])(["\n            mutation(\n              $idForo: ID!\n              $input: InputIniciarConversacion\n              $parent: InputParent\n            ) {\n              iniciarConversacionConPrimerMensajeForo(\n                idForo: $idForo\n                input: $input\n                parent: $parent\n              ) {\n                ...fragConversacion\n              }\n            }\n            ","\n          "])),eo),variables:{idForo:n.idForo,input:e,parent:n.parent}}).then((function(i){var e=i.data.iniciarConversacionConPrimerMensajeForo;n.enviandoRespuesta=!1,n.$emit("hiceConversacion",e),o.reset()})).catch((function(i){n.enviandoRespuesta=!1,console.log("Error. E: ".concat(i))}))}},enviarNuevaRespuesta:function(i){var o=this;if(!this.mensajeIlegal){console.log("Enviando respuesta");var e=this;this.enviandoRespuesta=!0,this.$apollo.mutate({mutation:K()(v||(v=Object(q["a"])(["\n            mutation(\n              $idConversacion: ID!\n              $nuevaRespuesta: InputNuevaRespuesta\n              $parent: InputParent\n            ) {\n              postRespuestaConversacion(\n                idConversacion: $idConversacion\n                nuevaRespuesta: $nuevaRespuesta\n                parent: $parent\n              ) {\n                ...fragRespuesta\n              }\n            }\n            ","\n          "])),$i),variables:{idConversacion:e.idConversacion,nuevaRespuesta:i,parent:e.parent}}).then((function(i){var n=i.data.postRespuestaConversacion;e.enviandoRespuesta=!1,o.$emit("hiceRespuesta",n),o.cerrarse()})).catch((function(i){e.enviandoRespuesta=!1,console.log("Error. E: ".concat(i))}))}},toggleCuadroAbierto:function(){this.cuadroAbierto=!this.cuadroAbierto},cerrarse:function(){this.reset(),this.cuadroAbierto=!1},actualizarNombreDeArchivo:function(){if(!this.$refs.inputArchivoAdjunto.value)return console.log("Nullificando el nombre de archivo seleccionado"),void(this.nombreArchivoSeleccionado=null);this.nombreArchivoSeleccionado=this.$refs.inputArchivoAdjunto.files[0].name},abrirSelectorDeArchivos:function(){this.$refs.inputArchivoAdjunto.click()},reset:function(){this.nombreArchivoSeleccionado=null,this.$refs.inputArchivoAdjunto.value=null,this.mensaje=null,this.enlaceAdjuntable=null,this.enlaceAdjunto=[]}},computed:{mensajeIlegal:function(){return!this.mensaje||this.mensaje.length<1||!!ki.test(this.mensaje)},enlaceAdjuntableIlegal:function(){return!this.enlaceAdjuntable||("https://"!=this.enlaceAdjuntable.substr(0,8)?(console.log("El inicio ".concat(this.enlaceAdjuntable.substr(0,8)," difiere del esperado")),!0):this.enlaceAdjuntable.length<7)}},mounted:function(){console.log("Revisando si hay idConversacion"),this.idConversacion||(this.cuadroAbierto=!0)}},Oi=Ui,Qi=(e("a747"),Object(ri["a"])(Oi,Bi,ji,!1,null,"10aff977",null)),Gi=Qi.exports,Vi=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{staticClass:"respuesta"},[n("div",{staticClass:"infoRespuesta"},[i._v(i._s(i.fechaFormateada))]),n("img",{staticClass:"caritaAutor",attrs:{src:this.serverUrl+"/api/usuarios/fotografias/"+i.estaRespuesta.infoAutor.id,alt:i.estaRespuesta.infoAutor.nombre}}),n("div",{staticClass:"mensajeRespuesta"},[i._v(" "+i._s(i.estaRespuesta.mensaje)+" ")]),i.estaRespuesta.archivo&&i.estaRespuesta.archivo.googleDriveDirectLink?n("div",{attrs:{id:"archivo"}},[n("a",{attrs:{href:i.estaRespuesta.archivo.googleDriveDirectLink}},[n("img",{attrs:{src:e("60ee"),alt:"Descargar archivo",id:"imgDownloadArchivo"}})])]):i._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:i.estaRespuesta.enlaceAdjunto&&i.estaRespuesta.enlaceAdjunto.length>0,expression:"\n      estaRespuesta.enlaceAdjunto &&\n      estaRespuesta.enlaceAdjunto.length > 0\n    "}],staticClass:"enlacesAdjuntos"},i._l(i.estaRespuesta.enlaceAdjunto,(function(o,e){return n("a",{key:e,attrs:{target:"_blank",href:o}},[n("div",{staticClass:"enlaceAdjunto"},[i._v(" "+i._s(o)+" ")])])})),0),n("div",{staticClass:"controles"},[i.usuarioSuperadministrador?n("div",{staticClass:"controlRespuesta",attrs:{id:"bEliminar"},on:{click:i.eliminarse}},[i._v(" Eliminar ")]):i._e()])])},Hi=[],qi=(e("25f0"),{name:"Respuesta",props:{estaRespuesta:{type:Object},idConversacion:String},computed:{fechaFormateada:function(){var i=new Date(this.estaRespuesta.fecha).toString(),o=i.indexOf("("),e=i.substr(0,o),n=e.indexOf("GMT");return n>-1&&(e=e.substr(0,n)),e},usuarioAutor:function(){return this.usuario.id==this.estaRespuesta.infoAutor.id}},methods:{eliminarse:function(){var i=this;confirm("Eliminando respuesta ¿Continuar?")&&this.$apollo.mutate({mutation:K()(f||(f=Object(q["a"])(["\n          mutation($idRespuesta: ID!, $idConversacion:ID!) {\n            eliminarRespuesta(idRespuesta: $idRespuesta, idConversacion:$idConversacion)\n          }\n        "]))),variables:{idRespuesta:this.estaRespuesta.id,idConversacion:this.idConversacion},update:function(o,e){var n=e.data.eliminarRespuesta;n&&(console.log("Respuesta eliminada"),i.$emit("meElimine"))}})}}}),Zi=qi,Yi=(e("cae2"),Object(ri["a"])(Zi,Vi,Hi,!1,null,"6ca7979c",null)),Ji=Yi.exports,$i=K()(b||(b=Object(q["a"])(["\n  fragment fragRespuesta on RespuestaConversacionForo{\n    id\n    fecha\n    mensaje\n    enlaceAdjunto\n    infoAutor{\n      id\n      nombres\n      apellidos\n      username\n    }\n    archivo{\n      googleDriveDirectLink\n    }\n  }\n"]))),Ki=K()(C||(C=Object(q["a"])(["\n  query($idConversacion: ID!, $pagina: Int!) {\n    respuestasPaginaDeConversacion(\n      idConversacion: $idConversacion\n      pagina: $pagina\n    ) {\n      pagina\n      numPaginas\n      respuestas {\n        ...fragRespuesta\n      }\n    }\n  }\n  ","\n"])),$i),Wi={components:{Respuesta:Ji,CuadroResponder:Gi},name:"Conversacion",apollo:{numPaginas:{query:Ki,variables:function(){return{idConversacion:this.estaConversacion.id,pagina:this.numPaginaSeleccionada}},update:function(i){var o=i.respuestasPaginaDeConversacion,e=o.pagina,n=o.numPaginas,a=o.respuestas;return console.log("Llenando con ".concat(a.length," respuestas la pagina ").concat(e," de ").concat(n)),this.$set(this.respuestasPorPagina,e,a),this.numPaginaSeleccionada!=e&&(this.numPaginaSeleccionada=e),this.loading=!1,n},skip:function(){return!this.seleccionado},fetchPolicy:"no-cache"}},data:function(){return{numPaginas:0,numPaginaSeleccionada:0,respuestasPorPagina:{},loading:!0}},props:{estaConversacion:{type:Object,default:function(){return{respuestas:[]}}},idForo:String,parent:Object,seleccionado:Boolean,usuarioMiembro:{type:Boolean,default:!1}},methods:{addRespuesta:function(i){var o=this.numPaginas;(this.respuestasPorPagina[o].length>=5||o<1)&&(o++,this.respuestasPorPagina[o]||this.$set(this.respuestasPorPagina,o,[])),console.log("Pushing en targetPagina ".concat(o)),this.respuestasPorPagina[o].push(i),this.$refs.cuadroResponder.cerrarse(),this.numPaginaSeleccionada!=o&&(this.numPaginaSeleccionada=o)},updateRespuestaEliminada:function(i,o){console.log("Respuesta ".concat(i," eliminada de la pagina ").concat(o)),1==this.numPaginas&&this.respuestasPorPagina[1].length<2?(console.log("Era la ultima respuesta"),this.$emit("meElimine")):(console.log("Refreshing respuestas pagina"),this.$apollo.queries.numPaginas.refresh())}},computed:{cantidadRespuestasLeidasUsuario:function(){var i=this;if(this.usuario&&this.usuario.foros){var o=this.usuario.foros.find((function(o){return o.idForo==i.idForo}));if(!o)return 0;var e=o.conversaciones.find((function(o){return o.idConversacion==i.estaConversacion.id}));return e?e.respuestasLeidas:0}return 0}}},Xi=Wi,_i=(e("1566"),Object(ri["a"])(Xi,wi,Ti,!1,null,"4390369d",null)),io=_i.exports,oo=/[^ a-zA-ZÀ-ž0-9_():.,-¡!¿?]/,eo=K()(x||(x=Object(q["a"])(["\n  fragment fragConversacion on Conversacion {\n    id\n    titulo\n    estado\n    acceso\n    cantidadRespuestas\n  }\n"]))),no=K()(P||(P=Object(q["a"])(["\n  query($idForo: ID!) {\n    foro(idForo: $idForo) {\n      id\n      acceso\n      miembros\n    }\n  }\n"]))),ao=K()(L||(L=Object(q["a"])(["\n  query($idForo: ID!, $pagina: Int!) {\n    conversacionesPaginaForo(idForo: $idForo, pagina: $pagina) {\n      pagina\n      numPaginas\n      conversaciones {\n        ...fragConversacion\n      }\n    }\n  }\n  ","\n"])),eo),to={components:{Conversacion:io,CuadroResponder:Gi},name:"Foro",apollo:{esteForo:{query:no,variables:function(){return{idForo:this.idForo}},fetchPolicy:"cache-and-network",update:function(i){return i.foro},skip:function(){return!this.idForo}},numPaginas:{query:ao,variables:function(){return{idForo:this.idForo,pagina:this.numPaginaSeleccionada}},fetchPolicy:"no-cache",skip:function(){return!this.idForo},update:function(i){var o=i.conversacionesPaginaForo,e=o.conversaciones,n=o.pagina,a=o.numPaginas;return this.numPaginaSeleccionada!=n&&(this.numPaginaSeleccionada=n),this.$set(this.conversacionesPorPagina,n,e),a}}},props:{idForo:String,parent:Object},data:function(){return{esteForo:{miembros:[],conversaciones:[]},idConversacionSeleccionada:null,creandoConversacion:!1,numPaginaSeleccionada:0,conversacionesPorPagina:{},tituloNuevaConversacion:null}},methods:{addConversacion:function(i){this.creandoConversacion=!1;var o=this.numPaginas;console.log("Target página: ".concat(o)),(this.conversacionesPorPagina[o].length>=6||o<1)&&(o++,this.conversacionesPorPagina[o]||this.$set(this.conversacionesPorPagina,o,[])),console.log("Pushing en targetPagina ".concat(o)),this.conversacionesPorPagina[o].push(i),this.numPaginaSeleccionada!=o&&(this.numPaginaSeleccionada=o),this.tituloNuevaConversacion=null},refreshPagina:function(){this.idConversacionSeleccionada=null,this.$apollo.queries.numPaginas.refresh()},setConversacionLeida:function(i,o){var e=this;this.usuario&&this.usuario.id&&(console.log("Setting conversación leida"),this.$apollo.mutate({mutation:K()(y||(y=Object(q["a"])(["\n              mutation(\n                $idUsuario: ID!\n                $idForo: ID!\n                $idConversacion: ID!\n                $cantidadRespuestasLeidas: Int!\n              ) {\n                setCantidadRespuestasConversacionLeidasPorUsuario(\n                  idUsuario: $idUsuario\n                  idForo: $idForo\n                  idConversacion: $idConversacion\n                  cantidadRespuestasLeidas: $cantidadRespuestasLeidas\n                )\n              }\n            "]))),variables:{idUsuario:this.usuario.id,idForo:this.idForo,idConversacion:i,cantidadRespuestasLeidas:parseInt(o)}}).then((function(n){var a=n.data.setCantidadRespuestasConversacionLeidasPorUsuario;console.log("Resultado: ".concat(a)),a&&e.$store.commit("setRespuestasLeidasConversacionUsuario",{idForo:e.idForo,idConversacion:i,respuestasLeidas:o})})).catch((function(i){console.log("Error. E: ".concat(i))})))}},computed:{usuarioMiembro:function(){return"publico"==this.esteForo.acceso||!("privado"!=this.esteForo.acceso||!this.esteForo.miembros.includes(this.$store.state.usuario.id))},conversacionAbierta:function(){return this.idConversacionSeleccionada},tituloNuevaConversacionIlegal:function(){return!this.tituloNuevaConversacion||this.tituloNuevaConversacion.length<1||!!oo.test(this.tituloNuevaConversacion)}}},so=to,ro=(e("79b1"),Object(ri["a"])(so,Ii,Si,!1,null,"71d42152",null)),co=ro.exports,uo=/[^ a-zA-ZÀ-ž0-9_():.,-¿?¡!]/,lo=K()(E||(E=Object(q["a"])(["\n  fragment fragCuadroTexto on CuadroTextoCuento {\n    id\n    texto\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n    formato {\n      fontSize\n      colorLetra\n      tipoLetra\n      alineacion\n    }\n  }\n"]))),Ao=K()(I||(I=Object(q["a"])(["\n  fragment fragCuadroImagen on CuadroImagenCuento {\n    id\n    sinArchivo\n    tipoActivacionSecundario\n    posicionZeta\n    posicion {\n      x\n      y\n    }\n    size {\n      x\n      y\n    }\n    audio {\n      tipoReproduccion\n    }\n  }\n"]))),go=K()(S||(S=Object(q["a"])(["\n  fragment fragPagina on PaginaCuento {\n    id    \n    numPag\n    color\n    cuadrosTexto {\n      ...fragCuadroTexto\n    }\n    cuadrosImagen {\n      ...fragCuadroImagen\n    }\n  }\n  ","\n  ","\n"])),lo,Ao),mo=K()(w||(w=Object(q["a"])(["\n  query($idLibro: ID!) {\n    libro(idLibro: $idLibro) {\n      id\n      idsEditores\n      titulo\n      paginas {\n        ...fragPagina\n      },\n      idForo\n    }\n  }\n  ","\n"])),go),ho={components:{Pagina:Ei,Foro:co},name:"Libro",apollo:{libro:{query:mo,variables:function(){return{idLibro:this.idLibro}},skip:function(){return null==this.idLibro},fetchPolicy:"cache-and-network"}},props:{idLibro:{type:String,default:null}},data:function(){return{libro:{paginas:null},idPaginaSeleccionada:null,creandoPagina:!1,nuevoTitulo:null,editandoTitulo:!1}},computed:{paginasOrdenadas:function(){if(this.libro.paginas){var i=this.libro.paginas;return i.sort((function(i,o){return parseInt(i.numPag)-parseInt(o.numPag)}))}return[]},nuevoTituloIlegal:function(){return!this.nuevoTitulo||this.nuevoTitulo.length<1||!!uo.test(this.nuevoTitulo)},infoAsParent:function(){return{id:this.idLibro,tipo:"libro",nombre:this.libro.titulo}},usuarioEditor:function(){return this.libro.idsEditores.includes(this.usuario.id)}},methods:{toggleEditandoTitulo:function(){this.editandoTitulo=!this.editandoTitulo,this.nuevoTitulo=this.libro.titulo},guardarNuevoTitulo:function(){var i=this;this.nuevoTituloIlegal?console.log("No enviado"):this.nuevoTitulo!=this.libro.titulo?(console.log("guardando nuevo título"),this.enviandoNuevoTitulo=!0,this.$apollo.mutate({mutation:K()(T||(T=Object(q["a"])(["\n            mutation($idLibro: ID!, $nuevoTitulo: String!) {\n              editarTituloLibro(idLibro: $idLibro, nuevoTitulo: $nuevoTitulo) {\n                id\n                titulo\n              }\n            }\n          "]))),variables:{idLibro:this.idLibro,nuevoTitulo:this.nuevoTitulo}}).then((function(){i.enviandoNuevoTitulo=!1,i.editandoTitulo=!1})).catch((function(o){i.enviandoNuevoTitulo=!1,console.log("Error. E :".concat(o))}))):this.editandoTitulo=!1},crearNuevaPaginaLibro:function(){var i=this;this.creandoPagina=!0;var o=this;this.$apollo.mutate({mutation:K()(B||(B=Object(q["a"])(["\n            mutation($idLibro: ID!) {\n              crearNuevaPaginaLibro(idLibro: $idLibro) {\n                ...fragPagina\n              }\n            }\n            ","\n          "])),go),variables:{idLibro:this.idLibro}}).then((function(e){var n=e.data.crearNuevaPaginaLibro,a=i.$apollo.provider.defaultClient,t=a.readQuery({query:mo,variables:{idLibro:o.idLibro}}),s=JSON.parse(JSON.stringify(t));s.libro.paginas.push(n),a.writeQuery({query:mo,variables:{idLibro:o.idLibro},data:s}),i.creandoPagina=!1})).catch((function(o){console.log("Error: ".concat(o)),i.creandoPagina=!1}))},removePaginaFromCache:function(i){this.idPaginaSeleccionada=null;var o=this.$apollo.provider.defaultClient,e=o.readQuery({query:mo,variables:{idLibro:this.idLibro}}),n=JSON.parse(JSON.stringify(e)),a=n.libro.paginas.findIndex((function(o){return o.id==i}));a>-1?(n.libro.paginas.splice(a,1),o.writeQuery({query:mo,variables:{idLibro:this.idLibro},data:n})):console.log("La pagina no estaba en el caché")},updateCacheConNuevoCuadroImagen:function(i,o){console.log("Se actualizara el cache con info: ".concat(i," en la pagina ").concat(o));var e=this.$apollo.provider.defaultClient,n=e.readQuery({query:mo,variables:{idLibro:this.idLibro}}),a=JSON.parse(JSON.stringify(n)),t=a.libro.paginas.find((function(i){return i.id==o}));t?t.cuadrosImagen.some((function(o){return o==i.id}))?console.log("Ese cuadro texto ya estaba incluido"):(t.cuadrosImagen.push(i),e.writeQuery({query:mo,variables:{idLibro:this.idLibro},data:a})):console.log("Pagina no existía")},updateCacheConNuevoCuadroTexto:function(i,o){console.log("Se actualizara el cache con info: ".concat(i," en la pagina ").concat(o));var e=this.$apollo.provider.defaultClient,n=e.readQuery({query:mo,variables:{idLibro:this.idLibro}}),a=JSON.parse(JSON.stringify(n)),t=a.libro.paginas.find((function(i){return i.id==o}));t?t.cuadrosTexto.some((function(o){return o==i.id}))?console.log("Ese cuadro texto ya estaba incluido"):(t.cuadrosTexto.push(i),e.writeQuery({query:mo,variables:{idLibro:this.idLibro},data:a})):console.log("Pagina no existía")},removeCuadroTextoFromCache:function(i,o){var e=this.$apollo.provider.defaultClient,n=e.readQuery({query:mo,variables:{idLibro:this.idLibro}}),a=JSON.parse(JSON.stringify(n)),t=a.libro.paginas.find((function(i){return i.id==o}));if(t){var s=t.cuadrosTexto.findIndex((function(o){return o.id==i}));s>-1?(t.cuadrosTexto.splice(s,1),e.writeQuery({query:mo,variables:{idLibro:this.idLibro},data:a})):console.log("El cuadro texto no existía en el caché")}else console.log("No existía la pagina en el caché")},removeCuadroImagenFromCache:function(i,o){var e=this.$apollo.provider.defaultClient,n=e.readQuery({query:mo,variables:{idLibro:this.idLibro}}),a=JSON.parse(JSON.stringify(n)),t=a.libro.paginas.find((function(i){return i.id==o}));if(t){var s=t.cuadrosImagen.findIndex((function(o){return o.id==i}));s>-1?(t.cuadrosImagen.splice(s,1),e.writeQuery({query:mo,variables:{idLibro:this.idLibro},data:a})):console.log("El cuadro texto no existía en el caché")}else console.log("No existía la pagina en el caché")}}},po=ho,vo=(e("acbc"),Object(ri["a"])(po,Y,J,!1,null,"44469c5b",null)),fo=vo.exports,bo=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{attrs:{id:"misLibros"}},[n("h4",{staticClass:"tituloZona",staticStyle:{cursor:"pointer"},on:{click:function(o){i.desplegado=!i.desplegado}}},[n("div",{staticClass:"trianguloBullet",style:{transform:i.desplegado?"rotateZ(90deg)":"rotateZ(0deg)"}}),i._v(" Mis libros ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:i.desplegado,expression:"desplegado"}],attrs:{id:"controlesMisLibros"}},[n("img",{staticClass:"bControlMisLibros",attrs:{src:e("1d2e"),title:"Crear nuevo libro"},on:{click:i.crearNuevoLibro}})]),n("img",{directives:[{name:"show",rawName:"v-show",value:i.desplegado&&i.$apollo.queries.misLibros.loading,expression:"desplegado && $apollo.queries.misLibros.loading"}],staticClass:"simboloLoading",staticStyle:{width:"20px",margin:"10px auto",display:"block"},attrs:{src:e("3c35"),alt:"Cargando"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.desplegado,expression:"desplegado"}],attrs:{id:"listaMisLibros"}},i._l(i.misLibros,(function(o){return n("div",{key:o.id,staticClass:"portadaLibro",on:{click:function(e){return i.seleccionarLibro(o.id)}}},[n("div",{staticClass:"nombreLibro"},[i._v(" "+i._s(o.titulo)+" ")]),n("div",{staticClass:"controlesLibro"},[n("img",{directives:[{name:"show",rawName:"v-show",value:i.usuarioSuperadministrador,expression:"usuarioSuperadministrador"}],staticClass:"controlLibro",attrs:{src:e("2191"),alt:"Eliminar",title:"Eliminar este libro"},on:{click:function(e){return e.stopPropagation(),i.eliminarLibro(o.id)}}}),n("a",{attrs:{href:i.URLLibrosolo+"?id="+o.id,target:"_blank"}},[n("img",{staticClass:"controlLibro",attrs:{src:e("5c23"),alt:"Libro",title:"Ver libro"}})]),n("img",{directives:[{name:"show",rawName:"v-show",value:i.usuarioSuperadministrador,expression:"usuarioSuperadministrador"}],staticClass:"controlLibro",style:{backgroundColor:o.publico?"green":""},attrs:{src:e("c664"),alt:"Compartir",title:"Compartir este libro en la sección de libros públicos"},on:{click:function(e){return e.stopPropagation(),i.setLibroPublico(o.id,!o.publico)}}})])])})),0)])},Co=[],xo=Object(Z["gql"])(j||(j=Object(q["a"])(["\n  query {\n    misLibros {\n      id\n      titulo\n      publico\n    }\n  }\n"]))),Po={name:"MisLibros",apollo:{misLibros:{query:xo,skip:function(){return null==this.usuario.id}}},props:{URLLibrosolo:String},data:function(){return{desplegado:!0}},methods:{crearNuevoLibro:function(){var i=this;confirm("¿Crear un nuevo libro?")&&this.$apollo.mutate({mutation:Object(Z["gql"])(R||(R=Object(q["a"])(["\n            mutation {\n              crearNuevoLibro {\n                id\n                titulo\n                publico\n              }\n            }\n          "])))}).then((function(o){var e=o.data.crearNuevoLibro;console.log("Creado ".concat(JSON.stringify(e)));var n=i.$apollo.provider.defaultClient,a=n.readQuery({query:xo}),t=JSON.parse(JSON.stringify(a));t.misLibros.some((function(i){return i.id==e.id}))?console.log("El libro ya estaba incluido en el caché"):(t.misLibros.push(e),n.writeQuery({query:xo,data:t}))}))},removerLibroCache:function(i){var o=this.$apollo.provider.defaultClient,e=o.readQuery({query:xo}),n=JSON.parse(JSON.stringify(e)),a=n.misLibros.findIndex((function(o){return o.id==i}));a>-1?(n.misLibros.splice(a,1),o.writeQuery({query:xo,data:n})):console.log("Libro no estaba en caché")},seleccionarLibro:function(i){this.$emit("libroSeleccionado",i)},setLibroPublico:function(i,o){var e=this;console.log("Settin estado público de ".concat(i," en ").concat(o));var n=this.$apollo.provider.defaultClient,a=n.readQuery({query:xo}),t=JSON.parse(JSON.stringify(a)),s=t.misLibros.find((function(o){return o.id==i}));s?(s.publico=o,n.writeQuery({query:xo,data:t}),this.$apollo.mutate({mutation:Object(Z["gql"])(F||(F=Object(q["a"])(["\n            mutation($idLibro: ID!, $nuevoEstado: Boolean!) {\n              setLibroPublico(idLibro: $idLibro, nuevoEstado: $nuevoEstado)\n            }\n          "]))),variables:{idLibro:i,nuevoEstado:o}}).then((function(n){var a=n.data.setLibroPublico;if(a){var t=e.$apollo.provider.defaultClient,s=t.readQuery({query:xo}),r=JSON.parse(JSON.stringify(s)),c=r.misLibros.find((function(o){return o.id==i}));if(!c)return void console.log("Libro no estaba en caché");c.publico=o,t.writeQuery({query:xo,data:r})}})).catch((function(n){console.log("Error. E: ".concat(n));var a=e.$apollo.provider.defaultClient,t=a.readQuery({query:xo}),s=JSON.parse(JSON.stringify(t)),r=s.misLibros.find((function(o){return o.id==i}));r?(r.publico=!o,a.writeQuery({query:xo,data:s})):console.log("Libro no estaba en caché")}))):console.log("Libro no estaba en caché")}}},Lo=Po,yo=(e("0216"),Object(ri["a"])(Lo,bo,Co,!1,null,"52aa1d40",null)),Eo=yo.exports,Io=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{attrs:{id:"todosLibros"}},[n("h4",{staticClass:"tituloZona",staticStyle:{cursor:"pointer"},on:{click:function(o){i.desplegado=!i.desplegado}}},[n("div",{staticClass:"trianguloBullet",style:{transform:i.desplegado?"rotateZ(90deg)":"rotateZ(0deg)"}}),i._v(" Todos los libros ")]),n("div",{attrs:{id:"controlesTodosLibros"}}),n("img",{directives:[{name:"show",rawName:"v-show",value:i.desplegado&&i.$apollo.queries.todosLibros.loading,expression:"desplegado && $apollo.queries.todosLibros.loading"}],staticClass:"simboloLoading",staticStyle:{width:"20px",margin:"10px auto",display:"block"},attrs:{src:e("3c35"),alt:"Cargando"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.desplegado,expression:"desplegado"}],attrs:{id:"listaMisLibros"}},i._l(i.librosPorAutor,(function(o,a){return n("div",{key:a,staticClass:"bloqueAutor"},[n("icono-persona-autonomo",{attrs:{idPersona:a}}),n("br"),n("br"),n("br"),n("div",{staticClass:"listaLibros"},i._l(o,(function(o){return n("div",{key:o.id,staticClass:"portadaLibro",class:{seleccionado:i.idLibroSeleccionado==o.id},on:{click:function(e){return i.seleccionarLibro(o.id)}}},[n("div",{staticClass:"bulletPortada"}),n("div",{staticClass:"nombreLibro"},[i._v(" "+i._s(o.titulo)+" ")]),n("div",{staticClass:"controlesLibro"},[n("img",{directives:[{name:"show",rawName:"v-show",value:i.usuarioSuperadministrador,expression:"usuarioSuperadministrador"}],staticClass:"controlLibro",attrs:{src:e("2191"),alt:"Eliminar",title:"Eliminar este libro"},on:{click:function(e){return e.stopPropagation(),i.eliminarLibro(o.id)}}}),n("a",{attrs:{href:i.URLLibrosolo+"?id="+o.id,target:"_blank"},on:{click:function(i){i.stopPropagation()}}},[n("img",{staticClass:"controlLibro",attrs:{src:e("5c23"),alt:"Libro",title:"Ver libro"}})])])])})),0)],1)})),0)])},So=[],wo=(e("159b"),function(){var i=this,o=i.$createElement,e=i._self._c||o;return e("div",{staticClass:"iconoPersonaAutonomo",class:{yo:i.soyYo,seleccionado:i.seleccionado}},[e("img",{directives:[{name:"show",rawName:"v-show",value:i.fotografiaEnabled,expression:"fotografiaEnabled"}],staticClass:"fotografia",attrs:{src:this.serverUrl+"/api/usuarios/fotografias/"+i.idPersona,alt:""},on:{load:function(o){i.fotografiaEnabled=!0}}}),e("div",{attrs:{id:"contenedorAlertas"}},[i._t("alertas")],2),e("div",{staticClass:"nombres",class:{nombreSeleccionado:i.seleccionado}},[i._v(" "+i._s(i.estaPersona.nombres)+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.menuContextual,expression:"menuContextual"}],attrs:{id:"menuCxPersona"}},[e("div",{staticClass:"botonMenuCx",on:{click:function(o){return o.stopPropagation(),i.copiarId(o)}}},[i._v(i._s(i.idPersona))]),i.usuarioSuperadministrador?e("div",{staticClass:"botonMenuCx"},[i._v(" "+i._s(i.estaPersona.username)+" ")]):i._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:i.nuevoPermiso,expression:"nuevoPermiso"}],attrs:{type:"text",placeholder:"Nuevo permiso"},domProps:{value:i.nuevoPermiso},on:{input:function(o){o.target.composing||(i.nuevoPermiso=o.target.value)}}}),e("div",{staticClass:"botonMenuCx",on:{click:function(o){return o.stopPropagation(),i.addPermisos(o)}}},[i._v("Dar permiso")]),i._l(i.opcionesMenuCx,(function(o,n){return e("div",{key:n,staticClass:"botonMenuCx",on:{click:function(e){return i.$emit(o.evento)}}},[i._v(" "+i._s(o.textoVisible)+" ")])}))],2)])}),To=[],Bo=(e("498a"),K()(D||(D=Object(q["a"])(["\n  query($idUsuario: ID!) {\n    publicUsuario(idUsuario: $idUsuario) {\n      id\n      nombres\n      apellidos\n      username\n    }\n  }\n"])))),jo={name:"IconoPersonaAutonomo",apollo:{estaPersona:{query:Bo,variables:function(){return{idUsuario:this.idPersona}},update:function(i){var o=i.publicUsuario;return o},skip:function(){return!this.idPersona}}},data:function(){return{estaPersona:{permisos:[]},nuevoPermiso:null,mounted:!1,fotografiaEnabled:!1}},props:{idPersona:String,seleccionado:Boolean,menuContextual:Boolean,opcionesMenuCx:{type:Array}},computed:{soyYo:function(){return!!(this.mounted&&this.idPersona&&this.$store.state.usuario)&&this.$store.state.usuario.id==this.idPersona}},methods:{addPermisos:function(){console.log("enviando ".concat(this.nuevoPermiso," para el usuario con id ").concat(this.idPersona)),this.$apollo.mutate({mutation:K()(N||(N=Object(q["a"])(["\n            mutation($nuevoPermiso: String!, $idUsuario: ID!) {\n              addPermisoUsuario(\n                nuevoPermiso: $nuevoPermiso\n                idUsuario: $idUsuario\n              ) {\n                id\n                permisos\n              }\n            }\n          "]))),variables:{nuevoPermiso:this.nuevoPermiso,idUsuario:this.idPersona}}).then((function(){})).catch((function(i){console.log("error: "+i)}))},copiarId:function(i){var o=i.target.innerText.trim(),e=document.createElement("textarea");e.value=o,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},fotografiaCargada:function(){console.log("Fotografía cargada")}},mounted:function(){this.mounted=!0},beforeRouteUpdate:function(){console.log("Before update")}},Ro=jo,Fo=(e("d393"),Object(ri["a"])(Ro,wo,To,!1,null,"207c5737",null)),Do=Fo.exports,No=Object(Z["gql"])(M||(M=Object(q["a"])(["\n  query {\n    todosLibros {\n      id\n      titulo\n      idsEditores\n    }\n  }\n"]))),Mo={components:{IconoPersonaAutonomo:Do},name:"TodosLibros",apollo:{todosLibros:{query:No,skip:function(){return!this.usuarioSuperadministrador}}},props:{idLibroSeleccionado:String,URLLibrosolo:String},data:function(){return{desplegado:!1}},methods:{seleccionarLibro:function(i){this.$emit("libroSeleccionado",i)},removerLibroCache:function(i){var o=this.$apollo.provider.defaultClient,e=o.readQuery({query:No}),n=JSON.parse(JSON.stringify(e)),a=n.todosLibros.findIndex((function(o){return o.id==i}));a>-1?(n.todosLibros.splice(a,1),o.writeQuery({query:No,data:n})):console.log("Libro no estaba en caché")},eliminarLibro:function(i){var o=this;confirm("Eliminando un libro. ¿Continuar?")&&this.$apollo.mutate({mutation:Object(Z["gql"])(z||(z=Object(q["a"])(["\n            mutation($idLibro: ID!) {\n              eliminarLibro(idLibro: $idLibro)\n            }\n          "]))),variables:{idLibro:i}}).then((function(e){var n=e.data.eliminarLibro;n&&o.$emit("elimineUnLibro",i)})).catch((function(i){console.log("Error. E: ".concat(i))}))}},computed:{usuarioSuperadministrador:function(){return this.usuario&&this.usuario.permisos?this.usuario.permisos.includes("superadministrador"):(console.log("Datos insuficientes para decidir si usuario es súperadministrador"),!1)},librosPorAutor:function(){var i={};return this.todosLibros?(this.todosLibros.forEach((function(o){var e=o.idsEditores[0];i[e]?i[e].push(o):i[e]=[o]})),i):i}}},zo=Mo,ko=Object(ri["a"])(zo,Io,So,!1,null,"77dfa2fd",null),Uo=ko.exports,Oo=function(){var i=this,o=i.$createElement,n=i._self._c||o;return n("div",{attrs:{id:"librosPublicos"}},[n("h4",{staticClass:"tituloZona",staticStyle:{cursor:"pointer"},on:{click:function(o){i.desplegado=!i.desplegado}}},[n("div",{staticClass:"trianguloBullet",style:{transform:i.desplegado?"rotateZ(90deg)":"rotateZ(0deg)"}}),i._v(" Libros publicos ")]),n("div",{attrs:{id:"controlesLibrosPublicos"}}),n("img",{directives:[{name:"show",rawName:"v-show",value:i.desplegado&&i.$apollo.queries.librosPublicos.loading,expression:"desplegado && $apollo.queries.librosPublicos.loading"}],staticClass:"simboloLoading",staticStyle:{width:"20px",margin:"10px auto",display:"block"},attrs:{src:e("3c35"),alt:"Cargando"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:i.desplegado,expression:"desplegado"}],attrs:{id:"listaLibrosPublicos"}},i._l(i.librosPorAutor,(function(o,a){return n("div",{key:a,staticClass:"bloqueAutor"},[n("icono-persona-autonomo",{attrs:{idPersona:a}}),n("br"),n("br"),n("br"),n("div",{staticClass:"listaLibros"},i._l(o,(function(o){return n("div",{key:o.id,staticClass:"portadaLibro",class:{seleccionado:i.idLibroSeleccionado==o.id},on:{click:function(e){return i.seleccionarLibro(o.id)}}},[n("div",{staticClass:"nombreLibro"},[i._v(" "+i._s(o.titulo)+" ")]),n("div",{staticClass:"controlesLibro"},[n("img",{directives:[{name:"show",rawName:"v-show",value:i.usuarioSuperadministrador,expression:"usuarioSuperadministrador"}],staticClass:"controlLibro",attrs:{src:e("2191"),alt:"Eliminar",title:"Eliminar este libro"},on:{click:function(e){return e.stopPropagation(),i.eliminarLibro(o.id)}}}),n("a",{attrs:{href:i.URLLibrosolo+"?id="+o.id,target:"_blank"}},[n("img",{staticClass:"controlLibro",attrs:{src:e("5c23"),alt:"Libro",title:"Ver libro"}})])])])})),0)],1)})),0)])},Qo=[],Go=Object(Z["gql"])(k||(k=Object(q["a"])(["\n  query {\n    librosPublicos {\n      id\n      titulo\n      idsEditores\n    }\n  }\n"]))),Vo={components:{IconoPersonaAutonomo:Do},name:"LibrosPublicos",apollo:{librosPublicos:{query:Go,skip:function(){return!this.usuarioLogeado}}},props:{idLibroSeleccionado:String,URLLibrosolo:String},data:function(){return{desplegado:!1}},methods:{seleccionarLibro:function(i){this.$emit("libroSeleccionado",i)},removerLibroCache:function(i){var o=this.$apollo.provider.defaultClient,e=o.readQuery({query:Go}),n=JSON.parse(JSON.stringify(e)),a=n.librosPublicos.findIndex((function(o){return o.id==i}));a>-1?(n.librosPublicos.splice(a,1),o.writeQuery({query:Go,data:n})):console.log("Libro no estaba en caché")},eliminarLibro:function(i){var o=this;confirm("Eliminando un libro. ¿Continuar?")&&this.$apollo.mutate({mutation:Object(Z["gql"])(U||(U=Object(q["a"])(["\n            mutation($idLibro: ID!) {\n              eliminarLibro(idLibro: $idLibro)\n            }\n          "]))),variables:{idLibro:i}}).then((function(e){var n=e.data.eliminarLibro;n&&o.$emit("elimineUnLibro",i)})).catch((function(i){console.log("Error. E: ".concat(i))}))}},computed:{usuarioSuperadministrador:function(){return this.usuario&&this.usuario.permisos?this.usuario.permisos.includes("superadministrador"):(console.log("Datos insuficientes para decidir si usuario es súperadministrador"),!1)},librosPorAutor:function(){var i={};return this.librosPublicos?(this.librosPublicos.forEach((function(o){var e=o.idsEditores[0];i[e]?i[e].push(o):i[e]=[o]})),i):i}}},Ho=Vo,qo=Object(ri["a"])(Ho,Oo,Qo,!1,null,"7d55a270",null),Zo=qo.exports,Yo=Object(Z["gql"])(O||(O=Object(q["a"])(["\n  query {\n    yo {\n      id\n      nombres\n      apellidos\n      permisos\n      foros {\n        idForo\n        conversaciones {\n          idConversacion\n          respuestasLeidas\n        }\n      }\n    }\n  }\n"]))),Jo={name:"App",components:{Libro:fo,MisLibros:Eo,TodosLibros:Uo,LibrosPublicos:Zo},apollo:{yo:{query:Yo,fetchPolicy:"network-only",update:function(i){var o=i.yo;return this.$store.commit("setInfoForosUsuario",o.foros),o},skip:function(){return!this.usuarioLogeado}}},data:function(){return{idLibroSeleccionado:null}},methods:{seleccionarLibro:function(i){this.idLibroSeleccionado=i,this.$nextTick((function(){this.$refs.elLibro.$el.scrollIntoView({behavior:"smooth"})}))},removerLibroCache:function(i){this.$refs.misLibros.removerLibroCache(i),this.$refs.librosPublicos.removerLibroCache(i),this.$refs.todosLibros.removerLibroCache(i)}},computed:{usuarioSuperadministrador:function(){return!!(this.usuario&&this.usuario.id&&this.usuario.permisos.includes("superadministrador"))},URLLibrosolo:function(){return"https://pe-pe-pe.herokuapp.com/libro"}},mounted:function(){var i=window.location.search.substring(1),o=new URLSearchParams(i);this.idLibro=o.get("id");var e=o.get("t");e&&e.length>10?(this.$store.commit("setToken",e),this.$store.commit("setUserInfo",e),localStorage.setItem("token",e)):(this.$store.commit("deslogearse"),localStorage.clear());var n=o.get("l");n&&(this.idLibroSeleccionado=n,this.$nextTick((function(){this.$refs.elLibro.$el.scrollIntoView({behavior:"smooth"})})))}},$o=Jo,Ko=(e("613e"),e("b0a0"),Object(ri["a"])($o,V,H,!1,null,"064dda48",null)),Wo=Ko.exports,Xo=e("5530"),_o=(e("d81d"),e("09bf")),ie=e("e312"),oe=e("b7cf"),ee=e("522d"),ne=K()(Q||(Q=Object(q["a"])(["\n    \n    enum TiposUsuario{\n        USUARIO,\n        ADMINISTRADOR,\n        SUPERADMINSTRADOR\n    }\n    \n    type Usuario{\n        username:String,\n        permisos: TiposUsuario\n     }\n\n    type Mutations{ \n        setUsuario(username: String, permisos: TiposUsuario):Usuario\n    }\n"]))),ae={},te=e("11c2"),se=e("a000"),re=e("36f1"),ce=e("f5a8"),ue=e("a1b6");G["a"].use(ee["a"]);var de=new ie["a"],le=function(){return localStorage.getItem("token")},Ae="https://pe-pe-pe.herokuapp.com",ge="wss://"+Ae.substr(7)+"/subscripciones",me=Object(oe["a"])({uri:Ae+"/graphql"}),he=new se["a"]({uri:ge,options:{reconnect:!0,connectionParams:{headers:{Authorization:"Bearer ".concat(le())}}}}),pe=Object(ce["a"])((function(i,o){var e=o.headers;return{headers:Object(Xo["a"])(Object(Xo["a"])({},e),{},{authorization:le()})}})),ve=Object(ue["a"])((function(i){i.graphQLErrors,i.networkError})),fe=ve.concat(pe).concat(me),be=Object(te["split"])((function(i){var o=i.query,e=Object(re["l"])(o);return"OperationDefinition"===e.kind&&"subscription"===e.operation}),he,fe),Ce=new _o["a"]({link:be,cache:de,typeDefs:ne,resolvers:ae,connectToDevTools:!0}),xe=new ee["a"]({defaultClient:Ce}),Pe=(e("1276"),e("5319"),e("a15b"),e("fb6a"),e("2f62"));function Le(i){var o=i.split(".")[1],e=o.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map((function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}G["a"].use(Pe["a"]);var ye=new Pe["a"].Store({state:{token:null,usuario:{username:null,nombres:null,id:null,permisos:[],foros:[]}},mutations:{setToken:function(i,o){i.token=o},setUserInfo:function(i,o){var e=Le(o);i.usuario.username=e.username,i.usuario.id=e.id,i.usuario.permisos=e.permisos},deslogearse:function(i){i.usuario.username=null,i.usuario.id=null,i.token=null},setRespuestasLeidasConversacionUsuario:function(i,o){var e=i.usuario.foros.find((function(i){return i.idForo==o.idForo}));if(!e){var n={idForo:o.idForo,conversaciones:[],__typename:"InfoForosUsuario"};i.usuario.foros.push(n),e=i.usuario.foros.find((function(i){return i.idForo==o.idForo}))}var a=e.conversaciones.find((function(i){return i.idConversacion==o.idConversacion}));if(!a){var t={idConversacion:o.idConversacion,__typename:"InfoConversacionesUsuario"};e.conversaciones.push(t),a=e.conversaciones.find((function(i){return i.idConversacion==o.idConversacion}))}a.respuestasLeidas=o.respuestasLeidas,console.log("En variable IC: ".concat(JSON.stringify(a))),console.log("En state IC: ".concat(JSON.stringify(i.usuario.foros.find((function(i){return i.idForo==o.idForo})).conversaciones.find((function(i){return i.idConversacion==o.idConversacion})))))},setInfoForosUsuario:function(i,o){i.usuario.foros=o}}});G["a"].config.productionTip=!1,G["a"].mixin({data:function(){return{serverUrl:Ae}},computed:{usuario:function(){return this.$store.state.usuario},usuarioSuperadministrador:function(){return this.$store.state.usuario.permisos.includes("superadministrador")},usuarioLogeado:function(){return!!this.$store.state.token}}}),new G["a"]({render:function(i){return i(Wo)},store:ye,apolloProvider:xe}).$mount("#app")},"5c23":function(i,o){i.exports="data:image/png;base64,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"},"5f09":function(i,o,e){},6:function(i,o){},"608d":function(i,o,e){},"60ee":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAA3lBMVEUAAAD/9fT/6uX/4eH/7evV1Nv+7uz/7OnS1d3/9/X/6eb/6OXU2ODaztL/3t7W0Nb27u7S1d3Y2+L14+Lg1tvQ0trR1t/uu7u/n5///////v7T1d3s7PA10Zb8/v0x0JPu+vXw+/dz3rM50Zc00JWt69Ns27D2/Prz9Pb5+vrY2uHo+fLu7/K57dhX16X6/fzv7/Li+O9C05vV19/k+PDf9u3F8N+y69Sd5smI4r6E4bx437ZR1qNO1aHz+/f09PbV8+fd3+Wp6c+W5cVw3bJn261e2ald2Kla2Kfw8fNijA/eAAAAGXRSTlMA+1ka2c5B2dbCtllQTC9X59jWuWxiWQ8IBi+1PwAAAb5JREFUWMPt2GlPgzAYwHE3ZffhrStbwa2KkzHcfcGcu/3+X8hnWTaMBkalTSDpP+EFb34h5WnS9EwkEomi1Lmv/iMnMsmL093k6eVCGvmpLNHb2VjJTw1ZKtLScX/0uyxLeW60nCpyoiEpx4mGrnKcaEi6p6VRvVF26wMfaSiVo6XLsmuf9f3wHey7R0q6c4L+ejt0ffvAbEHQjq6/HrtM0NCAu1f6VSzObEKC0shXDk2/1t416oiehgnxUaccLtr3goTpN3oW4rn+E4L40EhvtXTEhVZHljVS+dBVRakKWtCC9kOjnzRiSWtd06HNrsaO1uaTvnmgzf5krrGiTcNWNoa2pzVjo9iGyYhWR4SQ5kDf0fqgCS8jlRGNZ5MaIdZwpSiroUVIbTLDbGiwe2Ow2+39Uxv3MLsJQfoCzAoE+kJne5xUh7ayoxV7qLLejdNBEz4b/uaU+UZHmrEmZG1oiDUN4f5y2cd8ziG418PROz0xprFHgWgYi2fXYFiC0N1tpeZSZdsKRsM+cYk0g9EtfrQ+fnFtrAegwX7yCIV2rqNDZ+npLMXFJ13pAtPrWqdkJsH6ktnpTCQSiSLUN5DlNzinQAMLAAAAAElFTkSuQmCC"},"613e":function(i,o,e){"use strict";e("5340")},7:function(i,o){},"79b1":function(i,o,e){"use strict";e("2d68")},8:function(i,o){},"885c":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAjVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADqhzP4AAAALnRSTlMA3x8j4xUmzPyx3gFmiAfUqRhE9zoq6dqbDrl9bu/DoJSCaVtQQPKzpnVfVUo0WjuT0wAAAcBJREFUWMPt2NlygjAAhWEhhoSwr+5LXbr3vP/jdZg6NYoaQ3LRsfx3evENkAUmg76+Ry6grlE0OPWqiAnHIMGiSvY8H8b5nnS/ESwUHe+aMhsgo7+gK9BUOx2r0STcI+g0f6xKt2PlCgCcM7AuB50r6xYo/9bPG/49MM7cLLYH0jBNRJKG1BKY+xxN3M+tgDk7TubcAkh9eQVTczDkEshDYzBOIZfGpmCWQC7JTEFXSNxhSyC2r5DYfobE9igTm/NQDyThbEsVK0UH3E85eFrdWstaYDVF0ytR7TbEuQukK/w0zhT7oQJsv63Xk8GlNMF5gd+i2BzcDnGMzwJTcM8gV7xJz9aj+mD1gtMWm8Gh3ctw+qkLTsY4b/h+WHkjAOxTDwye0G700UyX2QJNy70OKA+wLG5IOeb4afqlAX44uFjh1NK2UN0Nlgz39EpUoO738ThTg/IAq1tP1KA8wOqiWA1unjVA/hSowJ1QM+0V6V4FyyX0ep7fBEkK3erwBjhZQz9nex2ccXQo2V0DwwU6xfLL4HyEji3fL4HFCJ1LihZoWg/+Q1DYAIVr/RDD+jGL7YMgy0dVnvXDtL6+B+4bd8GYEidpbS8AAAAASUVORK5CYII="},"8ee4":function(i,o,e){},9:function(i,o){},"96cc":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABEVBMVEUAAAACAgIAAAAAAAABAQE0NDR7e3sBAQEEBAR5eXkeHh4MDAwwMDADAwMGBgYVFRUKCgoPDw8ODg4ICAggICATExMPDw9QUFBZWVkGBgYBAQEJCQkCAgIZGRkLCws2NjZkZGQODg4GBgYGBgYODg4MDAwPDw8SEhIICAgRERENDQ0bGxslJSUREREWFhYbGxsdHR0cHBwvLy9vb28xMTH///8ICAgODg4ICAgGBgYSEhIUFBQYGBgjIyMaGhoEBAQMDAwoKCgoKCgtLS0kJCQ7OzsMDAwDAwMAAAAjIyMPDw8QEBANDQ0HBwcMDAwcHBwKCgohISEtLS0NDQ0HBwc4ODgVFRVAQEBYWFg1NTUAAADjrFRNAAAAWnRSTlMA/qU/eUQdwVcCH78M79mVV9HB42dXPBIF+eLSWVc/Kgvy8u7OubOwpaN6aVhYT0tENzAdHAPq4daxi4B4cF1OSUhCOSMi8cPBr6almZmSdWlkT05OQDAgHRixeboEAAABzElEQVRYw+3WWU/CQBSG4YPiUnAB29KioIgCyg6K+77v+/r9/x8iTVpGI+kMHi686Hs1SZMnnTmTphQUFBTUa2OJ6vPLfjptmpVYu9FvxWLm/kHiU1WyCpAWn1OiThbgFuqW9+xJZX9tavEoQ341821M4c2WgWWSZgAbJMsOYYYUugaOpacF7KlY78AWSXoDGqRSSH4UDUBt3EkUSFICiChZWWwqWKtK1hlyRI9Vv8szC3woWfOYItKB3KmftaJkrTnWOoDQIduadiyrFm1jzX5YTiVAp+4NAsM9WTQJ1PtlZYBtpjWPqLvScce2vLu6jlumlUXeXW3gimklseSuZrDEtICbfllNYKdjDfCsRfENiPMsrQDkqRfrdeh3R/V6rVLUgQWrF2sSPumrpGTJqeS2TWqWR42XDMNIpZyfiFjFNNPpcrlcPagdNk61H2PwszwqQkpdSCxByRvxswTFtzxqd4tveRSSFte6dDdoAPEM0+qcVQ5YK81Ztqa1Wi3tD5agyJ6CT1FNav2Y4H3WF5NYkXA4QiLteO9hp1gM/27CwYTFaqyDCYuPCYuPCYuPCYuPCYuPnQuLjUFYbExYfExY7OxUKkFBQUH/sC/SIJ/NRVDIKwAAAABJRU5ErkJggg=="},a747:function(i,o,e){"use strict";e("aa01")},a9a1:function(i,o,e){},aa01:function(i,o,e){},acbc:function(i,o,e){"use strict";e("5f09")},b0a0:function(i,o,e){"use strict";e("452c")},b545:function(i,o,e){"use strict";e("8ee4")},b8fa:function(i,o,e){},c664:function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAAA6lBMVEUAAAABAQEFBQUCAgJGRkYFBQVCQkIICAgTExMmJiYjIyMmJiYHBwcTExMPDw8oKCgHBwcODg7h4eEICAgPDw8AAAAWFhYSEhIVFRUQEBAdHR0hISE2NjapqakDAwMICAgGBgYQEBAQEBACAgIEBAQGBgYAAAAHBwcKCgoDAwMSEhIQEBAWFhYZGRkMDAwqKiocHBwGBgYhISE8PDxVVVV3d3cODg4mJiYfHx8hISEvLy8lJSUkJCQHBwcFBQUJCQkJCQkJCQktLS0kJCQRERENDQ0hISETExMjIyNycnIjIyM2NjYAAAABAQFu+6+gAAAATHRSTlMA+vjxB+wE0HgaSyHZinsx/KwB37ivkoFvXlQrEgXtzMe0sPbm4MnBrq2rqFxXU1JPNy4XFAuoTkRDHw0J5uLVuLaaiIJnWT07LSgnnXLyIwAAAadJREFUWMPtl8dWwzAQRZ3YcUt1eiPFpBcgENLpNSD9/+/gWAZbmAXWZKGF7973HOuNRjNCSEjIP9FWlWlaOoYpnlQ6YqM7OIOrZi2MDuBoUgaq0j30DU7CVLKBXKKw39SjHhcegAIoIi/dNMQ1pFyNKcRVoFxiBaA6eaBcnTWzqa6PM5RL0RhNVxejGFFAC2xebcfw4XvsulpxFtP1a56Ymmrxp8J6M5YTP2+LtulO1eTtS4IUvRG8uGRJN+wTj+RKG9IoyovCsKjLwbNbju2fOk081wQCMLuIkrqEmeZVk5x4S61lhaB8Tp4ey28Sya7qZKeom+D9YFfKRSzE+1XWyi5PskuoGkP/3LcxItxUlqaTXYrpmuwMTwNwsit9CEyUMaLIsGdX71Mu3EyR7Fh4v0Ve+nFAL5+IlKsgCHy4/vxHDs6eqgnofd7CapVmbwa4Q6C7De05DafnuJnCe2GT9EJeejR596m3A4ikjwBvGuythc8A8NmEPdOFf2biYJazyPpmTE5mX99Mzsuu8HuH4WW3onc+jnZRekeGo63t3T0kJOSofAHkCsd6OQ0YgAAAAABJRU5ErkJggg=="},cae2:function(i,o,e){"use strict";e("db41")},d393:function(i,o,e){"use strict";e("608d")},db41:function(i,o,e){},df69:function(i,o){i.exports="data:image/png;base64,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"},dffa:function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAsVBMVEUAAAAAAAABAQEKCgoICAgEBAQHBwcEBAQAAAALCwsBAQEDAwMFBQUDAwMDAwMEBAQEBAQBAQENDQ0AAAAHBwcBAQEDAwMEBAQAAAABAQECAgICAgIODg4BAQECAgIGBgYBAQECAgICAgIDAwMEBAQBAQEEBAQCAgICAgIfHx8BAQEKCgoFBQUBAQEBAQECAgICAgIBAQEJCQkLCwsBAQEEBAQDAwMAAAACAgIDAwMAAAA7PaJUAAAAOnRSTlMA+t4VBFwodsAOonlOIX1nY68a8DLQjzrr48e2H7yBRfWynXJwyj6QhwhAGFbn16qZXycLpUlqAsKU+ypwswAAA9RJREFUWMPlWNmWojAQlX1HFBBX3Ntdu13aHv//wyYLIWkL1B7OmZfOE0rqJlV1b6VC7dcNy0vcwPB9I3ATz/onCFXXFqYcSjcypFA2F5qu/hCkqdkyQRCHJNva5gcgntGVBGvxuWt4L4Ios3lm1I4bLaOuaXWj1Yjb2Z/zmfIKijum02W7HilqHiolqtsyfTN2nyfH6ZDNm1NdhVGfmsTBjvMkbfqErDcIlBKHgwGZMNEfobz1iDtG80EOHeJa7618ytrEMxrDxzseNvAsc126F4LS6j+LX79FcEr2o2OPJP+VbPoS9ksvzNEEozivccvBOBOr6A3eqf8q0X08u2BNt4PjUm530i9bN+E8wPHpuIAQY5yjfinIR2MnSVI4T3UW5wbm8z29ZpgvpZmO7FyeXY3lHfNndqdprEajlE+DGx+dQAjm/LveDayAMu663Zs45EvG58H90k00UQpKUD72xHr0de51yNPhRF8EEvJRXFtDf5glaqzLtMxo1nWV2AQw245iosU1oQLgt9MSotFyZdLwH0mUltm7KXq2VS4DGXlcLP2UgHBBf5K6tYJ21CeKClVozFJ7PrL1XL4jBPN14l4IXi3Qq3oRyqp51PuWsuZxvGAY88Tihn4sclGiULWjolJ33u92cs8Q/F1ip84qo2UbYVqMe8jFWIF06THqxp+C8kTuKjEKDmNgEiI5qYAusnA8pVkQY8K/KE8xElaYsCWkAm1PdxyFsTWgyMuaqHOJyTwo0FMqUeru95Q3cpIjj73vIgrYM0iUtaR7aGybm/U7edQY8iARKS7swCfZF9lCLW8Tz02XrurIoZz2M+RzVLtTkV8Cc7SpxZ9milgS+tYxOR5z5BqAKXbKO1OLdKWYNBhTzf+i/y0IEaFTMMQqXTd08KyMOYxAKaUFDDFMuDYiNY4w7rrM7BkyHSDhkH6rA8nvB0vZKEfZc8cB/YAY9A524pOTuUeB2jYo+FwMUJpDbDVX+ILWxbcP77NkBUC4NGGh2OJwHtScQqnz1lcs0DmCQsHLFocZs6W9CXJenncDuBexbMFimISChqNDluiTaA3tYEnfxISsTeGYG4EGAZR0eMBQqhy2ejSN6TE5A/bwgKFbEI67iBpLO5QFRiEw+HG3KTt866FI3XgL7cXDF7YCDsNscxRTJB3sq7reg8ZkO8i02P4TQXPQmJS2SYr23t3HveVQheagTXrUtKnWRuGUg+MKmraqLWT1hrZae30F7XXVZr/61ePpRcipdhGqfi2rfkmsfmV9foFegAt0d6b8l+v86x8Xqn/qqP7h5beNvx6U8A4TgRU+AAAAAElFTkSuQmCC"},e048:function(i,o,e){},f0d1:function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAh1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3YishAAAALHRSTlMAHWYM844W+fbOXRF7rtQHbBPl3NiGVcSrdjLqx7M6JebtiVG2PDmSZUW4lkeFA2IAAAKHSURBVFjDpZfterIwDIZTOlS+XgTlQ1FEdLp34/yPb6R0VCjYcvX54bVR7tCmSdrAnEiaBE61aZpN5QR1SmCRPu1dM9Lu+alLewdOSzYOng5efzSz+qiVJrZX/u46s90HoQCUPNw6W/PH1+1b/HLidH6jwxF6y7mN02Wed7vZV340NRr5VbcOd463u3Gfwoyo333BnhwNAzZ4frvj5MxeCsIJ/htHNhYoZG3wvbtsgX0/PoJSx5jNYXL9e62AJfsJP7iMX4GWVsyCO9h/9G6snTAkxt16jYcT+u8I2jqiJ08v8YtT+oIFspDoo9q74v7DIp0xL/4yq8YVLawYBL2W8Ang3z4slI9f7aZwwPyhGsz/w5fYaFq02AFQO70JrNhWuYMp7Fj9w/yP1Py/rlL0mx1hfSh5EOd6POrZP8oxoPkKbtp8c++fpRj9AATnRbX55ke4EddAmJ1Mlxc+QGXt/ykk7W+tzYuA595LWCFxtXlrXAMCcNrfBwjRZ7E+3XR4KNsnDlTME71Ch725VfOd/2PAzKajzEYLah4ohibgyLC2cgtKHkLGygaEBZmXDchLEBYUPF+C7MRevszLTpS2MXqxIPPyNsqBFDk6vAikRDplIkfNi1CWkwktqHmRTHI6owUVL9JZKijcgpLnBWWupHmOiuclbbaoRo6KX7GiOl/WvUxUcVmirPODpaBT54hF5nlxsJgfbZAYHK5Gx3vhDXLYWnzBsAyvOJnxJcv0mmd60TS86uZyib0vu2ybXffz0LDhULQ8hb+abnkK0fIom6503HSlf01XdtFv+0pCw5CS0rX7tq9QetlL3jWeiWfa+mqqtPdjem+XSkxu/2Ns/2MnSObb/1/3C6xgJU1VjAAAAABJRU5ErkJggg=="},fc23:function(i,o,e){"use strict";e("e048")},fef7:function(i,o,e){}});
//# sourceMappingURL=app.c2d3c33d.js.map