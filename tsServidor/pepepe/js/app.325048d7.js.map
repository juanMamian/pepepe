{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Proyectos.vue?ba7d","webpack:///./src/components/PerfilPersonal.vue?a57f","webpack:///./src/components/AtlasConocimiento.vue?316c","webpack:///./src/components/proyecto/IconoObjetivo.vue?05d2","webpack:///./src/components/atlasConocimiento/Canvases.vue?aa07","webpack:///./src/App.vue?7cfa","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./src/apolloStore/Schema.js","webpack:///./src/apollo.js","webpack:///./src/components/AtlasConocimiento.vue?1148","webpack:///./src/components/atlasConocimiento/NodoConocimiento.vue?e2b5","webpack:///src/components/atlasConocimiento/NodoConocimiento.vue","webpack:///./src/components/atlasConocimiento/NodoConocimiento.vue?3bbd","webpack:///./src/components/atlasConocimiento/NodoConocimiento.vue","webpack:///./src/components/atlasConocimiento/Canvases.vue?f01a","webpack:///src/components/atlasConocimiento/Canvases.vue","webpack:///./src/components/atlasConocimiento/Canvases.vue?beba","webpack:///./src/components/atlasConocimiento/Canvases.vue","webpack:///src/components/AtlasConocimiento.vue","webpack:///./src/components/AtlasConocimiento.vue?7af9","webpack:///./src/components/AtlasConocimiento.vue","webpack:///./src/components/LoginArea.vue?976c","webpack:///src/components/LoginArea.vue","webpack:///./src/components/LoginArea.vue?9287","webpack:///./src/components/LoginArea.vue","webpack:///./src/components/PerfilPersonal.vue?2472","webpack:///./src/components/utilidades/validacionDatosUsuario.js","webpack:///src/components/PerfilPersonal.vue","webpack:///./src/components/PerfilPersonal.vue?ca2e","webpack:///./src/components/PerfilPersonal.vue","webpack:///./src/components/VisorNodoConocimiento.vue?14d9","webpack:///src/components/VisorNodoConocimiento.vue","webpack:///./src/components/VisorNodoConocimiento.vue?f375","webpack:///./src/components/VisorNodoConocimiento.vue","webpack:///./src/components/Proyectos.vue?a811","webpack:///./src/components/proyectos/IconoProyecto.vue?48c1","webpack:///src/components/proyectos/IconoProyecto.vue","webpack:///./src/components/proyectos/IconoProyecto.vue?3b32","webpack:///./src/components/proyectos/IconoProyecto.vue","webpack:///src/components/Proyectos.vue","webpack:///./src/components/Proyectos.vue?39d0","webpack:///./src/components/Proyectos.vue","webpack:///./src/components/Proyecto.vue?2ee2","webpack:///./src/components/proyecto/IconoTrabajo.vue?a5ee","webpack:///./src/components/utilidades/recursosGql.js","webpack:///./src/components/proyecto/IconoPersona.vue?41bd","webpack:///src/components/proyecto/IconoPersona.vue","webpack:///./src/components/proyecto/IconoPersona.vue?7056","webpack:///./src/components/proyecto/IconoPersona.vue","webpack:///./src/components/atlasConocimiento/BuscadorNodosConocimiento.vue?ac7e","webpack:///src/components/atlasConocimiento/BuscadorNodosConocimiento.vue","webpack:///./src/components/atlasConocimiento/BuscadorNodosConocimiento.vue?8391","webpack:///./src/components/atlasConocimiento/BuscadorNodosConocimiento.vue","webpack:///src/components/proyecto/IconoTrabajo.vue","webpack:///./src/components/proyecto/IconoTrabajo.vue?e616","webpack:///./src/components/proyecto/IconoTrabajo.vue","webpack:///./src/components/proyecto/IconoObjetivo.vue?c840","webpack:///src/components/proyecto/IconoObjetivo.vue","webpack:///./src/components/proyecto/IconoObjetivo.vue?4028","webpack:///./src/components/proyecto/IconoObjetivo.vue","webpack:///src/components/Proyecto.vue","webpack:///./src/components/Proyecto.vue?083e","webpack:///./src/components/Proyecto.vue","webpack:///./src/components/Registro.vue?6540","webpack:///src/components/Registro.vue","webpack:///./src/components/Registro.vue?0ea2","webpack:///./src/components/Registro.vue","webpack:///./src/components/ActividadesProfes.vue?7f10","webpack:///./src/components/actividadesProfes/ContenidoGrupoProfe.vue?cc34","webpack:///src/components/actividadesProfes/ContenidoGrupoProfe.vue","webpack:///./src/components/actividadesProfes/ContenidoGrupoProfe.vue?4104","webpack:///./src/components/actividadesProfes/ContenidoGrupoProfe.vue","webpack:///src/components/ActividadesProfes.vue","webpack:///./src/components/ActividadesProfes.vue?3327","webpack:///./src/components/ActividadesProfes.vue","webpack:///./src/components/Personas.vue?bf61","webpack:///src/components/Personas.vue","webpack:///./src/components/Personas.vue?7501","webpack:///./src/components/Personas.vue","webpack:///./src/Router.js","webpack:///./src/main.js","webpack:///./src/components/proyecto/IconoPersona.vue?1502","webpack:///./src/components/atlasConocimiento/NodoConocimiento.vue?da23","webpack:///./src/components/Personas.vue?912a","webpack:///./src/components/LoginArea.vue?8745","webpack:///./src/components/actividadesProfes/ContenidoGrupoProfe.vue?9b12","webpack:///./src/components/proyectos/IconoProyecto.vue?5713","webpack:///./src/components/ActividadesProfes.vue?50c7","webpack:///./src/components/Proyecto.vue?f861","webpack:///./src/components/VisorNodoConocimiento.vue?cfe8","webpack:///./src/components/proyecto/IconoTrabajo.vue?43c8","webpack:///./src/components/Registro.vue?4741"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_e","style","colorBlancoAccionLogeado","on","$event","accionesLogeado","_s","username","deslogeo","staticRenderFns","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","JSON","parse","components","computed","$store","state","usuario","logeado","backgroundColor","methods","commit","$router","mounted","secsActual","datosU","exp","console","log","component","atob","map","charCodeAt","toString","join","Vue","use","Vuex","Store","permisos","id","mutations","logearse","usuarioLS","stringify","localStorage","setItem","process","TOKEN_KEY","deslogearse","removeItem","UsuarioQuery","gql","typeDefs","resolvers","Mutation","setUsuario","_","cache","writeQuery","query","readQuery","VueApollo","InMemoryCache","httpLink","createHttpLink","uri","authLink","setContext","headers","getItem","authorization","link","concat","apolloClient","ApolloClient","apolloProvider","defaultClient","type","indexOf","_k","keyCode","button","shiftKey","stopPropagation","panningVista","idNodoMenuCx","ctrlKey","altKey","metaKey","idNodoSeleccionado","panVista","target","currentTarget","crearNodo","todosNodos","nodoSeleccionado","centroVista","_l","nodo","crearVinculo","eliminarVinculo","cambiarCoordsManualesNodo","eliminarNodo","nativeOn","seleccionNodo","preventDefault","estiloPosicion","estiloSize","estiloArrastrando","arrastrandoNodo","guardarPosicion","arrastrarNodo","abrirPaginaNodo","ref","esteNodo","iconoFallback","directives","rawName","expression","nombre","eliminarEsteNodo","permisosUsuario","copiarId","vinculos","some","v","idRef","guardarNombre","setNombreEditandose","blurNombre","charProhibidosNombre","nombreEditable","nombreEditandose","baseSize","x","y","posicion","props","required","String","default","menuCx","size","seleccionado","fSize","Math","round","baseX","baseY","sel","posY","posX","top","left","valorZ","zIndex","width","height","fondoNombre","el","str","document","body","appendChild","select","execCommand","removeChild","$emit","nuevoNombre","$apollo","$refs","innerHTML","trim","nuevoTop","nuevoLeft","tipo","idNodoFrom","nodoFrom","idNodoTo","nodoTo","blur","iconoNodo","src","dibujarLineaEntreNodos","final","inicio","correccionHorizontal","correccionVertical","lapiz","moveTo","lineTo","finalCorregido","puntaAlaIzquierda","puntaAlaDerecha","coordsManuales","posicionRelativaCanvasTodosVinculos","sizeCanvasTodosVinculos","montado","posicionCanvasTodosVinculos","posicionCanvasActivo","nodoRelevante","Array","actualizar","Number","crearImagenTodosVinculos","canvasTodosVinculos","getContext","bordesCanvasTodosVinculos","reduce","acc","bot","right","anchoDiagrama","altoDiagrama","$set","canvas","canvasVinculosSeleccionado","lineWidth","clearRect","beginPath","strokeStyle","stroke","crearImagenVinculosSeleccionado","centro","longitudAla","cos","anguloVinculo","sin","trazarVinculosDeNodoRecursivamente","nivelesRestantes","blacklist","posicionRelativaCanvasVinculosSeleccionado","tamaño","sizeDiagrama","watch","apollo","dibujarVinculosGrises","actualizarTrazos","nodosConectadosAlSeleccionado","listaCompleta","listaPorNiveles","profundidadNodosConectadosAlSeleccionado","actualizarVinculosGrises","indexSeleccionado","idUsuario","mutate","mutation","variables","infoNodo","descargarCentroVista","fetchPolicy","e","movementX","movementY","profundidad","encontrarNodosConectadosRecursivamente","route","beforeRouteLeave","domProps","composing","iniciarSesion","password","charProhibidosUsername","charProhibidosPassword","usuarioConectado","nombreUsuario","colorUsername","color","colorPassword","seccion","categorias","contacto","conocimientos","editandoDatosPersonales","seleccionarFoto","serverUrl","yo","subirNuevaFoto","edicionDatosPersonales","enviarDatosPersonales","nombres","apellidos","edad","editandoDatosContacto","edicionDatosContacto","enviarDatosContacto","lugarResidencia","email","numeroTel","charProhibidos","charProhibidosNumeroTel","emailChars","dateChars","validarDatosUsuario","datosUsuario","errores","dato","test","fechaNacimiento","fotografia","misNodos","substr","datos","FormData","validImageTypes","includes","fileType","append","nuevaFoto","method","url","success","error","inputNuevaFoto","click","direccionNodo","crearNuevoProyecto","proyecto","cambiarNombreProyecto","class","proyectoPropio","usuarioResponsableProyecto","navegarAlProyecto","permisosEdicion","esteProyecto","charProhibidosNombreProyecto","responsables","proyectos","update","sort","res","usuarioLogeado","asumirComoResponsable","usuarioPosibleResponsableProyecto","entrarListaPosiblesResponsables","abandonarListaResponsables","persona","aceptarResponsable","crearNuevoObjetivo","idObjetivoSeleccionado","objetivo","eliminarObjetivo","cambiarNombreObjetivo","cambiarDescripcionObjetivo","crearNuevoTrabajo","idTrabajoSeleccionado","trabajo","opacar","eliminarTrabajo","cambiarNombreTrabajo","cambiarDescripcionTrabajo","trabajoSeleccionado","esteTrabajo","guardarDescripcion","setDescripcionEditandose","blurDescripcion","descripcion","usuarioResponsableTrabajo","nodosConocimiento","eliminarse","fragmentoResponsables","soyYo","estaPersona","aceptado","Boolean","palabraBuscada","opcion","cantidadPalabrasValidas","opciones","nueva","palabras","palabrasValidas","indexValidas","actual","anterior","IconoPersona","BuscadorNodosConocimiento","descripcionEditandose","idEsteProyecto","objetivoSeleccionado","esteObjetivo","charProhibidosDescripcion","QUERY_PROYECTO","idProyecto","$route","params","respuesta","posiblesResponsables","trabajos","objetivos","datosRegistro","enviarRegistro","validarDatos","alertar","msj","grupo","idEstudianteAñadir","usuarioSuperadministrador","addEstudianteGrupo","desactivado","idEstudianteSeleccionado","removeEstudianteGrupo","esteGrupo","ContenidoGrupoProfe","gruposEstudiantiles","personas","Router","routes","path","atlasConocimiento","loginArea","perfilPersonal","VisorNodoConocimiento","Proyectos","Proyecto","Registro","ActividadesProfes","Personas","router","mixin","authHeader","infoSesion","Authorization","usuarioAdministrador","config","productionTip","render","h","App","store","$mount"],"mappings":"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","file":"js/app.325048d7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyectos.vue?vue&type=style&index=0&id=5688c6b6&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerfilPersonal.vue?vue&type=style&index=0&id=27522ce0&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasConocimiento.vue?vue&type=style&index=0&id=28d51acc&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoObjetivo.vue?vue&type=style&index=0&id=a5a4c026&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvases.vue?vue&type=style&index=0&id=ae6b44f2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"navBar\"}},[_c('div',{staticClass:\"botonNav hoverGris\",attrs:{\"id\":\"navHome\",\"to\":\"/\"}},[_vm._v(\"Home\")]),_c('router-link',{attrs:{\"to\":\"/atlas\"}},[_c('div',{staticClass:\"botonNav hoverGris\",attrs:{\"id\":\"navAtlas\"}},[_vm._v(\" Atlas de conocimientos \")])]),_c('router-link',{attrs:{\"to\":\"/proyectos\"}},[_c('div',{staticClass:\"botonNav hoverGris\",attrs:{\"id\":\"navProyectos\"}},[_vm._v(\"Proyectos\")])]),_c('div',{staticClass:\"botonNav hoverGris\",attrs:{\"id\":\"navTrabajos\"}},[_vm._v(\"Trabajos\")]),(_vm.usuarioLogeado)?_c('router-link',{attrs:{\"to\":\"/actividadesVirtuales2021\"}},[_c('div',{staticClass:\"botonNav hoverGris\",attrs:{\"id\":\"navActividadesVirtuales\"}},[_vm._v(\"Actividades virtuales\")])]):_vm._e(),(_vm.usuarioAdministrador)?_c('router-link',{attrs:{\"to\":\"/personas\"}},[_c('div',{staticClass:\"botonNav hoverGris\",attrs:{\"id\":\"navActividadesVirtuales\"}},[_vm._v(\"Personas\")])]):_vm._e(),_c('div',{attrs:{\"id\":\"botonesNavDerecha\"}},[(_vm.logeado)?[_c('div',{staticClass:\"botonNav navLogin hoverGris\",style:([_vm.colorBlancoAccionLogeado]),attrs:{\"id\":\"navLogged\"},on:{\"click\":function($event){_vm.accionesLogeado = !_vm.accionesLogeado}}},[_vm._v(\" \"+_vm._s(_vm.username)+\" \"),(_vm.accionesLogeado)?_c('div',{attrs:{\"id\":\"botonesLogeado\"}},[_c('router-link',{attrs:{\"to\":\"/miperfil\"}},[_c('div',{staticClass:\"botonesLogeado hoverGris\",attrs:{\"id\":\"Perfil\"}},[_vm._v(\"Perfil\")])]),_c('div',{staticClass:\"botonesLogeado hoverGris\",attrs:{\"id\":\"desconexion\"},on:{\"click\":_vm.deslogeo}},[_vm._v(\" Desconexion \")])],1):_vm._e()])]:[_c('router-link',{staticClass:\"botonNav hoverGris\",attrs:{\"to\":\"/registro\",\"id\":\"navRegistro\"}},[_c('div',[_vm._v(\"Registro\")])]),_c('router-link',{staticClass:\"botonNav navLogin hoverGris\",attrs:{\"to\":\"/login\",\"id\":\"navLogin\"}},[_c('div',[_vm._v(\"Login\")])])]],2)],1),_c('router-view',{attrs:{\"id\":\"visorRouter\"}},[_vm._v(\"asd\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <div id=\"navBar\">\n      <div class=\"botonNav hoverGris\" id=\"navHome\" to=\"/\">Home</div>\n      <router-link to=\"/atlas\">\n        <div class=\"botonNav hoverGris\" id=\"navAtlas\">\n          Atlas de conocimientos\n        </div>\n      </router-link>\n      <router-link to=\"/proyectos\">\n        <div class=\"botonNav hoverGris\" id=\"navProyectos\">Proyectos</div>\n      </router-link>\n      <div class=\"botonNav hoverGris\" id=\"navTrabajos\">Trabajos</div>\n      <router-link to=\"/actividadesVirtuales2021\" v-if=\"usuarioLogeado\">\n        <div class=\"botonNav hoverGris\" id=\"navActividadesVirtuales\">Actividades virtuales</div>\n      </router-link>\n      <router-link to=\"/personas\" v-if=\"usuarioAdministrador\">\n        <div class=\"botonNav hoverGris\" id=\"navActividadesVirtuales\">Personas</div>\n      </router-link>\n      <div id=\"botonesNavDerecha\">\n        <template v-if=\"logeado\">\n          <div\n            class=\"botonNav navLogin hoverGris\"\n            id=\"navLogged\"\n            :style=\"[colorBlancoAccionLogeado]\"\n            @click=\"accionesLogeado = !accionesLogeado\"\n          >\n            {{ username }}\n            <div id=\"botonesLogeado\" v-if=\"accionesLogeado\">\n              <router-link to=\"/miperfil\">\n                <div class=\"botonesLogeado hoverGris\" id=\"Perfil\">Perfil</div>\n              </router-link>\n              <div\n                class=\"botonesLogeado hoverGris\"\n                id=\"desconexion\"\n                @click=\"deslogeo\"\n              >\n                Desconexion\n              </div>\n            </div>\n          </div>\n        </template>\n        <template v-else>\n          <router-link\n            to=\"/registro\"\n            class=\"botonNav hoverGris\"\n            id=\"navRegistro\"\n          >\n            <div>Registro</div></router-link\n          >\n          <router-link\n            to=\"/login\"\n            class=\"botonNav navLogin hoverGris\"\n            id=\"navLogin\"\n          >\n            <div>Login</div></router-link\n          >\n        </template>\n      </div>\n    </div>\n    <router-view id=\"visorRouter\">asd</router-view>\n  </div>\n</template>\n\n<script>\nfunction parseJwt(token) {\n  var base64Url = token.split(\".\")[1];\n  var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  var jsonPayload = decodeURIComponent(\n    atob(base64)\n      .split(\"\")\n      .map(function (c) {\n        return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n      })\n      .join(\"\")\n  );\n\n  return JSON.parse(jsonPayload);\n}\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      accionesLogeado: false,\n    };\n  },\n  computed: {\n    username: function () {\n      return this.$store.state.usuario.username;\n    },\n    logeado: function () {\n      if (\n        this.username != undefined &&\n        this.username != null &&\n        this.username.length > 2\n      ) {\n        return true;\n      }\n      return false;\n    },\n    colorBlancoAccionLogeado: function () {\n      if (this.accionesLogeado) {\n        return {\n          backgroundColor: \"white\",\n        };\n      }\n      return {};\n    },\n  },\n  methods: {\n    deslogeo() {\n      this.$store.commit(\"deslogearse\");\n      this.$router.push(\"/login\");\n    },\n  },\n  mounted() {\n    let token = localStorage.getItem(process.env.TOKEN_KEY);\n    //let reloj=new Date();\n    if (!token) {\n      console.log(`no habia token`);\n    } else {\n      let datosU = parseJwt(token);\n      let secsActual = parseInt(Date.now() / 1000);\n\n      if (secsActual < datosU.exp) {\n        this.$store.commit(\"logearse\", token);\n      } else {\n        this.$store.commit(\"deslogearse\");\n      }\n    }\n  },\n};\n</script>\n\n<style>\nbody {\n  margin: 0px;\n  width: 100%;\n  height: 100vh;\n  background: #edebe9 linear-gradient(to bottom, #dbd7d1, #edebe9 116px)\n    no-repeat;\n}\n#app {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-rows: 40px 1fr 5px;\n  row-gap: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  box-sizing: border-box;\n  z-index: 0;\n}\n#visorRouter {\n  grid-row: 2/3;\n  background-color: \"#fab467\";\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  z-index: 10;\n}\n#atlasConocimiento {\n  grid-row: 3/4;\n  background-color: \"#fab467\";\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n#navBar {\n  grid-row: 1/2;\n  display: flex;\n  z-index: 100;\n}\n.botonNav {\n  padding-top: 10px;\n  padding-left: 15px;\n  padding-right: 15px;\n  cursor: pointer;\n  user-select: none;\n  font-size: 16px;\n  font-family: Avenir, helvetica;\n}\n#navLogged {\n  position: relative;\n}\n#botonesNavDerecha {\n  margin-left: auto;\n  display: flex;\n}\n#botonesLogeado {\n  position: absolute;\n  right: 0;\n  top: 100%;\n  background-color: white;\n}\n.botonesLogeado {\n  padding-top: 10px;\n  padding-left: 15px;\n  padding-bottom: 5px;\n  padding-right: 35px;\n  min-width: 150px;\n}\n.hoverGris:hover {\n  background-color: rgb(201, 201, 201);\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=f68b6e94&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\nimport Vuex from \"vuex\"\n\nVue.use(Vuex);\n\nfunction parseJwt (token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n\n    return JSON.parse(jsonPayload);\n}\n\n\nexport default new Vuex.Store({\n    state: {\n        usuario: {\n            username: null,\n            permisos: null,\n            id:null,\n        },\n        token:null\n\n    },\n    mutations: {\n        logearse: function (state, token) {\n\n            let usuario=parseJwt(token);\n            state.token=token;\n            state.usuario.username = usuario.username;\n            state.usuario.permisos = usuario.permisos;\n            state.usuario.id=usuario.id;\n\n            let usuarioLS=JSON.stringify(state.usuario);\n\n            localStorage.setItem(\"pepepe_usuario\", usuarioLS);\n            localStorage.setItem(process.env.TOKEN_KEY, token);\n            \n        },\n        deslogearse(state) {\n            localStorage.removeItem(\"pepepe_usuario\");\n            localStorage.removeItem(process.env.TOKEN_KEY);\n\n            state.usuario.username = null,\n            state.usuario.permisos = null,\n            state.usuario.id = null,\n            \n            state.token=null\n\n\n        }\n    }\n});\n","import gql from \"graphql-tag\"\n\nconst UsuarioQuery=gql`\n    {\n        usuario @client{\n            username\n            permisos\n        }\n    }\n`;\n\n\n/*\nexport const typeDefs=gql`\n    type usuario{\n        username: String,\n    }\n`;\n*/\n\n\nexport const typeDefs = gql`\n    \n    enum TiposUsuario{\n        USUARIO,\n        ADMINISTRADOR,\n        SUPERADMINSTRADOR\n    }\n    \n    type Usuario{\n        username:String,\n        permisos: TiposUsuario\n     }\n\n    type Mutations{ \n        setUsuario(username: String, permisos: TiposUsuario):Usuario\n    }\n`;\n\n\n\nexport const resolvers={\n    Mutation:{\n        setUsuario: (_, {username, permisos}, {cache})=>{\n            cache.writeQuery({\n                query: UsuarioQuery,\n                data:{\n                    username,\n                    permisos,\n                }\n            });\n            \n            return cache.readQuery({query: UsuarioQuery});\n        }\n    },\n\n}\n\n\n","import {ApolloClient} from \"apollo-client\"\nimport {InMemoryCache} from \"apollo-cache-inmemory\";\nimport {createHttpLink} from \"apollo-link-http\"\nimport VueApollo from \"vue-apollo\";\nimport { typeDefs, resolvers} from \"./apolloStore/Schema\"\n//import {ApolloLink} from \"apollo-link\"\nimport {setContext} from \"apollo-link-context\"\nimport Vue from 'vue'\n\nVue.use(VueApollo);\n\nconst cache= new InMemoryCache();\n\nconst httpLink = createHttpLink({\n  uri: \"http://localhost:3000/graphql\"\n});\n\nconst authLink=setContext((_, {headers})=>{\n    const token=localStorage.getItem(process.env.TOKEN_KEY) || \"\";\n    return {\n        headers:{\n            ...headers,\n            authorization: token\n        }\n    }\n});\n\nconst link=authLink.concat(httpLink);\n\nconst apolloClient=new ApolloClient({\n  link,\n  cache,\n  typeDefs,\n  resolvers\n});\n\nexport const apolloProvider=new VueApollo({\n  defaultClient:apolloClient\n})","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"atlasConocimiento\"},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }if(!$event.shiftKey){ return null; }$event.stopPropagation();_vm.panningVista = true},\"click\":[function($event){_vm.idNodoMenuCx = '-1'},function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.idNodoSeleccionado = '-1'}],\"mousemove\":function($event){return _vm.panVista($event)},\"mouseup\":function($event){_vm.panningVista = false},\"dblclick\":function($event){if(!$event.ctrlKey){ return null; }if(!$event.shiftKey){ return null; }if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.crearNodo($event)}}},[_c('div',{attrs:{\"id\":\"contenedorNodos\"}},[_c('canvases',{attrs:{\"todosNodos\":_vm.todosNodos,\"nodoSeleccionado\":_vm.nodoSeleccionado,\"centroVista\":_vm.centroVista}}),_vm._l((_vm.todosNodos),function(nodo){return _c('nodo-conocimiento',{key:nodo.id,attrs:{\"nodoSeleccionado\":_vm.nodoSeleccionado,\"todosNodos\":_vm.todosNodos,\"idNodoMenuCx\":_vm.idNodoMenuCx,\"esteNodo\":nodo,\"centroVista\":_vm.centroVista},on:{\"creacionVinculo\":_vm.crearVinculo,\"eliminacionVinculo\":_vm.eliminarVinculo,\"cambioDePosicionManual\":_vm.cambiarCoordsManualesNodo,\"eliminar\":_vm.eliminarNodo},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.seleccionNodo(nodo)},\"contextmenu\":function($event){$event.preventDefault();_vm.idNodoMenuCx = nodo.id}}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nodoConocimiento\",style:([_vm.estiloPosicion, _vm.estiloSize, _vm.estiloArrastrando]),on:{\"mousedown\":function($event){if(!$event.ctrlKey){ return null; }_vm.arrastrandoNodo = true},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.guardarPosicion($event)},\"mousemove\":_vm.arrastrarNodo,\"mouseleave\":function($event){_vm.arrastrandoNodo = false},\"dblclick\":_vm.abrirPaginaNodo}},[_c('div',{attrs:{\"id\":\"sombra\"}}),_c('img',{ref:\"iconoNodo\",staticClass:\"iconoNodo\",attrs:{\"src\":'http://localhost:3000/api/atlas/iconos/' + _vm.esteNodo.id,\"alt\":\"\"},on:{\"~error\":function($event){return _vm.iconoFallback($event)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuCx),expression:\"menuCx\"}],attrs:{\"id\":\"menuContextual\"}},[_c('div',{staticClass:\"seccionMenuCx\"},[_vm._v(_vm._s(_vm.esteNodo.nombre))]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarEsteNodo($event)}}},[_vm._v(\"Eliminar\")]),(_vm.permisosUsuario == 'superadministrador')?_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.copiarId($event)}}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.id)+\" \")]):_vm._e(),(_vm.nodoSeleccionado.id != -1 && _vm.nodoSeleccionado.id != _vm.esteNodo.id)?[_c('div',{staticClass:\"seccionMenuCx\"},[_vm._v(_vm._s(_vm.nodoSeleccionado.nombre))]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.crearVinculo('continuacion', _vm.nodoSeleccionado, _vm.esteNodo)}}},[_vm._v(\" Continua aquí \")]),_c('div',{staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.crearVinculo('continuacion', _vm.esteNodo, _vm.nodoSeleccionado)}}},[_vm._v(\" Continua desde aquí \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.esteNodo.vinculos.some(function (v) { return v.idRef == _vm.nodoSeleccionado.id; })),expression:\"esteNodo.vinculos.some((v) => v.idRef == nodoSeleccionado.id)\"}],staticClass:\"botonMenuCx\",on:{\"click\":function($event){$event.stopPropagation();return _vm.eliminarVinculo(_vm.esteNodo, _vm.nodoSeleccionado)}}},[_vm._v(\" Desconectar \")])]:_vm._e()],2),_c('div',{ref:\"nombre\",style:(_vm.fondoNombre),attrs:{\"id\":\"nombre\",\"contenteditable\":true},on:{\"blur\":_vm.guardarNombre,\"input\":_vm.setNombreEditandose,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.blurNombre($event)},\"dblclick\":function($event){$event.stopPropagation();}}},[_vm._v(\" \"+_vm._s(_vm.esteNodo.nombre)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"nodoConocimiento\"\n    :style=\"[estiloPosicion, estiloSize, estiloArrastrando]\"\n    @mousedown.ctrl=\"arrastrandoNodo = true\"\n    @mouseup.left=\"guardarPosicion\"\n    @mousemove=\"arrastrarNodo\"\n    @mouseleave=\"arrastrandoNodo = false\"\n    @dblclick=\"abrirPaginaNodo\"\n  >\n    <div id=\"sombra\"></div>\n    <img\n      :src=\"'http://localhost:3000/api/atlas/iconos/' + esteNodo.id\"\n      alt=\"\"\n      class=\"iconoNodo\"\n      ref=\"iconoNodo\"\n      @error.once=\"iconoFallback\"\n    />\n\n    <div id=\"menuContextual\" v-show=\"menuCx\">\n      <div class=\"seccionMenuCx\">{{ esteNodo.nombre }}</div>\n      <div class=\"botonMenuCx\" @click.stop=\"eliminarEsteNodo\">Eliminar</div>\n      <div\n        class=\"botonMenuCx\"\n        v-if=\"permisosUsuario == 'superadministrador'\"\n        @click.stop=\"copiarId\"\n      >\n        {{ esteNodo.id }}\n      </div>\n      <template\n        v-if=\"nodoSeleccionado.id != -1 && nodoSeleccionado.id != esteNodo.id\"\n      >\n        <div class=\"seccionMenuCx\">{{ nodoSeleccionado.nombre }}</div>\n        <div\n          class=\"botonMenuCx\"\n          @click.stop=\"crearVinculo('continuacion', nodoSeleccionado, esteNodo)\"\n        >\n          Continua aquí\n        </div>\n        <div\n          class=\"botonMenuCx\"\n          @click.stop=\"crearVinculo('continuacion', esteNodo, nodoSeleccionado)\"\n        >\n          Continua desde aquí\n        </div>\n        <div\n          class=\"botonMenuCx\"\n          v-show=\"esteNodo.vinculos.some((v) => v.idRef == nodoSeleccionado.id)\"\n          @click.stop=\"eliminarVinculo(esteNodo, nodoSeleccionado)\"\n        >\n          Desconectar\n        </div>\n      </template>\n    </div>\n    <div\n      id=\"nombre\"\n      ref=\"nombre\"\n      :contenteditable=\"true\"\n      :style=\"fondoNombre\"\n      @blur=\"guardarNombre\"\n      @input=\"setNombreEditandose\"\n      @keypress.enter=\"blurNombre\"\n      @dblclick.stop\n    >\n      {{ esteNodo.nombre }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n\nvar charProhibidosNombre = /[^ a-zA-ZÀ-ž0-9_():.,-]/g;\n\nexport default {\n  name: \"NodoConocimiento\",\n  data() {\n    return {\n      arrastrandoNodo: false,\n      nombreEditable: false,\n      nombreEditandose: false,\n      baseSize: {\n        x: 50,\n        y: 50,\n      },\n      posicion: {\n        x: 0,\n        y: 0,\n      },\n    };\n  },\n  props: {\n    esteNodo: {\n      type: Object,\n      required: true,\n    },\n    centroVista: Object,\n    idNodoMenuCx: String,\n    nodoSeleccionado: {\n      type: Object,\n      default() {\n        return {\n          id: \"-1\",\n          nombre: \"ninguno\",\n        };\n      },\n    },\n  },\n  computed: {\n    menuCx() {\n      return this.idNodoMenuCx == this.esteNodo.id ? true : false;\n    },\n    size() {\n      let fSize = Object.assign({}, this.baseSize);\n      if (this.seleccionado) {\n        let baseX = this.baseSize.x;\n        let baseY = this.baseSize.y;\n        fSize.x = Math.round(baseX * 1.1);\n        fSize.y = Math.round(baseY * 1.1);\n      }\n      return { ...fSize };\n    },\n    seleccionado() {\n      let sel = false;\n      if (this.nodoSeleccionado.id == this.esteNodo.id) {\n        sel = true;\n      }\n      return sel;\n    },\n    estiloPosicion() {\n      //Posicion absoluta\n      let posY = Math.round(this.posicion.y - this.size.y / 2);\n      let posX = Math.round(this.posicion.x - this.size.x / 2);\n\n      //Ajustar respecto del centro de la vista\n      posY -= this.centroVista.y;\n      posX -= this.centroVista.x;\n      return {\n        top: posY + \"px\",\n        left: posX + \"px\",\n      };\n    },\n    estiloArrastrando() {\n      let valorZ = 0;\n      if (this.arrastrandoNodo) {\n        valorZ = 1;\n      }\n      return {\n        zIndex: valorZ,\n      };\n    },\n    estiloSize() {\n      return {\n        width: this.size.x + \"px\",\n        height: this.size.y + \"px\",\n      };\n    },\n    fondoNombre() {\n      if (this.nombreEditandose) {\n        return {\n          backgroundColor: \"orange\",\n        };\n      }\n      return {\n        backgroundColor: \"lightblue\",\n      };\n    },\n    permisosUsuario: function () {\n      return this.$store.state.usuario.permisos;\n    },\n  },\n  methods: {\n    // dibujarVinculos: function (rol, color) {\n    //   let nodosVinculados = this.todosNodos.filter((n) =>\n    //     this.esteNodo.vinculos.some((v) => v.idRef == n.id && v.rol == rol)\n    //   );\n\n    //   this.lapiz.beginPath();\n    //   console.log(`trazando lineas de color ${color} `);\n    //   this.lapiz.strokeStyle = color;\n\n    //   for (let nodo of nodosVinculados) {\n    //     console.log(`${nodo.nombre}`);\n    //   }\n\n    //   this.bordesDibujoActivo.bot = nodosVinculados.reduce((acc, n) => {\n    //     return n.coordsManuales.y < acc ? n.coordsManuales.y : acc;\n    //   }, this.esteNodo.coordsManuales.y);\n    //   this.bordesDibujoActivo.top = nodosVinculados.reduce((acc, n) => {\n    //     return n.coordsManuales.y > acc ? n.coordsManuales.y : acc;\n    //   }, this.esteNodo.coordsManuales.y);\n    //   this.bordesDibujoActivo.left = nodosVinculados.reduce((acc, n) => {\n    //     return n.coordsManuales.x < acc ? n.coordsManuales.x : acc;\n    //   }, this.esteNodo.coordsManuales.x);\n    //   this.bordesDibujoActivo.right = nodosVinculados.reduce((acc, n) => {\n    //     return n.coordsManuales.x > acc ? n.coordsManuales.x : acc;\n    //   }, this.esteNodo.coordsManuales.x);\n\n    //   let ancho =\n    //     this.bordesDibujoActivo.right -\n    //     this.bordesDibujoActivo.left +\n    //     this.paddingGuarda;\n    //   let alto =\n    //     this.bordesDibujoActivo.top -\n    //     this.bordesDibujoActivo.bot +\n    //     this.paddingGuarda;\n\n    //   this.$set(\n    //     this.posicionDibujoVinculos,\n    //     \"left\",\n    //     this.size.x / 2 -\n    //       this.paddingGuarda / 2 -\n    //       (this.esteNodo.coordsManuales.x - this.bordesDibujoActivo.left) +\n    //       \"px\"\n    //   );\n    //   this.$set(\n    //     this.posicionDibujoActivo,\n    //     \"top\",\n    //     this.size.y / 2 -\n    //       this.paddingGuarda / 2 -\n    //       (this.esteNodo.coordsManuales.y - this.bordesDibujoActivo.bot) +\n    //       \"px\"\n    //   );\n\n    //   this.lapiz.canvas.width = ancho;\n    //   this.lapiz.canvas.height = alto;\n\n    //   for (let vinculo of this.esteNodo.vinculos) {\n    //     if (vinculo.rol == rol || vinculo.rol == \"any\") {\n    //       let otroNodo = this.todosNodos.find((n) => n.id == vinculo.idRef);\n    //       if (!otroNodo) {\n    //         console.log(`ALERTA. Vinculo a ${vinculo.idRef} huerfano`);\n    //         continue;\n    //       }\n    //       this.dibujarLineaEntreNodos(this.esteNodo, otroNodo);\n    //       console.log(\n    //         `dibujando linea entre ${this.esteNodo.nombre} y ${otroNodo.nombre} `\n    //       );\n    //     }\n    //   }\n    //   this.lapiz.stroke();\n    // },\n    abrirPaginaNodo(){\n      this.$router.push(\"/nodoConocimiento/\"+this.esteNodo.id);\n    },\n    copiarId(e) {\n      let str=e.target.innerHTML.trim();\n      const el = document.createElement(\"textarea\");\n      el.value = str;\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(el);\n    },\n    eliminarEsteNodo() {\n      this.$emit(\"eliminar\", this.esteNodo.id);\n    },\n    guardarNombre() {\n      let nuevoNombre = this.$refs.nombre.innerHTML.trim();\n      let idNodo = this.esteNodo.id;\n\n      if (!this.nombreEditandose || nuevoNombre == this.esteNodo.nombre) {\n        return;\n      }\n\n      nuevoNombre = nuevoNombre.replace(charProhibidosNombre, \"\");\n      nuevoNombre = nuevoNombre.replace(/\\s\\s+/g, \" \");\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idNodo: ID!, $nuevoNombre: String!) {\n              editarNombreNodo(idNodo: $idNodo, nuevoNombre: $nuevoNombre) {\n                modificados {\n                  id\n                  nombre\n                }\n              }\n            }\n          `,\n          variables: {\n            idNodo,\n            nuevoNombre,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n          this.nombreEditandose = false;\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    setNombreEditandose() {\n      if (this.esteNodo.nombre != this.$refs.nombre.innerHTML.trim()) {\n        this.nombreEditandose = true;\n      } else {\n        this.nombreEditandose = false;\n      }\n    },\n    arrastrarNodo(e) {\n      if (!this.arrastrandoNodo) {\n        return;\n      }\n      //console.log(`mouse move en ${e.pageX}, ${e.pageY}`);\n      let posContenedor = document\n        .getElementById(\"contenedorNodos\")\n        .getBoundingClientRect();\n      let nuevoTop = Math.round(\n        e.clientY - posContenedor.top + this.centroVista.y\n      );\n      let nuevoLeft = Math.round(\n        e.clientX - posContenedor.left + this.centroVista.x\n      );\n      this.posicion.y = nuevoTop;\n      this.posicion.x = nuevoLeft;\n    },\n    guardarPosicion() {\n      if (!this.arrastrandoNodo) return;\n      this.$emit(\"cambioDePosicionManual\", this.esteNodo.id, {\n        x: this.posicion.x,\n        y: this.posicion.y,\n      });\n\n      this.arrastrandoNodo = false;\n    },\n    crearVinculo(tipo, nodoFrom, nodoTo) {\n      console.log(\n        `creando un vinculo tipo ${tipo} entre ${nodoFrom.nombre} y ${nodoTo.nombre} `\n      );\n      this.$emit(\"creacionVinculo\", {\n        tipo,\n        idNodoFrom: nodoFrom.id,\n        idNodoTo: nodoTo.id,\n      });\n    },\n    eliminarVinculo(nodoFrom, nodoTo) {\n      this.$emit(\"eliminacionVinculo\", {\n        idNodoFrom: nodoFrom.id,\n        idNodoTo: nodoTo.id,\n      });\n    },\n    blurNombre() {\n      this.$refs.nombre.blur();\n    },\n    iconoFallback() {\n      this.$refs.iconoNodo.src = \"nodoConocimientoDefault.png\";\n      //this.$refs.iconoNodo.src=\"@/assets/iconos/atlas/nodoConocimientoDefault.png\";\n    },\n    dibujarLineaEntreNodos(nodoFrom, nodoTo) {\n      let inicio = {\n        x:\n          nodoFrom.coordsManuales.x +\n          this.paddingGuarda / 2 -\n          parseInt(this.bordesDibujoActivo.left),\n        y:\n          nodoFrom.coordsManuales.y +\n          this.paddingGuarda / 2 -\n          parseInt(this.bordesDibujoActivo.bot),\n      };\n      let final = {\n        x:\n          nodoTo.coordsManuales.x +\n          this.paddingGuarda / 2 -\n          parseInt(this.bordesDibujoActivo.left),\n        y:\n          nodoTo.coordsManuales.y +\n          this.paddingGuarda / 2 -\n          parseInt(this.bordesDibujoActivo.bot),\n      };\n      console.log(`${inicio.x}, ${inicio.y} -> ${final.x}, ${final.y} `);\n\n      let anguloVinculo = Math.atan(\n        (final.y - inicio.y) / (final.x - inicio.x)\n      );\n      if (final.y - inicio.y < 0 && final.x - inicio.x < 0)\n        anguloVinculo += Math.PI;\n      if (final.y - inicio.y > 0 && final.x - inicio.x < 0)\n        anguloVinculo += Math.PI;\n\n      let radioAmpliado = parseInt(this.baseSize.x * 0.6);\n      console.log(`radio ampliado: ${radioAmpliado}`);\n      let correccionHorizontal = parseInt(\n        radioAmpliado * Math.cos(anguloVinculo)\n      );\n      let correccionVertical = parseInt(\n        radioAmpliado * Math.sin(anguloVinculo)\n      );\n      console.log(\n        `Correcciones: ${correccionHorizontal}, ${correccionVertical} `\n      );\n\n      let finalCorregido = {\n        x: final.x - correccionHorizontal,\n        y: final.y - correccionVertical,\n      };\n\n      this.lapiz.moveTo(inicio.x, inicio.y);\n      this.lapiz.lineTo(finalCorregido.x, finalCorregido.y);\n\n      //ahora la flechita\n\n      // let centro = {\n      //   x: (final.x + inicio.x) / 2,\n      //   y: (final.y + inicio.y) / 2,\n      // };\n\n      let longitudAla = 7;\n\n      //anguloVinculo=anguloVinculo*180/Math.PI;\n\n      let puntaAlaIzquierda = {\n        x:\n          finalCorregido.x +\n          longitudAla * Math.cos(anguloVinculo - (3 * Math.PI) / 4),\n        y:\n          finalCorregido.y +\n          longitudAla * Math.sin(anguloVinculo - (3 * Math.PI) / 4),\n      };\n      let puntaAlaDerecha = {\n        x:\n          finalCorregido.x +\n          longitudAla * Math.cos(anguloVinculo + (3 * Math.PI) / 4),\n        y:\n          finalCorregido.y +\n          longitudAla * Math.sin(anguloVinculo + (3 * Math.PI) / 4),\n      };\n      this.lapiz.moveTo(finalCorregido.x, finalCorregido.y);\n      this.lapiz.lineTo(puntaAlaIzquierda.x, puntaAlaIzquierda.y);\n      this.lapiz.moveTo(finalCorregido.x, finalCorregido.y);\n      this.lapiz.lineTo(puntaAlaDerecha.x, puntaAlaDerecha.y);\n    },\n  },\n\n  mounted() {\n    this.posicion.y = this.esteNodo.coordsManuales.y\n      ? this.esteNodo.coordsManuales.y\n      : 0;\n    this.posicion.x = this.esteNodo.coordsManuales.x\n      ? this.esteNodo.coordsManuales.x\n      : 0;\n  },\n};\n</script>\n\n<style scoped>\n#sombra {\n  position: absolute;\n  top: 2%;\n  left: 0%;\n  border-radius: inherit;\n  width: 106%;\n  height: 106%;\n  background-color: rgba(128, 128, 128, 0.452);\n  z-index: 0;\n}\n.iconoNodo {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  pointer-events: none;\n}\n.nodoConocimiento {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background-size: 100% 100%;\n  cursor: pointer;\n  position: absolute;\n  pointer-events: all;\n  background-color: rgba(128, 128, 128, 0.349);\n}\n#nombre {\n  font-size: 12px;\n  position: absolute;\n  top: 105%;\n  min-height: 10px;\n  min-width: 20px;\n  text-align: center;\n  width: 160%;\n  left: -30%;\n  border: 1px solid orange;\n  border-radius: 3px;\n  background-color: lightblue;\n}\n#menuContextual {\n  position: absolute;\n  top: 110%;\n  left: 110%;\n  min-width: 140px;\n  padding: 5px;\n  z-index: 10;\n  background-color: rgb(177, 177, 159);\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n.botonMenuCx {\n  cursor: pointer;\n  font-size: 14px;\n}\n.seccionMenuCx {\n  font-size: 15px;\n  color: rgb(71, 71, 71);\n}\n.botonMenuCx:hover {\n  background-color: gray;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodoConocimiento.vue?vue&type=template&id=b4cf5dae&scoped=true&\"\nimport script from \"./NodoConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./NodoConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NodoConocimiento.vue?vue&type=style&index=0&id=b4cf5dae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b4cf5dae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"canvases\"}},[_c('canvas',{ref:\"canvasTodosVinculos\",staticClass:\"canvas\",style:([_vm.posicionRelativaCanvasTodosVinculos, _vm.sizeCanvasTodosVinculos]),attrs:{\"id\":\"canvasTodosVinculos\"}}),_c('canvas',{ref:\"canvasVinculosSeleccionado\",staticClass:\"canvas\",style:([_vm.posicionRelativaCanvasTodosVinculos, _vm.sizeCanvasTodosVinculos]),attrs:{\"id\":\"canvasVinculosSeleccionado\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"canvases\">\n    <canvas\n      id=\"canvasTodosVinculos\"\n      ref=\"canvasTodosVinculos\"\n      :style=\"[posicionRelativaCanvasTodosVinculos, sizeCanvasTodosVinculos]\"\n      class=\"canvas\"\n    ></canvas>\n    <canvas\n      id=\"canvasVinculosSeleccionado\"\n      ref=\"canvasVinculosSeleccionado\"\n      :style=\"[posicionRelativaCanvasTodosVinculos, sizeCanvasTodosVinculos]\"\n      class=\"canvas\"\n    ></canvas>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Canvases\",\n  data() {\n    return {\n      montado: false,\n\n      lapiz: null,\n      posicionCanvasTodosVinculos: {\n        top: 0,\n        left: 0,\n      },\n      sizeCanvasTodosVinculos: {\n        width: 0,\n        height: 0,\n      },\n      posicionCanvasActivo: {\n        x: 0,\n        y: 0,\n      },\n    };\n  },\n  props: {\n    nodoSeleccionado: {\n      type: Object,\n      default() {\n        return {\n          id: \"-1\",\n          vinculos: [],\n        };\n      },\n    },\n    nodoRelevante: [Object],\n    todosNodos: Array,\n    centroVista: Object,\n    actualizar: Number,\n  },\n  methods: {\n    crearImagenTodosVinculos: function () {\n      if (this.todosNodos.length <= 1) return;\n\n      this.lapiz = this.$refs.canvasTodosVinculos.getContext(\"2d\");\n      //Calcular el tamaño del diagrama\n      let bordesCanvasTodosVinculos = {};\n\n      bordesCanvasTodosVinculos.top = this.todosNodos.reduce((acc, n) => {\n        return n.coordsManuales.y > acc ? n.coordsManuales.y : acc;\n      }, 0);\n      bordesCanvasTodosVinculos.bot = this.todosNodos.reduce((acc, n) => {\n        return n.coordsManuales.y < acc ? n.coordsManuales.y : acc;\n      }, 0);\n      bordesCanvasTodosVinculos.left = this.todosNodos.reduce((acc, n) => {\n        return n.coordsManuales.x < acc ? n.coordsManuales.x : acc;\n      }, 0);\n      bordesCanvasTodosVinculos.right = this.todosNodos.reduce((acc, n) => {\n        return n.coordsManuales.x > acc ? n.coordsManuales.x : acc;\n      }, 0);\n\n      let anchoDiagrama = parseInt(\n        bordesCanvasTodosVinculos.right - bordesCanvasTodosVinculos.left\n      );\n      let altoDiagrama = parseInt(\n        bordesCanvasTodosVinculos.top - bordesCanvasTodosVinculos.bot\n      );\n\n      if (anchoDiagrama > 5000 || altoDiagrama > 5000) {\n        console.log(`ALERTA. Diagrama demasiado grande`);\n      }\n\n      this.$set(\n        this.posicionCanvasTodosVinculos,\n        \"y\",\n        bordesCanvasTodosVinculos.bot\n      );\n      this.$set(\n        this.posicionCanvasTodosVinculos,\n        \"x\",\n        bordesCanvasTodosVinculos.left\n      );\n\n      this.posicionCanvasActivo = this.posicionCanvasTodosVinculos;\n\n      this.$set(this.sizeCanvasTodosVinculos, \"width\", anchoDiagrama + \"px\");\n      this.$set(this.sizeCanvasTodosVinculos, \"height\", altoDiagrama + \"px\");\n\n      this.lapiz.canvas.width = anchoDiagrama;\n      this.lapiz.canvas.height = altoDiagrama;\n\n      this.$refs.canvasVinculosSeleccionado.width = anchoDiagrama;\n      this.$refs.canvasVinculosSeleccionado.height = altoDiagrama;\n\n      this.lapiz.lineWidth = 1;\n      this.lapiz.clearRect(0, 0, anchoDiagrama, altoDiagrama);\n      this.lapiz.beginPath();\n      this.lapiz.strokeStyle = \"#b3b3b3\";\n\n      for (let nodo of this.todosNodos) {\n        for (let vinculo of nodo.vinculos) {\n          if (vinculo.rol == \"source\") {\n            this.dibujarLineaEntreNodos(\n              nodo,\n              this.todosNodos.find((nodo) => nodo.id == vinculo.idRef)\n            );\n          }\n        }\n      }\n      this.lapiz.stroke();\n    },\n    crearImagenVinculosSeleccionado: function () {\n      this.lapiz = this.$refs.canvasVinculosSeleccionado.getContext(\"2d\");\n      this.lapiz.clearRect(\n        0,\n        0,\n        this.lapiz.canvas.width,\n        this.lapiz.canvas.height\n      );\n\n      if (this.todosNodos.some((n) => n.id == this.nodoSeleccionado.id)) {\n        //Lineas verdes de posiblidades\n        this.lapiz.beginPath();\n        this.lapiz.lineWidth=2;\n        this.lapiz.strokeStyle = \"#008000\";\n\n        //Lineas verdes de salida\n        for (let vinculo of this.nodoSeleccionado.vinculos) {\n          if (!this.todosNodos.some((n) => n.id == vinculo.idRef)) {\n            console.log(`ALERTA. Vinculo a ${vinculo.idRef} huerfano`);\n            continue;\n          }\n          if (vinculo.rol == \"source\") {\n            let otroNodo = this.todosNodos.find((n) => n.id == vinculo.idRef);\n            this.dibujarLineaEntreNodos(this.nodoSeleccionado, otroNodo);\n          }\n        }\n        this.lapiz.stroke();\n        //Lineas rojas de dependencias\n\n        this.lapiz.beginPath();\n        this.lapiz.strokeStyle = \"#b80e0e\";\n        for (let vinculo of this.nodoSeleccionado.vinculos) {\n          if (!this.todosNodos.some((n) => n.id == vinculo.idRef)) {\n            console.log(`ALERTA. Vinculo a ${vinculo.idRef} huerfano`);\n            continue;\n          }\n          if (vinculo.rol == \"target\") {\n            let otroNodo = this.todosNodos.find((n) => n.id == vinculo.idRef);\n            this.dibujarLineaEntreNodos(otroNodo, this.nodoSeleccionado);\n          }\n        }\n        this.lapiz.stroke();\n      }\n    },\n    dibujarLineaEntreNodos(nodoFrom, nodoTo) {\n      let inicio = {\n        x: nodoFrom.coordsManuales.x - this.posicionCanvasActivo.x,\n        y: nodoFrom.coordsManuales.y - this.posicionCanvasActivo.y,\n      };\n      let final = {\n        x: nodoTo.coordsManuales.x - this.posicionCanvasActivo.x,\n        y: nodoTo.coordsManuales.y - this.posicionCanvasActivo.y,\n      };\n      \n      this.lapiz.moveTo(inicio.x, inicio.y);\n      this.lapiz.lineTo(final.x, final.y);\n      //ahora la flechita\n      let centro = {\n        x: (final.x + inicio.x) / 2,\n        y: (final.y + inicio.y) / 2,\n      };\n      let longitudAla = 7;\n      let anguloVinculo = Math.atan(\n        (final.y - inicio.y) / (final.x - inicio.x)\n      );\n      if (final.y - inicio.y < 0 && final.x - inicio.x < 0)\n        anguloVinculo += Math.PI;\n      if (final.y - inicio.y > 0 && final.x - inicio.x < 0)\n        anguloVinculo += Math.PI;\n      //anguloVinculo=anguloVinculo*180/Math.PI;\n\n      let puntaAlaIzquierda = {\n        x: centro.x + longitudAla * Math.cos(anguloVinculo - (3 * Math.PI) / 4),\n        y: centro.y + longitudAla * Math.sin(anguloVinculo - (3 * Math.PI) / 4),\n      };\n      let puntaAlaDerecha = {\n        x: centro.x + longitudAla * Math.cos(anguloVinculo + (3 * Math.PI) / 4),\n        y: centro.y + longitudAla * Math.sin(anguloVinculo + (3 * Math.PI) / 4),\n      };\n      this.lapiz.moveTo(centro.x, centro.y);\n      this.lapiz.lineTo(puntaAlaIzquierda.x, puntaAlaIzquierda.y);\n      this.lapiz.moveTo(centro.x, centro.y);\n      this.lapiz.lineTo(puntaAlaDerecha.x, puntaAlaDerecha.y);\n    },\n    trazarVinculosDeNodoRecursivamente(\n      idNodo,\n      rol,\n      nivelesRestantes,\n      blacklist\n    ) {\n      nivelesRestantes--;\n      let esteNodo = this.todosNodos.find((n) => n.id == idNodo);\n\n      for (let vinculo of esteNodo.vinculos) {\n        if (vinculo.rol != rol) continue;\n        let nodoRef = this.todosNodos.find((n) => n.id == vinculo.idRef);\n        if (!nodoRef) {\n          console.log(`ALERTA. idRef del vinculo no estaba entre los nodos`);\n          continue;\n        }\n        blacklist.push(nodoRef.id);\n        if (rol == \"target\") {\n          this.dibujarLineaEntreNodos(nodoRef, esteNodo);\n          blacklist.push(nodoRef.id);\n        } else if (rol == \"source\") {\n          this.dibujarLineaEntreNodos(esteNodo, nodoRef);\n        }\n        if (\n          nivelesRestantes > 0 &&\n          !blacklist.some((idN) => idN == nodoRef.id)\n        ) {\n          blacklist = this.trazarVinculosDeNodoRecursivamente(\n            nodoRef.id,\n            rol,\n            nivelesRestantes,\n            blacklist\n          );\n        }\n      }\n      return blacklist;\n    },\n  },\n  computed: {\n    posicionRelativaCanvasTodosVinculos() {\n      let top = this.posicionCanvasTodosVinculos.y - this.centroVista.y;\n      let left = this.posicionCanvasTodosVinculos.x - this.centroVista.x;\n      return {\n        top: top + \"px\",\n        left: left + \"px\",\n      };\n    },\n    posicionRelativaCanvasVinculosSeleccionado: function () {\n      let top = this.posicionCanvasVinculosSeleccionado.y - this.centroVista.y;\n      let left = this.posicionCanvasVinculosSeleccionado.x - this.centroVista.x;\n      return {\n        top: top + \"px\",\n        left: left + \"px\",\n      };\n    },\n    tamaño: function () {\n      return {\n        width: this.sizeDiagrama.right - this.sizeDiagrama.left + \"px\",\n        height: this.sizeDiagrama.top - this.sizeDiagrama.bot + \"px\",\n      };\n    },\n  },\n  watch: {\n    todosNodos: function () {\n      console.log(`Redibujando lineas`);\n      this.crearImagenTodosVinculos();\n      this.crearImagenVinculosSeleccionado();\n    },\n    nodoSeleccionado: function () {\n      this.crearImagenVinculosSeleccionado();\n    },\n  },\n  mounted() {\n    this.montado = true;\n    this.crearImagenTodosVinculos();\n      this.crearImagenVinculosSeleccionado();\n  },\n};\n</script>\n\n<style scoped>\n.canvas {\n  position: absolute;\n}\n#canvasVinculosSeleccionado {\n  border: 2px solid pink;\n}\n#canvasTodosVinculos {\n  z-index: 0;\n  border: 2px solid green;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvases.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvases.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvases.vue?vue&type=template&id=ae6b44f2&scoped=true&\"\nimport script from \"./Canvases.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvases.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Canvases.vue?vue&type=style&index=0&id=ae6b44f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ae6b44f2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    id=\"atlasConocimiento\"\n    @mousedown.left.shift.stop=\"panningVista = true\"\n    @click=\"idNodoMenuCx = '-1'\"\n    @click.exact=\"idNodoSeleccionado = '-1'\"\n    @mousemove=\"panVista($event)\"\n    @mouseup=\"panningVista = false\"\n    @dblclick.ctrl.shift.self.stop=\"crearNodo\"\n  >\n    <div id=\"contenedorNodos\">\n      <canvases\n        :todosNodos=\"todosNodos\"\n        :nodoSeleccionado=\"nodoSeleccionado\"\n        :centroVista=\"centroVista\"\n      />\n\n      <nodo-conocimiento\n        :nodoSeleccionado=\"nodoSeleccionado\"\n        :todosNodos=\"todosNodos\"\n        :idNodoMenuCx=\"idNodoMenuCx\"\n        :key=\"nodo.id\"\n        v-for=\"nodo of todosNodos\"\n        :esteNodo=\"nodo\"\n        :centroVista=\"centroVista\"\n        @click.native.stop=\"seleccionNodo(nodo)\"\n        @click.right.native.prevent=\"idNodoMenuCx = nodo.id\"\n        @creacionVinculo=\"crearVinculo\"\n        @eliminacionVinculo=\"eliminarVinculo\"\n        @cambioDePosicionManual=\"cambiarCoordsManualesNodo\"\n        @eliminar=\"eliminarNodo\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport NodoConocimiento from \"./atlasConocimiento/NodoConocimiento.vue\";\nimport Canvases from \"./atlasConocimiento/Canvases.vue\";\nexport default {\n  components: { NodoConocimiento, Canvases },\n  name: \"AtlasConocimiento\",\n  apollo: {\n    todosNodos: {\n      query: gql`\n        query {\n          todosNodos {\n            nombre\n            id\n            coordsManuales {\n              x\n              y\n            }\n            vinculos {\n              idRef\n              rol\n              tipo\n            }\n          }\n        }\n      `,\n      result: function () {\n        this.dibujarVinculosGrises();\n      },\n    },\n\n  },\n  data() {\n    return {\n      todosNodos: [],\n      idNodoSeleccionado: \"-1\",\n      idNodoMenuCx: \"-1\",\n      centroVista: {\n        x: 0,\n        y: 0,\n      },\n      actualizarTrazos: 0,\n      panningVista: false,\n      nodosConectadosAlSeleccionado: {\n        listaCompleta: [],\n        listaPorNiveles: [],\n      },\n      profundidadNodosConectadosAlSeleccionado: 1,\n      actualizarVinculosGrises: 0,\n    };\n  },\n  computed: {\n    nodoSeleccionado: function () {\n      if(!this.todosNodos){\n        console.log(`NO HAY NODOS`);\n        return false;\n      }\n      if (this.todosNodos.some((n) => n.id == this.idNodoSeleccionado)) {\n        let indexSeleccionado = this.todosNodos.findIndex(\n          (n) => n.id == this.idNodoSeleccionado\n        );\n        return this.todosNodos[indexSeleccionado];\n      }\n      return {\n        id: \"-1\",\n        vinculos: [],\n      };\n    },\n    idUsuario: function () {\n      return this.$store.state.usuario.id;\n    },\n  },\n  methods: {\n    cambiarCoordsManualesNodo(idNodo, coordsManuales) {\n      //Update optimista:\n      this.todosNodos[\n        this.todosNodos.findIndex((n) => n.id == idNodo)\n      ].coordsManuales = coordsManuales;\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idNodo: String, $coordsManuales: CoordsInput) {\n              setCoordsManuales(\n                idNodo: $idNodo\n                coordsManuales: $coordsManuales\n              ) {\n                modificados {\n                  id\n                  coordsManuales {\n                    x\n                    y\n                  }\n                }\n              }\n            }\n          `,\n          variables: {\n            idNodo,\n            coordsManuales,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(`Error: ${error}`);\n        });\n    },\n    eliminarNodo(idNodo) {\n      console.log(`enviando mutacion de eliminar nodo`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idNodo: ID!) {\n              eliminarNodo(idNodo: $idNodo)\n            }\n          `,\n          variables: {\n            idNodo,\n          },\n        })\n        .then((data) => {\n          console.log(`quitando el objeto del array. ${data}`);\n        });\n    },\n    crearNodo(e) {\n      console.log(`enviando una mutación de crear nodo`);\n      let posContenedor = document\n        .getElementById(\"contenedorNodos\")\n        .getBoundingClientRect();\n      let nuevoTop = Math.round(\n        e.clientY - posContenedor.top + this.centroVista.y\n      );\n      let nuevoLeft = Math.round(\n        e.clientX - posContenedor.left + this.centroVista.x\n      );\n\n      let infoNodo = {\n        coordsManuales: {\n          x: nuevoLeft,\n          y: nuevoTop,\n        },\n      };\n      console.log(`en las coordenadas: ${nuevoLeft}, ${nuevoTop} `);\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation($infoNodo: NodoConocimientoInput) {\n            crearNodo(infoNodo: $infoNodo) {\n              modificados {\n                nombre\n                id\n                coordsManuales {\n                  x\n                  y\n                }\n                vinculos {\n                  idRef\n                  rol\n                  tipo\n                }\n              }\n            }\n          }\n        `,\n        variables: {\n          infoNodo,\n        },\n      });\n    },\n    descargarCentroVista() {\n      let dis = this;\n      this.$apollo\n        .query({\n          query: gql`\n            query($idUsuario: ID!) {\n              publicUsuario(idUsuario: $idUsuario) {\n                id\n                atlas {\n                  centroVista {\n                    x\n                    y\n                  }\n                }\n              }\n            }\n          `,\n          variables: {\n            idUsuario: this.$store.state.usuario.id,\n          },\n        fetchPolicy:\"network-only\",          \n        })\n        .then(function ({ data }) {\n          console.log(`respuesta: ${JSON.stringify(data)} `);\n          let coords = data.usuario.atlas.centroVista;\n          dis.$set(dis.centroVista, \"x\", coords.x);\n          dis.$set(dis.centroVista, \"y\", coords.y);\n        })\n        .catch(function (error) {\n          console.log(`error: ${error}`);\n        });\n    },\n    panVista(e) {\n      if (!this.panningVista) {\n        return;\n      }\n      e.preventDefault();\n      this.$set(this.centroVista, \"x\", this.centroVista.x - e.movementX);\n      this.$set(this.centroVista, \"y\", this.centroVista.y - e.movementY);\n      this.actualizarTrazos++;\n      /*this.centroVista.x -= e.movementX;\n      this.centroVista.y -= e.movementY;\n      */\n    },\n    seleccionNodo(nodo) {\n      this.idNodoSeleccionado = nodo.id;\n      if (!this.todosNodos.some((n) => n.id == this.idNodoSeleccionado)) {\n        return null;\n      }\n\n      let profundidad = parseInt(this.profundidadNodosConectadosAlSeleccionado);\n      let listaPorNiveles = [];\n      let idNodoSel = this.idNodoSeleccionado;\n      let listaCompleta = [idNodoSel];\n      if (profundidad > 0) {\n        for (let i = 0; i < profundidad; i++) {\n          listaPorNiveles[i] = [];\n        }\n        ({\n          listaCompleta,\n          listaPorNiveles,\n        } = this.encontrarNodosConectadosRecursivamente(\n          idNodoSel,\n          [\"target\", \"source\"],\n          [\"continuacion\"],\n          listaCompleta,\n          listaPorNiveles,\n          0,\n          profundidad\n        ));\n      }\n      this.nodosConectadosAlSeleccionado = {\n        listaCompleta,\n        listaPorNiveles,\n      };\n    },\n    async eliminarVinculo(args) {\n      console.log(\n        `eliminando un vinculo entre ${args.idNodoFrom} y ${args.idNodoTo} `\n      );\n      await this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idNodoFrom: ID!, $idNodoTo: ID!) {\n              eliminarVinculoFromTo(\n                idSource: $idNodoFrom\n                idTarget: $idNodoTo\n              ) {\n                modificados {\n                  id\n                  vinculos {\n                    idRef\n                    tipo\n                    rol\n                  }\n                }\n              }\n            }\n          `,\n          variables: {\n            idNodoFrom: args.idNodoFrom,\n            idNodoTo: args.idNodoTo,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    dibujarVinculosGrises() {\n      this.actualizarVinculosGrises++;\n    },\n    async crearVinculo(args) {\n      console.log(`creando un vinculo ${JSON.stringify(args)} `);\n      await this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($tipo: String!, $idNodoFrom: ID!, $idNodoTo: ID!) {\n              crearVinculo(\n                tipo: $tipo\n                idSource: $idNodoFrom\n                idTarget: $idNodoTo\n              ) {\n                modificados {\n                  id\n                  vinculos {\n                    idRef\n                    rol\n                    tipo\n                  }\n                }\n              }\n            }\n          `,\n          variables: {\n            tipo: \"continuacion\",\n            idNodoFrom: args.idNodoFrom,\n            idNodoTo: args.idNodoTo,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    encontrarNodosConectadosRecursivamente(\n      idNodo,\n      roles,\n      tipos,\n      listaCompleta,\n      listaPorNiveles,\n      nivel,\n      profundidad\n    ) {\n      // Rol debe ser un array que incluye los roles validos en esta búsqueda.\n      // Tipo deber ser un array que incluye todos los tipos válidos en esta búsqueda\n      let nodo = this.todosNodos.find((n) => n.id == idNodo);\n      for (let vinculo of nodo.vinculos) {\n        if (\n          this.todosNodos.some((n) => n.id == vinculo.idRef) &&\n          roles.some((r) => r == vinculo.rol) &&\n          tipos.some((t) => t == vinculo.tipo) &&\n          !listaCompleta.some((idN) => idN == vinculo.idRef)\n        ) {\n          listaPorNiveles[nivel].push(vinculo.idRef);\n          listaCompleta.push(vinculo.idRef);\n\n          if (nivel + 1 < profundidad) {\n            ({\n              listaCompleta,\n              listaPorNiveles,\n            } = this.encontrarNodosConectadosRecursivamente(\n              vinculo.idRef,\n              roles,\n              tipos,\n              listaCompleta,\n              listaPorNiveles,\n              nivel + 1,\n              profundidad\n            ));\n          }\n        } else {\n          console.log(`No`);\n        }\n      }\n      return { listaCompleta, listaPorNiveles };\n    },\n  },\n  watch: {\n    nodoSeleccionado: function () {\n      this.actualizarTrazos++;\n    },\n    route:function(to){\n      console.log(`cambio de navegación a ${to.path}`);\n      //this.descargarCentroVista();\n    }\n  },\n  mounted() {\n    this.descargarCentroVista();\n  },\n  beforeRouteLeave(_, __, next) {\n    console.log(\n      `enviando nuevo centroVista para el usuario ${\n        this.$store.state.usuario.id\n      }. Centro vista: ${JSON.stringify(this.centroVista)}`\n    );\n    this.$apollo\n      .mutate({\n        mutation: gql`\n          mutation($idUsuario: ID, $centroVista: CoordsInput) {\n            setCentroVista(idUsuario: $idUsuario, centroVista: $centroVista)\n          }\n        `,\n        variables: {\n          idUsuario: this.$store.state.usuario.id,\n          centroVista: this.centroVista,\n        },\n      })\n      .then(function () {\n        next();\n      })\n      .catch(function (error) {\n        console.log(`error: ${error}`);\n        next();\n      });\n  },\n};\n</script>\n\n<style scoped>\n#atlasConocimiento {\n  position: relative;\n  overflow: hidden;\n}\n#canvases {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  pointer-events: none;\n}\n#contenedorNodos {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  overflow: hidden;\n  pointer-events: none;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AtlasConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AtlasConocimiento.vue?vue&type=template&id=28d51acc&scoped=true&\"\nimport script from \"./AtlasConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./AtlasConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AtlasConocimiento.vue?vue&type=style&index=0&id=28d51acc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28d51acc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"loginArea\"}},[_c('div',{attrs:{\"id\":\"ventanaCentral\"}},[_c('p',{attrs:{\"id\":\"tituloVentana\"}},[_vm._v(\"Iniciar sesion\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"inputs\",style:(_vm.colorUsername),attrs:{\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"Nombre de usuario\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"inputs\",style:(_vm.colorPassword),attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.iniciarSesion($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('br'),_c('br'),_c('button',{staticClass:\"botonEnviar\",on:{\"click\":function($event){$event.stopPropagation();return _vm.iniciarSesion($event)}}},[_vm._v(\"Conectarse\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"loginArea\">\n    <div id=\"ventanaCentral\">\n      <p id=\"tituloVentana\">Iniciar sesion</p>\n      <br>\n    <input\n      type=\"text\"\n      name=\"username\"\n      :style=\"colorUsername\"\n      v-model=\"username\"\n      placeholder=\"Nombre de usuario\"\n      class=\"inputs\"\n    />\n    <br>\n    <input\n      type=\"password\"\n      name=\"password\"\n      :style=\"colorPassword\"\n      v-model=\"password\"\n      placeholder=\"password\"\n      @keypress.enter=\"iniciarSesion\"\n      class=\"inputs\"\n    />\n    <br>\n    <br>\n    <button class=\"botonEnviar\" @click.stop=\"iniciarSesion\">Conectarse</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nvar charProhibidosUsername = /[^a-zA-Z0-9_]/g;\nvar charProhibidosPassword = /[^a-zA-Z0-9*@_-]/g;\nconst minPassword = 6;\nconst minUsername = 4;\n\nexport default {\n  name: \"LoginArea\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n    };\n  },\n  computed: {\n    usuarioConectado() {\n      return this.$store.state.usuario.username != null ? true : false;\n    },\n    nombreUsuario() {\n      return this.$store.state.usuario.username;\n    },\n    colorUsername() {\n      return {\n        color:\n          charProhibidosUsername.test(this.username) ||\n          this.username.length < minUsername\n            ? \"red\"\n            : \"black\",\n      };\n    },\n    colorPassword() {\n      return {\n        color:\n          charProhibidosPassword.test(this.password) ||\n          this.password.length < minPassword\n            ? \"red\"\n            : \"black\",\n      };\n    },\n  },\n  methods: {\n    iniciarSesion: function () {\n      //Validacion de caracteres\n      if (\n        charProhibidosUsername.test(this.username) ||\n        charProhibidosPassword.test(this.password) ||\n        this.password.length < minPassword ||\n        this.username.length < minUsername\n      )\n        return;\n      let dis = this;\n\n      axios\n        .post(this.serverUrl + \"/api/usuarios/login\", {\n          username: this.username,\n          password: this.password,\n        })\n        .then(function (respuesta) {\n          if (respuesta.data.username == dis.username) {\n            dis.$store.commit(\"logearse\", respuesta.data.token);\n            dis.$router.push(\"/miperfil\")\n          }\n        })\n        .catch(function (error) {\n          console.log(`error: ${error}`);\n          dis.$store.commit(\"deslogearse\");\n        });\n    },\n    deslogearse: function () {\n      //Logout en vuex y en apollo\n      this.$store.commit(\"deslogearse\");\n      /////////\n    },\n  },\n};\n</script>\n\n<style scoped>\n#tituloVentana{\n  font-size: 35px;\n  margin: 5px auto;\n  text-align: center;\n  font-family: sans-serif;\n}\n.inputs{\n  font-size: 20px;\n  margin-right: auto;\n  margin-left: auto;\n  margin-top: 15px;\n  display: block;\n  padding:5px;\n}\n#ventanaCentral{\n  margin: 5% auto;\n  padding:20px;\n  width: 50%;\n  min-width: 550px;\n  box-shadow:3px 3px grey, 3px 3px 3px 3px grey;\n  background-color: rgb(248, 248, 248);\n}\n.botonEnviar{\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  font-size: 20px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginArea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginArea.vue?vue&type=template&id=40d0f7d4&scoped=true&\"\nimport script from \"./LoginArea.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginArea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginArea.vue?vue&type=style&index=0&id=40d0f7d4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40d0f7d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"perfilPersonal\"},[_c('div',{attrs:{\"id\":\"categorias\"}},[_c('div',{staticClass:\"categorias\",on:{\"click\":function($event){_vm.seccion = _vm.categorias}}},[_vm._v(\" Datos personales \")]),_c('div',{staticClass:\"categorias\",on:{\"click\":function($event){_vm.seccion = _vm.contacto}}},[_vm._v(\" Información de contacto \")]),_c('div',{staticClass:\"categorias\",on:{\"click\":function($event){_vm.seccion = _vm.conocimientos}}},[_vm._v(\" Conocimientos \")])]),_c('div',{attrs:{\"id\":\"contenidos\"}},[_c('div',{staticClass:\"contenidos editables\",attrs:{\"id\":\"datosPersonales\"}},[_c('div',{staticClass:\"botonEditar hoverGris\",on:{\"click\":function($event){_vm.editandoDatosPersonales = _vm.editandoDatosPersonales ? false : true}}},[_vm._v(\" \"+_vm._s(_vm.editandoDatosPersonales ? \"Volver\" : \"Editar\")+\" \")]),_c('div',{attrs:{\"id\":\"fotografia\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.seleccionarFoto($event)}}},[_c('img',{attrs:{\"id\":\"laFotografia\",\"src\":_vm.serverUrl+'/api/usuarios/fotografias/'+_vm.yo.id,\"alt\":\"\"}}),_c('input',{ref:\"inputNuevaFoto\",attrs:{\"type\":\"file\",\"id\":\"inputNuevaFoto\"},on:{\"change\":_vm.subirNuevaFoto}})]),_c('div',{attrs:{\"id\":\"textosDatosPersonales\"}},[(!_vm.editandoDatosPersonales)?[_c('div',{staticClass:\"nombreApellido\",attrs:{\"id\":\"miNombre\"}},[_vm._v(_vm._s(_vm.yo.nombres))]),_c('div',{staticClass:\"nombreApellido\",attrs:{\"id\":\"miApellido\"}},[_vm._v(_vm._s(_vm.yo.apellidos))]),_c('br'),_c('div',{attrs:{\"id\":\"miEdad\"}},[_vm._v(_vm._s(_vm.yo.edad)+\" años\")])]:[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.edicionDatosPersonales.nombres),expression:\"edicionDatosPersonales.nombres\"}],attrs:{\"type\":\"text\",\"name\":\"nombres\",\"placeholder\":\"Nombres\"},domProps:{\"value\":(_vm.edicionDatosPersonales.nombres)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.edicionDatosPersonales, \"nombres\", $event.target.value)}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.edicionDatosPersonales.apellidos),expression:\"edicionDatosPersonales.apellidos\"}],attrs:{\"type\":\"text\",\"name\":\"apellidos\",\"placeholder\":\"Apellidos\"},domProps:{\"value\":(_vm.edicionDatosPersonales.apellidos)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.edicionDatosPersonales, \"apellidos\", $event.target.value)}}}),_c('br'),_c('br'),_c('label',{attrs:{\"for\":\"fechaNacimiento\"}},[_vm._v(\"Fecha de nacimiento\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.edicionDatosPersonales.fechaNacimiento),expression:\"edicionDatosPersonales.fechaNacimiento\"}],attrs:{\"type\":\"date\",\"name\":\"fechaNacimiento\"},domProps:{\"value\":(_vm.edicionDatosPersonales.fechaNacimiento)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.edicionDatosPersonales, \"fechaNacimiento\", $event.target.value)}}}),_c('br'),_c('button',{on:{\"click\":_vm.enviarDatosPersonales}},[_vm._v(\"Enviar\")])]],2)]),_c('div',{staticClass:\"contenidos editables\",attrs:{\"id\":\"informacionContacto\"}},[_c('div',{staticClass:\"botonEditar hoverGris\",on:{\"click\":function($event){_vm.editandoDatosContacto = _vm.editandoDatosContacto ? false : true}}},[_vm._v(\" \"+_vm._s(_vm.editandoDatosContacto ? \"Volver\" : \"Editar\")+\" \")]),(!_vm.editandoDatosContacto)?[_c('div',{attrs:{\"id\":\"miResidencia\"}},[_vm._v(\"Residencia: \"+_vm._s(_vm.yo.lugarResidencia))]),_c('div',{attrs:{\"id\":\"miEmail\"}},[_vm._v(\"Correo electrónico: \"+_vm._s(_vm.yo.email))]),_c('div',{attrs:{\"id\":\"miTelefono\"}},[_vm._v(\"Mi número telefónico: \"+_vm._s(_vm.yo.numeroTel))])]:[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.edicionDatosContacto.lugarResidencia),expression:\"edicionDatosContacto.lugarResidencia\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Residencia\"},domProps:{\"value\":(_vm.edicionDatosContacto.lugarResidencia)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.edicionDatosContacto, \"lugarResidencia\", $event.target.value)}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.edicionDatosContacto.email),expression:\"edicionDatosContacto.email\"}],attrs:{\"type\":\"email\",\"placeholder\":\"Correo electronico\"},domProps:{\"value\":(_vm.edicionDatosContacto.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.edicionDatosContacto, \"email\", $event.target.value)}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.edicionDatosContacto.numeroTel),expression:\"edicionDatosContacto.numeroTel\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Número telefónico\"},domProps:{\"value\":(_vm.edicionDatosContacto.numeroTel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.edicionDatosContacto, \"numeroTel\", $event.target.value)}}}),_c('br'),_c('button',{on:{\"click\":_vm.enviarDatosContacto}},[_vm._v(\"Enviar\")])]],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var charProhibidos = /[^ a-zA-ZÀ-ž0-9_():.,-]/g;\nvar charProhibidosNombre = /[^ a-zA-ZÀ-ž]/g;\nvar charProhibidosNumeroTel = /[^0-9+-]/g;\nvar emailChars = /\\S+@\\S+\\.\\S+/;\nvar dateChars = /[12][90][0-9][0-9]-[01][0-9]-[0-3][0-9]/;\n\nexport const validarDatosUsuario = function (datosUsuario) {\n    var errores = [];\n\n    for (let dato in datosUsuario) {\n\n        if(!datosUsuario[dato]){\n            errores.push(`El dato ${dato} no tenia valor`);\n            return errores;\n        }\n        \n        datosUsuario[dato]=datosUsuario[dato].trim();\n\n        if (dato == \"nombres\") {\n            if (datosUsuario.nombres.length < 2) {\n                errores.push(\"Tu nombre es muy corto\");\n            }\n            if (charProhibidosNombre.test(datosUsuario.nombres)) {\n                errores.push(\"Tu nombre contiene caracteres no permitidos\");\n            }\n        }\n        else if (dato == \"apellidos\") {\n            if (datosUsuario.apellidos.length < 2) {\n                errores.push(\"Tu apellido es muy corto\");\n            }\n            if (charProhibidosNombre.test(datosUsuario.apellidos)) {\n                errores.push(\"Tu apellido contiene caracteres no permitidos\");\n            }\n        }\n\n        else if (dato == \"fechaNacimiento\") {\n            if (!dateChars.test(datosUsuario.fechaNacimiento)) {\n                errores.push(\"Tu fecha de nacimiento es incorrecta\");\n            }\n        }\n\n        else if (dato == \"email\") {\n            if (datosUsuario.email.length > 0 && !emailChars.test(datosUsuario.email)) {\n                errores.push(\"Tu e-mail no es válido\");\n            }\n        }\n\n        else if (dato == \"numeroTel\") {\n            if (charProhibidosNumeroTel.test(datosUsuario.numeroTel)) {\n                errores.push(\"Tu número telefónico no es válido\");\n            }\n        }\n\n        else if (dato == \"lugarResidencia\") {\n            if (datosUsuario.lugarResidencia.length < 2) {\n                errores.push(\"Tu lugar de residencia es muy corto\");\n            }\n            if (charProhibidos.test(datosUsuario.lugarResidencia)) {\n                errores.push(\n                    \"Tu lugar de residencia contiene caracteres no permitidos\"\n                );\n            }\n        }\n        else if (dato == \"username\") {\n            if (datosUsuario.username.length < 4) {\n                errores.push(\"Tu nombre de usuario es muy corto\");\n            }\n            if (charProhibidos.test(datosUsuario.username)) {\n                errores.push(\"Tu nombre de usuario contiene caracteres no permitidos\");\n            }\n        }\n        else if (dato == \"password\") {\n            if (datosUsuario.password.length < 6 || datosUsuario.password.length > 32) {\n                errores.push(\"Tu contraseña debe contener entre 6 y 32 caracteres\");\n            }\n        }\n        else {\n            errores.push(`El dato ${dato} no tenía lǵica de validación`);\n        }\n    }\n\n    return errores;\n}","<template>\n  <div class=\"perfilPersonal\">\n    <div id=\"categorias\">\n      <div class=\"categorias\" @click=\"seccion = categorias\">\n        Datos personales\n      </div>\n      <div class=\"categorias\" @click=\"seccion = contacto\">\n        Información de contacto\n      </div>\n      <div class=\"categorias\" @click=\"seccion = conocimientos\">\n        Conocimientos\n      </div>\n    </div>\n    <div id=\"contenidos\">\n      <div class=\"contenidos editables\" id=\"datosPersonales\">\n        <div\n          class=\"botonEditar hoverGris\"\n          @click=\"\n            editandoDatosPersonales = editandoDatosPersonales ? false : true\n          \"\n        >\n          {{ editandoDatosPersonales ? \"Volver\" : \"Editar\" }}\n        </div>\n        <div id=\"fotografia\" @click.self=\"seleccionarFoto\">\n          <img id=\"laFotografia\" :src=\"serverUrl+'/api/usuarios/fotografias/'+yo.id\" alt=\"\">\n          <input\n            type=\"file\"\n            id=\"inputNuevaFoto\"\n            ref=\"inputNuevaFoto\"\n            @change=\"subirNuevaFoto\"\n          />\n        </div>\n        <div id=\"textosDatosPersonales\">\n          <template v-if=\"!editandoDatosPersonales\">\n            <div class=\"nombreApellido\" id=\"miNombre\">{{ yo.nombres }}</div>\n            <div class=\"nombreApellido\" id=\"miApellido\">{{ yo.apellidos }}</div>\n            <br />\n            <div id=\"miEdad\">{{ yo.edad }} años</div>\n          </template>\n          <template v-else>\n            <input\n              v-model=\"edicionDatosPersonales.nombres\"\n              type=\"text\"\n              name=\"nombres\"\n              placeholder=\"Nombres\"\n            /><br />\n            <input\n              v-model=\"edicionDatosPersonales.apellidos\"\n              type=\"text\"\n              name=\"apellidos\"\n              placeholder=\"Apellidos\"\n            /><br /><br />\n            <label for=\"fechaNacimiento\">Fecha de nacimiento</label><br />\n            <input\n              v-model=\"edicionDatosPersonales.fechaNacimiento\"\n              type=\"date\"\n              name=\"fechaNacimiento\"\n            /><br />\n            <button @click=\"enviarDatosPersonales\">Enviar</button>\n          </template>\n        </div>\n      </div>\n\n      <div class=\"contenidos editables\" id=\"informacionContacto\">\n        <div\n          class=\"botonEditar hoverGris\"\n          @click=\"editandoDatosContacto = editandoDatosContacto ? false : true\"\n        >\n          {{ editandoDatosContacto ? \"Volver\" : \"Editar\" }}\n        </div>\n        <template v-if=\"!editandoDatosContacto\">\n          <div id=\"miResidencia\">Residencia: {{ yo.lugarResidencia }}</div>\n          <div id=\"miEmail\">Correo electrónico: {{ yo.email }}</div>\n          <div id=\"miTelefono\">Mi número telefónico: {{ yo.numeroTel }}</div>\n        </template>\n        <template v-else>\n          <input\n            v-model=\"edicionDatosContacto.lugarResidencia\"\n            type=\"text\"\n            placeholder=\"Residencia\"\n          /><br />\n          <input\n            v-model=\"edicionDatosContacto.email\"\n            type=\"email\"\n            placeholder=\"Correo electronico\"\n          /><br />\n          <input\n            v-model=\"edicionDatosContacto.numeroTel\"\n            type=\"text\"\n            placeholder=\"Número telefónico\"\n          /><br />\n          <button @click=\"enviarDatosContacto\">Enviar</button>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport { validarDatosUsuario } from \"./utilidades/validacionDatosUsuario\";\nimport axios from \"axios\"\n\nconst fragmentoDatosPersonales = gql`\n  fragment DatosPersonales on Usuario {\n    nombres\n    apellidos\n    fechaNacimiento\n    edad\n  }\n`;\n\nconst fragmentoDatosContacto = gql`\n  fragment DatosContacto on Usuario {\n    lugarResidencia\n    email\n    numeroTel\n  }\n`;\n\nexport default {\n  name: \"PerfilPersonal\",\n  apollo: {\n    yo: {\n      query: gql`\n        query {\n          yo {\n            id\n            nombres\n            apellidos\n            fechaNacimiento\n            edad\n            lugarResidencia\n            numeroTel\n            email\n            username\n            nodosConocimiento {\n              nodoConocimiento {\n                id\n                nombre\n              }\n            }\n          }\n        }\n      `,\n      fetchPolicy: \"network-only\",\n    },\n  },\n  data() {\n    return {\n      yo: {\n        id: null,\n        nombres: null,\n        apellidos: null,\n        fechaNacimiento: null,\n        email: null,\n        edad: null,\n        fotografia: null,\n        lugarResidencia: null,\n        username: null,\n        misNodos: [],\n      },\n      editandoDatosPersonales: false,\n      editandoDatosContacto: false,\n    };\n  },\n  computed: {\n    edicionDatosPersonales: function () {\n      return {\n        nombres: this.yo.nombres,\n        apellidos: this.yo.apellidos,\n        fechaNacimiento: this.yo.fechaNacimiento.substr(0, 10),\n      };\n    },\n    edicionDatosContacto: function () {\n      return {\n        lugarResidencia: this.yo.lugarResidencia,\n        email: this.yo.email,\n        numeroTel: this.yo.numeroTel,\n      };\n    },\n  },\n  methods: {\n    subirNuevaFoto() {\n      let inputFoto = this.$refs.inputNuevaFoto;\n      var datos = new FormData();\n      const nuevaFoto = inputFoto.files[0];\n      const fileType = nuevaFoto[\"type\"];\n      const validImageTypes = [\"image/jpeg\", \"image/png\"];\n      if (!validImageTypes.includes(fileType)) {\n        console.log(`Archivo ilegal`);\n        return;\n      }\n      datos.append(\"nuevaFoto\", nuevaFoto);\n      //console.log(`enviando nuevo icono con datos: : `);\n      axios({\n        method:'post',\n        url: this.serverUrl+ \"/api/usuarios/updateFoto\",\n        data: datos,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          \"Authorization\": \"Bearer \"+this.$store.state.token\n        },\n        success: function (resp) {\n          console.log(`respuesta: ${JSON.stringify(resp)}`);\n          //resp=JSON.parse(resp);\n        },\n        error: function (xhr, ajaxOptions, thrownError) {\n          console.log(\n            \"errores: \" + xhr + \"**\" + ajaxOptions + \"**\" + thrownError\n          );\n        },\n      });\n    },\n    enviarDatosPersonales() {\n      let dis = this;\n      console.log(`Enviando nuevos datos personales`);\n      let errores = validarDatosUsuario(this.edicionDatosPersonales);\n      if (errores.length < 1) {\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation($nuevosDatos: DatosEditablesUsuario) {\n                editarDatosUsuario(nuevosDatos: $nuevosDatos) {\n                  id\n                  ...DatosPersonales\n                }\n              }\n              ${fragmentoDatosPersonales}\n            `,\n            variables: {\n              nuevosDatos: this.edicionDatosPersonales,\n            },\n          })\n          .then(() => {\n            console.log(`Datos correctamente editados`);\n            dis.editandoDatosPersonales = false;\n          })\n          .catch((error) => {\n            console.log(`Error: ${error}`);\n          });\n      } else {\n        console.log(`Errores: ${errores}`);\n      }\n    },\n    enviarDatosContacto() {\n      let dis = this;\n      console.log(\n        `Enviando nuevos datos contacto: ${JSON.stringify(\n          this.edicionDatosContacto\n        )}`\n      );\n      let errores = validarDatosUsuario(this.edicionDatosContacto);\n      if (errores.length < 1) {\n        this.$apollo\n          .mutate({\n            mutation: gql`\n              mutation($nuevosDatos: DatosEditablesUsuario) {\n                editarDatosUsuario(nuevosDatos: $nuevosDatos) {\n                  id\n                  ...DatosContacto\n                }\n              }\n              ${fragmentoDatosContacto}\n            `,\n            variables: {\n              nuevosDatos: this.edicionDatosContacto,\n            },\n          })\n          .then(() => {\n            console.log(`Datos correctamente editados`);\n            dis.editandoDatosContacto = false;\n          })\n          .catch((error) => {\n            console.log(`Error: ${error}`);\n          });\n      } else {\n        console.log(`Errores: ${errores}`);\n      }\n    },\n    seleccionarFoto() {\n      this.$refs.inputNuevaFoto.click();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.perfilPersonal {\n  display: grid;\n  grid-template-columns: 250px 1fr;\n}\n\n#categorias {\n  grid-column: 1/2;\n  background-color: burlywood;\n}\n.categorias {\n  font-size: 18px;\n  padding: 10px 10px;\n  cursor: pointer;\n}\n.categorias:hover {\n  background-color: cornsilk;\n}\n#contenidos {\n  grid-column: 2/3;\n  background-color: cornsilk;\n  padding-top: 20px;\n  padding-left: 50px;\n  padding-right: 50px;\n}\n.inputsTexto {\n  font-size: 18px;\n}\n\n.contenidos {\n  padding: 10px;\n  border: 2px solid black;\n  border-radius: 5px;\n}\n\n#datosPersonales {\n  display: flex;\n}\n\n#fotografia {\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n  background-color: rgb(190, 190, 190);\n  position: relative;\n  margin-bottom: 15px;\n  margin-right: 25px;\n}\n\n#laFotografia{\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  pointer-events: none;\n}\n\n#textosDatosPersonales {\n  padding: 15px 20px;\n}\n\n#miUsername {\n  position: absolute;\n  top: 105%;\n  text-align: center;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.nombreApellido {\n  font-size: 18px;\n}\n\n.editables {\n  position: relative;\n}\n.botonEditar {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  padding: 5px 10px;\n  cursor: pointer;\n}\n#inputNuevaFoto {\n  display: none;\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerfilPersonal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PerfilPersonal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PerfilPersonal.vue?vue&type=template&id=27522ce0&scoped=true&\"\nimport script from \"./PerfilPersonal.vue?vue&type=script&lang=js&\"\nexport * from \"./PerfilPersonal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PerfilPersonal.vue?vue&type=style&index=0&id=27522ce0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27522ce0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"visorNodoConocimiento\"}},[_c('div',{attrs:{\"id\":\"layout\"}},[_c('div',{attrs:{\"id\":\"barraLateral\"}}),_c('iframe',{attrs:{\"id\":\"visor\",\"src\":_vm.direccionNodo}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"visorNodoConocimiento\">\n    <div id=\"layout\">\n      <div id=\"barraLateral\"></div>\n      <iframe id=\"visor\" :src=\"direccionNodo\"></iframe>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"VisorNodoConocimiento\",\n  computed: {\n    direccionNodo: function () {\n      return (\n        process.env.VUE_APP_DATA_SERVER_ADD +\n        \"/atlas/contenidosNodos/\" +\n        this.$route.params.idNodo\n      );\n    },\n  },\n  mounted() {\n    console.log(`data server addres:: ${process.env.VUE_APP_DATA_SERVER_ADD}`);\n  },\n};\n</script>\n\n<style scoped>\n#layout {\n  width: 100%;\n  height: 100%;\n\n  display: grid;\n  grid-template-columns: 250px 1fr;\n}\n\n#barraLateral {\n  grid-column: 1/2;\n}\n\n#visor {\n  grid-column: 2/3;\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisorNodoConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisorNodoConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VisorNodoConocimiento.vue?vue&type=template&id=2324a55e&scoped=true&\"\nimport script from \"./VisorNodoConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./VisorNodoConocimiento.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VisorNodoConocimiento.vue?vue&type=style&index=0&id=2324a55e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2324a55e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"proyectos\"}},[_c('center',[_c('h3',[_vm._v(\"Proyectos\")])]),_c('div',{attrs:{\"id\":\"controles\"}},[(_vm.username)?_c('div',{staticClass:\"controles hoverGris\",attrs:{\"id\":\"crearProyecto\"},on:{\"click\":_vm.crearNuevoProyecto}},[_vm._v(\" Crear nuevo proyecto \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaProyectos\"}},_vm._l((_vm.proyectos),function(proyecto){return _c('icono-proyecto',{key:proyecto.id,attrs:{\"esteProyecto\":proyecto},on:{\"cambioDeNombre\":_vm.cambiarNombreProyecto}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoProyecto\",class:{ proyectoPropio: _vm.usuarioResponsableProyecto },on:{\"dblclick\":_vm.navegarAlProyecto}},[_c('p',{ref:\"nombre\",attrs:{\"id\":\"nombre\",\"contenteditable\":_vm.permisosEdicion},on:{\"blur\":_vm.guardarNombre,\"input\":_vm.setNombreEditandose,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.blurNombre($event)},\"dblclick\":function($event){$event.stopPropagation();}}},[_vm._v(\" \"+_vm._s(_vm.esteProyecto.nombre)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"iconoProyecto\"\n    :class=\"{ proyectoPropio: usuarioResponsableProyecto }\"\n    @dblclick=\"navegarAlProyecto\"\n  >\n    <p\n      id=\"nombre\"\n      ref=\"nombre\"\n      :contenteditable=\"permisosEdicion\"\n      @blur=\"guardarNombre\"\n      @input=\"setNombreEditandose\"\n      @keypress.enter=\"blurNombre\"\n      @dblclick.stop=\"\"\n    >\n      {{ esteProyecto.nombre }}\n    </p>\n  </div>\n</template>\n\n<script>\nvar charProhibidosNombreProyecto = /[^ a-zA-ZÀ-ž0-9_():.,-]/g;\n\nexport default {\n  name: \"IconoProyecto\",\n  props: {\n    esteProyecto: Object,\n  },\n  data() {\n    return {\n      nombreEditandose: false,\n    };\n  },\n  computed: {\n    usuario: function () {\n      return this.$store.state.usuario;\n    },\n    usuarioResponsableProyecto: function () {\n      if (!this.esteProyecto.responsables) return false;\n\n      if (this.esteProyecto.responsables.some((r) => r.id == this.usuario.id)) {\n        return true;\n      }\n      return false;\n    },\n    permisosEdicion: function () {\n      if (\n        this.usuarioResponsableProyecto ||\n        this.$store.state.usuario.permisos == \"superadministrador\"\n      ) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    guardarNombre() {\n      console.log(`guardando nombre`);\n      let nuevoNombre = this.$refs.nombre.innerHTML.trim();\n      let idProyecto = this.esteProyecto.id;\n\n      if (!this.nombreEditandose || nuevoNombre == this.esteProyecto.nombre) {\n        return;\n      }\n      console.log(`guardando nombres`);\n\n      nuevoNombre = nuevoNombre.replace(charProhibidosNombreProyecto, \"\");\n      nuevoNombre = nuevoNombre.replace(/\\s\\s+/g, \" \");\n\n      this.$emit(\"cambioDeNombre\", { idProyecto, nuevoNombre });\n\n      this.nombreEditandose = false;\n    },\n    setNombreEditandose() {\n      if (this.esteProyecto.nombre != this.$refs.nombre.innerHTML.trim()) {\n        this.nombreEditandose = true;\n      } else {\n        this.nombreEditandose = false;\n      }\n    },\n    blurNombre() {\n      this.$refs.nombre.blur();\n    },\n    navegarAlProyecto(){\n      this.$router.push(\"/proyecto/\"+this.esteProyecto.id)\n    }\n  },\n};\n</script>\n\n<style scoped>\n.iconoProyecto {\n  width: 160px;\n  height: 200px;\n  margin: 15px;\n  box-shadow: 2px 2px 2px 2px rgb(190, 190, 190);\n  cursor: pointer;\n  box-sizing: border-box;\n  padding: 1px 5px;\n}\n.iconoProyecto:hover {\n  box-shadow: 2px 2px 2px 2px grey;\n}\n#nombre {\n  text-align: center;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n.proyectoPropio {\n  border-bottom: 2px solid purple;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoProyecto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoProyecto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoProyecto.vue?vue&type=template&id=b67c2b02&scoped=true&\"\nimport script from \"./IconoProyecto.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoProyecto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoProyecto.vue?vue&type=style&index=0&id=b67c2b02&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b67c2b02\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"proyectos\">\n    <center><h3>Proyectos</h3></center>\n    <div id=\"controles\">\n      <div v-if=\"username\" id=\"crearProyecto\" class=\"controles hoverGris\" @click=\"crearNuevoProyecto\">\n        Crear nuevo proyecto\n      </div>\n    </div>\n    <div id=\"listaProyectos\">\n      <icono-proyecto\n        v-for=\"proyecto of proyectos\"\n        :key=\"proyecto.id\"\n        :esteProyecto=\"proyecto\"\n        @cambioDeNombre=\"cambiarNombreProyecto\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport IconoProyecto from \"./proyectos/IconoProyecto.vue\";\n\nexport default {\n  components: { IconoProyecto },\n  name: \"Proyectos\",\n  apollo: {\n    proyectos: {\n      query: gql`\n        query {\n          proyectos {\n            id\n            nombre\n            responsables {\n              id\n              username\n            }\n          }\n        }\n      `,\n      update:function({proyectos}){\n        return proyectos.sort((a, b)=>{\n          let res=0;\n          if(a.responsables.some(r=>r.id==this.$store.state.usuario.id)){\n            res--;\n          }\n          if(b.responsables.some(r=>r.id==this.$store.state.usuario.id)){\n            res++;\n          }\n          return res;\n        })\n      }\n    },\n  },\n  data() {\n    return {\n      proyectos: [],\n    };\n  },\n  methods:{\n    cambiarNombreProyecto({idProyecto, nuevoNombre}){\n      console.log(`cambiando nombre de un proyecto a ${nuevoNombre}`);\n        this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $nuevoNombre: String!) {\n              editarNombreProyecto(idProyecto: $idProyecto, nuevoNombre: $nuevoNombre){\n                  id\n                  nombre\n              }                               \n            }\n          `,\n          variables: {\n            idProyecto,\n            nuevoNombre,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    crearNuevoProyecto(){\n      this.$apollo.mutate({\n        mutation: gql`\n          mutation{\n            crearProyecto{\n              id\n              nombre\n              responsables{\n                username\n              }\n            }\n          }\n        `,\n      }).then(()=>{\n\n      }).catch(()=>{\n\n      });\n    }\n  },\n  computed:{\n    username:function(){\n      return this.$store.state.usuario.username;\n    }\n  }\n\n};\n</script>\n\n<style scoped>\n#listaProyectos {\n  display: flex;\n  padding-left: 30px;\n  padding-right: 30px;\n}\n\n#controles {\n  display: flex;\n}\n.controles {\n  padding: 5px;\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyectos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyectos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Proyectos.vue?vue&type=template&id=5688c6b6&scoped=true&\"\nimport script from \"./Proyectos.vue?vue&type=script&lang=js&\"\nexport * from \"./Proyectos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Proyectos.vue?vue&type=style&index=0&id=5688c6b6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5688c6b6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"proyecto\"},[_c('div',{attrs:{\"id\":\"nombreProyecto\"}},[_vm._v(_vm._s(_vm.esteProyecto.nombre))]),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaResponsables\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Responsables\")]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesResponsables\"}},[(_vm.usuarioLogeado == true && _vm.esteProyecto.responsables.length < 1)?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",attrs:{\"id\":\"asumirResponsable\"},on:{\"click\":_vm.asumirComoResponsable}},[_vm._v(\" Asumir \")]):_vm._e(),(\n          _vm.usuarioLogeado &&\n          !_vm.usuarioResponsableProyecto &&\n          !_vm.usuarioPosibleResponsableProyecto &&\n          _vm.esteProyecto.responsables.length > 0\n        )?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",attrs:{\"id\":\"botonAddResponsable\"},on:{\"click\":_vm.entrarListaPosiblesResponsables}},[_vm._v(\" Quiero hacerme responsable \")]):_vm._e(),(_vm.usuarioLogeado == true && (_vm.usuarioResponsableProyecto == true || _vm.usuarioPosibleResponsableProyecto==true))?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",on:{\"click\":_vm.abandonarListaResponsables}},[_vm._v(\" Abandonar \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaResponsables\"}},[_vm._l((_vm.esteProyecto.responsables),function(persona){return _c('icono-persona',{key:persona.id,attrs:{\"estaPersona\":persona,\"aceptado\":true}})}),_vm._l((_vm.esteProyecto.posiblesResponsables),function(persona){return _c('icono-persona',{key:persona.id,staticClass:\"personaPosibleResponsable\",attrs:{\"estaPersona\":persona,\"aceptado\":false},nativeOn:{\"dblclick\":function($event){if(!$event.shiftKey){ return null; }return _vm.aceptarResponsable(persona.id)}}})})],2)]),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaObjetivos\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Objetivos\")]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesObjetivos\"}},[(_vm.usuarioResponsableProyecto)?_c('div',{staticClass:\"controlesObjetivos botonesControles hoverGris\",on:{\"click\":_vm.crearNuevoObjetivo}},[_vm._v(\" Crear objetivo \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaObjetivos\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.idObjetivoSeleccionado = null}}},_vm._l((_vm.esteProyecto.objetivos),function(objetivo){return _c('iconoObjetivo',{key:objetivo.id,attrs:{\"esteObjetivo\":objetivo,\"idObjetivoSeleccionado\":_vm.idObjetivoSeleccionado,\"permisosEdicion\":_vm.permisosEdicion},on:{\"eliminandose\":_vm.eliminarObjetivo,\"cambiandoNombre\":_vm.cambiarNombreObjetivo,\"cambiandoDescripcion\":_vm.cambiarDescripcionObjetivo},nativeOn:{\"click\":function($event){_vm.idObjetivoSeleccionado = objetivo.id}}})}),1)]),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaTrabajos\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Trabajos:\")]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesTrabajos\"}},[(_vm.usuarioResponsableProyecto)?_c('div',{staticClass:\"controlesTrabajos hoverGris botonesControles\",on:{\"click\":_vm.crearNuevoTrabajo}},[_vm._v(\" Crear trabajo \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaTrabajos\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.idTrabajoSeleccionado = null}}},_vm._l((_vm.esteProyecto.trabajos),function(trabajo){return _c('iconoTrabajo',{key:trabajo.id,class:{opacar: (_vm.idTrabajoSeleccionado!=null && _vm.idTrabajoSeleccionado != trabajo.id)},attrs:{\"esteTrabajo\":trabajo,\"idEsteProyecto\":_vm.esteProyecto.id,\"idTrabajoSeleccionado\":_vm.idTrabajoSeleccionado,\"permisosEdicion\":_vm.permisosEdicion,\"usuarioLogeado\":_vm.usuarioLogeado,\"usuarioResponsableProyecto\":_vm.usuarioResponsableProyecto},on:{\"eliminandose\":_vm.eliminarTrabajo,\"cambiandoNombre\":_vm.cambiarNombreTrabajo,\"cambiandoDescripcion\":_vm.cambiarDescripcionTrabajo},nativeOn:{\"click\":function($event){_vm.idTrabajoSeleccionado = trabajo.id}}})}),1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoTrabajo\",class:{ trabajoSeleccionado: _vm.seleccionado }},[_c('div',{ref:\"nombre\",attrs:{\"id\":\"nombre\",\"contenteditable\":_vm.permisosEdicion == true && _vm.seleccionado == true},on:{\"blur\":_vm.guardarNombre,\"input\":_vm.setNombreEditandose,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.blurNombre($event)}}},[_vm._v(\" \"+_vm._s(_vm.esteTrabajo.nombre)+\" \")]),_c('img',{attrs:{\"src\":\"iconos/iconoTrabajo.png\",\"alt\":\"\",\"id\":\"imagenIcono\"}}),(_vm.seleccionado)?[_c('div',{attrs:{\"id\":\"zonaDescripcion\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Descripcion\")]),_c('div',{ref:\"descripcion\",attrs:{\"id\":\"descripcion\",\"contenteditable\":_vm.permisosEdicion == true && _vm.seleccionado == true},on:{\"blur\":_vm.guardarDescripcion,\"input\":_vm.setDescripcionEditandose,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.blurDescripcion($event)}}},[_vm._v(\" \"+_vm._s(_vm.esteTrabajo.descripcion)+\" \")])]),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaResponsables\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Responsables\")]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesResponsables\"}},[(_vm.usuarioLogeado == true && _vm.usuarioResponsableTrabajo == false)?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",attrs:{\"id\":\"botonParticipar\"},on:{\"click\":_vm.asumirComoResponsable}},[_vm._v(\" Participar \")]):_vm._e(),(_vm.usuarioResponsableTrabajo == true)?_c('div',{staticClass:\"controlesResponsables hoverGris botonesControles\",on:{\"click\":_vm.abandonarListaResponsables}},[_vm._v(\" Abandonar \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaResponsables\"}},_vm._l((_vm.esteTrabajo.responsables),function(persona){return _c('icono-persona',{key:persona.id,attrs:{\"estaPersona\":persona,\"aceptado\":true}})}),1)]),_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaNodosConocimiento\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Nodos de conocimiento involucrados\")]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesNodosConocimiento\"}},[(_vm.usuarioResponsableProyecto == true)?_c('div',{staticClass:\"controlesNodosConocimiento hoverGris botonesControles\"},[_vm._v(\" Añadir \")]):_vm._e(),(_vm.usuarioResponsableProyecto == true && _vm.idNodoSeleccionado!=null && _vm.esteTrabajo.nodosConocimiento.some(function (n){ return n.id==_vm.idNodoSeleccionado; }))?_c('div',{staticClass:\"controlesNodosConocimiento hoverGris botonesControles\"},[_vm._v(\" Remover \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaNodosConocimiento\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.idNodoSeleccionado=null}}},[_vm._l((_vm.esteTrabajo.nodosConocimiento),function(nodo){return _c('icono-nodo-conocimiento',{key:nodo.id,attrs:{\"esteNodo\":nodo},nativeOn:{\"click\":function($event){_vm.idNodoSeleccionado=nodo.id}}})}),_c('buscador-nodos-conocimiento')],2)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"id\":\"controlesTrabajo\"}},[(_vm.usuarioResponsableProyecto==true)?_c('div',{staticClass:\"controlesTrabajo hoverGris\",on:{\"click\":_vm.eliminarse}},[_vm._v(\" Eliminar \")]):_vm._e()])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import gql from \"graphql-tag\"\n\nexport const fragmentoResponsables = gql`\nfragment fragResponsables on PublicUsuario {\n  id\n  username\n  nombres\n  apellidos\n  email\n  numeroTel\n  lugarResidencia\n}\n`;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoPersona\",class:{ yo: _vm.soyYo, seleccionado:_vm.seleccionado }},[_c('img',{attrs:{\"id\":\"fotografia\",\"src\":this.serverUrl + '/api/usuarios/fotografias/' + _vm.estaPersona.id,\"alt\":\"\"}}),_c('div',{attrs:{\"id\":\"nombres\"}},[_vm._v(_vm._s(_vm.estaPersona.nombres))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"iconoPersona\"\n    :class=\"{ yo: soyYo, seleccionado:seleccionado }\"\n  >\n    <img\n      id=\"fotografia\"\n      :src=\"this.serverUrl + '/api/usuarios/fotografias/' + estaPersona.id\"\n      alt=\"\"\n    />\n    <div id=\"nombres\">{{estaPersona.nombres}}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"IconoPersona\",\n  data() {\n    return {\n      \n    };\n  },\n  props: {\n    estaPersona: Object,\n    aceptado: Boolean,\n    seleccionado:Boolean\n  },\n  computed: {\n    soyYo: function () {\n      return this.$store.state.usuario.id == this.estaPersona.id ? true : false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.iconoPersona {\n  cursor: pointer;\n  position: relative;\n  border-radius: 50%;\n  user-select: none;\n  width: 70px;\n  height: 70px;\n  margin-bottom: 20px;\n\n}\n\n#fotografia {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  position: absolute;\n  pointer-events: none;\n}\n\n.yo {\n  border: 1px solid purple;\n}\n\n#nombres{\n  position: absolute;\n  top: 105%;\n  left:50%;\n  transform: translateX(-50%);\n  text-align: center;\n}\n.seleccionado{\n  border: 2px solid black;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersona.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersona.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoPersona.vue?vue&type=template&id=2b86dfba&scoped=true&\"\nimport script from \"./IconoPersona.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoPersona.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoPersona.vue?vue&type=style&index=0&id=2b86dfba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b86dfba\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"buscadorNodosConocimiento\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.palabraBuscada),expression:\"palabraBuscada\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Buscar\"},domProps:{\"value\":(_vm.palabraBuscada)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.palabraBuscada=$event.target.value}}}),_c('img',{attrs:{\"id\":\"imagenTentativa\",\"src\":\"\",\"alt\":\"\"}}),_c('div',{staticClass:\"opciones\"},_vm._l((_vm.opciones),function(opcion){return _c('div',{key:opcion.id,staticClass:\"opcion\"},[_vm._v(\" \"+_vm._s(opcion.nombre)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"buscadorNodosConocimiento\">\n    <input type=\"text\" placeholder=\"Buscar\" v-model=\"palabraBuscada\" />\n    <img id=\"imagenTentativa\" src=\"\" alt=\"\" />\n    <div class=\"opciones\">\n      <div class=\"opcion\" :key=\"opcion.id\" v-for=\"opcion of opciones\">\n        {{ opcion.nombre }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nvar charProhibidosNombre = /[^ a-zA-ZÀ-ž0-9_():.,-]/g;\n\nexport default {\n  name: \"BuscadorNodosConocimiento\",\n  data() {\n    return {\n      palabraBuscada: \"\",\n      cantidadPalabrasValidas: 0,\n      opciones: [],\n    };\n  },\n  watch: {\n    palabraBuscada: function (nueva) {\n      //   console.log(`nueva palabra: ${nueva}`);\n      nueva = nueva.trim();\n      nueva = nueva.replace(charProhibidosNombre, \"\");\n      nueva = nueva.replace(/\\s\\s+/g, \" \");\n\n      let palabras = nueva.split(\" \");\n      let palabrasValidas = [];\n      let indexValidas = 0;\n      for (let i = 0; i < palabras.length; i++) {\n        if (palabras[i].length >= 3) {\n          palabrasValidas[indexValidas] = palabras[i];\n          indexValidas++;\n        }\n      }\n      this.palabrasValidas = palabrasValidas;\n      this.cantidadPalabrasValidas = palabrasValidas.length;\n      console.log(`cantidad palabras validas: ${this.cantidadPalabrasValidas}`);\n    },\n    cantidadPalabrasValidas: function (actual, anterior) {\n      if (actual > anterior) {\n        console.log(`Descargando nuevas opciones`);\n        this.$apollo\n          .query({\n            query: gql`\n              query($palabrasBuscadas: [String]!) {\n                busquedaAmplia(palabrasBuscadas: $palabrasBuscadas) {\n                  id\n                  nombre\n                  resumen\n                }\n              }\n            `,\n            variables: {\n              palabrasBuscadas: this.palabrasValidas,\n            },\n            fetchPolicy: \"network-only\",\n          })\n          .then(({ data: { busquedaAmplia } }) => {\n            console.log(`respuesta: ${JSON.stringify(busquedaAmplia)}`);\n            this.opciones = busquedaAmplia;\n          })\n          .catch((error) => {\n            console.log(`Error: ${error}`);\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorNodosConocimiento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscadorNodosConocimiento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuscadorNodosConocimiento.vue?vue&type=template&id=0ee434dc&scoped=true&\"\nimport script from \"./BuscadorNodosConocimiento.vue?vue&type=script&lang=js&\"\nexport * from \"./BuscadorNodosConocimiento.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ee434dc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"iconoTrabajo\" :class=\"{ trabajoSeleccionado: seleccionado }\">\n    <div\n      id=\"nombre\"\n      ref=\"nombre\"\n      :contenteditable=\"permisosEdicion == true && seleccionado == true\"\n      @blur=\"guardarNombre\"\n      @input=\"setNombreEditandose\"\n      @keypress.enter=\"blurNombre\"\n    >\n      {{ esteTrabajo.nombre }}\n    </div>\n    <img src=\"iconos/iconoTrabajo.png\" alt=\"\" id=\"imagenIcono\" />\n\n    <template v-if=\"seleccionado\">\n      <div id=\"zonaDescripcion\">\n        <div class=\"nombreZona\">Descripcion</div>\n\n        <div\n          id=\"descripcion\"\n          ref=\"descripcion\"\n          :contenteditable=\"permisosEdicion == true && seleccionado == true\"\n          @blur=\"guardarDescripcion\"\n          @input=\"setDescripcionEditandose\"\n          @keypress.enter=\"blurDescripcion\"\n        >\n          {{ esteTrabajo.descripcion }}\n        </div>\n      </div>\n\n      <div id=\"zonaResponsables\" class=\"zonaPrimerNivel\">\n        <div class=\"nombreZona\">Responsables</div>\n        <div id=\"controlesResponsables\" class=\"controlesZona\">\n          <div\n            class=\"controlesResponsables hoverGris botonesControles\"\n            v-if=\"usuarioLogeado == true && usuarioResponsableTrabajo == false\"\n            id=\"botonParticipar\"\n            @click=\"asumirComoResponsable\"\n          >\n            Participar\n          </div>\n\n          <div\n            class=\"controlesResponsables hoverGris botonesControles\"\n            v-if=\"usuarioResponsableTrabajo == true\"\n            @click=\"abandonarListaResponsables\"\n          >\n            Abandonar\n          </div>\n        </div>\n        <div id=\"listaResponsables\">\n          <icono-persona\n            :estaPersona=\"persona\"\n            :aceptado=\"true\"\n            :key=\"persona.id\"\n            v-for=\"persona of esteTrabajo.responsables\"\n          />\n        </div>\n      </div>\n\n      <div id=\"zonaNodosConocimiento\" class=\"zonaPrimerNivel\">\n        <div class=\"nombreZona\">Nodos de conocimiento involucrados</div>\n        <div id=\"controlesNodosConocimiento\" class=\"controlesZona\">\n          <div\n            class=\"controlesNodosConocimiento hoverGris botonesControles\"\n            v-if=\"usuarioResponsableProyecto == true\"\n          >\n            Añadir\n          </div>\n          <div\n            class=\"controlesNodosConocimiento hoverGris botonesControles\"\n            v-if=\"usuarioResponsableProyecto == true && idNodoSeleccionado!=null && esteTrabajo.nodosConocimiento.some(n=>n.id==idNodoSeleccionado)\"\n          >\n            Remover\n          </div>\n        </div>\n        <div id=\"listaNodosConocimiento\" @click.self=\"idNodoSeleccionado=null\">\n          <icono-nodo-conocimiento\n            :esteNodo=\"nodo\"\n            :key=\"nodo.id\"\n            v-for=\"nodo of esteTrabajo.nodosConocimiento\"\n            @click.native=\"idNodoSeleccionado=nodo.id\"\n          />\n          <buscador-nodos-conocimiento/>\n        </div>\n      </div>\n\n      <div id=\"controlesTrabajo\" v-show=\"seleccionado\">\n        <div class=\"controlesTrabajo hoverGris\" @click=\"eliminarse\" v-if=\"usuarioResponsableProyecto==true\">\n          Eliminar\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\"\nimport {fragmentoResponsables} from \"../utilidades/recursosGql\"\nimport IconoPersona from \"./IconoPersona.vue\"\nimport BuscadorNodosConocimiento from '../atlasConocimiento/BuscadorNodosConocimiento.vue';\n\nvar charProhibidosNombre = /[^ a-zA-ZÀ-ž0-9_():.,-]/g;\n\nexport default {\n  name: \"IconoTrabajo\",\n  components:{\n    IconoPersona,\n    BuscadorNodosConocimiento\n  },\n  data() {\n    return {\n      nombreEditandose: false,\n      descripcionEditandose: false,\n      idNodoSeleccionado:null,\n    };\n  },\n  props: {\n    esteTrabajo: Object,\n    idEsteProyecto:String,\n    idTrabajoSeleccionado: String,\n    permisosEdicion: Boolean,\n    usuarioResponsableProyecto: Boolean,\n  },\n  computed: {\n    seleccionado: function () {\n      return this.idTrabajoSeleccionado == this.esteTrabajo.id ? true : false;\n    },\n    usuarioResponsableTrabajo: function () {\n      return this.esteTrabajo.responsables.some(r=>\n        r.id==this.$store.state.usuario.id\n      )\n        ? true\n        : false;\n    },\n  },\n  methods: {\n    asumirComoResponsable() {\n      console.log(\n        `enviando id ${this.$store.state.usuario.id} para la lista de responsables del trabajo con id ${this.esteTrabajo.id} en el proyecto con id ${this.idEsteProyecto}`\n      );\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $idTrabajo: ID!, $idUsuario: ID!) {\n              addResponsableTrabajo(\n                idProyecto: $idProyecto\n                idTrabajo:$idTrabajo\n                idUsuario: $idUsuario                \n              ) {\n                id\n                responsables {\n                  ...fragResponsables\n                }\n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idProyecto: this.idEsteProyecto,\n            idTrabajo: this.esteTrabajo.id,\n            idUsuario: this.$store.state.usuario.id,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    abandonarListaResponsables() {\n      console.log(`Abandonando este trabajo`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $idTrabajo:ID! $idUsuario: ID!) {\n              removeResponsableTrabajo(\n                idProyecto: $idProyecto\n                idTrabajo:$idTrabajo\n                idUsuario: $idUsuario\n              ) {\n                id\n                responsables {\n                  ...fragResponsables\n                }                \n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idProyecto: this.idEsteProyecto,\n            idTrabajo:this.esteTrabajo.id,\n            idUsuario: this.$store.state.usuario.id,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    eliminarse() {\n      this.$emit(\"eliminandose\", this.esteTrabajo.id);\n    },\n    setNombreEditandose() {\n      if (this.esteTrabajo.nombre != this.$refs.nombre.innerHTML.trim()) {\n        this.nombreEditandose = true;\n      } else {\n        this.nombreEditandose = false;\n      }\n    },\n    setDescripcionEditandose() {\n      this.descripcionEditandose = true;\n    },\n    blurNombre() {\n      this.$refs.nombre.blur();\n    },\n    blurDescripcion() {\n      this.$refs.descripcion.blur();\n    },\n    async guardarNombre() {\n      let nuevoNombre = this.$refs.nombre.innerHTML.trim();\n      let idTrabajo = this.esteTrabajo.id;\n\n      if (!this.nombreEditandose || nuevoNombre == this.esteTrabajo.nombre) {\n        return;\n      }\n\n      nuevoNombre = nuevoNombre.replace(charProhibidosNombre, \"\");\n      nuevoNombre = nuevoNombre.replace(/\\s\\s+/g, \" \");\n\n      this.$emit(\"cambiandoNombre\", { idTrabajo, nuevoNombre });\n    },\n    async guardarDescripcion() {\n      let nuevaDescripcion = this.$refs.descripcion.innerHTML.trim();\n      let idTrabajo = this.esteTrabajo.id;\n\n      if (\n        !this.descripcionEditandose ||\n        nuevaDescripcion == this.esteTrabajo.descripcion\n      ) {\n        return;\n      }\n\n      nuevaDescripcion = nuevaDescripcion.replace(charProhibidosNombre, \"\");\n      nuevaDescripcion = nuevaDescripcion.replace(/\\s\\s+/g, \" \");\n\n      this.$emit(\"cambiandoDescripcion\", { idTrabajo, nuevaDescripcion });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.iconoTrabajo {\n  border: 2px solid blue;\n  border-radius: 5px;\n  min-height: 50px;\n  cursor: pointer;\n  position: relative;\n  padding: 5px 10px;\n  padding-bottom: 20px;\n  background-color: rgb(230, 247, 247);\n}\n\n.trabajoSeleccionado {\n  padding-bottom: 40px;\n  box-shadow: 2px 2px 2px 2px rgb(54, 54, 54);\n}\n\n#controlesTrabajo {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  display: flex;\n  flex-direction: row-reverse;\n}\n.controlesTrabajo {\n  padding: 3px 5px;\n}\n#nombre {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  margin-top: 10px;\n  text-align: center;\n  font-weight: bold;\n  font-size: 18px;\n}\n#descripcion {\n  min-width: 100px;\n  min-height: 50px;\n  border: 2px solid pink;\n  padding: 3px 30px;\n}\n#imagenIcono {\n  width: 30px;\n  height: 30px;\n  margin-bottom: 10px;\n}\n.zonaPrimerNivel {\n  border: 2px solid black;\n}\n.controlesZona {\n  display: flex;\n  font-size: 13px;\n  flex-direction: row-reverse;\n}\n.botonesControles {\n  padding: 3px 5px;\n  cursor: pointer;\n}\n.nombreZona {\n  font-size: 18px;\n  background-color: rgb(199, 110, 8);\n  padding: 3px 5px;\n}\n#listaResponsables {\n  display: flex;\n}\n.iconoPersona {\n  margin-right: 10px;\n  margin-left: 5px;\n  vertical-align: middle;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoTrabajo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoTrabajo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoTrabajo.vue?vue&type=template&id=54b44ea3&scoped=true&\"\nimport script from \"./IconoTrabajo.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoTrabajo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoTrabajo.vue?vue&type=style&index=0&id=54b44ea3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54b44ea3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iconoObjetivo\",class:{ objetivoSeleccionado: _vm.seleccionado }},[_c('img',{attrs:{\"src\":\"iconos/iconoObjetivo.png\",\"alt\":\"\",\"id\":\"imagenIcono\"}}),_c('div',{ref:\"nombre\",attrs:{\"id\":\"nombre\",\"contenteditable\":_vm.permisosEdicion == true && _vm.seleccionado == true},on:{\"blur\":_vm.guardarNombre,\"input\":_vm.setNombreEditandose,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.blurNombre($event)}}},[_vm._v(\" \"+_vm._s(_vm.esteObjetivo.nombre)+\" \")]),(_vm.seleccionado)?_c('div',{attrs:{\"id\":\"zonaDescripcion\"}},[_vm._v(\" Descripcion: \"),_c('br'),_c('div',{ref:\"descripcion\",attrs:{\"id\":\"descripcion\",\"contenteditable\":_vm.permisosEdicion == true && _vm.seleccionado == true},on:{\"blur\":_vm.guardarDescripcion,\"input\":_vm.setDescripcionEditandose,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.blurDescripcion($event)}}},[_vm._v(\" \"+_vm._s(_vm.esteObjetivo.descripcion)+\" \")])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.seleccionado),expression:\"seleccionado\"}],attrs:{\"id\":\"controlesObjetivo\"}},[_c('div',{staticClass:\"controlesObjetivo hoverGris\",on:{\"click\":_vm.eliminarse}},[_vm._v(\" Eliminar \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"iconoObjetivo\" :class=\"{ objetivoSeleccionado: seleccionado }\">\n    <img src=\"iconos/iconoObjetivo.png\" alt=\"\" id=\"imagenIcono\" />\n\n    <div\n      id=\"nombre\"\n      ref=\"nombre\"\n      :contenteditable=\"permisosEdicion == true && seleccionado == true\"\n      @blur=\"guardarNombre\"\n      @input=\"setNombreEditandose\"\n      @keypress.enter=\"blurNombre\"\n    >\n      {{ esteObjetivo.nombre }}\n    </div>\n\n    <div id=\"zonaDescripcion\" v-if=\"seleccionado\">\n      Descripcion: <br />\n\n      <div\n        id=\"descripcion\"\n        ref=\"descripcion\"\n        :contenteditable=\"permisosEdicion == true && seleccionado == true\"\n        @blur=\"guardarDescripcion\"\n        @input=\"setDescripcionEditandose\"\n        @keypress.enter=\"blurDescripcion\"\n      >\n        {{ esteObjetivo.descripcion }}\n      </div>\n    </div>\n    <div id=\"controlesObjetivo\" v-show=\"seleccionado\">\n      <div class=\"controlesObjetivo hoverGris\" @click=\"eliminarse\">\n        Eliminar\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nvar charProhibidosNombre = /[^ a-zA-ZÀ-ž0-9_():.,-]/g;\nvar charProhibidosDescripcion = /[^ a-zA-ZÀ-ž0-9_():.,-¡!¿?\"'%$]/g;\n\nexport default {\n  name: \"IconoObjetivo\",\n  data() {\n    return {\n      nombreEditandose: false,\n      descripcionEditandose: false,\n    };\n  },\n  props: {\n    esteObjetivo: Object,\n    idObjetivoSeleccionado: String,\n    permisosEdicion: Boolean,\n  },\n  computed: {\n    seleccionado: function () {\n      return this.idObjetivoSeleccionado == this.esteObjetivo.id ? true : false;\n    },\n  },\n  methods: {\n    eliminarse() {\n        console.log(`emitiendo evento de elimacion de objetivo`);\n      this.$emit(\"eliminandose\", this.esteObjetivo.id);\n    },\n    setNombreEditandose() {\n      if (this.esteObjetivo.nombre != this.$refs.nombre.innerHTML.trim()) {\n        this.nombreEditandose = true;\n      } else {\n        this.nombreEditandose = false;\n      }\n    },\n    setDescripcionEditandose() {\n      this.descripcionEditandose = true;\n    },\n    blurNombre() {\n      this.$refs.nombre.blur();\n    },\n    blurDescripcion() {\n      this.$refs.descripcion.blur();\n    },\n    async guardarNombre() {\n      let nuevoNombre = this.$refs.nombre.innerHTML.trim();\n      let idObjetivo = this.esteObjetivo.id;\n\n      if (!this.nombreEditandose || nuevoNombre == this.esteObjetivo.nombre) {\n        return;\n      }\n\n      nuevoNombre = nuevoNombre.replace(charProhibidosNombre, \"\");\n      nuevoNombre = nuevoNombre.replace(/\\s\\s+/g, \" \");\n\n      this.$emit(\"cambiandoNombre\", { idObjetivo, nuevoNombre });\n    },\n    async guardarDescripcion() {\n      let nuevaDescripcion = this.$refs.descripcion.innerHTML.trim();\n      let idObjetivo = this.esteObjetivo.id;\n\n      if (\n        !this.descripcionEditandose ||\n        nuevaDescripcion == this.esteObjetivo.descripcion\n      ) {\n        return;\n      }\n\n      nuevaDescripcion = nuevaDescripcion.replace(charProhibidosDescripcion, \"\");\n      nuevaDescripcion = nuevaDescripcion.replace(/\\s\\s+/g, \" \");\n\n      this.$emit(\"cambiandoDescripcion\", { idObjetivo, nuevaDescripcion });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.iconoObjetivo {\n  border: 2px solid blue;\n  border-radius: 5px;\n  min-height: 10px;\n  cursor: pointer;\n  position: relative;\n  padding: 5px 10px;\n  padding-bottom: 10px;\n  background-color: rgb(230, 247, 247);\n}\n\n.objetivoSeleccionado {\n  box-shadow: 2px 2px 2px 2px rgb(54, 54, 54);\n  padding-bottom: 25px;\n}\n\n#controlesObjetivo {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  display: flex;\n  flex-direction: row-reverse;\n}\n.controlesObjetivo {\n  padding: 3px 5px;\n}\n#nombre {\n  padding: 10px 5px;\n  text-align: left;\n  font-weight: bold;\n  font-size: 18px;\n  margin-left: 35px;\n  \n}\n#descripcion {\n  min-width: 100px;\n  min-height: 50px;\n  border: 2px solid pink;\n  padding: 3px 30px;\n}\n#imagenIcono {\n  width: 30px;\n  height: 30px;\n  position: absolute;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoObjetivo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoObjetivo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconoObjetivo.vue?vue&type=template&id=a5a4c026&scoped=true&\"\nimport script from \"./IconoObjetivo.vue?vue&type=script&lang=js&\"\nexport * from \"./IconoObjetivo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconoObjetivo.vue?vue&type=style&index=0&id=a5a4c026&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5a4c026\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"proyecto\">\n    <div id=\"nombreProyecto\">{{ esteProyecto.nombre }}</div>\n\n    <div id=\"zonaResponsables\" class=\"zonaPrimerNivel\">\n      <div class=\"nombreZona\">Responsables</div>\n      <div id=\"controlesResponsables\" class=\"controlesZona\">\n        <div\n          class=\"controlesResponsables hoverGris botonesControles\"\n          v-if=\"usuarioLogeado == true && esteProyecto.responsables.length < 1\"\n          id=\"asumirResponsable\"\n          @click=\"asumirComoResponsable\"\n        >\n          Asumir\n        </div>\n        <div\n          class=\"controlesResponsables hoverGris botonesControles\"\n          v-if=\"\n            usuarioLogeado &&\n            !usuarioResponsableProyecto &&\n            !usuarioPosibleResponsableProyecto &&\n            esteProyecto.responsables.length > 0\n          \"\n          id=\"botonAddResponsable\"\n          @click=\"entrarListaPosiblesResponsables\"\n        >\n          Quiero hacerme responsable\n        </div>\n        <div\n          class=\"controlesResponsables hoverGris botonesControles\"\n          v-if=\"usuarioLogeado == true && (usuarioResponsableProyecto == true || usuarioPosibleResponsableProyecto==true)\"\n          @click=\"abandonarListaResponsables\"\n        >\n          Abandonar\n        </div>\n      </div>\n      <div id=\"listaResponsables\">\n        <icono-persona\n          :estaPersona=\"persona\"\n          :aceptado=\"true\"\n          :key=\"persona.id\"\n          v-for=\"persona of esteProyecto.responsables\"\n        />\n\n        <icono-persona\n          class=\"personaPosibleResponsable\"\n          :estaPersona=\"persona\"\n          :key=\"persona.id\"\n          :aceptado=\"false\"\n          v-for=\"persona of esteProyecto.posiblesResponsables\"\n          @dblclick.native.shift=\"aceptarResponsable(persona.id)\"\n        />\n      </div>\n    </div>\n\n    <div id=\"zonaObjetivos\" class=\"zonaPrimerNivel\">\n      <div class=\"nombreZona\">Objetivos</div>\n      <div id=\"controlesObjetivos\" class=\"controlesZona\">\n        <div\n          class=\"controlesObjetivos botonesControles hoverGris\"\n          v-if=\"usuarioResponsableProyecto\"\n          @click=\"crearNuevoObjetivo\"\n        >\n          Crear objetivo\n        </div>\n      </div>\n      <div id=\"listaObjetivos\" @click.self=\"idObjetivoSeleccionado = null\">\n        <iconoObjetivo\n          v-for=\"objetivo of esteProyecto.objetivos\"\n          :key=\"objetivo.id\"\n          :esteObjetivo=\"objetivo\"\n          :idObjetivoSeleccionado=\"idObjetivoSeleccionado\"\n          :permisosEdicion=\"permisosEdicion\"\n          @click.native=\"idObjetivoSeleccionado = objetivo.id\"\n          @eliminandose=\"eliminarObjetivo\"\n          @cambiandoNombre=\"cambiarNombreObjetivo\"\n          @cambiandoDescripcion=\"cambiarDescripcionObjetivo\"\n        />\n      </div>\n    </div>\n\n    <div id=\"zonaTrabajos\" class=\"zonaPrimerNivel\">\n      <div class=\"nombreZona\">Trabajos:</div>\n      <div id=\"controlesTrabajos\" class=\"controlesZona\">\n        <div\n          class=\"controlesTrabajos hoverGris botonesControles\"\n          @click=\"crearNuevoTrabajo\"\n          v-if=\"usuarioResponsableProyecto\"\n        >\n          Crear trabajo\n        </div>\n      </div>\n      <div id=\"listaTrabajos\" @click.self=\"idTrabajoSeleccionado = null\">\n        <iconoTrabajo\n          v-for=\"trabajo of esteProyecto.trabajos\"\n          :class=\"{opacar: (idTrabajoSeleccionado!=null && idTrabajoSeleccionado != trabajo.id)}\"\n          :key=\"trabajo.id\"\n          :esteTrabajo=\"trabajo\"\n          :idEsteProyecto=\"esteProyecto.id\"\n          :idTrabajoSeleccionado=\"idTrabajoSeleccionado\"\n          :permisosEdicion=\"permisosEdicion\"\n          :usuarioLogeado=\"usuarioLogeado\"\n          :usuarioResponsableProyecto=\"usuarioResponsableProyecto\"\n          @click.native=\"idTrabajoSeleccionado = trabajo.id\"\n          @eliminandose=\"eliminarTrabajo\"\n          @cambiandoNombre=\"cambiarNombreTrabajo\"\n          @cambiandoDescripcion=\"cambiarDescripcionTrabajo\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport IconoTrabajo from \"./proyecto/IconoTrabajo.vue\";\nimport IconoPersona from \"./proyecto/IconoPersona.vue\";\nimport IconoObjetivo from \"./proyecto/IconoObjetivo.vue\";\nimport {fragmentoResponsables} from \"./utilidades/recursosGql\"\n\n\nconst QUERY_PROYECTO = gql`\n  query($idProyecto: ID!) {\n    proyecto(idProyecto: $idProyecto) {\n      id\n      nombre\n      responsables {\n        ...fragResponsables\n      }\n      posiblesResponsables {\n        ...fragResponsables\n      }\n      trabajos {\n        id\n        nombre\n        descripcion\n        responsables {\n          ...fragResponsables\n        }\n      }\n      objetivos {\n        id\n        nombre\n        descripcion\n      }\n    }\n  }\n  ${fragmentoResponsables}\n`;\n\nexport default {\n  components: { IconoTrabajo, IconoPersona, IconoObjetivo },\n  name: \"proyecto\",\n  apollo: {\n    esteProyecto: {\n      query: QUERY_PROYECTO,\n      variables() {\n        return {\n          idProyecto: this.$route.params.idProyecto,\n        };\n      },\n      update(respuesta) {\n        return respuesta.proyecto;\n      },\n    },\n  },\n  data() {\n    return {\n      esteProyecto: {\n        responsables: [],\n      },\n      idTrabajoSeleccionado: null,\n      idObjetivoSeleccionado: null,\n    };\n  },\n  computed: {\n    usuarioResponsableProyecto: function () {\n      if (!this.esteProyecto.responsables) return false;\n\n      if (\n        this.esteProyecto.responsables.some(\n          (r) => r.id == this.$store.state.usuario.id\n        )\n      ) {\n        return true;\n      }\n      return false;\n    },\n    usuarioPosibleResponsableProyecto: function () {\n      if (!this.esteProyecto.posiblesResponsables) return false;\n\n      if (\n        this.esteProyecto.posiblesResponsables.some(\n          (pr) => pr.id == this.$store.state.usuario.id\n        )\n      ) {\n        return true;\n      }\n      return false;\n    },\n    permisosEdicion: function () {\n      if (\n        this.usuarioResponsableProyecto ||\n        this.$store.state.usuario.permisos == \"superadministrador\"\n      ) {\n        return true;\n      }\n      return false;\n    },\n    \n  },\n  methods: {\n    abandonarListaResponsables() {\n      console.log(`Abandonando la responsabilidad en este proyecto`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $idUsuario: ID!) {\n              removeResponsableProyecto(\n                idProyecto: $idProyecto\n                idUsuario: $idUsuario\n              ) {\n                id\n                responsables {\n                  ...fragResponsables\n                }\n                posiblesResponsables {\n                  ...fragResponsables\n                }\n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n            idUsuario: this.$store.state.usuario.id,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    aceptarResponsable(idPosibleResponsable) {\n      console.log(\n        `aceptando como responsable al usuario ${idPosibleResponsable}`\n      );\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $idUsuario: ID!) {\n              addResponsableProyecto(\n                idProyecto: $idProyecto\n                idUsuario: $idUsuario\n              ) {\n                id\n                responsables {\n                  ...fragResponsables\n                }\n                posiblesResponsables {\n                  ...fragResponsables\n                }\n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n            idUsuario: idPosibleResponsable,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    entrarListaPosiblesResponsables() {\n      console.log(\n        `Enviando peticion de entrar a la lista de posibles responsables del proyecto con id ${this.esteProyecto.id}`\n      );\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $idUsuario: ID!) {\n              addPosibleResponsableProyecto(idProyecto: $idProyecto, idUsuario: $idUsuario) {\n                id\n                posiblesResponsables {\n                  ...fragResponsables\n                }\n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n            idUsuario: this.$store.state.usuario.id,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    asumirComoResponsable() {\n      console.log(\n        `enviando id ${this.$store.state.usuario.id} para la lista de responsables del proyecto con id ${this.esteProyecto.id}`\n      );\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $idUsuario: ID!) {\n              addResponsableProyecto(\n                idProyecto: $idProyecto\n                idUsuario: $idUsuario\n              ) {\n                id\n                responsables {\n                  ...fragResponsables\n                }\n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n            idUsuario: this.$store.state.usuario.id,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    crearNuevoTrabajo() {\n      console.log(`enviando mutacion de crear nuevo trabajo`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!) {\n              crearTrabajoEnProyecto(idProyecto: $idProyecto) {\n                id\n                nombre\n                descripcion\n                responsables {\n                  ...fragResponsables\n                }\n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n          },\n          update: (store, { data: { crearTrabajoEnProyecto } }) => {\n            console.log(`respuesta: ${JSON.stringify(crearTrabajoEnProyecto)}`);\n            const nuevoTrabajo = crearTrabajoEnProyecto;\n            try {\n              let cache = store.readQuery({\n                query: QUERY_PROYECTO,\n                variables: { idProyecto: this.esteProyecto.id },\n              });\n              cache.proyecto.trabajos.push(nuevoTrabajo);\n\n              store.writeQuery({\n                query: QUERY_PROYECTO,\n                variables: { idProyecto: this.esteProyecto.id },\n                data: cache,\n              });\n              console.log(`cache actualizado`);\n            } catch (error) {\n              console.log(`Error actualizando cache: ${error}`);\n              return;\n            }\n          },\n        })\n        .then((respuesta) => {\n          console.log(`respuesta. ${respuesta}`);\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    eliminarTrabajo(idTrabajo) {\n      if (!this.esteProyecto.trabajos.some((t) => t.id == idTrabajo)) return;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idTrabajo: ID!, $idProyecto: ID!) {\n              eliminarTrabajoDeProyecto(\n                idProyecto: $idProyecto\n                idTrabajo: $idTrabajo\n              )\n            }\n          `,\n          variables: {\n            idTrabajo,\n            idProyecto: this.esteProyecto.id,\n          },\n          update: (store, { data: { eliminarTrabajoDeProyecto } }) => {\n            console.log(`data: ${JSON.stringify(eliminarTrabajoDeProyecto)}`);\n            let eliminado = eliminarTrabajoDeProyecto;\n\n            if (eliminado) {\n              try {\n                let cache = store.readQuery({\n                  query: QUERY_PROYECTO,\n                  variables: { idProyecto: this.esteProyecto.id },\n                });\n                let indexE = cache.proyecto.trabajos.findIndex(\n                  (t) => t.id == idTrabajo\n                );\n                if (indexE > -1) {\n                  cache.proyecto.trabajos.splice(indexE, 1);\n                }\n                store.writeQuery({\n                  query: QUERY_PROYECTO,\n                  variables: { idProyecto: this.esteProyecto.id },\n                  data: cache,\n                });\n              } catch (error) {\n                console.log(`Error actualizando cache`);\n              }\n            }\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    cambiarNombreTrabajo({ idTrabajo, nuevoNombre }) {\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!, $idTrabajo: ID!, $nuevoNombre: String!) {\n              cambiarNombreTrabajo(\n                idProyecto: $idProyecto\n                idTrabajo: $idTrabajo\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                nombre\n              }\n            }\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n            idTrabajo,\n            nuevoNombre,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    cambiarDescripcionTrabajo({ idTrabajo, nuevaDescripcion }) {\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idProyecto: ID!\n              $idTrabajo: ID!\n              $nuevaDescripcion: String!\n            ) {\n              cambiarDescripcionTrabajo(\n                idProyecto: $idProyecto\n                idTrabajo: $idTrabajo\n                nuevaDescripcion: $nuevaDescripcion\n              ) {\n                id\n                descripcion\n              }\n            }\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n            idTrabajo,\n            nuevaDescripcion,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    crearNuevoObjetivo() {\n      console.log(`enviando mutacion de crear nuevo objetivo`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idProyecto: ID!) {\n              crearObjetivoEnProyecto(idProyecto: $idProyecto) {\n                id\n                nombre\n                descripcion\n              }\n            }\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n          },\n          update: (store, { data: { crearObjetivoEnProyecto } }) => {\n            console.log(\n              `respuesta: ${JSON.stringify(crearObjetivoEnProyecto)}`\n            );\n            const nuevoObjetivo = crearObjetivoEnProyecto;\n            try {\n              let cache = store.readQuery({\n                query: QUERY_PROYECTO,\n                variables: { idProyecto: this.esteProyecto.id },\n              });\n              console.log(`cache: ${JSON.stringify(cache)}`);\n              cache.proyecto.objetivos.push(nuevoObjetivo);\n              console.log(`cache: ${JSON.stringify(cache)}`);\n\n              store.writeQuery({\n                query: QUERY_PROYECTO,\n                variables: { idProyecto: this.esteProyecto.id },\n                data: cache,\n              });\n              console.log(`cache actualizado`);\n            } catch (error) {\n              console.log(`Error actualizando cache: ${error}`);\n              return;\n            }\n          },\n        })\n        .then((respuesta) => {\n          console.log(`respuesta. ${respuesta}`);\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    eliminarObjetivo(idObjetivo) {\n      if (!this.esteProyecto.objetivos.some((t) => t.id == idObjetivo)) return;\n\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idObjetivo: ID!, $idProyecto: ID!) {\n              eliminarObjetivoDeProyecto(\n                idProyecto: $idProyecto\n                idObjetivo: $idObjetivo\n              )\n            }\n          `,\n          variables: {\n            idObjetivo,\n            idProyecto: this.esteProyecto.id,\n          },\n          update: (store, { data: { eliminarObjetivoDeProyecto } }) => {\n            console.log(`data: ${JSON.stringify(eliminarObjetivoDeProyecto)}`);\n            let eliminado = eliminarObjetivoDeProyecto;\n\n            if (eliminado) {\n              try {\n                let cache = store.readQuery({\n                  query: QUERY_PROYECTO,\n                  variables: { idProyecto: this.esteProyecto.id },\n                });\n                let indexE = cache.proyecto.objetivos.findIndex(\n                  (o) => o.id == idObjetivo\n                );\n                if (indexE > -1) {\n                  cache.proyecto.objetivos.splice(indexE, 1);\n                }\n                store.writeQuery({\n                  query: QUERY_PROYECTO,\n                  variables: { idProyecto: this.esteProyecto.id },\n                  data: cache,\n                });\n              } catch (error) {\n                console.log(`Error actualizando cache`);\n              }\n            }\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    cambiarNombreObjetivo({ idObjetivo, nuevoNombre }) {\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idProyecto: ID!\n              $idObjetivo: ID!\n              $nuevoNombre: String!\n            ) {\n              cambiarNombreObjetivo(\n                idProyecto: $idProyecto\n                idObjetivo: $idObjetivo\n                nuevoNombre: $nuevoNombre\n              ) {\n                id\n                nombre\n              }\n            }\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n            idObjetivo,\n            nuevoNombre,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    cambiarDescripcionObjetivo({ idObjetivo, nuevaDescripcion }) {\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation(\n              $idProyecto: ID!\n              $idObjetivo: ID!\n              $nuevaDescripcion: String!\n            ) {\n              cambiarDescripcionObjetivo(\n                idProyecto: $idProyecto\n                idObjetivo: $idObjetivo\n                nuevaDescripcion: $nuevaDescripcion\n              ) {\n                id\n                descripcion\n              }\n            }\n          `,\n          variables: {\n            idProyecto: this.esteProyecto.id,\n            idObjetivo,\n            nuevaDescripcion,\n          },\n        })\n        .then((data) => {\n          console.log(`fin de la mutacion. Data: ${JSON.stringify(data)} `);\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.proyecto {\n  padding: 5px 10px;\n}\n\n\n#nombreProyecto {\n  margin-top: 15px;\n  font-size: 23px;\n  font-weight: bolder;\n  text-align: center;\n  margin-bottom: 15px;\n}\n#zonaResponsables {\n  min-height: 40px;\n  align-items: center;\n}\n.zonaPrimerNivel {\n  border: 2px solid black;\n}\n\n#listaTrabajos {\n  padding: 10px 25px;\n}\n.iconoTrabajo {\n  margin-bottom: 30px;\n}\n.opacar{\n  opacity: 0.3;\n}\n#listaObjetivos {\n  padding: 10px 25px;\n}\n.iconoObjetivo {\n  margin-bottom: 30px;\n}\n.controlesZona {\n  display: flex;\n  font-size: 13px;\n  flex-direction: row-reverse;\n}\n.botonesControles {\n  padding: 3px 5px;\n  cursor: pointer;\n}\n.nombreZona {\n  font-size: 18px;\n  background-color: teal;\n  padding: 3px 5px;\n}\n#listaResponsables {\n  display: flex;\n}\n.iconoPersona {\n  margin-right: 10px;\n  margin-left: 5px;\n  vertical-align: middle;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n.personaPosibleResponsable{\n  opacity: 0.5;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyecto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyecto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Proyecto.vue?vue&type=template&id=9538ec36&scoped=true&\"\nimport script from \"./Proyecto.vue?vue&type=script&lang=js&\"\nexport * from \"./Proyecto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Proyecto.vue?vue&type=style&index=0&id=9538ec36&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9538ec36\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"registro\"},[_c('div',{attrs:{\"id\":\"zonaDatosPersonales\"}},[_c('h3',[_vm._v(\"Información Personal\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.nombres),expression:\"datosRegistro.nombres\"}],attrs:{\"type\":\"text\",\"name\":\"nombres\",\"placeholder\":\"Nombres\"},domProps:{\"value\":(_vm.datosRegistro.nombres)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"nombres\", $event.target.value)}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.apellidos),expression:\"datosRegistro.apellidos\"}],attrs:{\"type\":\"text\",\"name\":\"apellidos\",\"placeholder\":\"Apellidos\"},domProps:{\"value\":(_vm.datosRegistro.apellidos)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"apellidos\", $event.target.value)}}}),_c('br'),_c('br'),_c('label',{attrs:{\"for\":\"fechaNacimiento\"}},[_vm._v(\"Fecha de nacimiento\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.fechaNacimiento),expression:\"datosRegistro.fechaNacimiento\"}],attrs:{\"type\":\"date\",\"name\":\"fechaNacimiento\"},domProps:{\"value\":(_vm.datosRegistro.fechaNacimiento)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"fechaNacimiento\", $event.target.value)}}}),_c('br')]),_c('div',{attrs:{\"id\":\"zonaContacto\"}},[_c('h3',[_vm._v(\"Datos de contacto\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.email),expression:\"datosRegistro.email\"}],attrs:{\"type\":\"email\",\"placeholder\":\"Correo electrónico\"},domProps:{\"value\":(_vm.datosRegistro.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"email\", $event.target.value)}}}),_c('br'),_c('br'),_c('label',{attrs:{\"for\":\"numeroTel\"}},[_vm._v(\"Número telefónico\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.numeroTel),expression:\"datosRegistro.numeroTel\"}],attrs:{\"type\":\"text\",\"name\":\"numeroTel\"},domProps:{\"value\":(_vm.datosRegistro.numeroTel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"numeroTel\", $event.target.value)}}}),_c('br'),_c('br'),_c('label',{attrs:{\"for\":\"lugarResidencia\"}},[_vm._v(\"Lugar de residencia\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.lugarResidencia),expression:\"datosRegistro.lugarResidencia\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Lugar de residencia\"},domProps:{\"value\":(_vm.datosRegistro.lugarResidencia)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"lugarResidencia\", $event.target.value)}}})]),_c('div',{attrs:{\"id\":\"zonaLogin\"}},[_c('h3',[_vm._v(\"Datos de login\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.username),expression:\"datosRegistro.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"nombre de usuario\",\"name\":\"username\"},domProps:{\"value\":(_vm.datosRegistro.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"username\", $event.target.value)}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.datosRegistro.password),expression:\"datosRegistro.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"password\",\"name\":\"password\"},domProps:{\"value\":(_vm.datosRegistro.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.datosRegistro, \"password\", $event.target.value)}}}),_c('br')]),_c('button',{on:{\"click\":_vm.enviarRegistro}},[_vm._v(\"Enviar\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"registro\">\n    <div id=\"zonaDatosPersonales\">\n      <h3>Información Personal</h3>\n      <input\n        v-model=\"datosRegistro.nombres\"\n        type=\"text\"\n        name=\"nombres\"\n        placeholder=\"Nombres\"\n      /><br />\n      <input\n        v-model=\"datosRegistro.apellidos\"\n        type=\"text\"\n        name=\"apellidos\"\n        placeholder=\"Apellidos\"\n      /><br /><br />\n      <label for=\"fechaNacimiento\">Fecha de nacimiento</label><br />\n      <input\n        v-model=\"datosRegistro.fechaNacimiento\"\n        type=\"date\"\n        name=\"fechaNacimiento\"\n      /><br />\n    </div>\n\n    <div id=\"zonaContacto\">\n      <h3>Datos de contacto</h3>\n      <input\n        v-model=\"datosRegistro.email\"\n        type=\"email\"\n        placeholder=\"Correo electrónico\"\n      /><br /><br />\n      <label for=\"numeroTel\">Número telefónico</label><br />\n      <input v-model=\"datosRegistro.numeroTel\" type=\"text\" name=\"numeroTel\" /><br /><br />\n      <label for=\"lugarResidencia\">Lugar de residencia</label><br />\n      <input\n        v-model=\"datosRegistro.lugarResidencia\"\n        type=\"text\"\n        placeholder=\"Lugar de residencia\"\n      />\n    </div>\n\n    <div id=\"zonaLogin\">\n      <h3>Datos de login</h3>\n      <input\n        type=\"text\"\n        placeholder=\"nombre de usuario\"\n        name=\"username\"\n        v-model=\"datosRegistro.username\"\n      /><br />\n      <input\n        type=\"password\"\n        placeholder=\"password\"\n        name=\"password\"\n        v-model=\"datosRegistro.password\"\n      /><br />\n    </div>\n\n    <button @click=\"enviarRegistro\">Enviar</button>\n  </div>\n</template>\n\n<script>\nvar charProhibidos = /[^ a-zA-ZÀ-ž0-9_():.,-]/g;\nvar charProhibidosNombre = /[^ a-zA-ZÀ-ž]/g;\nvar charProhibidosNumeroTel = /[^0-9+-]/g;\nvar emailChars = /\\S+@\\S+\\.\\S+/;\nvar dateChars = /[12][90][0-9][0-9]-[01][0-9]-[0-3][0-9]/;\nimport axios from \"axios\";\nimport { validarDatosUsuario } from \"./utilidades/validacionDatosUsuario\";\n\nexport default {\n  name: \"Registro\",\n  data() {\n    return {\n      datosRegistro: {\n        nombres: null,\n        apellidos: null,\n        fechaNacimiento: null,\n        email: null,\n        numeroTel: null,\n        lugarResidencia: null,\n        username: null,\n        password: null,\n      },\n    }\n  },\n  methods: {\n    enviarRegistro() {\n      let dis = this;\n      let errores = validarDatosUsuario(this.datosRegistro);\n      if (errores.length<1) {\n        axios\n          .post(this.serverUrl + \"/api/usuarios/registro\", {\n            usuario: this.datosRegistro,\n          })\n          .then(function (respuesta) {\n            console.log(`respuesta: ${JSON.stringify(respuesta.data)}`);\n            if (respuesta.data.registro) {\n              console.log(`Registro ok`);\n              dis.$router.push(\"/login\");\n            }\n          })\n          .catch(function (error) {\n            console.log(`error: ${error}`);\n          });\n      }\n      else{\n        console.log(`Errores: ${errores}`);\n      }\n    },\n    validarDatos() {\n      var errores = 0;\n\n      this.nombres = this.nombres.trim();\n      this.apellidos = this.apellidos.trim();\n      this.fechaNacimiento = this.fechaNacimiento.trim();\n      this.email = this.email.trim();\n      this.numeroTel = this.numeroTel.trim();\n      this.lugarResidencia = this.lugarResidencia.trim();\n\n      if (this.nombres.length < 2) {\n        this.alertar(\"Tu nombre es muy corto\");\n        errores++;\n      }\n      if (charProhibidosNombre.test(this.nombres)) {\n        this.alertar(\"Tu nombre contiene caracteres no permitidos\");\n        errores++;\n      }\n      if (this.apellidos.length < 2) {\n        this.alertar(\"Tu apellido es muy corto\");\n        errores++;\n      }\n      if (charProhibidosNombre.test(this.apellidos)) {\n        this.alertar(\"Tu apellido contiene caracteres no permitidos\");\n        errores++;\n      }\n\n      if (!dateChars.test(this.fechaNacimiento)) {\n        this.alertar(\"Tu fecha de nacimiento es incorrecta\");\n        errores++;\n      }\n\n      if (this.email.length > 0 && !emailChars.test(this.email)) {\n        this.alertar(\"Tu e-mail no es válido\");\n        errores++;\n      }\n\n      if (charProhibidosNumeroTel.test(this.numeroTel)) {\n        this.alertar(\"Tu número telefónico no es válido\");\n        errores++;\n      }\n\n      if (this.lugarResidencia.length < 2) {\n        this.alertar(\"Tu lugar de residencia es muy corto\");\n        errores++;\n      }\n      if (charProhibidos.test(this.lugarResidencia)) {\n        this.alertar(\n          \"Tu lugar de residencia contiene caracteres no permitidos\"\n        );\n        errores++;\n      }\n      if (this.username.length < 4) {\n        this.alertar(\"Tu nombre de usuario es muy corto\");\n        errores++;\n      }\n      if (charProhibidos.test(this.username)) {\n        this.alertar(\"Tu nombre de usuario contiene caracteres no permitidos\");\n        errores++;\n      }\n      if (this.password.length < 6 || this.password.length > 32) {\n        this.alertar(\"Tu contraseña debe contener entre 6 y 32 caracteres\");\n        errores++;\n      }\n\n      if (errores > 0) {\n        return false;\n      }\n      return true;\n    },\n    alertar(msj) {\n      console.log(msj);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.registro {\n  padding-left: 15%;\n  padding-top: 5%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Registro.vue?vue&type=template&id=3a9752f1&scoped=true&\"\nimport script from \"./Registro.vue?vue&type=script&lang=js&\"\nexport * from \"./Registro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Registro.vue?vue&type=style&index=0&id=3a9752f1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a9752f1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"actividadesProfes\"},[_c('div',{attrs:{\"id\":\"vistaProfe\"}},[_c('div',{attrs:{\"id\":\"barraGrupos\"}},_vm._l((_vm.gruposEstudiantiles),function(grupo){return _c('div',{key:grupo.id,staticClass:\"selectorGrupoEstudiantil\"},[_vm._v(\" \"+_vm._s(grupo.nombre)+\" \")])}),0),_c('div',{attrs:{\"id\":\"contenidosGrupos\"}},_vm._l((_vm.gruposEstudiantiles),function(grupo){return _c('contenido-grupo-profe',{key:grupo.id,attrs:{\"esteGrupo\":grupo}})}),1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contenidoGrupoProfe\"},[_c('div',{staticClass:\"zonaPrimerNivel\",attrs:{\"id\":\"zonaEstudiantes\"}},[_c('div',{staticClass:\"nombreZona\"},[_vm._v(\"Estudiantes\")]),_c('div',{staticClass:\"controlesZona\",attrs:{\"id\":\"controlesEstudiantes\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.idEstudianteAñadir),expression:\"idEstudianteAñadir\"}],ref:\"idEstudianteAñadir\",attrs:{\"type\":\"text\",\"placeholder\":\"id de estudiante\"},domProps:{\"value\":(_vm.idEstudianteAñadir)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.idEstudianteAñadir=$event.target.value}}}),(_vm.usuarioSuperadministrador == true)?_c('div',{staticClass:\"controlesEstudiantes hoverGris botonesControles\",on:{\"click\":_vm.addEstudianteGrupo}},[_vm._v(\" Añadir estudiante \")]):_vm._e(),(_vm.usuarioSuperadministrador == true)?_c('div',{staticClass:\"controlesEstudiantes hoverGris botonesControles\",class:{desactivado: _vm.idEstudianteSeleccionado==null},on:{\"click\":function($event){return _vm.removeEstudianteGrupo(_vm.idEstudianteSeleccionado)}}},[_vm._v(\" Retirar estudiante \")]):_vm._e()]),_c('div',{attrs:{\"id\":\"listaEstudiantes\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.idEstudianteSeleccionado=null}}},_vm._l((_vm.esteGrupo.estudiantes),function(persona){return _c('icono-persona',{key:persona.id,attrs:{\"estaPersona\":persona,\"seleccionado\":_vm.idEstudianteSeleccionado == persona.id ? true :false},nativeOn:{\"click\":function($event){_vm.idEstudianteSeleccionado=persona.id}}})}),1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"contenidoGrupoProfe\">\n    <div id=\"zonaEstudiantes\" class=\"zonaPrimerNivel\">\n      <div class=\"nombreZona\">Estudiantes</div>\n      <div id=\"controlesEstudiantes\" class=\"controlesZona\">\n        <input\n          type=\"text\"\n          ref=\"idEstudianteAñadir\"\n          v-model=\"idEstudianteAñadir\"\n          placeholder=\"id de estudiante\"\n        />\n        <div\n          class=\"controlesEstudiantes hoverGris botonesControles\"\n          v-if=\"usuarioSuperadministrador == true\"\n          @click=\"addEstudianteGrupo\"\n        >\n          Añadir estudiante\n        </div>\n\n        <div\n          class=\"controlesEstudiantes hoverGris botonesControles\"\n          v-if=\"usuarioSuperadministrador == true\"\n          :class=\"{desactivado: idEstudianteSeleccionado==null}\"\n          @click=\"removeEstudianteGrupo(idEstudianteSeleccionado)\"\n        >\n          Retirar estudiante\n        </div>\n      </div>\n      <div id=\"listaEstudiantes\" @click.self=\"idEstudianteSeleccionado=null\">\n        <icono-persona\n          :estaPersona=\"persona\"\n          :key=\"persona.id\"\n          v-for=\"persona of esteGrupo.estudiantes\"\n          :seleccionado=\"idEstudianteSeleccionado == persona.id ? true :false\"\n          @click.native=\"idEstudianteSeleccionado=persona.id\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport IconoPersona from \"../proyecto/IconoPersona\";\nimport gql from \"graphql-tag\";\nimport { fragmentoResponsables } from \"../utilidades/recursosGql\";\n\nexport default {\n  name: \"ContenidoGrupoProfe\",\n  components: {\n    IconoPersona,\n  },\n  data() {\n    return { idEstudianteAñadir: null, idEstudianteSeleccionado: null };\n  },\n  props: {\n    esteGrupo: Object,\n  },\n  methods: {\n    addEstudianteGrupo() {\n      console.log(`añadiendo usuario a un grupo estudiantil`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idGrupoEstudiantil: ID!, $idEstudiante: ID!) {\n              addEstudianteGrupoEstudiantil(\n                idGrupoEstudiantil: $idGrupoEstudiantil\n                idEstudiante: $idEstudiante\n              ) {\n                id\n                estudiantes {\n                  ...fragResponsables\n                }\n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idGrupoEstudiantil: this.esteGrupo.id,\n            idEstudiante: this.idEstudianteAñadir,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    },\n    removeEstudianteGrupo(idEstudiante) {\n      console.log(`Retirando el estudiante con id ${idEstudiante} del grupo con id ${this.esteGrupo.id}`);\n      this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation($idGrupo: ID!, $idEstudiante: ID!) {\n              removeEstudianteGrupoEstudiantil(\n                idGrupo: $idGrupo\n                idEstudiante: $idEstudiante\n              ) {\n                id\n                estudiantes {\n                  ...fragResponsables\n                }\n              }\n            }\n            ${fragmentoResponsables}\n          `,\n          variables: {\n            idGrupo: this.esteGrupo.id,\n            idEstudiante,\n          },\n        })\n        .then(() => {})\n        .catch((error) => {\n          console.log(\"error: \" + error);\n        });\n    }\n  },\n};\n\n</script>\n\n<style scoped>\n.contenidoGrupoProfe {\n  border: 2px solid blue;\n  border-radius: 5px;\n  min-height: 50px;\n  cursor: pointer;\n  position: relative;\n  padding: 5px 10px;\n  background-color: rgb(230, 247, 247);\n}\n#listaEstudiantes {\n  padding-bottom: 40px;\n  display: flex;\n}\n\n.iconoPersona{\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.zonaPrimerNivel {\n  border: 2px solid rgb(199, 110, 8);\n}\n.controlesZona {\n  display: flex;\n  font-size: 13px;\n  flex-direction: row-reverse;\n}\n.botonesControles {\n  padding: 3px 5px;\n  cursor: pointer;\n}\n.nombreZona {\n  font-size: 18px;\n  background-color: rgb(199, 110, 8);\n  padding: 3px 5px;\n  border-width: 0px;\n}\n.desactivado{\n  opacity: 0.5;\n  pointer-events: none;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContenidoGrupoProfe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContenidoGrupoProfe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContenidoGrupoProfe.vue?vue&type=template&id=b803cdb4&scoped=true&\"\nimport script from \"./ContenidoGrupoProfe.vue?vue&type=script&lang=js&\"\nexport * from \"./ContenidoGrupoProfe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContenidoGrupoProfe.vue?vue&type=style&index=0&id=b803cdb4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b803cdb4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"actividadesProfes\">\n    <div id=\"vistaProfe\">\n      <div id=\"barraGrupos\">\n        <div\n          class=\"selectorGrupoEstudiantil\"\n          :key=\"grupo.id\"\n          v-for=\"grupo of gruposEstudiantiles\"\n        >\n          {{ grupo.nombre }}\n        </div>\n      </div>\n      <div id=\"contenidosGrupos\">\n          <contenido-grupo-profe v-for=\"grupo of gruposEstudiantiles\" :key=\"grupo.id\" :esteGrupo=\"grupo\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport ContenidoGrupoProfe from './actividadesProfes/ContenidoGrupoProfe.vue';\nimport { fragmentoResponsables } from \"./utilidades/recursosGql\";\n\nexport default {\n  name: \"ActividadesProfe\",\n  components:{\n    ContenidoGrupoProfe,\n  },\n  apollo: {\n    gruposEstudiantiles: {\n      query: gql`\n        query {\n          gruposEstudiantiles {\n            id\n            nombre\n            estudiantes{\n              ...fragResponsables\n            }            \n          }\n        }\n        ${fragmentoResponsables}\n      `,\n      update: function({gruposEstudiantiles}){\n          console.log(`Respuesta. ${JSON.stringify(gruposEstudiantiles)}`);\n          return gruposEstudiantiles;\n      }\n    },\n  },\n  data() {\n    return {\n      gruposEstudiantiles: [],\n    };\n  },\n};\n</script>\n\n<style scoped>\n#vistaProfe {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 150px 1fr;\n}\n\n#barraGrupos {\n  grid-column: 1/2;\n  background-color: burlywood;\n}\n.selectorGrupoEstudiantil {\n  font-size: 18px;\n  padding: 10px 10px;\n  cursor: pointer;\n}\n.selectorGrupoEstudiantil:hover {\n  background-color: cornsilk;\n}\n\n#contenidoGrupo {\n  grid-column: 2/3;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActividadesProfes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActividadesProfes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActividadesProfes.vue?vue&type=template&id=294b6e62&scoped=true&\"\nimport script from \"./ActividadesProfes.vue?vue&type=script&lang=js&\"\nexport * from \"./ActividadesProfes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ActividadesProfes.vue?vue&type=style&index=0&id=294b6e62&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"294b6e62\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"personas\"},[_c('div',{attrs:{\"id\":\"listaPersonas\"}},_vm._l((_vm.personas),function(persona){return _c('icono-persona',{key:persona.id,attrs:{\"estaPersona\":persona}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"personas\">\n    <div id=\"listaPersonas\">\n      <icono-persona\n        v-for=\"persona of personas\"\n        :key=\"persona.id\"\n        :estaPersona=\"persona\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport { fragmentoResponsables } from \"./utilidades/recursosGql\";\nimport IconoPersona from \"./proyecto/IconoPersona\";\n\nexport default {\n  name: \"Personas\",\n  components: {\n    IconoPersona,\n  },\n  apollo: {\n    personas: {\n      query: gql`\n        query {\n          todosUsuarios {\n            ...fragResponsables\n          }\n        }\n        ${fragmentoResponsables}\n      `,\n      update: function({todosUsuarios}){\n          return todosUsuarios\n      }\n    },\n  },\n  data() {\n    return {\n      personas: [],\n    };\n  },\n};\n</script>\n\n<style scoped>\n#listaPersonas{\n    display: flex;\n    padding: 20px 20px;\n}\n.iconoPersona{\n    margin-left: 10px;\n    margin-right:10px;\n    border:1px solid black;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Personas.vue?vue&type=template&id=f604c8ae&scoped=true&\"\nimport script from \"./Personas.vue?vue&type=script&lang=js&\"\nexport * from \"./Personas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Personas.vue?vue&type=style&index=0&id=f604c8ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f604c8ae\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\nimport Router from \"vue-router\"\nimport atlasConocimiento from \"./components/AtlasConocimiento.vue\"\nimport loginArea from \"./components/LoginArea.vue\"\nimport perfilPersonal from \"./components/PerfilPersonal.vue\"\nimport VisorNodoConocimiento from \"./components/VisorNodoConocimiento.vue\"\nimport Proyectos from \"./components/Proyectos.vue\"\nimport Proyecto from \"./components/Proyecto.vue\"\nimport Registro from \"./components/Registro.vue\"\nimport ActividadesProfes from \"./components/ActividadesProfes.vue\"\nimport Personas from \"./components/Personas.vue\"\n\nVue.use(Router);\n\nconst routes=[\n    {path:\"/atlas\", name:\"atlas\", component:atlasConocimiento},\n    {path:\"/login\", name:\"loginArea\", component: loginArea},\n    {path:\"/miperfil\", name:\"perfilPersonal\", component: perfilPersonal},\n    {path:\"/nodoConocimiento/:idNodo\", component: VisorNodoConocimiento},\n    {path:\"/proyectos\", name:\"proyectos\", component: Proyectos },\n    {path:\"/proyecto/:idProyecto\", name:\"verProyecto\", component: Proyecto},\n    {path:\"/registro\", name:\"registro\", component: Registro},\n    {path:\"/actividadesVirtuales2021\", component: ActividadesProfes},\n    {path:\"/personas\", name:\"personas\", component: Personas}\n];\n\nexport const router=new Router({\n    routes\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport store from \"./store/index\"\nimport {apolloProvider} from \"./apollo\"\nimport {router} from \"./Router\"\n\nVue.mixin({\n  data(){\n    return {\n      serverUrl:\"http://localhost:3000\",\n    }\n  },\n  computed:{\n    authHeader: function(){\n      let infoSesion=localStorage.getItem(\"sesionUsuario\");\n      if(!infoSesion)return null;\n      infoSesion=JSON.parse(infoSesion);\n      if(!infoSesion.token){\n        return null;\n      }\n      console.log(`introduciendo header: ${infoSesion.token}`);\n        return { \n          Authorization: \"Bearer \"+infoSesion.token\n        }\n    },\n    usuarioLogeado: function () {\n      return this.$store.state.usuario.id ? true : false;\n    },\n    usuarioAdministrador: function(){\n      return (this.$store.state.usuario.permisos==\"administrador\" || this.$store.state.usuario.permisos==\"superadministrador\")? true: false\n    },\n    usuarioSuperadministrador:function(){\n      return (this.$store.state.usuario.permisos==\"superadministrador\")? true: false\n    }\n  }\n})\n\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n  store,\n  apolloProvider,\n  router\n}).$mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoPersona.vue?vue&type=style&index=0&id=2b86dfba&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodoConocimiento.vue?vue&type=style&index=0&id=b4cf5dae&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personas.vue?vue&type=style&index=0&id=f604c8ae&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginArea.vue?vue&type=style&index=0&id=40d0f7d4&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContenidoGrupoProfe.vue?vue&type=style&index=0&id=b803cdb4&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoProyecto.vue?vue&type=style&index=0&id=b67c2b02&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActividadesProfes.vue?vue&type=style&index=0&id=294b6e62&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Proyecto.vue?vue&type=style&index=0&id=9538ec36&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisorNodoConocimiento.vue?vue&type=style&index=0&id=2324a55e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconoTrabajo.vue?vue&type=style&index=0&id=54b44ea3&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registro.vue?vue&type=style&index=0&id=3a9752f1&scoped=true&lang=css&\""],"sourceRoot":""}